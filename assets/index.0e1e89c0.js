var Kw=Object.defineProperty,Zw=Object.defineProperties;var Qw=Object.getOwnPropertyDescriptors;var Hs=Object.getOwnPropertySymbols;var y_=Object.prototype.hasOwnProperty,b_=Object.prototype.propertyIsEnumerable;var v_=(e,t,r)=>t in e?Kw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Qe=(e,t)=>{for(var r in t||(t={}))y_.call(t,r)&&v_(e,r,t[r]);if(Hs)for(var r of Hs(t))b_.call(t,r)&&v_(e,r,t[r]);return e},_r=(e,t)=>Zw(e,Qw(t));var Hi=(e,t)=>{var r={};for(var n in e)y_.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Hs)for(var n of Hs(e))t.indexOf(n)<0&&b_.call(e,n)&&(r[n]=e[n]);return r};function Jw(e,t){return t.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in e)){var o=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(e)}const eA=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const h of i.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&n(h)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}};eA();var cu=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function dr(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),t}var c0={exports:{}},Lr={},le={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ls=Symbol.for("react.element"),tA=Symbol.for("react.portal"),rA=Symbol.for("react.fragment"),nA=Symbol.for("react.strict_mode"),iA=Symbol.for("react.profiler"),oA=Symbol.for("react.provider"),aA=Symbol.for("react.context"),sA=Symbol.for("react.forward_ref"),uA=Symbol.for("react.suspense"),lA=Symbol.for("react.memo"),cA=Symbol.for("react.lazy"),E_=Symbol.iterator;function fA(e){return e===null||typeof e!="object"?null:(e=E_&&e[E_]||e["@@iterator"],typeof e=="function"?e:null)}var f0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d0=Object.assign,h0={};function zo(e,t,r){this.props=e,this.context=t,this.refs=h0,this.updater=r||f0}zo.prototype.isReactComponent={};zo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function p0(){}p0.prototype=zo.prototype;function Sd(e,t,r){this.props=e,this.context=t,this.refs=h0,this.updater=r||f0}var Pd=Sd.prototype=new p0;Pd.constructor=Sd;d0(Pd,zo.prototype);Pd.isPureReactComponent=!0;var T_=Array.isArray,_0=Object.prototype.hasOwnProperty,Od={current:null},m0={key:!0,ref:!0,__self:!0,__source:!0};function g0(e,t,r){var n,o={},i=null,h=null;if(t!=null)for(n in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(i=""+t.key),t)_0.call(t,n)&&!m0.hasOwnProperty(n)&&(o[n]=t[n]);var g=arguments.length-2;if(g===1)o.children=r;else if(1<g){for(var p=Array(g),v=0;v<g;v++)p[v]=arguments[v+2];o.children=p}if(e&&e.defaultProps)for(n in g=e.defaultProps,g)o[n]===void 0&&(o[n]=g[n]);return{$$typeof:ls,type:e,key:i,ref:h,props:o,_owner:Od.current}}function dA(e,t){return{$$typeof:ls,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Rd(e){return typeof e=="object"&&e!==null&&e.$$typeof===ls}function hA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var x_=/\/+/g;function Tc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hA(""+e.key):t.toString(36)}function fu(e,t,r,n,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(i){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case ls:case tA:h=!0}}if(h)return h=e,o=o(h),e=n===""?"."+Tc(h,0):n,T_(o)?(r="",e!=null&&(r=e.replace(x_,"$&/")+"/"),fu(o,t,r,"",function(v){return v})):o!=null&&(Rd(o)&&(o=dA(o,r+(!o.key||h&&h.key===o.key?"":(""+o.key).replace(x_,"$&/")+"/")+e)),t.push(o)),1;if(h=0,n=n===""?".":n+":",T_(e))for(var g=0;g<e.length;g++){i=e[g];var p=n+Tc(i,g);h+=fu(i,t,r,p,o)}else if(p=fA(e),typeof p=="function")for(e=p.call(e),g=0;!(i=e.next()).done;)i=i.value,p=n+Tc(i,g++),h+=fu(i,t,r,p,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function $s(e,t,r){if(e==null)return e;var n=[],o=0;return fu(e,n,"","",function(i){return t.call(r,i,o++)}),n}function pA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var hr={current:null},du={transition:null},_A={ReactCurrentDispatcher:hr,ReactCurrentBatchConfig:du,ReactCurrentOwner:Od};Je.Children={map:$s,forEach:function(e,t,r){$s(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return $s(e,function(){t++}),t},toArray:function(e){return $s(e,function(t){return t})||[]},only:function(e){if(!Rd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Je.Component=zo;Je.Fragment=rA;Je.Profiler=iA;Je.PureComponent=Sd;Je.StrictMode=nA;Je.Suspense=uA;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_A;Je.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=d0({},e.props),o=e.key,i=e.ref,h=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,h=Od.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(p in t)_0.call(t,p)&&!m0.hasOwnProperty(p)&&(n[p]=t[p]===void 0&&g!==void 0?g[p]:t[p])}var p=arguments.length-2;if(p===1)n.children=r;else if(1<p){g=Array(p);for(var v=0;v<p;v++)g[v]=arguments[v+2];n.children=g}return{$$typeof:ls,type:e.type,key:o,ref:i,props:n,_owner:h}};Je.createContext=function(e){return e={$$typeof:aA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:oA,_context:e},e.Consumer=e};Je.createElement=g0;Je.createFactory=function(e){var t=g0.bind(null,e);return t.type=e,t};Je.createRef=function(){return{current:null}};Je.forwardRef=function(e){return{$$typeof:sA,render:e}};Je.isValidElement=Rd;Je.lazy=function(e){return{$$typeof:cA,_payload:{_status:-1,_result:e},_init:pA}};Je.memo=function(e,t){return{$$typeof:lA,type:e,compare:t===void 0?null:t}};Je.startTransition=function(e){var t=du.transition;du.transition={};try{e()}finally{du.transition=t}};Je.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Je.useCallback=function(e,t){return hr.current.useCallback(e,t)};Je.useContext=function(e){return hr.current.useContext(e)};Je.useDebugValue=function(){};Je.useDeferredValue=function(e){return hr.current.useDeferredValue(e)};Je.useEffect=function(e,t){return hr.current.useEffect(e,t)};Je.useId=function(){return hr.current.useId()};Je.useImperativeHandle=function(e,t,r){return hr.current.useImperativeHandle(e,t,r)};Je.useInsertionEffect=function(e,t){return hr.current.useInsertionEffect(e,t)};Je.useLayoutEffect=function(e,t){return hr.current.useLayoutEffect(e,t)};Je.useMemo=function(e,t){return hr.current.useMemo(e,t)};Je.useReducer=function(e,t,r){return hr.current.useReducer(e,t,r)};Je.useRef=function(e){return hr.current.useRef(e)};Je.useState=function(e){return hr.current.useState(e)};Je.useSyncExternalStore=function(e,t,r){return hr.current.useSyncExternalStore(e,t,r)};Je.useTransition=function(){return hr.current.useTransition()};Je.version="18.1.0";le.exports=Je;var ro=le.exports,Oi=Object.freeze(Jw({__proto__:null,[Symbol.toStringTag]:"Module",default:ro},[le.exports])),v0={exports:{}},y0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,J){var ee=Y.length;Y.push(J);e:for(;0<ee;){var te=ee-1>>>1,ne=Y[te];if(0<o(ne,J))Y[te]=J,Y[ee]=ne,ee=te;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var J=Y[0],ee=Y.pop();if(ee!==J){Y[0]=ee;e:for(var te=0,ne=Y.length,fe=ne>>>1;te<fe;){var _e=2*(te+1)-1,ye=Y[_e],re=_e+1,be=Y[re];if(0>o(ye,ee))re<ne&&0>o(be,ye)?(Y[te]=be,Y[re]=ee,te=re):(Y[te]=ye,Y[_e]=ee,te=_e);else if(re<ne&&0>o(be,ee))Y[te]=be,Y[re]=ee,te=re;else break e}}return J}function o(Y,J){var ee=Y.sortIndex-J.sortIndex;return ee!==0?ee:Y.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var h=Date,g=h.now();e.unstable_now=function(){return h.now()-g}}var p=[],v=[],d=1,c=null,a=3,l=!1,s=!1,u=!1,f=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(Y){for(var J=r(v);J!==null;){if(J.callback===null)n(v);else if(J.startTime<=Y)n(v),J.sortIndex=J.expirationTime,t(p,J);else break;J=r(v)}}function E(Y){if(u=!1,b(Y),!s)if(r(p)!==null)s=!0,q(x);else{var J=r(v);J!==null&&X(E,J.startTime-Y)}}function x(Y,J){s=!1,u&&(u=!1,m(P),P=-1),l=!0;var ee=a;try{for(b(J),c=r(p);c!==null&&(!(c.expirationTime>J)||Y&&!k());){var te=c.callback;if(typeof te=="function"){c.callback=null,a=c.priorityLevel;var ne=te(c.expirationTime<=J);J=e.unstable_now(),typeof ne=="function"?c.callback=ne:c===r(p)&&n(p),b(J)}else n(p);c=r(p)}if(c!==null)var fe=!0;else{var _e=r(v);_e!==null&&X(E,_e.startTime-J),fe=!1}return fe}finally{c=null,a=ee,l=!1}}var w=!1,S=null,P=-1,A=5,L=-1;function k(){return!(e.unstable_now()-L<A)}function D(){if(S!==null){var Y=e.unstable_now();L=Y;var J=!0;try{J=S(!0,Y)}finally{J?N():(w=!1,S=null)}}else w=!1}var N;if(typeof y=="function")N=function(){y(D)};else if(typeof MessageChannel!="undefined"){var W=new MessageChannel,H=W.port2;W.port1.onmessage=D,N=function(){H.postMessage(null)}}else N=function(){f(D,0)};function q(Y){S=Y,w||(w=!0,N())}function X(Y,J){P=f(function(){Y(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){s||l||(s=!0,q(x))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return a},e.unstable_getFirstCallbackNode=function(){return r(p)},e.unstable_next=function(Y){switch(a){case 1:case 2:case 3:var J=3;break;default:J=a}var ee=a;a=J;try{return Y()}finally{a=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,J){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ee=a;a=Y;try{return J()}finally{a=ee}},e.unstable_scheduleCallback=function(Y,J,ee){var te=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?te+ee:te):ee=te,Y){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ee+ne,Y={id:d++,callback:J,priorityLevel:Y,startTime:ee,expirationTime:ne,sortIndex:-1},ee>te?(Y.sortIndex=ee,t(v,Y),r(p)===null&&Y===r(v)&&(u?(m(P),P=-1):u=!0,X(E,ee-te))):(Y.sortIndex=ne,t(p,Y),s||l||(s=!0,q(x))),Y},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(Y){var J=a;return function(){var ee=a;a=J;try{return Y.apply(this,arguments)}finally{a=ee}}}})(y0);v0.exports=y0;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0=le.exports,Rr=v0.exports;function we(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E0=new Set,Fa={};function ji(e,t){Io(e,t),Io(e+"Capture",t)}function Io(e,t){for(Fa[e]=t,e=0;e<t.length;e++)E0.add(t[e])}var Mn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),af=Object.prototype.hasOwnProperty,mA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w_={},A_={};function gA(e){return af.call(A_,e)?!0:af.call(w_,e)?!1:mA.test(e)?A_[e]=!0:(w_[e]=!0,!1)}function vA(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yA(e,t,r,n){if(t===null||typeof t=="undefined"||vA(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pr(e,t,r,n,o,i,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=h}var Jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jt[e]=new pr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Jt[t]=new pr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jt[e]=new pr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jt[e]=new pr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jt[e]=new pr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jt[e]=new pr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jt[e]=new pr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jt[e]=new pr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jt[e]=new pr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ld=/[\-:]([a-z])/g;function Cd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ld,Cd);Jt[t]=new pr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ld,Cd);Jt[t]=new pr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ld,Cd);Jt[t]=new pr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jt[e]=new pr(e,1,!1,e.toLowerCase(),null,!1,!1)});Jt.xlinkHref=new pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jt[e]=new pr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Id(e,t,r,n){var o=Jt.hasOwnProperty(t)?Jt[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yA(t,r,o,n)&&(r=null),n||o===null?gA(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Fn=b0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ws=Symbol.for("react.element"),no=Symbol.for("react.portal"),io=Symbol.for("react.fragment"),Md=Symbol.for("react.strict_mode"),sf=Symbol.for("react.profiler"),T0=Symbol.for("react.provider"),x0=Symbol.for("react.context"),Dd=Symbol.for("react.forward_ref"),uf=Symbol.for("react.suspense"),lf=Symbol.for("react.suspense_list"),Nd=Symbol.for("react.memo"),Vn=Symbol.for("react.lazy"),w0=Symbol.for("react.offscreen"),S_=Symbol.iterator;function oa(e){return e===null||typeof e!="object"?null:(e=S_&&e[S_]||e["@@iterator"],typeof e=="function"?e:null)}var Ot=Object.assign,xc;function ba(e){if(xc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);xc=t&&t[1]||""}return`
`+xc+e}var wc=!1;function Ac(e,t){if(!e||wc)return"";wc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var n=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){n=v}e.call(t.prototype)}else{try{throw Error()}catch(v){n=v}e()}}catch(v){if(v&&n&&typeof v.stack=="string"){for(var o=v.stack.split(`
`),i=n.stack.split(`
`),h=o.length-1,g=i.length-1;1<=h&&0<=g&&o[h]!==i[g];)g--;for(;1<=h&&0<=g;h--,g--)if(o[h]!==i[g]){if(h!==1||g!==1)do if(h--,g--,0>g||o[h]!==i[g]){var p=`
`+o[h].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=h&&0<=g);break}}}finally{wc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ba(e):""}function bA(e){switch(e.tag){case 5:return ba(e.type);case 16:return ba("Lazy");case 13:return ba("Suspense");case 19:return ba("SuspenseList");case 0:case 2:case 15:return e=Ac(e.type,!1),e;case 11:return e=Ac(e.type.render,!1),e;case 1:return e=Ac(e.type,!0),e;default:return""}}function cf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case io:return"Fragment";case no:return"Portal";case sf:return"Profiler";case Md:return"StrictMode";case uf:return"Suspense";case lf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case x0:return(e.displayName||"Context")+".Consumer";case T0:return(e._context.displayName||"Context")+".Provider";case Dd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nd:return t=e.displayName||null,t!==null?t:cf(e.type)||"Memo";case Vn:t=e._payload,e=e._init;try{return cf(e(t))}catch{}}return null}function EA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cf(t);case 8:return t===Md?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function oi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function A0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function TA(e){var t=A0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){n=""+h,i.call(this,h)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(h){n=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qs(e){e._valueTracker||(e._valueTracker=TA(e))}function S0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=A0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ou(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch{return e.body}}function ff(e,t){var r=t.checked;return Ot({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function P_(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=oi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function P0(e,t){t=t.checked,t!=null&&Id(e,"checked",t,!1)}function df(e,t){P0(e,t);var r=oi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hf(e,t.type,r):t.hasOwnProperty("defaultValue")&&hf(e,t.type,oi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function O_(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function hf(e,t,r){(t!=="number"||Ou(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ea=Array.isArray;function To(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+oi(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function pf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(we(91));return Ot({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function R_(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(we(92));if(Ea(r)){if(1<r.length)throw Error(we(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:oi(r)}}function O0(e,t){var r=oi(t.value),n=oi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function L_(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function R0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _f(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?R0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xs,L0=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xs=Xs||document.createElement("div"),Xs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ja(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Sa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xA=["Webkit","ms","Moz","O"];Object.keys(Sa).forEach(function(e){xA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sa[t]=Sa[e]})});function C0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Sa.hasOwnProperty(e)&&Sa[e]?(""+t).trim():t+"px"}function I0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=C0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var wA=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mf(e,t){if(t){if(wA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(we(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(we(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(we(61))}if(t.style!=null&&typeof t.style!="object")throw Error(we(62))}}function gf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vf=null;function kd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yf=null,xo=null,wo=null;function C_(e){if(e=ds(e)){if(typeof yf!="function")throw Error(we(280));var t=e.stateNode;t&&(t=dl(t),yf(e.stateNode,e.type,t))}}function M0(e){xo?wo?wo.push(e):wo=[e]:xo=e}function D0(){if(xo){var e=xo,t=wo;if(wo=xo=null,C_(e),t)for(e=0;e<t.length;e++)C_(t[e])}}function N0(e,t){return e(t)}function k0(){}var Sc=!1;function B0(e,t,r){if(Sc)return e(t,r);Sc=!0;try{return N0(e,t,r)}finally{Sc=!1,(xo!==null||wo!==null)&&(k0(),D0())}}function za(e,t){var r=e.stateNode;if(r===null)return null;var n=dl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(we(231,t,typeof r));return r}var bf=!1;if(Mn)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){bf=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{bf=!1}function AA(e,t,r,n,o,i,h,g,p){var v=Array.prototype.slice.call(arguments,3);try{t.apply(r,v)}catch(d){this.onError(d)}}var Pa=!1,Ru=null,Lu=!1,Ef=null,SA={onError:function(e){Pa=!0,Ru=e}};function PA(e,t,r,n,o,i,h,g,p){Pa=!1,Ru=null,AA.apply(SA,arguments)}function OA(e,t,r,n,o,i,h,g,p){if(PA.apply(this,arguments),Pa){if(Pa){var v=Ru;Pa=!1,Ru=null}else throw Error(we(198));Lu||(Lu=!0,Ef=v)}}function zi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function F0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function I_(e){if(zi(e)!==e)throw Error(we(188))}function RA(e){var t=e.alternate;if(!t){if(t=zi(e),t===null)throw Error(we(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var i=o.alternate;if(i===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===r)return I_(o),e;if(i===n)return I_(o),t;i=i.sibling}throw Error(we(188))}if(r.return!==n.return)r=o,n=i;else{for(var h=!1,g=o.child;g;){if(g===r){h=!0,r=o,n=i;break}if(g===n){h=!0,n=o,r=i;break}g=g.sibling}if(!h){for(g=i.child;g;){if(g===r){h=!0,r=i,n=o;break}if(g===n){h=!0,n=i,r=o;break}g=g.sibling}if(!h)throw Error(we(189))}}if(r.alternate!==n)throw Error(we(190))}if(r.tag!==3)throw Error(we(188));return r.stateNode.current===r?e:t}function j0(e){return e=RA(e),e!==null?z0(e):null}function z0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=z0(e);if(t!==null)return t;e=e.sibling}return null}var U0=Rr.unstable_scheduleCallback,M_=Rr.unstable_cancelCallback,LA=Rr.unstable_shouldYield,CA=Rr.unstable_requestPaint,Nt=Rr.unstable_now,IA=Rr.unstable_getCurrentPriorityLevel,Bd=Rr.unstable_ImmediatePriority,G0=Rr.unstable_UserBlockingPriority,Cu=Rr.unstable_NormalPriority,MA=Rr.unstable_LowPriority,V0=Rr.unstable_IdlePriority,ul=null,dn=null;function DA(e){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(ul,e,void 0,(e.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:BA,NA=Math.log,kA=Math.LN2;function BA(e){return e>>>=0,e===0?32:31-(NA(e)/kA|0)|0}var Ys=64,Ks=4194304;function Ta(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Iu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,i=e.pingedLanes,h=r&268435455;if(h!==0){var g=h&~o;g!==0?n=Ta(g):(i&=h,i!==0&&(n=Ta(i)))}else h=r&~o,h!==0?n=Ta(h):i!==0&&(n=Ta(i));if(n===0)return 0;if(t!==0&&t!==n&&(t&o)===0&&(o=n&-n,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if((n&4)!==0&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-tn(t),o=1<<r,n|=e[r],t&=~o;return n}function FA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var h=31-tn(i),g=1<<h,p=o[h];p===-1?((g&r)===0||(g&n)!==0)&&(o[h]=FA(g,t)):p<=t&&(e.expiredLanes|=g),i&=~g}}function Tf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function H0(){var e=Ys;return Ys<<=1,(Ys&4194240)===0&&(Ys=64),e}function Pc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function cs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tn(t),e[t]=r}function zA(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-tn(r),i=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~i}}function Fd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-tn(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var lt=0;function $0(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var W0,jd,q0,X0,Y0,xf=!1,Zs=[],Zn=null,Qn=null,Jn=null,Ua=new Map,Ga=new Map,$n=[],UA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function D_(e,t){switch(e){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":Ua.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ga.delete(t.pointerId)}}function sa(e,t,r,n,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[o]},t!==null&&(t=ds(t),t!==null&&jd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function GA(e,t,r,n,o){switch(t){case"focusin":return Zn=sa(Zn,e,t,r,n,o),!0;case"dragenter":return Qn=sa(Qn,e,t,r,n,o),!0;case"mouseover":return Jn=sa(Jn,e,t,r,n,o),!0;case"pointerover":var i=o.pointerId;return Ua.set(i,sa(Ua.get(i)||null,e,t,r,n,o)),!0;case"gotpointercapture":return i=o.pointerId,Ga.set(i,sa(Ga.get(i)||null,e,t,r,n,o)),!0}return!1}function K0(e){var t=bi(e.target);if(t!==null){var r=zi(t);if(r!==null){if(t=r.tag,t===13){if(t=F0(r),t!==null){e.blockedOn=t,Y0(e.priority,function(){q0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=wf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);vf=n,r.target.dispatchEvent(n),vf=null}else return t=ds(r),t!==null&&jd(t),e.blockedOn=r,!1;t.shift()}return!0}function N_(e,t,r){hu(e)&&r.delete(t)}function VA(){xf=!1,Zn!==null&&hu(Zn)&&(Zn=null),Qn!==null&&hu(Qn)&&(Qn=null),Jn!==null&&hu(Jn)&&(Jn=null),Ua.forEach(N_),Ga.forEach(N_)}function ua(e,t){e.blockedOn===t&&(e.blockedOn=null,xf||(xf=!0,Rr.unstable_scheduleCallback(Rr.unstable_NormalPriority,VA)))}function Va(e){function t(o){return ua(o,e)}if(0<Zs.length){ua(Zs[0],e);for(var r=1;r<Zs.length;r++){var n=Zs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Zn!==null&&ua(Zn,e),Qn!==null&&ua(Qn,e),Jn!==null&&ua(Jn,e),Ua.forEach(t),Ga.forEach(t),r=0;r<$n.length;r++)n=$n[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<$n.length&&(r=$n[0],r.blockedOn===null);)K0(r),r.blockedOn===null&&$n.shift()}var Ao=Fn.ReactCurrentBatchConfig,Mu=!0;function HA(e,t,r,n){var o=lt,i=Ao.transition;Ao.transition=null;try{lt=1,zd(e,t,r,n)}finally{lt=o,Ao.transition=i}}function $A(e,t,r,n){var o=lt,i=Ao.transition;Ao.transition=null;try{lt=4,zd(e,t,r,n)}finally{lt=o,Ao.transition=i}}function zd(e,t,r,n){if(Mu){var o=wf(e,t,r,n);if(o===null)Bc(e,t,n,Du,r),D_(e,n);else if(GA(o,e,t,r,n))n.stopPropagation();else if(D_(e,n),t&4&&-1<UA.indexOf(e)){for(;o!==null;){var i=ds(o);if(i!==null&&W0(i),i=wf(e,t,r,n),i===null&&Bc(e,t,n,Du,r),i===o)break;o=i}o!==null&&n.stopPropagation()}else Bc(e,t,n,null,r)}}var Du=null;function wf(e,t,r,n){if(Du=null,e=kd(n),e=bi(e),e!==null)if(t=zi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=F0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Du=e,null}function Z0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IA()){case Bd:return 1;case G0:return 4;case Cu:case MA:return 16;case V0:return 536870912;default:return 16}default:return 16}}var Xn=null,Ud=null,pu=null;function Q0(){if(pu)return pu;var e,t=Ud,r=t.length,n,o="value"in Xn?Xn.value:Xn.textContent,i=o.length;for(e=0;e<r&&t[e]===o[e];e++);var h=r-e;for(n=1;n<=h&&t[r-n]===o[i-n];n++);return pu=o.slice(e,1<n?1-n:void 0)}function _u(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qs(){return!0}function k_(){return!1}function Cr(e){function t(r,n,o,i,h){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=i,this.target=h,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(r=e[g],this[g]=r?r(i):i[g]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qs:k_,this.isPropagationStopped=k_,this}return Ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),t}var Uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gd=Cr(Uo),fs=Ot({},Uo,{view:0,detail:0}),WA=Cr(fs),Oc,Rc,la,ll=Ot({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==la&&(la&&e.type==="mousemove"?(Oc=e.screenX-la.screenX,Rc=e.screenY-la.screenY):Rc=Oc=0,la=e),Oc)},movementY:function(e){return"movementY"in e?e.movementY:Rc}}),B_=Cr(ll),qA=Ot({},ll,{dataTransfer:0}),XA=Cr(qA),YA=Ot({},fs,{relatedTarget:0}),Lc=Cr(YA),KA=Ot({},Uo,{animationName:0,elapsedTime:0,pseudoElement:0}),ZA=Cr(KA),QA=Ot({},Uo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),JA=Cr(QA),eS=Ot({},Uo,{data:0}),F_=Cr(eS),tS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nS[e])?!!t[e]:!1}function Vd(){return iS}var oS=Ot({},fs,{key:function(e){if(e.key){var t=tS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_u(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vd,charCode:function(e){return e.type==="keypress"?_u(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_u(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),aS=Cr(oS),sS=Ot({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j_=Cr(sS),uS=Ot({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vd}),lS=Cr(uS),cS=Ot({},Uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),fS=Cr(cS),dS=Ot({},ll,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hS=Cr(dS),pS=[9,13,27,32],Hd=Mn&&"CompositionEvent"in window,Oa=null;Mn&&"documentMode"in document&&(Oa=document.documentMode);var _S=Mn&&"TextEvent"in window&&!Oa,J0=Mn&&(!Hd||Oa&&8<Oa&&11>=Oa),z_=String.fromCharCode(32),U_=!1;function ev(e,t){switch(e){case"keyup":return pS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oo=!1;function mS(e,t){switch(e){case"compositionend":return tv(t);case"keypress":return t.which!==32?null:(U_=!0,z_);case"textInput":return e=t.data,e===z_&&U_?null:e;default:return null}}function gS(e,t){if(oo)return e==="compositionend"||!Hd&&ev(e,t)?(e=Q0(),pu=Ud=Xn=null,oo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return J0&&t.locale!=="ko"?null:t.data;default:return null}}var vS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function G_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vS[e.type]:t==="textarea"}function rv(e,t,r,n){M0(n),t=Nu(t,"onChange"),0<t.length&&(r=new Gd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ra=null,Ha=null;function yS(e){hv(e,0)}function cl(e){var t=uo(e);if(S0(t))return e}function bS(e,t){if(e==="change")return t}var nv=!1;if(Mn){var Cc;if(Mn){var Ic="oninput"in document;if(!Ic){var V_=document.createElement("div");V_.setAttribute("oninput","return;"),Ic=typeof V_.oninput=="function"}Cc=Ic}else Cc=!1;nv=Cc&&(!document.documentMode||9<document.documentMode)}function H_(){Ra&&(Ra.detachEvent("onpropertychange",iv),Ha=Ra=null)}function iv(e){if(e.propertyName==="value"&&cl(Ha)){var t=[];rv(t,Ha,e,kd(e)),B0(yS,t)}}function ES(e,t,r){e==="focusin"?(H_(),Ra=t,Ha=r,Ra.attachEvent("onpropertychange",iv)):e==="focusout"&&H_()}function TS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cl(Ha)}function xS(e,t){if(e==="click")return cl(t)}function wS(e,t){if(e==="input"||e==="change")return cl(t)}function AS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rn=typeof Object.is=="function"?Object.is:AS;function $a(e,t){if(rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!af.call(t,o)||!rn(e[o],t[o]))return!1}return!0}function $_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function W_(e,t){var r=$_(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$_(r)}}function ov(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ov(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function av(){for(var e=window,t=Ou();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ou(e.document)}return t}function $d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function SS(e){var t=av(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ov(r.ownerDocument.documentElement,r)){if(n!==null&&$d(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,i=Math.min(n.start,o);n=n.end===void 0?i:Math.min(n.end,o),!e.extend&&i>n&&(o=n,n=i,i=o),o=W_(r,i);var h=W_(r,n);o&&h&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var PS=Mn&&"documentMode"in document&&11>=document.documentMode,ao=null,Af=null,La=null,Sf=!1;function q_(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sf||ao==null||ao!==Ou(n)||(n=ao,"selectionStart"in n&&$d(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),La&&$a(La,n)||(La=n,n=Nu(Af,"onSelect"),0<n.length&&(t=new Gd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ao)))}function Js(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var so={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionend:Js("Transition","TransitionEnd")},Mc={},sv={};Mn&&(sv=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function fl(e){if(Mc[e])return Mc[e];if(!so[e])return e;var t=so[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in sv)return Mc[e]=t[r];return e}var uv=fl("animationend"),lv=fl("animationiteration"),cv=fl("animationstart"),fv=fl("transitionend"),dv=new Map,X_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ci(e,t){dv.set(e,t),ji(t,[e])}for(var Dc=0;Dc<X_.length;Dc++){var Nc=X_[Dc],OS=Nc.toLowerCase(),RS=Nc[0].toUpperCase()+Nc.slice(1);ci(OS,"on"+RS)}ci(uv,"onAnimationEnd");ci(lv,"onAnimationIteration");ci(cv,"onAnimationStart");ci("dblclick","onDoubleClick");ci("focusin","onFocus");ci("focusout","onBlur");ci(fv,"onTransitionEnd");Io("onMouseEnter",["mouseout","mouseover"]);Io("onMouseLeave",["mouseout","mouseover"]);Io("onPointerEnter",["pointerout","pointerover"]);Io("onPointerLeave",["pointerout","pointerover"]);ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LS=new Set("cancel close invalid load scroll toggle".split(" ").concat(xa));function Y_(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,OA(n,t,void 0,e),e.currentTarget=null}function hv(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var h=n.length-1;0<=h;h--){var g=n[h],p=g.instance,v=g.currentTarget;if(g=g.listener,p!==i&&o.isPropagationStopped())break e;Y_(o,g,v),i=p}else for(h=0;h<n.length;h++){if(g=n[h],p=g.instance,v=g.currentTarget,g=g.listener,p!==i&&o.isPropagationStopped())break e;Y_(o,g,v),i=p}}}if(Lu)throw e=Ef,Lu=!1,Ef=null,e}function yt(e,t){var r=t[Cf];r===void 0&&(r=t[Cf]=new Set);var n=e+"__bubble";r.has(n)||(pv(t,e,2,!1),r.add(n))}function kc(e,t,r){var n=0;t&&(n|=4),pv(r,e,n,t)}var eu="_reactListening"+Math.random().toString(36).slice(2);function Wa(e){if(!e[eu]){e[eu]=!0,E0.forEach(function(r){r!=="selectionchange"&&(LS.has(r)||kc(r,!1,e),kc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[eu]||(t[eu]=!0,kc("selectionchange",!1,t))}}function pv(e,t,r,n){switch(Z0(t)){case 1:var o=HA;break;case 4:o=$A;break;default:o=zd}r=o.bind(null,t,r,e),o=void 0,!bf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function Bc(e,t,r,n,o){var i=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var h=n.tag;if(h===3||h===4){var g=n.stateNode.containerInfo;if(g===o||g.nodeType===8&&g.parentNode===o)break;if(h===4)for(h=n.return;h!==null;){var p=h.tag;if((p===3||p===4)&&(p=h.stateNode.containerInfo,p===o||p.nodeType===8&&p.parentNode===o))return;h=h.return}for(;g!==null;){if(h=bi(g),h===null)return;if(p=h.tag,p===5||p===6){n=i=h;continue e}g=g.parentNode}}n=n.return}B0(function(){var v=i,d=kd(r),c=[];e:{var a=dv.get(e);if(a!==void 0){var l=Gd,s=e;switch(e){case"keypress":if(_u(r)===0)break e;case"keydown":case"keyup":l=aS;break;case"focusin":s="focus",l=Lc;break;case"focusout":s="blur",l=Lc;break;case"beforeblur":case"afterblur":l=Lc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=B_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=XA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=lS;break;case uv:case lv:case cv:l=ZA;break;case fv:l=fS;break;case"scroll":l=WA;break;case"wheel":l=hS;break;case"copy":case"cut":case"paste":l=JA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=j_}var u=(t&4)!==0,f=!u&&e==="scroll",m=u?a!==null?a+"Capture":null:a;u=[];for(var y=v,b;y!==null;){b=y;var E=b.stateNode;if(b.tag===5&&E!==null&&(b=E,m!==null&&(E=za(y,m),E!=null&&u.push(qa(y,E,b)))),f)break;y=y.return}0<u.length&&(a=new l(a,s,null,r,d),c.push({event:a,listeners:u}))}}if((t&7)===0){e:{if(a=e==="mouseover"||e==="pointerover",l=e==="mouseout"||e==="pointerout",a&&r!==vf&&(s=r.relatedTarget||r.fromElement)&&(bi(s)||s[Dn]))break e;if((l||a)&&(a=d.window===d?d:(a=d.ownerDocument)?a.defaultView||a.parentWindow:window,l?(s=r.relatedTarget||r.toElement,l=v,s=s?bi(s):null,s!==null&&(f=zi(s),s!==f||s.tag!==5&&s.tag!==6)&&(s=null)):(l=null,s=v),l!==s)){if(u=B_,E="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(u=j_,E="onPointerLeave",m="onPointerEnter",y="pointer"),f=l==null?a:uo(l),b=s==null?a:uo(s),a=new u(E,y+"leave",l,r,d),a.target=f,a.relatedTarget=b,E=null,bi(d)===v&&(u=new u(m,y+"enter",s,r,d),u.target=b,u.relatedTarget=f,E=u),f=E,l&&s)t:{for(u=l,m=s,y=0,b=u;b;b=$i(b))y++;for(b=0,E=m;E;E=$i(E))b++;for(;0<y-b;)u=$i(u),y--;for(;0<b-y;)m=$i(m),b--;for(;y--;){if(u===m||m!==null&&u===m.alternate)break t;u=$i(u),m=$i(m)}u=null}else u=null;l!==null&&K_(c,a,l,u,!1),s!==null&&f!==null&&K_(c,f,s,u,!0)}}e:{if(a=v?uo(v):window,l=a.nodeName&&a.nodeName.toLowerCase(),l==="select"||l==="input"&&a.type==="file")var x=bS;else if(G_(a))if(nv)x=wS;else{x=TS;var w=ES}else(l=a.nodeName)&&l.toLowerCase()==="input"&&(a.type==="checkbox"||a.type==="radio")&&(x=xS);if(x&&(x=x(e,v))){rv(c,x,r,d);break e}w&&w(e,a,v),e==="focusout"&&(w=a._wrapperState)&&w.controlled&&a.type==="number"&&hf(a,"number",a.value)}switch(w=v?uo(v):window,e){case"focusin":(G_(w)||w.contentEditable==="true")&&(ao=w,Af=v,La=null);break;case"focusout":La=Af=ao=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,q_(c,r,d);break;case"selectionchange":if(PS)break;case"keydown":case"keyup":q_(c,r,d)}var S;if(Hd)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else oo?ev(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(J0&&r.locale!=="ko"&&(oo||P!=="onCompositionStart"?P==="onCompositionEnd"&&oo&&(S=Q0()):(Xn=d,Ud="value"in Xn?Xn.value:Xn.textContent,oo=!0)),w=Nu(v,P),0<w.length&&(P=new F_(P,e,null,r,d),c.push({event:P,listeners:w}),S?P.data=S:(S=tv(r),S!==null&&(P.data=S)))),(S=_S?mS(e,r):gS(e,r))&&(v=Nu(v,"onBeforeInput"),0<v.length&&(d=new F_("onBeforeInput","beforeinput",null,r,d),c.push({event:d,listeners:v}),d.data=S))}hv(c,t)})}function qa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Nu(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=za(e,r),i!=null&&n.unshift(qa(e,i,o)),i=za(e,t),i!=null&&n.push(qa(e,i,o))),e=e.return}return n}function $i(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function K_(e,t,r,n,o){for(var i=t._reactName,h=[];r!==null&&r!==n;){var g=r,p=g.alternate,v=g.stateNode;if(p!==null&&p===n)break;g.tag===5&&v!==null&&(g=v,o?(p=za(r,i),p!=null&&h.unshift(qa(r,p,g))):o||(p=za(r,i),p!=null&&h.push(qa(r,p,g)))),r=r.return}h.length!==0&&e.push({event:t,listeners:h})}var CS=/\r\n?/g,IS=/\u0000|\uFFFD/g;function Z_(e){return(typeof e=="string"?e:""+e).replace(CS,`
`).replace(IS,"")}function tu(e,t,r){if(t=Z_(t),Z_(e)!==t&&r)throw Error(we(425))}function ku(){}var Pf=null,Of=null;function Rf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lf=typeof setTimeout=="function"?setTimeout:void 0,MS=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,DS=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_!="undefined"?function(e){return Q_.resolve(null).then(e).catch(NS)}:Lf;function NS(e){setTimeout(function(){throw e})}function Fc(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),Va(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);Va(t)}function Rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function J_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Go=Math.random().toString(36).slice(2),cn="__reactFiber$"+Go,Xa="__reactProps$"+Go,Dn="__reactContainer$"+Go,Cf="__reactEvents$"+Go,kS="__reactListeners$"+Go,BS="__reactHandles$"+Go;function bi(e){var t=e[cn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Dn]||r[cn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=J_(e);e!==null;){if(r=e[cn])return r;e=J_(e)}return t}e=r,r=e.parentNode}return null}function ds(e){return e=e[cn]||e[Dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function uo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(we(33))}function dl(e){return e[Xa]||null}var If=[],lo=-1;function fi(e){return{current:e}}function bt(e){0>lo||(e.current=If[lo],If[lo]=null,lo--)}function _t(e,t){lo++,If[lo]=e.current,e.current=t}var ai={},sr=fi(ai),Er=fi(!1),Ri=ai;function Mo(e,t){var r=e.type.contextTypes;if(!r)return ai;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in r)o[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Tr(e){return e=e.childContextTypes,e!=null}function Bu(){bt(Er),bt(sr)}function em(e,t,r){if(sr.current!==ai)throw Error(we(168));_t(sr,t),_t(Er,r)}function _v(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(we(108,EA(e)||"Unknown",o));return Ot({},r,n)}function Fu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ai,Ri=sr.current,_t(sr,e),_t(Er,Er.current),!0}function tm(e,t,r){var n=e.stateNode;if(!n)throw Error(we(169));r?(e=_v(e,t,Ri),n.__reactInternalMemoizedMergedChildContext=e,bt(Er),bt(sr),_t(sr,e)):bt(Er),_t(Er,r)}var Pn=null,hl=!1,jc=!1;function mv(e){Pn===null?Pn=[e]:Pn.push(e)}function FS(e){hl=!0,mv(e)}function di(){if(!jc&&Pn!==null){jc=!0;var e=0,t=lt;try{var r=Pn;for(lt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Pn=null,hl=!1}catch(o){throw Pn!==null&&(Pn=Pn.slice(e+1)),U0(Bd,di),o}finally{lt=t,jc=!1}}return null}var jS=Fn.ReactCurrentBatchConfig;function Zr(e,t){if(e&&e.defaultProps){t=Ot({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var ju=fi(null),zu=null,co=null,Wd=null;function qd(){Wd=co=zu=null}function Xd(e){var t=ju.current;bt(ju),e._currentValue=t}function Mf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function So(e,t){zu=e,Wd=co=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(br=!0),e.firstContext=null)}function Hr(e){var t=e._currentValue;if(Wd!==e)if(e={context:e,memoizedValue:t,next:null},co===null){if(zu===null)throw Error(we(308));co=e,zu.dependencies={lanes:0,firstContext:e}}else co=co.next=e;return t}var en=null,Hn=!1;function Yd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function In(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ei(e,t){var r=e.updateQueue;r!==null&&(r=r.shared,ay(e)?(e=r.interleaved,e===null?(t.next=t,en===null?en=[r]:en.push(r)):(t.next=e.next,e.next=t),r.interleaved=t):(e=r.pending,e===null?t.next=t:(t.next=e.next,e.next=t),r.pending=t))}function mu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Fd(e,r)}}function rm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var h={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?o=i=h:i=i.next=h,r=r.next}while(r!==null);i===null?o=i=t:i=i.next=t}else o=i=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Uu(e,t,r,n){var o=e.updateQueue;Hn=!1;var i=o.firstBaseUpdate,h=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var p=g,v=p.next;p.next=null,h===null?i=v:h.next=v,h=p;var d=e.alternate;d!==null&&(d=d.updateQueue,g=d.lastBaseUpdate,g!==h&&(g===null?d.firstBaseUpdate=v:g.next=v,d.lastBaseUpdate=p))}if(i!==null){var c=o.baseState;h=0,d=v=p=null,g=i;do{var a=g.lane,l=g.eventTime;if((n&a)===a){d!==null&&(d=d.next={eventTime:l,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var s=e,u=g;switch(a=t,l=r,u.tag){case 1:if(s=u.payload,typeof s=="function"){c=s.call(l,c,a);break e}c=s;break e;case 3:s.flags=s.flags&-65537|128;case 0:if(s=u.payload,a=typeof s=="function"?s.call(l,c,a):s,a==null)break e;c=Ot({},c,a);break e;case 2:Hn=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,a=o.effects,a===null?o.effects=[g]:a.push(g))}else l={eventTime:l,lane:a,tag:g.tag,payload:g.payload,callback:g.callback,next:null},d===null?(v=d=l,p=c):d=d.next=l,h|=a;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;a=g,g=a.next,a.next=null,o.lastBaseUpdate=a,o.shared.pending=null}}while(1);if(d===null&&(p=c),o.baseState=p,o.firstBaseUpdate=v,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do h|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Ii|=h,e.lanes=h,e.memoizedState=c}}function nm(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(we(191,o));o.call(n)}}}var vv=new b0.Component().refs;function Df(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ot({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var pl={isMounted:function(e){return(e=e._reactInternals)?zi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=fr(),o=ri(e),i=In(n,o);i.payload=t,r!=null&&(i.callback=r),ei(e,i),t=Vr(e,o,n),t!==null&&mu(t,e,o)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=fr(),o=ri(e),i=In(n,o);i.tag=1,i.payload=t,r!=null&&(i.callback=r),ei(e,i),t=Vr(e,o,n),t!==null&&mu(t,e,o)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=fr(),n=ri(e),o=In(r,n);o.tag=2,t!=null&&(o.callback=t),ei(e,o),t=Vr(e,n,r),t!==null&&mu(t,e,n)}};function im(e,t,r,n,o,i,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,h):t.prototype&&t.prototype.isPureReactComponent?!$a(r,n)||!$a(o,i):!0}function yv(e,t,r){var n=!1,o=ai,i=t.contextType;return typeof i=="object"&&i!==null?i=Hr(i):(o=Tr(t)?Ri:sr.current,n=t.contextTypes,i=(n=n!=null)?Mo(e,o):ai),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function om(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&pl.enqueueReplaceState(t,t.state,null)}function Nf(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs=vv,Yd(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Hr(i):(i=Tr(t)?Ri:sr.current,o.context=Mo(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Df(e,t,i,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&pl.enqueueReplaceState(o,o.state,null),Uu(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}var fo=[],ho=0,Gu=null,Vu=0,Fr=[],jr=0,Li=null,Ln=1,Cn="";function mi(e,t){fo[ho++]=Vu,fo[ho++]=Gu,Gu=e,Vu=t}function bv(e,t,r){Fr[jr++]=Ln,Fr[jr++]=Cn,Fr[jr++]=Li,Li=e;var n=Ln;e=Cn;var o=32-tn(n)-1;n&=~(1<<o),r+=1;var i=32-tn(t)+o;if(30<i){var h=o-o%5;i=(n&(1<<h)-1).toString(32),n>>=h,o-=h,Ln=1<<32-tn(t)+o|r<<o|n,Cn=i+e}else Ln=1<<i|r<<o|n,Cn=e}function Kd(e){e.return!==null&&(mi(e,1),bv(e,1,0))}function Zd(e){for(;e===Gu;)Gu=fo[--ho],fo[ho]=null,Vu=fo[--ho],fo[ho]=null;for(;e===Li;)Li=Fr[--jr],Fr[jr]=null,Cn=Fr[--jr],Fr[jr]=null,Ln=Fr[--jr],Fr[jr]=null}var Sr=null,yr=null,Tt=!1,Jr=null;function Ev(e,t){var r=Ur(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function am(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Sr=e,yr=Rn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Sr=e,yr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Li!==null?{id:Ln,overflow:Cn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ur(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Sr=e,yr=null,!0):!1;default:return!1}}function kf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bf(e){if(Tt){var t=yr;if(t){var r=t;if(!am(e,t)){if(kf(e))throw Error(we(418));t=Rn(r.nextSibling);var n=Sr;t&&am(e,t)?Ev(n,r):(e.flags=e.flags&-4097|2,Tt=!1,Sr=e)}}else{if(kf(e))throw Error(we(418));e.flags=e.flags&-4097|2,Tt=!1,Sr=e}}}function sm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Sr=e}function ca(e){if(e!==Sr)return!1;if(!Tt)return sm(e),Tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rf(e.type,e.memoizedProps)),t&&(t=yr)){if(kf(e)){for(e=yr;e;)e=Rn(e.nextSibling);throw Error(we(418))}for(;t;)Ev(e,t),t=Rn(t.nextSibling)}if(sm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(we(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yr=Rn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yr=null}}else yr=Sr?Rn(e.stateNode.nextSibling):null;return!0}function Do(){yr=Sr=null,Tt=!1}function Qd(e){Jr===null?Jr=[e]:Jr.push(e)}function fa(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(we(309));var n=r.stateNode}if(!n)throw Error(we(147,e));var o=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(h){var g=o.refs;g===vv&&(g=o.refs={}),h===null?delete g[i]:g[i]=h},t._stringRef=i,t)}if(typeof e!="string")throw Error(we(284));if(!r._owner)throw Error(we(290,e))}return e}function ru(e,t){throw e=Object.prototype.toString.call(t),Error(we(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function um(e){var t=e._init;return t(e._payload)}function Tv(e){function t(m,y){if(e){var b=m.deletions;b===null?(m.deletions=[y],m.flags|=16):b.push(y)}}function r(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function n(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function o(m,y){return m=si(m,y),m.index=0,m.sibling=null,m}function i(m,y,b){return m.index=b,e?(b=m.alternate,b!==null?(b=b.index,b<y?(m.flags|=2,y):b):(m.flags|=2,y)):(m.flags|=1048576,y)}function h(m){return e&&m.alternate===null&&(m.flags|=2),m}function g(m,y,b,E){return y===null||y.tag!==6?(y=$c(b,m.mode,E),y.return=m,y):(y=o(y,b),y.return=m,y)}function p(m,y,b,E){var x=b.type;return x===io?d(m,y,b.props.children,E,b.key):y!==null&&(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Vn&&um(x)===y.type)?(E=o(y,b.props),E.ref=fa(m,y,b),E.return=m,E):(E=Eu(b.type,b.key,b.props,null,m.mode,E),E.ref=fa(m,y,b),E.return=m,E)}function v(m,y,b,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Wc(b,m.mode,E),y.return=m,y):(y=o(y,b.children||[]),y.return=m,y)}function d(m,y,b,E,x){return y===null||y.tag!==7?(y=Si(b,m.mode,E,x),y.return=m,y):(y=o(y,b),y.return=m,y)}function c(m,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=$c(""+y,m.mode,b),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ws:return b=Eu(y.type,y.key,y.props,null,m.mode,b),b.ref=fa(m,null,y),b.return=m,b;case no:return y=Wc(y,m.mode,b),y.return=m,y;case Vn:var E=y._init;return c(m,E(y._payload),b)}if(Ea(y)||oa(y))return y=Si(y,m.mode,b,null),y.return=m,y;ru(m,y)}return null}function a(m,y,b,E){var x=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return x!==null?null:g(m,y,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ws:return b.key===x?p(m,y,b,E):null;case no:return b.key===x?v(m,y,b,E):null;case Vn:return x=b._init,a(m,y,x(b._payload),E)}if(Ea(b)||oa(b))return x!==null?null:d(m,y,b,E,null);ru(m,b)}return null}function l(m,y,b,E,x){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(b)||null,g(y,m,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ws:return m=m.get(E.key===null?b:E.key)||null,p(y,m,E,x);case no:return m=m.get(E.key===null?b:E.key)||null,v(y,m,E,x);case Vn:var w=E._init;return l(m,y,b,w(E._payload),x)}if(Ea(E)||oa(E))return m=m.get(b)||null,d(y,m,E,x,null);ru(y,E)}return null}function s(m,y,b,E){for(var x=null,w=null,S=y,P=y=0,A=null;S!==null&&P<b.length;P++){S.index>P?(A=S,S=null):A=S.sibling;var L=a(m,S,b[P],E);if(L===null){S===null&&(S=A);break}e&&S&&L.alternate===null&&t(m,S),y=i(L,y,P),w===null?x=L:w.sibling=L,w=L,S=A}if(P===b.length)return r(m,S),Tt&&mi(m,P),x;if(S===null){for(;P<b.length;P++)S=c(m,b[P],E),S!==null&&(y=i(S,y,P),w===null?x=S:w.sibling=S,w=S);return Tt&&mi(m,P),x}for(S=n(m,S);P<b.length;P++)A=l(S,m,P,b[P],E),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?P:A.key),y=i(A,y,P),w===null?x=A:w.sibling=A,w=A);return e&&S.forEach(function(k){return t(m,k)}),Tt&&mi(m,P),x}function u(m,y,b,E){var x=oa(b);if(typeof x!="function")throw Error(we(150));if(b=x.call(b),b==null)throw Error(we(151));for(var w=x=null,S=y,P=y=0,A=null,L=b.next();S!==null&&!L.done;P++,L=b.next()){S.index>P?(A=S,S=null):A=S.sibling;var k=a(m,S,L.value,E);if(k===null){S===null&&(S=A);break}e&&S&&k.alternate===null&&t(m,S),y=i(k,y,P),w===null?x=k:w.sibling=k,w=k,S=A}if(L.done)return r(m,S),Tt&&mi(m,P),x;if(S===null){for(;!L.done;P++,L=b.next())L=c(m,L.value,E),L!==null&&(y=i(L,y,P),w===null?x=L:w.sibling=L,w=L);return Tt&&mi(m,P),x}for(S=n(m,S);!L.done;P++,L=b.next())L=l(S,m,P,L.value,E),L!==null&&(e&&L.alternate!==null&&S.delete(L.key===null?P:L.key),y=i(L,y,P),w===null?x=L:w.sibling=L,w=L);return e&&S.forEach(function(D){return t(m,D)}),Tt&&mi(m,P),x}function f(m,y,b,E){if(typeof b=="object"&&b!==null&&b.type===io&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ws:e:{for(var x=b.key,w=y;w!==null;){if(w.key===x){if(x=b.type,x===io){if(w.tag===7){r(m,w.sibling),y=o(w,b.props.children),y.return=m,m=y;break e}}else if(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Vn&&um(x)===w.type){r(m,w.sibling),y=o(w,b.props),y.ref=fa(m,w,b),y.return=m,m=y;break e}r(m,w);break}else t(m,w);w=w.sibling}b.type===io?(y=Si(b.props.children,m.mode,E,b.key),y.return=m,m=y):(E=Eu(b.type,b.key,b.props,null,m.mode,E),E.ref=fa(m,y,b),E.return=m,m=E)}return h(m);case no:e:{for(w=b.key;y!==null;){if(y.key===w)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(m,y.sibling),y=o(y,b.children||[]),y.return=m,m=y;break e}else{r(m,y);break}else t(m,y);y=y.sibling}y=Wc(b,m.mode,E),y.return=m,m=y}return h(m);case Vn:return w=b._init,f(m,y,w(b._payload),E)}if(Ea(b))return s(m,y,b,E);if(oa(b))return u(m,y,b,E);ru(m,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(m,y.sibling),y=o(y,b),y.return=m,m=y):(r(m,y),y=$c(b,m.mode,E),y.return=m,m=y),h(m)):r(m,y)}return f}var No=Tv(!0),xv=Tv(!1),hs={},hn=fi(hs),Ya=fi(hs),Ka=fi(hs);function Ei(e){if(e===hs)throw Error(we(174));return e}function Jd(e,t){switch(_t(Ka,t),_t(Ya,e),_t(hn,hs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_f(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_f(t,e)}bt(hn),_t(hn,t)}function ko(){bt(hn),bt(Ya),bt(Ka)}function wv(e){Ei(Ka.current);var t=Ei(hn.current),r=_f(t,e.type);t!==r&&(_t(Ya,e),_t(hn,r))}function eh(e){Ya.current===e&&(bt(hn),bt(Ya))}var St=fi(0);function Hu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zc=[];function th(){for(var e=0;e<zc.length;e++)zc[e]._workInProgressVersionPrimary=null;zc.length=0}var gu=Fn.ReactCurrentDispatcher,Uc=Fn.ReactCurrentBatchConfig,Ci=0,Pt=null,jt=null,Wt=null,$u=!1,Ca=!1,Za=0,zS=0;function tr(){throw Error(we(321))}function rh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!rn(e[r],t[r]))return!1;return!0}function nh(e,t,r,n,o,i){if(Ci=i,Pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gu.current=e===null||e.memoizedState===null?HS:$S,e=r(n,o),Ca){i=0;do{if(Ca=!1,Za=0,25<=i)throw Error(we(301));i+=1,Wt=jt=null,t.updateQueue=null,gu.current=WS,e=r(n,o)}while(Ca)}if(gu.current=Wu,t=jt!==null&&jt.next!==null,Ci=0,Wt=jt=Pt=null,$u=!1,t)throw Error(we(300));return e}function ih(){var e=Za!==0;return Za=0,e}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Pt.memoizedState=Wt=e:Wt=Wt.next=e,Wt}function $r(){if(jt===null){var e=Pt.alternate;e=e!==null?e.memoizedState:null}else e=jt.next;var t=Wt===null?Pt.memoizedState:Wt.next;if(t!==null)Wt=t,jt=e;else{if(e===null)throw Error(we(310));jt=e,e={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Wt===null?Pt.memoizedState=Wt=e:Wt=Wt.next=e}return Wt}function Qa(e,t){return typeof t=="function"?t(e):t}function Gc(e){var t=$r(),r=t.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=e;var n=jt,o=n.baseQueue,i=r.pending;if(i!==null){if(o!==null){var h=o.next;o.next=i.next,i.next=h}n.baseQueue=o=i,r.pending=null}if(o!==null){i=o.next,n=n.baseState;var g=h=null,p=null,v=i;do{var d=v.lane;if((Ci&d)===d)p!==null&&(p=p.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),n=v.hasEagerState?v.eagerState:e(n,v.action);else{var c={lane:d,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};p===null?(g=p=c,h=n):p=p.next=c,Pt.lanes|=d,Ii|=d}v=v.next}while(v!==null&&v!==i);p===null?h=n:p.next=g,rn(n,t.memoizedState)||(br=!0),t.memoizedState=n,t.baseState=h,t.baseQueue=p,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do i=o.lane,Pt.lanes|=i,Ii|=i,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Vc(e){var t=$r(),r=t.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,i=t.memoizedState;if(o!==null){r.pending=null;var h=o=o.next;do i=e(i,h.action),h=h.next;while(h!==o);rn(i,t.memoizedState)||(br=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Av(){}function Sv(e,t){var r=Pt,n=$r(),o=t(),i=!rn(n.memoizedState,o);if(i&&(n.memoizedState=o,br=!0),n=n.queue,oh(Rv.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Wt!==null&&Wt.memoizedState.tag&1){if(r.flags|=2048,Ja(9,Ov.bind(null,r,n,o,t),void 0,null),Ut===null)throw Error(we(349));(Ci&30)!==0||Pv(r,t,o)}return o}function Pv(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Pt.updateQueue,t===null?(t={lastEffect:null,stores:null},Pt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ov(e,t,r,n){t.value=r,t.getSnapshot=n,Lv(t)&&Vr(e,1,-1)}function Rv(e,t,r){return r(function(){Lv(t)&&Vr(e,1,-1)})}function Lv(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rn(e,r)}catch{return!0}}function lm(e){var t=sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:e},t.queue=e,e=e.dispatch=VS.bind(null,Pt,e),[t.memoizedState,e]}function Ja(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Pt.updateQueue,t===null?(t={lastEffect:null,stores:null},Pt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Cv(){return $r().memoizedState}function vu(e,t,r,n){var o=sn();Pt.flags|=e,o.memoizedState=Ja(1|t,r,void 0,n===void 0?null:n)}function _l(e,t,r,n){var o=$r();n=n===void 0?null:n;var i=void 0;if(jt!==null){var h=jt.memoizedState;if(i=h.destroy,n!==null&&rh(n,h.deps)){o.memoizedState=Ja(t,r,i,n);return}}Pt.flags|=e,o.memoizedState=Ja(1|t,r,i,n)}function cm(e,t){return vu(8390656,8,e,t)}function oh(e,t){return _l(2048,8,e,t)}function Iv(e,t){return _l(4,2,e,t)}function Mv(e,t){return _l(4,4,e,t)}function Dv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nv(e,t,r){return r=r!=null?r.concat([e]):null,_l(4,4,Dv.bind(null,t,e),r)}function ah(){}function kv(e,t){var r=$r();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&rh(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Bv(e,t){var r=$r();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&rh(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Fv(e,t,r){return(Ci&21)===0?(e.baseState&&(e.baseState=!1,br=!0),e.memoizedState=r):(rn(r,t)||(r=H0(),Pt.lanes|=r,Ii|=r,e.baseState=!0),t)}function US(e,t){var r=lt;lt=r!==0&&4>r?r:4,e(!0);var n=Uc.transition;Uc.transition={};try{e(!1),t()}finally{lt=r,Uc.transition=n}}function jv(){return $r().memoizedState}function GS(e,t,r){var n=ri(e);r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},zv(e)?Uv(t,r):(Gv(e,t,r),r=fr(),e=Vr(e,n,r),e!==null&&Vv(e,t,n))}function VS(e,t,r){var n=ri(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(zv(e))Uv(t,o);else{Gv(e,t,o);var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var h=t.lastRenderedState,g=i(h,r);if(o.hasEagerState=!0,o.eagerState=g,rn(g,h))return}catch{}finally{}r=fr(),e=Vr(e,n,r),e!==null&&Vv(e,t,n)}}function zv(e){var t=e.alternate;return e===Pt||t!==null&&t===Pt}function Uv(e,t){Ca=$u=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Gv(e,t,r){ay(e)?(e=t.interleaved,e===null?(r.next=r,en===null?en=[t]:en.push(t)):(r.next=e.next,e.next=r),t.interleaved=r):(e=t.pending,e===null?r.next=r:(r.next=e.next,e.next=r),t.pending=r)}function Vv(e,t,r){if((r&4194240)!==0){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Fd(e,r)}}var Wu={readContext:Hr,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useInsertionEffect:tr,useLayoutEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useMutableSource:tr,useSyncExternalStore:tr,useId:tr,unstable_isNewReconciler:!1},HS={readContext:Hr,useCallback:function(e,t){return sn().memoizedState=[e,t===void 0?null:t],e},useContext:Hr,useEffect:cm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,vu(4194308,4,Dv.bind(null,t,e),r)},useLayoutEffect:function(e,t){return vu(4194308,4,e,t)},useInsertionEffect:function(e,t){return vu(4,2,e,t)},useMemo:function(e,t){var r=sn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=sn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=GS.bind(null,Pt,e),[n.memoizedState,e]},useRef:function(e){var t=sn();return e={current:e},t.memoizedState=e},useState:lm,useDebugValue:ah,useDeferredValue:function(e){return sn().memoizedState=e},useTransition:function(){var e=lm(!1),t=e[0];return e=US.bind(null,e[1]),sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Pt,o=sn();if(Tt){if(r===void 0)throw Error(we(407));r=r()}else{if(r=t(),Ut===null)throw Error(we(349));(Ci&30)!==0||Pv(n,t,r)}o.memoizedState=r;var i={value:r,getSnapshot:t};return o.queue=i,cm(Rv.bind(null,n,i,e),[e]),n.flags|=2048,Ja(9,Ov.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=sn(),t=Ut.identifierPrefix;if(Tt){var r=Cn,n=Ln;r=(n&~(1<<32-tn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Za++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=zS++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$S={readContext:Hr,useCallback:kv,useContext:Hr,useEffect:oh,useImperativeHandle:Nv,useInsertionEffect:Iv,useLayoutEffect:Mv,useMemo:Bv,useReducer:Gc,useRef:Cv,useState:function(){return Gc(Qa)},useDebugValue:ah,useDeferredValue:function(e){var t=$r();return Fv(t,jt.memoizedState,e)},useTransition:function(){var e=Gc(Qa)[0],t=$r().memoizedState;return[e,t]},useMutableSource:Av,useSyncExternalStore:Sv,useId:jv,unstable_isNewReconciler:!1},WS={readContext:Hr,useCallback:kv,useContext:Hr,useEffect:oh,useImperativeHandle:Nv,useInsertionEffect:Iv,useLayoutEffect:Mv,useMemo:Bv,useReducer:Vc,useRef:Cv,useState:function(){return Vc(Qa)},useDebugValue:ah,useDeferredValue:function(e){var t=$r();return jt===null?t.memoizedState=e:Fv(t,jt.memoizedState,e)},useTransition:function(){var e=Vc(Qa)[0],t=$r().memoizedState;return[e,t]},useMutableSource:Av,useSyncExternalStore:Sv,useId:jv,unstable_isNewReconciler:!1};function sh(e,t){try{var r="",n=t;do r+=bA(n),n=n.return;while(n);var o=r}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o}}function Ff(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var qS=typeof WeakMap=="function"?WeakMap:Map;function Hv(e,t,r){r=In(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Xu||(Xu=!0,qf=n),Ff(e,t)},r}function $v(e,t,r){r=In(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){Ff(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ff(e,t),typeof n!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),r}function fm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new qS;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=aP.bind(null,e,t,r),t.then(e,e))}function dm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hm(e,t,r,n,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=In(-1,1),t.tag=2,ei(r,t))),r.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var Wv,jf,qv,Xv;Wv=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};jf=function(){};qv=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Ei(hn.current);var i=null;switch(r){case"input":o=ff(e,o),n=ff(e,n),i=[];break;case"select":o=Ot({},o,{value:void 0}),n=Ot({},n,{value:void 0}),i=[];break;case"textarea":o=pf(e,o),n=pf(e,n),i=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ku)}mf(r,n);var h;r=null;for(v in o)if(!n.hasOwnProperty(v)&&o.hasOwnProperty(v)&&o[v]!=null)if(v==="style"){var g=o[v];for(h in g)g.hasOwnProperty(h)&&(r||(r={}),r[h]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(Fa.hasOwnProperty(v)?i||(i=[]):(i=i||[]).push(v,null));for(v in n){var p=n[v];if(g=o!=null?o[v]:void 0,n.hasOwnProperty(v)&&p!==g&&(p!=null||g!=null))if(v==="style")if(g){for(h in g)!g.hasOwnProperty(h)||p&&p.hasOwnProperty(h)||(r||(r={}),r[h]="");for(h in p)p.hasOwnProperty(h)&&g[h]!==p[h]&&(r||(r={}),r[h]=p[h])}else r||(i||(i=[]),i.push(v,r)),r=p;else v==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,g=g?g.__html:void 0,p!=null&&g!==p&&(i=i||[]).push(v,p)):v==="children"?typeof p!="string"&&typeof p!="number"||(i=i||[]).push(v,""+p):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(Fa.hasOwnProperty(v)?(p!=null&&v==="onScroll"&&yt("scroll",e),i||g===p||(i=[])):(i=i||[]).push(v,p))}r&&(i=i||[]).push("style",r);var v=i;(t.updateQueue=v)&&(t.flags|=4)}};Xv=function(e,t,r,n){r!==n&&(t.flags|=4)};function da(e,t){if(!Tt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function rr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function XS(e,t,r){var n=t.pendingProps;switch(Zd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rr(t),null;case 1:return Tr(t.type)&&Bu(),rr(t),null;case 3:return n=t.stateNode,ko(),bt(Er),bt(sr),th(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ca(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Jr!==null&&(Kf(Jr),Jr=null))),jf(e,t),rr(t),null;case 5:eh(t);var o=Ei(Ka.current);if(r=t.type,e!==null&&t.stateNode!=null)qv(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(we(166));return rr(t),null}if(e=Ei(hn.current),ca(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[cn]=t,n[Xa]=i,e=(t.mode&1)!==0,r){case"dialog":yt("cancel",n),yt("close",n);break;case"iframe":case"object":case"embed":yt("load",n);break;case"video":case"audio":for(o=0;o<xa.length;o++)yt(xa[o],n);break;case"source":yt("error",n);break;case"img":case"image":case"link":yt("error",n),yt("load",n);break;case"details":yt("toggle",n);break;case"input":P_(n,i),yt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},yt("invalid",n);break;case"textarea":R_(n,i),yt("invalid",n)}mf(r,i),o=null;for(var h in i)if(i.hasOwnProperty(h)){var g=i[h];h==="children"?typeof g=="string"?n.textContent!==g&&(i.suppressHydrationWarning!==!0&&tu(n.textContent,g,e),o=["children",g]):typeof g=="number"&&n.textContent!==""+g&&(i.suppressHydrationWarning!==!0&&tu(n.textContent,g,e),o=["children",""+g]):Fa.hasOwnProperty(h)&&g!=null&&h==="onScroll"&&yt("scroll",n)}switch(r){case"input":qs(n),O_(n,i,!0);break;case"textarea":qs(n),L_(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ku)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{h=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=R0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=h.createElement(r,{is:n.is}):(e=h.createElement(r),r==="select"&&(h=e,n.multiple?h.multiple=!0:n.size&&(h.size=n.size))):e=h.createElementNS(e,r),e[cn]=t,e[Xa]=n,Wv(e,t,!1,!1),t.stateNode=e;e:{switch(h=gf(r,n),r){case"dialog":yt("cancel",e),yt("close",e),o=n;break;case"iframe":case"object":case"embed":yt("load",e),o=n;break;case"video":case"audio":for(o=0;o<xa.length;o++)yt(xa[o],e);o=n;break;case"source":yt("error",e),o=n;break;case"img":case"image":case"link":yt("error",e),yt("load",e),o=n;break;case"details":yt("toggle",e),o=n;break;case"input":P_(e,n),o=ff(e,n),yt("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=Ot({},n,{value:void 0}),yt("invalid",e);break;case"textarea":R_(e,n),o=pf(e,n),yt("invalid",e);break;default:o=n}mf(r,o),g=o;for(i in g)if(g.hasOwnProperty(i)){var p=g[i];i==="style"?I0(e,p):i==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&L0(e,p)):i==="children"?typeof p=="string"?(r!=="textarea"||p!=="")&&ja(e,p):typeof p=="number"&&ja(e,""+p):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fa.hasOwnProperty(i)?p!=null&&i==="onScroll"&&yt("scroll",e):p!=null&&Id(e,i,p,h))}switch(r){case"input":qs(e),O_(e,n,!1);break;case"textarea":qs(e),L_(e);break;case"option":n.value!=null&&e.setAttribute("value",""+oi(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?To(e,!!n.multiple,i,!1):n.defaultValue!=null&&To(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ku)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rr(t),null;case 6:if(e&&t.stateNode!=null)Xv(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(we(166));if(r=Ei(Ka.current),Ei(hn.current),ca(t)){if(n=t.stateNode,r=t.memoizedProps,n[cn]=t,(i=n.nodeValue!==r)&&(e=Sr,e!==null))switch(e.tag){case 3:tu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&tu(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[cn]=t,t.stateNode=n}return rr(t),null;case 13:if(bt(St),n=t.memoizedState,Tt&&yr!==null&&(t.mode&1)!==0&&(t.flags&128)===0){for(n=yr;n;)n=Rn(n.nextSibling);return Do(),t.flags|=98560,t}if(n!==null&&n.dehydrated!==null){if(n=ca(t),e===null){if(!n)throw Error(we(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(we(317));n[cn]=t}else Do(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;return rr(t),null}return Jr!==null&&(Kf(Jr),Jr=null),(t.flags&128)!==0?(t.lanes=r,t):(n=n!==null,r=!1,e===null?ca(t):r=e.memoizedState!==null,n!==r&&n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(St.current&1)!==0?zt===0&&(zt=3):hh())),t.updateQueue!==null&&(t.flags|=4),rr(t),null);case 4:return ko(),jf(e,t),e===null&&Wa(t.stateNode.containerInfo),rr(t),null;case 10:return Xd(t.type._context),rr(t),null;case 17:return Tr(t.type)&&Bu(),rr(t),null;case 19:if(bt(St),i=t.memoizedState,i===null)return rr(t),null;if(n=(t.flags&128)!==0,h=i.rendering,h===null)if(n)da(i,!1);else{if(zt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Hu(e),h!==null){for(t.flags|=128,da(i,!1),n=h.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,h=i.alternate,h===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=h.childLanes,i.lanes=h.lanes,i.child=h.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=h.memoizedProps,i.memoizedState=h.memoizedState,i.updateQueue=h.updateQueue,i.type=h.type,e=h.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return _t(St,St.current&1|2),t.child}e=e.sibling}i.tail!==null&&Nt()>Bo&&(t.flags|=128,n=!0,da(i,!1),t.lanes=4194304)}else{if(!n)if(e=Hu(h),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),da(i,!0),i.tail===null&&i.tailMode==="hidden"&&!h.alternate&&!Tt)return rr(t),null}else 2*Nt()-i.renderingStartTime>Bo&&r!==1073741824&&(t.flags|=128,n=!0,da(i,!1),t.lanes=4194304);i.isBackwards?(h.sibling=t.child,t.child=h):(r=i.last,r!==null?r.sibling=h:t.child=h,i.last=h)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Nt(),t.sibling=null,r=St.current,_t(St,n?r&1|2:r&1),t):(rr(t),null);case 22:case 23:return dh(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&(t.mode&1)!==0?(Ar&1073741824)!==0&&(rr(t),t.subtreeFlags&6&&(t.flags|=8192)):rr(t),null;case 24:return null;case 25:return null}throw Error(we(156,t.tag))}var YS=Fn.ReactCurrentOwner,br=!1;function cr(e,t,r,n){t.child=e===null?xv(t,null,r,n):No(t,e.child,r,n)}function pm(e,t,r,n,o){r=r.render;var i=t.ref;return So(t,o),n=nh(e,t,r,n,i,o),r=ih(),e!==null&&!br?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Nn(e,t,o)):(Tt&&r&&Kd(t),t.flags|=1,cr(e,t,n,o),t.child)}function _m(e,t,r,n,o){if(e===null){var i=r.type;return typeof i=="function"&&!ph(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Yv(e,t,i,n,o)):(e=Eu(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,(e.lanes&o)===0){var h=i.memoizedProps;if(r=r.compare,r=r!==null?r:$a,r(h,n)&&e.ref===t.ref)return Nn(e,t,o)}return t.flags|=1,e=si(i,n),e.ref=t.ref,e.return=t,t.child=e}function Yv(e,t,r,n,o){if(e!==null){var i=e.memoizedProps;if($a(i,n)&&e.ref===t.ref)if(br=!1,t.pendingProps=n=i,(e.lanes&o)!==0)(e.flags&131072)!==0&&(br=!0);else return t.lanes=e.lanes,Nn(e,t,o)}return zf(e,t,r,n,o)}function Kv(e,t,r){var n=t.pendingProps,o=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(_o,Ar),Ar|=r;else if((r&1073741824)!==0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,_t(_o,Ar),Ar|=n;else return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_t(_o,Ar),Ar|=e,null;else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,_t(_o,Ar),Ar|=n;return cr(e,t,o,r),t.child}function Zv(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function zf(e,t,r,n,o){var i=Tr(r)?Ri:sr.current;return i=Mo(t,i),So(t,o),r=nh(e,t,r,n,i,o),n=ih(),e!==null&&!br?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Nn(e,t,o)):(Tt&&n&&Kd(t),t.flags|=1,cr(e,t,r,o),t.child)}function mm(e,t,r,n,o){if(Tr(r)){var i=!0;Fu(t)}else i=!1;if(So(t,o),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),yv(t,r,n),Nf(t,r,n,o),n=!0;else if(e===null){var h=t.stateNode,g=t.memoizedProps;h.props=g;var p=h.context,v=r.contextType;typeof v=="object"&&v!==null?v=Hr(v):(v=Tr(r)?Ri:sr.current,v=Mo(t,v));var d=r.getDerivedStateFromProps,c=typeof d=="function"||typeof h.getSnapshotBeforeUpdate=="function";c||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==n||p!==v)&&om(t,h,n,v),Hn=!1;var a=t.memoizedState;h.state=a,Uu(t,n,h,o),p=t.memoizedState,g!==n||a!==p||Er.current||Hn?(typeof d=="function"&&(Df(t,r,d,n),p=t.memoizedState),(g=Hn||im(t,r,g,n,a,p,v))?(c||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=p),h.props=n,h.state=p,h.context=v,n=g):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{h=t.stateNode,gv(e,t),g=t.memoizedProps,v=t.type===t.elementType?g:Zr(t.type,g),h.props=v,c=t.pendingProps,a=h.context,p=r.contextType,typeof p=="object"&&p!==null?p=Hr(p):(p=Tr(r)?Ri:sr.current,p=Mo(t,p));var l=r.getDerivedStateFromProps;(d=typeof l=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==c||a!==p)&&om(t,h,n,p),Hn=!1,a=t.memoizedState,h.state=a,Uu(t,n,h,o);var s=t.memoizedState;g!==c||a!==s||Er.current||Hn?(typeof l=="function"&&(Df(t,r,l,n),s=t.memoizedState),(v=Hn||im(t,r,v,n,a,s,p)||!1)?(d||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(n,s,p),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(n,s,p)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&a===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&a===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=s),h.props=n,h.state=s,h.context=p,n=v):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&a===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&a===e.memoizedState||(t.flags|=1024),n=!1)}return Uf(e,t,r,n,i,o)}function Uf(e,t,r,n,o,i){Zv(e,t);var h=(t.flags&128)!==0;if(!n&&!h)return o&&tm(t,r,!1),Nn(e,t,i);n=t.stateNode,YS.current=t;var g=h&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&h?(t.child=No(t,e.child,null,i),t.child=No(t,null,g,i)):cr(e,t,g,i),t.memoizedState=n.state,o&&tm(t,r,!0),t.child}function Qv(e){var t=e.stateNode;t.pendingContext?em(e,t.pendingContext,t.pendingContext!==t.context):t.context&&em(e,t.context,!1),Jd(e,t.containerInfo)}function gm(e,t,r,n,o){return Do(),Qd(o),t.flags|=256,cr(e,t,r,n),t.child}var nu={dehydrated:null,treeContext:null,retryLane:0};function iu(e){return{baseLanes:e,cachePool:null,transitions:null}}function vm(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Jv(e,t,r){var n=t.pendingProps,o=St.current,i=!1,h=(t.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(o&2)!==0),g?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),_t(St,o&1),e===null)return Bf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},(n&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zu(o,n,0,null),e=Si(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=iu(r),t.memoizedState=nu,e):Gf(t,o));if(o=e.memoizedState,o!==null){if(g=o.dehydrated,g!==null){if(h)return t.flags&256?(t.flags&=-257,ou(e,t,r,Error(we(422)))):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,o=t.mode,n=Zu({mode:"visible",children:n.children},o,0,null),i=Si(i,o,r,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,(t.mode&1)!==0&&No(t,e.child,null,r),t.child.memoizedState=iu(r),t.memoizedState=nu,i);if((t.mode&1)===0)t=ou(e,t,r,null);else if(g.data==="$!")t=ou(e,t,r,Error(we(419)));else if(n=(r&e.childLanes)!==0,br||n){if(n=Ut,n!==null){switch(r&-r){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}n=(i&(n.suspendedLanes|r))!==0?0:i,n!==0&&n!==o.retryLane&&(o.retryLane=n,Vr(e,n,-1))}hh(),t=ou(e,t,r,Error(we(421)))}else g.data==="$?"?(t.flags|=128,t.child=e.child,t=sP.bind(null,e),g._reactRetry=t,t=null):(r=o.treeContext,yr=Rn(g.nextSibling),Sr=t,Tt=!0,Jr=null,r!==null&&(Fr[jr++]=Ln,Fr[jr++]=Cn,Fr[jr++]=Li,Ln=r.id,Cn=r.overflow,Li=t),t=Gf(t,t.pendingProps.children),t.flags|=4096);return t}return i?(n=bm(e,t,n.children,n.fallback,r),i=t.child,o=e.child.memoizedState,i.memoizedState=o===null?iu(r):vm(o,r),i.childLanes=e.childLanes&~r,t.memoizedState=nu,n):(r=ym(e,t,n.children,r),t.memoizedState=null,r)}return i?(n=bm(e,t,n.children,n.fallback,r),i=t.child,o=e.child.memoizedState,i.memoizedState=o===null?iu(r):vm(o,r),i.childLanes=e.childLanes&~r,t.memoizedState=nu,n):(r=ym(e,t,n.children,r),t.memoizedState=null,r)}function Gf(e,t){return t=Zu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ym(e,t,r,n){var o=e.child;return e=o.sibling,r=si(o,{mode:"visible",children:r}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r}function bm(e,t,r,n,o){var i=t.mode;e=e.child;var h=e.sibling,g={mode:"hidden",children:r};return(i&1)===0&&t.child!==e?(r=t.child,r.childLanes=0,r.pendingProps=g,t.deletions=null):(r=si(e,g),r.subtreeFlags=e.subtreeFlags&14680064),h!==null?n=si(h,n):(n=Si(n,i,o,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function ou(e,t,r,n){return n!==null&&Qd(n),No(t,e.child,null,r),e=Gf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Em(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Mf(e.return,t,r)}function Hc(e,t,r,n,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=o)}function ey(e,t,r){var n=t.pendingProps,o=n.revealOrder,i=n.tail;if(cr(e,t,n.children,r),n=St.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Em(e,r,t);else if(e.tag===19)Em(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(_t(St,n),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&Hu(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),Hc(t,!1,o,r,i);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Hu(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Hc(t,!0,r,null,i);break;case"together":Hc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Nn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ii|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(we(153));if(t.child!==null){for(e=t.child,r=si(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=si(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function KS(e,t,r){switch(t.tag){case 3:Qv(t),Do();break;case 5:wv(t);break;case 1:Tr(t.type)&&Fu(t);break;case 4:Jd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;_t(ju,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(_t(St,St.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Jv(e,t,r):(_t(St,St.current&1),e=Nn(e,t,r),e!==null?e.sibling:null);_t(St,St.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&128)!==0){if(n)return ey(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),_t(St,St.current),n)break;return null;case 22:case 23:return t.lanes=0,Kv(e,t,r)}return Nn(e,t,r)}function ZS(e,t){switch(Zd(t),t.tag){case 1:return Tr(t.type)&&Bu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ko(),bt(Er),bt(sr),th(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return eh(t),null;case 13:if(bt(St),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(we(340));Do()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return bt(St),null;case 4:return ko(),null;case 10:return Xd(t.type._context),null;case 22:case 23:return dh(),null;case 24:return null;default:return null}}var au=!1,ir=!1,QS=typeof WeakSet=="function"?WeakSet:Set,Be=null;function po(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Lt(e,t,n)}else r.current=null}function Vf(e,t,r){try{r()}catch(n){Lt(e,t,n)}}var Tm=!1;function JS(e,t){if(Pf=Mu,e=av(),$d(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var h=0,g=-1,p=-1,v=0,d=0,c=e,a=null;t:for(;;){for(var l;c!==r||o!==0&&c.nodeType!==3||(g=h+o),c!==i||n!==0&&c.nodeType!==3||(p=h+n),c.nodeType===3&&(h+=c.nodeValue.length),(l=c.firstChild)!==null;)a=c,c=l;for(;;){if(c===e)break t;if(a===r&&++v===o&&(g=h),a===i&&++d===n&&(p=h),(l=c.nextSibling)!==null)break;c=a,a=c.parentNode}c=l}r=g===-1||p===-1?null:{start:g,end:p}}else r=null}r=r||{start:0,end:0}}else r=null;for(Of={focusedElem:e,selectionRange:r},Mu=!1,Be=t;Be!==null;)if(t=Be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Be=e;else for(;Be!==null;){t=Be;try{var s=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(s!==null){var u=s.memoizedProps,f=s.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?u:Zr(t.type,u),f);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;if(b.nodeType===1)b.textContent="";else if(b.nodeType===9){var E=b.body;E!=null&&(E.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(x){Lt(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,Be=e;break}Be=t.return}return s=Tm,Tm=!1,s}function Ia(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Vf(t,r,i)}o=o.next}while(o!==n)}}function ml(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Hf(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ty(e){var t=e.alternate;t!==null&&(e.alternate=null,ty(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cn],delete t[Xa],delete t[Cf],delete t[kS],delete t[BS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ry(e){return e.tag===5||e.tag===3||e.tag===4}function xm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $f(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ku));else if(n!==4&&(e=e.child,e!==null))for($f(e,t,r),e=e.sibling;e!==null;)$f(e,t,r),e=e.sibling}function Wf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Wf(e,t,r),e=e.sibling;e!==null;)Wf(e,t,r),e=e.sibling}var Kt=null,Qr=!1;function Gn(e,t,r){for(r=r.child;r!==null;)ny(e,t,r),r=r.sibling}function ny(e,t,r){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(ul,r)}catch{}switch(r.tag){case 5:ir||po(r,t);case 6:var n=Kt,o=Qr;Kt=null,Gn(e,t,r),Kt=n,Qr=o,Kt!==null&&(Qr?(e=Kt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Kt.removeChild(r.stateNode));break;case 18:Kt!==null&&(Qr?(e=Kt,r=r.stateNode,e.nodeType===8?Fc(e.parentNode,r):e.nodeType===1&&Fc(e,r),Va(e)):Fc(Kt,r.stateNode));break;case 4:n=Kt,o=Qr,Kt=r.stateNode.containerInfo,Qr=!0,Gn(e,t,r),Kt=n,Qr=o;break;case 0:case 11:case 14:case 15:if(!ir&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var i=o,h=i.destroy;i=i.tag,h!==void 0&&((i&2)!==0||(i&4)!==0)&&Vf(r,t,h),o=o.next}while(o!==n)}Gn(e,t,r);break;case 1:if(!ir&&(po(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(g){Lt(r,t,g)}Gn(e,t,r);break;case 21:Gn(e,t,r);break;case 22:r.mode&1?(ir=(n=ir)||r.memoizedState!==null,Gn(e,t,r),ir=n):Gn(e,t,r);break;default:Gn(e,t,r)}}function wm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new QS),t.forEach(function(n){var o=uP.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function Yr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var i=e,h=t,g=h;e:for(;g!==null;){switch(g.tag){case 5:Kt=g.stateNode,Qr=!1;break e;case 3:Kt=g.stateNode.containerInfo,Qr=!0;break e;case 4:Kt=g.stateNode.containerInfo,Qr=!0;break e}g=g.return}if(Kt===null)throw Error(we(160));ny(i,h,o),Kt=null,Qr=!1;var p=o.alternate;p!==null&&(p.return=null),o.return=null}catch(v){Lt(o,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)iy(t,e),t=t.sibling}function iy(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yr(t,e),an(e),n&4){try{Ia(3,e,e.return),ml(3,e)}catch(s){Lt(e,e.return,s)}try{Ia(5,e,e.return)}catch(s){Lt(e,e.return,s)}}break;case 1:Yr(t,e),an(e),n&512&&r!==null&&po(r,r.return);break;case 5:if(Yr(t,e),an(e),n&512&&r!==null&&po(r,r.return),e.flags&32){var o=e.stateNode;try{ja(o,"")}catch(s){Lt(e,e.return,s)}}if(n&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,h=r!==null?r.memoizedProps:i,g=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{g==="input"&&i.type==="radio"&&i.name!=null&&P0(o,i),gf(g,h);var v=gf(g,i);for(h=0;h<p.length;h+=2){var d=p[h],c=p[h+1];d==="style"?I0(o,c):d==="dangerouslySetInnerHTML"?L0(o,c):d==="children"?ja(o,c):Id(o,d,c,v)}switch(g){case"input":df(o,i);break;case"textarea":O0(o,i);break;case"select":var a=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var l=i.value;l!=null?To(o,!!i.multiple,l,!1):a!==!!i.multiple&&(i.defaultValue!=null?To(o,!!i.multiple,i.defaultValue,!0):To(o,!!i.multiple,i.multiple?[]:"",!1))}o[Xa]=i}catch(s){Lt(e,e.return,s)}}break;case 6:if(Yr(t,e),an(e),n&4){if(e.stateNode===null)throw Error(we(162));v=e.stateNode,d=e.memoizedProps;try{v.nodeValue=d}catch(s){Lt(e,e.return,s)}}break;case 3:if(Yr(t,e),an(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Va(t.containerInfo)}catch(s){Lt(e,e.return,s)}break;case 4:Yr(t,e),an(e);break;case 13:Yr(t,e),an(e),v=e.child,v.flags&8192&&v.memoizedState!==null&&(v.alternate===null||v.alternate.memoizedState===null)&&(ch=Nt()),n&4&&wm(e);break;case 22:if(v=r!==null&&r.memoizedState!==null,e.mode&1?(ir=(d=ir)||v,Yr(t,e),ir=d):Yr(t,e),an(e),n&8192){d=e.memoizedState!==null;e:for(c=null,a=e;;){if(a.tag===5){if(c===null){c=a;try{o=a.stateNode,d?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(g=a.stateNode,p=a.memoizedProps.style,h=p!=null&&p.hasOwnProperty("display")?p.display:null,g.style.display=C0("display",h))}catch(s){Lt(e,e.return,s)}}}else if(a.tag===6){if(c===null)try{a.stateNode.nodeValue=d?"":a.memoizedProps}catch(s){Lt(e,e.return,s)}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===e)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}if(d&&!v&&(e.mode&1)!==0)for(Be=e,e=e.child;e!==null;){for(v=Be=e;Be!==null;){switch(d=Be,c=d.child,d.tag){case 0:case 11:case 14:case 15:Ia(4,d,d.return);break;case 1:if(po(d,d.return),i=d.stateNode,typeof i.componentWillUnmount=="function"){a=d,l=d.return;try{o=a,i.props=o.memoizedProps,i.state=o.memoizedState,i.componentWillUnmount()}catch(s){Lt(a,l,s)}}break;case 5:po(d,d.return);break;case 22:if(d.memoizedState!==null){Sm(v);continue}}c!==null?(c.return=d,Be=c):Sm(v)}e=e.sibling}}break;case 19:Yr(t,e),an(e),n&4&&wm(e);break;case 21:break;default:Yr(t,e),an(e)}}function an(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ry(r)){var n=r;break e}r=r.return}throw Error(we(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(ja(o,""),n.flags&=-33);var i=xm(e);Wf(e,i,o);break;case 3:case 4:var h=n.stateNode.containerInfo,g=xm(e);$f(e,g,h);break;default:throw Error(we(161))}}catch(p){Lt(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eP(e,t,r){Be=e,oy(e)}function oy(e,t,r){for(var n=(e.mode&1)!==0;Be!==null;){var o=Be,i=o.child;if(o.tag===22&&n){var h=o.memoizedState!==null||au;if(!h){var g=o.alternate,p=g!==null&&g.memoizedState!==null||ir;g=au;var v=ir;if(au=h,(ir=p)&&!v)for(Be=o;Be!==null;)h=Be,p=h.child,h.tag===22&&h.memoizedState!==null?Pm(o):p!==null?(p.return=h,Be=p):Pm(o);for(;i!==null;)Be=i,oy(i),i=i.sibling;Be=o,au=g,ir=v}Am(e)}else(o.subtreeFlags&8772)!==0&&i!==null?(i.return=o,Be=i):Am(e)}}function Am(e){for(;Be!==null;){var t=Be;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ir||ml(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ir)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:Zr(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&nm(t,i,n);break;case 3:var h=t.updateQueue;if(h!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}nm(t,h,r)}break;case 5:var g=t.stateNode;if(r===null&&t.flags&4){r=g;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&r.focus();break;case"img":p.src&&(r.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var d=v.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&Va(c)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(we(163))}ir||t.flags&512&&Hf(t)}catch(a){Lt(t,t.return,a)}}if(t===e){Be=null;break}if(r=t.sibling,r!==null){r.return=t.return,Be=r;break}Be=t.return}}function Sm(e){for(;Be!==null;){var t=Be;if(t===e){Be=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Be=r;break}Be=t.return}}function Pm(e){for(;Be!==null;){var t=Be;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ml(4,t)}catch(p){Lt(t,r,p)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(p){Lt(t,o,p)}}var i=t.return;try{Hf(t)}catch(p){Lt(t,i,p)}break;case 5:var h=t.return;try{Hf(t)}catch(p){Lt(t,h,p)}}}catch(p){Lt(t,t.return,p)}if(t===e){Be=null;break}var g=t.sibling;if(g!==null){g.return=t.return,Be=g;break}Be=t.return}}var tP=Math.ceil,qu=Fn.ReactCurrentDispatcher,uh=Fn.ReactCurrentOwner,Gr=Fn.ReactCurrentBatchConfig,rt=0,Ut=null,Ft=null,Qt=0,Ar=0,_o=fi(0),zt=0,es=null,Ii=0,gl=0,lh=0,Ma=null,vr=null,ch=0,Bo=1/0,An=null,Xu=!1,qf=null,ti=null,su=!1,Yn=null,Yu=0,Da=0,Xf=null,yu=-1,bu=0;function fr(){return(rt&6)!==0?Nt():yu!==-1?yu:yu=Nt()}function ri(e){return(e.mode&1)===0?1:(rt&2)!==0&&Qt!==0?Qt&-Qt:jS.transition!==null?(bu===0&&(bu=H0()),bu):(e=lt,e!==0||(e=window.event,e=e===void 0?16:Z0(e.type)),e)}function Vr(e,t,r){if(50<Da)throw Da=0,Xf=null,Error(we(185));var n=vl(e,t);return n===null?null:(cs(n,t,r),((rt&2)===0||n!==Ut)&&(n===Ut&&((rt&2)===0&&(gl|=t),zt===4&&Wn(n,Qt)),xr(n,r),t===1&&rt===0&&(e.mode&1)===0&&(Bo=Nt()+500,hl&&di())),n)}function vl(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function ay(e){return(Ut!==null||en!==null)&&(e.mode&1)!==0&&(rt&2)===0}function xr(e,t){var r=e.callbackNode;jA(e,t);var n=Iu(e,e===Ut?Qt:0);if(n===0)r!==null&&M_(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&M_(r),t===1)e.tag===0?FS(Om.bind(null,e)):mv(Om.bind(null,e)),DS(function(){rt===0&&di()}),r=null;else{switch($0(n)){case 1:r=Bd;break;case 4:r=G0;break;case 16:r=Cu;break;case 536870912:r=V0;break;default:r=Cu}r=py(r,sy.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sy(e,t){if(yu=-1,bu=0,(rt&6)!==0)throw Error(we(327));var r=e.callbackNode;if(Po()&&e.callbackNode!==r)return null;var n=Iu(e,e===Ut?Qt:0);if(n===0)return null;if((n&30)!==0||(n&e.expiredLanes)!==0||t)t=Ku(e,n);else{t=n;var o=rt;rt|=2;var i=ly();(Ut!==e||Qt!==t)&&(An=null,Bo=Nt()+500,Ai(e,t));do try{iP();break}catch(g){uy(e,g)}while(1);qd(),qu.current=i,rt=o,Ft!==null?t=0:(Ut=null,Qt=0,t=zt)}if(t!==0){if(t===2&&(o=Tf(e),o!==0&&(n=o,t=Yf(e,o))),t===1)throw r=es,Ai(e,0),Wn(e,n),xr(e,Nt()),r;if(t===6)Wn(e,n);else{if(o=e.current.alternate,(n&30)===0&&!rP(o)&&(t=Ku(e,n),t===2&&(i=Tf(e),i!==0&&(n=i,t=Yf(e,i))),t===1))throw r=es,Ai(e,0),Wn(e,n),xr(e,Nt()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(we(345));case 2:gi(e,vr,An);break;case 3:if(Wn(e,n),(n&130023424)===n&&(t=ch+500-Nt(),10<t)){if(Iu(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){fr(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Lf(gi.bind(null,e,vr,An),t);break}gi(e,vr,An);break;case 4:if(Wn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var h=31-tn(n);i=1<<h,h=t[h],h>o&&(o=h),n&=~i}if(n=o,n=Nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*tP(n/1960))-n,10<n){e.timeoutHandle=Lf(gi.bind(null,e,vr,An),n);break}gi(e,vr,An);break;case 5:gi(e,vr,An);break;default:throw Error(we(329))}}}return xr(e,Nt()),e.callbackNode===r?sy.bind(null,e):null}function Yf(e,t){var r=Ma;return e.current.memoizedState.isDehydrated&&(Ai(e,t).flags|=256),e=Ku(e,t),e!==2&&(t=vr,vr=r,t!==null&&Kf(t)),e}function Kf(e){vr===null?vr=e:vr.push.apply(vr,e)}function rP(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],i=o.getSnapshot;o=o.value;try{if(!rn(i(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wn(e,t){for(t&=~lh,t&=~gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-tn(t),n=1<<r;e[r]=-1,t&=~n}}function Om(e){if((rt&6)!==0)throw Error(we(327));Po();var t=Iu(e,0);if((t&1)===0)return xr(e,Nt()),null;var r=Ku(e,t);if(e.tag!==0&&r===2){var n=Tf(e);n!==0&&(t=n,r=Yf(e,n))}if(r===1)throw r=es,Ai(e,0),Wn(e,t),xr(e,Nt()),r;if(r===6)throw Error(we(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gi(e,vr,An),xr(e,Nt()),null}function fh(e,t){var r=rt;rt|=1;try{return e(t)}finally{rt=r,rt===0&&(Bo=Nt()+500,hl&&di())}}function Mi(e){Yn!==null&&Yn.tag===0&&(rt&6)===0&&Po();var t=rt;rt|=1;var r=Gr.transition,n=lt;try{if(Gr.transition=null,lt=1,e)return e()}finally{lt=n,Gr.transition=r,rt=t,(rt&6)===0&&di()}}function dh(){Ar=_o.current,bt(_o)}function Ai(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,MS(r)),Ft!==null)for(r=Ft.return;r!==null;){var n=r;switch(Zd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bu();break;case 3:ko(),bt(Er),bt(sr),th();break;case 5:eh(n);break;case 4:ko();break;case 13:bt(St);break;case 19:bt(St);break;case 10:Xd(n.type._context);break;case 22:case 23:dh()}r=r.return}if(Ut=e,Ft=e=si(e.current,null),Qt=Ar=t,zt=0,es=null,lh=gl=Ii=0,vr=Ma=null,en!==null){for(t=0;t<en.length;t++)if(r=en[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,i=r.pending;if(i!==null){var h=i.next;i.next=o,n.next=h}r.pending=n}en=null}return e}function uy(e,t){do{var r=Ft;try{if(qd(),gu.current=Wu,$u){for(var n=Pt.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}$u=!1}if(Ci=0,Wt=jt=Pt=null,Ca=!1,Za=0,uh.current=null,r===null||r.return===null){zt=1,es=t,Ft=null;break}e:{var i=e,h=r.return,g=r,p=t;if(t=Qt,g.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var v=p,d=g,c=d.tag;if((d.mode&1)===0&&(c===0||c===11||c===15)){var a=d.alternate;a?(d.updateQueue=a.updateQueue,d.memoizedState=a.memoizedState,d.lanes=a.lanes):(d.updateQueue=null,d.memoizedState=null)}var l=dm(h);if(l!==null){l.flags&=-257,hm(l,h,g,i,t),l.mode&1&&fm(i,v,t),t=l,p=v;var s=t.updateQueue;if(s===null){var u=new Set;u.add(p),t.updateQueue=u}else s.add(p);break e}else{if((t&1)===0){fm(i,v,t),hh();break e}p=Error(we(426))}}else if(Tt&&g.mode&1){var f=dm(h);if(f!==null){(f.flags&65536)===0&&(f.flags|=256),hm(f,h,g,i,t),Qd(p);break e}}i=p,zt!==4&&(zt=2),Ma===null?Ma=[i]:Ma.push(i),p=sh(p,g),g=h;do{switch(g.tag){case 3:g.flags|=65536,t&=-t,g.lanes|=t;var m=Hv(g,p,t);rm(g,m);break e;case 1:i=p;var y=g.type,b=g.stateNode;if((g.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ti===null||!ti.has(b)))){g.flags|=65536,t&=-t,g.lanes|=t;var E=$v(g,i,t);rm(g,E);break e}}g=g.return}while(g!==null)}fy(r)}catch(x){t=x,Ft===r&&r!==null&&(Ft=r=r.return);continue}break}while(1)}function ly(){var e=qu.current;return qu.current=Wu,e===null?Wu:e}function hh(){(zt===0||zt===3||zt===2)&&(zt=4),Ut===null||(Ii&268435455)===0&&(gl&268435455)===0||Wn(Ut,Qt)}function Ku(e,t){var r=rt;rt|=2;var n=ly();(Ut!==e||Qt!==t)&&(An=null,Ai(e,t));do try{nP();break}catch(o){uy(e,o)}while(1);if(qd(),rt=r,qu.current=n,Ft!==null)throw Error(we(261));return Ut=null,Qt=0,zt}function nP(){for(;Ft!==null;)cy(Ft)}function iP(){for(;Ft!==null&&!LA();)cy(Ft)}function cy(e){var t=hy(e.alternate,e,Ar);e.memoizedProps=e.pendingProps,t===null?fy(e):Ft=t,uh.current=null}function fy(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=XS(r,t,Ar),r!==null){Ft=r;return}}else{if(r=ZS(r,t),r!==null){r.flags&=32767,Ft=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{zt=6,Ft=null;return}}if(t=t.sibling,t!==null){Ft=t;return}Ft=t=e}while(t!==null);zt===0&&(zt=5)}function gi(e,t,r){var n=lt,o=Gr.transition;try{Gr.transition=null,lt=1,oP(e,t,r,n)}finally{Gr.transition=o,lt=n}return null}function oP(e,t,r,n){do Po();while(Yn!==null);if((rt&6)!==0)throw Error(we(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(we(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(zA(e,i),e===Ut&&(Ft=Ut=null,Qt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||su||(su=!0,py(Cu,function(){return Po(),null})),i=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||i){i=Gr.transition,Gr.transition=null;var h=lt;lt=1;var g=rt;rt|=4,uh.current=null,JS(e,r),iy(r,e),SS(Of),Mu=!!Pf,Of=Pf=null,e.current=r,eP(r),CA(),rt=g,lt=h,Gr.transition=i}else e.current=r;if(su&&(su=!1,Yn=e,Yu=o),i=e.pendingLanes,i===0&&(ti=null),DA(r.stateNode),xr(e,Nt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Xu)throw Xu=!1,e=qf,qf=null,e;return(Yu&1)!==0&&e.tag!==0&&Po(),i=e.pendingLanes,(i&1)!==0?e===Xf?Da++:(Da=0,Xf=e):Da=0,di(),null}function Po(){if(Yn!==null){var e=$0(Yu),t=Gr.transition,r=lt;try{if(Gr.transition=null,lt=16>e?16:e,Yn===null)var n=!1;else{if(e=Yn,Yn=null,Yu=0,(rt&6)!==0)throw Error(we(331));var o=rt;for(rt|=4,Be=e.current;Be!==null;){var i=Be,h=i.child;if((Be.flags&16)!==0){var g=i.deletions;if(g!==null){for(var p=0;p<g.length;p++){var v=g[p];for(Be=v;Be!==null;){var d=Be;switch(d.tag){case 0:case 11:case 15:Ia(8,d,i)}var c=d.child;if(c!==null)c.return=d,Be=c;else for(;Be!==null;){d=Be;var a=d.sibling,l=d.return;if(ty(d),d===v){Be=null;break}if(a!==null){a.return=l,Be=a;break}Be=l}}}var s=i.alternate;if(s!==null){var u=s.child;if(u!==null){s.child=null;do{var f=u.sibling;u.sibling=null,u=f}while(u!==null)}}Be=i}}if((i.subtreeFlags&2064)!==0&&h!==null)h.return=i,Be=h;else e:for(;Be!==null;){if(i=Be,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:Ia(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,Be=m;break e}Be=i.return}}var y=e.current;for(Be=y;Be!==null;){h=Be;var b=h.child;if((h.subtreeFlags&2064)!==0&&b!==null)b.return=h,Be=b;else e:for(h=y;Be!==null;){if(g=Be,(g.flags&2048)!==0)try{switch(g.tag){case 0:case 11:case 15:ml(9,g)}}catch(x){Lt(g,g.return,x)}if(g===h){Be=null;break e}var E=g.sibling;if(E!==null){E.return=g.return,Be=E;break e}Be=g.return}}if(rt=o,di(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(ul,e)}catch{}n=!0}return n}finally{lt=r,Gr.transition=t}}return!1}function Rm(e,t,r){t=sh(r,t),t=Hv(e,t,1),ei(e,t),t=fr(),e=vl(e,1),e!==null&&(cs(e,1,t),xr(e,t))}function Lt(e,t,r){if(e.tag===3)Rm(e,e,r);else for(;t!==null;){if(t.tag===3){Rm(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ti===null||!ti.has(n))){e=sh(r,e),e=$v(t,e,1),ei(t,e),e=fr(),t=vl(t,1),t!==null&&(cs(t,1,e),xr(t,e));break}}t=t.return}}function aP(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=fr(),e.pingedLanes|=e.suspendedLanes&r,Ut===e&&(Qt&r)===r&&(zt===4||zt===3&&(Qt&130023424)===Qt&&500>Nt()-ch?Ai(e,0):lh|=r),xr(e,t)}function dy(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ks,Ks<<=1,(Ks&130023424)===0&&(Ks=4194304)));var r=fr();e=vl(e,t),e!==null&&(cs(e,t,r),xr(e,r))}function sP(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),dy(e,r)}function uP(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(we(314))}n!==null&&n.delete(t),dy(e,r)}var hy;hy=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Er.current)br=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return br=!1,KS(e,t,r);br=(e.flags&131072)!==0}else br=!1,Tt&&(t.flags&1048576)!==0&&bv(t,Vu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var o=Mo(t,sr.current);So(t,r),o=nh(null,t,n,e,o,r);var i=ih();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tr(n)?(i=!0,Fu(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Yd(t),o.updater=pl,t.stateNode=o,o._reactInternals=t,Nf(t,n,e,r),t=Uf(null,t,n,!0,i,r)):(t.tag=0,Tt&&i&&Kd(t),cr(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=cP(n),e=Zr(n,e),o){case 0:t=zf(null,t,n,e,r);break e;case 1:t=mm(null,t,n,e,r);break e;case 11:t=pm(null,t,n,e,r);break e;case 14:t=_m(null,t,n,Zr(n.type,e),r);break e}throw Error(we(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Zr(n,o),zf(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Zr(n,o),mm(e,t,n,o,r);case 3:e:{if(Qv(t),e===null)throw Error(we(387));n=t.pendingProps,i=t.memoizedState,o=i.element,gv(e,t),Uu(t,n,null,r);var h=t.memoizedState;if(n=h.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Error(we(423)),t=gm(e,t,n,r,o);break e}else if(n!==o){o=Error(we(424)),t=gm(e,t,n,r,o);break e}else for(yr=Rn(t.stateNode.containerInfo.firstChild),Sr=t,Tt=!0,Jr=null,r=xv(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Do(),n===o){t=Nn(e,t,r);break e}cr(e,t,n,r)}t=t.child}return t;case 5:return wv(t),e===null&&Bf(t),n=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,h=o.children,Rf(n,o)?h=null:i!==null&&Rf(n,i)&&(t.flags|=32),Zv(e,t),cr(e,t,h,r),t.child;case 6:return e===null&&Bf(t),null;case 13:return Jv(e,t,r);case 4:return Jd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=No(t,null,n,r):cr(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Zr(n,o),pm(e,t,n,o,r);case 7:return cr(e,t,t.pendingProps,r),t.child;case 8:return cr(e,t,t.pendingProps.children,r),t.child;case 12:return cr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,i=t.memoizedProps,h=o.value,_t(ju,n._currentValue),n._currentValue=h,i!==null)if(rn(i.value,h)){if(i.children===o.children&&!Er.current){t=Nn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var g=i.dependencies;if(g!==null){h=i.child;for(var p=g.firstContext;p!==null;){if(p.context===n){if(i.tag===1){p=In(-1,r&-r),p.tag=2;var v=i.updateQueue;if(v!==null){v=v.shared;var d=v.pending;d===null?p.next=p:(p.next=d.next,d.next=p),v.pending=p}}i.lanes|=r,p=i.alternate,p!==null&&(p.lanes|=r),Mf(i.return,r,t),g.lanes|=r;break}p=p.next}}else if(i.tag===10)h=i.type===t.type?null:i.child;else if(i.tag===18){if(h=i.return,h===null)throw Error(we(341));h.lanes|=r,g=h.alternate,g!==null&&(g.lanes|=r),Mf(h,r,t),h=i.sibling}else h=i.child;if(h!==null)h.return=i;else for(h=i;h!==null;){if(h===t){h=null;break}if(i=h.sibling,i!==null){i.return=h.return,h=i;break}h=h.return}i=h}cr(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,So(t,r),o=Hr(o),n=n(o),t.flags|=1,cr(e,t,n,r),t.child;case 14:return n=t.type,o=Zr(n,t.pendingProps),o=Zr(n.type,o),_m(e,t,n,o,r);case 15:return Yv(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Zr(n,o),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Tr(n)?(e=!0,Fu(t)):e=!1,So(t,r),yv(t,n,o),Nf(t,n,o,r),Uf(null,t,n,!0,e,r);case 19:return ey(e,t,r);case 22:return Kv(e,t,r)}throw Error(we(156,t.tag))};function py(e,t){return U0(e,t)}function lP(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(e,t,r,n){return new lP(e,t,r,n)}function ph(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cP(e){if(typeof e=="function")return ph(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dd)return 11;if(e===Nd)return 14}return 2}function si(e,t){var r=e.alternate;return r===null?(r=Ur(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Eu(e,t,r,n,o,i){var h=2;if(n=e,typeof e=="function")ph(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case io:return Si(r.children,o,i,t);case Md:h=8,o|=8;break;case sf:return e=Ur(12,r,t,o|2),e.elementType=sf,e.lanes=i,e;case uf:return e=Ur(13,r,t,o),e.elementType=uf,e.lanes=i,e;case lf:return e=Ur(19,r,t,o),e.elementType=lf,e.lanes=i,e;case w0:return Zu(r,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T0:h=10;break e;case x0:h=9;break e;case Dd:h=11;break e;case Nd:h=14;break e;case Vn:h=16,n=null;break e}throw Error(we(130,e==null?e:typeof e,""))}return t=Ur(h,r,t,o),t.elementType=e,t.type=n,t.lanes=i,t}function Si(e,t,r,n){return e=Ur(7,e,n,t),e.lanes=r,e}function Zu(e,t,r,n){return e=Ur(22,e,n,t),e.elementType=w0,e.lanes=r,e.stateNode={},e}function $c(e,t,r){return e=Ur(6,e,null,t),e.lanes=r,e}function Wc(e,t,r){return t=Ur(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fP(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pc(0),this.expirationTimes=Pc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pc(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function _h(e,t,r,n,o,i,h,g,p){return e=new fP(e,t,r,g,p),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ur(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yd(i),e}function dP(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:no,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function _y(e){if(!e)return ai;e=e._reactInternals;e:{if(zi(e)!==e||e.tag!==1)throw Error(we(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(we(171))}if(e.tag===1){var r=e.type;if(Tr(r))return _v(e,r,t)}return t}function my(e,t,r,n,o,i,h,g,p){return e=_h(r,n,!0,e,o,i,h,g,p),e.context=_y(null),r=e.current,n=fr(),o=ri(r),i=In(n,o),i.callback=t!=null?t:null,ei(r,i),e.current.lanes=o,cs(e,o,n),xr(e,n),e}function yl(e,t,r,n){var o=t.current,i=fr(),h=ri(o);return r=_y(r),t.context===null?t.context=r:t.pendingContext=r,t=In(i,h),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),ei(o,t),e=Vr(o,h,i),e!==null&&mu(e,o,h),h}function Qu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Lm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function mh(e,t){Lm(e,t),(e=e.alternate)&&Lm(e,t)}function hP(){return null}var gy=typeof reportError=="function"?reportError:function(e){console.error(e)};function gh(e){this._internalRoot=e}bl.prototype.render=gh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(we(409));yl(e,t,null,null)};bl.prototype.unmount=gh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mi(function(){yl(null,e,null,null)}),t[Dn]=null}};function bl(e){this._internalRoot=e}bl.prototype.unstable_scheduleHydration=function(e){if(e){var t=X0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<$n.length&&t!==0&&t<$n[r].priority;r++);$n.splice(r,0,e),r===0&&K0(e)}};function vh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function El(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cm(){}function pP(e,t,r,n,o){if(o){if(typeof n=="function"){var i=n;n=function(){var v=Qu(h);i.call(v)}}var h=my(t,n,e,0,null,!1,!1,"",Cm);return e._reactRootContainer=h,e[Dn]=h.current,Wa(e.nodeType===8?e.parentNode:e),Mi(),h}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var g=n;n=function(){var v=Qu(p);g.call(v)}}var p=_h(e,0,!1,null,null,!1,!1,"",Cm);return e._reactRootContainer=p,e[Dn]=p.current,Wa(e.nodeType===8?e.parentNode:e),Mi(function(){yl(t,p,r,n)}),p}function Tl(e,t,r,n,o){var i=r._reactRootContainer;if(i){var h=i;if(typeof o=="function"){var g=o;o=function(){var p=Qu(h);g.call(p)}}yl(t,h,e,o)}else h=pP(r,t,e,o,n);return Qu(h)}W0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ta(t.pendingLanes);r!==0&&(Fd(t,r|1),xr(t,Nt()),(rt&6)===0&&(Bo=Nt()+500,di()))}break;case 13:var n=fr();Mi(function(){return Vr(e,1,n)}),mh(e,1)}};jd=function(e){if(e.tag===13){var t=fr();Vr(e,134217728,t),mh(e,134217728)}};q0=function(e){if(e.tag===13){var t=fr(),r=ri(e);Vr(e,r,t),mh(e,r)}};X0=function(){return lt};Y0=function(e,t){var r=lt;try{return lt=e,t()}finally{lt=r}};yf=function(e,t,r){switch(t){case"input":if(df(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=dl(n);if(!o)throw Error(we(90));S0(n),df(n,o)}}}break;case"textarea":O0(e,r);break;case"select":t=r.value,t!=null&&To(e,!!r.multiple,t,!1)}};N0=fh;k0=Mi;var _P={usingClientEntryPoint:!1,Events:[ds,uo,dl,M0,D0,fh]},ha={findFiberByHostInstance:bi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},mP={bundleType:ha.bundleType,version:ha.version,rendererPackageName:ha.rendererPackageName,rendererConfig:ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=j0(e),e===null?null:e.stateNode},findFiberByHostInstance:ha.findFiberByHostInstance||hP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uu.isDisabled&&uu.supportsFiber)try{ul=uu.inject(mP),dn=uu}catch{}}Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_P;Lr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vh(t))throw Error(we(200));return dP(e,t,null,r)};Lr.createRoot=function(e,t){if(!vh(e))throw Error(we(299));var r=!1,n="",o=gy;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=_h(e,1,!1,null,null,r,!1,n,o),e[Dn]=t.current,Wa(e.nodeType===8?e.parentNode:e),new gh(t)};Lr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(we(188)):(e=Object.keys(e).join(","),Error(we(268,e)));return e=j0(t),e=e===null?null:e.stateNode,e};Lr.flushSync=function(e){return Mi(e)};Lr.hydrate=function(e,t,r){if(!El(t))throw Error(we(200));return Tl(null,e,t,!0,r)};Lr.hydrateRoot=function(e,t,r){if(!vh(e))throw Error(we(405));var n=r!=null&&r.hydratedSources||null,o=!1,i="",h=gy;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),t=my(t,null,e,1,r!=null?r:null,o,!1,i,h),e[Dn]=t.current,Wa(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new bl(t)};Lr.render=function(e,t,r){if(!El(t))throw Error(we(200));return Tl(null,e,t,!1,r)};Lr.unmountComponentAtNode=function(e){if(!El(e))throw Error(we(40));return e._reactRootContainer?(Mi(function(){Tl(null,null,e,!1,function(){e._reactRootContainer=null,e[Dn]=null})}),!0):!1};Lr.unstable_batchedUpdates=fh;Lr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!El(r))throw Error(we(200));if(e==null||e._reactInternals===void 0)throw Error(we(38));return Tl(e,t,r,!1,n)};Lr.version="18.1.0-next-22edb9f77-20220426";function vy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vy)}catch(e){console.error(e)}}vy(),c0.exports=Lr;var yy,gP=c0.exports;yy=gP.createRoot;function xt(){return xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xt.apply(this,arguments)}var Ti;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ti||(Ti={}));var Im=function(e){return e},Mm="beforeunload",vP="popstate";function yP(e){e===void 0&&(e={});var t=e,r=t.window,n=r===void 0?document.defaultView:r,o=n.history;function i(){var S=n.location,P=S.pathname,A=S.search,L=S.hash,k=o.state||{};return[k.idx,Im({pathname:P,search:A,hash:L,state:k.usr||null,key:k.key||"default"})]}var h=null;function g(){if(h)l.call(h),h=null;else{var S=Ti.Pop,P=i(),A=P[0],L=P[1];if(l.length){if(A!=null){var k=d-A;k&&(h={action:S,location:L,retry:function(){x(k*-1)}},x(k))}}else y(S)}}n.addEventListener(vP,g);var p=Ti.Pop,v=i(),d=v[0],c=v[1],a=Nm(),l=Nm();d==null&&(d=0,o.replaceState(xt({},o.state,{idx:d}),""));function s(S){return typeof S=="string"?S:Zf(S)}function u(S,P){return P===void 0&&(P=null),Im(xt({pathname:c.pathname,hash:"",search:""},typeof S=="string"?Ui(S):S,{state:P,key:bP()}))}function f(S,P){return[{usr:S.state,key:S.key,idx:P},s(S)]}function m(S,P,A){return!l.length||(l.call({action:S,location:P,retry:A}),!1)}function y(S){p=S;var P=i();d=P[0],c=P[1],a.call({action:p,location:c})}function b(S,P){var A=Ti.Push,L=u(S,P);function k(){b(S,P)}if(m(A,L,k)){var D=f(L,d+1),N=D[0],W=D[1];try{o.pushState(N,"",W)}catch{n.location.assign(W)}y(A)}}function E(S,P){var A=Ti.Replace,L=u(S,P);function k(){E(S,P)}if(m(A,L,k)){var D=f(L,d),N=D[0],W=D[1];o.replaceState(N,"",W),y(A)}}function x(S){o.go(S)}var w={get action(){return p},get location(){return c},createHref:s,push:b,replace:E,go:x,back:function(){x(-1)},forward:function(){x(1)},listen:function(P){return a.push(P)},block:function(P){var A=l.push(P);return l.length===1&&n.addEventListener(Mm,Dm),function(){A(),l.length||n.removeEventListener(Mm,Dm)}}};return w}function Dm(e){e.preventDefault(),e.returnValue=""}function Nm(){var e=[];return{get length(){return e.length},push:function(r){return e.push(r),function(){e=e.filter(function(n){return n!==r})}},call:function(r){e.forEach(function(n){return n&&n(r)})}}}function bP(){return Math.random().toString(36).substr(2,8)}function Zf(e){var t=e.pathname,r=t===void 0?"/":t,n=e.search,o=n===void 0?"":n,i=e.hash,h=i===void 0?"":i;return o&&o!=="?"&&(r+=o.charAt(0)==="?"?o:"?"+o),h&&h!=="#"&&(r+=h.charAt(0)==="#"?h:"#"+h),r}function Ui(e){var t={};if(e){var r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));var n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const yh=le.exports.createContext(null),bh=le.exports.createContext(null),ps=le.exports.createContext({outlet:null,matches:[]});function vn(e,t){if(!e)throw new Error(t)}function EP(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?Ui(t):t,o=Ty(n.pathname||"/",r);if(o==null)return null;let i=by(e);TP(i);let h=null;for(let g=0;h==null&&g<i.length;++g)h=CP(i[g],o);return h}function by(e,t,r,n){return t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n=""),e.forEach((o,i)=>{let h={relativePath:o.path||"",caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};h.relativePath.startsWith("/")&&(h.relativePath.startsWith(n)||vn(!1),h.relativePath=h.relativePath.slice(n.length));let g=ni([n,h.relativePath]),p=r.concat(h);o.children&&o.children.length>0&&(o.index===!0&&vn(!1),by(o.children,t,p,g)),!(o.path==null&&!o.index)&&t.push({path:g,score:RP(g,o.index),routesMeta:p})}),t}function TP(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:LP(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const xP=/^:\w+$/,wP=3,AP=2,SP=1,PP=10,OP=-2,km=e=>e==="*";function RP(e,t){let r=e.split("/"),n=r.length;return r.some(km)&&(n+=OP),t&&(n+=AP),r.filter(o=>!km(o)).reduce((o,i)=>o+(xP.test(i)?wP:i===""?SP:PP),n)}function LP(e,t){return e.length===t.length&&e.slice(0,-1).every((n,o)=>n===t[o])?e[e.length-1]-t[t.length-1]:0}function CP(e,t){let{routesMeta:r}=e,n={},o="/",i=[];for(let h=0;h<r.length;++h){let g=r[h],p=h===r.length-1,v=o==="/"?t:t.slice(o.length)||"/",d=IP({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v);if(!d)return null;Object.assign(n,d.params);let c=g.route;i.push({params:n,pathname:ni([o,d.pathname]),pathnameBase:xy(ni([o,d.pathnameBase])),route:c}),d.pathnameBase!=="/"&&(o=ni([o,d.pathnameBase]))}return i}function IP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=MP(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let i=o[0],h=i.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:n.reduce((v,d,c)=>{if(d==="*"){let a=g[c]||"";h=i.slice(0,i.length-a.length).replace(/(.)\/+$/,"$1")}return v[d]=DP(g[c]||""),v},{}),pathname:i,pathnameBase:h,pattern:e}}function MP(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0);let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(h,g)=>(n.push(g),"([^\\/]+)"));return e.endsWith("*")?(n.push("*"),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o+=r?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(o,t?void 0:"i"),n]}function DP(e,t){try{return decodeURIComponent(e)}catch{return e}}function NP(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:o=""}=typeof e=="string"?Ui(e):e;return{pathname:r?r.startsWith("/")?r:kP(r,t):t,search:FP(n),hash:jP(o)}}function kP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Ey(e,t,r){let n=typeof e=="string"?Ui(e):e,o=e===""||n.pathname===""?"/":n.pathname,i;if(o==null)i=r;else{let g=t.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),g-=1;n.pathname=p.join("/")}i=g>=0?t[g]:"/"}let h=NP(n,i);return o&&o!=="/"&&o.endsWith("/")&&!h.pathname.endsWith("/")&&(h.pathname+="/"),h}function BP(e){return e===""||e.pathname===""?"/":typeof e=="string"?Ui(e).pathname:e.pathname}function Ty(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=e.charAt(t.length);return r&&r!=="/"?null:e.slice(t.length)||"/"}const ni=e=>e.join("/").replace(/\/\/+/g,"/"),xy=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),FP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zP(e){_s()||vn(!1);let{basename:t,navigator:r}=le.exports.useContext(yh),{hash:n,pathname:o,search:i}=Ay(e),h=o;if(t!=="/"){let g=BP(e),p=g!=null&&g.endsWith("/");h=o==="/"?t+(p?"/":""):ni([t,o])}return r.createHref({pathname:h,search:i,hash:n})}function _s(){return le.exports.useContext(bh)!=null}function xl(){return _s()||vn(!1),le.exports.useContext(bh).location}function UP(){_s()||vn(!1);let{basename:e,navigator:t}=le.exports.useContext(yh),{matches:r}=le.exports.useContext(ps),{pathname:n}=xl(),o=JSON.stringify(r.map(g=>g.pathnameBase)),i=le.exports.useRef(!1);return le.exports.useEffect(()=>{i.current=!0}),le.exports.useCallback(function(g,p){if(p===void 0&&(p={}),!i.current)return;if(typeof g=="number"){t.go(g);return}let v=Ey(g,JSON.parse(o),n);e!=="/"&&(v.pathname=ni([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state)},[e,t,o,n])}function wy(){let{matches:e}=le.exports.useContext(ps),t=e[e.length-1];return t?t.params:{}}function Ay(e){let{matches:t}=le.exports.useContext(ps),{pathname:r}=xl(),n=JSON.stringify(t.map(o=>o.pathnameBase));return le.exports.useMemo(()=>Ey(e,JSON.parse(n),r),[e,n,r])}function GP(e,t){_s()||vn(!1);let{matches:r}=le.exports.useContext(ps),n=r[r.length-1],o=n?n.params:{};n&&n.pathname;let i=n?n.pathnameBase:"/";n&&n.route;let h=xl(),g;if(t){var p;let a=typeof t=="string"?Ui(t):t;i==="/"||((p=a.pathname)==null?void 0:p.startsWith(i))||vn(!1),g=a}else g=h;let v=g.pathname||"/",d=i==="/"?v:v.slice(i.length)||"/",c=EP(e,{pathname:d});return VP(c&&c.map(a=>Object.assign({},a,{params:Object.assign({},o,a.params),pathname:ni([i,a.pathname]),pathnameBase:a.pathnameBase==="/"?i:ni([i,a.pathnameBase])})),r)}function VP(e,t){return t===void 0&&(t=[]),e==null?null:e.reduceRight((r,n,o)=>le.exports.createElement(ps.Provider,{children:n.route.element!==void 0?n.route.element:r,value:{outlet:r,matches:t.concat(e.slice(0,o+1))}}),null)}function eo(e){vn(!1)}function HP(e){let{basename:t="/",children:r=null,location:n,navigationType:o=Ti.Pop,navigator:i,static:h=!1}=e;_s()&&vn(!1);let g=xy(t),p=le.exports.useMemo(()=>({basename:g,navigator:i,static:h}),[g,i,h]);typeof n=="string"&&(n=Ui(n));let{pathname:v="/",search:d="",hash:c="",state:a=null,key:l="default"}=n,s=le.exports.useMemo(()=>{let u=Ty(v,g);return u==null?null:{pathname:u,search:d,hash:c,state:a,key:l}},[g,v,d,c,a,l]);return s==null?null:le.exports.createElement(yh.Provider,{value:p},le.exports.createElement(bh.Provider,{children:r,value:{location:s,navigationType:o}}))}function $P(e){let{children:t,location:r}=e;return GP(Qf(t),r)}function Qf(e){let t=[];return le.exports.Children.forEach(e,r=>{if(!le.exports.isValidElement(r))return;if(r.type===le.exports.Fragment){t.push.apply(t,Qf(r.props.children));return}r.type!==eo&&vn(!1);let n={caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path};r.props.children&&(n.children=Qf(r.props.children)),t.push(n)}),t}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jf(){return Jf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jf.apply(this,arguments)}function WP(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}const qP=["onClick","reloadDocument","replace","state","target","to"];function XP(e){let{basename:t,children:r,window:n}=e,o=le.exports.useRef();o.current==null&&(o.current=yP({window:n}));let i=o.current,[h,g]=le.exports.useState({action:i.action,location:i.location});return le.exports.useLayoutEffect(()=>i.listen(g),[i]),le.exports.createElement(HP,{basename:t,children:r,location:h.location,navigationType:h.action,navigator:i})}function YP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const ii=le.exports.forwardRef(function(t,r){let{onClick:n,reloadDocument:o,replace:i=!1,state:h,target:g,to:p}=t,v=WP(t,qP),d=zP(p),c=KP(p,{replace:i,state:h,target:g});function a(l){n&&n(l),!l.defaultPrevented&&!o&&c(l)}return le.exports.createElement("a",Jf({},v,{href:d,onClick:a,ref:r,target:g}))});function KP(e,t){let{target:r,replace:n,state:o}=t===void 0?{}:t,i=UP(),h=xl(),g=Ay(e);return le.exports.useCallback(p=>{if(p.button===0&&(!r||r==="_self")&&!YP(p)){p.preventDefault();let v=!!n||Zf(h)===Zf(g);i(e,{replace:v,state:o})}},[h,i,g,n,o,r,e])}const ZP={black:"#000",white:"#fff"};var ts=ZP;const QP={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};var Wi=QP;const JP={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"};var qi=JP;const eO={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};var Xi=eO;const tO={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};var Yi=tO;const rO={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};var Ki=rO;const nO={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};var pa=nO;const iO={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};var oO=iO;function De(){return De=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},De.apply(this,arguments)}function kt(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function Sy(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var aO=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,sO=Sy(function(e){return aO.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function uO(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function lO(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var cO=function(){function e(r){var n=this;this._insertTag=function(o){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(o,i),n.tags.push(o)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(lO(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var i=uO(o);try{i.insertRule(n,i.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}(),nr="-ms-",Ju="-moz-",at="-webkit-",Py="comm",Eh="rule",Th="decl",fO="@import",Oy="@keyframes",dO=Math.abs,wl=String.fromCharCode,hO=Object.assign;function pO(e,t){return(((t<<2^gr(e,0))<<2^gr(e,1))<<2^gr(e,2))<<2^gr(e,3)}function Ry(e){return e.trim()}function _O(e,t){return(e=t.exec(e))?e[0]:e}function ut(e,t,r){return e.replace(t,r)}function ed(e,t){return e.indexOf(t)}function gr(e,t){return e.charCodeAt(t)|0}function rs(e,t,r){return e.slice(t,r)}function un(e){return e.length}function xh(e){return e.length}function lu(e,t){return t.push(e),e}function mO(e,t){return e.map(t).join("")}var Al=1,Fo=1,Ly=0,wr=0,Bt=0,Vo="";function Sl(e,t,r,n,o,i,h){return{value:e,root:t,parent:r,type:n,props:o,children:i,line:Al,column:Fo,length:h,return:""}}function _a(e,t){return hO(Sl("",null,null,"",null,null,0),e,{length:-e.length},t)}function gO(){return Bt}function vO(){return Bt=wr>0?gr(Vo,--wr):0,Fo--,Bt===10&&(Fo=1,Al--),Bt}function Pr(){return Bt=wr<Ly?gr(Vo,wr++):0,Fo++,Bt===10&&(Fo=1,Al++),Bt}function pn(){return gr(Vo,wr)}function Tu(){return wr}function ms(e,t){return rs(Vo,e,t)}function ns(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Cy(e){return Al=Fo=1,Ly=un(Vo=e),wr=0,[]}function Iy(e){return Vo="",e}function xu(e){return Ry(ms(wr-1,td(e===91?e+2:e===40?e+1:e)))}function yO(e){for(;(Bt=pn())&&Bt<33;)Pr();return ns(e)>2||ns(Bt)>3?"":" "}function bO(e,t){for(;--t&&Pr()&&!(Bt<48||Bt>102||Bt>57&&Bt<65||Bt>70&&Bt<97););return ms(e,Tu()+(t<6&&pn()==32&&Pr()==32))}function td(e){for(;Pr();)switch(Bt){case e:return wr;case 34:case 39:e!==34&&e!==39&&td(Bt);break;case 40:e===41&&td(e);break;case 92:Pr();break}return wr}function EO(e,t){for(;Pr()&&e+Bt!==47+10;)if(e+Bt===42+42&&pn()===47)break;return"/*"+ms(t,wr-1)+"*"+wl(e===47?e:Pr())}function TO(e){for(;!ns(pn());)Pr();return ms(e,wr)}function xO(e){return Iy(wu("",null,null,null,[""],e=Cy(e),0,[0],e))}function wu(e,t,r,n,o,i,h,g,p){for(var v=0,d=0,c=h,a=0,l=0,s=0,u=1,f=1,m=1,y=0,b="",E=o,x=i,w=n,S=b;f;)switch(s=y,y=Pr()){case 40:if(s!=108&&S.charCodeAt(c-1)==58){ed(S+=ut(xu(y),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:S+=xu(y);break;case 9:case 10:case 13:case 32:S+=yO(s);break;case 92:S+=bO(Tu()-1,7);continue;case 47:switch(pn()){case 42:case 47:lu(wO(EO(Pr(),Tu()),t,r),p);break;default:S+="/"}break;case 123*u:g[v++]=un(S)*m;case 125*u:case 59:case 0:switch(y){case 0:case 125:f=0;case 59+d:l>0&&un(S)-c&&lu(l>32?Fm(S+";",n,r,c-1):Fm(ut(S," ","")+";",n,r,c-2),p);break;case 59:S+=";";default:if(lu(w=Bm(S,t,r,v,d,o,g,b,E=[],x=[],c),i),y===123)if(d===0)wu(S,t,w,w,E,i,c,g,x);else switch(a){case 100:case 109:case 115:wu(e,w,w,n&&lu(Bm(e,w,w,0,0,o,g,b,o,E=[],c),x),o,x,c,g,n?E:x);break;default:wu(S,w,w,w,[""],x,0,g,x)}}v=d=l=0,u=m=1,b=S="",c=h;break;case 58:c=1+un(S),l=s;default:if(u<1){if(y==123)--u;else if(y==125&&u++==0&&vO()==125)continue}switch(S+=wl(y),y*u){case 38:m=d>0?1:(S+="\f",-1);break;case 44:g[v++]=(un(S)-1)*m,m=1;break;case 64:pn()===45&&(S+=xu(Pr())),a=pn(),d=c=un(b=S+=TO(Tu())),y++;break;case 45:s===45&&un(S)==2&&(u=0)}}return i}function Bm(e,t,r,n,o,i,h,g,p,v,d){for(var c=o-1,a=o===0?i:[""],l=xh(a),s=0,u=0,f=0;s<n;++s)for(var m=0,y=rs(e,c+1,c=dO(u=h[s])),b=e;m<l;++m)(b=Ry(u>0?a[m]+" "+y:ut(y,/&\f/g,a[m])))&&(p[f++]=b);return Sl(e,t,r,o===0?Eh:g,p,v,d)}function wO(e,t,r){return Sl(e,t,r,Py,wl(gO()),rs(e,2,-2),0)}function Fm(e,t,r,n){return Sl(e,t,r,Th,rs(e,0,n),rs(e,n+1,-1),n)}function My(e,t){switch(pO(e,t)){case 5103:return at+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return at+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return at+e+Ju+e+nr+e+e;case 6828:case 4268:return at+e+nr+e+e;case 6165:return at+e+nr+"flex-"+e+e;case 5187:return at+e+ut(e,/(\w+).+(:[^]+)/,at+"box-$1$2"+nr+"flex-$1$2")+e;case 5443:return at+e+nr+"flex-item-"+ut(e,/flex-|-self/,"")+e;case 4675:return at+e+nr+"flex-line-pack"+ut(e,/align-content|flex-|-self/,"")+e;case 5548:return at+e+nr+ut(e,"shrink","negative")+e;case 5292:return at+e+nr+ut(e,"basis","preferred-size")+e;case 6060:return at+"box-"+ut(e,"-grow","")+at+e+nr+ut(e,"grow","positive")+e;case 4554:return at+ut(e,/([^-])(transform)/g,"$1"+at+"$2")+e;case 6187:return ut(ut(ut(e,/(zoom-|grab)/,at+"$1"),/(image-set)/,at+"$1"),e,"")+e;case 5495:case 3959:return ut(e,/(image-set\([^]*)/,at+"$1$`$1");case 4968:return ut(ut(e,/(.+:)(flex-)?(.*)/,at+"box-pack:$3"+nr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+at+e+e;case 4095:case 3583:case 4068:case 2532:return ut(e,/(.+)-inline(.+)/,at+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(un(e)-1-t>6)switch(gr(e,t+1)){case 109:if(gr(e,t+4)!==45)break;case 102:return ut(e,/(.+:)(.+)-([^]+)/,"$1"+at+"$2-$3$1"+Ju+(gr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~ed(e,"stretch")?My(ut(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(gr(e,t+1)!==115)break;case 6444:switch(gr(e,un(e)-3-(~ed(e,"!important")&&10))){case 107:return ut(e,":",":"+at)+e;case 101:return ut(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+at+(gr(e,14)===45?"inline-":"")+"box$3$1"+at+"$2$3$1"+nr+"$2box$3")+e}break;case 5936:switch(gr(e,t+11)){case 114:return at+e+nr+ut(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return at+e+nr+ut(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return at+e+nr+ut(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return at+e+nr+e+e}return e}function Oo(e,t){for(var r="",n=xh(e),o=0;o<n;o++)r+=t(e[o],o,e,t)||"";return r}function AO(e,t,r,n){switch(e.type){case fO:case Th:return e.return=e.return||e.value;case Py:return"";case Oy:return e.return=e.value+"{"+Oo(e.children,n)+"}";case Eh:e.value=e.props.join(",")}return un(r=Oo(e.children,n))?e.return=e.value+"{"+r+"}":""}function SO(e){var t=xh(e);return function(r,n,o,i){for(var h="",g=0;g<t;g++)h+=e[g](r,n,o,i)||"";return h}}function PO(e){return function(t){t.root||(t=t.return)&&e(t)}}function OO(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case Th:e.return=My(e.value,e.length);break;case Oy:return Oo([_a(e,{value:ut(e.value,"@","@"+at)})],n);case Eh:if(e.length)return mO(e.props,function(o){switch(_O(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Oo([_a(e,{props:[ut(o,/:(read-\w+)/,":"+Ju+"$1")]})],n);case"::placeholder":return Oo([_a(e,{props:[ut(o,/:(plac\w+)/,":"+at+"input-$1")]}),_a(e,{props:[ut(o,/:(plac\w+)/,":"+Ju+"$1")]}),_a(e,{props:[ut(o,/:(plac\w+)/,nr+"input-$1")]})],n)}return""})}}var RO=function(t,r,n){for(var o=0,i=0;o=i,i=pn(),o===38&&i===12&&(r[n]=1),!ns(i);)Pr();return ms(t,wr)},LO=function(t,r){var n=-1,o=44;do switch(ns(o)){case 0:o===38&&pn()===12&&(r[n]=1),t[n]+=RO(wr-1,r,n);break;case 2:t[n]+=xu(o);break;case 4:if(o===44){t[++n]=pn()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=wl(o)}while(o=Pr());return t},CO=function(t,r){return Iy(LO(Cy(t),r))},jm=new WeakMap,IO=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,o=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!jm.get(n))&&!o){jm.set(t,!0);for(var i=[],h=CO(r,i),g=n.props,p=0,v=0;p<h.length;p++)for(var d=0;d<g.length;d++,v++)t.props[v]=i[p]?h[p].replace(/&\f/g,g[d]):g[d]+" "+h[p]}}},MO=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}},DO=[OO],NO=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(u){var f=u.getAttribute("data-emotion");f.indexOf(" ")!==-1&&(document.head.appendChild(u),u.setAttribute("data-s",""))})}var o=t.stylisPlugins||DO,i={},h,g=[];h=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(u){for(var f=u.getAttribute("data-emotion").split(" "),m=1;m<f.length;m++)i[f[m]]=!0;g.push(u)});var p,v=[IO,MO];{var d,c=[AO,PO(function(u){d.insert(u)})],a=SO(v.concat(o,c)),l=function(f){return Oo(xO(f),a)};p=function(f,m,y,b){d=y,l(f?f+"{"+m.styles+"}":m.styles),b&&(s.inserted[m.name]=!0)}}var s={key:r,sheet:new cO({key:r,container:h,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:p};return s.sheet.hydrate(g),s},Dy={exports:{}},ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xt=typeof Symbol=="function"&&Symbol.for,wh=Xt?Symbol.for("react.element"):60103,Ah=Xt?Symbol.for("react.portal"):60106,Pl=Xt?Symbol.for("react.fragment"):60107,Ol=Xt?Symbol.for("react.strict_mode"):60108,Rl=Xt?Symbol.for("react.profiler"):60114,Ll=Xt?Symbol.for("react.provider"):60109,Cl=Xt?Symbol.for("react.context"):60110,Sh=Xt?Symbol.for("react.async_mode"):60111,Il=Xt?Symbol.for("react.concurrent_mode"):60111,Ml=Xt?Symbol.for("react.forward_ref"):60112,Dl=Xt?Symbol.for("react.suspense"):60113,kO=Xt?Symbol.for("react.suspense_list"):60120,Nl=Xt?Symbol.for("react.memo"):60115,kl=Xt?Symbol.for("react.lazy"):60116,BO=Xt?Symbol.for("react.block"):60121,FO=Xt?Symbol.for("react.fundamental"):60117,jO=Xt?Symbol.for("react.responder"):60118,zO=Xt?Symbol.for("react.scope"):60119;function Ir(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wh:switch(e=e.type,e){case Sh:case Il:case Pl:case Rl:case Ol:case Dl:return e;default:switch(e=e&&e.$$typeof,e){case Cl:case Ml:case kl:case Nl:case Ll:return e;default:return t}}case Ah:return t}}}function Ny(e){return Ir(e)===Il}ct.AsyncMode=Sh;ct.ConcurrentMode=Il;ct.ContextConsumer=Cl;ct.ContextProvider=Ll;ct.Element=wh;ct.ForwardRef=Ml;ct.Fragment=Pl;ct.Lazy=kl;ct.Memo=Nl;ct.Portal=Ah;ct.Profiler=Rl;ct.StrictMode=Ol;ct.Suspense=Dl;ct.isAsyncMode=function(e){return Ny(e)||Ir(e)===Sh};ct.isConcurrentMode=Ny;ct.isContextConsumer=function(e){return Ir(e)===Cl};ct.isContextProvider=function(e){return Ir(e)===Ll};ct.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wh};ct.isForwardRef=function(e){return Ir(e)===Ml};ct.isFragment=function(e){return Ir(e)===Pl};ct.isLazy=function(e){return Ir(e)===kl};ct.isMemo=function(e){return Ir(e)===Nl};ct.isPortal=function(e){return Ir(e)===Ah};ct.isProfiler=function(e){return Ir(e)===Rl};ct.isStrictMode=function(e){return Ir(e)===Ol};ct.isSuspense=function(e){return Ir(e)===Dl};ct.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Pl||e===Il||e===Rl||e===Ol||e===Dl||e===kO||typeof e=="object"&&e!==null&&(e.$$typeof===kl||e.$$typeof===Nl||e.$$typeof===Ll||e.$$typeof===Cl||e.$$typeof===Ml||e.$$typeof===FO||e.$$typeof===jO||e.$$typeof===zO||e.$$typeof===BO)};ct.typeOf=Ir;Dy.exports=ct;var ky=Dy.exports,UO={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},GO={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},By={};By[ky.ForwardRef]=UO;By[ky.Memo]=GO;var VO=!0;function HO(e,t,r){var n="";return r.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):n+=o+" "}),n}var Fy=function(t,r,n){var o=t.key+"-"+r.name;(n===!1||VO===!1)&&t.registered[o]===void 0&&(t.registered[o]=r.styles)},jy=function(t,r,n){Fy(t,r,n);var o=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var i=r;do t.insert(r===i?"."+o:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function $O(e){for(var t=0,r,n=0,o=e.length;o>=4;++n,o-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var WO={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qO=/[A-Z]|^ms/g,XO=/_EMO_([^_]+?)_([^]*?)_EMO_/g,zy=function(t){return t.charCodeAt(1)===45},zm=function(t){return t!=null&&typeof t!="boolean"},qc=Sy(function(e){return zy(e)?e:e.replace(qO,"-$&").toLowerCase()}),Um=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(XO,function(n,o,i){return ln={name:o,styles:i,next:ln},o})}return WO[t]!==1&&!zy(t)&&typeof r=="number"&&r!==0?r+"px":r};function is(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return ln={name:r.name,styles:r.styles,next:ln},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)ln={name:n.name,styles:n.styles,next:ln},n=n.next;var o=r.styles+";";return o}return YO(e,t,r)}case"function":{if(e!==void 0){var i=ln,h=r(e);return ln=i,is(e,t,h)}break}}if(t==null)return r;var g=t[r];return g!==void 0?g:r}function YO(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=is(e,t,r[o])+";";else for(var i in r){var h=r[i];if(typeof h!="object")t!=null&&t[h]!==void 0?n+=i+"{"+t[h]+"}":zm(h)&&(n+=qc(i)+":"+Um(i,h)+";");else if(Array.isArray(h)&&typeof h[0]=="string"&&(t==null||t[h[0]]===void 0))for(var g=0;g<h.length;g++)zm(h[g])&&(n+=qc(i)+":"+Um(i,h[g])+";");else{var p=is(e,t,h);switch(i){case"animation":case"animationName":{n+=qc(i)+":"+p+";";break}default:n+=i+"{"+p+"}"}}}return n}var Gm=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ln,Ph=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var o=!0,i="";ln=void 0;var h=t[0];h==null||h.raw===void 0?(o=!1,i+=is(n,r,h)):i+=h[0];for(var g=1;g<t.length;g++)i+=is(n,r,t[g]),o&&(i+=h[g]);Gm.lastIndex=0;for(var p="",v;(v=Gm.exec(i))!==null;)p+="-"+v[1];var d=$O(i)+p;return{name:d,styles:i,next:ln}},Uy=le.exports.createContext(typeof HTMLElement!="undefined"?NO({key:"css"}):null);Uy.Provider;var Gy=function(t){return le.exports.forwardRef(function(r,n){var o=le.exports.useContext(Uy);return t(r,o,n)})},Vy=le.exports.createContext({});Oi["useInsertionEffect"]&&Oi["useInsertionEffect"];var Vm=Oi["useInsertionEffect"]?Oi["useInsertionEffect"]:le.exports.useLayoutEffect,KO=Gy(function(e,t){var r=e.styles,n=Ph([r],void 0,le.exports.useContext(Vy)),o=le.exports.useRef();return Vm(function(){var i=t.key+"-global",h=new t.sheet.constructor({key:i,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),g=!1,p=document.querySelector('style[data-emotion="'+i+" "+n.name+'"]');return t.sheet.tags.length&&(h.before=t.sheet.tags[0]),p!==null&&(g=!0,p.setAttribute("data-emotion",i),h.hydrate([p])),o.current=[h,g],function(){h.flush()}},[t]),Vm(function(){var i=o.current,h=i[0],g=i[1];if(g){i[1]=!1;return}if(n.next!==void 0&&jy(t,n.next,!0),h.tags.length){var p=h.tags[h.tags.length-1].nextElementSibling;h.before=p,h.flush()}t.insert("",n,h,!1)},[t,n.name]),null});function Bl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Ph(t)}var Ho=function(){var t=Bl.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},ZO=sO,QO=function(t){return t!=="theme"},Hm=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?ZO:QO},$m=function(t,r,n){var o;if(r){var i=r.shouldForwardProp;o=t.__emotion_forwardProp&&i?function(h){return t.__emotion_forwardProp(h)&&i(h)}:i}return typeof o!="function"&&n&&(o=t.__emotion_forwardProp),o},JO=Oi["useInsertionEffect"]?Oi["useInsertionEffect"]:function(t){t()};function e2(e){JO(e)}var t2=function(t){var r=t.cache,n=t.serialized,o=t.isStringTag;return Fy(r,n,o),e2(function(){return jy(r,n,o)}),null},r2=function e(t,r){var n=t.__emotion_real===t,o=n&&t.__emotion_base||t,i,h;r!==void 0&&(i=r.label,h=r.target);var g=$m(t,r,n),p=g||Hm(o),v=!p("as");return function(){var d=arguments,c=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(i!==void 0&&c.push("label:"+i+";"),d[0]==null||d[0].raw===void 0)c.push.apply(c,d);else{c.push(d[0][0]);for(var a=d.length,l=1;l<a;l++)c.push(d[l],d[0][l])}var s=Gy(function(u,f,m){var y=v&&u.as||o,b="",E=[],x=u;if(u.theme==null){x={};for(var w in u)x[w]=u[w];x.theme=le.exports.useContext(Vy)}typeof u.className=="string"?b=HO(f.registered,E,u.className):u.className!=null&&(b=u.className+" ");var S=Ph(c.concat(E),f.registered,x);b+=f.key+"-"+S.name,h!==void 0&&(b+=" "+h);var P=v&&g===void 0?Hm(y):p,A={};for(var L in u)v&&L==="as"||P(L)&&(A[L]=u[L]);return A.className=b,A.ref=m,le.exports.createElement(le.exports.Fragment,null,le.exports.createElement(t2,{cache:f,serialized:S,isStringTag:typeof y=="string"}),le.exports.createElement(y,A))});return s.displayName=i!==void 0?i:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",s.defaultProps=t.defaultProps,s.__emotion_real=s,s.__emotion_base=o,s.__emotion_styles=c,s.__emotion_forwardProp=g,Object.defineProperty(s,"toString",{value:function(){return"."+h}}),s.withComponent=function(u,f){return e(u,De({},r,f,{shouldForwardProp:$m(s,f,!0)})).apply(void 0,c)},s}},n2=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],rd=r2.bind();n2.forEach(function(e){rd[e]=rd(e)});var i2=rd,Fl={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o2=le.exports,a2=Symbol.for("react.element"),s2=Symbol.for("react.fragment"),u2=Object.prototype.hasOwnProperty,l2=o2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c2={key:!0,ref:!0,__self:!0,__source:!0};function Hy(e,t,r){var n,o={},i=null,h=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(h=t.ref);for(n in t)u2.call(t,n)&&!c2.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:a2,type:e,key:i,ref:h,props:o,_owner:l2.current}}jl.Fragment=s2;jl.jsx=Hy;jl.jsxs=Hy;Fl.exports=jl;const ge=Fl.exports.jsx,Ct=Fl.exports.jsxs,f2=Fl.exports.Fragment;var d2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",jsx:ge,jsxs:Ct,Fragment:f2});function h2(e){return e==null||Object.keys(e).length===0}function p2(e){const{styles:t,defaultTheme:r={}}=e;return ge(KO,{styles:typeof t=="function"?o=>t(h2(o)?r:o):t})}/** @license MUI v5.8.0
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function $y(e,t){return i2(e,t)}function wa(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function _n(e,t,r={clone:!0}){const n=r.clone?xt({},e):e;return wa(e)&&wa(t)&&Object.keys(t).forEach(o=>{o!=="__proto__"&&(wa(t[o])&&o in e&&wa(e[o])?n[o]=_n(e[o],t[o],r):n[o]=t[o])}),n}function os(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}var mt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zl=60103,Ul=60106,gs=60107,vs=60108,ys=60114,bs=60109,Es=60110,Ts=60112,xs=60113,Oh=60120,ws=60115,As=60116,Wy=60121,qy=60122,Xy=60117,Yy=60129,Ky=60131;if(typeof Symbol=="function"&&Symbol.for){var Yt=Symbol.for;zl=Yt("react.element"),Ul=Yt("react.portal"),gs=Yt("react.fragment"),vs=Yt("react.strict_mode"),ys=Yt("react.profiler"),bs=Yt("react.provider"),Es=Yt("react.context"),Ts=Yt("react.forward_ref"),xs=Yt("react.suspense"),Oh=Yt("react.suspense_list"),ws=Yt("react.memo"),As=Yt("react.lazy"),Wy=Yt("react.block"),qy=Yt("react.server.block"),Xy=Yt("react.fundamental"),Yy=Yt("react.debug_trace_mode"),Ky=Yt("react.legacy_hidden")}function nn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case zl:switch(e=e.type,e){case gs:case ys:case vs:case xs:case Oh:return e;default:switch(e=e&&e.$$typeof,e){case Es:case Ts:case As:case ws:case bs:return e;default:return t}}case Ul:return t}}}var _2=bs,m2=zl,g2=Ts,v2=gs,y2=As,b2=ws,E2=Ul,T2=ys,x2=vs,w2=xs;mt.ContextConsumer=Es;mt.ContextProvider=_2;mt.Element=m2;mt.ForwardRef=g2;mt.Fragment=v2;mt.Lazy=y2;mt.Memo=b2;mt.Portal=E2;mt.Profiler=T2;mt.StrictMode=x2;mt.Suspense=w2;mt.isAsyncMode=function(){return!1};mt.isConcurrentMode=function(){return!1};mt.isContextConsumer=function(e){return nn(e)===Es};mt.isContextProvider=function(e){return nn(e)===bs};mt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===zl};mt.isForwardRef=function(e){return nn(e)===Ts};mt.isFragment=function(e){return nn(e)===gs};mt.isLazy=function(e){return nn(e)===As};mt.isMemo=function(e){return nn(e)===ws};mt.isPortal=function(e){return nn(e)===Ul};mt.isProfiler=function(e){return nn(e)===ys};mt.isStrictMode=function(e){return nn(e)===vs};mt.isSuspense=function(e){return nn(e)===xs};mt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===gs||e===ys||e===Yy||e===vs||e===xs||e===Oh||e===Ky||typeof e=="object"&&e!==null&&(e.$$typeof===As||e.$$typeof===ws||e.$$typeof===bs||e.$$typeof===Es||e.$$typeof===Ts||e.$$typeof===Xy||e.$$typeof===Wy||e[0]===qy)};mt.typeOf=nn;function ze(e){if(typeof e!="string")throw new Error(os(7));return e.charAt(0).toUpperCase()+e.slice(1)}function A2(...e){return e.reduce((t,r)=>r==null?t:function(...o){t.apply(this,o),r.apply(this,o)},()=>{})}function S2(e,t=166){let r;function n(...o){const i=()=>{e.apply(this,o)};clearTimeout(r),r=setTimeout(i,t)}return n.clear=()=>{clearTimeout(r)},n}function P2(e,t){return()=>null}function O2(e,t){return le.exports.isValidElement(e)&&t.indexOf(e.type.muiName)!==-1}function Zy(e){return e&&e.ownerDocument||document}function R2(e){return Zy(e).defaultView||window}function L2(e,t){return()=>null}function nd(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const C2=typeof window!="undefined"?le.exports.useLayoutEffect:le.exports.useEffect;var Qy=C2;let Wm=0;function I2(e){const[t,r]=le.exports.useState(e),n=e||t;return le.exports.useEffect(()=>{t==null&&(Wm+=1,r(`mui-${Wm}`))},[t]),n}const qm=Oi["useId"];function M2(e){if(qm!==void 0){const t=qm();return e!=null?e:t}return I2(e)}function D2(e,t,r,n,o){return null}function N2({controlled:e,default:t,name:r,state:n="value"}){const{current:o}=le.exports.useRef(e!==void 0),[i,h]=le.exports.useState(t),g=o?e:i,p=le.exports.useCallback(v=>{o||h(v)},[]);return[g,p]}function Aa(e){const t=le.exports.useRef(e);return Qy(()=>{t.current=e}),le.exports.useCallback((...r)=>(0,t.current)(...r),[])}function Ro(e,t){return le.exports.useMemo(()=>e==null&&t==null?null:r=>{nd(e,r),nd(t,r)},[e,t])}let Gl=!0,id=!1,Xm;const k2={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function B2(e){const{type:t,tagName:r}=e;return!!(r==="INPUT"&&k2[t]&&!e.readOnly||r==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function F2(e){e.metaKey||e.altKey||e.ctrlKey||(Gl=!0)}function Xc(){Gl=!1}function j2(){this.visibilityState==="hidden"&&id&&(Gl=!0)}function z2(e){e.addEventListener("keydown",F2,!0),e.addEventListener("mousedown",Xc,!0),e.addEventListener("pointerdown",Xc,!0),e.addEventListener("touchstart",Xc,!0),e.addEventListener("visibilitychange",j2,!0)}function U2(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return Gl||B2(t)}function Rh(){const e=le.exports.useCallback(o=>{o!=null&&z2(o.ownerDocument)},[]),t=le.exports.useRef(!1);function r(){return t.current?(id=!0,window.clearTimeout(Xm),Xm=window.setTimeout(()=>{id=!1},100),t.current=!1,!0):!1}function n(o){return U2(o)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:n,onBlur:r,ref:e}}function G2(e,t){const r=xt({},t);return Object.keys(e).forEach(n=>{r[n]===void 0&&(r[n]=e[n])}),r}function ur(e,t,r){const n={};return Object.keys(e).forEach(o=>{n[o]=e[o].reduce((i,h)=>(h&&(r&&r[h]&&i.push(r[h]),i.push(t(h))),i),[]).join(" ")}),n}const Ym=e=>e,V2=()=>{let e=Ym;return{configure(t){e=t},generate(t){return e(t)},reset(){e=Ym}}},H2=V2();var Lh=H2;const $2={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function er(e,t,r="Mui"){const n=$2[t];return n?`${r}-${n}`:`${Lh.generate(e)}-${t}`}function lr(e,t,r="Mui"){const n={};return t.forEach(o=>{n[o]=er(e,o,r)}),n}function Na(e,t){return t?_n(e,t,{clone:!1}):e}const Ch={xs:0,sm:600,md:900,lg:1200,xl:1536},Km={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Ch[e]}px)`};function yn(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const i=n.breakpoints||Km;return t.reduce((h,g,p)=>(h[i.up(i.keys[p])]=r(t[p]),h),{})}if(typeof t=="object"){const i=n.breakpoints||Km;return Object.keys(t).reduce((h,g)=>{if(Object.keys(i.values||Ch).indexOf(g)!==-1){const p=i.up(g);h[p]=r(t[g],g)}else{const p=g;h[p]=t[p]}return h},{})}return r(t)}function W2(e={}){var t;return(e==null||(t=e.keys)==null?void 0:t.reduce((n,o)=>{const i=e.up(o);return n[i]={},n},{}))||{}}function q2(e,t){return e.reduce((r,n)=>{const o=r[n];return(!o||Object.keys(o).length===0)&&delete r[n],r},t)}function X2(e,t){if(typeof e!="object")return{};const r={},n=Object.keys(t);return Array.isArray(e)?n.forEach((o,i)=>{i<e.length&&(r[o]=!0)}):n.forEach(o=>{e[o]!=null&&(r[o]=!0)}),r}function Yc({values:e,breakpoints:t,base:r}){const n=r||X2(e,t),o=Object.keys(n);if(o.length===0)return e;let i;return o.reduce((h,g,p)=>(Array.isArray(e)?(h[g]=e[p]!=null?e[p]:e[i],i=p):typeof e=="object"?(h[g]=e[g]!=null?e[g]:e[i],i=g):h[g]=e,h),{})}function as(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((o,i)=>o&&o[i]?o[i]:null,e);if(n!=null)return n}return t.split(".").reduce((n,o)=>n&&n[o]!=null?n[o]:null,e)}function Zm(e,t,r,n=r){let o;return typeof e=="function"?o=e(r):Array.isArray(e)?o=e[r]||n:o=as(e,r)||n,t&&(o=t(o)),o}function je(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:o}=e,i=h=>{if(h[t]==null)return null;const g=h[t],p=h.theme,v=as(p,n)||{};return yn(h,g,c=>{let a=Zm(v,o,c);return c===a&&typeof c=="string"&&(a=Zm(v,o,`${t}${c==="default"?"":ze(c)}`,c)),r===!1?a:{[r]:a}})};return i.propTypes={},i.filterProps=[t],i}function hi(...e){const t=e.reduce((n,o)=>(o.filterProps.forEach(i=>{n[i]=o}),n),{}),r=n=>Object.keys(n).reduce((o,i)=>t[i]?Na(o,t[i](n)):o,{});return r.propTypes={},r.filterProps=e.reduce((n,o)=>n.concat(o.filterProps),[]),r}function Y2(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const K2={m:"margin",p:"padding"},Z2={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Qm={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Q2=Y2(e=>{if(e.length>2)if(Qm[e])e=Qm[e];else return[e];const[t,r]=e.split(""),n=K2[t],o=Z2[r]||"";return Array.isArray(o)?o.map(i=>n+i):[n+o]}),J2=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],eR=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Jy=[...J2,...eR];function Ss(e,t,r,n){var o;const i=(o=as(e,t,!1))!=null?o:r;return typeof i=="number"?h=>typeof h=="string"?h:i*h:Array.isArray(i)?h=>typeof h=="string"?h:i[h]:typeof i=="function"?i:()=>{}}function Ih(e){return Ss(e,"spacing",8)}function $o(e,t){if(typeof t=="string"||t==null)return t;const r=Math.abs(t),n=e(r);return t>=0?n:typeof n=="number"?-n:`-${n}`}function tR(e,t){return r=>e.reduce((n,o)=>(n[o]=$o(t,r),n),{})}function rR(e,t,r,n){if(t.indexOf(r)===-1)return null;const o=Q2(r),i=tR(o,n),h=e[r];return yn(e,h,i)}function nR(e,t){const r=Ih(e.theme);return Object.keys(e).map(n=>rR(e,t,n,r)).reduce(Na,{})}function Vl(e){return nR(e,Jy)}Vl.propTypes={};Vl.filterProps=Jy;function Ps(e){return typeof e!="number"?e:`${e}px solid`}const iR=je({prop:"border",themeKey:"borders",transform:Ps}),oR=je({prop:"borderTop",themeKey:"borders",transform:Ps}),aR=je({prop:"borderRight",themeKey:"borders",transform:Ps}),sR=je({prop:"borderBottom",themeKey:"borders",transform:Ps}),uR=je({prop:"borderLeft",themeKey:"borders",transform:Ps}),lR=je({prop:"borderColor",themeKey:"palette"}),cR=je({prop:"borderTopColor",themeKey:"palette"}),fR=je({prop:"borderRightColor",themeKey:"palette"}),dR=je({prop:"borderBottomColor",themeKey:"palette"}),hR=je({prop:"borderLeftColor",themeKey:"palette"}),Mh=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Ss(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:$o(t,n)});return yn(e,e.borderRadius,r)}return null};Mh.propTypes={};Mh.filterProps=["borderRadius"];const pR=hi(iR,oR,aR,sR,uR,lR,cR,fR,dR,hR,Mh);var eb=pR;const _R=je({prop:"displayPrint",cssProperty:!1,transform:e=>({"@media print":{display:e}})}),mR=je({prop:"display"}),gR=je({prop:"overflow"}),vR=je({prop:"textOverflow"}),yR=je({prop:"visibility"}),bR=je({prop:"whiteSpace"});var tb=hi(_R,mR,gR,vR,yR,bR);const ER=je({prop:"flexBasis"}),TR=je({prop:"flexDirection"}),xR=je({prop:"flexWrap"}),wR=je({prop:"justifyContent"}),AR=je({prop:"alignItems"}),SR=je({prop:"alignContent"}),PR=je({prop:"order"}),OR=je({prop:"flex"}),RR=je({prop:"flexGrow"}),LR=je({prop:"flexShrink"}),CR=je({prop:"alignSelf"}),IR=je({prop:"justifyItems"}),MR=je({prop:"justifySelf"}),DR=hi(ER,TR,xR,wR,AR,SR,PR,OR,RR,LR,CR,IR,MR);var rb=DR;const Dh=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Ss(e.theme,"spacing",8),r=n=>({gap:$o(t,n)});return yn(e,e.gap,r)}return null};Dh.propTypes={};Dh.filterProps=["gap"];const Nh=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Ss(e.theme,"spacing",8),r=n=>({columnGap:$o(t,n)});return yn(e,e.columnGap,r)}return null};Nh.propTypes={};Nh.filterProps=["columnGap"];const kh=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Ss(e.theme,"spacing",8),r=n=>({rowGap:$o(t,n)});return yn(e,e.rowGap,r)}return null};kh.propTypes={};kh.filterProps=["rowGap"];const NR=je({prop:"gridColumn"}),kR=je({prop:"gridRow"}),BR=je({prop:"gridAutoFlow"}),FR=je({prop:"gridAutoColumns"}),jR=je({prop:"gridAutoRows"}),zR=je({prop:"gridTemplateColumns"}),UR=je({prop:"gridTemplateRows"}),GR=je({prop:"gridTemplateAreas"}),VR=je({prop:"gridArea"}),HR=hi(Dh,Nh,kh,NR,kR,BR,FR,jR,zR,UR,GR,VR);var nb=HR;const $R=je({prop:"color",themeKey:"palette"}),WR=je({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),qR=je({prop:"backgroundColor",themeKey:"palette"}),XR=hi($R,WR,qR);var ib=XR;const YR=je({prop:"position"}),KR=je({prop:"zIndex",themeKey:"zIndex"}),ZR=je({prop:"top"}),QR=je({prop:"right"}),JR=je({prop:"bottom"}),eL=je({prop:"left"});var ob=hi(YR,KR,ZR,QR,JR,eL);const tL=je({prop:"boxShadow",themeKey:"shadows"});var ab=tL;function pi(e){return e<=1&&e!==0?`${e*100}%`:e}const rL=je({prop:"width",transform:pi}),sb=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var n,o,i;return{maxWidth:((n=e.theme)==null||(o=n.breakpoints)==null||(i=o.values)==null?void 0:i[r])||Ch[r]||pi(r)}};return yn(e,e.maxWidth,t)}return null};sb.filterProps=["maxWidth"];const nL=je({prop:"minWidth",transform:pi}),iL=je({prop:"height",transform:pi}),oL=je({prop:"maxHeight",transform:pi}),aL=je({prop:"minHeight",transform:pi});je({prop:"size",cssProperty:"width",transform:pi});je({prop:"size",cssProperty:"height",transform:pi});const sL=je({prop:"boxSizing"}),uL=hi(rL,sb,nL,iL,oL,aL,sL);var ub=uL;const lL=je({prop:"fontFamily",themeKey:"typography"}),cL=je({prop:"fontSize",themeKey:"typography"}),fL=je({prop:"fontStyle",themeKey:"typography"}),dL=je({prop:"fontWeight",themeKey:"typography"}),hL=je({prop:"letterSpacing"}),pL=je({prop:"textTransform"}),_L=je({prop:"lineHeight"}),mL=je({prop:"textAlign"}),gL=je({prop:"typography",cssProperty:!1,themeKey:"typography"}),vL=hi(gL,lL,cL,fL,dL,hL,_L,mL,pL);var lb=vL;const Jm={borders:eb.filterProps,display:tb.filterProps,flexbox:rb.filterProps,grid:nb.filterProps,positions:ob.filterProps,palette:ib.filterProps,shadows:ab.filterProps,sizing:ub.filterProps,spacing:Vl.filterProps,typography:lb.filterProps},cb={borders:eb,display:tb,flexbox:rb,grid:nb,positions:ob,palette:ib,shadows:ab,sizing:ub,spacing:Vl,typography:lb},yL=Object.keys(Jm).reduce((e,t)=>(Jm[t].forEach(r=>{e[r]=cb[t]}),e),{});function bL(...e){const t=e.reduce((n,o)=>n.concat(Object.keys(o)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function EL(e,t){return typeof e=="function"?e(t):e}function TL(e=cb){const t=Object.keys(e).reduce((o,i)=>(e[i].filterProps.forEach(h=>{o[h]=e[i]}),o),{});function r(o,i,h){const g={[o]:i,theme:h},p=t[o];return p?p(g):{[o]:i}}function n(o){const{sx:i,theme:h={}}=o||{};if(!i)return null;function g(p){let v=p;if(typeof p=="function")v=p(h);else if(typeof p!="object")return p;if(!v)return null;const d=W2(h.breakpoints),c=Object.keys(d);let a=d;return Object.keys(v).forEach(l=>{const s=EL(v[l],h);if(s!=null)if(typeof s=="object")if(t[l])a=Na(a,r(l,s,h));else{const u=yn({theme:h},s,f=>({[l]:f}));bL(u,s)?a[l]=n({sx:s,theme:h}):a=Na(a,u)}else a=Na(a,r(l,s,h))}),q2(c,a)}return Array.isArray(i)?i.map(g):g(i)}return n}const fb=TL();fb.filterProps=["sx"];var db=fb;function mn(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}const xL=["sx"],wL=e=>{const t={systemProps:{},otherProps:{}};return Object.keys(e).forEach(r=>{yL[r]?t.systemProps[r]=e[r]:t.otherProps[r]=e[r]}),t};function Bh(e){const{sx:t}=e,r=mn(e,xL),{systemProps:n,otherProps:o}=wL(r);let i;return Array.isArray(t)?i=[n,...t]:typeof t=="function"?i=(...h)=>{const g=t(...h);return wa(g)?xt({},n,g):n}:i=xt({},n,t),xt({},o,{sx:i})}function hb(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=hb(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function it(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=hb(t))&&(n&&(n+=" "),n+=r);return n}const AL=["values","unit","step"],SL=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>xt({},r,{[n.key]:n.val}),{})};function PL(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=e,o=mn(e,AL),i=SL(t),h=Object.keys(i);function g(a){return`@media (min-width:${typeof t[a]=="number"?t[a]:a}${r})`}function p(a){return`@media (max-width:${(typeof t[a]=="number"?t[a]:a)-n/100}${r})`}function v(a,l){const s=h.indexOf(l);return`@media (min-width:${typeof t[a]=="number"?t[a]:a}${r}) and (max-width:${(s!==-1&&typeof t[h[s]]=="number"?t[h[s]]:l)-n/100}${r})`}function d(a){return h.indexOf(a)+1<h.length?v(a,h[h.indexOf(a)+1]):g(a)}function c(a){const l=h.indexOf(a);return l===0?g(h[1]):l===h.length-1?p(h[l]):v(a,h[h.indexOf(a)+1]).replace("@media","@media not all and")}return xt({keys:h,values:i,up:g,down:p,between:v,only:d,not:c,unit:r},o)}const OL={borderRadius:4};var RL=OL;function LL(e=8){if(e.mui)return e;const t=Ih({spacing:e}),r=(...n)=>(n.length===0?[1]:n).map(i=>{const h=t(i);return typeof h=="number"?`${h}px`:h}).join(" ");return r.mui=!0,r}const CL=["breakpoints","palette","spacing","shape"];function Hl(e={},...t){const{breakpoints:r={},palette:n={},spacing:o,shape:i={}}=e,h=mn(e,CL),g=PL(r),p=LL(o);let v=_n({breakpoints:g,direction:"ltr",components:{},palette:xt({mode:"light"},n),spacing:p,shape:xt({},RL,i)},h);return v=t.reduce((d,c)=>_n(d,c),v),v}const IL=le.exports.createContext(null);var ML=IL;function DL(){return le.exports.useContext(ML)}function NL(e){return Object.keys(e).length===0}function kL(e=null){const t=DL();return!t||NL(t)?e:t}const BL=Hl();function Fh(e=BL){return kL(e)}const FL=["className","component"];function jL(e={}){const{defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:n,styleFunctionSx:o=db}=e,i=$y("div")(o);return le.exports.forwardRef(function(p,v){const d=Fh(t),c=Bh(p),{className:a,component:l="div"}=c,s=mn(c,FL);return ge(i,xt({as:l,ref:v,className:it(a,n?n(r):r),theme:d},s))})}const zL=["variant"];function eg(e){return e.length===0}function pb(e){const{variant:t}=e,r=mn(e,zL);let n=t||"";return Object.keys(r).sort().forEach(o=>{o==="color"?n+=eg(n)?e[o]:ze(e[o]):n+=`${eg(n)?o:ze(o)}${ze(e[o].toString())}`}),n}const UL=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],GL=["theme"],VL=["theme"];function ma(e){return Object.keys(e).length===0}const HL=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,$L=(e,t)=>{let r=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(r=t.components[e].variants);const n={};return r.forEach(o=>{const i=pb(o.props);n[i]=o.style}),n},WL=(e,t,r,n)=>{var o,i;const{ownerState:h={}}=e,g=[],p=r==null||(o=r.components)==null||(i=o[n])==null?void 0:i.variants;return p&&p.forEach(v=>{let d=!0;Object.keys(v.props).forEach(c=>{h[c]!==v.props[c]&&e[c]!==v.props[c]&&(d=!1)}),d&&g.push(t[pb(v.props)])}),g};function Au(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const qL=Hl();function _b(e={}){const{defaultTheme:t=qL,rootShouldForwardProp:r=Au,slotShouldForwardProp:n=Au,styleFunctionSx:o=db}=e;return(i,h={})=>{const{name:g,slot:p,skipVariantsResolver:v,skipSx:d,overridesResolver:c}=h,a=mn(h,UL),l=v!==void 0?v:p&&p!=="Root"||!1,s=d||!1;let u,f=Au;p==="Root"?f=r:p&&(f=n);const m=$y(i,xt({shouldForwardProp:f,label:u},a)),y=(b,...E)=>{const x=E?E.map(A=>typeof A=="function"&&A.__emotion_real!==A?L=>{let{theme:k}=L,D=mn(L,GL);return A(xt({theme:ma(k)?t:k},D))}:A):[];let w=b;g&&c&&x.push(A=>{const L=ma(A.theme)?t:A.theme,k=HL(g,L);if(k){const D={};return Object.entries(k).forEach(([N,W])=>{D[N]=typeof W=="function"?W(xt({},A,{theme:L})):W}),c(A,D)}return null}),g&&!l&&x.push(A=>{const L=ma(A.theme)?t:A.theme;return WL(A,$L(g,L),L,g)}),s||x.push(A=>{const L=ma(A.theme)?t:A.theme;return o(xt({},A,{theme:L}))});const S=x.length-E.length;if(Array.isArray(b)&&S>0){const A=new Array(S).fill("");w=[...b,...A],w.raw=[...b.raw,...A]}else typeof b=="function"&&b.__emotion_real!==b&&(w=A=>{let{theme:L}=A,k=mn(A,VL);return b(xt({theme:ma(L)?t:L},k))});return m(w,...x)};return m.withConfig&&(y.withConfig=m.withConfig),y}}const XL=_b();var YL=XL;function KL(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:G2(t.components[r].defaultProps,n)}function mb({props:e,name:t,defaultTheme:r}){const n=Fh(r);return KL({theme:n,name:t,props:e})}function jh(e,t=0,r=1){return Math.min(Math.max(t,e),r)}function ZL(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,o)=>o<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Di(e){if(e.type)return e;if(e.charAt(0)==="#")return Di(ZL(e));const t=e.indexOf("("),r=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(os(9,e));let n=e.substring(t+1,e.length-1),o;if(r==="color"){if(n=n.split(" "),o=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o)===-1)throw new Error(os(10,o))}else n=n.split(",");return n=n.map(i=>parseFloat(i)),{type:r,values:n,colorSpace:o}}function $l(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.indexOf("rgb")!==-1?n=n.map((o,i)=>i<3?parseInt(o,10):o):t.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function QL(e){e=Di(e);const{values:t}=e,r=t[0],n=t[1]/100,o=t[2]/100,i=n*Math.min(o,1-o),h=(v,d=(v+r/30)%12)=>o-i*Math.max(Math.min(d-3,9-d,1),-1);let g="rgb";const p=[Math.round(h(0)*255),Math.round(h(8)*255),Math.round(h(4)*255)];return e.type==="hsla"&&(g+="a",p.push(t[3])),$l({type:g,values:p})}function od(e){e=Di(e);let t=e.type==="hsl"?Di(QL(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function JL(e,t){const r=od(e),n=od(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function Zt(e,t){return e=Di(e),t=jh(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,$l(e)}function Wl(e,t){if(e=Di(e),t=jh(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]*=1-t;return $l(e)}function ql(e,t){if(e=Di(e),t=jh(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return $l(e)}function tg(e,t=.15){return od(e)>.5?Wl(e,t):ql(e,t)}const eC=["className","component","disableGutters","fixed","maxWidth","classes"],tC=Hl(),rC=YL("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${ze(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),nC=e=>mb({props:e,name:"MuiContainer",defaultTheme:tC}),iC=(e,t)=>{const r=p=>er(t,p),{classes:n,fixed:o,disableGutters:i,maxWidth:h}=e,g={root:["root",h&&`maxWidth${ze(String(h))}`,o&&"fixed",i&&"disableGutters"]};return ur(g,r,n)};function oC(e={}){const{createStyledComponent:t=rC,useThemeProps:r=nC,componentName:n="MuiContainer"}=e,o=t(({theme:h,ownerState:g})=>xt({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!g.disableGutters&&{paddingLeft:h.spacing(2),paddingRight:h.spacing(2),[h.breakpoints.up("sm")]:{paddingLeft:h.spacing(3),paddingRight:h.spacing(3)}}),({theme:h,ownerState:g})=>g.fixed&&Object.keys(h.breakpoints.values).reduce((p,v)=>{const d=v,c=h.breakpoints.values[d];return c!==0&&(p[h.breakpoints.up(d)]={maxWidth:`${c}${h.breakpoints.unit}`}),p},{}),({theme:h,ownerState:g})=>xt({},g.maxWidth==="xs"&&{[h.breakpoints.up("xs")]:{maxWidth:Math.max(h.breakpoints.values.xs,444)}},g.maxWidth&&g.maxWidth!=="xs"&&{[h.breakpoints.up(g.maxWidth)]:{maxWidth:`${h.breakpoints.values[g.maxWidth]}${h.breakpoints.unit}`}}));return le.exports.forwardRef(function(g,p){const v=r(g),{className:d,component:c="div",disableGutters:a=!1,fixed:l=!1,maxWidth:s="lg"}=v,u=mn(v,eC),f=xt({},v,{component:c,disableGutters:a,fixed:l,maxWidth:s}),m=iC(f,n);return ge(o,xt({as:c,ownerState:f,className:it(m.root,d),ref:p},u))})}function aC(e,t){return De({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const sC=["mode","contrastThreshold","tonalOffset"],rg={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ts.white,default:ts.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Kc={text:{primary:ts.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ts.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ng(e,t,r,n){const o=n.light||n,i=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=ql(e.main,o):t==="dark"&&(e.dark=Wl(e.main,i)))}function uC(e="light"){return e==="dark"?{main:Xi[200],light:Xi[50],dark:Xi[400]}:{main:Xi[700],light:Xi[400],dark:Xi[800]}}function lC(e="light"){return e==="dark"?{main:qi[200],light:qi[50],dark:qi[400]}:{main:qi[500],light:qi[300],dark:qi[700]}}function cC(e="light"){return e==="dark"?{main:Wi[500],light:Wi[300],dark:Wi[700]}:{main:Wi[700],light:Wi[400],dark:Wi[800]}}function fC(e="light"){return e==="dark"?{main:Yi[400],light:Yi[300],dark:Yi[700]}:{main:Yi[700],light:Yi[500],dark:Yi[900]}}function dC(e="light"){return e==="dark"?{main:Ki[400],light:Ki[300],dark:Ki[700]}:{main:Ki[800],light:Ki[500],dark:Ki[900]}}function hC(e="light"){return e==="dark"?{main:pa[400],light:pa[300],dark:pa[700]}:{main:"#ed6c02",light:pa[500],dark:pa[900]}}function pC(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2}=e,o=kt(e,sC),i=e.primary||uC(t),h=e.secondary||lC(t),g=e.error||cC(t),p=e.info||fC(t),v=e.success||dC(t),d=e.warning||hC(t);function c(u){return JL(u,Kc.text.primary)>=r?Kc.text.primary:rg.text.primary}const a=({color:u,name:f,mainShade:m=500,lightShade:y=300,darkShade:b=700})=>{if(u=De({},u),!u.main&&u[m]&&(u.main=u[m]),!u.hasOwnProperty("main"))throw new Error(os(11,f?` (${f})`:"",m));if(typeof u.main!="string")throw new Error(os(12,f?` (${f})`:"",JSON.stringify(u.main)));return ng(u,"light",y,n),ng(u,"dark",b,n),u.contrastText||(u.contrastText=c(u.main)),u},l={dark:Kc,light:rg};return _n(De({common:De({},ts),mode:t,primary:a({color:i,name:"primary"}),secondary:a({color:h,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:a({color:g,name:"error"}),warning:a({color:d,name:"warning"}),info:a({color:p,name:"info"}),success:a({color:v,name:"success"}),grey:oO,contrastThreshold:r,getContrastText:c,augmentColor:a,tonalOffset:n},l[t]),o)}const _C=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function mC(e){return Math.round(e*1e5)/1e5}const ig={textTransform:"uppercase"},og='"Roboto", "Helvetica", "Arial", sans-serif';function gC(e,t){const r=typeof t=="function"?t(e):t,{fontFamily:n=og,fontSize:o=14,fontWeightLight:i=300,fontWeightRegular:h=400,fontWeightMedium:g=500,fontWeightBold:p=700,htmlFontSize:v=16,allVariants:d,pxToRem:c}=r,a=kt(r,_C),l=o/14,s=c||(m=>`${m/v*l}rem`),u=(m,y,b,E,x)=>De({fontFamily:n,fontWeight:m,fontSize:s(y),lineHeight:b},n===og?{letterSpacing:`${mC(E/y)}em`}:{},x,d),f={h1:u(i,96,1.167,-1.5),h2:u(i,60,1.2,-.5),h3:u(h,48,1.167,0),h4:u(h,34,1.235,.25),h5:u(h,24,1.334,0),h6:u(g,20,1.6,.15),subtitle1:u(h,16,1.75,.15),subtitle2:u(g,14,1.57,.1),body1:u(h,16,1.5,.15),body2:u(h,14,1.43,.15),button:u(g,14,1.75,.4,ig),caption:u(h,12,1.66,.4),overline:u(h,12,2.66,1,ig)};return _n(De({htmlFontSize:v,pxToRem:s,fontFamily:n,fontSize:o,fontWeightLight:i,fontWeightRegular:h,fontWeightMedium:g,fontWeightBold:p},f),a,{clone:!1})}const vC=.2,yC=.14,bC=.12;function Et(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${vC})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${yC})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${bC})`].join(",")}const EC=["none",Et(0,2,1,-1,0,1,1,0,0,1,3,0),Et(0,3,1,-2,0,2,2,0,0,1,5,0),Et(0,3,3,-2,0,3,4,0,0,1,8,0),Et(0,2,4,-1,0,4,5,0,0,1,10,0),Et(0,3,5,-1,0,5,8,0,0,1,14,0),Et(0,3,5,-1,0,6,10,0,0,1,18,0),Et(0,4,5,-2,0,7,10,1,0,2,16,1),Et(0,5,5,-3,0,8,10,1,0,3,14,2),Et(0,5,6,-3,0,9,12,1,0,3,16,2),Et(0,6,6,-3,0,10,14,1,0,4,18,3),Et(0,6,7,-4,0,11,15,1,0,4,20,3),Et(0,7,8,-4,0,12,17,2,0,5,22,4),Et(0,7,8,-4,0,13,19,2,0,5,24,4),Et(0,7,9,-4,0,14,21,2,0,5,26,4),Et(0,8,9,-5,0,15,22,2,0,6,28,5),Et(0,8,10,-5,0,16,24,2,0,6,30,5),Et(0,8,11,-5,0,17,26,2,0,6,32,5),Et(0,9,11,-5,0,18,28,2,0,7,34,6),Et(0,9,12,-6,0,19,29,2,0,7,36,6),Et(0,10,13,-6,0,20,31,3,0,8,38,7),Et(0,10,13,-6,0,21,33,3,0,8,40,7),Et(0,10,14,-6,0,22,35,3,0,8,42,7),Et(0,11,14,-7,0,23,36,3,0,9,44,8),Et(0,11,15,-7,0,24,38,3,0,9,46,8)];var TC=EC;const xC=["duration","easing","delay"],wC={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},AC={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function ag(e){return`${Math.round(e)}ms`}function SC(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function PC(e){const t=De({},wC,e.easing),r=De({},AC,e.duration);return De({getAutoHeightDuration:SC,create:(o=["all"],i={})=>{const{duration:h=r.standard,easing:g=t.easeInOut,delay:p=0}=i;return kt(i,xC),(Array.isArray(o)?o:[o]).map(v=>`${v} ${typeof h=="string"?h:ag(h)} ${g} ${typeof p=="string"?p:ag(p)}`).join(",")}},e,{easing:t,duration:r})}const OC={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var RC=OC;const LC=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function gb(e={},...t){const{mixins:r={},palette:n={},transitions:o={},typography:i={}}=e,h=kt(e,LC),g=pC(n),p=Hl(e);let v=_n(p,{mixins:aC(p.breakpoints,r),palette:g,shadows:TC.slice(),typography:gC(g,i),transitions:PC(o),zIndex:De({},RC)});return v=_n(v,h),v=t.reduce((d,c)=>_n(d,c),v),v}const CC=gb();var Xl=CC;function IC(){return Fh(Xl)}function Ht({props:e,name:t}){return mb({props:e,name:t,defaultTheme:Xl})}const MC=e=>Au(e)&&e!=="classes",DC=_b({defaultTheme:Xl,rootShouldForwardProp:MC});var pt=DC;function NC(e){return er("MuiPaper",e)}lr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const kC=["className","component","elevation","square","variant"],sg=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},BC=e=>{const{square:t,elevation:r,variant:n,classes:o}=e,i={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${r}`]};return ur(i,NC,o)},FC=pt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(({theme:e,ownerState:t})=>{var r;return De({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&De({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Zt("#fff",sg(t.elevation))}, ${Zt("#fff",sg(t.elevation))})`},e.vars&&{backgroundImage:(r=e.vars.overlays)==null?void 0:r[t.elevation]}))}),jC=le.exports.forwardRef(function(t,r){const n=Ht({props:t,name:"MuiPaper"}),{className:o,component:i="div",elevation:h=1,square:g=!1,variant:p="elevation"}=n,v=kt(n,kC),d=De({},n,{component:i,elevation:h,square:g,variant:p}),c=BC(d);return ge(FC,De({as:i,ownerState:d,className:it(c.root,o),ref:r},v))});var el=jC;function zC(e){return er("MuiSvgIcon",e)}lr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const UC=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],GC=e=>{const{color:t,fontSize:r,classes:n}=e,o={root:["root",t!=="inherit"&&`color${ze(t)}`,`fontSize${ze(r)}`]};return ur(o,zC,n)},VC=pt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${ze(r.color)}`],t[`fontSize${ze(r.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var r,n,o,i,h,g,p,v,d,c,a,l,s,u,f,m,y;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(r=e.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(o=e.transitions)==null||(i=o.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((h=e.typography)==null||(g=h.pxToRem)==null?void 0:g.call(h,20))||"1.25rem",medium:((p=e.typography)==null||(v=p.pxToRem)==null?void 0:v.call(p,24))||"1.5rem",large:((d=e.typography)==null||(c=d.pxToRem)==null?void 0:c.call(d,35))||"2.1875"}[t.fontSize],color:(a=(l=(e.vars||e).palette)==null||(s=l[t.color])==null?void 0:s.main)!=null?a:{action:(u=(e.vars||e).palette)==null||(f=u.action)==null?void 0:f.active,disabled:(m=(e.vars||e).palette)==null||(y=m.action)==null?void 0:y.disabled,inherit:void 0}[t.color]}}),vb=le.exports.forwardRef(function(t,r){const n=Ht({props:t,name:"MuiSvgIcon"}),{children:o,className:i,color:h="inherit",component:g="svg",fontSize:p="medium",htmlColor:v,inheritViewBox:d=!1,titleAccess:c,viewBox:a="0 0 24 24"}=n,l=kt(n,UC),s=De({},n,{color:h,component:g,fontSize:p,instanceFontSize:t.fontSize,inheritViewBox:d,viewBox:a}),u={};d||(u.viewBox=a);const f=GC(s);return Ct(VC,De({as:g,className:it(f.root,i),ownerState:s,focusable:"false",color:v,"aria-hidden":c?void 0:!0,role:c?"img":void 0,ref:r},u,l,{children:[o,c?ge("title",{children:c}):null]}))});vb.muiName="SvgIcon";var ug=vb;function zh(e,t){const r=(n,o)=>ge(ug,De({"data-testid":`${t}Icon`,ref:o},n,{children:e}));return r.muiName=ug.muiName,le.exports.memo(le.exports.forwardRef(r))}const HC={configure:e=>{console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join(`
`)),Lh.configure(e)}};var $C=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",unstable_ClassNameGenerator:HC,capitalize:ze,createChainedFunction:A2,createSvgIcon:zh,debounce:S2,deprecatedPropType:P2,isMuiElement:O2,ownerDocument:Zy,ownerWindow:R2,requirePropFactory:L2,setRef:nd,unstable_useEnhancedEffect:Qy,unstable_useId:M2,unsupportedProp:D2,useControlled:N2,useEventCallback:Aa,useForkRef:Ro,useIsFocusVisible:Rh});function ad(e,t){return ad=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},ad(e,t)}function WC(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ad(e,t)}var lg=ro.createContext(null);function qC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uh(e,t){var r=function(i){return t&&le.exports.isValidElement(i)?t(i):i},n=Object.create(null);return e&&le.exports.Children.map(e,function(o){return o}).forEach(function(o){n[o.key]=r(o)}),n}function XC(e,t){e=e||{},t=t||{};function r(d){return d in t?t[d]:e[d]}var n=Object.create(null),o=[];for(var i in e)i in t?o.length&&(n[i]=o,o=[]):o.push(i);var h,g={};for(var p in t){if(n[p])for(h=0;h<n[p].length;h++){var v=n[p][h];g[n[p][h]]=r(v)}g[p]=r(p)}for(h=0;h<o.length;h++)g[o[h]]=r(o[h]);return g}function xi(e,t,r){return r[t]!=null?r[t]:e.props[t]}function YC(e,t){return Uh(e.children,function(r){return le.exports.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:xi(r,"appear",e),enter:xi(r,"enter",e),exit:xi(r,"exit",e)})})}function KC(e,t,r){var n=Uh(e.children),o=XC(t,n);return Object.keys(o).forEach(function(i){var h=o[i];if(!!le.exports.isValidElement(h)){var g=i in t,p=i in n,v=t[i],d=le.exports.isValidElement(v)&&!v.props.in;p&&(!g||d)?o[i]=le.exports.cloneElement(h,{onExited:r.bind(null,h),in:!0,exit:xi(h,"exit",e),enter:xi(h,"enter",e)}):!p&&g&&!d?o[i]=le.exports.cloneElement(h,{in:!1}):p&&g&&le.exports.isValidElement(v)&&(o[i]=le.exports.cloneElement(h,{onExited:r.bind(null,h),in:v.props.in,exit:xi(h,"exit",e),enter:xi(h,"enter",e)}))}}),o}var ZC=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},QC={component:"div",childFactory:function(t){return t}},Gh=function(e){WC(t,e);function t(n,o){var i;i=e.call(this,n,o)||this;var h=i.handleExited.bind(qC(i));return i.state={contextValue:{isMounting:!0},handleExited:h,firstRender:!0},i}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(o,i){var h=i.children,g=i.handleExited,p=i.firstRender;return{children:p?YC(o,g):KC(o,h,g),firstRender:!1}},r.handleExited=function(o,i){var h=Uh(this.props.children);o.key in h||(o.props.onExited&&o.props.onExited(i),this.mounted&&this.setState(function(g){var p=xt({},g.children);return delete p[o.key],{children:p}}))},r.render=function(){var o=this.props,i=o.component,h=o.childFactory,g=mn(o,["component","childFactory"]),p=this.state.contextValue,v=ZC(this.state.children).map(h);return delete g.appear,delete g.enter,delete g.exit,i===null?ro.createElement(lg.Provider,{value:p},v):ro.createElement(lg.Provider,{value:p},ro.createElement(i,g,v))},t}(ro.Component);Gh.propTypes={};Gh.defaultProps=QC;var JC=Gh;function eI(e){const{className:t,classes:r,pulsate:n=!1,rippleX:o,rippleY:i,rippleSize:h,in:g,onExited:p,timeout:v}=e,[d,c]=le.exports.useState(!1),a=it(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),l={width:h,height:h,top:-(h/2)+i,left:-(h/2)+o},s=it(r.child,d&&r.childLeaving,n&&r.childPulsate);return!g&&!d&&c(!0),le.exports.useEffect(()=>{if(!g&&p!=null){const u=setTimeout(p,v);return()=>{clearTimeout(u)}}},[p,g,v]),ge("span",{className:a,style:l,children:ge("span",{className:s})})}const tI=lr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var Br=tI;const rI=["center","classes","className"];let Yl=e=>e,cg,fg,dg,hg;const sd=550,nI=80,iI=Ho(cg||(cg=Yl`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),oI=Ho(fg||(fg=Yl`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),aI=Ho(dg||(dg=Yl`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),sI=pt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),uI=pt(eI,{name:"MuiTouchRipple",slot:"Ripple"})(hg||(hg=Yl`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Br.rippleVisible,iI,sd,({theme:e})=>e.transitions.easing.easeInOut,Br.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,Br.child,Br.childLeaving,oI,sd,({theme:e})=>e.transitions.easing.easeInOut,Br.childPulsate,aI,({theme:e})=>e.transitions.easing.easeInOut),lI=le.exports.forwardRef(function(t,r){const n=Ht({props:t,name:"MuiTouchRipple"}),{center:o=!1,classes:i={},className:h}=n,g=kt(n,rI),[p,v]=le.exports.useState([]),d=le.exports.useRef(0),c=le.exports.useRef(null);le.exports.useEffect(()=>{c.current&&(c.current(),c.current=null)},[p]);const a=le.exports.useRef(!1),l=le.exports.useRef(null),s=le.exports.useRef(null),u=le.exports.useRef(null);le.exports.useEffect(()=>()=>{clearTimeout(l.current)},[]);const f=le.exports.useCallback(E=>{const{pulsate:x,rippleX:w,rippleY:S,rippleSize:P,cb:A}=E;v(L=>[...L,ge(uI,{classes:{ripple:it(i.ripple,Br.ripple),rippleVisible:it(i.rippleVisible,Br.rippleVisible),ripplePulsate:it(i.ripplePulsate,Br.ripplePulsate),child:it(i.child,Br.child),childLeaving:it(i.childLeaving,Br.childLeaving),childPulsate:it(i.childPulsate,Br.childPulsate)},timeout:sd,pulsate:x,rippleX:w,rippleY:S,rippleSize:P},d.current)]),d.current+=1,c.current=A},[i]),m=le.exports.useCallback((E={},x={},w)=>{const{pulsate:S=!1,center:P=o||x.pulsate,fakeElement:A=!1}=x;if((E==null?void 0:E.type)==="mousedown"&&a.current){a.current=!1;return}(E==null?void 0:E.type)==="touchstart"&&(a.current=!0);const L=A?null:u.current,k=L?L.getBoundingClientRect():{width:0,height:0,left:0,top:0};let D,N,W;if(P||E===void 0||E.clientX===0&&E.clientY===0||!E.clientX&&!E.touches)D=Math.round(k.width/2),N=Math.round(k.height/2);else{const{clientX:H,clientY:q}=E.touches?E.touches[0]:E;D=Math.round(H-k.left),N=Math.round(q-k.top)}if(P)W=Math.sqrt((2*k.width**2+k.height**2)/3),W%2===0&&(W+=1);else{const H=Math.max(Math.abs((L?L.clientWidth:0)-D),D)*2+2,q=Math.max(Math.abs((L?L.clientHeight:0)-N),N)*2+2;W=Math.sqrt(H**2+q**2)}E!=null&&E.touches?s.current===null&&(s.current=()=>{f({pulsate:S,rippleX:D,rippleY:N,rippleSize:W,cb:w})},l.current=setTimeout(()=>{s.current&&(s.current(),s.current=null)},nI)):f({pulsate:S,rippleX:D,rippleY:N,rippleSize:W,cb:w})},[o,f]),y=le.exports.useCallback(()=>{m({},{pulsate:!0})},[m]),b=le.exports.useCallback((E,x)=>{if(clearTimeout(l.current),(E==null?void 0:E.type)==="touchend"&&s.current){s.current(),s.current=null,l.current=setTimeout(()=>{b(E,x)});return}s.current=null,v(w=>w.length>0?w.slice(1):w),c.current=x},[]);return le.exports.useImperativeHandle(r,()=>({pulsate:y,start:m,stop:b}),[y,m,b]),ge(sI,De({className:it(i.root,Br.root,h),ref:u},g,{children:ge(JC,{component:null,exit:!0,children:p})}))});var cI=lI;function fI(e){return er("MuiButtonBase",e)}const dI=lr("MuiButtonBase",["root","disabled","focusVisible"]);var hI=dI;const pI=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],_I=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:o}=e,h=ur({root:["root",t&&"disabled",r&&"focusVisible"]},fI,o);return r&&n&&(h.root+=` ${n}`),h},mI=pt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${hI.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),gI=le.exports.forwardRef(function(t,r){const n=Ht({props:t,name:"MuiButtonBase"}),{action:o,centerRipple:i=!1,children:h,className:g,component:p="button",disabled:v=!1,disableRipple:d=!1,disableTouchRipple:c=!1,focusRipple:a=!1,LinkComponent:l="a",onBlur:s,onClick:u,onContextMenu:f,onDragLeave:m,onFocus:y,onFocusVisible:b,onKeyDown:E,onKeyUp:x,onMouseDown:w,onMouseLeave:S,onMouseUp:P,onTouchEnd:A,onTouchMove:L,onTouchStart:k,tabIndex:D=0,TouchRippleProps:N,touchRippleRef:W,type:H}=n,q=kt(n,pI),X=le.exports.useRef(null),Y=le.exports.useRef(null),J=Ro(Y,W),{isFocusVisibleRef:ee,onFocus:te,onBlur:ne,ref:fe}=Rh(),[_e,ye]=le.exports.useState(!1);v&&_e&&ye(!1),le.exports.useImperativeHandle(o,()=>({focusVisible:()=>{ye(!0),X.current.focus()}}),[]);const[re,be]=le.exports.useState(!1);le.exports.useEffect(()=>{be(!0)},[]);const Ae=re&&!d&&!v;le.exports.useEffect(()=>{_e&&a&&!d&&re&&Y.current.pulsate()},[d,a,_e,re]);function pe(z,V,j=c){return Aa(Z=>(V&&V(Z),!j&&Y.current&&Y.current[z](Z),!0))}const Pe=pe("start",w),xe=pe("stop",f),Re=pe("stop",m),he=pe("stop",P),Se=pe("stop",z=>{_e&&z.preventDefault(),S&&S(z)}),Ce=pe("start",k),Te=pe("stop",A),Ie=pe("stop",L),Me=pe("stop",z=>{ne(z),ee.current===!1&&ye(!1),s&&s(z)},!1),Ue=Aa(z=>{X.current||(X.current=z.currentTarget),te(z),ee.current===!0&&(ye(!0),b&&b(z)),y&&y(z)}),Ne=()=>{const z=X.current;return p&&p!=="button"&&!(z.tagName==="A"&&z.href)},Ye=le.exports.useRef(!1),ke=Aa(z=>{a&&!Ye.current&&_e&&Y.current&&z.key===" "&&(Ye.current=!0,Y.current.stop(z,()=>{Y.current.start(z)})),z.target===z.currentTarget&&Ne()&&z.key===" "&&z.preventDefault(),E&&E(z),z.target===z.currentTarget&&Ne()&&z.key==="Enter"&&!v&&(z.preventDefault(),u&&u(z))}),He=Aa(z=>{a&&z.key===" "&&Y.current&&_e&&!z.defaultPrevented&&(Ye.current=!1,Y.current.stop(z,()=>{Y.current.pulsate(z)})),x&&x(z),u&&z.target===z.currentTarget&&Ne()&&z.key===" "&&!z.defaultPrevented&&u(z)});let et=p;et==="button"&&(q.href||q.to)&&(et=l);const Le={};et==="button"?(Le.type=H===void 0?"button":H,Le.disabled=v):(!q.href&&!q.to&&(Le.role="button"),v&&(Le["aria-disabled"]=v));const Ke=Ro(fe,X),U=Ro(r,Ke),C=De({},n,{centerRipple:i,component:p,disabled:v,disableRipple:d,disableTouchRipple:c,focusRipple:a,tabIndex:D,focusVisible:_e}),M=_I(C);return Ct(mI,De({as:et,className:it(M.root,g),ownerState:C,onBlur:Me,onClick:u,onContextMenu:xe,onFocus:Ue,onKeyDown:ke,onKeyUp:He,onMouseDown:Pe,onMouseLeave:Se,onMouseUp:he,onDragLeave:Re,onTouchEnd:Te,onTouchMove:Ie,onTouchStart:Ce,ref:U,tabIndex:v?-1:D,type:H},Le,q,{children:[h,Ae?ge(cI,De({ref:J,center:i},N)):null]}))});var ud=gI;function vI(e){return er("MuiTypography",e)}lr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const yI=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],bI=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:o,variant:i,classes:h}=e,g={root:["root",i,e.align!=="inherit"&&`align${ze(t)}`,r&&"gutterBottom",n&&"noWrap",o&&"paragraph"]};return ur(g,vI,h)},EI=pt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${ze(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>De({margin:0},t.variant&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),pg={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},TI={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},xI=e=>TI[e]||e,wI=le.exports.forwardRef(function(t,r){const n=Ht({props:t,name:"MuiTypography"}),o=xI(n.color),i=Bh(De({},n,{color:o})),{align:h="inherit",className:g,component:p,gutterBottom:v=!1,noWrap:d=!1,paragraph:c=!1,variant:a="body1",variantMapping:l=pg}=i,s=kt(i,yI),u=De({},i,{align:h,color:o,className:g,component:p,gutterBottom:v,noWrap:d,paragraph:c,variant:a,variantMapping:l}),f=p||(c?"p":l[a]||pg[a])||"span",m=bI(u);return ge(EI,De({as:f,ref:r,ownerState:u,className:it(m.root,g)},s))});var gn=wI,AI=zh(ge("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function SI(e){return er("MuiChip",e)}const PI=lr("MuiChip",["root","sizeSmall","sizeMedium","colorPrimary","colorSecondary","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","focusVisible"]);var nt=PI;const OI=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"],RI=e=>{const{classes:t,disabled:r,size:n,color:o,onDelete:i,clickable:h,variant:g}=e,p={root:["root",g,r&&"disabled",`size${ze(n)}`,`color${ze(o)}`,h&&"clickable",h&&`clickableColor${ze(o)}`,i&&"deletable",i&&`deletableColor${ze(o)}`,`${g}${ze(o)}`],label:["label",`label${ze(n)}`],avatar:["avatar",`avatar${ze(n)}`,`avatarColor${ze(o)}`],icon:["icon",`icon${ze(n)}`,`iconColor${ze(o)}`],deleteIcon:["deleteIcon",`deleteIcon${ze(n)}`,`deleteIconColor${ze(o)}`,`deleteIconOutlinedColor${ze(o)}`]};return ur(p,SI,t)},LI=pt("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{color:n,clickable:o,onDelete:i,size:h,variant:g}=r;return[{[`& .${nt.avatar}`]:t.avatar},{[`& .${nt.avatar}`]:t[`avatar${ze(h)}`]},{[`& .${nt.avatar}`]:t[`avatarColor${ze(n)}`]},{[`& .${nt.icon}`]:t.icon},{[`& .${nt.icon}`]:t[`icon${ze(h)}`]},{[`& .${nt.icon}`]:t[`iconColor${ze(n)}`]},{[`& .${nt.deleteIcon}`]:t.deleteIcon},{[`& .${nt.deleteIcon}`]:t[`deleteIcon${ze(h)}`]},{[`& .${nt.deleteIcon}`]:t[`deleteIconColor${ze(n)}`]},{[`& .${nt.deleteIcon}`]:t[`deleteIconOutlinedColor${ze(n)}`]},t.root,t[`size${ze(h)}`],t[`color${ze(n)}`],o&&t.clickable,o&&n!=="default"&&t[`clickableColor${ze(n)})`],i&&t.deletable,i&&n!=="default"&&t[`deletableColor${ze(n)}`],t[g],g==="outlined"&&t[`outlined${ze(n)}`]]}})(({theme:e,ownerState:t})=>{const r=Zt(e.palette.text.primary,.26),n=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return De({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${nt.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${nt.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:n,fontSize:e.typography.pxToRem(12)},[`& .${nt.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${nt.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${nt.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${nt.icon}`]:De({color:e.vars?e.vars.palette.Chip.defaultIconColor:n,marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.color!=="default"&&{color:"inherit"}),[`& .${nt.deleteIcon}`]:De({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:r,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:Zt(r,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:Zt(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${nt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity+e.vars.palette.action.focusOpacity}))`:Zt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${nt.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>De({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity+e.vars.palette.action.hoverOpacity}))`:Zt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${nt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity+e.vars.palette.action.focusOpacity}))`:Zt(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${nt.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>De({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${nt.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${nt.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${nt.avatar}`]:{marginLeft:4},[`& .${nt.avatarSmall}`]:{marginLeft:2},[`& .${nt.icon}`]:{marginLeft:4},[`& .${nt.iconSmall}`]:{marginLeft:2},[`& .${nt.deleteIcon}`]:{marginRight:5},[`& .${nt.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Zt(e.palette[t.color].main,.7)}`,[`&.${nt.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Zt(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${nt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:Zt(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${nt.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Zt(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),CI=pt("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:r}=e,{size:n}=r;return[t.label,t[`label${ze(n)}`]]}})(({ownerState:e})=>De({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.size==="small"&&{paddingLeft:8,paddingRight:8}));function _g(e){return e.key==="Backspace"||e.key==="Delete"}const II=le.exports.forwardRef(function(t,r){const n=Ht({props:t,name:"MuiChip"}),{avatar:o,className:i,clickable:h,color:g="default",component:p,deleteIcon:v,disabled:d=!1,icon:c,label:a,onClick:l,onDelete:s,onKeyDown:u,onKeyUp:f,size:m="medium",variant:y="filled"}=n,b=kt(n,OI),E=le.exports.useRef(null),x=Ro(E,r),w=Y=>{Y.stopPropagation(),s&&s(Y)},S=Y=>{Y.currentTarget===Y.target&&_g(Y)&&Y.preventDefault(),u&&u(Y)},P=Y=>{Y.currentTarget===Y.target&&(s&&_g(Y)?s(Y):Y.key==="Escape"&&E.current&&E.current.blur()),f&&f(Y)},A=h!==!1&&l?!0:h,L=m==="small",k=A||s?ud:p||"div",D=De({},n,{component:k,disabled:d,size:m,color:g,onDelete:!!s,clickable:A,variant:y}),N=RI(D),W=k===ud?De({component:p||"div",focusVisibleClassName:N.focusVisible},s&&{disableRipple:!0}):{};let H=null;if(s){const Y=it(g!=="default"&&(y==="outlined"?N[`deleteIconOutlinedColor${ze(g)}`]:N[`deleteIconColor${ze(g)}`]),L&&N.deleteIconSmall);H=v&&le.exports.isValidElement(v)?le.exports.cloneElement(v,{className:it(v.props.className,N.deleteIcon,Y),onClick:w}):ge(AI,{className:it(N.deleteIcon,Y),onClick:w})}let q=null;o&&le.exports.isValidElement(o)&&(q=le.exports.cloneElement(o,{className:it(N.avatar,o.props.className)}));let X=null;return c&&le.exports.isValidElement(c)&&(X=le.exports.cloneElement(c,{className:it(N.icon,c.props.className)})),Ct(LI,De({as:k,className:it(N.root,i),disabled:A&&d?!0:void 0,onClick:l,onKeyDown:S,onKeyUp:P,ref:x,ownerState:D},W,b,{children:[q||X,ge(CI,{className:it(N.label),ownerState:D,children:a}),H]}))});var Zc=II;function MI(e){return ge(p2,De({},e,{defaultTheme:Xl}))}const DI=gb(),NI=jL({defaultTheme:DI,defaultClassName:"MuiBox-root",generateClassName:Lh.generate});var yb=NI,kI=zh(ge("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");const BI=pt(ud)(({theme:e})=>De({display:"flex",marginLeft:`calc(${e.spacing(1)} * 0.5)`,marginRight:`calc(${e.spacing(1)} * 0.5)`},e.palette.mode==="light"?{backgroundColor:e.palette.grey[100],color:e.palette.grey[700]}:{backgroundColor:e.palette.grey[700],color:e.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":De({},e.palette.mode==="light"?{backgroundColor:e.palette.grey[200]}:{backgroundColor:e.palette.grey[600]}),"&:active":De({boxShadow:e.shadows[0]},e.palette.mode==="light"?{backgroundColor:tg(e.palette.grey[200],.12)}:{backgroundColor:tg(e.palette.grey[600],.12)})})),FI=pt(kI)({width:24,height:16});function jI(e){const t=e;return ge("li",{children:ge(BI,De({focusRipple:!0},e,{ownerState:t,children:ge(FI,{ownerState:t})}))})}function zI(e){return er("MuiBreadcrumbs",e)}const UI=lr("MuiBreadcrumbs",["root","ol","li","separator"]);var GI=UI;const VI=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],HI=e=>{const{classes:t}=e;return ur({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},zI,t)},$I=pt(gn,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{[`& .${GI.li}`]:t.li},t.root]})({}),WI=pt("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),qI=pt("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function XI(e,t,r,n){return e.reduce((o,i,h)=>(h<e.length-1?o=o.concat(i,ge(qI,{"aria-hidden":!0,className:t,ownerState:n,children:r},`separator-${h}`)):o.push(i),o),[])}const YI=le.exports.forwardRef(function(t,r){const n=Ht({props:t,name:"MuiBreadcrumbs"}),{children:o,className:i,component:h="nav",expandText:g="Show path",itemsAfterCollapse:p=1,itemsBeforeCollapse:v=1,maxItems:d=8,separator:c="/"}=n,a=kt(n,VI),[l,s]=le.exports.useState(!1),u=De({},n,{component:h,expanded:l,expandText:g,itemsAfterCollapse:p,itemsBeforeCollapse:v,maxItems:d,separator:c}),f=HI(u),m=le.exports.useRef(null),y=E=>{const x=()=>{s(!0);const w=m.current.querySelector("a[href],button,[tabindex]");w&&w.focus()};return v+p>=E.length?E:[...E.slice(0,v),ge(jI,{"aria-label":g,onClick:x},"ellipsis"),...E.slice(E.length-p,E.length)]},b=le.exports.Children.toArray(o).filter(E=>le.exports.isValidElement(E)).map((E,x)=>ge("li",{className:f.li,children:E},`child-${x}`));return ge($I,De({ref:r,component:h,color:"text.secondary",className:it(f.root,i),ownerState:u},a,{children:ge(WI,{className:f.ol,ref:m,ownerState:u,children:XI(l||d&&b.length<=d?b:y(b),f.separator,c,u)})}))});var KI=YI;function ZI(e){return er("MuiCard",e)}lr("MuiCard",["root"]);const QI=["className","raised"],JI=e=>{const{classes:t}=e;return ur({root:["root"]},ZI,t)},eM=pt(el,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),tM=le.exports.forwardRef(function(t,r){const n=Ht({props:t,name:"MuiCard"}),{className:o,raised:i=!1}=n,h=kt(n,QI),g=De({},n,{raised:i}),p=JI(g);return ge(eM,De({className:it(p.root,o),elevation:i?8:void 0,ref:r,ownerState:g},h))});var rM=tM;const nM=oC({createStyledComponent:pt("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${ze(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>Ht({props:e,name:"MuiContainer"})});var Wo=nM;const iM=(e,t)=>De({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&{colorScheme:e.palette.mode}),oM=e=>De({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),aM=(e,t=!1)=>{var r,n;let o={html:iM(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:De({margin:0},oM(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})};const i=(r=e.components)==null||(n=r.MuiCssBaseline)==null?void 0:n.styleOverrides;return i&&(o=[o,i]),o};function sM(e){const t=Ht({props:e,name:"MuiCssBaseline"}),{children:r,enableColorScheme:n=!1}=t;return Ct(le.exports.Fragment,{children:[ge(MI,{styles:o=>aM(o,n)}),r]})}function uM(e){return er("MuiLinearProgress",e)}lr("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const lM=["className","color","value","valueBuffer","variant"];let qo=e=>e,mg,gg,vg,yg,bg,Eg;const ld=4,cM=Ho(mg||(mg=qo`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),fM=Ho(gg||(gg=qo`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),dM=Ho(vg||(vg=qo`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),hM=e=>{const{classes:t,variant:r,color:n}=e,o={root:["root",`color${ze(n)}`,r],dashed:["dashed",`dashedColor${ze(n)}`],bar1:["bar",`barColor${ze(n)}`,(r==="indeterminate"||r==="query")&&"bar1Indeterminate",r==="determinate"&&"bar1Determinate",r==="buffer"&&"bar1Buffer"],bar2:["bar",r!=="buffer"&&`barColor${ze(n)}`,r==="buffer"&&`color${ze(n)}`,(r==="indeterminate"||r==="query")&&"bar2Indeterminate",r==="buffer"&&"bar2Buffer"]};return ur(o,uM,t)},Vh=(e,t)=>t==="inherit"?"currentColor":e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?ql(e.palette[t].main,.62):Wl(e.palette[t].main,.5),pM=pt("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${ze(r.color)}`],t[r.variant]]}})(({ownerState:e,theme:t})=>De({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:Vh(t,e.color)},e.color==="inherit"&&e.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},e.variant==="buffer"&&{backgroundColor:"transparent"},e.variant==="query"&&{transform:"rotate(180deg)"})),_M=pt("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.dashed,t[`dashedColor${ze(r.color)}`]]}})(({ownerState:e,theme:t})=>{const r=Vh(t,e.color);return De({position:"absolute",marginTop:0,height:"100%",width:"100%"},e.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${r} 0%, ${r} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},Bl(yg||(yg=qo`
    animation: ${0} 3s infinite linear;
  `),dM)),mM=pt("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t[`barColor${ze(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&t.bar1Indeterminate,r.variant==="determinate"&&t.bar1Determinate,r.variant==="buffer"&&t.bar1Buffer]}})(({ownerState:e,theme:t})=>De({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.variant==="determinate"&&{transition:`transform .${ld}s linear`},e.variant==="buffer"&&{zIndex:1,transition:`transform .${ld}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&Bl(bg||(bg=qo`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),cM)),gM=pt("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t[`barColor${ze(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&t.bar2Indeterminate,r.variant==="buffer"&&t.bar2Buffer]}})(({ownerState:e,theme:t})=>De({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},e.variant!=="buffer"&&{backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.color==="inherit"&&{opacity:.3},e.variant==="buffer"&&{backgroundColor:Vh(t,e.color),transition:`transform .${ld}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&Bl(Eg||(Eg=qo`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),fM)),vM=le.exports.forwardRef(function(t,r){const n=Ht({props:t,name:"MuiLinearProgress"}),{className:o,color:i="primary",value:h,valueBuffer:g,variant:p="indeterminate"}=n,v=kt(n,lM),d=De({},n,{color:i,variant:p}),c=hM(d),a=IC(),l={},s={bar1:{},bar2:{}};if((p==="determinate"||p==="buffer")&&h!==void 0){l["aria-valuenow"]=Math.round(h),l["aria-valuemin"]=0,l["aria-valuemax"]=100;let u=h-100;a.direction==="rtl"&&(u=-u),s.bar1.transform=`translateX(${u}%)`}if(p==="buffer"&&g!==void 0){let u=(g||0)-100;a.direction==="rtl"&&(u=-u),s.bar2.transform=`translateX(${u}%)`}return Ct(pM,De({className:it(c.root,o),ownerState:d,role:"progressbar"},l,{ref:r},v,{children:[p==="buffer"?ge(_M,{className:c.dashed,ownerState:d}):null,ge(mM,{className:c.bar1,ownerState:d,style:s.bar1}),p==="determinate"?null:ge(gM,{className:c.bar2,ownerState:d,style:s.bar2})]}))});var yM=vM;function bM(e){return er("MuiLink",e)}const EM=lr("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var TM=EM;const bb={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},xM=e=>bb[e]||e,wM=({theme:e,ownerState:t})=>{const r=xM(t.color),n=as(e,`palette.${r}`,!1)||t.color,o=as(e,`palette.${r}Channel`);return"vars"in e&&o?`rgba(${o} / 0.4)`:Zt(n,.4)};var AM=wM;const SM=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],PM=e=>{const{classes:t,component:r,focusVisible:n,underline:o}=e,i={root:["root",`underline${ze(o)}`,r==="button"&&"button",n&&"focusVisible"]};return ur(i,bM,t)},OM=pt(gn,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`underline${ze(r.underline)}`],r.component==="button"&&t.button]}})(({theme:e,ownerState:t})=>De({},t.underline==="none"&&{textDecoration:"none"},t.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},t.underline==="always"&&De({textDecoration:"underline"},t.color!=="inherit"&&{textDecorationColor:AM({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),t.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${TM.focusVisible}`]:{outline:"auto"}})),RM=le.exports.forwardRef(function(t,r){const n=Ht({props:t,name:"MuiLink"}),{className:o,color:i="primary",component:h="a",onBlur:g,onFocus:p,TypographyClasses:v,underline:d="always",variant:c="inherit",sx:a}=n,l=kt(n,SM),{isFocusVisibleRef:s,onBlur:u,onFocus:f,ref:m}=Rh(),[y,b]=le.exports.useState(!1),E=Ro(r,m),x=A=>{u(A),s.current===!1&&b(!1),g&&g(A)},w=A=>{f(A),s.current===!0&&b(!0),p&&p(A)},S=De({},n,{color:i,component:h,focusVisible:y,underline:d,variant:c}),P=PM(S);return ge(OM,De({color:i,className:it(P.root,o),classes:v,component:h,onBlur:x,onFocus:w,ref:E,ownerState:S,variant:c,sx:[...Object.keys(bb).includes(i)?[]:[{color:i}],...Array.isArray(a)?a:[a]]},l))});var Pi=RM;const LM=["component","direction","spacing","divider","children"];function CM(e,t){const r=le.exports.Children.toArray(e).filter(Boolean);return r.reduce((n,o,i)=>(n.push(o),i<r.length-1&&n.push(le.exports.cloneElement(t,{key:`separator-${i}`})),n),[])}const IM=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],MM=({ownerState:e,theme:t})=>{let r=De({display:"flex"},yn({theme:t},Yc({values:e.direction,breakpoints:t.breakpoints.values}),n=>({flexDirection:n})));if(e.spacing){const n=Ih(t),o=Object.keys(t.breakpoints.values).reduce((p,v)=>((typeof e.spacing=="object"&&e.spacing[v]!=null||typeof e.direction=="object"&&e.direction[v]!=null)&&(p[v]=!0),p),{}),i=Yc({values:e.direction,base:o}),h=Yc({values:e.spacing,base:o});r=_n(r,yn({theme:t},h,(p,v)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${IM(v?i[v]:e.direction)}`]:$o(n,p)}})))}return r},DM=pt("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>[t.root]})(MM),NM=le.exports.forwardRef(function(t,r){const n=Ht({props:t,name:"MuiStack"}),o=Bh(n),{component:i="div",direction:h="column",spacing:g=0,divider:p,children:v}=o,d=kt(o,LM);return ge(DM,De({as:i,ownerState:{direction:h,spacing:g},ref:r},d,{children:p?CM(v,p):v}))});var Xo=NM;const kM=le.exports.createContext();var Eb=kM;function BM(e){return er("MuiTable",e)}lr("MuiTable",["root","stickyHeader"]);const FM=["className","component","padding","size","stickyHeader"],jM=e=>{const{classes:t,stickyHeader:r}=e;return ur({root:["root",r&&"stickyHeader"]},BM,t)},zM=pt("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>De({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":De({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),Tg="table",UM=le.exports.forwardRef(function(t,r){const n=Ht({props:t,name:"MuiTable"}),{className:o,component:i=Tg,padding:h="normal",size:g="medium",stickyHeader:p=!1}=n,v=kt(n,FM),d=De({},n,{component:i,padding:h,size:g,stickyHeader:p}),c=jM(d),a=le.exports.useMemo(()=>({padding:h,size:g,stickyHeader:p}),[h,g,p]);return ge(Eb.Provider,{value:a,children:ge(zM,De({as:i,role:i===Tg?null:"table",ref:r,className:it(c.root,o),ownerState:d},v))})});var cd=UM;const GM=le.exports.createContext();var Kl=GM;function VM(e){return er("MuiTableBody",e)}lr("MuiTableBody",["root"]);const HM=["className","component"],$M=e=>{const{classes:t}=e;return ur({root:["root"]},VM,t)},WM=pt("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),qM={variant:"body"},xg="tbody",XM=le.exports.forwardRef(function(t,r){const n=Ht({props:t,name:"MuiTableBody"}),{className:o,component:i=xg}=n,h=kt(n,HM),g=De({},n,{component:i}),p=$M(g);return ge(Kl.Provider,{value:qM,children:ge(WM,De({className:it(p.root,o),as:i,ref:r,role:i===xg?null:"rowgroup",ownerState:g},h))})});var fd=XM;function YM(e){return er("MuiTableCell",e)}const KM=lr("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]);var ZM=KM;const QM=["align","className","component","padding","scope","size","sortDirection","variant"],JM=e=>{const{classes:t,variant:r,align:n,padding:o,size:i,stickyHeader:h}=e,g={root:["root",r,h&&"stickyHeader",n!=="inherit"&&`align${ze(n)}`,o!=="normal"&&`padding${ze(o)}`,`size${ze(i)}`]};return ur(g,YM,t)},eD=pt("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${ze(r.size)}`],r.padding!=="normal"&&t[`padding${ze(r.padding)}`],r.align!=="inherit"&&t[`align${ze(r.align)}`],r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>De({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?ql(Zt(e.palette.divider,1),.88):Wl(Zt(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${ZM.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),tD=le.exports.forwardRef(function(t,r){const n=Ht({props:t,name:"MuiTableCell"}),{align:o="inherit",className:i,component:h,padding:g,scope:p,size:v,sortDirection:d,variant:c}=n,a=kt(n,QM),l=le.exports.useContext(Eb),s=le.exports.useContext(Kl),u=s&&s.variant==="head";let f;h?f=h:f=u?"th":"td";let m=p;!m&&u&&(m="col");const y=c||s&&s.variant,b=De({},n,{align:o,component:f,padding:g||(l&&l.padding?l.padding:"normal"),size:v||(l&&l.size?l.size:"medium"),sortDirection:d,stickyHeader:y==="head"&&l&&l.stickyHeader,variant:y}),E=JM(b);let x=null;return d&&(x=d==="asc"?"ascending":"descending"),ge(eD,De({as:f,ref:r,className:it(E.root,i),"aria-sort":x,scope:m,ownerState:b},a))});var mo=tD;function rD(e){return er("MuiTableContainer",e)}lr("MuiTableContainer",["root"]);const nD=["className","component"],iD=e=>{const{classes:t}=e;return ur({root:["root"]},rD,t)},oD=pt("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),aD=le.exports.forwardRef(function(t,r){const n=Ht({props:t,name:"MuiTableContainer"}),{className:o,component:i="div"}=n,h=kt(n,nD),g=De({},n,{component:i}),p=iD(g);return ge(oD,De({ref:r,as:i,className:it(p.root,o),ownerState:g},h))});var dd=aD;function sD(e){return er("MuiTableHead",e)}lr("MuiTableHead",["root"]);const uD=["className","component"],lD=e=>{const{classes:t}=e;return ur({root:["root"]},sD,t)},cD=pt("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),fD={variant:"head"},wg="thead",dD=le.exports.forwardRef(function(t,r){const n=Ht({props:t,name:"MuiTableHead"}),{className:o,component:i=wg}=n,h=kt(n,uD),g=De({},n,{component:i}),p=lD(g);return ge(Kl.Provider,{value:fD,children:ge(cD,De({as:i,className:it(p.root,o),ref:r,role:i===wg?null:"rowgroup",ownerState:g},h))})});var hd=dD;function hD(e){return er("MuiTableRow",e)}const pD=lr("MuiTableRow",["root","selected","hover","head","footer"]);var Ag=pD;const _D=["className","component","hover","selected"],mD=e=>{const{classes:t,selected:r,hover:n,head:o,footer:i}=e;return ur({root:["root",r&&"selected",n&&"hover",o&&"head",i&&"footer"]},hD,t)},gD=pt("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.head&&t.head,r.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${Ag.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Ag.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Zt(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Zt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),Sg="tr",vD=le.exports.forwardRef(function(t,r){const n=Ht({props:t,name:"MuiTableRow"}),{className:o,component:i=Sg,hover:h=!1,selected:g=!1}=n,p=kt(n,_D),v=le.exports.useContext(Kl),d=De({},n,{component:i,hover:h,selected:g,head:v&&v.variant==="head",footer:v&&v.variant==="footer"}),c=mD(d);return ge(gD,De({as:i,ref:r,className:it(c.root,o),role:i===Sg?null:"row",ownerState:d},p))});var go=vD,Tb={exports:{}};/* @license
Papa Parse
v5.3.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(r,n){e.exports=n()})(cu,function r(){var n=typeof self!="undefined"?self:typeof window!="undefined"?window:n!==void 0?n:{},o=!n.document&&!!n.postMessage,i=o&&/blob:/i.test((n.location||{}).protocol),h={},g=0,p={parse:function(P,A){var L=(A=A||{}).dynamicTyping||!1;if(S(L)&&(A.dynamicTypingFunction=L,L={}),A.dynamicTyping=L,A.transform=!!S(A.transform)&&A.transform,A.worker&&p.WORKERS_SUPPORTED){var k=function(){if(!p.WORKERS_SUPPORTED)return!1;var N=(H=n.URL||n.webkitURL||null,q=r.toString(),p.BLOB_URL||(p.BLOB_URL=H.createObjectURL(new Blob(["(",q,")();"],{type:"text/javascript"})))),W=new n.Worker(N),H,q;return W.onmessage=y,W.id=g++,h[W.id]=W}();return k.userStep=A.step,k.userChunk=A.chunk,k.userComplete=A.complete,k.userError=A.error,A.step=S(A.step),A.chunk=S(A.chunk),A.complete=S(A.complete),A.error=S(A.error),delete A.worker,void k.postMessage({input:P,config:A,workerId:k.id})}var D=null;return p.NODE_STREAM_INPUT,typeof P=="string"?D=A.download?new c(A):new l(A):P.readable===!0&&S(P.read)&&S(P.on)?D=new s(A):(n.File&&P instanceof File||P instanceof Object)&&(D=new a(A)),D.stream(P)},unparse:function(P,A){var L=!1,k=!0,D=",",N=`\r
`,W='"',H=W+W,q=!1,X=null,Y=!1;(function(){if(typeof A=="object"){if(typeof A.delimiter!="string"||p.BAD_DELIMITERS.filter(function(ne){return A.delimiter.indexOf(ne)!==-1}).length||(D=A.delimiter),(typeof A.quotes=="boolean"||typeof A.quotes=="function"||Array.isArray(A.quotes))&&(L=A.quotes),typeof A.skipEmptyLines!="boolean"&&typeof A.skipEmptyLines!="string"||(q=A.skipEmptyLines),typeof A.newline=="string"&&(N=A.newline),typeof A.quoteChar=="string"&&(W=A.quoteChar),typeof A.header=="boolean"&&(k=A.header),Array.isArray(A.columns)){if(A.columns.length===0)throw new Error("Option columns is empty");X=A.columns}A.escapeChar!==void 0&&(H=A.escapeChar+W),(typeof A.escapeFormulae=="boolean"||A.escapeFormulae instanceof RegExp)&&(Y=A.escapeFormulae instanceof RegExp?A.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var J=new RegExp(f(W),"g");if(typeof P=="string"&&(P=JSON.parse(P)),Array.isArray(P)){if(!P.length||Array.isArray(P[0]))return ee(null,P,q);if(typeof P[0]=="object")return ee(X||Object.keys(P[0]),P,q)}else if(typeof P=="object")return typeof P.data=="string"&&(P.data=JSON.parse(P.data)),Array.isArray(P.data)&&(P.fields||(P.fields=P.meta&&P.meta.fields||X),P.fields||(P.fields=Array.isArray(P.data[0])?P.fields:typeof P.data[0]=="object"?Object.keys(P.data[0]):[]),Array.isArray(P.data[0])||typeof P.data[0]=="object"||(P.data=[P.data])),ee(P.fields||[],P.data||[],q);throw new Error("Unable to serialize unrecognized input");function ee(ne,fe,_e){var ye="";typeof ne=="string"&&(ne=JSON.parse(ne)),typeof fe=="string"&&(fe=JSON.parse(fe));var re=Array.isArray(ne)&&0<ne.length,be=!Array.isArray(fe[0]);if(re&&k){for(var Ae=0;Ae<ne.length;Ae++)0<Ae&&(ye+=D),ye+=te(ne[Ae],Ae);0<fe.length&&(ye+=N)}for(var pe=0;pe<fe.length;pe++){var Pe=re?ne.length:fe[pe].length,xe=!1,Re=re?Object.keys(fe[pe]).length===0:fe[pe].length===0;if(_e&&!re&&(xe=_e==="greedy"?fe[pe].join("").trim()==="":fe[pe].length===1&&fe[pe][0].length===0),_e==="greedy"&&re){for(var he=[],Se=0;Se<Pe;Se++){var Ce=be?ne[Se]:Se;he.push(fe[pe][Ce])}xe=he.join("").trim()===""}if(!xe){for(var Te=0;Te<Pe;Te++){0<Te&&!Re&&(ye+=D);var Ie=re&&be?ne[Te]:Te;ye+=te(fe[pe][Ie],Te)}pe<fe.length-1&&(!_e||0<Pe&&!Re)&&(ye+=N)}}return ye}function te(ne,fe){if(ne==null)return"";if(ne.constructor===Date)return JSON.stringify(ne).slice(1,25);var _e=!1;Y&&typeof ne=="string"&&Y.test(ne)&&(ne="'"+ne,_e=!0);var ye=ne.toString().replace(J,H);return(_e=_e||L===!0||typeof L=="function"&&L(ne,fe)||Array.isArray(L)&&L[fe]||function(re,be){for(var Ae=0;Ae<be.length;Ae++)if(-1<re.indexOf(be[Ae]))return!0;return!1}(ye,p.BAD_DELIMITERS)||-1<ye.indexOf(D)||ye.charAt(0)===" "||ye.charAt(ye.length-1)===" ")?W+ye+W:ye}}};if(p.RECORD_SEP=String.fromCharCode(30),p.UNIT_SEP=String.fromCharCode(31),p.BYTE_ORDER_MARK="\uFEFF",p.BAD_DELIMITERS=["\r",`
`,'"',p.BYTE_ORDER_MARK],p.WORKERS_SUPPORTED=!o&&!!n.Worker,p.NODE_STREAM_INPUT=1,p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=m,p.ParserHandle=u,p.NetworkStreamer=c,p.FileStreamer=a,p.StringStreamer=l,p.ReadableStreamStreamer=s,n.jQuery){var v=n.jQuery;v.fn.parse=function(P){var A=P.config||{},L=[];return this.each(function(N){if(!(v(this).prop("tagName").toUpperCase()==="INPUT"&&v(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var W=0;W<this.files.length;W++)L.push({file:this.files[W],inputElem:this,instanceConfig:v.extend({},A)})}),k(),this;function k(){if(L.length!==0){var N,W,H,q,X=L[0];if(S(P.before)){var Y=P.before(X.file,X.inputElem);if(typeof Y=="object"){if(Y.action==="abort")return N="AbortError",W=X.file,H=X.inputElem,q=Y.reason,void(S(P.error)&&P.error({name:N},W,H,q));if(Y.action==="skip")return void D();typeof Y.config=="object"&&(X.instanceConfig=v.extend(X.instanceConfig,Y.config))}else if(Y==="skip")return void D()}var J=X.instanceConfig.complete;X.instanceConfig.complete=function(ee){S(J)&&J(ee,X.file,X.inputElem),D()},p.parse(X.file,X.instanceConfig)}else S(P.complete)&&P.complete()}function D(){L.splice(0,1),k()}}}function d(P){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(A){var L=x(A);L.chunkSize=parseInt(L.chunkSize),A.step||A.chunk||(L.chunkSize=null),this._handle=new u(L),(this._handle.streamer=this)._config=L}.call(this,P),this.parseChunk=function(A,L){if(this.isFirstChunk&&S(this._config.beforeFirstChunk)){var k=this._config.beforeFirstChunk(A);k!==void 0&&(A=k)}this.isFirstChunk=!1,this._halted=!1;var D=this._partialLine+A;this._partialLine="";var N=this._handle.parse(D,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var W=N.meta.cursor;this._finished||(this._partialLine=D.substring(W-this._baseIndex),this._baseIndex=W),N&&N.data&&(this._rowCount+=N.data.length);var H=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)n.postMessage({results:N,workerId:p.WORKER_ID,finished:H});else if(S(this._config.chunk)&&!L){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);N=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!H||!S(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),H||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(A){S(this._config.error)?this._config.error(A):i&&this._config.error&&n.postMessage({workerId:p.WORKER_ID,error:A,finished:!1})}}function c(P){var A;(P=P||{}).chunkSize||(P.chunkSize=p.RemoteChunkSize),d.call(this,P),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(L){this._input=L,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(A=new XMLHttpRequest,this._config.withCredentials&&(A.withCredentials=this._config.withCredentials),o||(A.onload=w(this._chunkLoaded,this),A.onerror=w(this._chunkError,this)),A.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var L=this._config.downloadRequestHeaders;for(var k in L)A.setRequestHeader(k,L[k])}if(this._config.chunkSize){var D=this._start+this._config.chunkSize-1;A.setRequestHeader("Range","bytes="+this._start+"-"+D)}try{A.send(this._config.downloadRequestBody)}catch(N){this._chunkError(N.message)}o&&A.status===0&&this._chunkError()}},this._chunkLoaded=function(){A.readyState===4&&(A.status<200||400<=A.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:A.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(L){var k=L.getResponseHeader("Content-Range");return k===null?-1:parseInt(k.substring(k.lastIndexOf("/")+1))}(A),this.parseChunk(A.responseText)))},this._chunkError=function(L){var k=A.statusText||L;this._sendError(new Error(k))}}function a(P){var A,L;(P=P||{}).chunkSize||(P.chunkSize=p.LocalChunkSize),d.call(this,P);var k=typeof FileReader!="undefined";this.stream=function(D){this._input=D,L=D.slice||D.webkitSlice||D.mozSlice,k?((A=new FileReader).onload=w(this._chunkLoaded,this),A.onerror=w(this._chunkError,this)):A=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var D=this._input;if(this._config.chunkSize){var N=Math.min(this._start+this._config.chunkSize,this._input.size);D=L.call(D,this._start,N)}var W=A.readAsText(D,this._config.encoding);k||this._chunkLoaded({target:{result:W}})},this._chunkLoaded=function(D){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(D.target.result)},this._chunkError=function(){this._sendError(A.error)}}function l(P){var A;d.call(this,P=P||{}),this.stream=function(L){return A=L,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var L,k=this._config.chunkSize;return k?(L=A.substring(0,k),A=A.substring(k)):(L=A,A=""),this._finished=!A,this.parseChunk(L)}}}function s(P){d.call(this,P=P||{});var A=[],L=!0,k=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(D){this._input=D,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){k&&A.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),A.length?this.parseChunk(A.shift()):L=!0},this._streamData=w(function(D){try{A.push(typeof D=="string"?D:D.toString(this._config.encoding)),L&&(L=!1,this._checkIsFinished(),this.parseChunk(A.shift()))}catch(N){this._streamError(N)}},this),this._streamError=w(function(D){this._streamCleanUp(),this._sendError(D)},this),this._streamEnd=w(function(){this._streamCleanUp(),k=!0,this._streamData("")},this),this._streamCleanUp=w(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function u(P){var A,L,k,D=Math.pow(2,53),N=-D,W=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,H=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,q=this,X=0,Y=0,J=!1,ee=!1,te=[],ne={data:[],errors:[],meta:{}};if(S(P.step)){var fe=P.step;P.step=function(pe){if(ne=pe,re())ye();else{if(ye(),ne.data.length===0)return;X+=pe.data.length,P.preview&&X>P.preview?L.abort():(ne.data=ne.data[0],fe(ne,q))}}}function _e(pe){return P.skipEmptyLines==="greedy"?pe.join("").trim()==="":pe.length===1&&pe[0].length===0}function ye(){return ne&&k&&(Ae("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),k=!1),P.skipEmptyLines&&(ne.data=ne.data.filter(function(pe){return!_e(pe)})),re()&&function(){if(!ne)return;function pe(xe,Re){S(P.transformHeader)&&(xe=P.transformHeader(xe,Re)),te.push(xe)}if(Array.isArray(ne.data[0])){for(var Pe=0;re()&&Pe<ne.data.length;Pe++)ne.data[Pe].forEach(pe);ne.data.splice(0,1)}else ne.data.forEach(pe)}(),function(){if(!ne||!P.header&&!P.dynamicTyping&&!P.transform)return ne;function pe(xe,Re){var he,Se=P.header?{}:[];for(he=0;he<xe.length;he++){var Ce=he,Te=xe[he];P.header&&(Ce=he>=te.length?"__parsed_extra":te[he]),P.transform&&(Te=P.transform(Te,Ce)),Te=be(Ce,Te),Ce==="__parsed_extra"?(Se[Ce]=Se[Ce]||[],Se[Ce].push(Te)):Se[Ce]=Te}return P.header&&(he>te.length?Ae("FieldMismatch","TooManyFields","Too many fields: expected "+te.length+" fields but parsed "+he,Y+Re):he<te.length&&Ae("FieldMismatch","TooFewFields","Too few fields: expected "+te.length+" fields but parsed "+he,Y+Re)),Se}var Pe=1;return!ne.data.length||Array.isArray(ne.data[0])?(ne.data=ne.data.map(pe),Pe=ne.data.length):ne.data=pe(ne.data,0),P.header&&ne.meta&&(ne.meta.fields=te),Y+=Pe,ne}()}function re(){return P.header&&te.length===0}function be(pe,Pe){return xe=pe,P.dynamicTypingFunction&&P.dynamicTyping[xe]===void 0&&(P.dynamicTyping[xe]=P.dynamicTypingFunction(xe)),(P.dynamicTyping[xe]||P.dynamicTyping)===!0?Pe==="true"||Pe==="TRUE"||Pe!=="false"&&Pe!=="FALSE"&&(function(Re){if(W.test(Re)){var he=parseFloat(Re);if(N<he&&he<D)return!0}return!1}(Pe)?parseFloat(Pe):H.test(Pe)?new Date(Pe):Pe===""?null:Pe):Pe;var xe}function Ae(pe,Pe,xe,Re){var he={type:pe,code:Pe,message:xe};Re!==void 0&&(he.row=Re),ne.errors.push(he)}this.parse=function(pe,Pe,xe){var Re=P.quoteChar||'"';if(P.newline||(P.newline=function(Ce,Te){Ce=Ce.substring(0,1048576);var Ie=new RegExp(f(Te)+"([^]*?)"+f(Te),"gm"),Me=(Ce=Ce.replace(Ie,"")).split("\r"),Ue=Ce.split(`
`),Ne=1<Ue.length&&Ue[0].length<Me[0].length;if(Me.length===1||Ne)return`
`;for(var Ye=0,ke=0;ke<Me.length;ke++)Me[ke][0]===`
`&&Ye++;return Ye>=Me.length/2?`\r
`:"\r"}(pe,Re)),k=!1,P.delimiter)S(P.delimiter)&&(P.delimiter=P.delimiter(pe),ne.meta.delimiter=P.delimiter);else{var he=function(Ce,Te,Ie,Me,Ue){var Ne,Ye,ke,He;Ue=Ue||[",","	","|",";",p.RECORD_SEP,p.UNIT_SEP];for(var et=0;et<Ue.length;et++){var Le=Ue[et],Ke=0,U=0,C=0;ke=void 0;for(var M=new m({comments:Me,delimiter:Le,newline:Te,preview:10}).parse(Ce),z=0;z<M.data.length;z++)if(Ie&&_e(M.data[z]))C++;else{var V=M.data[z].length;U+=V,ke!==void 0?0<V&&(Ke+=Math.abs(V-ke),ke=V):ke=V}0<M.data.length&&(U/=M.data.length-C),(Ye===void 0||Ke<=Ye)&&(He===void 0||He<U)&&1.99<U&&(Ye=Ke,Ne=Le,He=U)}return{successful:!!(P.delimiter=Ne),bestDelimiter:Ne}}(pe,P.newline,P.skipEmptyLines,P.comments,P.delimitersToGuess);he.successful?P.delimiter=he.bestDelimiter:(k=!0,P.delimiter=p.DefaultDelimiter),ne.meta.delimiter=P.delimiter}var Se=x(P);return P.preview&&P.header&&Se.preview++,A=pe,L=new m(Se),ne=L.parse(A,Pe,xe),ye(),J?{meta:{paused:!0}}:ne||{meta:{paused:!1}}},this.paused=function(){return J},this.pause=function(){J=!0,L.abort(),A=S(P.chunk)?"":A.substring(L.getCharIndex())},this.resume=function(){q.streamer._halted?(J=!1,q.streamer.parseChunk(A,!0)):setTimeout(q.resume,3)},this.aborted=function(){return ee},this.abort=function(){ee=!0,L.abort(),ne.meta.aborted=!0,S(P.complete)&&P.complete(ne),A=""}}function f(P){return P.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(P){var A,L=(P=P||{}).delimiter,k=P.newline,D=P.comments,N=P.step,W=P.preview,H=P.fastMode,q=A=P.quoteChar===void 0||P.quoteChar===null?'"':P.quoteChar;if(P.escapeChar!==void 0&&(q=P.escapeChar),(typeof L!="string"||-1<p.BAD_DELIMITERS.indexOf(L))&&(L=","),D===L)throw new Error("Comment character same as delimiter");D===!0?D="#":(typeof D!="string"||-1<p.BAD_DELIMITERS.indexOf(D))&&(D=!1),k!==`
`&&k!=="\r"&&k!==`\r
`&&(k=`
`);var X=0,Y=!1;this.parse=function(J,ee,te){if(typeof J!="string")throw new Error("Input must be a string");var ne=J.length,fe=L.length,_e=k.length,ye=D.length,re=S(N),be=[],Ae=[],pe=[],Pe=X=0;if(!J)return He();if(H||H!==!1&&J.indexOf(A)===-1){for(var xe=J.split(k),Re=0;Re<xe.length;Re++){if(pe=xe[Re],X+=pe.length,Re!==xe.length-1)X+=k.length;else if(te)return He();if(!D||pe.substring(0,ye)!==D){if(re){if(be=[],Ue(pe.split(L)),et(),Y)return He()}else Ue(pe.split(L));if(W&&W<=Re)return be=be.slice(0,W),He(!0)}}return He()}for(var he=J.indexOf(L,X),Se=J.indexOf(k,X),Ce=new RegExp(f(q)+f(A),"g"),Te=J.indexOf(A,X);;)if(J[X]!==A)if(D&&pe.length===0&&J.substring(X,X+ye)===D){if(Se===-1)return He();X=Se+_e,Se=J.indexOf(k,X),he=J.indexOf(L,X)}else if(he!==-1&&(he<Se||Se===-1))pe.push(J.substring(X,he)),X=he+fe,he=J.indexOf(L,X);else{if(Se===-1)break;if(pe.push(J.substring(X,Se)),ke(Se+_e),re&&(et(),Y))return He();if(W&&be.length>=W)return He(!0)}else for(Te=X,X++;;){if((Te=J.indexOf(A,Te+1))===-1)return te||Ae.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:be.length,index:X}),Ye();if(Te===ne-1)return Ye(J.substring(X,Te).replace(Ce,A));if(A!==q||J[Te+1]!==q){if(A===q||Te===0||J[Te-1]!==q){he!==-1&&he<Te+1&&(he=J.indexOf(L,Te+1)),Se!==-1&&Se<Te+1&&(Se=J.indexOf(k,Te+1));var Ie=Ne(Se===-1?he:Math.min(he,Se));if(J.substr(Te+1+Ie,fe)===L){pe.push(J.substring(X,Te).replace(Ce,A)),J[X=Te+1+Ie+fe]!==A&&(Te=J.indexOf(A,X)),he=J.indexOf(L,X),Se=J.indexOf(k,X);break}var Me=Ne(Se);if(J.substring(Te+1+Me,Te+1+Me+_e)===k){if(pe.push(J.substring(X,Te).replace(Ce,A)),ke(Te+1+Me+_e),he=J.indexOf(L,X),Te=J.indexOf(A,X),re&&(et(),Y))return He();if(W&&be.length>=W)return He(!0);break}Ae.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:be.length,index:X}),Te++}}else Te++}return Ye();function Ue(Le){be.push(Le),Pe=X}function Ne(Le){var Ke=0;if(Le!==-1){var U=J.substring(Te+1,Le);U&&U.trim()===""&&(Ke=U.length)}return Ke}function Ye(Le){return te||(Le===void 0&&(Le=J.substring(X)),pe.push(Le),X=ne,Ue(pe),re&&et()),He()}function ke(Le){X=Le,Ue(pe),pe=[],Se=J.indexOf(k,X)}function He(Le){return{data:be,errors:Ae,meta:{delimiter:L,linebreak:k,aborted:Y,truncated:!!Le,cursor:Pe+(ee||0)}}}function et(){N(He()),be=[],Ae=[]}},this.abort=function(){Y=!0},this.getCharIndex=function(){return X}}function y(P){var A=P.data,L=h[A.workerId],k=!1;if(A.error)L.userError(A.error,A.file);else if(A.results&&A.results.data){var D={abort:function(){k=!0,b(A.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:E,resume:E};if(S(L.userStep)){for(var N=0;N<A.results.data.length&&(L.userStep({data:A.results.data[N],errors:A.results.errors,meta:A.results.meta},D),!k);N++);delete A.results}else S(L.userChunk)&&(L.userChunk(A.results,D,A.file),delete A.results)}A.finished&&!k&&b(A.workerId,A.results)}function b(P,A){var L=h[P];S(L.userComplete)&&L.userComplete(A),L.terminate(),delete h[P]}function E(){throw new Error("Not implemented.")}function x(P){if(typeof P!="object"||P===null)return P;var A=Array.isArray(P)?[]:{};for(var L in P)A[L]=x(P[L]);return A}function w(P,A){return function(){P.apply(A,arguments)}}function S(P){return typeof P=="function"}return i&&(n.onmessage=function(P){var A=P.data;if(p.WORKER_ID===void 0&&A&&(p.WORKER_ID=A.workerId),typeof A.input=="string")n.postMessage({workerId:p.WORKER_ID,results:p.parse(A.input,A.config),finished:!0});else if(n.File&&A.input instanceof File||A.input instanceof Object){var L=p.parse(A.input,A.config);L&&n.postMessage({workerId:p.WORKER_ID,results:L,finished:!0})}}),(c.prototype=Object.create(d.prototype)).constructor=c,(a.prototype=Object.create(d.prototype)).constructor=a,(l.prototype=Object.create(l.prototype)).constructor=l,(s.prototype=Object.create(d.prototype)).constructor=s,p})})(Tb);var yD=Tb.exports;function bD(e){const t=yD.parse(e,{header:!0,skipEmptyLines:!0,dynamicTyping:!0});return{header:t.meta.fields,rows:t.data}}function ED({header:e,rows:t}){return ge(dd,{component:rM,children:Ct(cd,{sx:{minWidth:650},size:"small","aria-label":"a metrics table",children:[ge(hd,{children:ge(go,{children:e.map(r=>ge(mo,{children:r},r))})}),ge(fd,{children:t.map(r=>ge(go,{sx:{"&:last-child td, &:last-child th":{border:0}},children:e.map(n=>ge(mo,{component:"th",scope:"row",children:r[n]},n+r.filename))},r.filename))})]})})}function jn(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&"version"in process?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}var TD=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",getUserAgent:jn}),Zl={exports:{}},xD=xb;function xb(e,t,r,n){if(typeof r!="function")throw new Error("method for before hook must be a function");return n||(n={}),Array.isArray(t)?t.reverse().reduce(function(o,i){return xb.bind(null,e,i,o,n)},r)():Promise.resolve().then(function(){return e.registry[t]?e.registry[t].reduce(function(o,i){return i.hook.bind(null,o,n)},r)():r(n)})}var wD=AD;function AD(e,t,r,n){var o=n;e.registry[r]||(e.registry[r]=[]),t==="before"&&(n=function(i,h){return Promise.resolve().then(o.bind(null,h)).then(i.bind(null,h))}),t==="after"&&(n=function(i,h){var g;return Promise.resolve().then(i.bind(null,h)).then(function(p){return g=p,o(g,h)}).then(function(){return g})}),t==="error"&&(n=function(i,h){return Promise.resolve().then(i.bind(null,h)).catch(function(g){return o(g,h)})}),e.registry[r].push({hook:n,orig:o})}var SD=PD;function PD(e,t,r){if(!!e.registry[t]){var n=e.registry[t].map(function(o){return o.orig}).indexOf(r);n!==-1&&e.registry[t].splice(n,1)}}var wb=xD,OD=wD,RD=SD,Pg=Function.bind,Og=Pg.bind(Pg);function Ab(e,t,r){var n=Og(RD,null).apply(null,r?[t,r]:[t]);e.api={remove:n},e.remove=n,["before","error","after","wrap"].forEach(function(o){var i=r?[t,o,r]:[t,o];e[o]=e.api[o]=Og(OD,null).apply(null,i)})}function LD(){var e="h",t={registry:{}},r=wb.bind(null,t,e);return Ab(r,t,e),r}function Sb(){var e={registry:{}},t=wb.bind(null,e);return Ab(t,e),t}var Rg=!1;function Yo(){return Rg||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),Rg=!0),Sb()}Yo.Singular=LD.bind();Yo.Collection=Sb.bind();Zl.exports=Yo;Zl.exports.Hook=Yo;Zl.exports.Singular=Yo.Singular;var CD=Zl.exports.Collection=Yo.Collection;/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Lg(e){return Object.prototype.toString.call(e)==="[object Object]"}function Pb(e){var t,r;return Lg(e)===!1?!1:(t=e.constructor,t===void 0?!0:(r=t.prototype,!(Lg(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}function ID(e){return e?Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{}):{}}function Ob(e,t){const r=Object.assign({},e);return Object.keys(t).forEach(n=>{Pb(t[n])?n in e?r[n]=Ob(e[n],t[n]):Object.assign(r,{[n]:t[n]}):Object.assign(r,{[n]:t[n]})}),r}function Cg(e){for(const t in e)e[t]===void 0&&delete e[t];return e}function pd(e,t,r){if(typeof t=="string"){let[o,i]=t.split(" ");r=Object.assign(i?{method:o,url:i}:{url:o},r)}else r=Object.assign({},t);r.headers=ID(r.headers),Cg(r),Cg(r.headers);const n=Ob(e||{},r);return e&&e.mediaType.previews.length&&(n.mediaType.previews=e.mediaType.previews.filter(o=>!n.mediaType.previews.includes(o)).concat(n.mediaType.previews)),n.mediaType.previews=n.mediaType.previews.map(o=>o.replace(/-preview/,"")),n}function MD(e,t){const r=/\?/.test(e)?"&":"?",n=Object.keys(t);return n.length===0?e:e+r+n.map(o=>o==="q"?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${o}=${encodeURIComponent(t[o])}`).join("&")}const DD=/\{[^}]+\}/g;function ND(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function kD(e){const t=e.match(DD);return t?t.map(ND).reduce((r,n)=>r.concat(n),[]):[]}function Ig(e,t){return Object.keys(e).filter(r=>!t.includes(r)).reduce((r,n)=>(r[n]=e[n],r),{})}function Rb(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t}).join("")}function vo(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function ga(e,t,r){return t=e==="+"||e==="#"?Rb(t):vo(t),r?vo(r)+"="+t:t}function Zi(e){return e!=null}function Qc(e){return e===";"||e==="&"||e==="?"}function BD(e,t,r,n){var o=e[r],i=[];if(Zi(o)&&o!=="")if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")o=o.toString(),n&&n!=="*"&&(o=o.substring(0,parseInt(n,10))),i.push(ga(t,o,Qc(t)?r:""));else if(n==="*")Array.isArray(o)?o.filter(Zi).forEach(function(h){i.push(ga(t,h,Qc(t)?r:""))}):Object.keys(o).forEach(function(h){Zi(o[h])&&i.push(ga(t,o[h],h))});else{const h=[];Array.isArray(o)?o.filter(Zi).forEach(function(g){h.push(ga(t,g))}):Object.keys(o).forEach(function(g){Zi(o[g])&&(h.push(vo(g)),h.push(ga(t,o[g].toString())))}),Qc(t)?i.push(vo(r)+"="+h.join(",")):h.length!==0&&i.push(h.join(","))}else t===";"?Zi(o)&&i.push(vo(r)):o===""&&(t==="&"||t==="?")?i.push(vo(r)+"="):o===""&&i.push("");return i}function FD(e){return{expand:jD.bind(null,e)}}function jD(e,t){var r=["+","#",".","/",";","?","&"];return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(n,o,i){if(o){let g="";const p=[];if(r.indexOf(o.charAt(0))!==-1&&(g=o.charAt(0),o=o.substr(1)),o.split(/,/g).forEach(function(v){var d=/([^:\*]*)(?::(\d+)|(\*))?/.exec(v);p.push(BD(t,g,d[1],d[2]||d[3]))}),g&&g!=="+"){var h=",";return g==="?"?h="&":g!=="#"&&(h=g),(p.length!==0?g:"")+p.join(h)}else return p.join(",")}else return Rb(i)})}function Lb(e){let t=e.method.toUpperCase(),r=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),n=Object.assign({},e.headers),o,i=Ig(e,["method","baseUrl","url","headers","request","mediaType"]);const h=kD(r);r=FD(r).expand(i),/^http/.test(r)||(r=e.baseUrl+r);const g=Object.keys(e).filter(d=>h.includes(d)).concat("baseUrl"),p=Ig(i,g);if(!/application\/octet-stream/i.test(n.accept)&&(e.mediaType.format&&(n.accept=n.accept.split(/,/).map(d=>d.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),e.mediaType.previews.length)){const d=n.accept.match(/[\w-]+(?=-preview)/g)||[];n.accept=d.concat(e.mediaType.previews).map(c=>{const a=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${c}-preview${a}`}).join(",")}return["GET","HEAD"].includes(t)?r=MD(r,p):"data"in p?o=p.data:Object.keys(p).length?o=p:n["content-length"]=0,!n["content-type"]&&typeof o!="undefined"&&(n["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(t)&&typeof o=="undefined"&&(o=""),Object.assign({method:t,url:r,headers:n},typeof o!="undefined"?{body:o}:null,e.request?{request:e.request}:null)}function zD(e,t,r){return Lb(pd(e,t,r))}function Cb(e,t){const r=pd(e,t),n=zD.bind(null,r);return Object.assign(n,{DEFAULTS:r,defaults:Cb.bind(null,r),merge:pd.bind(null,r),parse:Lb})}const UD="6.0.12",GD=`octokit-endpoint.js/${UD} ${jn()}`,VD={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":GD},mediaType:{format:"",previews:[]}},HD=Cb(null,VD);var or=typeof globalThis!="undefined"&&globalThis||typeof self!="undefined"&&self||typeof or!="undefined"&&or,mr={searchParams:"URLSearchParams"in or,iterable:"Symbol"in or&&"iterator"in Symbol,blob:"FileReader"in or&&"Blob"in or&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in or,arrayBuffer:"ArrayBuffer"in or};function $D(e){return e&&DataView.prototype.isPrototypeOf(e)}if(mr.arrayBuffer)var WD=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],qD=ArrayBuffer.isView||function(e){return e&&WD.indexOf(Object.prototype.toString.call(e))>-1};function Os(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function Hh(e){return typeof e!="string"&&(e=String(e)),e}function $h(e){var t={next:function(){var r=e.shift();return{done:r===void 0,value:r}}};return mr.iterable&&(t[Symbol.iterator]=function(){return t}),t}function Gt(e){this.map={},e instanceof Gt?e.forEach(function(t,r){this.append(r,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}Gt.prototype.append=function(e,t){e=Os(e),t=Hh(t);var r=this.map[e];this.map[e]=r?r+", "+t:t};Gt.prototype.delete=function(e){delete this.map[Os(e)]};Gt.prototype.get=function(e){return e=Os(e),this.has(e)?this.map[e]:null};Gt.prototype.has=function(e){return this.map.hasOwnProperty(Os(e))};Gt.prototype.set=function(e,t){this.map[Os(e)]=Hh(t)};Gt.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)};Gt.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),$h(e)};Gt.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),$h(e)};Gt.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),$h(e)};mr.iterable&&(Gt.prototype[Symbol.iterator]=Gt.prototype.entries);function Jc(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function Ib(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function XD(e){var t=new FileReader,r=Ib(t);return t.readAsArrayBuffer(e),r}function YD(e){var t=new FileReader,r=Ib(t);return t.readAsText(e),r}function KD(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function Mg(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Mb(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:mr.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:mr.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:mr.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():mr.arrayBuffer&&mr.blob&&$D(e)?(this._bodyArrayBuffer=Mg(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):mr.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||qD(e))?this._bodyArrayBuffer=Mg(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):mr.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},mr.blob&&(this.blob=function(){var e=Jc(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=Jc(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(XD)}),this.text=function(){var e=Jc(this);if(e)return e;if(this._bodyBlob)return YD(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(KD(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},mr.formData&&(this.formData=function(){return this.text().then(JD)}),this.json=function(){return this.text().then(JSON.parse)},this}var ZD=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function QD(e){var t=e.toUpperCase();return ZD.indexOf(t)>-1?t:e}function Ni(e,t){if(!(this instanceof Ni))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var r=t.body;if(e instanceof Ni){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Gt(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!r&&e._bodyInit!=null&&(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new Gt(t.headers)),this.method=QD(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),(this.method==="GET"||this.method==="HEAD")&&(t.cache==="no-store"||t.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var o=/\?/;this.url+=(o.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Ni.prototype.clone=function(){return new Ni(this,{body:this._bodyInit})};function JD(e){var t=new FormData;return e.trim().split("&").forEach(function(r){if(r){var n=r.split("="),o=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(i))}}),t}function eN(e){var t=new Gt,r=e.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map(function(n){return n.indexOf(`
`)===0?n.substr(1,n.length):n}).forEach(function(n){var o=n.split(":"),i=o.shift().trim();if(i){var h=o.join(":").trim();t.append(i,h)}}),t}Mb.call(Ni.prototype);function bn(e,t){if(!(this instanceof bn))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new Gt(t.headers),this.url=t.url||"",this._initBody(e)}Mb.call(bn.prototype);bn.prototype.clone=function(){return new bn(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Gt(this.headers),url:this.url})};bn.error=function(){var e=new bn(null,{status:0,statusText:""});return e.type="error",e};var tN=[301,302,303,307,308];bn.redirect=function(e,t){if(tN.indexOf(t)===-1)throw new RangeError("Invalid status code");return new bn(null,{status:t,headers:{location:e}})};var vi=or.DOMException;try{new vi}catch{vi=function(t,r){this.message=t,this.name=r;var n=Error(t);this.stack=n.stack},vi.prototype=Object.create(Error.prototype),vi.prototype.constructor=vi}function Db(e,t){return new Promise(function(r,n){var o=new Ni(e,t);if(o.signal&&o.signal.aborted)return n(new vi("Aborted","AbortError"));var i=new XMLHttpRequest;function h(){i.abort()}i.onload=function(){var p={status:i.status,statusText:i.statusText,headers:eN(i.getAllResponseHeaders()||"")};p.url="responseURL"in i?i.responseURL:p.headers.get("X-Request-URL");var v="response"in i?i.response:i.responseText;setTimeout(function(){r(new bn(v,p))},0)},i.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},i.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},i.onabort=function(){setTimeout(function(){n(new vi("Aborted","AbortError"))},0)};function g(p){try{return p===""&&or.location.href?or.location.href:p}catch{return p}}i.open(o.method,g(o.url),!0),o.credentials==="include"?i.withCredentials=!0:o.credentials==="omit"&&(i.withCredentials=!1),"responseType"in i&&(mr.blob?i.responseType="blob":mr.arrayBuffer&&o.headers.get("Content-Type")&&o.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(i.responseType="arraybuffer")),t&&typeof t.headers=="object"&&!(t.headers instanceof Gt)?Object.getOwnPropertyNames(t.headers).forEach(function(p){i.setRequestHeader(p,Hh(t.headers[p]))}):o.headers.forEach(function(p,v){i.setRequestHeader(v,p)}),o.signal&&(o.signal.addEventListener("abort",h),i.onreadystatechange=function(){i.readyState===4&&o.signal.removeEventListener("abort",h)}),i.send(typeof o._bodyInit=="undefined"?null:o._bodyInit)})}Db.polyfill=!0;or.fetch||(or.fetch=Db,or.Headers=Gt,or.Request=Ni,or.Response=bn);var rN=self.fetch.bind(self);class _d extends Error{constructor(t){super(t);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var Wh={exports:{}},nN=Nb;function Nb(e,t){if(e&&t)return Nb(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];var i=e.apply(this,n),h=n[n.length-1];return typeof i=="function"&&i!==h&&Object.keys(h).forEach(function(g){i[g]=h[g]}),i}}var kb=nN;Wh.exports=kb(Su);Wh.exports.strict=kb(Bb);Su.proto=Su(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Su(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Bb(this)},configurable:!0})});function Su(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function Bb(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}var Fb=Wh.exports;const iN=Fb(e=>console.warn(e)),oN=Fb(e=>console.warn(e));class to extends Error{constructor(t,r,n){super(t);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=r;let o;"headers"in n&&typeof n.headers!="undefined"&&(o=n.headers),"response"in n&&(this.response=n.response,o=n.response.headers);const i=Object.assign({},n.request);n.request.headers.authorization&&(i.headers=Object.assign({},n.request.headers,{authorization:n.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),i.url=i.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=i,Object.defineProperty(this,"code",{get(){return iN(new _d("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),r}}),Object.defineProperty(this,"headers",{get(){return oN(new _d("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),o||{}}})}}var aN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",RequestError:to});const sN="5.6.3";function uN(e){return e.arrayBuffer()}function Dg(e){const t=e.request&&e.request.log?e.request.log:console;(Pb(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let r={},n,o;return(e.request&&e.request.fetch||rN)(e.url,Object.assign({method:e.method,body:e.body,headers:e.headers,redirect:e.redirect},e.request)).then(async h=>{o=h.url,n=h.status;for(const g of h.headers)r[g[0]]=g[1];if("deprecation"in r){const g=r.link&&r.link.match(/<([^>]+)>; rel="deprecation"/),p=g&&g.pop();t.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${r.sunset}${p?`. See ${p}`:""}`)}if(!(n===204||n===205)){if(e.method==="HEAD"){if(n<400)return;throw new to(h.statusText,n,{response:{url:o,status:n,headers:r,data:void 0},request:e})}if(n===304)throw new to("Not modified",n,{response:{url:o,status:n,headers:r,data:await ef(h)},request:e});if(n>=400){const g=await ef(h);throw new to(lN(g),n,{response:{url:o,status:n,headers:r,data:g},request:e})}return ef(h)}}).then(h=>({status:n,url:o,headers:r,data:h})).catch(h=>{throw h instanceof to?h:new to(h.message,500,{request:e})})}async function ef(e){const t=e.headers.get("content-type");return/application\/json/.test(t)?e.json():!t||/^text\/|charset=utf-8$/.test(t)?e.text():uN(e)}function lN(e){return typeof e=="string"?e:"message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}`:e.message:`Unknown error: ${JSON.stringify(e)}`}function md(e,t){const r=e.defaults(t);return Object.assign(function(o,i){const h=r.merge(o,i);if(!h.request||!h.request.hook)return Dg(r.parse(h));const g=(p,v)=>Dg(r.parse(r.merge(p,v)));return Object.assign(g,{endpoint:r,defaults:md.bind(null,r)}),h.request.hook(g,h)},{endpoint:r,defaults:md.bind(null,r)})}const kn=md(HD,{headers:{"user-agent":`octokit-request.js/${sN} ${jn()}`}});var cN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",request:kn});const fN="4.8.0";function dN(e){return`Request failed due to following response errors:
`+e.errors.map(t=>` - ${t.message}`).join(`
`)}class hN extends Error{constructor(t,r,n){super(dN(n));this.request=t,this.headers=r,this.response=n,this.name="GraphqlResponseError",this.errors=n.errors,this.data=n.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}const pN=["method","baseUrl","url","headers","request","query","mediaType"],_N=["query","method","url"],Ng=/\/api\/v3\/?$/;function mN(e,t,r){if(r){if(typeof t=="string"&&"query"in r)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const h in r)if(!!_N.includes(h))return Promise.reject(new Error(`[@octokit/graphql] "${h}" cannot be used as variable name`))}const n=typeof t=="string"?Object.assign({query:t},r):t,o=Object.keys(n).reduce((h,g)=>pN.includes(g)?(h[g]=n[g],h):(h.variables||(h.variables={}),h.variables[g]=n[g],h),{}),i=n.baseUrl||e.endpoint.DEFAULTS.baseUrl;return Ng.test(i)&&(o.url=i.replace(Ng,"/api/graphql")),e(o).then(h=>{if(h.data.errors){const g={};for(const p of Object.keys(h.headers))g[p]=h.headers[p];throw new hN(o,g,h.data)}return h.data.data})}function qh(e,t){const r=e.defaults(t);return Object.assign((o,i)=>mN(r,o,i),{defaults:qh.bind(null,r),endpoint:kn.endpoint})}qh(kn,{headers:{"user-agent":`octokit-graphql.js/${fN} ${jn()}`},method:"POST",url:"/graphql"});function gN(e){return qh(e,{method:"POST",url:"/graphql"})}const vN=/^v1\./,yN=/^ghs_/,bN=/^ghu_/;async function EN(e){const t=e.split(/\./).length===3,r=vN.test(e)||yN.test(e),n=bN.test(e);return{type:"token",token:e,tokenType:t?"app":r?"installation":n?"user-to-server":"oauth"}}function TN(e){return e.split(/\./).length===3?`bearer ${e}`:`token ${e}`}async function xN(e,t,r,n){const o=t.endpoint.merge(r,n);return o.headers.authorization=TN(e),t(o)}const wN=function(t){if(!t)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof t!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return t=t.replace(/^(token|bearer) +/i,""),Object.assign(EN.bind(null,t),{hook:xN.bind(null,t)})},jb="3.6.0";class Ql{constructor(t={}){const r=new CD,n={baseUrl:kn.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:r.bind(null,"request")}),mediaType:{previews:[],format:""}};if(n.headers["user-agent"]=[t.userAgent,`octokit-core.js/${jb} ${jn()}`].filter(Boolean).join(" "),t.baseUrl&&(n.baseUrl=t.baseUrl),t.previews&&(n.mediaType.previews=t.previews),t.timeZone&&(n.headers["time-zone"]=t.timeZone),this.request=kn.defaults(n),this.graphql=gN(this.request).defaults(n),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},t.log),this.hook=r,t.authStrategy){const i=t,{authStrategy:h}=i,g=Hi(i,["authStrategy"]),p=h(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:g},t.auth));r.wrap("request",p.hook),this.auth=p}else if(!t.auth)this.auth=async()=>({type:"unauthenticated"});else{const h=wN(t.auth);r.wrap("request",h.hook),this.auth=h}this.constructor.plugins.forEach(h=>{Object.assign(this,h(this,t))})}static defaults(t){return class extends this{constructor(...n){const o=n[0]||{};if(typeof t=="function"){super(t(o));return}super(Object.assign({},t,o,o.userAgent&&t.userAgent?{userAgent:`${o.userAgent} ${t.userAgent}`}:null))}}}static plugin(...t){var r;const n=this.plugins;return r=class extends this{},r.plugins=n.concat(t.filter(i=>!n.includes(i))),r}}Ql.VERSION=jb;Ql.plugins=[];var AN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Octokit:Ql});const SN="2.21.0";function PN(e){if(!e.data)return _r(Qe({},e),{data:[]});if(!("total_count"in e.data&&!("url"in e.data)))return e;const r=e.data.incomplete_results,n=e.data.repository_selection,o=e.data.total_count;delete e.data.incomplete_results,delete e.data.repository_selection,delete e.data.total_count;const i=Object.keys(e.data)[0],h=e.data[i];return e.data=h,typeof r!="undefined"&&(e.data.incomplete_results=r),typeof n!="undefined"&&(e.data.repository_selection=n),e.data.total_count=o,e}function Xh(e,t,r){const n=typeof t=="function"?t.endpoint(r):e.request.endpoint(t,r),o=typeof t=="function"?t:e.request,i=n.method,h=n.headers;let g=n.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!g)return{done:!0};try{const p=await o({method:i,url:g,headers:h}),v=PN(p);return g=((v.headers.link||"").match(/<([^>]+)>;\s*rel="next"/)||[])[1],{value:v}}catch(p){if(p.status!==409)throw p;return g="",{value:{status:200,headers:{},data:[]}}}}})}}function zb(e,t,r,n){return typeof r=="function"&&(n=r,r=void 0),Ub(e,[],Xh(e,t,r)[Symbol.asyncIterator](),n)}function Ub(e,t,r,n){return r.next().then(o=>{if(o.done)return t;let i=!1;function h(){i=!0}return t=t.concat(n?n(o.value,h):o.value.data),i?t:Ub(e,t,r,n)})}const ON=Object.assign(zb,{iterator:Xh}),Gb=["GET /app/hook/deliveries","GET /app/installations","GET /applications/grants","GET /authorizations","GET /enterprises/{enterprise}/actions/permissions/organizations","GET /enterprises/{enterprise}/actions/runner-groups","GET /enterprises/{enterprise}/actions/runner-groups/{runner_group_id}/organizations","GET /enterprises/{enterprise}/actions/runner-groups/{runner_group_id}/runners","GET /enterprises/{enterprise}/actions/runners","GET /enterprises/{enterprise}/audit-log","GET /enterprises/{enterprise}/secret-scanning/alerts","GET /enterprises/{enterprise}/settings/billing/advanced-security","GET /events","GET /gists","GET /gists/public","GET /gists/starred","GET /gists/{gist_id}/comments","GET /gists/{gist_id}/commits","GET /gists/{gist_id}/forks","GET /installation/repositories","GET /issues","GET /licenses","GET /marketplace_listing/plans","GET /marketplace_listing/plans/{plan_id}/accounts","GET /marketplace_listing/stubbed/plans","GET /marketplace_listing/stubbed/plans/{plan_id}/accounts","GET /networks/{owner}/{repo}/events","GET /notifications","GET /organizations","GET /orgs/{org_id}/codespaces","GET /orgs/{org}/actions/cache/usage-by-repository","GET /orgs/{org}/actions/permissions/repositories","GET /orgs/{org}/actions/runner-groups","GET /orgs/{org}/actions/runner-groups/{runner_group_id}/repositories","GET /orgs/{org}/actions/runner-groups/{runner_group_id}/runners","GET /orgs/{org}/actions/runners","GET /orgs/{org}/actions/secrets","GET /orgs/{org}/actions/secrets/{secret_name}/repositories","GET /orgs/{org}/audit-log","GET /orgs/{org}/blocks","GET /orgs/{org}/code-scanning/alerts","GET /orgs/{org}/credential-authorizations","GET /orgs/{org}/dependabot/secrets","GET /orgs/{org}/dependabot/secrets/{secret_name}/repositories","GET /orgs/{org}/events","GET /orgs/{org}/external-groups","GET /orgs/{org}/failed_invitations","GET /orgs/{org}/hooks","GET /orgs/{org}/hooks/{hook_id}/deliveries","GET /orgs/{org}/installations","GET /orgs/{org}/invitations","GET /orgs/{org}/invitations/{invitation_id}/teams","GET /orgs/{org}/issues","GET /orgs/{org}/members","GET /orgs/{org}/migrations","GET /orgs/{org}/migrations/{migration_id}/repositories","GET /orgs/{org}/outside_collaborators","GET /orgs/{org}/packages","GET /orgs/{org}/packages/{package_type}/{package_name}/versions","GET /orgs/{org}/projects","GET /orgs/{org}/public_members","GET /orgs/{org}/repos","GET /orgs/{org}/secret-scanning/alerts","GET /orgs/{org}/settings/billing/advanced-security","GET /orgs/{org}/team-sync/groups","GET /orgs/{org}/teams","GET /orgs/{org}/teams/{team_slug}/discussions","GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments","GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions","GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions","GET /orgs/{org}/teams/{team_slug}/invitations","GET /orgs/{org}/teams/{team_slug}/members","GET /orgs/{org}/teams/{team_slug}/projects","GET /orgs/{org}/teams/{team_slug}/repos","GET /orgs/{org}/teams/{team_slug}/teams","GET /projects/columns/{column_id}/cards","GET /projects/{project_id}/collaborators","GET /projects/{project_id}/columns","GET /repos/{owner}/{repo}/actions/artifacts","GET /repos/{owner}/{repo}/actions/caches","GET /repos/{owner}/{repo}/actions/runners","GET /repos/{owner}/{repo}/actions/runs","GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts","GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs","GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs","GET /repos/{owner}/{repo}/actions/secrets","GET /repos/{owner}/{repo}/actions/workflows","GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs","GET /repos/{owner}/{repo}/assignees","GET /repos/{owner}/{repo}/branches","GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations","GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs","GET /repos/{owner}/{repo}/code-scanning/alerts","GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances","GET /repos/{owner}/{repo}/code-scanning/analyses","GET /repos/{owner}/{repo}/codespaces","GET /repos/{owner}/{repo}/codespaces/devcontainers","GET /repos/{owner}/{repo}/codespaces/secrets","GET /repos/{owner}/{repo}/collaborators","GET /repos/{owner}/{repo}/comments","GET /repos/{owner}/{repo}/comments/{comment_id}/reactions","GET /repos/{owner}/{repo}/commits","GET /repos/{owner}/{repo}/commits/{commit_sha}/comments","GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls","GET /repos/{owner}/{repo}/commits/{ref}/check-runs","GET /repos/{owner}/{repo}/commits/{ref}/check-suites","GET /repos/{owner}/{repo}/commits/{ref}/status","GET /repos/{owner}/{repo}/commits/{ref}/statuses","GET /repos/{owner}/{repo}/contributors","GET /repos/{owner}/{repo}/dependabot/secrets","GET /repos/{owner}/{repo}/deployments","GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses","GET /repos/{owner}/{repo}/environments","GET /repos/{owner}/{repo}/events","GET /repos/{owner}/{repo}/forks","GET /repos/{owner}/{repo}/git/matching-refs/{ref}","GET /repos/{owner}/{repo}/hooks","GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries","GET /repos/{owner}/{repo}/invitations","GET /repos/{owner}/{repo}/issues","GET /repos/{owner}/{repo}/issues/comments","GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions","GET /repos/{owner}/{repo}/issues/events","GET /repos/{owner}/{repo}/issues/{issue_number}/comments","GET /repos/{owner}/{repo}/issues/{issue_number}/events","GET /repos/{owner}/{repo}/issues/{issue_number}/labels","GET /repos/{owner}/{repo}/issues/{issue_number}/reactions","GET /repos/{owner}/{repo}/issues/{issue_number}/timeline","GET /repos/{owner}/{repo}/keys","GET /repos/{owner}/{repo}/labels","GET /repos/{owner}/{repo}/milestones","GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels","GET /repos/{owner}/{repo}/notifications","GET /repos/{owner}/{repo}/pages/builds","GET /repos/{owner}/{repo}/projects","GET /repos/{owner}/{repo}/pulls","GET /repos/{owner}/{repo}/pulls/comments","GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions","GET /repos/{owner}/{repo}/pulls/{pull_number}/comments","GET /repos/{owner}/{repo}/pulls/{pull_number}/commits","GET /repos/{owner}/{repo}/pulls/{pull_number}/files","GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers","GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews","GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments","GET /repos/{owner}/{repo}/releases","GET /repos/{owner}/{repo}/releases/{release_id}/assets","GET /repos/{owner}/{repo}/releases/{release_id}/reactions","GET /repos/{owner}/{repo}/secret-scanning/alerts","GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}/locations","GET /repos/{owner}/{repo}/stargazers","GET /repos/{owner}/{repo}/subscribers","GET /repos/{owner}/{repo}/tags","GET /repos/{owner}/{repo}/teams","GET /repos/{owner}/{repo}/topics","GET /repositories","GET /repositories/{repository_id}/environments/{environment_name}/secrets","GET /search/code","GET /search/commits","GET /search/issues","GET /search/labels","GET /search/repositories","GET /search/topics","GET /search/users","GET /teams/{team_id}/discussions","GET /teams/{team_id}/discussions/{discussion_number}/comments","GET /teams/{team_id}/discussions/{discussion_number}/comments/{comment_number}/reactions","GET /teams/{team_id}/discussions/{discussion_number}/reactions","GET /teams/{team_id}/invitations","GET /teams/{team_id}/members","GET /teams/{team_id}/projects","GET /teams/{team_id}/repos","GET /teams/{team_id}/teams","GET /user/blocks","GET /user/codespaces","GET /user/codespaces/secrets","GET /user/emails","GET /user/followers","GET /user/following","GET /user/gpg_keys","GET /user/installations","GET /user/installations/{installation_id}/repositories","GET /user/issues","GET /user/keys","GET /user/marketplace_purchases","GET /user/marketplace_purchases/stubbed","GET /user/memberships/orgs","GET /user/migrations","GET /user/migrations/{migration_id}/repositories","GET /user/orgs","GET /user/packages","GET /user/packages/{package_type}/{package_name}/versions","GET /user/public_emails","GET /user/repos","GET /user/repository_invitations","GET /user/starred","GET /user/subscriptions","GET /user/teams","GET /users","GET /users/{username}/events","GET /users/{username}/events/orgs/{org}","GET /users/{username}/events/public","GET /users/{username}/followers","GET /users/{username}/following","GET /users/{username}/gists","GET /users/{username}/gpg_keys","GET /users/{username}/keys","GET /users/{username}/orgs","GET /users/{username}/packages","GET /users/{username}/projects","GET /users/{username}/received_events","GET /users/{username}/received_events/public","GET /users/{username}/repos","GET /users/{username}/starred","GET /users/{username}/subscriptions"];function RN(e){return typeof e=="string"?Gb.includes(e):!1}function Yh(e){return{paginate:Object.assign(zb.bind(null,e),{iterator:Xh.bind(null,e)})}}Yh.VERSION=SN;var LN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",composePaginateRest:ON,isPaginatingEndpoint:RN,paginateRest:Yh,paginatingEndpoints:Gb});const CN={actions:{addCustomLabelsToSelfHostedRunnerForOrg:["POST /orgs/{org}/actions/runners/{runner_id}/labels"],addCustomLabelsToSelfHostedRunnerForRepo:["POST /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],approveWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/approve"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createOrUpdateEnvironmentSecret:["PUT /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteActionsCacheById:["DELETE /repos/{owner}/{repo}/actions/caches/{cache_id}"],deleteActionsCacheByKey:["DELETE /repos/{owner}/{repo}/actions/caches{?key,ref}"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteEnvironmentSecret:["DELETE /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunAttemptLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],getActionsCacheList:["GET /repos/{owner}/{repo}/actions/caches"],getActionsCacheUsage:["GET /repos/{owner}/{repo}/actions/cache/usage"],getActionsCacheUsageByRepoForOrg:["GET /orgs/{org}/actions/cache/usage-by-repository"],getActionsCacheUsageForEnterprise:["GET /enterprises/{enterprise}/actions/cache/usage"],getActionsCacheUsageForOrg:["GET /orgs/{org}/actions/cache/usage"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getEnvironmentPublicKey:["GET /repositories/{repository_id}/environments/{environment_name}/secrets/public-key"],getEnvironmentSecret:["GET /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],getGithubActionsDefaultWorkflowPermissionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/workflow"],getGithubActionsDefaultWorkflowPermissionsOrganization:["GET /orgs/{org}/actions/permissions/workflow"],getGithubActionsDefaultWorkflowPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/workflow"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getPendingDeploymentsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getReviewsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/approvals"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowAccessToRepository:["GET /repos/{owner}/{repo}/actions/permissions/access"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listEnvironmentSecrets:["GET /repositories/{repository_id}/environments/{environment_name}/secrets"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listJobsForWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs"],listLabelsForSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}/labels"],listLabelsForSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunJobForWorkflowRun:["POST /repos/{owner}/{repo}/actions/jobs/{job_id}/rerun"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],reRunWorkflowFailedJobs:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun-failed-jobs"],removeAllCustomLabelsFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels"],removeAllCustomLabelsFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],removeCustomLabelFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels/{name}"],removeCustomLabelFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels/{name}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],reviewPendingDeploymentsForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],setActionsOidcCustomIssuerPolicyForEnterprise:["PUT /enterprises/{enterprise}/actions/oidc/customization/issuer"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setCustomLabelsForSelfHostedRunnerForOrg:["PUT /orgs/{org}/actions/runners/{runner_id}/labels"],setCustomLabelsForSelfHostedRunnerForRepo:["PUT /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],setGithubActionsDefaultWorkflowPermissionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/workflow"],setGithubActionsDefaultWorkflowPermissionsOrganization:["PUT /orgs/{org}/actions/permissions/workflow"],setGithubActionsDefaultWorkflowPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/workflow"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"],setWorkflowAccessToRepository:["PUT /repos/{owner}/{repo}/actions/permissions/access"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","addRepoToInstallationForAuthenticatedUser"]}],addRepoToInstallationForAuthenticatedUser:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],getWebhookDelivery:["GET /app/hook/deliveries/{delivery_id}"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],listWebhookDeliveries:["GET /app/hook/deliveries"],redeliverWebhookDelivery:["POST /app/hook/deliveries/{delivery_id}/attempts"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","removeRepoFromInstallationForAuthenticatedUser"]}],removeRepoFromInstallationForAuthenticatedUser:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubAdvancedSecurityBillingGhe:["GET /enterprises/{enterprise}/settings/billing/advanced-security"],getGithubAdvancedSecurityBillingOrg:["GET /orgs/{org}/settings/billing/advanced-security"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestRun:["POST /repos/{owner}/{repo}/check-runs/{check_run_id}/rerequest"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],listAlertInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listAlertsForOrg:["GET /orgs/{org}/code-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances",{},{renamed:["codeScanning","listAlertInstances"]}],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct"],getConductCode:["GET /codes_of_conduct/{key}"]},codespaces:{addRepositoryForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],codespaceMachinesForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/machines"],createForAuthenticatedUser:["POST /user/codespaces"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],createOrUpdateSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}"],createWithPrForAuthenticatedUser:["POST /repos/{owner}/{repo}/pulls/{pull_number}/codespaces"],createWithRepoForAuthenticatedUser:["POST /repos/{owner}/{repo}/codespaces"],deleteForAuthenticatedUser:["DELETE /user/codespaces/{codespace_name}"],deleteFromOrganization:["DELETE /orgs/{org}/members/{username}/codespaces/{codespace_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],deleteSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}"],exportForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/exports"],getExportDetailsForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/exports/{export_id}"],getForAuthenticatedUser:["GET /user/codespaces/{codespace_name}"],getPublicKeyForAuthenticatedUser:["GET /user/codespaces/secrets/public-key"],getRepoPublicKey:["GET /repos/{owner}/{repo}/codespaces/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],getSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}"],listDevcontainersInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/devcontainers"],listForAuthenticatedUser:["GET /user/codespaces"],listInOrganization:["GET /orgs/{org_id}/codespaces"],listInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces"],listRepoSecrets:["GET /repos/{owner}/{repo}/codespaces/secrets"],listRepositoriesForSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}/repositories"],listSecretsForAuthenticatedUser:["GET /user/codespaces/secrets"],removeRepositoryForSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],repoMachinesForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/machines"],setRepositoriesForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories"],startForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/start"],stopForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/stop"],stopInOrganization:["POST /orgs/{org}/members/{username}/codespaces/{codespace_name}/stop"],updateForAuthenticatedUser:["PATCH /user/codespaces/{codespace_name}"]},dependabot:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],getOrgPublicKey:["GET /orgs/{org}/dependabot/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}"],getRepoPublicKey:["GET /repos/{owner}/{repo}/dependabot/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],listOrgSecrets:["GET /orgs/{org}/dependabot/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/dependabot/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories"]},dependencyGraph:{createRepositorySnapshot:["POST /repos/{owner}/{repo}/dependency-graph/snapshots"],diffRange:["GET /repos/{owner}/{repo}/dependency-graph/compare/{basehead}"]},emojis:{get:["GET /emojis"]},enterpriseAdmin:{addCustomLabelsToSelfHostedRunnerForEnterprise:["POST /enterprises/{enterprise}/actions/runners/{runner_id}/labels"],disableSelectedOrganizationGithubActionsEnterprise:["DELETE /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],enableSelectedOrganizationGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],getAllowedActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/selected-actions"],getGithubActionsPermissionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions"],getServerStatistics:["GET /enterprise-installation/{enterprise_or_org}/server-statistics"],listLabelsForSelfHostedRunnerForEnterprise:["GET /enterprises/{enterprise}/actions/runners/{runner_id}/labels"],listSelectedOrganizationsEnabledGithubActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/organizations"],removeAllCustomLabelsFromSelfHostedRunnerForEnterprise:["DELETE /enterprises/{enterprise}/actions/runners/{runner_id}/labels"],removeCustomLabelFromSelfHostedRunnerForEnterprise:["DELETE /enterprises/{enterprise}/actions/runners/{runner_id}/labels/{name}"],setAllowedActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/selected-actions"],setCustomLabelsForSelfHostedRunnerForEnterprise:["PUT /enterprises/{enterprise}/actions/runners/{runner_id}/labels"],setGithubActionsPermissionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions"],setSelectedOrganizationsEnabledGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline"],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{cancelImport:["DELETE /repos/{owner}/{repo}/import"],deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive"],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive"],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive"],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive"],getCommitAuthors:["GET /repos/{owner}/{repo}/import/authors"],getImportStatus:["GET /repos/{owner}/{repo}/import"],getLargeFiles:["GET /repos/{owner}/{repo}/import/large_files"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}"],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}"],listForAuthenticatedUser:["GET /user/migrations"],listForOrg:["GET /orgs/{org}/migrations"],listReposForAuthenticatedUser:["GET /user/migrations/{migration_id}/repositories"],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories"],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{},{renamed:["migrations","listReposForAuthenticatedUser"]}],mapCommitAuthor:["PATCH /repos/{owner}/{repo}/import/authors/{author_id}"],setLfsPreference:["PATCH /repos/{owner}/{repo}/import/lfs"],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],startImport:["PUT /repos/{owner}/{repo}/import"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock"],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock"],updateImport:["PATCH /repos/{owner}/{repo}/import"]},orgs:{blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createWebhook:["POST /orgs/{org}/hooks"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],get:["GET /orgs/{org}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listBlockedUsers:["GET /orgs/{org}/blocks"],listCustomRoles:["GET /organizations/{organization_id}/custom_roles"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listWebhookDeliveries:["GET /orgs/{org}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByOrg"]}],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByAuthenticatedUser"]}],getAllPackageVersionsForPackageOwnedByAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],listPackagesForAuthenticatedUser:["GET /user/packages"],listPackagesForOrganization:["GET /orgs/{org}/packages"],listPackagesForUser:["GET /users/{username}/packages"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForUser:["POST /users/{username}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForUser:["POST /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}"],createCard:["POST /projects/columns/{column_id}/cards"],createColumn:["POST /projects/{project_id}/columns"],createForAuthenticatedUser:["POST /user/projects"],createForOrg:["POST /orgs/{org}/projects"],createForRepo:["POST /repos/{owner}/{repo}/projects"],delete:["DELETE /projects/{project_id}"],deleteCard:["DELETE /projects/columns/cards/{card_id}"],deleteColumn:["DELETE /projects/columns/{column_id}"],get:["GET /projects/{project_id}"],getCard:["GET /projects/columns/cards/{card_id}"],getColumn:["GET /projects/columns/{column_id}"],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission"],listCards:["GET /projects/columns/{column_id}/cards"],listCollaborators:["GET /projects/{project_id}/collaborators"],listColumns:["GET /projects/{project_id}/columns"],listForOrg:["GET /orgs/{org}/projects"],listForRepo:["GET /repos/{owner}/{repo}/projects"],listForUser:["GET /users/{username}/projects"],moveCard:["POST /projects/columns/cards/{card_id}/moves"],moveColumn:["POST /projects/columns/{column_id}/moves"],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}"],update:["PATCH /projects/{project_id}"],updateCard:["PATCH /projects/columns/cards/{card_id}"],updateColumn:["PATCH /projects/columns/{column_id}"]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch"],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions"],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions"],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],createForRelease:["POST /repos/{owner}/{repo}/releases/{release_id}/reactions"],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}"],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}"],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}"],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}"],deleteForRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}/reactions/{reaction_id}"],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}"],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}"],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions"],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions"],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],listForRelease:["GET /repos/{owner}/{repo}/releases/{release_id}/reactions"],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}",{},{renamed:["repos","acceptInvitationForAuthenticatedUser"]}],acceptInvitationForAuthenticatedUser:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts"],codeownersErrors:["GET /repos/{owner}/{repo}/codeowners/errors"],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],compareCommitsWithBasehead:["GET /repos/{owner}/{repo}/compare/{basehead}"],createAutolink:["POST /repos/{owner}/{repo}/autolinks"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateEnvironment:["PUT /repos/{owner}/{repo}/environments/{environment_name}"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createPagesSite:["POST /repos/{owner}/{repo}/pages"],createRelease:["POST /repos/{owner}/{repo}/releases"],createTagProtection:["POST /repos/{owner}/{repo}/tags/protection"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate"],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}",{},{renamed:["repos","declineInvitationForAuthenticatedUser"]}],declineInvitationForAuthenticatedUser:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteAnEnvironment:["DELETE /repos/{owner}/{repo}/environments/{environment_name}"],deleteAutolink:["DELETE /repos/{owner}/{repo}/autolinks/{autolink_id}"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages"],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteTagProtection:["DELETE /repos/{owner}/{repo}/tags/protection/{tag_protection_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes"],disableLfsForRepo:["DELETE /repos/{owner}/{repo}/lfs"],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts"],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes"],enableLfsForRepo:["PUT /repos/{owner}/{repo}/lfs"],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts"],generateReleaseNotes:["POST /repos/{owner}/{repo}/releases/generate-notes"],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllEnvironments:["GET /repos/{owner}/{repo}/environments"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics"],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getAutolink:["GET /repos/{owner}/{repo}/autolinks/{autolink_id}"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getEnvironment:["GET /repos/{owner}/{repo}/environments/{environment_name}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getPagesHealthCheck:["GET /repos/{owner}/{repo}/pages/health"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getReadmeInDirectory:["GET /repos/{owner}/{repo}/readme/{dir}"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}"],listAutolinks:["GET /repos/{owner}/{repo}/autolinks"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head"],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls"],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTagProtection:["GET /repos/{owner}/{repo}/tags/protection"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhookDeliveries:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],mergeUpstream:["POST /repos/{owner}/{repo}/merge-upstream"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics"],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits"],issuesAndPullRequests:["GET /search/issues"],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics"],users:["GET /search/users"]},secretScanning:{getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/secret-scanning/alerts"],listAlertsForOrg:["GET /orgs/{org}/secret-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],listLocationsForAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}/locations"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}"],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}"],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects"],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails",{},{renamed:["users","addEmailForAuthenticatedUser"]}],addEmailForAuthenticatedUser:["POST /user/emails"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys",{},{renamed:["users","createGpgKeyForAuthenticatedUser"]}],createGpgKeyForAuthenticatedUser:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys",{},{renamed:["users","createPublicSshKeyForAuthenticatedUser"]}],createPublicSshKeyForAuthenticatedUser:["POST /user/keys"],deleteEmailForAuthenticated:["DELETE /user/emails",{},{renamed:["users","deleteEmailForAuthenticatedUser"]}],deleteEmailForAuthenticatedUser:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","deleteGpgKeyForAuthenticatedUser"]}],deleteGpgKeyForAuthenticatedUser:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}",{},{renamed:["users","deletePublicSshKeyForAuthenticatedUser"]}],deletePublicSshKeyForAuthenticatedUser:["DELETE /user/keys/{key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","getGpgKeyForAuthenticatedUser"]}],getGpgKeyForAuthenticatedUser:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}",{},{renamed:["users","getPublicSshKeyForAuthenticatedUser"]}],getPublicSshKeyForAuthenticatedUser:["GET /user/keys/{key_id}"],list:["GET /users"],listBlockedByAuthenticated:["GET /user/blocks",{},{renamed:["users","listBlockedByAuthenticatedUser"]}],listBlockedByAuthenticatedUser:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails",{},{renamed:["users","listEmailsForAuthenticatedUser"]}],listEmailsForAuthenticatedUser:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following",{},{renamed:["users","listFollowedByAuthenticatedUser"]}],listFollowedByAuthenticatedUser:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys",{},{renamed:["users","listGpgKeysForAuthenticatedUser"]}],listGpgKeysForAuthenticatedUser:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails",{},{renamed:["users","listPublicEmailsForAuthenticatedUser"]}],listPublicEmailsForAuthenticatedUser:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys",{},{renamed:["users","listPublicSshKeysForAuthenticatedUser"]}],listPublicSshKeysForAuthenticatedUser:["GET /user/keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility",{},{renamed:["users","setPrimaryEmailVisibilityForAuthenticatedUser"]}],setPrimaryEmailVisibilityForAuthenticatedUser:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},IN="5.16.0";function MN(e,t){const r={};for(const[n,o]of Object.entries(t))for(const[i,h]of Object.entries(o)){const[g,p,v]=h,[d,c]=g.split(/ /),a=Object.assign({method:d,url:c},p);r[n]||(r[n]={});const l=r[n];if(v){l[i]=DN(e,n,i,a,v);continue}l[i]=e.request.defaults(a)}return r}function DN(e,t,r,n,o){const i=e.request.defaults(n);function h(...g){let p=i.endpoint.merge(...g);if(o.mapToData)return p=Object.assign({},p,{data:p[o.mapToData],[o.mapToData]:void 0}),i(p);if(o.renamed){const[v,d]=o.renamed;e.log.warn(`octokit.${t}.${r}() has been renamed to octokit.${v}.${d}()`)}if(o.deprecated&&e.log.warn(o.deprecated),o.renamedParameters){const v=i.endpoint.merge(...g);for(const[d,c]of Object.entries(o.renamedParameters))d in v&&(e.log.warn(`"${d}" parameter is deprecated for "octokit.${t}.${r}()". Use "${c}" instead`),c in v||(v[c]=v[d]),delete v[d]);return i(v)}return i(...g)}return Object.assign(h,i)}function Vb(e){return{rest:MN(e,CN)}}Vb.VERSION=IN;var Hb={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(cu,function(){var r=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof cu!="undefined"?cu:typeof self!="undefined"?self:{};function n(z){return z&&z.default||z}var o=function(z,V,j={}){var Z,se,de;for(Z in V)de=V[Z],j[Z]=(se=z[Z])!=null?se:de;return j},i=function(z,V,j={}){var Z,se;for(Z in z)se=z[Z],V[Z]!==void 0&&(j[Z]=se);return j},h={load:o,overwrite:i},g;g=class{constructor(V,j){this.incr=V,this.decr=j,this._first=null,this._last=null,this.length=0}push(V){var j;this.length++,typeof this.incr=="function"&&this.incr(),j={value:V,prev:this._last,next:null},this._last!=null?(this._last.next=j,this._last=j):this._first=this._last=j}shift(){var V;if(this._first!=null)return this.length--,typeof this.decr=="function"&&this.decr(),V=this._first.value,(this._first=this._first.next)!=null?this._first.prev=null:this._last=null,V}first(){if(this._first!=null)return this._first.value}getArray(){var V,j,Z;for(V=this._first,Z=[];V!=null;)Z.push((j=V,V=V.next,j.value));return Z}forEachShift(V){var j;for(j=this.shift();j!=null;)V(j),j=this.shift()}debug(){var V,j,Z,se,de;for(V=this._first,de=[];V!=null;)de.push((j=V,V=V.next,{value:j.value,prev:(Z=j.prev)!=null?Z.value:void 0,next:(se=j.next)!=null?se.value:void 0}));return de}};var p=g,v;v=class{constructor(V){if(this.instance=V,this._events={},this.instance.on!=null||this.instance.once!=null||this.instance.removeAllListeners!=null)throw new Error("An Emitter already exists for this object");this.instance.on=(j,Z)=>this._addListener(j,"many",Z),this.instance.once=(j,Z)=>this._addListener(j,"once",Z),this.instance.removeAllListeners=(j=null)=>j!=null?delete this._events[j]:this._events={}}_addListener(V,j,Z){var se;return(se=this._events)[V]==null&&(se[V]=[]),this._events[V].push({cb:Z,status:j}),this.instance}listenerCount(V){return this._events[V]!=null?this._events[V].length:0}async trigger(V,...j){var Z,se;try{return V!=="debug"&&this.trigger("debug",`Event triggered: ${V}`,j),this._events[V]==null?void 0:(this._events[V]=this._events[V].filter(function(de){return de.status!=="none"}),se=this._events[V].map(async de=>{var ve,Oe;if(de.status!=="none"){de.status==="once"&&(de.status="none");try{return Oe=typeof de.cb=="function"?de.cb(...j):void 0,typeof(Oe!=null?Oe.then:void 0)=="function"?await Oe:Oe}catch(Fe){return ve=Fe,this.trigger("error",ve),null}}}),(await Promise.all(se)).find(function(de){return de!=null}))}catch(de){return Z=de,this.trigger("error",Z),null}}};var d=v,c,a,l;c=p,a=d,l=class{constructor(V){this.Events=new a(this),this._length=0,this._lists=function(){var j,Z,se;for(se=[],j=1,Z=V;1<=Z?j<=Z:j>=Z;1<=Z?++j:--j)se.push(new c(()=>this.incr(),()=>this.decr()));return se}.call(this)}incr(){if(this._length++===0)return this.Events.trigger("leftzero")}decr(){if(--this._length===0)return this.Events.trigger("zero")}push(V){return this._lists[V.options.priority].push(V)}queued(V){return V!=null?this._lists[V].length:this._length}shiftAll(V){return this._lists.forEach(function(j){return j.forEachShift(V)})}getFirst(V=this._lists){var j,Z,se;for(j=0,Z=V.length;j<Z;j++)if(se=V[j],se.length>0)return se;return[]}shiftLastFrom(V){return this.getFirst(this._lists.slice(V).reverse()).shift()}};var s=l,u;u=class extends Error{};var f=u,m,y,b,E,x;E=10,y=5,x=h,m=f,b=class{constructor(V,j,Z,se,de,ve,Oe,Fe){this.task=V,this.args=j,this.rejectOnDrop=de,this.Events=ve,this._states=Oe,this.Promise=Fe,this.options=x.load(Z,se),this.options.priority=this._sanitizePriority(this.options.priority),this.options.id===se.id&&(this.options.id=`${this.options.id}-${this._randomIndex()}`),this.promise=new this.Promise((It,Mt)=>{this._resolve=It,this._reject=Mt}),this.retryCount=0}_sanitizePriority(V){var j;return j=~~V!==V?y:V,j<0?0:j>E-1?E-1:j}_randomIndex(){return Math.random().toString(36).slice(2)}doDrop({error:V,message:j="This job has been dropped by Bottleneck"}={}){return this._states.remove(this.options.id)?(this.rejectOnDrop&&this._reject(V!=null?V:new m(j)),this.Events.trigger("dropped",{args:this.args,options:this.options,task:this.task,promise:this.promise}),!0):!1}_assertStatus(V){var j;if(j=this._states.jobStatus(this.options.id),!(j===V||V==="DONE"&&j===null))throw new m(`Invalid job status ${j}, expected ${V}. Please open an issue at https://github.com/SGrondin/bottleneck/issues`)}doReceive(){return this._states.start(this.options.id),this.Events.trigger("received",{args:this.args,options:this.options})}doQueue(V,j){return this._assertStatus("RECEIVED"),this._states.next(this.options.id),this.Events.trigger("queued",{args:this.args,options:this.options,reachedHWM:V,blocked:j})}doRun(){return this.retryCount===0?(this._assertStatus("QUEUED"),this._states.next(this.options.id)):this._assertStatus("EXECUTING"),this.Events.trigger("scheduled",{args:this.args,options:this.options})}async doExecute(V,j,Z,se){var de,ve,Oe;this.retryCount===0?(this._assertStatus("RUNNING"),this._states.next(this.options.id)):this._assertStatus("EXECUTING"),ve={args:this.args,options:this.options,retryCount:this.retryCount},this.Events.trigger("executing",ve);try{if(Oe=await(V!=null?V.schedule(this.options,this.task,...this.args):this.task(...this.args)),j())return this.doDone(ve),await se(this.options,ve),this._assertStatus("DONE"),this._resolve(Oe)}catch(Fe){return de=Fe,this._onFailure(de,ve,j,Z,se)}}doExpire(V,j,Z){var se,de;return this._states.jobStatus(this.options.id==="RUNNING")&&this._states.next(this.options.id),this._assertStatus("EXECUTING"),de={args:this.args,options:this.options,retryCount:this.retryCount},se=new m(`This job timed out after ${this.options.expiration} ms.`),this._onFailure(se,de,V,j,Z)}async _onFailure(V,j,Z,se,de){var ve,Oe;if(Z())return ve=await this.Events.trigger("failed",V,j),ve!=null?(Oe=~~ve,this.Events.trigger("retry",`Retrying ${this.options.id} after ${Oe} ms`,j),this.retryCount++,se(Oe)):(this.doDone(j),await de(this.options,j),this._assertStatus("DONE"),this._reject(V))}doDone(V){return this._assertStatus("EXECUTING"),this._states.next(this.options.id),this.Events.trigger("done",V)}};var w=b,S,P,A;A=h,S=f,P=class{constructor(V,j,Z){this.instance=V,this.storeOptions=j,this.clientId=this.instance._randomIndex(),A.load(Z,Z,this),this._nextRequest=this._lastReservoirRefresh=this._lastReservoirIncrease=Date.now(),this._running=0,this._done=0,this._unblockTime=0,this.ready=this.Promise.resolve(),this.clients={},this._startHeartbeat()}_startHeartbeat(){var V;return this.heartbeat==null&&(this.storeOptions.reservoirRefreshInterval!=null&&this.storeOptions.reservoirRefreshAmount!=null||this.storeOptions.reservoirIncreaseInterval!=null&&this.storeOptions.reservoirIncreaseAmount!=null)?typeof(V=this.heartbeat=setInterval(()=>{var j,Z,se,de,ve;if(de=Date.now(),this.storeOptions.reservoirRefreshInterval!=null&&de>=this._lastReservoirRefresh+this.storeOptions.reservoirRefreshInterval&&(this._lastReservoirRefresh=de,this.storeOptions.reservoir=this.storeOptions.reservoirRefreshAmount,this.instance._drainAll(this.computeCapacity())),this.storeOptions.reservoirIncreaseInterval!=null&&de>=this._lastReservoirIncrease+this.storeOptions.reservoirIncreaseInterval&&({reservoirIncreaseAmount:j,reservoirIncreaseMaximum:se,reservoir:ve}=this.storeOptions,this._lastReservoirIncrease=de,Z=se!=null?Math.min(j,se-ve):j,Z>0))return this.storeOptions.reservoir+=Z,this.instance._drainAll(this.computeCapacity())},this.heartbeatInterval)).unref=="function"?V.unref():void 0:clearInterval(this.heartbeat)}async __publish__(V){return await this.yieldLoop(),this.instance.Events.trigger("message",V.toString())}async __disconnect__(V){return await this.yieldLoop(),clearInterval(this.heartbeat),this.Promise.resolve()}yieldLoop(V=0){return new this.Promise(function(j,Z){return setTimeout(j,V)})}computePenalty(){var V;return(V=this.storeOptions.penalty)!=null?V:15*this.storeOptions.minTime||5e3}async __updateSettings__(V){return await this.yieldLoop(),A.overwrite(V,V,this.storeOptions),this._startHeartbeat(),this.instance._drainAll(this.computeCapacity()),!0}async __running__(){return await this.yieldLoop(),this._running}async __queued__(){return await this.yieldLoop(),this.instance.queued()}async __done__(){return await this.yieldLoop(),this._done}async __groupCheck__(V){return await this.yieldLoop(),this._nextRequest+this.timeout<V}computeCapacity(){var V,j;return{maxConcurrent:V,reservoir:j}=this.storeOptions,V!=null&&j!=null?Math.min(V-this._running,j):V!=null?V-this._running:j!=null?j:null}conditionsCheck(V){var j;return j=this.computeCapacity(),j==null||V<=j}async __incrementReservoir__(V){var j;return await this.yieldLoop(),j=this.storeOptions.reservoir+=V,this.instance._drainAll(this.computeCapacity()),j}async __currentReservoir__(){return await this.yieldLoop(),this.storeOptions.reservoir}isBlocked(V){return this._unblockTime>=V}check(V,j){return this.conditionsCheck(V)&&this._nextRequest-j<=0}async __check__(V){var j;return await this.yieldLoop(),j=Date.now(),this.check(V,j)}async __register__(V,j,Z){var se,de;return await this.yieldLoop(),se=Date.now(),this.conditionsCheck(j)?(this._running+=j,this.storeOptions.reservoir!=null&&(this.storeOptions.reservoir-=j),de=Math.max(this._nextRequest-se,0),this._nextRequest=se+de+this.storeOptions.minTime,{success:!0,wait:de,reservoir:this.storeOptions.reservoir}):{success:!1}}strategyIsBlock(){return this.storeOptions.strategy===3}async __submit__(V,j){var Z,se,de;if(await this.yieldLoop(),this.storeOptions.maxConcurrent!=null&&j>this.storeOptions.maxConcurrent)throw new S(`Impossible to add a job having a weight of ${j} to a limiter having a maxConcurrent setting of ${this.storeOptions.maxConcurrent}`);return se=Date.now(),de=this.storeOptions.highWater!=null&&V===this.storeOptions.highWater&&!this.check(j,se),Z=this.strategyIsBlock()&&(de||this.isBlocked(se)),Z&&(this._unblockTime=se+this.computePenalty(),this._nextRequest=this._unblockTime+this.storeOptions.minTime,this.instance._dropAllQueued()),{reachedHWM:de,blocked:Z,strategy:this.storeOptions.strategy}}async __free__(V,j){return await this.yieldLoop(),this._running-=j,this._done+=j,this.instance._drainAll(this.computeCapacity()),{running:this._running}}};var L=P,k,D;k=f,D=class{constructor(V){this.status=V,this._jobs={},this.counts=this.status.map(function(){return 0})}next(V){var j,Z;if(j=this._jobs[V],Z=j+1,j!=null&&Z<this.status.length)return this.counts[j]--,this.counts[Z]++,this._jobs[V]++;if(j!=null)return this.counts[j]--,delete this._jobs[V]}start(V){var j;return j=0,this._jobs[V]=j,this.counts[j]++}remove(V){var j;return j=this._jobs[V],j!=null&&(this.counts[j]--,delete this._jobs[V]),j!=null}jobStatus(V){var j;return(j=this.status[this._jobs[V]])!=null?j:null}statusJobs(V){var j,Z,se,de,ve;if(V!=null){if(Z=this.status.indexOf(V),Z<0)throw new k(`status must be one of ${this.status.join(", ")}`);se=this._jobs,de=[];for(j in se)ve=se[j],ve===Z&&de.push(j);return de}else return Object.keys(this._jobs)}statusCounts(){return this.counts.reduce((V,j,Z)=>(V[this.status[Z]]=j,V),{})}};var N=D,W,H;W=p,H=class{constructor(V,j){this.schedule=this.schedule.bind(this),this.name=V,this.Promise=j,this._running=0,this._queue=new W}isEmpty(){return this._queue.length===0}async _tryToRun(){var V,j,Z,se,de,ve,Oe;if(this._running<1&&this._queue.length>0)return this._running++,{task:Oe,args:V,resolve:de,reject:se}=this._queue.shift(),j=await async function(){try{return ve=await Oe(...V),function(){return de(ve)}}catch(Fe){return Z=Fe,function(){return se(Z)}}}(),this._running--,this._tryToRun(),j()}schedule(V,...j){var Z,se,de;return de=se=null,Z=new this.Promise(function(ve,Oe){return de=ve,se=Oe}),this._queue.push({task:V,args:j,resolve:de,reject:se}),this._tryToRun(),Z}};var q=H,X="2.19.5",Y={version:X},J=Object.freeze({version:X,default:Y}),ee=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),te=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),ne=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),fe,_e,ye,re,be,Ae;Ae=h,fe=d,re=ee,ye=te,be=ne,_e=function(){class z{constructor(j={}){this.deleteKey=this.deleteKey.bind(this),this.limiterOptions=j,Ae.load(this.limiterOptions,this.defaults,this),this.Events=new fe(this),this.instances={},this.Bottleneck=C,this._startAutoCleanup(),this.sharedConnection=this.connection!=null,this.connection==null&&(this.limiterOptions.datastore==="redis"?this.connection=new re(Object.assign({},this.limiterOptions,{Events:this.Events})):this.limiterOptions.datastore==="ioredis"&&(this.connection=new ye(Object.assign({},this.limiterOptions,{Events:this.Events}))))}key(j=""){var Z;return(Z=this.instances[j])!=null?Z:(()=>{var se;return se=this.instances[j]=new this.Bottleneck(Object.assign(this.limiterOptions,{id:`${this.id}-${j}`,timeout:this.timeout,connection:this.connection})),this.Events.trigger("created",se,j),se})()}async deleteKey(j=""){var Z,se;return se=this.instances[j],this.connection&&(Z=await this.connection.__runCommand__(["del",...be.allKeys(`${this.id}-${j}`)])),se!=null&&(delete this.instances[j],await se.disconnect()),se!=null||Z>0}limiters(){var j,Z,se,de;Z=this.instances,se=[];for(j in Z)de=Z[j],se.push({key:j,limiter:de});return se}keys(){return Object.keys(this.instances)}async clusterKeys(){var j,Z,se,de,ve,Oe,Fe,It,Mt;if(this.connection==null)return this.Promise.resolve(this.keys());for(Oe=[],j=null,Mt=`b_${this.id}-`.length,Z=9;j!==0;)for([It,se]=await this.connection.__runCommand__(["scan",j!=null?j:0,"match",`b_${this.id}-*_settings`,"count",1e4]),j=~~It,de=0,Fe=se.length;de<Fe;de++)ve=se[de],Oe.push(ve.slice(Mt,-Z));return Oe}_startAutoCleanup(){var j;return clearInterval(this.interval),typeof(j=this.interval=setInterval(async()=>{var Z,se,de,ve,Oe,Fe;Oe=Date.now(),de=this.instances,ve=[];for(se in de){Fe=de[se];try{await Fe._store.__groupCheck__(Oe)?ve.push(this.deleteKey(se)):ve.push(void 0)}catch(It){Z=It,ve.push(Fe.Events.trigger("error",Z))}}return ve},this.timeout/2)).unref=="function"?j.unref():void 0}updateSettings(j={}){if(Ae.overwrite(j,this.defaults,this),Ae.overwrite(j,j,this.limiterOptions),j.timeout!=null)return this._startAutoCleanup()}disconnect(j=!0){var Z;if(!this.sharedConnection)return(Z=this.connection)!=null?Z.disconnect(j):void 0}}return z.prototype.defaults={timeout:1e3*60*5,connection:null,Promise,id:"group-key"},z}.call(r);var pe=_e,Pe,xe,Re;Re=h,xe=d,Pe=function(){class z{constructor(j={}){this.options=j,Re.load(this.options,this.defaults,this),this.Events=new xe(this),this._arr=[],this._resetPromise(),this._lastFlush=Date.now()}_resetPromise(){return this._promise=new this.Promise((j,Z)=>this._resolve=j)}_flush(){return clearTimeout(this._timeout),this._lastFlush=Date.now(),this._resolve(),this.Events.trigger("batch",this._arr),this._arr=[],this._resetPromise()}add(j){var Z;return this._arr.push(j),Z=this._promise,this._arr.length===this.maxSize?this._flush():this.maxTime!=null&&this._arr.length===1&&(this._timeout=setTimeout(()=>this._flush(),this.maxTime)),Z}}return z.prototype.defaults={maxTime:null,maxSize:null,Promise},z}.call(r);var he=Pe,Se=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),Ce=n(J),Te,Ie,Me,Ue,Ne,Ye,ke,He,et,Le,Ke,U=[].splice;Ye=10,Ie=5,Ke=h,ke=s,Ue=w,Ne=L,He=Se,Me=d,et=N,Le=q,Te=function(){class z{constructor(j={},...Z){var se,de;this._addToQueue=this._addToQueue.bind(this),this._validateOptions(j,Z),Ke.load(j,this.instanceDefaults,this),this._queues=new ke(Ye),this._scheduled={},this._states=new et(["RECEIVED","QUEUED","RUNNING","EXECUTING"].concat(this.trackDoneStatus?["DONE"]:[])),this._limiter=null,this.Events=new Me(this),this._submitLock=new Le("submit",this.Promise),this._registerLock=new Le("register",this.Promise),de=Ke.load(j,this.storeDefaults,{}),this._store=function(){if(this.datastore==="redis"||this.datastore==="ioredis"||this.connection!=null)return se=Ke.load(j,this.redisStoreDefaults,{}),new He(this,de,se);if(this.datastore==="local")return se=Ke.load(j,this.localStoreDefaults,{}),new Ne(this,de,se);throw new z.prototype.BottleneckError(`Invalid datastore type: ${this.datastore}`)}.call(this),this._queues.on("leftzero",()=>{var ve;return(ve=this._store.heartbeat)!=null&&typeof ve.ref=="function"?ve.ref():void 0}),this._queues.on("zero",()=>{var ve;return(ve=this._store.heartbeat)!=null&&typeof ve.unref=="function"?ve.unref():void 0})}_validateOptions(j,Z){if(!(j!=null&&typeof j=="object"&&Z.length===0))throw new z.prototype.BottleneckError("Bottleneck v2 takes a single object argument. Refer to https://github.com/SGrondin/bottleneck#upgrading-to-v2 if you're upgrading from Bottleneck v1.")}ready(){return this._store.ready}clients(){return this._store.clients}channel(){return`b_${this.id}`}channel_client(){return`b_${this.id}_${this._store.clientId}`}publish(j){return this._store.__publish__(j)}disconnect(j=!0){return this._store.__disconnect__(j)}chain(j){return this._limiter=j,this}queued(j){return this._queues.queued(j)}clusterQueued(){return this._store.__queued__()}empty(){return this.queued()===0&&this._submitLock.isEmpty()}running(){return this._store.__running__()}done(){return this._store.__done__()}jobStatus(j){return this._states.jobStatus(j)}jobs(j){return this._states.statusJobs(j)}counts(){return this._states.statusCounts()}_randomIndex(){return Math.random().toString(36).slice(2)}check(j=1){return this._store.__check__(j)}_clearGlobalState(j){return this._scheduled[j]!=null?(clearTimeout(this._scheduled[j].expiration),delete this._scheduled[j],!0):!1}async _free(j,Z,se,de){var ve,Oe;try{if({running:Oe}=await this._store.__free__(j,se.weight),this.Events.trigger("debug",`Freed ${se.id}`,de),Oe===0&&this.empty())return this.Events.trigger("idle")}catch(Fe){return ve=Fe,this.Events.trigger("error",ve)}}_run(j,Z,se){var de,ve,Oe;return Z.doRun(),de=this._clearGlobalState.bind(this,j),Oe=this._run.bind(this,j,Z),ve=this._free.bind(this,j,Z),this._scheduled[j]={timeout:setTimeout(()=>Z.doExecute(this._limiter,de,Oe,ve),se),expiration:Z.options.expiration!=null?setTimeout(function(){return Z.doExpire(de,Oe,ve)},se+Z.options.expiration):void 0,job:Z}}_drainOne(j){return this._registerLock.schedule(()=>{var Z,se,de,ve,Oe;return this.queued()===0?this.Promise.resolve(null):(Oe=this._queues.getFirst(),{options:ve,args:Z}=de=Oe.first(),j!=null&&ve.weight>j?this.Promise.resolve(null):(this.Events.trigger("debug",`Draining ${ve.id}`,{args:Z,options:ve}),se=this._randomIndex(),this._store.__register__(se,ve.weight,ve.expiration).then(({success:Fe,wait:It,reservoir:Mt})=>{var xn;return this.Events.trigger("debug",`Drained ${ve.id}`,{success:Fe,args:Z,options:ve}),Fe?(Oe.shift(),xn=this.empty(),xn&&this.Events.trigger("empty"),Mt===0&&this.Events.trigger("depleted",xn),this._run(se,de,It),this.Promise.resolve(ve.weight)):this.Promise.resolve(null)})))})}_drainAll(j,Z=0){return this._drainOne(j).then(se=>{var de;return se!=null?(de=j!=null?j-se:j,this._drainAll(de,Z+se)):this.Promise.resolve(Z)}).catch(se=>this.Events.trigger("error",se))}_dropAllQueued(j){return this._queues.shiftAll(function(Z){return Z.doDrop({message:j})})}stop(j={}){var Z,se;return j=Ke.load(j,this.stopDefaults),se=de=>{var ve;return ve=()=>{var Oe;return Oe=this._states.counts,Oe[0]+Oe[1]+Oe[2]+Oe[3]===de},new this.Promise((Oe,Fe)=>ve()?Oe():this.on("done",()=>{if(ve())return this.removeAllListeners("done"),Oe()}))},Z=j.dropWaitingJobs?(this._run=function(de,ve){return ve.doDrop({message:j.dropErrorMessage})},this._drainOne=()=>this.Promise.resolve(null),this._registerLock.schedule(()=>this._submitLock.schedule(()=>{var de,ve,Oe;ve=this._scheduled;for(de in ve)Oe=ve[de],this.jobStatus(Oe.job.options.id)==="RUNNING"&&(clearTimeout(Oe.timeout),clearTimeout(Oe.expiration),Oe.job.doDrop({message:j.dropErrorMessage}));return this._dropAllQueued(j.dropErrorMessage),se(0)}))):this.schedule({priority:Ye-1,weight:0},()=>se(1)),this._receive=function(de){return de._reject(new z.prototype.BottleneckError(j.enqueueErrorMessage))},this.stop=()=>this.Promise.reject(new z.prototype.BottleneckError("stop() has already been called")),Z}async _addToQueue(j){var Z,se,de,ve,Oe,Fe,It;({args:Z,options:ve}=j);try{({reachedHWM:Oe,blocked:se,strategy:It}=await this._store.__submit__(this.queued(),ve.weight))}catch(Mt){return de=Mt,this.Events.trigger("debug",`Could not queue ${ve.id}`,{args:Z,options:ve,error:de}),j.doDrop({error:de}),!1}return se?(j.doDrop(),!0):Oe&&(Fe=It===z.prototype.strategy.LEAK?this._queues.shiftLastFrom(ve.priority):It===z.prototype.strategy.OVERFLOW_PRIORITY?this._queues.shiftLastFrom(ve.priority+1):It===z.prototype.strategy.OVERFLOW?j:void 0,Fe!=null&&Fe.doDrop(),Fe==null||It===z.prototype.strategy.OVERFLOW)?(Fe==null&&j.doDrop(),Oe):(j.doQueue(Oe,se),this._queues.push(j),await this._drainAll(),Oe)}_receive(j){return this._states.jobStatus(j.options.id)!=null?(j._reject(new z.prototype.BottleneckError(`A job with the same id already exists (id=${j.options.id})`)),!1):(j.doReceive(),this._submitLock.schedule(this._addToQueue,j))}submit(...j){var Z,se,de,ve,Oe,Fe,It;return typeof j[0]=="function"?(Oe=j,[se,...j]=Oe,[Z]=U.call(j,-1),ve=Ke.load({},this.jobDefaults)):(Fe=j,[ve,se,...j]=Fe,[Z]=U.call(j,-1),ve=Ke.load(ve,this.jobDefaults)),It=(...Mt)=>new this.Promise(function(xn,Jo){return se(...Mt,function(...Gi){return(Gi[0]!=null?Jo:xn)(Gi)})}),de=new Ue(It,j,ve,this.jobDefaults,this.rejectOnDrop,this.Events,this._states,this.Promise),de.promise.then(function(Mt){return typeof Z=="function"?Z(...Mt):void 0}).catch(function(Mt){return Array.isArray(Mt)?typeof Z=="function"?Z(...Mt):void 0:typeof Z=="function"?Z(Mt):void 0}),this._receive(de)}schedule(...j){var Z,se,de;return typeof j[0]=="function"?([de,...j]=j,se={}):[se,de,...j]=j,Z=new Ue(de,j,se,this.jobDefaults,this.rejectOnDrop,this.Events,this._states,this.Promise),this._receive(Z),Z.promise}wrap(j){var Z,se;return Z=this.schedule.bind(this),se=function(...de){return Z(j.bind(this),...de)},se.withOptions=function(de,...ve){return Z(de,j,...ve)},se}async updateSettings(j={}){return await this._store.__updateSettings__(Ke.overwrite(j,this.storeDefaults)),Ke.overwrite(j,this.instanceDefaults,this),this}currentReservoir(){return this._store.__currentReservoir__()}incrementReservoir(j=0){return this._store.__incrementReservoir__(j)}}return z.default=z,z.Events=Me,z.version=z.prototype.version=Ce.version,z.strategy=z.prototype.strategy={LEAK:1,OVERFLOW:2,OVERFLOW_PRIORITY:4,BLOCK:3},z.BottleneckError=z.prototype.BottleneckError=f,z.Group=z.prototype.Group=pe,z.RedisConnection=z.prototype.RedisConnection=ee,z.IORedisConnection=z.prototype.IORedisConnection=te,z.Batcher=z.prototype.Batcher=he,z.prototype.jobDefaults={priority:Ie,weight:1,expiration:null,id:"<no-id>"},z.prototype.storeDefaults={maxConcurrent:null,minTime:0,highWater:null,strategy:z.prototype.strategy.LEAK,penalty:null,reservoir:null,reservoirRefreshInterval:null,reservoirRefreshAmount:null,reservoirIncreaseInterval:null,reservoirIncreaseAmount:null,reservoirIncreaseMaximum:null},z.prototype.localStoreDefaults={Promise,timeout:null,heartbeatInterval:250},z.prototype.redisStoreDefaults={Promise,timeout:null,heartbeatInterval:5e3,clientTimeout:1e4,Redis:null,clientOptions:{},clusterNodes:null,clearDatastore:!1,connection:null},z.prototype.instanceDefaults={datastore:"local",connection:null,id:"<no-id>",rejectOnDrop:!0,trackDoneStatus:!1,Promise},z.prototype.stopDefaults={enqueueErrorMessage:"This limiter has been stopped and cannot accept new jobs.",dropWaitingJobs:!0,dropErrorMessage:"This limiter has been stopped."},z}.call(r);var C=Te,M=C;return M})})(Hb);var $b=Hb.exports;async function NN(e,t,r,n){if(!r.request||!r.request.request)throw r;if(r.status>=400&&!t.doNotRetry.includes(r.status)){const o=n.request.retries!=null?n.request.retries:t.retries,i=Math.pow((n.request.retryCount||0)+1,2);throw e.retry.retryRequest(r,o,i)}throw r}async function kN(e,t,r){const n=new $b;return n.on("failed",function(o,i){const h=~~o.request.request.retries,g=~~o.request.request.retryAfter;if(r.request.retryCount=i.retryCount+1,h>i.retryCount)return g*e.retryAfterBaseValue}),n.schedule(t,r)}const BN="3.0.9";function Wb(e,t){const r=Object.assign({enabled:!0,retryAfterBaseValue:1e3,doNotRetry:[400,401,403,404,422],retries:3},t.retry);return r.enabled&&(e.hook.error("request",NN.bind(null,e,r)),e.hook.wrap("request",kN.bind(null,r))),{retry:{retryRequest:(n,o,i)=>(n.request.request=Object.assign({},n.request.request,{retries:o,retryAfter:i}),n)}}}Wb.VERSION=BN;const FN="3.7.0",tf=()=>Promise.resolve();function jN(e,t,r){return e.retryLimiter.schedule(zN,e,t,r)}async function zN(e,t,r){const n=r.method!=="GET"&&r.method!=="HEAD",{pathname:o}=new URL(r.url,"http://github.test"),i=r.method==="GET"&&o.startsWith("/search/"),h=o.startsWith("/graphql"),p=~~r.request.retryCount>0?{priority:0,weight:0}:{};e.clustering&&(p.expiration=1e3*60),(n||h)&&await e.write.key(e.id).schedule(p,tf),n&&e.triggersNotification(o)&&await e.notifications.key(e.id).schedule(p,tf),i&&await e.search.key(e.id).schedule(p,tf);const v=e.global.key(e.id).schedule(p,t,r);if(h){const d=await v;if(d.data.errors!=null&&d.data.errors.some(c=>c.type==="RATE_LIMITED"))throw Object.assign(new Error("GraphQL Rate Limit Exceeded"),{response:d,data:d.data})}return v}var UN=["/orgs/{org}/invitations","/orgs/{org}/invitations/{invitation_id}","/orgs/{org}/teams/{team_slug}/discussions","/orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments","/repos/{owner}/{repo}/collaborators/{username}","/repos/{owner}/{repo}/commits/{commit_sha}/comments","/repos/{owner}/{repo}/issues","/repos/{owner}/{repo}/issues/{issue_number}/comments","/repos/{owner}/{repo}/pulls","/repos/{owner}/{repo}/pulls/{pull_number}/comments","/repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies","/repos/{owner}/{repo}/pulls/{pull_number}/merge","/repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers","/repos/{owner}/{repo}/pulls/{pull_number}/reviews","/repos/{owner}/{repo}/releases","/teams/{team_id}/discussions","/teams/{team_id}/discussions/{discussion_number}/comments"];function GN(e){const r=`^(?:${e.map(n=>n.split("/").map(o=>o.startsWith("{")?"(?:.+?)":o).join("/")).map(n=>`(?:${n})`).join("|")})[^/]*$`;return new RegExp(r,"i")}const kg=GN(UN),qb=kg.test.bind(kg),yo={},VN=function(e,t){yo.global=new e.Group(Qe({id:"octokit-global",maxConcurrent:10},t)),yo.search=new e.Group(Qe({id:"octokit-search",maxConcurrent:1,minTime:2e3},t)),yo.write=new e.Group(Qe({id:"octokit-write",maxConcurrent:1,minTime:1e3},t)),yo.notifications=new e.Group(Qe({id:"octokit-notifications",maxConcurrent:1,minTime:3e3},t))};function Kh(e,t){const{enabled:r=!0,Bottleneck:n=$b,id:o="no-id",timeout:i=1e3*60*2,connection:h}=t.throttle||{};if(!r)return{};const g={connection:h,timeout:i};yo.global==null&&VN(n,g);const p=Object.assign(Qe({clustering:h!=null,triggersNotification:qb,minimumSecondaryRateRetryAfter:5,retryAfterBaseValue:1e3,retryLimiter:new n,id:o},yo),t.throttle),v=typeof p.onAbuseLimit=="function"&&p.onAbuseLimit;if(typeof(v?p.onAbuseLimit:p.onSecondaryRateLimit)!="function"||typeof p.onRateLimit!="function")throw new Error(`octokit/plugin-throttling error:
        You must pass the onSecondaryRateLimit and onRateLimit error handlers.
        See https://github.com/octokit/rest.js#throttling

        const octokit = new Octokit({
          throttle: {
            onSecondaryRateLimit: (retryAfter, options) => {/* ... */},
            onRateLimit: (retryAfter, options) => {/* ... */}
          }
        })
    `);const d={},c=new n.Events(d);return d.on("secondary-limit",v?function(...a){return e.log.warn("[@octokit/plugin-throttling] `onAbuseLimit()` is deprecated and will be removed in a future release of `@octokit/plugin-throttling`, please use the `onSecondaryRateLimit` handler instead"),p.onAbuseLimit(...a)}:p.onSecondaryRateLimit),d.on("rate-limit",p.onRateLimit),d.on("error",a=>e.log.warn("Error in throttling-plugin limit handler",a)),p.retryLimiter.on("failed",async function(a,l){const s=l.args[l.args.length-1],{pathname:u}=new URL(s.url,"http://github.test");if(!(u.startsWith("/graphql")&&a.status!==401||a.status===403))return;const m=~~s.request.retryCount;s.request.retryCount=m;const{wantRetry:y,retryAfter:b=0}=await async function(){if(/\bsecondary rate\b/i.test(a.message)){const E=Math.max(~~a.response.headers["retry-after"],p.minimumSecondaryRateRetryAfter);return{wantRetry:await c.trigger("secondary-limit",E,s,e),retryAfter:E}}if(a.response.headers!=null&&a.response.headers["x-ratelimit-remaining"]==="0"){const E=new Date(~~a.response.headers["x-ratelimit-reset"]*1e3).getTime(),x=Math.max(Math.ceil((E-Date.now())/1e3),0);return{wantRetry:await c.trigger("rate-limit",x,s,e),retryAfter:x}}return{}}();if(y)return s.request.retryCount++,b*p.retryAfterBaseValue}),e.hook.wrap("request",jN.bind(null,p)),{}}Kh.VERSION=FN;Kh.triggersNotification=qb;var Zh={},Xb=dr(AN),Jl=function(t){return btoa(t)},Mr={};function HN(e){const t=e.clientType||"oauth-app",r=e.baseUrl||"https://github.com",n={clientType:t,allowSignup:e.allowSignup!==!1,clientId:e.clientId,login:e.login||null,redirectUrl:e.redirectUrl||null,state:e.state||Math.random().toString(36).substr(2),url:""};if(t==="oauth-app"){const o="scopes"in e?e.scopes:[];n.scopes=typeof o=="string"?o.split(/[,\s]+/).filter(Boolean):o}return n.url=$N(`${r}/login/oauth/authorize`,n),n}function $N(e,t){const r={allowSignup:"allow_signup",clientId:"client_id",login:"login",redirectUrl:"redirect_uri",scopes:"scope",state:"state"};let n=e;return Object.keys(r).filter(o=>t[o]!==null).filter(o=>o!=="scopes"?!0:t.clientType==="github-app"?!1:!Array.isArray(t[o])||t[o].length>0).map(o=>[r[o],`${t[o]}`]).forEach(([o,i],h)=>{n+=h===0?"?":"&",n+=`${o}=${encodeURIComponent(i)}`}),n}var WN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",oauthAuthorizationUrl:HN}),qN=dr(WN),XN=dr(cN),YN=dr(aN);Object.defineProperty(Mr,"__esModule",{value:!0});function KN(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var ZN=qN,Tn=XN,QN=YN,Rs=KN(Jl);const JN="1.2.6";function Bg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bg(Object(r),!0).forEach(function(n){ek(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ek(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tk(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function Yb(e,t){if(e==null)return{};var r=tk(e,t),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function Kb(e){const t=e.endpoint.DEFAULTS;return/^https:\/\/(api\.)?github\.com$/.test(t.baseUrl)?"https://github.com":t.baseUrl.replace("/api/v3","")}async function ec(e,t,r){const n=ar({baseUrl:Kb(e),headers:{accept:"application/json"}},r),o=await e(t,n);if("error"in o.data){const i=new QN.RequestError(`${o.data.error_description} (${o.data.error}, ${o.data.error_uri})`,400,{request:e.endpoint.merge(t,n),headers:o.headers});throw i.response=o,i}return o}const rk=["request"];function nk(e){let{request:t=Tn.request}=e,r=Yb(e,rk);const n=Kb(t);return ZN.oauthAuthorizationUrl(ar(ar({},r),{},{baseUrl:n}))}async function ik(e){const t=e.request||Tn.request,r=await ec(t,"POST /login/oauth/access_token",{client_id:e.clientId,client_secret:e.clientSecret,code:e.code,redirect_uri:e.redirectUrl}),n={clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:r.data.access_token,scopes:r.data.scope.split(/\s+/).filter(Boolean)};if(e.clientType==="github-app"){if("refresh_token"in r.data){const o=new Date(r.headers.date).getTime();n.refreshToken=r.data.refresh_token,n.expiresAt=Fg(o,r.data.expires_in),n.refreshTokenExpiresAt=Fg(o,r.data.refresh_token_expires_in)}delete n.scopes}return ar(ar({},r),{},{authentication:n})}function Fg(e,t){return new Date(e+t*1e3).toISOString()}async function ok(e){const t=e.request||Tn.request,r={client_id:e.clientId};return"scopes"in e&&Array.isArray(e.scopes)&&(r.scope=e.scopes.join(" ")),ec(t,"POST /login/device/code",r)}async function ak(e){const t=e.request||Tn.request,r=await ec(t,"POST /login/oauth/access_token",{client_id:e.clientId,device_code:e.code,grant_type:"urn:ietf:params:oauth:grant-type:device_code"}),n={clientType:e.clientType,clientId:e.clientId,token:r.data.access_token,scopes:r.data.scope.split(/\s+/).filter(Boolean)};if("clientSecret"in e&&(n.clientSecret=e.clientSecret),e.clientType==="github-app"){if("refresh_token"in r.data){const o=new Date(r.headers.date).getTime();n.refreshToken=r.data.refresh_token,n.expiresAt=jg(o,r.data.expires_in),n.refreshTokenExpiresAt=jg(o,r.data.refresh_token_expires_in)}delete n.scopes}return ar(ar({},r),{},{authentication:n})}function jg(e,t){return new Date(e+t*1e3).toISOString()}async function sk(e){const r=await(e.request||Tn.request)("POST /applications/{client_id}/token",{headers:{authorization:`basic ${Rs(`${e.clientId}:${e.clientSecret}`)}`},client_id:e.clientId,access_token:e.token}),n={clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:e.token,scopes:r.data.scopes};return r.data.expires_at&&(n.expiresAt=r.data.expires_at),e.clientType==="github-app"&&delete n.scopes,ar(ar({},r),{},{authentication:n})}async function uk(e){const t=e.request||Tn.request,r=await ec(t,"POST /login/oauth/access_token",{client_id:e.clientId,client_secret:e.clientSecret,grant_type:"refresh_token",refresh_token:e.refreshToken}),n=new Date(r.headers.date).getTime(),o={clientType:"github-app",clientId:e.clientId,clientSecret:e.clientSecret,token:r.data.access_token,refreshToken:r.data.refresh_token,expiresAt:zg(n,r.data.expires_in),refreshTokenExpiresAt:zg(n,r.data.refresh_token_expires_in)};return ar(ar({},r),{},{authentication:o})}function zg(e,t){return new Date(e+t*1e3).toISOString()}const lk=["request","clientType","clientId","clientSecret","token"];async function ck(e){const{request:t,clientType:r,clientId:n,clientSecret:o,token:i}=e,h=Yb(e,lk),g=await(t||Tn.request)("POST /applications/{client_id}/token/scoped",ar({headers:{authorization:`basic ${Rs(`${n}:${o}`)}`},client_id:n,access_token:i},h)),p=Object.assign({clientType:r,clientId:n,clientSecret:o,token:g.data.token},g.data.expires_at?{expiresAt:g.data.expires_at}:{});return ar(ar({},g),{},{authentication:p})}async function fk(e){const t=e.request||Tn.request,r=Rs(`${e.clientId}:${e.clientSecret}`),n=await t("PATCH /applications/{client_id}/token",{headers:{authorization:`basic ${r}`},client_id:e.clientId,access_token:e.token}),o={clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:n.data.token,scopes:n.data.scopes};return n.data.expires_at&&(o.expiresAt=n.data.expires_at),e.clientType==="github-app"&&delete o.scopes,ar(ar({},n),{},{authentication:o})}async function dk(e){const t=e.request||Tn.request,r=Rs(`${e.clientId}:${e.clientSecret}`);return t("DELETE /applications/{client_id}/token",{headers:{authorization:`basic ${r}`},client_id:e.clientId,access_token:e.token})}async function hk(e){const t=e.request||Tn.request,r=Rs(`${e.clientId}:${e.clientSecret}`);return t("DELETE /applications/{client_id}/grant",{headers:{authorization:`basic ${r}`},client_id:e.clientId,access_token:e.token})}Mr.VERSION=JN;var pk=Mr.checkToken=sk,_k=Mr.createDeviceCode=ok,mk=Mr.deleteAuthorization=hk,gk=Mr.deleteToken=dk,Ug=Mr.exchangeDeviceCode=ak,vk=Mr.exchangeWebFlowCode=ik;Mr.getWebFlowAuthorizationUrl=nk;var yk=Mr.refreshToken=uk,bk=Mr.resetToken=fk;Mr.scopeToken=ck;async function Zb(e,t){const r=Ek(e,t.auth);if(r)return r;const{data:n}=await _k({clientType:e.clientType,clientId:e.clientId,request:t.request||e.request,scopes:t.auth.scopes||e.scopes});await e.onVerification(n);const o=await gd(t.request||e.request,e.clientId,e.clientType,n);return e.authentication=o,o}function Ek(e,t){if(t.refresh===!0||!e.authentication)return!1;if(e.clientType==="github-app")return e.authentication;const r=e.authentication,n=("scopes"in t&&t.scopes||e.scopes).join(" "),o=r.scopes.join(" ");return n===o?r:!1}async function Gg(e){await new Promise(t=>setTimeout(t,e*1e3))}async function gd(e,t,r,n){try{const o={clientId:t,request:e,code:n.device_code},{authentication:i}=r==="oauth-app"?await Ug(_r(Qe({},o),{clientType:"oauth-app"})):await Ug(_r(Qe({},o),{clientType:"github-app"}));return Qe({type:"token",tokenType:"oauth"},i)}catch(o){if(!o.response)throw o;const i=o.response.data.error;if(i==="authorization_pending")return await Gg(n.interval),gd(e,t,r,n);if(i==="slow_down")return await Gg(n.interval+5),gd(e,t,r,n);throw o}}async function Tk(e,t){return Zb(e,{auth:t})}async function xk(e,t,r,n){let o=t.endpoint.merge(r,n);if(/\/login\/(oauth\/access_token|device\/code)$/.test(o.url))return t(o);const{token:i}=await Zb(e,{request:t,auth:{type:"oauth"}});return o.headers.authorization=`token ${i}`,t(o)}const wk="3.1.2";function Ak(e){const t=e.request||kn.defaults({headers:{"user-agent":`octokit-auth-oauth-device.js/${wk} ${jn()}`}}),i=e,{request:r=t}=i,n=Hi(i,["request"]),o=e.clientType==="github-app"?_r(Qe({},n),{clientType:"github-app",request:r}):_r(Qe({},n),{clientType:"oauth-app",request:r,scopes:e.scopes||[]});if(!e.clientId)throw new Error('[@octokit/auth-oauth-device] "clientId" option must be set (https://github.com/octokit/auth-oauth-device.js#usage)');if(!e.onVerification)throw new Error('[@octokit/auth-oauth-device] "onVerification" option must be a function (https://github.com/octokit/auth-oauth-device.js#usage)');return Object.assign(Tk.bind(null,o),{hook:xk.bind(null,o)})}const Qb="1.3.0";async function Vg(e){if("code"in e.strategyOptions){const{authentication:t}=await vk(_r(Qe({clientId:e.clientId,clientSecret:e.clientSecret,clientType:e.clientType},e.strategyOptions),{request:e.request}));return Qe({type:"token",tokenType:"oauth"},t)}if("onVerification"in e.strategyOptions){const r=await Ak(_r(Qe({clientType:e.clientType,clientId:e.clientId},e.strategyOptions),{request:e.request}))({type:"oauth"});return Qe({clientSecret:e.clientSecret},r)}if("token"in e.strategyOptions)return Qe({type:"token",tokenType:"oauth",clientId:e.clientId,clientSecret:e.clientSecret,clientType:e.clientType},e.strategyOptions);throw new Error("[@octokit/auth-oauth-user] Invalid strategy options")}async function vd(e,t={}){if(e.authentication||(e.authentication=e.clientType==="oauth-app"?await Vg(e):await Vg(e)),e.authentication.invalid)throw new Error("[@octokit/auth-oauth-user] Token is invalid");const r=e.authentication;if("expiresAt"in r&&(t.type==="refresh"||new Date(r.expiresAt)<new Date)){const{authentication:n}=await yk({clientType:"github-app",clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:r.refreshToken,request:e.request});e.authentication=Qe({tokenType:"oauth",type:"token"},n)}if(t.type==="refresh"){if(e.clientType==="oauth-app")throw new Error("[@octokit/auth-oauth-user] OAuth Apps do not support expiring tokens");if(!r.hasOwnProperty("expiresAt"))throw new Error("[@octokit/auth-oauth-user] Refresh token missing")}if(t.type==="check"||t.type==="reset"){const n=t.type==="check"?pk:bk;try{const{authentication:o}=await n({clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:e.authentication.token,request:e.request});return e.authentication=Qe({tokenType:"oauth",type:"token"},o),e.authentication}catch(o){throw o.status===404&&(o.message="[@octokit/auth-oauth-user] Token is invalid",e.authentication.invalid=!0),o}}if(t.type==="delete"||t.type==="deleteAuthorization"){const n=t.type==="delete"?gk:mk;try{await n({clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:e.authentication.token,request:e.request})}catch(o){if(o.status!==404)throw o}return e.authentication.invalid=!0,e.authentication}return e.authentication}const Sk=/\/applications\/[^/]+\/(token|grant)s?/;function tc(e){return e&&Sk.test(e)}async function Pk(e,t,r,n={}){const o=t.endpoint.merge(r,n);if(/\/login\/(oauth\/access_token|device\/code)$/.test(o.url))return t(o);if(tc(o.url)){const h=Jl(`${e.clientId}:${e.clientSecret}`);return o.headers.authorization=`basic ${h}`,t(o)}const{token:i}=e.clientType==="oauth-app"?await vd(_r(Qe({},e),{request:t})):await vd(_r(Qe({},e),{request:t}));return o.headers.authorization="token "+i,t(o)}function jo(i){var h=i,{clientId:e,clientSecret:t,clientType:r="oauth-app",request:n=kn.defaults({headers:{"user-agent":`octokit-auth-oauth-app.js/${Qb} ${jn()}`}})}=h,o=Hi(h,["clientId","clientSecret","clientType","request"]);const g=Object.assign({clientType:r,clientId:e,clientSecret:t,strategyOptions:o,request:n});return Object.assign(vd.bind(null,g),{hook:Pk.bind(null,g)})}jo.VERSION=Qb;var Ok=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",createOAuthUserAuth:jo,requiresBasicAuth:tc});async function Rk(e,t){if(t.type==="oauth-app")return{type:"oauth-app",clientId:e.clientId,clientSecret:e.clientSecret,clientType:e.clientType,headers:{authorization:`basic ${Jl(`${e.clientId}:${e.clientSecret}`)}`}};if("factory"in t){const o=Qe(Qe({},t),e),{type:i}=o,h=Hi(o,["type"]);return t.factory(h)}const r=Qe({clientId:e.clientId,clientSecret:e.clientSecret,request:e.request},t);return(e.clientType==="oauth-app"?await jo(_r(Qe({},r),{clientType:e.clientType})):await jo(_r(Qe({},r),{clientType:e.clientType})))()}async function Lk(e,t,r,n){let o=t.endpoint.merge(r,n);if(/\/login\/(oauth\/access_token|device\/code)$/.test(o.url))return t(o);if(e.clientType==="github-app"&&!tc(o.url))throw new Error(`[@octokit/auth-oauth-app] GitHub Apps cannot use their client ID/secret for basic authentication for endpoints other than "/applications/{client_id}/**". "${o.method} ${o.url}" is not supported.`);const i=Jl(`${e.clientId}:${e.clientSecret}`);o.headers.authorization=`basic ${i}`;try{return await t(o)}catch(h){throw h.status!==401||(h.message=`[@octokit/auth-oauth-app] "${o.method} ${o.url}" does not support clientId/clientSecret basic authentication.`),h}}const Ck="4.3.1";function Jb(e){const t=Object.assign({request:kn.defaults({headers:{"user-agent":`octokit-auth-oauth-app.js/${Ck} ${jn()}`}}),clientType:"oauth-app"},e);return Object.assign(Rk.bind(null,t),{hook:Lk.bind(null,t)})}var Ik=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",createOAuthAppAuth:Jb,createOAuthUserAuth:jo});function e1(e){const t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let n=0,o=e.length;n<o;n++)r[n]=e.charCodeAt(n);return t}function Mk(e){const t=e.trim().split(`
`).slice(1,-1).join(""),r=atob(t);return e1(r)}function Dk(e,t){return`${Hg(e)}.${Hg(t)}`}function Nk(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,o=0;o<n;o++)t+=String.fromCharCode(r[o]);return t1(btoa(t))}function t1(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hg(e){return t1(btoa(JSON.stringify(e)))}const kk=async({privateKey:e,payload:t})=>{if(/BEGIN RSA PRIVATE KEY/.test(e))throw new Error("[universal-github-app-jwt] Private Key is in PKCS#1 format, but only PKCS#8 is supported. See https://github.com/gr2m/universal-github-app-jwt#readme");const r={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},n={alg:"RS256",typ:"JWT"},o=Mk(e),i=await crypto.subtle.importKey("pkcs8",o,r,!1,["sign"]),h=Dk(n,t),g=e1(h),p=await crypto.subtle.sign(r.name,i,g),v=Nk(p);return`${h}.${v}`};async function Bk({id:e,privateKey:t,now:r=Math.floor(Date.now()/1e3)}){const n=r-30,o=n+60*10,h=await kk({privateKey:t,payload:{iat:n,exp:o,iss:e}});return{appId:e,expiration:o,token:h}}var Fk=ot;ot.Node=ki;ot.create=ot;function ot(e){var t=this;if(t instanceof ot||(t=new ot),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(o){t.push(o)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}ot.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};ot.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};ot.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};ot.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)zk(this,arguments[e]);return this.length};ot.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Uk(this,arguments[e]);return this.length};ot.prototype.pop=function(){if(!!this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};ot.prototype.shift=function(){if(!!this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};ot.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};ot.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};ot.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};ot.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};ot.prototype.map=function(e,t){t=t||this;for(var r=new ot,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};ot.prototype.mapReverse=function(e,t){t=t||this;for(var r=new ot,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};ot.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=0;n!==null;o++)r=e(r,n.value,o),n=n.next;return r};ot.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=this.length-1;n!==null;o--)r=e(r,n.value,o),n=n.prev;return r};ot.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};ot.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};ot.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new ot;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,o=this.head;o!==null&&n<e;n++)o=o.next;for(;o!==null&&n<t;n++,o=o.next)r.push(o.value);return r};ot.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new ot;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,o=this.tail;o!==null&&n>t;n--)o=o.prev;for(;o!==null&&n>e;n--,o=o.prev)r.push(o.value);return r};ot.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,o=this.head;o!==null&&n<e;n++)o=o.next;for(var i=[],n=0;o&&n<t;n++)i.push(o.value),o=this.removeNode(o);o===null&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(var n=0;n<r.length;n++)o=jk(this,o,r[n]);return i};ot.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function jk(e,t,r){var n=t===e.head?new ki(r,null,t,e):new ki(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function zk(e,t){e.tail=new ki(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Uk(e,t){e.head=new ki(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function ki(e,t,r,n){if(!(this instanceof ki))return new ki(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{require("./iterator.js")(ot)}catch{}const Gk=Fk,yi=Symbol("max"),On=Symbol("length"),Qi=Symbol("lengthCalculator"),ka=Symbol("allowStale"),wi=Symbol("maxAge"),Sn=Symbol("dispose"),$g=Symbol("noDisposeOnSet"),$t=Symbol("lruList"),Kr=Symbol("cache"),r1=Symbol("updateAgeOnGet"),rf=()=>1;class Vk{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[yi]=t.max||1/0;const r=t.length||rf;if(this[Qi]=typeof r!="function"?rf:r,this[ka]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[wi]=t.maxAge||0,this[Sn]=t.dispose,this[$g]=t.noDisposeOnSet||!1,this[r1]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[yi]=t||1/0,va(this)}get max(){return this[yi]}set allowStale(t){this[ka]=!!t}get allowStale(){return this[ka]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[wi]=t,va(this)}get maxAge(){return this[wi]}set lengthCalculator(t){typeof t!="function"&&(t=rf),t!==this[Qi]&&(this[Qi]=t,this[On]=0,this[$t].forEach(r=>{r.length=this[Qi](r.value,r.key),this[On]+=r.length})),va(this)}get lengthCalculator(){return this[Qi]}get length(){return this[On]}get itemCount(){return this[$t].length}rforEach(t,r){r=r||this;for(let n=this[$t].tail;n!==null;){const o=n.prev;Wg(this,t,n,r),n=o}}forEach(t,r){r=r||this;for(let n=this[$t].head;n!==null;){const o=n.next;Wg(this,t,n,r),n=o}}keys(){return this[$t].toArray().map(t=>t.key)}values(){return this[$t].toArray().map(t=>t.value)}reset(){this[Sn]&&this[$t]&&this[$t].length&&this[$t].forEach(t=>this[Sn](t.key,t.value)),this[Kr]=new Map,this[$t]=new Gk,this[On]=0}dump(){return this[$t].map(t=>tl(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[$t]}set(t,r,n){if(n=n||this[wi],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const o=n?Date.now():0,i=this[Qi](r,t);if(this[Kr].has(t)){if(i>this[yi])return Lo(this,this[Kr].get(t)),!1;const p=this[Kr].get(t).value;return this[Sn]&&(this[$g]||this[Sn](t,p.value)),p.now=o,p.maxAge=n,p.value=r,this[On]+=i-p.length,p.length=i,this.get(t),va(this),!0}const h=new Hk(t,r,i,o,n);return h.length>this[yi]?(this[Sn]&&this[Sn](t,r),!1):(this[On]+=h.length,this[$t].unshift(h),this[Kr].set(t,this[$t].head),va(this),!0)}has(t){if(!this[Kr].has(t))return!1;const r=this[Kr].get(t).value;return!tl(this,r)}get(t){return nf(this,t,!0)}peek(t){return nf(this,t,!1)}pop(){const t=this[$t].tail;return t?(Lo(this,t),t.value):null}del(t){Lo(this,this[Kr].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const o=t[n],i=o.e||0;if(i===0)this.set(o.k,o.v);else{const h=i-r;h>0&&this.set(o.k,o.v,h)}}}prune(){this[Kr].forEach((t,r)=>nf(this,r,!1))}}const nf=(e,t,r)=>{const n=e[Kr].get(t);if(n){const o=n.value;if(tl(e,o)){if(Lo(e,n),!e[ka])return}else r&&(e[r1]&&(n.value.now=Date.now()),e[$t].unshiftNode(n));return o.value}},tl=(e,t)=>{if(!t||!t.maxAge&&!e[wi])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[wi]&&r>e[wi]},va=e=>{if(e[On]>e[yi])for(let t=e[$t].tail;e[On]>e[yi]&&t!==null;){const r=t.prev;Lo(e,t),t=r}},Lo=(e,t)=>{if(t){const r=t.value;e[Sn]&&e[Sn](r.key,r.value),e[On]-=r.length,e[Kr].delete(r.key),e[$t].removeNode(t)}};class Hk{constructor(t,r,n,o,i){this.key=t,this.value=r,this.length=n,this.now=o,this.maxAge=i||0}}const Wg=(e,t,r,n)=>{let o=r.value;tl(e,o)&&(Lo(e,r),e[ka]||(o=void 0)),o&&t.call(n,o.value,o.key,e)};var $k=Vk;async function rl({appId:e,privateKey:t,timeDifference:r}){try{const n=await Bk({id:+e,privateKey:t,now:r&&Math.floor(Date.now()/1e3)+r});return{type:"app",token:n.token,appId:n.appId,expiresAt:new Date(n.expiration*1e3).toISOString()}}catch(n){throw t==="-----BEGIN RSA PRIVATE KEY-----"?new Error("The 'privateKey` option contains only the first line '-----BEGIN RSA PRIVATE KEY-----'. If you are setting it using a `.env` file, make sure it is set on a single line with newlines replaced by '\n'"):n}}function Wk(){return new $k({max:15e3,maxAge:1e3*60*59})}async function qk(e,t){const r=n1(t),n=await e.get(r);if(!n)return;const[o,i,h,g,p,v]=n.split("|"),d=t.permissions||p.split(/,/).reduce((c,a)=>(/!$/.test(a)?c[a.slice(0,-1)]="write":c[a]="read",c),{});return{token:o,createdAt:i,expiresAt:h,permissions:d,repositoryIds:t.repositoryIds,repositoryNames:t.repositoryNames,singleFileName:v,repositorySelection:g}}async function Xk(e,t,r){const n=n1(t),o=t.permissions?"":Object.keys(r.permissions).map(h=>`${h}${r.permissions[h]==="write"?"!":""}`).join(","),i=[r.token,r.createdAt,r.expiresAt,r.repositorySelection,o,r.singleFileName].join("|");await e.set(n,i)}function n1({installationId:e,permissions:t={},repositoryIds:r=[],repositoryNames:n=[]}){const o=Object.keys(t).sort().map(g=>t[g]==="read"?g:`${g}!`).join(","),i=r.sort().join(","),h=n.join(",");return[e,i,h,o].filter(Boolean).join("|")}function qg({installationId:e,token:t,createdAt:r,expiresAt:n,repositorySelection:o,permissions:i,repositoryIds:h,repositoryNames:g,singleFileName:p}){return Object.assign({type:"token",tokenType:"installation",token:t,installationId:e,permissions:i,createdAt:r,expiresAt:n,repositorySelection:o},h?{repositoryIds:h}:null,g?{repositoryNames:g}:null,p?{singleFileName:p}:null)}async function i1(e,t,r){const n=Number(t.installationId||e.installationId);if(!n)throw new Error("[@octokit/auth-app] installationId option is required for installation authentication.");if(t.factory){const y=Qe(Qe({},e),t),{type:b,factory:E,oauthApp:x}=y,w=Hi(y,["type","factory","oauthApp"]);return E(w)}const o=Object.assign({installationId:n},t);if(!t.refresh){const b=await qk(e.cache,o);if(b){const{token:E,createdAt:x,expiresAt:w,permissions:S,repositoryIds:P,repositoryNames:A,singleFileName:L,repositorySelection:k}=b;return qg({installationId:n,token:E,createdAt:x,expiresAt:w,permissions:S,repositorySelection:k,repositoryIds:P,repositoryNames:A,singleFileName:L})}}const i=await rl(e),h=r||e.request,{data:{token:g,expires_at:p,repositories:v,permissions:d,repository_selection:c,single_file:a}}=await h("POST /app/installations/{installation_id}/access_tokens",{installation_id:n,repository_ids:t.repositoryIds,repositories:t.repositoryNames,permissions:t.permissions,mediaType:{previews:["machine-man"]},headers:{authorization:`bearer ${i.token}`}}),l=d||{},s=c||"all",u=v?v.map(b=>b.id):void 0,f=v?v.map(b=>b.name):void 0,m=new Date().toISOString();return await Xk(e.cache,o,{token:g,createdAt:m,expiresAt:p,repositorySelection:s,permissions:l,repositoryIds:u,repositoryNames:f,singleFileName:a}),qg({installationId:n,token:g,createdAt:m,expiresAt:p,repositorySelection:s,permissions:l,repositoryIds:u,repositoryNames:f,singleFileName:a})}async function Yk(e,t){switch(t.type){case"app":return rl(e);case"oauth":e.log.warn(new _d('[@octokit/auth-app] {type: "oauth"} is deprecated. Use {type: "oauth-app"} instead'));case"oauth-app":return e.oauthApp({type:"oauth-app"});case"installation":return i1(e,_r(Qe({},t),{type:"installation"}));case"oauth-user":return e.oauthApp(t);default:throw new Error(`Invalid auth type: ${t.type}`)}}const Kk=["/app","/app/hook/config","/app/hook/deliveries","/app/hook/deliveries/{delivery_id}","/app/hook/deliveries/{delivery_id}/attempts","/app/installations","/app/installations/{installation_id}","/app/installations/{installation_id}/access_tokens","/app/installations/{installation_id}/suspended","/marketplace_listing/accounts/{account_id}","/marketplace_listing/plan","/marketplace_listing/plans","/marketplace_listing/plans/{plan_id}/accounts","/marketplace_listing/stubbed/accounts/{account_id}","/marketplace_listing/stubbed/plan","/marketplace_listing/stubbed/plans","/marketplace_listing/stubbed/plans/{plan_id}/accounts","/orgs/{org}/installation","/repos/{owner}/{repo}/installation","/users/{username}/installation"];function Zk(e){const r=`^(?:${e.map(n=>n.split("/").map(o=>o.startsWith("{")?"(?:.+?)":o).join("/")).map(n=>`(?:${n})`).join("|")})[^/]*$`;return new RegExp(r,"i")}const Qk=Zk(Kk);function Jk(e){return!!e&&Qk.test(e)}const e3=5*1e3;function t3(e){return!(e.message.match(/'Expiration time' claim \('exp'\) must be a numeric value representing the future time at which the assertion expires/)||e.message.match(/'Issued at' claim \('iat'\) must be an Integer representing the time that the assertion was issued/))}async function r3(e,t,r,n){const o=t.endpoint.merge(r,n),i=o.url;if(/\/login\/oauth\/access_token$/.test(i))return t(o);if(Jk(i.replace(t.endpoint.DEFAULTS.baseUrl,""))){const{token:p}=await rl(e);o.headers.authorization=`bearer ${p}`;let v;try{v=await t(o)}catch(d){if(t3(d)||typeof d.response.headers.date=="undefined")throw d;const c=Math.floor((Date.parse(d.response.headers.date)-Date.parse(new Date().toString()))/1e3);e.log.warn(d.message),e.log.warn(`[@octokit/auth-app] GitHub API time and system time are different by ${c} seconds. Retrying request with the difference accounted for.`);const{token:a}=await rl(_r(Qe({},e),{timeDifference:c}));return o.headers.authorization=`bearer ${a}`,t(o)}return v}if(tc(i)){const p=await e.oauthApp({type:"oauth-app"});return o.headers.authorization=p.headers.authorization,t(o)}const{token:h,createdAt:g}=await i1(e,{},t);return o.headers.authorization=`token ${h}`,o1(e,t,o,g)}async function o1(e,t,r,n,o=0){const i=+new Date-+new Date(n);try{return await t(r)}catch(h){if(h.status!==401)throw h;if(i>=e3)throw o>0&&(h.message=`After ${o} retries within ${i/1e3}s of creating the installation access token, the response remains 401. At this point, the cause may be an authentication problem or a system outage. Please check https://www.githubstatus.com for status information`),h;++o;const g=o*1e3;return e.log.warn(`[@octokit/auth-app] Retrying after 401 response to account for token replication delay (retry: ${o}, wait: ${g/1e3}s)`),await new Promise(p=>setTimeout(p,g)),o1(e,t,r,n,o)}}const n3="3.6.1";function i3(e){if(!e.appId)throw new Error("[@octokit/auth-app] appId option is required");if(!e.privateKey)throw new Error("[@octokit/auth-app] privateKey option is required");if("installationId"in e&&!e.installationId)throw new Error("[@octokit/auth-app] installationId is set to a falsy value");const t=Object.assign({warn:console.warn.bind(console)},e.log),r=e.request||kn.defaults({headers:{"user-agent":`octokit-auth-app.js/${n3} ${jn()}`}}),n=Object.assign({request:r,cache:Wk()},e,e.installationId?{installationId:Number(e.installationId)}:{},{log:t,oauthApp:Jb({clientType:"github-app",clientId:e.clientId||"",clientSecret:e.clientSecret||"",request:r})});return Object.assign(Yk.bind(null,n),{hook:r3.bind(null,n)})}var o3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",createAppAuth:i3,createOAuthUserAuth:jo}),a3=dr(o3),Ko={},s3=dr(Ik),u3=dr(TD),l3=dr(Ok);async function c3(e){return{type:"unauthenticated",reason:e}}function f3(e){return e.status!==403||!e.response?!1:e.response.headers["x-ratelimit-remaining"]==="0"}const d3=/\babuse\b/i;function h3(e){return e.status!==403?!1:d3.test(e.message)}async function p3(e,t,r,n){const o=t.endpoint.merge(r,n);return t(o).catch(i=>{throw i.status===404?(i.message=`Not found. May be due to lack of authentication. Reason: ${e}`,i):f3(i)?(i.message=`API rate limit exceeded. This maybe caused by the lack of authentication. Reason: ${e}`,i):h3(i)?(i.message=`You have triggered an abuse detection mechanism. This maybe caused by the lack of authentication. Reason: ${e}`,i):i.status===401?(i.message=`Unauthorized. "${o.method} ${o.url}" failed most likely due to lack of authentication. Reason: ${e}`,i):(i.status>=400&&i.status<500&&(i.message=i.message.replace(/\.?$/,`. May be caused by lack of authentication (${e}).`)),i)})}const _3=function(t){if(!t||!t.reason)throw new Error("[@octokit/auth-unauthenticated] No reason passed to createUnauthenticatedAuth");return Object.assign(c3.bind(null,t.reason),{hook:p3.bind(null,t.reason)})};var m3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",createUnauthenticatedAuth:_3}),a1=dr(m3);/*! fromentries. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var g3=function(t){return[...t].reduce((r,[n,o])=>(r[n]=o,r),{})};Object.defineProperty(Ko,"__esModule",{value:!0});function v3(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var s1=s3,y3=Xb,b3=u3,ss=l3,En=Mr,yd=a1,E3=v3(g3);function Xg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xg(Object(r),!0).forEach(function(n){T3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T3(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const u1="3.6.3";function l1(e,t,r){if(Array.isArray(t)){for(const n of t)l1(e,n,r);return}e.eventHandlers[t]||(e.eventHandlers[t]=[]),e.eventHandlers[t].push(r)}const x3=y3.Octokit.defaults({userAgent:`octokit-oauth-app.js/${u1} ${b3.getUserAgent()}`});async function Bn(e,t){const{name:r,action:n}=t;if(e.eventHandlers[`${r}.${n}`])for(const o of e.eventHandlers[`${r}.${n}`])await o(t);if(e.eventHandlers[r])for(const o of e.eventHandlers[r])await o(t)}async function w3(e,t){return e.octokit.auth(ht(ht({type:"oauth-user"},t),{},{async factory(r){const n=new e.Octokit({authStrategy:ss.createOAuthUserAuth,auth:r}),o=await n.auth({type:"get"});return await Bn(e,{name:"token",action:"created",token:o.token,scopes:o.scopes,authentication:o,octokit:n}),n}}))}function A3(e,t){const r=ht(ht({clientId:e.clientId,request:e.octokit.request},t),{},{allowSignup:t.allowSignup||e.allowSignup,scopes:t.scopes||e.defaultScopes});return En.getWebFlowAuthorizationUrl(ht({clientType:e.clientType},r))}async function S3(e,t){const r=await e.octokit.auth(ht({type:"oauth-user"},t));return await Bn(e,{name:"token",action:"created",token:r.token,scopes:r.scopes,authentication:r,octokit:new e.Octokit({authStrategy:s1.createOAuthUserAuth,auth:{clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:r.token,scopes:r.scopes,refreshToken:r.refreshToken,expiresAt:r.expiresAt,refreshTokenExpiresAt:r.refreshTokenExpiresAt}})}),{authentication:r}}async function P3(e,t){const r=await En.checkToken(ht({clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,request:e.octokit.request},t));return Object.assign(r.authentication,{type:"token",tokenType:"oauth"}),r}async function O3(e,t){const r=ht({clientId:e.clientId,clientSecret:e.clientSecret,request:e.octokit.request},t);if(e.clientType==="oauth-app"){const i=await En.resetToken(ht({clientType:"oauth-app"},r)),h=Object.assign(i.authentication,{type:"token",tokenType:"oauth"});return await Bn(e,{name:"token",action:"reset",token:i.authentication.token,scopes:i.authentication.scopes||void 0,authentication:h,octokit:new e.Octokit({authStrategy:ss.createOAuthUserAuth,auth:{clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:i.authentication.token,scopes:i.authentication.scopes}})}),ht(ht({},i),{},{authentication:h})}const n=await En.resetToken(ht({clientType:"github-app"},r)),o=Object.assign(n.authentication,{type:"token",tokenType:"oauth"});return await Bn(e,{name:"token",action:"reset",token:n.authentication.token,authentication:o,octokit:new e.Octokit({authStrategy:ss.createOAuthUserAuth,auth:{clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:n.authentication.token}})}),ht(ht({},n),{},{authentication:o})}async function R3(e,t){if(e.clientType==="oauth-app")throw new Error("[@octokit/oauth-app] app.refreshToken() is not supported for OAuth Apps");const r=await En.refreshToken({clientType:"github-app",clientId:e.clientId,clientSecret:e.clientSecret,request:e.octokit.request,refreshToken:t.refreshToken}),n=Object.assign(r.authentication,{type:"token",tokenType:"oauth"});return await Bn(e,{name:"token",action:"refreshed",token:r.authentication.token,authentication:n,octokit:new e.Octokit({authStrategy:ss.createOAuthUserAuth,auth:{clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:r.authentication.token}})}),ht(ht({},r),{},{authentication:n})}async function L3(e,t){if(e.clientType==="oauth-app")throw new Error("[@octokit/oauth-app] app.scopeToken() is not supported for OAuth Apps");const r=await En.scopeToken(ht({clientType:"github-app",clientId:e.clientId,clientSecret:e.clientSecret,request:e.octokit.request},t)),n=Object.assign(r.authentication,{type:"token",tokenType:"oauth"});return await Bn(e,{name:"token",action:"scoped",token:r.authentication.token,authentication:n,octokit:new e.Octokit({authStrategy:ss.createOAuthUserAuth,auth:{clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:r.authentication.token}})}),ht(ht({},r),{},{authentication:n})}async function C3(e,t){const r=ht({clientId:e.clientId,clientSecret:e.clientSecret,request:e.octokit.request},t),n=e.clientType==="oauth-app"?await En.deleteToken(ht({clientType:"oauth-app"},r)):await En.deleteToken(ht({clientType:"github-app"},r));return await Bn(e,{name:"token",action:"deleted",token:t.token,octokit:new e.Octokit({authStrategy:yd.createUnauthenticatedAuth,auth:{reason:'Handling "token.deleted" event. The access for the token has been revoked.'}})}),n}async function I3(e,t){const r=ht({clientId:e.clientId,clientSecret:e.clientSecret,request:e.octokit.request},t),n=e.clientType==="oauth-app"?await En.deleteAuthorization(ht({clientType:"oauth-app"},r)):await En.deleteAuthorization(ht({clientType:"github-app"},r));return await Bn(e,{name:"token",action:"deleted",token:t.token,octokit:new e.Octokit({authStrategy:yd.createUnauthenticatedAuth,auth:{reason:'Handling "token.deleted" event. The access for the token has been revoked.'}})}),await Bn(e,{name:"authorization",action:"deleted",token:t.token,octokit:new e.Octokit({authStrategy:yd.createUnauthenticatedAuth,auth:{reason:'Handling "authorization.deleted" event. The access for the app has been revoked.'}})}),n}function c1(e){const{method:t,url:r,headers:n}=e;async function o(){return await new Promise((h,g)=>{let p=[];e.on("error",g).on("data",v=>p.push(v)).on("end",()=>h(Buffer.concat(p).toString()))})}return{method:t,url:r,headers:n,text:o}}function f1(e,t){t.writeHead(e.status,e.headers),t.end(e.text)}function Qh(e){return{status:404,headers:{"content-type":"application/json"},text:JSON.stringify({error:`Unknown route: ${e.method} ${e.url}`})}}async function Jh(e,{pathPrefix:t="/api/github/oauth"},r){if(r.method==="OPTIONS")return{status:200,headers:{"access-control-allow-origin":"*","access-control-allow-methods":"*","access-control-allow-headers":"Content-Type, User-Agent, Authorization"}};const{pathname:n}=new URL(r.url,"http://localhost"),o=[r.method,n].join(" "),i={getLogin:`GET ${t}/login`,getCallback:`GET ${t}/callback`,createToken:`POST ${t}/token`,getToken:`GET ${t}/token`,patchToken:`PATCH ${t}/token`,patchRefreshToken:`PATCH ${t}/refresh-token`,scopeToken:`POST ${t}/token/scoped`,deleteToken:`DELETE ${t}/token`,deleteGrant:`DELETE ${t}/grant`};if(!Object.values(i).includes(o))return null;let h;try{const f=await r.text();h=f?JSON.parse(f):{}}catch{return{status:400,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify({error:"[@octokit/oauth-app] request error"})}}const{searchParams:g}=new URL(r.url,"http://localhost"),p=E3(g),v=r.headers;try{var d;if(o===i.getLogin){const{url:m}=e.getWebFlowAuthorizationUrl({state:p.state,scopes:p.scopes?p.scopes.split(","):void 0,allowSignup:p.allowSignup!=="false",redirectUrl:p.redirectUrl});return{status:302,headers:{location:m}}}if(o===i.getCallback){if(p.error)throw new Error(`[@octokit/oauth-app] ${p.error} ${p.error_description}`);if(!p.code)throw new Error('[@octokit/oauth-app] "code" parameter is required');const{authentication:{token:m}}=await e.createToken({code:p.code});return{status:200,headers:{"content-type":"text/html"},text:`<h1>Token created successfull</h1>
    
<p>Your token is: <strong>${m}</strong>. Copy it now as it cannot be shown again.</p>`}}if(o===i.createToken){const{code:m,redirectUrl:y}=h;if(!m)throw new Error('[@octokit/oauth-app] "code" parameter is required');const b=await e.createToken({code:m,redirectUrl:y});return delete b.authentication.clientSecret,{status:201,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(b)}}if(o===i.getToken){var c;const m=(c=v.authorization)===null||c===void 0?void 0:c.substr(6);if(!m)throw new Error('[@octokit/oauth-app] "Authorization" header is required');const y=await e.checkToken({token:m});return delete y.authentication.clientSecret,{status:200,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(y)}}if(o===i.patchToken){var a;const m=(a=v.authorization)===null||a===void 0?void 0:a.substr(6);if(!m)throw new Error('[@octokit/oauth-app] "Authorization" header is required');const y=await e.resetToken({token:m});return delete y.authentication.clientSecret,{status:200,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(y)}}if(o===i.patchRefreshToken){var l;if(!((l=v.authorization)===null||l===void 0?void 0:l.substr(6)))throw new Error('[@octokit/oauth-app] "Authorization" header is required');const{refreshToken:y}=h;if(!y)throw new Error("[@octokit/oauth-app] refreshToken must be sent in request body");const b=await e.refreshToken({refreshToken:y});return delete b.authentication.clientSecret,{status:200,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(b)}}if(o===i.scopeToken){var s;const m=(s=v.authorization)===null||s===void 0?void 0:s.substr(6);if(!m)throw new Error('[@octokit/oauth-app] "Authorization" header is required');const y=await e.scopeToken(ht({token:m},h));return delete y.authentication.clientSecret,{status:200,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(y)}}if(o===i.deleteToken){var u;const m=(u=v.authorization)===null||u===void 0?void 0:u.substr(6);if(!m)throw new Error('[@octokit/oauth-app] "Authorization" header is required');return await e.deleteToken({token:m}),{status:204,headers:{"access-control-allow-origin":"*"}}}const f=(d=v.authorization)===null||d===void 0?void 0:d.substr(6);if(!f)throw new Error('[@octokit/oauth-app] "Authorization" header is required');return await e.deleteAuthorization({token:f}),{status:204,headers:{"access-control-allow-origin":"*"}}}catch(f){return{status:400,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify({error:f.message})}}}function M3(e,t){const r=c1(e),n=Qh(r);f1(n,t)}function D3(e,{pathPrefix:t,onUnhandledRequest:r=M3}={}){return async function(n,o,i){const h=c1(n),g=await Jh(e,{pathPrefix:t},h);g?f1(g,o):typeof i=="function"?i():r(n,o)}}function d1(e){const t=Object.fromEntries(e.headers.entries());return{method:e.method,url:e.url,headers:t,text:()=>e.text()}}function h1(e){return new Response(e.text,{status:e.status,headers:e.headers})}async function N3(e){const t=d1(e),r=Qh(t);return h1(r)}function k3(e,{pathPrefix:t,onUnhandledRequest:r=N3}={}){return async function(n){const o=d1(n),i=await Jh(e,{pathPrefix:t},o);return i?h1(i):await r(n)}}function p1(e){const{method:t}=e.requestContext.http;let r=e.rawPath;const{stage:n}=e.requestContext;r.startsWith("/"+n)&&(r=r.substring(n.length+1)),e.rawQueryString&&(r+="?"+e.rawQueryString);const o=e.headers;return{method:t,url:r,headers:o,text:async()=>e.body||""}}function _1(e){return{statusCode:e.status,headers:e.headers,body:e.text}}async function B3(e){const t=p1(e),r=Qh(t);return _1(r)}function F3(e,{pathPrefix:t,onUnhandledRequest:r=B3}={}){return async function(n){const o=p1(n),i=await Jh(e,{pathPrefix:t},o);return i?_1(i):r(n)}}class m1{constructor(t){const r=t.Octokit||x3;this.type=t.clientType||"oauth-app";const n=new r({authStrategy:s1.createOAuthAppAuth,auth:{clientType:this.type,clientId:t.clientId,clientSecret:t.clientSecret}}),o={clientType:this.type,clientId:t.clientId,clientSecret:t.clientSecret,defaultScopes:t.defaultScopes||[],allowSignup:t.allowSignup,baseUrl:t.baseUrl,log:t.log,Octokit:r,octokit:n,eventHandlers:{}};this.on=l1.bind(null,o),this.octokit=n,this.getUserOctokit=w3.bind(null,o),this.getWebFlowAuthorizationUrl=A3.bind(null,o),this.createToken=S3.bind(null,o),this.checkToken=P3.bind(null,o),this.resetToken=O3.bind(null,o),this.refreshToken=R3.bind(null,o),this.scopeToken=L3.bind(null,o),this.deleteToken=C3.bind(null,o),this.deleteAuthorization=I3.bind(null,o)}static defaults(t){return class extends this{constructor(...n){super(ht(ht({},t),n[0]))}}}}m1.VERSION=u1;var j3=Ko.OAuthApp=m1;Ko.createAWSLambdaAPIGatewayV2Handler=F3;Ko.createCloudflareHandler=k3;Ko.createNodeMiddleware=D3;var z3=(e,t=1,r)=>{if(r=Qe({indent:" ",includeEmptyLines:!1},r),typeof e!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if(typeof t!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if(typeof r.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(t===0)return e;const n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))},U3={},G3=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:U3}),V3=dr(G3);const Yg=V3,Kg=/\s+at.*(?:\(|\s)(.*)\)?/,H3=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,$3=typeof Yg.homedir=="undefined"?"":Yg.homedir();var W3=(e,t)=>(t=Object.assign({pretty:!1},t),e.replace(/\\/g,"/").split(`
`).filter(r=>{const n=r.match(Kg);if(n===null||!n[1])return!0;const o=n[1];return o.includes(".app/Contents/Resources/electron.asar")||o.includes(".app/Contents/Resources/default_app.asar")?!1:!H3.test(o)}).filter(r=>r.trim()!=="").map(r=>t.pretty?r.replace(Kg,(n,o)=>n.replace(o,o.replace($3,"~"))):r).join(`
`));const q3=z3,X3=W3,Y3=e=>e.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,"");class K3 extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError(`Expected input to be an Array, got ${typeof t}`);t=[...t].map(n=>n instanceof Error?n:n!==null&&typeof n=="object"?Object.assign(new Error(n.message),n):new Error(n));let r=t.map(n=>typeof n.stack=="string"?Y3(X3(n.stack)):String(n)).join(`
`);r=`
`+q3(r,4);super(r);this.name="AggregateError",Object.defineProperty(this,"_errors",{value:t})}*[Symbol.iterator](){for(const t of this._errors)yield t}}var bo=K3;const ep=new TextEncoder;async function Z3(e,t){const r=await crypto.subtle.sign("HMAC",await v1(e),ep.encode(t));return J3(r)}async function g1(e,t,r){return await crypto.subtle.verify("HMAC",await v1(e),Q3(r),ep.encode(t))}function Q3(e){const r=e.match(/[\dA-F]{2}/gi).map(function(n){return parseInt(n,16)});return new Uint8Array(r)}function J3(e){return Array.prototype.map.call(new Uint8Array(e),t=>t.toString(16).padStart(2,"0")).join("")}async function v1(e){return crypto.subtle.importKey("raw",ep.encode(e),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"])}const tp=e=>Qe({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e),y1=["branch_protection_rule","branch_protection_rule.created","branch_protection_rule.deleted","branch_protection_rule.edited","check_run","check_run.completed","check_run.created","check_run.requested_action","check_run.rerequested","check_suite","check_suite.completed","check_suite.requested","check_suite.rerequested","code_scanning_alert","code_scanning_alert.appeared_in_branch","code_scanning_alert.closed_by_user","code_scanning_alert.created","code_scanning_alert.fixed","code_scanning_alert.reopened","code_scanning_alert.reopened_by_user","commit_comment","commit_comment.created","create","delete","deploy_key","deploy_key.created","deploy_key.deleted","deployment","deployment.created","deployment_status","deployment_status.created","discussion","discussion.answered","discussion.category_changed","discussion.created","discussion.deleted","discussion.edited","discussion.labeled","discussion.locked","discussion.pinned","discussion.transferred","discussion.unanswered","discussion.unlabeled","discussion.unlocked","discussion.unpinned","discussion_comment","discussion_comment.created","discussion_comment.deleted","discussion_comment.edited","fork","github_app_authorization","github_app_authorization.revoked","gollum","installation","installation.created","installation.deleted","installation.new_permissions_accepted","installation.suspend","installation.unsuspend","installation_repositories","installation_repositories.added","installation_repositories.removed","issue_comment","issue_comment.created","issue_comment.deleted","issue_comment.edited","issues","issues.assigned","issues.closed","issues.deleted","issues.demilestoned","issues.edited","issues.labeled","issues.locked","issues.milestoned","issues.opened","issues.pinned","issues.reopened","issues.transferred","issues.unassigned","issues.unlabeled","issues.unlocked","issues.unpinned","label","label.created","label.deleted","label.edited","marketplace_purchase","marketplace_purchase.cancelled","marketplace_purchase.changed","marketplace_purchase.pending_change","marketplace_purchase.pending_change_cancelled","marketplace_purchase.purchased","member","member.added","member.edited","member.removed","membership","membership.added","membership.removed","meta","meta.deleted","milestone","milestone.closed","milestone.created","milestone.deleted","milestone.edited","milestone.opened","org_block","org_block.blocked","org_block.unblocked","organization","organization.deleted","organization.member_added","organization.member_invited","organization.member_removed","organization.renamed","package","package.published","package.updated","page_build","ping","project","project.closed","project.created","project.deleted","project.edited","project.reopened","project_card","project_card.converted","project_card.created","project_card.deleted","project_card.edited","project_card.moved","project_column","project_column.created","project_column.deleted","project_column.edited","project_column.moved","projects_v2_item","projects_v2_item.archived","projects_v2_item.converted","projects_v2_item.created","projects_v2_item.deleted","projects_v2_item.edited","projects_v2_item.reordered","projects_v2_item.restored","public","pull_request","pull_request.assigned","pull_request.auto_merge_disabled","pull_request.auto_merge_enabled","pull_request.closed","pull_request.converted_to_draft","pull_request.edited","pull_request.labeled","pull_request.locked","pull_request.opened","pull_request.ready_for_review","pull_request.reopened","pull_request.review_request_removed","pull_request.review_requested","pull_request.synchronize","pull_request.unassigned","pull_request.unlabeled","pull_request.unlocked","pull_request_review","pull_request_review.dismissed","pull_request_review.edited","pull_request_review.submitted","pull_request_review_comment","pull_request_review_comment.created","pull_request_review_comment.deleted","pull_request_review_comment.edited","pull_request_review_thread","pull_request_review_thread.resolved","pull_request_review_thread.unresolved","push","release","release.created","release.deleted","release.edited","release.prereleased","release.published","release.released","release.unpublished","repository","repository.archived","repository.created","repository.deleted","repository.edited","repository.privatized","repository.publicized","repository.renamed","repository.transferred","repository.unarchived","repository_dispatch","repository_import","repository_vulnerability_alert","repository_vulnerability_alert.create","repository_vulnerability_alert.dismiss","repository_vulnerability_alert.reopen","repository_vulnerability_alert.resolve","secret_scanning_alert","secret_scanning_alert.created","secret_scanning_alert.reopened","secret_scanning_alert.resolved","security_advisory","security_advisory.performed","security_advisory.published","security_advisory.updated","security_advisory.withdrawn","sponsorship","sponsorship.cancelled","sponsorship.created","sponsorship.edited","sponsorship.pending_cancellation","sponsorship.pending_tier_change","sponsorship.tier_changed","star","star.created","star.deleted","status","team","team.added_to_repository","team.created","team.deleted","team.edited","team.removed_from_repository","team_add","watch","watch.started","workflow_dispatch","workflow_job","workflow_job.completed","workflow_job.in_progress","workflow_job.queued","workflow_run","workflow_run.completed","workflow_run.requested"];function rp(e,t,r){e.hooks[t]||(e.hooks[t]=[]),e.hooks[t].push(r)}function b1(e,t,r){if(Array.isArray(t)){t.forEach(n=>b1(e,n,r));return}if(["*","error"].includes(t)){const n=t==="*"?"any":t,o=`Using the "${t}" event with the regular Webhooks.on() function is not supported. Please use the Webhooks.on${n.charAt(0).toUpperCase()+n.slice(1)}() method instead`;throw new Error(o)}y1.includes(t)||e.log.warn(`"${t}" is not a known webhook name (https://developer.github.com/v3/activity/events/types/)`),rp(e,t,r)}function eB(e,t){rp(e,"*",t)}function tB(e,t){rp(e,"error",t)}function Zg(e,t){let r;try{r=e(t)}catch(n){console.log('FATAL: Error occurred in "error" event handler'),console.log(n)}r&&r.catch&&r.catch(n=>{console.log('FATAL: Error occurred in "error" event handler'),console.log(n)})}function rB(e,t,r){const n=[e.hooks[r],e.hooks["*"]];return t&&n.unshift(e.hooks[`${r}.${t}`]),[].concat(...n.filter(Boolean))}function nB(e,t){const r=e.hooks.error||[];if(t instanceof Error){const h=Object.assign(new bo([t]),{event:t,errors:[t]});return r.forEach(g=>Zg(g,h)),Promise.reject(h)}if(!t||!t.name)throw new bo(["Event name not passed"]);if(!t.payload)throw new bo(["Event payload not passed"]);const n=rB(e,"action"in t.payload?t.payload.action:null,t.name);if(n.length===0)return Promise.resolve();const o=[],i=n.map(h=>{let g=Promise.resolve(t);return e.transform&&(g=g.then(e.transform)),g.then(p=>h(p)).catch(p=>o.push(Object.assign(p,{event:t})))});return Promise.all(i).then(()=>{if(o.length===0)return;const h=new bo(o);throw Object.assign(h,{event:t,errors:o}),r.forEach(g=>Zg(g,h)),h})}function E1(e,t,r){if(Array.isArray(t)){t.forEach(n=>E1(e,n,r));return}if(!!e.hooks[t]){for(let n=e.hooks[t].length-1;n>=0;n--)if(e.hooks[t][n]===r){e.hooks[t].splice(n,1);return}}}function T1(e){const t={hooks:{},log:tp(e&&e.log)};return e&&e.transform&&(t.transform=e.transform),{on:b1.bind(null,t),onAny:eB.bind(null,t),onError:tB.bind(null,t),removeListener:E1.bind(null,t),receive:nB.bind(null,t)}}function np(e){return JSON.stringify(e).replace(/[^\\]\\u[\da-f]{4}/g,r=>r.substr(0,3)+r.substr(3).toUpperCase())}async function iB(e,t){return Z3(e,typeof t=="string"?t:np(t))}async function oB(e,t,r){return g1(e,typeof t=="string"?t:np(t),r)}async function aB(e,t){if(!await g1(e.secret,typeof t.payload=="object"?np(t.payload):t.payload,t.signature)){const n=new Error("[@octokit/webhooks] signature does not match event payload and secret");return e.eventHandler.receive(Object.assign(n,{event:t,status:400}))}return e.eventHandler.receive({id:t.id,name:t.name,payload:typeof t.payload=="string"?JSON.parse(t.payload):t.payload})}const sB=["x-github-event","x-hub-signature-256","x-github-delivery"];function uB(e){return sB.filter(t=>!(t in e.headers))}function lB(e){return e.body?Promise.resolve(e.body):new Promise((t,r)=>{let n="";e.setEncoding("utf8"),e.on("error",o=>r(new bo([o]))),e.on("data",o=>n+=o),e.on("end",()=>{try{t(JSON.parse(n))}catch(o){o.message="Invalid JSON",o.status=400,r(new bo([o]))}})})}async function cB(e,t,r,n,o){let i;try{i=new URL(r.url,"http://localhost").pathname}catch{n.writeHead(422,{"content-type":"application/json"}),n.end(JSON.stringify({error:`Request URL could not be parsed: ${r.url}`}));return}const h=r.method!=="POST"||i!==t.path,g=typeof o=="function";if(h)return g?o():t.onUnhandledRequest(r,n);const p=uB(r).join(", ");if(p){n.writeHead(400,{"content-type":"application/json"}),n.end(JSON.stringify({error:`Required headers missing: ${p}`}));return}const v=r.headers["x-github-event"],d=r.headers["x-hub-signature-256"],c=r.headers["x-github-delivery"];t.log.debug(`${v} event received (id: ${c})`);let a=!1;const l=setTimeout(()=>{a=!0,n.statusCode=202,n.end(`still processing
`)},9e3).unref();try{const s=await lB(r);if(await e.verifyAndReceive({id:c,name:v,payload:s,signature:d}),clearTimeout(l),a)return;n.end(`ok
`)}catch(s){if(clearTimeout(l),a)return;const u=Array.from(s)[0].status;n.statusCode=typeof u!="undefined"?u:500,n.end(String(s))}}function fB(e,t){t.writeHead(404,{"content-type":"application/json"}),t.end(JSON.stringify({error:`Unknown route: ${e.method} ${e.url}`}))}function dB(e,{path:t="/api/github/webhooks",onUnhandledRequest:r=fB,log:n=tp()}={}){return cB.bind(null,e,{path:t,onUnhandledRequest:r,log:n})}class hB{constructor(t){if(!t||!t.secret)throw new Error("[@octokit/webhooks] options.secret required");const r={eventHandler:T1(t),secret:t.secret,hooks:{},log:tp(t.log)};this.sign=iB.bind(null,t.secret),this.verify=oB.bind(null,t.secret),this.on=r.eventHandler.on,this.onAny=r.eventHandler.onAny,this.onError=r.eventHandler.onError,this.removeListener=r.eventHandler.removeListener,this.receive=r.eventHandler.receive,this.verifyAndReceive=aB.bind(null,r)}}var pB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Webhooks:hB,createEventHandler:T1,createNodeMiddleware:dB,emitterEventNames:y1}),_B=dr(pB),mB=dr(LN);Object.defineProperty(Zh,"__esModule",{value:!0});var gB=Xb,ip=a3,x1=Ko,vB=a1,w1=_B,A1=mB;function Qg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qg(Object(r),!0).forEach(function(n){yB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bd(e){var t;if(typeof Symbol!="undefined"&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),t==null&&Symbol.iterator&&(t=e[Symbol.iterator])),t==null&&(t=e["@@asyncIterator"]),t==null&&(t=e["@@iterator"]),t==null)throw new TypeError("Object is not async iterable");return t.call(e)}function S1(e){this.wrapped=e}function Ls(e){var t,r;function n(h,g){return new Promise(function(p,v){var d={key:h,arg:g,resolve:p,reject:v,next:null};r?r=r.next=d:(t=r=d,o(h,g))})}function o(h,g){try{var p=e[h](g),v=p.value,d=v instanceof S1;Promise.resolve(d?v.wrapped:v).then(function(c){if(d){o(h==="return"?"return":"next",c);return}i(p.done?"return":"normal",c)},function(c){o("throw",c)})}catch(c){i("throw",c)}}function i(h,g){switch(h){case"return":t.resolve({value:g,done:!0});break;case"throw":t.reject(g);break;default:t.resolve({value:g,done:!1});break}t=t.next,t?o(t.key,t.arg):r=null}this._invoke=n,typeof e.return!="function"&&(this.return=void 0)}Ls.prototype[typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this};Ls.prototype.next=function(e){return this._invoke("next",e)};Ls.prototype.throw=function(e){return this._invoke("throw",e)};Ls.prototype.return=function(e){return this._invoke("return",e)};function op(e){return function(){return new Ls(e.apply(this,arguments))}}function Kn(e){return new S1(e)}function yB(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const bB="12.0.7";function EB(e,t){return new w1.Webhooks({secret:t.secret,transform:async r=>{if(!("installation"in r.payload)||typeof r.payload.installation!="object"){const i=new e.constructor({authStrategy:vB.createUnauthenticatedAuth,auth:{reason:'"installation" key missing in webhook event payload'}});return qt(qt({},r),{},{octokit:i})}const n=r.payload.installation.id,o=await e.auth({type:"installation",installationId:n,factory(i){return new i.octokit.constructor(qt(qt({},i.octokitOptions),{},{authStrategy:ip.createAppAuth},{auth:qt(qt({},i),{},{installationId:n})}))}});return qt(qt({},r),{},{octokit:o})}})}async function P1(e,t){return e.octokit.auth({type:"installation",installationId:t,factory(r){const n=qt(qt({},r.octokitOptions),{},{authStrategy:ip.createAppAuth},{auth:qt(qt({},r),{},{installationId:t})});return new r.octokit.constructor(n)}})}function TB(e){return Object.assign(xB.bind(null,e),{iterator:O1.bind(null,e)})}async function xB(e,t){const r=O1(e)[Symbol.asyncIterator]();let n=await r.next();for(;!n.done;)await t(n.value),n=await r.next()}function O1(e){return{[Symbol.asyncIterator](){return op(function*(){const t=A1.composePaginateRest.iterator(e.octokit,"GET /app/installations");var r=!1,n=!1,o;try{for(var i=bd(t),h;r=!(h=yield Kn(i.next())).done;r=!1){const{data:g}=h.value;for(const p of g)yield{octokit:yield Kn(P1(e,p.id)),installation:p}}}catch(g){n=!0,o=g}finally{try{r&&i.return!=null&&(yield Kn(i.return()))}finally{if(n)throw o}}})()}}}function wB(e){return Object.assign(AB.bind(null,e),{iterator:R1.bind(null,e)})}async function AB(e,t,r){const n=R1(e,r?t:void 0)[Symbol.asyncIterator]();let o=await n.next();for(;!o.done;)r?await r(o.value):await t(o.value),o=await n.next()}function SB(e,t){return{[Symbol.asyncIterator](){return op(function*(){yield{octokit:yield Kn(e.getInstallationOctokit(t))}})()}}}function R1(e,t){return{[Symbol.asyncIterator](){return op(function*(){const r=t?SB(e,t.installationId):e.eachInstallation.iterator();var n=!1,o=!1,i;try{for(var h=bd(r),g;n=!(g=yield Kn(h.next())).done;n=!1){const{octokit:l}=g.value,s=A1.composePaginateRest.iterator(l,"GET /installation/repositories");var p=!1,v=!1,d;try{for(var c=bd(s),a;p=!(a=yield Kn(c.next())).done;p=!1){const{data:u}=a.value;for(const f of u)yield{octokit:l,repository:f}}}catch(u){v=!0,d=u}finally{try{p&&c.return!=null&&(yield Kn(c.return()))}finally{if(v)throw d}}}}catch(l){o=!0,i=l}finally{try{n&&h.return!=null&&(yield Kn(h.return()))}finally{if(o)throw i}}})()}}}function PB(e,t){t.writeHead(404,{"content-type":"application/json"}),t.end(JSON.stringify({error:`Unknown route: ${e.method} ${e.url}`}))}function Jg(){}function OB(e,t={}){const r=Object.assign({debug:Jg,info:Jg,warn:console.warn.bind(console),error:console.error.bind(console)},t.log),n=qt(qt({onUnhandledRequest:PB,pathPrefix:"/api/github"},t),{},{log:r}),o=w1.createNodeMiddleware(e.webhooks,{path:n.pathPrefix+"/webhooks",log:r,onUnhandledRequest:n.onUnhandledRequest}),i=x1.createNodeMiddleware(e.oauth,{pathPrefix:n.pathPrefix+"/oauth",onUnhandledRequest:n.onUnhandledRequest});return RB.bind(null,n,{webhooksMiddleware:o,oauthMiddleware:i})}async function RB(e,{webhooksMiddleware:t,oauthMiddleware:r},n,o,i){const{pathname:h}=new URL(n.url,"http://localhost");return h===`${e.pathPrefix}/webhooks`?t(n,o,i):h.startsWith(`${e.pathPrefix}/oauth/`)?r(n,o,i):typeof i=="function"?i():e.onUnhandledRequest(n,o)}class L1{constructor(t){const r=t.Octokit||gB.Octokit,n=Object.assign({appId:t.appId,privateKey:t.privateKey},t.oauth?{clientId:t.oauth.clientId,clientSecret:t.oauth.clientSecret}:{});this.octokit=new r({authStrategy:ip.createAppAuth,auth:n,log:t.log}),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},t.log),t.webhooks?this.webhooks=EB(this.octokit,t.webhooks):Object.defineProperty(this,"webhooks",{get(){throw new Error("[@octokit/app] webhooks option not set")}}),t.oauth?this.oauth=new x1.OAuthApp(qt(qt({},t.oauth),{},{clientType:"github-app",Octokit:r})):Object.defineProperty(this,"oauth",{get(){throw new Error("[@octokit/app] oauth.clientId / oauth.clientSecret options are not set")}}),this.getInstallationOctokit=P1.bind(null,this),this.eachInstallation=TB(this),this.eachRepository=wB(this)}static defaults(t){return class extends this{constructor(...n){super(qt(qt({},t),n[0]))}}}}L1.VERSION=bB;var LB=Zh.App=L1;Zh.createNodeMiddleware=OB;const CB="1.8.1",ap=Ql.plugin(Vb,Yh,Wb,Kh).defaults({userAgent:`octokit.js/${CB}`,throttle:{onRateLimit:IB,onAbuseLimit:MB}});function IB(e,t,r){if(r.log.warn(`Request quota exhausted for request ${t.method} ${t.url}`),t.request.retryCount===0)return r.log.info(`Retrying after ${e} seconds!`),!0}function MB(e,t,r){if(r.log.warn(`Abuse detected for request ${t.method} ${t.url}`),t.request.retryCount===0)return r.log.info(`Retrying after ${e} seconds!`),!0}LB.defaults({Octokit:ap});j3.defaults({Octokit:ap});var C1={},rc={};rc.byteLength=kB;rc.toByteArray=FB;rc.fromByteArray=UB;var fn=[],kr=[],DB=typeof Uint8Array!="undefined"?Uint8Array:Array,of="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ji=0,NB=of.length;Ji<NB;++Ji)fn[Ji]=of[Ji],kr[of.charCodeAt(Ji)]=Ji;kr["-".charCodeAt(0)]=62;kr["_".charCodeAt(0)]=63;function I1(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function kB(e){var t=I1(e),r=t[0],n=t[1];return(r+n)*3/4-n}function BB(e,t,r){return(t+r)*3/4-r}function FB(e){var t,r=I1(e),n=r[0],o=r[1],i=new DB(BB(e,n,o)),h=0,g=o>0?n-4:n,p;for(p=0;p<g;p+=4)t=kr[e.charCodeAt(p)]<<18|kr[e.charCodeAt(p+1)]<<12|kr[e.charCodeAt(p+2)]<<6|kr[e.charCodeAt(p+3)],i[h++]=t>>16&255,i[h++]=t>>8&255,i[h++]=t&255;return o===2&&(t=kr[e.charCodeAt(p)]<<2|kr[e.charCodeAt(p+1)]>>4,i[h++]=t&255),o===1&&(t=kr[e.charCodeAt(p)]<<10|kr[e.charCodeAt(p+1)]<<4|kr[e.charCodeAt(p+2)]>>2,i[h++]=t>>8&255,i[h++]=t&255),i}function jB(e){return fn[e>>18&63]+fn[e>>12&63]+fn[e>>6&63]+fn[e&63]}function zB(e,t,r){for(var n,o=[],i=t;i<r;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),o.push(jB(n));return o.join("")}function UB(e){for(var t,r=e.length,n=r%3,o=[],i=16383,h=0,g=r-n;h<g;h+=i)o.push(zB(e,h,h+i>g?g:h+i));return n===1?(t=e[r-1],o.push(fn[t>>2]+fn[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],o.push(fn[t>>10]+fn[t>>4&63]+fn[t<<2&63]+"=")),o.join("")}var sp={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */sp.read=function(e,t,r,n,o){var i,h,g=o*8-n-1,p=(1<<g)-1,v=p>>1,d=-7,c=r?o-1:0,a=r?-1:1,l=e[t+c];for(c+=a,i=l&(1<<-d)-1,l>>=-d,d+=g;d>0;i=i*256+e[t+c],c+=a,d-=8);for(h=i&(1<<-d)-1,i>>=-d,d+=n;d>0;h=h*256+e[t+c],c+=a,d-=8);if(i===0)i=1-v;else{if(i===p)return h?NaN:(l?-1:1)*(1/0);h=h+Math.pow(2,n),i=i-v}return(l?-1:1)*h*Math.pow(2,i-n)};sp.write=function(e,t,r,n,o,i){var h,g,p,v=i*8-o-1,d=(1<<v)-1,c=d>>1,a=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:i-1,s=n?1:-1,u=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(g=isNaN(t)?1:0,h=d):(h=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-h))<1&&(h--,p*=2),h+c>=1?t+=a/p:t+=a*Math.pow(2,1-c),t*p>=2&&(h++,p/=2),h+c>=d?(g=0,h=d):h+c>=1?(g=(t*p-1)*Math.pow(2,o),h=h+c):(g=t*Math.pow(2,c-1)*Math.pow(2,o),h=0));o>=8;e[r+l]=g&255,l+=s,g/=256,o-=8);for(h=h<<o|g,v+=o;v>0;e[r+l]=h&255,l+=s,h/=256,v-=8);e[r+l-s]|=u*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=rc,r=sp,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=g,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50;const o=2147483647;e.kMaxLength=o,g.TYPED_ARRAY_SUPPORT=i(),!g.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const U=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(U,C),U.foo()===42}catch{return!1}}Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(!!g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(!!g.isBuffer(this))return this.byteOffset}});function h(U){if(U>o)throw new RangeError('The value "'+U+'" is invalid for option "size"');const C=new Uint8Array(U);return Object.setPrototypeOf(C,g.prototype),C}function g(U,C,M){if(typeof U=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(U)}return p(U,C,M)}g.poolSize=8192;function p(U,C,M){if(typeof U=="string")return a(U,C);if(ArrayBuffer.isView(U))return s(U);if(U==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(ke(U,ArrayBuffer)||U&&ke(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(ke(U,SharedArrayBuffer)||U&&ke(U.buffer,SharedArrayBuffer)))return u(U,C,M);if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const z=U.valueOf&&U.valueOf();if(z!=null&&z!==U)return g.from(z,C,M);const V=f(U);if(V)return V;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return g.from(U[Symbol.toPrimitive]("string"),C,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}g.from=function(U,C,M){return p(U,C,M)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array);function v(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function d(U,C,M){return v(U),U<=0?h(U):C!==void 0?typeof M=="string"?h(U).fill(C,M):h(U).fill(C):h(U)}g.alloc=function(U,C,M){return d(U,C,M)};function c(U){return v(U),h(U<0?0:m(U)|0)}g.allocUnsafe=function(U){return c(U)},g.allocUnsafeSlow=function(U){return c(U)};function a(U,C){if((typeof C!="string"||C==="")&&(C="utf8"),!g.isEncoding(C))throw new TypeError("Unknown encoding: "+C);const M=b(U,C)|0;let z=h(M);const V=z.write(U,C);return V!==M&&(z=z.slice(0,V)),z}function l(U){const C=U.length<0?0:m(U.length)|0,M=h(C);for(let z=0;z<C;z+=1)M[z]=U[z]&255;return M}function s(U){if(ke(U,Uint8Array)){const C=new Uint8Array(U);return u(C.buffer,C.byteOffset,C.byteLength)}return l(U)}function u(U,C,M){if(C<0||U.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<C+(M||0))throw new RangeError('"length" is outside of buffer bounds');let z;return C===void 0&&M===void 0?z=new Uint8Array(U):M===void 0?z=new Uint8Array(U,C):z=new Uint8Array(U,C,M),Object.setPrototypeOf(z,g.prototype),z}function f(U){if(g.isBuffer(U)){const C=m(U.length)|0,M=h(C);return M.length===0||U.copy(M,0,0,C),M}if(U.length!==void 0)return typeof U.length!="number"||He(U.length)?h(0):l(U);if(U.type==="Buffer"&&Array.isArray(U.data))return l(U.data)}function m(U){if(U>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return U|0}function y(U){return+U!=U&&(U=0),g.alloc(+U)}g.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==g.prototype},g.compare=function(C,M){if(ke(C,Uint8Array)&&(C=g.from(C,C.offset,C.byteLength)),ke(M,Uint8Array)&&(M=g.from(M,M.offset,M.byteLength)),!g.isBuffer(C)||!g.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===M)return 0;let z=C.length,V=M.length;for(let j=0,Z=Math.min(z,V);j<Z;++j)if(C[j]!==M[j]){z=C[j],V=M[j];break}return z<V?-1:V<z?1:0},g.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(C,M){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return g.alloc(0);let z;if(M===void 0)for(M=0,z=0;z<C.length;++z)M+=C[z].length;const V=g.allocUnsafe(M);let j=0;for(z=0;z<C.length;++z){let Z=C[z];if(ke(Z,Uint8Array))j+Z.length>V.length?(g.isBuffer(Z)||(Z=g.from(Z)),Z.copy(V,j)):Uint8Array.prototype.set.call(V,Z,j);else if(g.isBuffer(Z))Z.copy(V,j);else throw new TypeError('"list" argument must be an Array of Buffers');j+=Z.length}return V};function b(U,C){if(g.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||ke(U,ArrayBuffer))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);const M=U.length,z=arguments.length>2&&arguments[2]===!0;if(!z&&M===0)return 0;let V=!1;for(;;)switch(C){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return Ie(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M*2;case"hex":return M>>>1;case"base64":return Ne(U).length;default:if(V)return z?-1:Ie(U).length;C=(""+C).toLowerCase(),V=!0}}g.byteLength=b;function E(U,C,M){let z=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0,C>>>=0,M<=C))return"";for(U||(U="utf8");;)switch(U){case"hex":return J(this,C,M);case"utf8":case"utf-8":return W(this,C,M);case"ascii":return X(this,C,M);case"latin1":case"binary":return Y(this,C,M);case"base64":return N(this,C,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,C,M);default:if(z)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),z=!0}}g.prototype._isBuffer=!0;function x(U,C,M){const z=U[C];U[C]=U[M],U[M]=z}g.prototype.swap16=function(){const C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<C;M+=2)x(this,M,M+1);return this},g.prototype.swap32=function(){const C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<C;M+=4)x(this,M,M+3),x(this,M+1,M+2);return this},g.prototype.swap64=function(){const C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<C;M+=8)x(this,M,M+7),x(this,M+1,M+6),x(this,M+2,M+5),x(this,M+3,M+4);return this},g.prototype.toString=function(){const C=this.length;return C===0?"":arguments.length===0?W(this,0,C):E.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(C){if(!g.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:g.compare(this,C)===0},g.prototype.inspect=function(){let C="";const M=e.INSPECT_MAX_BYTES;return C=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(C+=" ... "),"<Buffer "+C+">"},n&&(g.prototype[n]=g.prototype.inspect),g.prototype.compare=function(C,M,z,V,j){if(ke(C,Uint8Array)&&(C=g.from(C,C.offset,C.byteLength)),!g.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(M===void 0&&(M=0),z===void 0&&(z=C?C.length:0),V===void 0&&(V=0),j===void 0&&(j=this.length),M<0||z>C.length||V<0||j>this.length)throw new RangeError("out of range index");if(V>=j&&M>=z)return 0;if(V>=j)return-1;if(M>=z)return 1;if(M>>>=0,z>>>=0,V>>>=0,j>>>=0,this===C)return 0;let Z=j-V,se=z-M;const de=Math.min(Z,se),ve=this.slice(V,j),Oe=C.slice(M,z);for(let Fe=0;Fe<de;++Fe)if(ve[Fe]!==Oe[Fe]){Z=ve[Fe],se=Oe[Fe];break}return Z<se?-1:se<Z?1:0};function w(U,C,M,z,V){if(U.length===0)return-1;if(typeof M=="string"?(z=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,He(M)&&(M=V?0:U.length-1),M<0&&(M=U.length+M),M>=U.length){if(V)return-1;M=U.length-1}else if(M<0)if(V)M=0;else return-1;if(typeof C=="string"&&(C=g.from(C,z)),g.isBuffer(C))return C.length===0?-1:S(U,C,M,z,V);if(typeof C=="number")return C=C&255,typeof Uint8Array.prototype.indexOf=="function"?V?Uint8Array.prototype.indexOf.call(U,C,M):Uint8Array.prototype.lastIndexOf.call(U,C,M):S(U,[C],M,z,V);throw new TypeError("val must be string, number or Buffer")}function S(U,C,M,z,V){let j=1,Z=U.length,se=C.length;if(z!==void 0&&(z=String(z).toLowerCase(),z==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if(U.length<2||C.length<2)return-1;j=2,Z/=2,se/=2,M/=2}function de(Oe,Fe){return j===1?Oe[Fe]:Oe.readUInt16BE(Fe*j)}let ve;if(V){let Oe=-1;for(ve=M;ve<Z;ve++)if(de(U,ve)===de(C,Oe===-1?0:ve-Oe)){if(Oe===-1&&(Oe=ve),ve-Oe+1===se)return Oe*j}else Oe!==-1&&(ve-=ve-Oe),Oe=-1}else for(M+se>Z&&(M=Z-se),ve=M;ve>=0;ve--){let Oe=!0;for(let Fe=0;Fe<se;Fe++)if(de(U,ve+Fe)!==de(C,Fe)){Oe=!1;break}if(Oe)return ve}return-1}g.prototype.includes=function(C,M,z){return this.indexOf(C,M,z)!==-1},g.prototype.indexOf=function(C,M,z){return w(this,C,M,z,!0)},g.prototype.lastIndexOf=function(C,M,z){return w(this,C,M,z,!1)};function P(U,C,M,z){M=Number(M)||0;const V=U.length-M;z?(z=Number(z),z>V&&(z=V)):z=V;const j=C.length;z>j/2&&(z=j/2);let Z;for(Z=0;Z<z;++Z){const se=parseInt(C.substr(Z*2,2),16);if(He(se))return Z;U[M+Z]=se}return Z}function A(U,C,M,z){return Ye(Ie(C,U.length-M),U,M,z)}function L(U,C,M,z){return Ye(Me(C),U,M,z)}function k(U,C,M,z){return Ye(Ne(C),U,M,z)}function D(U,C,M,z){return Ye(Ue(C,U.length-M),U,M,z)}g.prototype.write=function(C,M,z,V){if(M===void 0)V="utf8",z=this.length,M=0;else if(z===void 0&&typeof M=="string")V=M,z=this.length,M=0;else if(isFinite(M))M=M>>>0,isFinite(z)?(z=z>>>0,V===void 0&&(V="utf8")):(V=z,z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const j=this.length-M;if((z===void 0||z>j)&&(z=j),C.length>0&&(z<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");V||(V="utf8");let Z=!1;for(;;)switch(V){case"hex":return P(this,C,M,z);case"utf8":case"utf-8":return A(this,C,M,z);case"ascii":case"latin1":case"binary":return L(this,C,M,z);case"base64":return k(this,C,M,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,C,M,z);default:if(Z)throw new TypeError("Unknown encoding: "+V);V=(""+V).toLowerCase(),Z=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(U,C,M){return C===0&&M===U.length?t.fromByteArray(U):t.fromByteArray(U.slice(C,M))}function W(U,C,M){M=Math.min(U.length,M);const z=[];let V=C;for(;V<M;){const j=U[V];let Z=null,se=j>239?4:j>223?3:j>191?2:1;if(V+se<=M){let de,ve,Oe,Fe;switch(se){case 1:j<128&&(Z=j);break;case 2:de=U[V+1],(de&192)===128&&(Fe=(j&31)<<6|de&63,Fe>127&&(Z=Fe));break;case 3:de=U[V+1],ve=U[V+2],(de&192)===128&&(ve&192)===128&&(Fe=(j&15)<<12|(de&63)<<6|ve&63,Fe>2047&&(Fe<55296||Fe>57343)&&(Z=Fe));break;case 4:de=U[V+1],ve=U[V+2],Oe=U[V+3],(de&192)===128&&(ve&192)===128&&(Oe&192)===128&&(Fe=(j&15)<<18|(de&63)<<12|(ve&63)<<6|Oe&63,Fe>65535&&Fe<1114112&&(Z=Fe))}}Z===null?(Z=65533,se=1):Z>65535&&(Z-=65536,z.push(Z>>>10&1023|55296),Z=56320|Z&1023),z.push(Z),V+=se}return q(z)}const H=4096;function q(U){const C=U.length;if(C<=H)return String.fromCharCode.apply(String,U);let M="",z=0;for(;z<C;)M+=String.fromCharCode.apply(String,U.slice(z,z+=H));return M}function X(U,C,M){let z="";M=Math.min(U.length,M);for(let V=C;V<M;++V)z+=String.fromCharCode(U[V]&127);return z}function Y(U,C,M){let z="";M=Math.min(U.length,M);for(let V=C;V<M;++V)z+=String.fromCharCode(U[V]);return z}function J(U,C,M){const z=U.length;(!C||C<0)&&(C=0),(!M||M<0||M>z)&&(M=z);let V="";for(let j=C;j<M;++j)V+=et[U[j]];return V}function ee(U,C,M){const z=U.slice(C,M);let V="";for(let j=0;j<z.length-1;j+=2)V+=String.fromCharCode(z[j]+z[j+1]*256);return V}g.prototype.slice=function(C,M){const z=this.length;C=~~C,M=M===void 0?z:~~M,C<0?(C+=z,C<0&&(C=0)):C>z&&(C=z),M<0?(M+=z,M<0&&(M=0)):M>z&&(M=z),M<C&&(M=C);const V=this.subarray(C,M);return Object.setPrototypeOf(V,g.prototype),V};function te(U,C,M){if(U%1!==0||U<0)throw new RangeError("offset is not uint");if(U+C>M)throw new RangeError("Trying to access beyond buffer length")}g.prototype.readUintLE=g.prototype.readUIntLE=function(C,M,z){C=C>>>0,M=M>>>0,z||te(C,M,this.length);let V=this[C],j=1,Z=0;for(;++Z<M&&(j*=256);)V+=this[C+Z]*j;return V},g.prototype.readUintBE=g.prototype.readUIntBE=function(C,M,z){C=C>>>0,M=M>>>0,z||te(C,M,this.length);let V=this[C+--M],j=1;for(;M>0&&(j*=256);)V+=this[C+--M]*j;return V},g.prototype.readUint8=g.prototype.readUInt8=function(C,M){return C=C>>>0,M||te(C,1,this.length),this[C]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(C,M){return C=C>>>0,M||te(C,2,this.length),this[C]|this[C+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(C,M){return C=C>>>0,M||te(C,2,this.length),this[C]<<8|this[C+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(C,M){return C=C>>>0,M||te(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(C,M){return C=C>>>0,M||te(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},g.prototype.readBigUInt64LE=Le(function(C){C=C>>>0,he(C,"offset");const M=this[C],z=this[C+7];(M===void 0||z===void 0)&&Se(C,this.length-8);const V=M+this[++C]*2**8+this[++C]*2**16+this[++C]*2**24,j=this[++C]+this[++C]*2**8+this[++C]*2**16+z*2**24;return BigInt(V)+(BigInt(j)<<BigInt(32))}),g.prototype.readBigUInt64BE=Le(function(C){C=C>>>0,he(C,"offset");const M=this[C],z=this[C+7];(M===void 0||z===void 0)&&Se(C,this.length-8);const V=M*2**24+this[++C]*2**16+this[++C]*2**8+this[++C],j=this[++C]*2**24+this[++C]*2**16+this[++C]*2**8+z;return(BigInt(V)<<BigInt(32))+BigInt(j)}),g.prototype.readIntLE=function(C,M,z){C=C>>>0,M=M>>>0,z||te(C,M,this.length);let V=this[C],j=1,Z=0;for(;++Z<M&&(j*=256);)V+=this[C+Z]*j;return j*=128,V>=j&&(V-=Math.pow(2,8*M)),V},g.prototype.readIntBE=function(C,M,z){C=C>>>0,M=M>>>0,z||te(C,M,this.length);let V=M,j=1,Z=this[C+--V];for(;V>0&&(j*=256);)Z+=this[C+--V]*j;return j*=128,Z>=j&&(Z-=Math.pow(2,8*M)),Z},g.prototype.readInt8=function(C,M){return C=C>>>0,M||te(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},g.prototype.readInt16LE=function(C,M){C=C>>>0,M||te(C,2,this.length);const z=this[C]|this[C+1]<<8;return z&32768?z|4294901760:z},g.prototype.readInt16BE=function(C,M){C=C>>>0,M||te(C,2,this.length);const z=this[C+1]|this[C]<<8;return z&32768?z|4294901760:z},g.prototype.readInt32LE=function(C,M){return C=C>>>0,M||te(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},g.prototype.readInt32BE=function(C,M){return C=C>>>0,M||te(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},g.prototype.readBigInt64LE=Le(function(C){C=C>>>0,he(C,"offset");const M=this[C],z=this[C+7];(M===void 0||z===void 0)&&Se(C,this.length-8);const V=this[C+4]+this[C+5]*2**8+this[C+6]*2**16+(z<<24);return(BigInt(V)<<BigInt(32))+BigInt(M+this[++C]*2**8+this[++C]*2**16+this[++C]*2**24)}),g.prototype.readBigInt64BE=Le(function(C){C=C>>>0,he(C,"offset");const M=this[C],z=this[C+7];(M===void 0||z===void 0)&&Se(C,this.length-8);const V=(M<<24)+this[++C]*2**16+this[++C]*2**8+this[++C];return(BigInt(V)<<BigInt(32))+BigInt(this[++C]*2**24+this[++C]*2**16+this[++C]*2**8+z)}),g.prototype.readFloatLE=function(C,M){return C=C>>>0,M||te(C,4,this.length),r.read(this,C,!0,23,4)},g.prototype.readFloatBE=function(C,M){return C=C>>>0,M||te(C,4,this.length),r.read(this,C,!1,23,4)},g.prototype.readDoubleLE=function(C,M){return C=C>>>0,M||te(C,8,this.length),r.read(this,C,!0,52,8)},g.prototype.readDoubleBE=function(C,M){return C=C>>>0,M||te(C,8,this.length),r.read(this,C,!1,52,8)};function ne(U,C,M,z,V,j){if(!g.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>V||C<j)throw new RangeError('"value" argument is out of bounds');if(M+z>U.length)throw new RangeError("Index out of range")}g.prototype.writeUintLE=g.prototype.writeUIntLE=function(C,M,z,V){if(C=+C,M=M>>>0,z=z>>>0,!V){const se=Math.pow(2,8*z)-1;ne(this,C,M,z,se,0)}let j=1,Z=0;for(this[M]=C&255;++Z<z&&(j*=256);)this[M+Z]=C/j&255;return M+z},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(C,M,z,V){if(C=+C,M=M>>>0,z=z>>>0,!V){const se=Math.pow(2,8*z)-1;ne(this,C,M,z,se,0)}let j=z-1,Z=1;for(this[M+j]=C&255;--j>=0&&(Z*=256);)this[M+j]=C/Z&255;return M+z},g.prototype.writeUint8=g.prototype.writeUInt8=function(C,M,z){return C=+C,M=M>>>0,z||ne(this,C,M,1,255,0),this[M]=C&255,M+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(C,M,z){return C=+C,M=M>>>0,z||ne(this,C,M,2,65535,0),this[M]=C&255,this[M+1]=C>>>8,M+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(C,M,z){return C=+C,M=M>>>0,z||ne(this,C,M,2,65535,0),this[M]=C>>>8,this[M+1]=C&255,M+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(C,M,z){return C=+C,M=M>>>0,z||ne(this,C,M,4,4294967295,0),this[M+3]=C>>>24,this[M+2]=C>>>16,this[M+1]=C>>>8,this[M]=C&255,M+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(C,M,z){return C=+C,M=M>>>0,z||ne(this,C,M,4,4294967295,0),this[M]=C>>>24,this[M+1]=C>>>16,this[M+2]=C>>>8,this[M+3]=C&255,M+4};function fe(U,C,M,z,V){Re(C,z,V,U,M,7);let j=Number(C&BigInt(4294967295));U[M++]=j,j=j>>8,U[M++]=j,j=j>>8,U[M++]=j,j=j>>8,U[M++]=j;let Z=Number(C>>BigInt(32)&BigInt(4294967295));return U[M++]=Z,Z=Z>>8,U[M++]=Z,Z=Z>>8,U[M++]=Z,Z=Z>>8,U[M++]=Z,M}function _e(U,C,M,z,V){Re(C,z,V,U,M,7);let j=Number(C&BigInt(4294967295));U[M+7]=j,j=j>>8,U[M+6]=j,j=j>>8,U[M+5]=j,j=j>>8,U[M+4]=j;let Z=Number(C>>BigInt(32)&BigInt(4294967295));return U[M+3]=Z,Z=Z>>8,U[M+2]=Z,Z=Z>>8,U[M+1]=Z,Z=Z>>8,U[M]=Z,M+8}g.prototype.writeBigUInt64LE=Le(function(C,M=0){return fe(this,C,M,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeBigUInt64BE=Le(function(C,M=0){return _e(this,C,M,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeIntLE=function(C,M,z,V){if(C=+C,M=M>>>0,!V){const de=Math.pow(2,8*z-1);ne(this,C,M,z,de-1,-de)}let j=0,Z=1,se=0;for(this[M]=C&255;++j<z&&(Z*=256);)C<0&&se===0&&this[M+j-1]!==0&&(se=1),this[M+j]=(C/Z>>0)-se&255;return M+z},g.prototype.writeIntBE=function(C,M,z,V){if(C=+C,M=M>>>0,!V){const de=Math.pow(2,8*z-1);ne(this,C,M,z,de-1,-de)}let j=z-1,Z=1,se=0;for(this[M+j]=C&255;--j>=0&&(Z*=256);)C<0&&se===0&&this[M+j+1]!==0&&(se=1),this[M+j]=(C/Z>>0)-se&255;return M+z},g.prototype.writeInt8=function(C,M,z){return C=+C,M=M>>>0,z||ne(this,C,M,1,127,-128),C<0&&(C=255+C+1),this[M]=C&255,M+1},g.prototype.writeInt16LE=function(C,M,z){return C=+C,M=M>>>0,z||ne(this,C,M,2,32767,-32768),this[M]=C&255,this[M+1]=C>>>8,M+2},g.prototype.writeInt16BE=function(C,M,z){return C=+C,M=M>>>0,z||ne(this,C,M,2,32767,-32768),this[M]=C>>>8,this[M+1]=C&255,M+2},g.prototype.writeInt32LE=function(C,M,z){return C=+C,M=M>>>0,z||ne(this,C,M,4,2147483647,-2147483648),this[M]=C&255,this[M+1]=C>>>8,this[M+2]=C>>>16,this[M+3]=C>>>24,M+4},g.prototype.writeInt32BE=function(C,M,z){return C=+C,M=M>>>0,z||ne(this,C,M,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[M]=C>>>24,this[M+1]=C>>>16,this[M+2]=C>>>8,this[M+3]=C&255,M+4},g.prototype.writeBigInt64LE=Le(function(C,M=0){return fe(this,C,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeBigInt64BE=Le(function(C,M=0){return _e(this,C,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ye(U,C,M,z,V,j){if(M+z>U.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function re(U,C,M,z,V){return C=+C,M=M>>>0,V||ye(U,C,M,4),r.write(U,C,M,z,23,4),M+4}g.prototype.writeFloatLE=function(C,M,z){return re(this,C,M,!0,z)},g.prototype.writeFloatBE=function(C,M,z){return re(this,C,M,!1,z)};function be(U,C,M,z,V){return C=+C,M=M>>>0,V||ye(U,C,M,8),r.write(U,C,M,z,52,8),M+8}g.prototype.writeDoubleLE=function(C,M,z){return be(this,C,M,!0,z)},g.prototype.writeDoubleBE=function(C,M,z){return be(this,C,M,!1,z)},g.prototype.copy=function(C,M,z,V){if(!g.isBuffer(C))throw new TypeError("argument should be a Buffer");if(z||(z=0),!V&&V!==0&&(V=this.length),M>=C.length&&(M=C.length),M||(M=0),V>0&&V<z&&(V=z),V===z||C.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("sourceEnd out of bounds");V>this.length&&(V=this.length),C.length-M<V-z&&(V=C.length-M+z);const j=V-z;return this===C&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(M,z,V):Uint8Array.prototype.set.call(C,this.subarray(z,V),M),j},g.prototype.fill=function(C,M,z,V){if(typeof C=="string"){if(typeof M=="string"?(V=M,M=0,z=this.length):typeof z=="string"&&(V=z,z=this.length),V!==void 0&&typeof V!="string")throw new TypeError("encoding must be a string");if(typeof V=="string"&&!g.isEncoding(V))throw new TypeError("Unknown encoding: "+V);if(C.length===1){const Z=C.charCodeAt(0);(V==="utf8"&&Z<128||V==="latin1")&&(C=Z)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(M<0||this.length<M||this.length<z)throw new RangeError("Out of range index");if(z<=M)return this;M=M>>>0,z=z===void 0?this.length:z>>>0,C||(C=0);let j;if(typeof C=="number")for(j=M;j<z;++j)this[j]=C;else{const Z=g.isBuffer(C)?C:g.from(C,V),se=Z.length;if(se===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(j=0;j<z-M;++j)this[j+M]=Z[j%se]}return this};const Ae={};function pe(U,C,M){Ae[U]=class extends M{constructor(){super();Object.defineProperty(this,"message",{value:C.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${U}]`,this.stack,delete this.name}get code(){return U}set code(V){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:V,writable:!0})}toString(){return`${this.name} [${U}]: ${this.message}`}}}pe("ERR_BUFFER_OUT_OF_BOUNDS",function(U){return U?`${U} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pe("ERR_INVALID_ARG_TYPE",function(U,C){return`The "${U}" argument must be of type number. Received type ${typeof C}`},TypeError),pe("ERR_OUT_OF_RANGE",function(U,C,M){let z=`The value of "${U}" is out of range.`,V=M;return Number.isInteger(M)&&Math.abs(M)>2**32?V=Pe(String(M)):typeof M=="bigint"&&(V=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(V=Pe(V)),V+="n"),z+=` It must be ${C}. Received ${V}`,z},RangeError);function Pe(U){let C="",M=U.length;const z=U[0]==="-"?1:0;for(;M>=z+4;M-=3)C=`_${U.slice(M-3,M)}${C}`;return`${U.slice(0,M)}${C}`}function xe(U,C,M){he(C,"offset"),(U[C]===void 0||U[C+M]===void 0)&&Se(C,U.length-(M+1))}function Re(U,C,M,z,V,j){if(U>M||U<C){const Z=typeof C=="bigint"?"n":"";let se;throw j>3?C===0||C===BigInt(0)?se=`>= 0${Z} and < 2${Z} ** ${(j+1)*8}${Z}`:se=`>= -(2${Z} ** ${(j+1)*8-1}${Z}) and < 2 ** ${(j+1)*8-1}${Z}`:se=`>= ${C}${Z} and <= ${M}${Z}`,new Ae.ERR_OUT_OF_RANGE("value",se,U)}xe(z,V,j)}function he(U,C){if(typeof U!="number")throw new Ae.ERR_INVALID_ARG_TYPE(C,"number",U)}function Se(U,C,M){throw Math.floor(U)!==U?(he(U,M),new Ae.ERR_OUT_OF_RANGE(M||"offset","an integer",U)):C<0?new Ae.ERR_BUFFER_OUT_OF_BOUNDS:new Ae.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${C}`,U)}const Ce=/[^+/0-9A-Za-z-_]/g;function Te(U){if(U=U.split("=")[0],U=U.trim().replace(Ce,""),U.length<2)return"";for(;U.length%4!==0;)U=U+"=";return U}function Ie(U,C){C=C||1/0;let M;const z=U.length;let V=null;const j=[];for(let Z=0;Z<z;++Z){if(M=U.charCodeAt(Z),M>55295&&M<57344){if(!V){if(M>56319){(C-=3)>-1&&j.push(239,191,189);continue}else if(Z+1===z){(C-=3)>-1&&j.push(239,191,189);continue}V=M;continue}if(M<56320){(C-=3)>-1&&j.push(239,191,189),V=M;continue}M=(V-55296<<10|M-56320)+65536}else V&&(C-=3)>-1&&j.push(239,191,189);if(V=null,M<128){if((C-=1)<0)break;j.push(M)}else if(M<2048){if((C-=2)<0)break;j.push(M>>6|192,M&63|128)}else if(M<65536){if((C-=3)<0)break;j.push(M>>12|224,M>>6&63|128,M&63|128)}else if(M<1114112){if((C-=4)<0)break;j.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw new Error("Invalid code point")}return j}function Me(U){const C=[];for(let M=0;M<U.length;++M)C.push(U.charCodeAt(M)&255);return C}function Ue(U,C){let M,z,V;const j=[];for(let Z=0;Z<U.length&&!((C-=2)<0);++Z)M=U.charCodeAt(Z),z=M>>8,V=M%256,j.push(V),j.push(z);return j}function Ne(U){return t.toByteArray(Te(U))}function Ye(U,C,M,z){let V;for(V=0;V<z&&!(V+M>=C.length||V>=U.length);++V)C[V+M]=U[V];return V}function ke(U,C){return U instanceof C||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===C.name}function He(U){return U!==U}const et=function(){const U="0123456789abcdef",C=new Array(256);for(let M=0;M<16;++M){const z=M*16;for(let V=0;V<16;++V)C[z+V]=U[M]+U[V]}return C}();function Le(U){return typeof BigInt=="undefined"?Ke:U}function Ke(){throw new Error("BigInt not supported")}})(C1);const GB=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],VB=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],HB=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],$B=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],e0=(e,t,r)=>{let n=e;return typeof t=="string"||Array.isArray(t)?n=e.toLocaleString(t,r):(t===!0||r!==void 0)&&(n=e.toLocaleString(void 0,r)),n};function M1(e,t){if(!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);t=Qe({bits:!1,binary:!1},t);const r=t.bits?t.binary?$B:HB:t.binary?VB:GB;if(t.signed&&e===0)return` 0 ${r[0]}`;const n=e<0,o=n?"-":t.signed?"+":"";n&&(e=-e);let i;if(t.minimumFractionDigits!==void 0&&(i={minimumFractionDigits:t.minimumFractionDigits}),t.maximumFractionDigits!==void 0&&(i=Qe({maximumFractionDigits:t.maximumFractionDigits},i)),e<1){const v=e0(e,t.locale,i);return o+v+" "+r[0]}const h=Math.min(Math.floor(t.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),r.length-1);e/=(t.binary?1024:1e3)**h,i||(e=e.toPrecision(3));const g=e0(Number(e),t.locale,i),p=r[h];return o+g+" "+p}const Co=new ap;async function WB(e,t,r){return(await Co.rest.git.getRef({owner:e,repo:t,ref:`heads/${r}`})).data.object.sha}async function qB(e,t,r,n=["metrics.csv"]){const i=(await Co.rest.git.getRef({owner:e,repo:t,ref:`metrics/${r}`})).data.object.sha,h=await Co.rest.git.getTree({owner:e,repo:t,tree_sha:i});return h.data.tree.map(g=>{console.log(g.path,M1(g.size))}),await Promise.all(n.map(async g=>{const p=h.data.tree.find(a=>a.path==g),v=p==null?void 0:p.sha;if(!v)return console.warn(`${g} not found in tree object`),{content:"",size:0};const d=await Co.rest.git.getBlob({owner:e,repo:t,file_sha:v}),c=C1.Buffer.from(d.data.content,"base64").toString();return c?(console.log(c),{content:c,size:d.data.size}):(console.warn(`${g} not found in blob object`),{content:"",size:0})}))}async function XB(e,t){return await Co.rest.git.listMatchingRefs({owner:e,repo:t,ref:"metrics"})}async function YB(e,t){return await Co.rest.repos.listBranches({owner:e,repo:t})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ed=function(e,t){return Ed=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},Ed(e,t)};function tt(e,t){Ed(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function us(e){return typeof e=="function"}var t0=!1,zr={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;""+t.stack}t0=e},get useDeprecatedSynchronousErrorHandling(){return t0}};function Eo(e){setTimeout(function(){throw e})}var nl={closed:!0,next:function(e){},error:function(e){if(zr.useDeprecatedSynchronousErrorHandling)throw e;Eo(e)},complete:function(){}},on=Array.isArray||function(e){return e&&typeof e.length=="number"};function D1(e){return e!==null&&typeof e=="object"}function N1(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(t,r){return r+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}N1.prototype=Object.create(Error.prototype);var Ba=N1,Vt=function(){function e(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return e.prototype.unsubscribe=function(){var t=!1,r;if(!this.closed){var n=this,o=n._parent,i=n._parents,h=n._unsubscribe,g=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,v=i?i.length:0;o;)o.remove(this),o=++p<v&&i[p]||null;if(us(h))try{h.call(this)}catch(c){t=!0,r=c instanceof Ba?r0(c.errors):[c]}if(on(g))for(p=-1,v=g.length;++p<v;){var d=g[p];if(D1(d))try{d.unsubscribe()}catch(c){t=!0,r=r||[],c instanceof Ba?r=r.concat(r0(c.errors)):r.push(c)}}if(t)throw new Ba(r)}},e.prototype.add=function(t){var r=t;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){var n=r;r=new e,r._subscriptions=[n]}break;default:{if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}}if(r._addParent(this)){var o=this._subscriptions;o?o.push(r):this._subscriptions=[r]}return r},e.prototype.remove=function(t){var r=this._subscriptions;if(r){var n=r.indexOf(t);n!==-1&&r.splice(n,1)}},e.prototype._addParent=function(t){var r=this,n=r._parent,o=r._parents;if(n===t)return!1;if(n)if(o){if(o.indexOf(t)===-1)return o.push(t),!0}else return this._parents=[t],!0;else return this._parent=t,!0;return!1},e.EMPTY=function(t){return t.closed=!0,t}(new e),e}();function r0(e){return e.reduce(function(t,r){return t.concat(r instanceof Ba?r.errors:r)},[])}var il=typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),Or=function(e){tt(t,e);function t(r,n,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=nl;break;case 1:if(!r){i.destination=nl;break}if(typeof r=="object"){r instanceof t?(i.syncErrorThrowable=r.syncErrorThrowable,i.destination=r,r.add(i)):(i.syncErrorThrowable=!0,i.destination=new n0(i,r));break}default:i.syncErrorThrowable=!0,i.destination=new n0(i,r,n,o);break}return i}return t.prototype[il]=function(){return this},t.create=function(r,n,o){var i=new t(r,n,o);return i.syncErrorThrowable=!1,i},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var r=this,n=r._parent,o=r._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=n,this._parents=o,this},t}(Vt),n0=function(e){tt(t,e);function t(r,n,o,i){var h=e.call(this)||this;h._parentSubscriber=r;var g,p=h;return us(n)?g=n:n&&(g=n.next,o=n.error,i=n.complete,n!==nl&&(p=Object.create(n),us(p.unsubscribe)&&h.add(p.unsubscribe.bind(p)),p.unsubscribe=h.unsubscribe.bind(h))),h._context=p,h._next=g,h._error=o,h._complete=i,h}return t.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!zr.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},t.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,o=zr.useDeprecatedSynchronousErrorHandling;if(this._error)!o||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)o?(n.syncErrorValue=r,n.syncErrorThrown=!0):Eo(r),this.unsubscribe();else{if(this.unsubscribe(),o)throw r;Eo(r)}}},t.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var o=function(){return r._complete.call(r._context)};!zr.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(o),this.unsubscribe()):(this.__tryOrSetError(n,o),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(o){if(this.unsubscribe(),zr.useDeprecatedSynchronousErrorHandling)throw o;Eo(o)}},t.prototype.__tryOrSetError=function(r,n,o){if(!zr.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,o)}catch(i){return zr.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=i,r.syncErrorThrown=!0,!0):(Eo(i),!0)}return!1},t.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},t}(Or);function up(e){for(;e;){var t=e,r=t.closed,n=t.destination,o=t.isStopped;if(r||o)return!1;n&&n instanceof Or?e=n:e=null}return!0}function KB(e,t,r){if(e){if(e instanceof Or)return e;if(e[il])return e[il]()}return!e&&!t&&!r?new Or(nl):new Or(e,t,r)}var Zo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function lp(){}function ZB(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return k1(e)}function k1(e){return e?e.length===1?e[0]:function(r){return e.reduce(function(n,o){return o(n)},r)}:lp}var Ze=function(){function e(t){this._isScalar=!1,t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var o=this.operator,i=KB(t,r,n);if(o?i.add(o.call(i,this.source)):i.add(this.source||zr.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),zr.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){zr.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),up(t)?t.error(r):console.warn(r)}},e.prototype.forEach=function(t,r){var n=this;return r=i0(r),new r(function(o,i){var h;h=n.subscribe(function(g){try{t(g)}catch(p){i(p),h&&h.unsubscribe()}},i,o)})},e.prototype._subscribe=function(t){var r=this.source;return r&&r.subscribe(t)},e.prototype[Zo]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.length===0?this:k1(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=i0(t),new t(function(n,o){var i;r.subscribe(function(h){return i=h},function(h){return o(h)},function(){return n(i)})})},e.create=function(t){return new e(t)},e}();function i0(e){if(e||(e=zr.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function B1(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}B1.prototype=Object.create(Error.prototype);var qn=B1,F1=function(e){tt(t,e);function t(r,n){var o=e.call(this)||this;return o.subject=r,o.subscriber=n,o.closed=!1,o}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var o=n.indexOf(this.subscriber);o!==-1&&n.splice(o,1)}}},t}(Vt),j1=function(e){tt(t,e);function t(r){var n=e.call(this,r)||this;return n.destination=r,n}return t}(Or),Cs=function(e){tt(t,e);function t(){var r=e.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype[il]=function(){return new j1(this)},t.prototype.lift=function(r){var n=new o0(this,this);return n.operator=r,n},t.prototype.next=function(r){if(this.closed)throw new qn;if(!this.isStopped)for(var n=this.observers,o=n.length,i=n.slice(),h=0;h<o;h++)i[h].next(r)},t.prototype.error=function(r){if(this.closed)throw new qn;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,o=n.length,i=n.slice(),h=0;h<o;h++)i[h].error(r);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new qn;this.isStopped=!0;for(var r=this.observers,n=r.length,o=r.slice(),i=0;i<n;i++)o[i].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(r){if(this.closed)throw new qn;return e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){if(this.closed)throw new qn;return this.hasError?(r.error(this.thrownError),Vt.EMPTY):this.isStopped?(r.complete(),Vt.EMPTY):(this.observers.push(r),new F1(this,r))},t.prototype.asObservable=function(){var r=new Ze;return r.source=this,r},t.create=function(r,n){return new o0(r,n)},t}(Ze),o0=function(e){tt(t,e);function t(r,n){var o=e.call(this)||this;return o.destination=r,o.source=n,o}return t.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},t.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},t.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},t.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):Vt.EMPTY},t}(Cs);function QB(){return function(t){return t.lift(new JB(t))}}var JB=function(){function e(t){this.connectable=t}return e.prototype.call=function(t,r){var n=this.connectable;n._refCount++;var o=new eF(t,n),i=r.subscribe(o);return o.closed||(o.connection=n.connect()),i},e}(),eF=function(e){tt(t,e);function t(r,n){var o=e.call(this,r)||this;return o.connectable=n,o}return t.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var o=this.connection,i=r._connection;this.connection=null,i&&(!o||i===o)&&i.unsubscribe()},t}(Or),z1=function(e){tt(t,e);function t(r,n){var o=e.call(this)||this;return o.source=r,o.subjectFactory=n,o._refCount=0,o._isComplete=!1,o}return t.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},t.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new Vt,r.add(this.source.subscribe(new tF(this.getSubject(),this))),r.closed?(this._connection=null,r=Vt.EMPTY):this._connection=r),r},t.prototype.refCount=function(){return QB()(this)},t}(Ze),ya=z1.prototype;ya._subscribe,ya._isComplete,ya.getSubject,ya.connect,ya.refCount;var tF=function(e){tt(t,e);function t(r,n){var o=e.call(this,r)||this;return o.connectable=n,o}return t.prototype._error=function(r){this._unsubscribe(),e.prototype._error.call(this,r)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},t}(j1),rF=function(e){tt(t,e);function t(r,n,o){var i=e.call(this)||this;return i.key=r,i.groupSubject=n,i.refCountSubscription=o,i}return t.prototype._subscribe=function(r){var n=new Vt,o=this,i=o.refCountSubscription,h=o.groupSubject;return i&&!i.closed&&n.add(new nF(i)),n.add(h.subscribe(r)),n},t}(Ze),nF=function(e){tt(t,e);function t(r){var n=e.call(this)||this;return n.parent=r,r.count++,n}return t.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(e.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},t}(Vt),iF=function(e){tt(t,e);function t(r){var n=e.call(this)||this;return n._value=r,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(r){var n=e.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new qn;return this._value},t.prototype.next=function(r){e.prototype.next.call(this,this._value=r)},t}(Cs),oF=function(e){tt(t,e);function t(r,n){return e.call(this)||this}return t.prototype.schedule=function(r,n){return this},t}(Vt),Is=function(e){tt(t,e);function t(r,n){var o=e.call(this,r,n)||this;return o.scheduler=r,o.work=n,o.pending=!1,o}return t.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this},t.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),setInterval(r.flush.bind(r,this),o)},t.prototype.recycleAsyncId=function(r,n,o){if(o===void 0&&(o=0),o!==null&&this.delay===o&&this.pending===!1)return n;clearInterval(n)},t.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(r,n);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(r,n){var o=!1,i=void 0;try{this.work(r)}catch(h){o=!0,i=!!h&&h||new Error(h)}if(o)return this.unsubscribe(),i},t.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,o=n.actions,i=o.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,i!==-1&&o.splice(i,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},t}(oF),aF=function(e){tt(t,e);function t(r,n){var o=e.call(this,r,n)||this;return o.scheduler=r,o.work=n,o}return t.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?e.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},t.prototype.execute=function(r,n){return n>0||this.closed?e.prototype.execute.call(this,r,n):this._execute(r,n)},t.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),o!==null&&o>0||o===null&&this.delay>0?e.prototype.requestAsyncId.call(this,r,n,o):r.flush(this)},t}(Is),Td=function(){function e(t,r){r===void 0&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(t,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,t).schedule(n,r)},e.now=function(){return Date.now()},e}(),Ms=function(e){tt(t,e);function t(r,n){n===void 0&&(n=Td.now);var o=e.call(this,r,function(){return t.delegate&&t.delegate!==o?t.delegate.now():n()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return t.prototype.schedule=function(r,n,o){return n===void 0&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(r,n,o):e.prototype.schedule.call(this,r,n,o)},t.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var o;this.active=!0;do if(o=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,o){for(;r=n.shift();)r.unsubscribe();throw o}},t}(Td),sF=function(e){tt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Ms),U1=new sF(aF),Bi=new Ze(function(e){return e.complete()});function nc(e){return e?uF(e):Bi}function uF(e){return new Ze(function(t){return e.schedule(function(){return t.complete()})})}function ui(e){return e&&typeof e.schedule=="function"}var G1=function(e){return function(t){for(var r=0,n=e.length;r<n&&!t.closed;r++)t.next(e[r]);t.closed||t.complete()}};function Fi(e,t){return t?new Ze(function(r){var n=new Vt,o=0;return n.add(t.schedule(function(){if(o===e.length){r.complete();return}r.next(e[o++]),r.closed||n.add(this.schedule())})),n}):new Ze(G1(e))}function lF(e){var t=new Ze(function(r){r.next(e),r.complete()});return t._isScalar=!0,t.value=e,t}function cp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];switch(ui(r)?e.pop():r=void 0,e.length){case 0:return nc(r);case 1:return r?Fi(e,r):lF(e[0]);default:return Fi(e,r)}}function V1(e,t){return t?new Ze(function(r){return t.schedule(cF,0,{error:e,subscriber:r})}):new Ze(function(r){return r.error(e)})}function cF(e){var t=e.error,r=e.subscriber;r.error(t)}var Pu=function(){function e(t,r,n){this.kind=t,this.value=r,this.error=n,this.hasValue=t==="N"}return e.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},e.prototype.do=function(t,r,n){var o=this.kind;switch(o){case"N":return t&&t(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},e.prototype.accept=function(t,r,n){return t&&typeof t.next=="function"?this.observe(t):this.do(t,r,n)},e.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return cp(this.value);case"E":return V1(this.error);case"C":return nc()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return typeof t!="undefined"?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),fF=function(e){tt(t,e);function t(r,n,o){o===void 0&&(o=0);var i=e.call(this,r)||this;return i.scheduler=n,i.delay=o,i}return t.dispatch=function(r){var n=r.notification,o=r.destination;n.observe(o),this.unsubscribe()},t.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(t.dispatch,this.delay,new dF(r,this.destination)))},t.prototype._next=function(r){this.scheduleMessage(Pu.createNext(r))},t.prototype._error=function(r){this.scheduleMessage(Pu.createError(r)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(Pu.createComplete()),this.unsubscribe()},t}(Or),dF=function(){function e(t,r){this.notification=t,this.destination=r}return e}(),hF=function(e){tt(t,e);function t(r,n,o){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=o,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=r<1?1:r,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return t.prototype.nextInfiniteTimeWindow=function(r){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift(),e.prototype.next.call(this,r)},t.prototype.nextTimeWindow=function(r){this._events.push(new pF(this._getNow(),r)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,r)},t.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,o=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,h=o.length,g;if(this.closed)throw new qn;if(this.isStopped||this.hasError?g=Vt.EMPTY:(this.observers.push(r),g=new F1(this,r)),i&&r.add(r=new fF(r,i)),n)for(var p=0;p<h&&!r.closed;p++)r.next(o[p]);else for(var p=0;p<h&&!r.closed;p++)r.next(o[p].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),g},t.prototype._getNow=function(){return(this.scheduler||U1).now()},t.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,o=this._windowTime,i=this._events,h=i.length,g=0;g<h&&!(r-i[g].time<o);)g++;return h>n&&(g=Math.max(g,h-n)),g>0&&i.splice(0,g),i},t}(Cs),pF=function(){function e(t,r){this.time=t,this.value=r}return e}(),Ds=function(e){tt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return t.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),Vt.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),Vt.EMPTY):e.prototype._subscribe.call(this,r)},t.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},t.prototype.error=function(r){this.hasCompleted||e.prototype.error.call(this,r)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(Cs),_F=1,xd={};function mF(e){var t=xd[e];t&&t()}var a0={setImmediate:function(e){var t=_F++;return xd[t]=e,Promise.resolve().then(function(){return mF(t)}),t},clearImmediate:function(e){delete xd[e]}},gF=function(e){tt(t,e);function t(r,n){var o=e.call(this,r,n)||this;return o.scheduler=r,o.work=n,o}return t.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,r,n,o):(r.actions.push(this),r.scheduled||(r.scheduled=a0.setImmediate(r.flush.bind(r,null))))},t.prototype.recycleAsyncId=function(r,n,o){if(o===void 0&&(o=0),o!==null&&o>0||o===null&&this.delay>0)return e.prototype.recycleAsyncId.call(this,r,n,o);r.actions.length===0&&(a0.clearImmediate(n),r.scheduled=void 0)},t}(Is),vF=function(e){tt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,o,i=-1,h=n.length;r=r||n.shift();do if(o=r.execute(r.state,r.delay))break;while(++i<h&&(r=n.shift()));if(this.active=!1,o){for(;++i<h&&(r=n.shift());)r.unsubscribe();throw o}},t}(Ms),yF=new vF(gF),ol=new Ms(Is),bF=function(e){tt(t,e);function t(r,n){var o=e.call(this,r,n)||this;return o.scheduler=r,o.work=n,o}return t.prototype.requestAsyncId=function(r,n,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,r,n,o):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},t.prototype.recycleAsyncId=function(r,n,o){if(o===void 0&&(o=0),o!==null&&o>0||o===null&&this.delay>0)return e.prototype.recycleAsyncId.call(this,r,n,o);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},t}(Is),EF=function(e){tt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,o,i=-1,h=n.length;r=r||n.shift();do if(o=r.execute(r.state,r.delay))break;while(++i<h&&(r=n.shift()));if(this.active=!1,o){for(;++i<h&&(r=n.shift());)r.unsubscribe();throw o}},t}(Ms),TF=new EF(bF),xF=function(e){tt(t,e);function t(r,n){r===void 0&&(r=H1),n===void 0&&(n=Number.POSITIVE_INFINITY);var o=e.call(this,r,function(){return o.frame})||this;return o.maxFrames=n,o.frame=0,o.index=-1,o}return t.prototype.flush=function(){for(var r=this,n=r.actions,o=r.maxFrames,i,h;(h=n[0])&&h.delay<=o&&(n.shift(),this.frame=h.delay,!(i=h.execute(h.state,h.delay))););if(i){for(;h=n.shift();)h.unsubscribe();throw i}},t.frameTimeFactor=10,t}(Ms),H1=function(e){tt(t,e);function t(r,n,o){o===void 0&&(o=r.index+=1);var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.index=o,i.active=!0,i.index=r.index=o,i}return t.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(r,n)},t.prototype.requestAsyncId=function(r,n,o){o===void 0&&(o=0),this.delay=r.frame+o;var i=r.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(r,n,o){},t.prototype._execute=function(r,n){if(this.active===!0)return e.prototype._execute.call(this,r,n)},t.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},t}(Is);function al(e){return e}function wF(e){return!!e&&(e instanceof Ze||typeof e.lift=="function"&&typeof e.subscribe=="function")}function $1(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}$1.prototype=Object.create(Error.prototype);var AF=$1;function W1(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}W1.prototype=Object.create(Error.prototype);var SF=W1;function q1(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}q1.prototype=Object.create(Error.prototype);var PF=q1;function Qo(e,t){return function(n){if(typeof e!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new OF(e,t))}}var OF=function(){function e(t,r){this.project=t,this.thisArg=r}return e.prototype.call=function(t,r){return r.subscribe(new RF(t,this.project,this.thisArg))},e}(),RF=function(e){tt(t,e);function t(r,n,o){var i=e.call(this,r)||this;return i.project=n,i.count=0,i.thisArg=o||i,i}return t.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(o){this.destination.error(o);return}this.destination.next(n)},t}(Or);function X1(e,t,r){if(t)if(ui(t))r=t;else return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return X1(e,r).apply(void 0,n).pipe(Qo(function(i){return on(i)?t.apply(void 0,i):t(i)}))};return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=this,h,g={context:i,subject:h,callbackFunc:e,scheduler:r};return new Ze(function(p){if(r){var d={args:n,subscriber:p,params:g};return r.schedule(LF,0,d)}else{if(!h){h=new Ds;var v=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];h.next(c.length<=1?c[0]:c),h.complete()};try{e.apply(i,n.concat([v]))}catch(c){up(h)?h.error(c):console.warn(c)}}return h.subscribe(p)}})}}function LF(e){var t=this,r=e.args,n=e.subscriber,o=e.params,i=o.callbackFunc,h=o.context,g=o.scheduler,p=o.subject;if(!p){p=o.subject=new Ds;var v=function(){for(var d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];var a=d.length<=1?d[0]:d;t.add(g.schedule(CF,0,{value:a,subject:p}))};try{i.apply(h,r.concat([v]))}catch(d){p.error(d)}}this.add(p.subscribe(n))}function CF(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function Y1(e,t,r){if(t)if(ui(t))r=t;else return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return Y1(e,r).apply(void 0,n).pipe(Qo(function(i){return on(i)?t.apply(void 0,i):t(i)}))};return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i={subject:void 0,args:n,callbackFunc:e,scheduler:r,context:this};return new Ze(function(h){var g=i.context,p=i.subject;if(r)return r.schedule(IF,0,{params:i,subscriber:h,context:g});if(!p){p=i.subject=new Ds;var v=function(){for(var d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];var a=d.shift();if(a){p.error(a);return}p.next(d.length<=1?d[0]:d),p.complete()};try{e.apply(g,n.concat([v]))}catch(d){up(p)?p.error(d):console.warn(d)}}return p.subscribe(h)})}}function IF(e){var t=this,r=e.params,n=e.subscriber,o=e.context,i=r.callbackFunc,h=r.args,g=r.scheduler,p=r.subject;if(!p){p=r.subject=new Ds;var v=function(){for(var d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];var a=d.shift();if(a)t.add(g.schedule(s0,0,{err:a,subject:p}));else{var l=d.length<=1?d[0]:d;t.add(g.schedule(MF,0,{value:l,subject:p}))}};try{i.apply(o,h.concat([v]))}catch(d){this.add(g.schedule(s0,0,{err:d,subject:p}))}}this.add(p.subscribe(n))}function MF(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function s0(e){var t=e.err,r=e.subject;r.error(t)}var Ns=function(e){tt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.notifyNext=function(r,n,o,i,h){this.destination.next(n)},t.prototype.notifyError=function(r,n){this.destination.error(r)},t.prototype.notifyComplete=function(r){this.destination.complete()},t}(Or),K1=function(e){tt(t,e);function t(r,n,o){var i=e.call(this)||this;return i.parent=r,i.outerValue=n,i.outerIndex=o,i.index=0,i}return t.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},t.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(Or),Z1=function(e){return function(t){return e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,Eo),t}};function DF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var li=DF(),Q1=function(e){return function(t){var r=e[li]();do{var n=r.next();if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}while(!0);return typeof r.return=="function"&&t.add(function(){r.return&&r.return()}),t}},J1=function(e){return function(t){var r=e[Zo]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(t)}},eE=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function tE(e){return!!e&&typeof e.subscribe!="function"&&typeof e.then=="function"}var rE=function(e){if(e instanceof Ze)return function(n){if(e._isScalar){n.next(e.value),n.complete();return}else return e.subscribe(n)};if(!!e&&typeof e[Zo]=="function")return J1(e);if(eE(e))return G1(e);if(tE(e))return Z1(e);if(!!e&&typeof e[li]=="function")return Q1(e);var t=D1(e)?"an invalid object":"'"+e+"'",r="You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function ks(e,t,r,n,o){if(o===void 0&&(o=new K1(e,r,n)),!o.closed)return rE(t)(o)}var u0={};function NF(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=null,n=null;return ui(e[e.length-1])&&(n=e.pop()),typeof e[e.length-1]=="function"&&(r=e.pop()),e.length===1&&on(e[0])&&(e=e[0]),Fi(e,n).lift(new kF(r))}var kF=function(){function e(t){this.resultSelector=t}return e.prototype.call=function(t,r){return r.subscribe(new BF(t,this.resultSelector))},e}(),BF=function(e){tt(t,e);function t(r,n){var o=e.call(this,r)||this;return o.resultSelector=n,o.active=0,o.values=[],o.observables=[],o}return t.prototype._next=function(r){this.values.push(u0),this.observables.push(r)},t.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var o=0;o<n;o++){var i=r[o];this.add(ks(this,i,i,o))}}},t.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},t.prototype.notifyNext=function(r,n,o,i,h){var g=this.values,p=g[o],v=this.toRespond?p===u0?--this.toRespond:this.toRespond:0;g[o]=n,v===0&&(this.resultSelector?this._tryResultSelector(g):this.destination.next(g.slice()))},t.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(o){this.destination.error(o);return}this.destination.next(n)},t}(Ns);function FF(e){return e&&typeof e[Zo]=="function"}function jF(e){return e&&typeof e[li]=="function"}function zF(e,t){return t?new Ze(function(r){var n=new Vt;return n.add(t.schedule(function(){return e.then(function(o){n.add(t.schedule(function(){r.next(o),n.add(t.schedule(function(){return r.complete()}))}))},function(o){n.add(t.schedule(function(){return r.error(o)}))})})),n}):new Ze(Z1(e))}function UF(e,t){if(!e)throw new Error("Iterable cannot be null");return t?new Ze(function(r){var n=new Vt,o;return n.add(function(){o&&typeof o.return=="function"&&o.return()}),n.add(t.schedule(function(){o=e[li](),n.add(t.schedule(function(){if(!r.closed){var i,h;try{var g=o.next();i=g.value,h=g.done}catch(p){r.error(p);return}h?r.complete():(r.next(i),this.schedule())}}))})),n}):new Ze(Q1(e))}function GF(e,t){return t?new Ze(function(r){var n=new Vt;return n.add(t.schedule(function(){var o=e[Zo]();n.add(o.subscribe({next:function(i){n.add(t.schedule(function(){return r.next(i)}))},error:function(i){n.add(t.schedule(function(){return r.error(i)}))},complete:function(){n.add(t.schedule(function(){return r.complete()}))}}))})),n}):new Ze(J1(e))}function Bs(e,t){if(!t)return e instanceof Ze?e:new Ze(rE(e));if(e!=null){if(FF(e))return GF(e,t);if(tE(e))return zF(e,t);if(eE(e))return Fi(e,t);if(jF(e)||typeof e=="string")return UF(e,t)}throw new TypeError((e!==null&&typeof e||e)+" is not observable")}function nE(e,t,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof t=="function"?function(n){return n.pipe(nE(function(o,i){return Bs(e(o,i)).pipe(Qo(function(h,g){return t(o,h,i,g)}))},r))}:(typeof t=="number"&&(r=t),function(n){return n.lift(new VF(e,r))})}var VF=function(){function e(t,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=r}return e.prototype.call=function(t,r){return r.subscribe(new HF(t,this.project,this.concurrent))},e}(),HF=function(e){tt(t,e);function t(r,n,o){o===void 0&&(o=Number.POSITIVE_INFINITY);var i=e.call(this,r)||this;return i.project=n,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return t.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},t.prototype._tryNext=function(r){var n,o=this.index++;try{n=this.project(r,o)}catch(i){this.destination.error(i);return}this.active++,this._innerSub(n,r,o)},t.prototype._innerSub=function(r,n,o){var i=new K1(this,void 0,void 0),h=this.destination;h.add(i),ks(this,r,n,o,i)},t.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(r,n,o,i,h){this.destination.next(n)},t.prototype.notifyComplete=function(r){var n=this.buffer;this.remove(r),this.active--,n.length>0?this._next(n.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},t}(Ns);function iE(e){return e===void 0&&(e=Number.POSITIVE_INFINITY),nE(al,e)}function $F(){return iE(1)}function WF(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $F()(cp.apply(void 0,e))}function oE(e){return new Ze(function(t){var r;try{r=e()}catch(o){t.error(o);return}var n=r?Bs(r):nc();return n.subscribe(t)})}function aE(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r;return typeof e[e.length-1]=="function"&&(r=e.pop()),e.length===1&&on(e[0])&&(e=e[0]),e.length===0?Bi:r?aE(e).pipe(Qo(function(n){return r.apply(void 0,n)})):new Ze(function(n){return new qF(n,e)})}var qF=function(e){tt(t,e);function t(r,n){var o=e.call(this,r)||this;o.sources=n,o.completed=0,o.haveValues=0;var i=n.length;o.values=new Array(i);for(var h=0;h<i;h++){var g=n[h],p=ks(o,g,null,h);p&&o.add(p)}return o}return t.prototype.notifyNext=function(r,n,o,i,h){this.values[o]=n,h._hasValue||(h._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(r){var n=this,o=n.destination,i=n.haveValues,h=n.values,g=h.length;if(!r._hasValue){o.complete();return}this.completed++,this.completed===g&&(i===g&&o.next(h),o.complete())},t}(Ns);function sE(e,t,r,n){return us(r)&&(n=r,r=void 0),n?sE(e,t,r).pipe(Qo(function(o){return on(o)?n.apply(void 0,o):n(o)})):new Ze(function(o){function i(h){arguments.length>1?o.next(Array.prototype.slice.call(arguments)):o.next(h)}uE(e,t,i,o,r)})}function uE(e,t,r,n,o){var i;if(KF(e)){var h=e;e.addEventListener(t,r,o),i=function(){return h.removeEventListener(t,r,o)}}else if(YF(e)){var g=e;e.on(t,r),i=function(){return g.off(t,r)}}else if(XF(e)){var p=e;e.addListener(t,r),i=function(){return p.removeListener(t,r)}}else if(e&&e.length)for(var v=0,d=e.length;v<d;v++)uE(e[v],t,r,n,o);else throw new TypeError("Invalid event target");n.add(i)}function XF(e){return e&&typeof e.addListener=="function"&&typeof e.removeListener=="function"}function YF(e){return e&&typeof e.on=="function"&&typeof e.off=="function"}function KF(e){return e&&typeof e.addEventListener=="function"&&typeof e.removeEventListener=="function"}function lE(e,t,r){return r?lE(e,t).pipe(Qo(function(n){return on(n)?r.apply(void 0,n):r(n)})):new Ze(function(n){var o=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];return n.next(h.length===1?h[0]:h)},i;try{i=e(o)}catch(h){n.error(h);return}if(!!us(t))return function(){return t(o,i)}})}function ZF(e,t,r,n,o){var i,h;if(arguments.length==1){var g=e;h=g.initialState,t=g.condition,r=g.iterate,i=g.resultSelector||al,o=g.scheduler}else n===void 0||ui(n)?(h=e,i=al,o=n):(h=e,i=n);return new Ze(function(p){var v=h;if(o)return o.schedule(QF,0,{subscriber:p,iterate:r,condition:t,resultSelector:i,state:v});do{if(t){var d=void 0;try{d=t(v)}catch(a){p.error(a);return}if(!d){p.complete();break}}var c=void 0;try{c=i(v)}catch(a){p.error(a);return}if(p.next(c),p.closed)break;try{v=r(v)}catch(a){p.error(a);return}}while(!0)})}function QF(e){var t=e.subscriber,r=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(i){t.error(i);return}else e.needIterate=!0;if(r){var n=void 0;try{n=r(e.state)}catch(i){t.error(i);return}if(!n){t.complete();return}if(t.closed)return}var o;try{o=e.resultSelector(e.state)}catch(i){t.error(i);return}if(!t.closed&&(t.next(o),!t.closed))return this.schedule(e)}}function JF(e,t,r){return t===void 0&&(t=Bi),r===void 0&&(r=Bi),oE(function(){return e()?t:r})}function wd(e){return!on(e)&&e-parseFloat(e)+1>=0}function ej(e,t){return e===void 0&&(e=0),t===void 0&&(t=ol),(!wd(e)||e<0)&&(e=0),(!t||typeof t.schedule!="function")&&(t=ol),new Ze(function(r){return r.add(t.schedule(tj,e,{subscriber:r,counter:0,period:e})),r})}function tj(e){var t=e.subscriber,r=e.counter,n=e.period;t.next(r),this.schedule({subscriber:t,counter:r+1,period:n},n)}function rj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Number.POSITIVE_INFINITY,n=null,o=e[e.length-1];return ui(o)?(n=e.pop(),e.length>1&&typeof e[e.length-1]=="number"&&(r=e.pop())):typeof o=="number"&&(r=e.pop()),n===null&&e.length===1&&e[0]instanceof Ze?e[0]:iE(r)(Fi(e,n))}var cE=new Ze(lp);function nj(){return cE}function Ad(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===0)return Bi;var r=e[0],n=e.slice(1);return e.length===1&&on(r)?Ad.apply(void 0,r):new Ze(function(o){var i=function(){return o.add(Ad.apply(void 0,n).subscribe(o))};return Bs(r).subscribe({next:function(h){o.next(h)},error:i,complete:i})})}function ij(e,t){return t?new Ze(function(r){var n=Object.keys(e),o=new Vt;return o.add(t.schedule(oj,0,{keys:n,index:0,subscriber:r,subscription:o,obj:e})),o}):new Ze(function(r){for(var n=Object.keys(e),o=0;o<n.length&&!r.closed;o++){var i=n[o];e.hasOwnProperty(i)&&r.next([i,e[i]])}r.complete()})}function oj(e){var t=e.keys,r=e.index,n=e.subscriber,o=e.subscription,i=e.obj;if(!n.closed)if(r<t.length){var h=t[r];n.next([h,i[h]]),o.add(this.schedule({keys:t,index:r+1,subscriber:n,subscription:o,obj:i}))}else n.complete()}function aj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===1)if(on(e[0]))e=e[0];else return e[0];return Fi(e,void 0).lift(new sj)}var sj=function(){function e(){}return e.prototype.call=function(t,r){return r.subscribe(new uj(t))},e}(),uj=function(e){tt(t,e);function t(r){var n=e.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return t.prototype._next=function(r){this.observables.push(r)},t.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var o=0;o<n&&!this.hasFirst;o++){var i=r[o],h=ks(this,i,i,o);this.subscriptions&&this.subscriptions.push(h),this.add(h)}this.observables=null}},t.prototype.notifyNext=function(r,n,o,i,h){if(!this.hasFirst){this.hasFirst=!0;for(var g=0;g<this.subscriptions.length;g++)if(g!==o){var p=this.subscriptions[g];p.unsubscribe(),this.remove(p)}this.subscriptions=null}this.destination.next(n)},t}(Ns);function lj(e,t,r){return e===void 0&&(e=0),new Ze(function(n){t===void 0&&(t=e,e=0);var o=0,i=e;if(r)return r.schedule(cj,0,{index:o,count:t,start:e,subscriber:n});do{if(o++>=t){n.complete();break}if(n.next(i++),n.closed)break}while(!0)})}function cj(e){var t=e.start,r=e.index,n=e.count,o=e.subscriber;if(r>=n){o.complete();return}o.next(t),!o.closed&&(e.index=r+1,e.start=t+1,this.schedule(e))}function fj(e,t,r){e===void 0&&(e=0);var n=-1;return wd(t)?n=Number(t)<1&&1||Number(t):ui(t)&&(r=t),ui(r)||(r=ol),new Ze(function(o){var i=wd(e)?e:+e-r.now();return r.schedule(dj,i,{index:0,period:n,subscriber:o})})}function dj(e){var t=e.index,r=e.period,n=e.subscriber;if(n.next(t),!n.closed){if(r===-1)return n.complete();e.index=t+1,this.schedule(e,r)}}function hj(e,t){return new Ze(function(r){var n;try{n=e()}catch(g){r.error(g);return}var o;try{o=t(n)}catch(g){r.error(g);return}var i=o?Bs(o):Bi,h=i.subscribe(r);return function(){h.unsubscribe(),n&&n.unsubscribe()}})}function pj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return typeof r=="function"&&e.pop(),Fi(e,void 0).lift(new _j(r))}var _j=function(){function e(t){this.resultSelector=t}return e.prototype.call=function(t,r){return r.subscribe(new mj(t,this.resultSelector))},e}(),mj=function(e){tt(t,e);function t(r,n,o){o===void 0&&(o=Object.create(null));var i=e.call(this,r)||this;return i.iterators=[],i.active=0,i.resultSelector=typeof n=="function"?n:null,i.values=o,i}return t.prototype._next=function(r){var n=this.iterators;on(r)?n.push(new vj(r)):typeof r[li]=="function"?n.push(new gj(r[li]())):n.push(new yj(this.destination,this,r))},t.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var o=0;o<n;o++){var i=r[o];if(i.stillUnsubscribed){var h=this.destination;h.add(i.subscribe(i,o))}else this.active--}},t.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},t.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,o=this.destination,i=0;i<n;i++){var h=r[i];if(typeof h.hasValue=="function"&&!h.hasValue())return}for(var g=!1,p=[],i=0;i<n;i++){var h=r[i],v=h.next();if(h.hasCompleted()&&(g=!0),v.done){o.complete();return}p.push(v.value)}this.resultSelector?this._tryresultSelector(p):o.next(p),g&&o.complete()},t.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(o){this.destination.error(o);return}this.destination.next(n)},t}(Or),gj=function(){function e(t){this.iterator=t,this.nextResult=t.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},e.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},e}(),vj=function(){function e(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return e.prototype[li]=function(){return this},e.prototype.next=function(t){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),yj=function(e){tt(t,e);function t(r,n,o){var i=e.call(this,r)||this;return i.parent=n,i.observable=o,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return t.prototype[li]=function(){return this},t.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(r,n,o,i,h){this.buffer.push(n),this.parent.checkIterators()},t.prototype.subscribe=function(r,n){return ks(this,this.observable,this,n)},t}(Ns),bj=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Observable:Ze,ConnectableObservable:z1,GroupedObservable:rF,observable:Zo,Subject:Cs,BehaviorSubject:iF,ReplaySubject:hF,AsyncSubject:Ds,asapScheduler:yF,asyncScheduler:ol,queueScheduler:U1,animationFrameScheduler:TF,VirtualTimeScheduler:xF,VirtualAction:H1,Scheduler:Td,Subscription:Vt,Subscriber:Or,Notification:Pu,pipe:ZB,noop:lp,identity:al,isObservable:wF,ArgumentOutOfRangeError:AF,EmptyError:SF,ObjectUnsubscribedError:qn,UnsubscriptionError:Ba,TimeoutError:PF,bindCallback:X1,bindNodeCallback:Y1,combineLatest:NF,concat:WF,defer:oE,empty:nc,forkJoin:aE,from:Bs,fromEvent:sE,fromEventPattern:lE,generate:ZF,iif:JF,interval:ej,merge:rj,never:nj,of:cp,onErrorResumeNext:Ad,pairs:ij,race:aj,range:lj,throwError:V1,timer:fj,using:hj,zip:pj,EMPTY:Bi,NEVER:cE,config:zr}),Ej=dr(bj),sl=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(n,o,i){r.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:i})},r.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,o){if(1&o&&(n=r(n)),8&o||4&o&&typeof n=="object"&&n&&n.__esModule)return n;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&o&&typeof n!="string")for(var h in n)r.d(i,h,function(g){return n[g]}.bind(null,h));return i},r.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(o,"a",o),o},r.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},r.p="",r(r.s=33)}([function(e,t,r){e.exports=function(n){var o={};function i(h){if(o[h])return o[h].exports;var g=o[h]={i:h,l:!1,exports:{}};return n[h].call(g.exports,g,g.exports,i),g.l=!0,g.exports}return i.m=n,i.c=o,i.d=function(h,g,p){i.o(h,g)||Object.defineProperty(h,g,{enumerable:!0,get:p})},i.r=function(h){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},i.t=function(h,g){if(1&g&&(h=i(h)),8&g||4&g&&typeof h=="object"&&h&&h.__esModule)return h;var p=Object.create(null);if(i.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:h}),2&g&&typeof h!="string")for(var v in h)i.d(p,v,function(d){return h[d]}.bind(null,v));return p},i.n=function(h){var g=h&&h.__esModule?function(){return h.default}:function(){return h};return i.d(g,"a",g),g},i.o=function(h,g){return Object.prototype.hasOwnProperty.call(h,g)},i.p="",i(i.s=79)}([function(n,o,i){var h,g=this&&this.__spreadArrays||function(){for(var v=0,d=0,c=arguments.length;d<c;d++)v+=arguments[d].length;var a=Array(v),l=0;for(d=0;d<c;d++)for(var s=arguments[d],u=0,f=s.length;u<f;u++,l++)a[l]=s[u];return a},p=i(3);(function(v){var d,c=2;v.logVerbosity=function(x){return x!==void 0&&(c=Math.max(-1,x)),c},function(x){x[x.Debug=3]="Debug",x[x.Info=2]="Info",x[x.Warning=1]="Warning",x[x.Error=0]="Error"}(d=v.LogLevel||(v.LogLevel={}));var a=function(x,w){if(!x)throw new EvalError(w)},l=function(x,w){};function s(x){for(var w=[],S=1;S<arguments.length;S++)w[S-1]=arguments[S];x>c||console.log.apply(console,g(["["+x+"]"],w))}function u(x){var w=x+"-start";v.assert(performance.getEntriesByName(x).length===0,"expected mark identifier to not already exists, given "+x),v.assert(performance.getEntriesByName(w).length===0,"expected mark identifier to not already exists, given "+w),performance.mark(w)}function f(x,w,S){S===void 0&&(S=0);var P=x+"-start",A=x+"-end";v.assert(performance.getEntriesByName(x).length===0,"expected mark identifier to not already exists, given "+x),v.assert(performance.getEntriesByName(A).length===0,"expected mark identifier to not already exists, given "+A),performance.mark(A),performance.measure(x,P,A);var L=performance.getEntriesByName(x)[0];performance.clearMarks(P),performance.clearMarks(A),performance.clearMeasures(x);var k=w===void 0||w.length===0?0:2,D=Math.max(k,S-x.length-(w?w.length:0)-1),N=E(L.duration);s(d.Debug,""+x+" ".repeat(D)+(w||"")+" | "+N)}v.assert=a,v.assertions=function(x){return x!==void 0&&(v.assert=x?a:l),v.assert!==l},v.log=s,v.logIf=function(x,w){for(var S=[],P=2;P<arguments.length;P++)S[P-2]=arguments[P];x&&s.apply(void 0,g([w],S))},v.logPerformanceStart=u,v.logPerformanceStartIf=function(x,w){x&&u(w)},v.logPerformanceStop=f,v.logPerformanceStopIf=function(x,w,S,P){P===void 0&&(P=0),x&&f(w,S,P)},v.rand=function(x,w){return x===void 0&&(x=0),w===void 0&&(w=1),Math.random()*(w-x)+x},v.isPowerOfTwo=function(x){return Number.isInteger(x)&&Number.isInteger(Math.log2(x))},v.upperPowerOfTwo=function(x){return--x,x|=x>>1,x|=x>>2,x|=x>>4,x|=x>>8,x|=x>>16,++x};var m=["","Ki","Mi","Gi","Ti","Pi","Ei","Zi","Yi"];v.prettyPrintBytes=function(x){var w=x>0?Math.floor(Math.log(x)/Math.log(1024)):0,S=x/Math.pow(1024,w);return""+(w>0?S.toFixed(3):S)+m[w]+"B"};var y=["ms","ns","\u03BCs","ms","s"],b=[0,1e6,1e3,1,.001];function E(x){var w=x>0?Math.max(1,Math.floor(Math.log(10*x)/Math.log(1e3))+3):0;return w=p.clamp(w,0,4),""+(x*b[w]).toFixed(3)+y[w]}v.prettyPrintMilliseconds=E,v.bitInBitfield=function(x,w){return w!==void 0&&(x&w)===w},v.RAD2DEG=57.29577951308232,v.DEG2RAD=.017453292519943295,v.GETsearch=function(){return window.location.search},v.GETparameter=function(x){var w=new RegExp(x+"=([^&]+)"),S=window.location.search.match(w);if(S)return S[1]},v.PATH_SEPARATOR="/",v.dirname=function(x){return x.includes(v.PATH_SEPARATOR)===!1?"":x.substr(0,x.lastIndexOf(v.PATH_SEPARATOR)).trimLeft()},v.basename=function(x){return x.includes(v.PATH_SEPARATOR)===!1?x:x.substr(x.lastIndexOf(v.PATH_SEPARATOR)+1).trimRight()}})(h||(h={})),n.exports=h},function(n,o,i){i.r(o),i.d(o,"glMatrix",function(){return h}),i.d(o,"mat2",function(){return g}),i.d(o,"mat2d",function(){return p}),i.d(o,"mat3",function(){return v}),i.d(o,"mat4",function(){return d}),i.d(o,"quat",function(){return l}),i.d(o,"quat2",function(){return s}),i.d(o,"vec2",function(){return u}),i.d(o,"vec3",function(){return c}),i.d(o,"vec4",function(){return a});var h={};i.r(h),i.d(h,"EPSILON",function(){return f}),i.d(h,"ARRAY_TYPE",function(){return m}),i.d(h,"RANDOM",function(){return y}),i.d(h,"setMatrixArrayType",function(){return b}),i.d(h,"toRadian",function(){return x}),i.d(h,"equals",function(){return w});var g={};i.r(g),i.d(g,"create",function(){return S}),i.d(g,"clone",function(){return P}),i.d(g,"copy",function(){return A}),i.d(g,"identity",function(){return L}),i.d(g,"fromValues",function(){return k}),i.d(g,"set",function(){return D}),i.d(g,"transpose",function(){return N}),i.d(g,"invert",function(){return W}),i.d(g,"adjoint",function(){return H}),i.d(g,"determinant",function(){return q}),i.d(g,"multiply",function(){return X}),i.d(g,"rotate",function(){return Y}),i.d(g,"scale",function(){return J}),i.d(g,"fromRotation",function(){return ee}),i.d(g,"fromScaling",function(){return te}),i.d(g,"str",function(){return ne}),i.d(g,"frob",function(){return fe}),i.d(g,"LDU",function(){return _e}),i.d(g,"add",function(){return ye}),i.d(g,"subtract",function(){return re}),i.d(g,"exactEquals",function(){return be}),i.d(g,"equals",function(){return Ae}),i.d(g,"multiplyScalar",function(){return pe}),i.d(g,"multiplyScalarAndAdd",function(){return Pe}),i.d(g,"mul",function(){return xe}),i.d(g,"sub",function(){return Re});var p={};i.r(p),i.d(p,"create",function(){return he}),i.d(p,"clone",function(){return Se}),i.d(p,"copy",function(){return Ce}),i.d(p,"identity",function(){return Te}),i.d(p,"fromValues",function(){return Ie}),i.d(p,"set",function(){return Me}),i.d(p,"invert",function(){return Ue}),i.d(p,"determinant",function(){return Ne}),i.d(p,"multiply",function(){return Ye}),i.d(p,"rotate",function(){return ke}),i.d(p,"scale",function(){return He}),i.d(p,"translate",function(){return et}),i.d(p,"fromRotation",function(){return Le}),i.d(p,"fromScaling",function(){return Ke}),i.d(p,"fromTranslation",function(){return U}),i.d(p,"str",function(){return C}),i.d(p,"frob",function(){return M}),i.d(p,"add",function(){return z}),i.d(p,"subtract",function(){return V}),i.d(p,"multiplyScalar",function(){return j}),i.d(p,"multiplyScalarAndAdd",function(){return Z}),i.d(p,"exactEquals",function(){return se}),i.d(p,"equals",function(){return de}),i.d(p,"mul",function(){return ve}),i.d(p,"sub",function(){return Oe});var v={};i.r(v),i.d(v,"create",function(){return Fe}),i.d(v,"fromMat4",function(){return It}),i.d(v,"clone",function(){return Mt}),i.d(v,"copy",function(){return xn}),i.d(v,"fromValues",function(){return Jo}),i.d(v,"set",function(){return Gi}),i.d(v,"identity",function(){return ic}),i.d(v,"transpose",function(){return oc}),i.d(v,"invert",function(){return ac}),i.d(v,"adjoint",function(){return zn}),i.d(v,"determinant",function(){return _i}),i.d(v,"multiply",function(){return Fs}),i.d(v,"translate",function(){return sc}),i.d(v,"rotate",function(){return uc}),i.d(v,"scale",function(){return ea}),i.d(v,"fromTranslation",function(){return ta}),i.d(v,"fromRotation",function(){return js}),i.d(v,"fromScaling",function(){return gt}),i.d(v,"fromMat2d",function(){return Dr}),i.d(v,"fromQuat",function(){return st}),i.d(v,"normalFromMat4",function(){return Nr}),i.d(v,"projection",function(){return Un}),i.d(v,"str",function(){return lc}),i.d(v,"frob",function(){return ra}),i.d(v,"add",function(){return Vi}),i.d(v,"subtract",function(){return dp}),i.d(v,"multiplyScalar",function(){return mE}),i.d(v,"multiplyScalarAndAdd",function(){return gE}),i.d(v,"exactEquals",function(){return vE}),i.d(v,"equals",function(){return yE}),i.d(v,"mul",function(){return bE}),i.d(v,"sub",function(){return EE});var d={};i.r(d),i.d(d,"create",function(){return TE}),i.d(d,"clone",function(){return xE}),i.d(d,"copy",function(){return wE}),i.d(d,"fromValues",function(){return AE}),i.d(d,"set",function(){return SE}),i.d(d,"identity",function(){return hp}),i.d(d,"transpose",function(){return PE}),i.d(d,"invert",function(){return OE}),i.d(d,"adjoint",function(){return RE}),i.d(d,"determinant",function(){return LE}),i.d(d,"multiply",function(){return pp}),i.d(d,"translate",function(){return CE}),i.d(d,"scale",function(){return IE}),i.d(d,"rotate",function(){return ME}),i.d(d,"rotateX",function(){return DE}),i.d(d,"rotateY",function(){return NE}),i.d(d,"rotateZ",function(){return kE}),i.d(d,"fromTranslation",function(){return BE}),i.d(d,"fromScaling",function(){return FE}),i.d(d,"fromRotation",function(){return jE}),i.d(d,"fromXRotation",function(){return zE}),i.d(d,"fromYRotation",function(){return UE}),i.d(d,"fromZRotation",function(){return GE}),i.d(d,"fromRotationTranslation",function(){return _p}),i.d(d,"fromQuat2",function(){return VE}),i.d(d,"getTranslation",function(){return mp}),i.d(d,"getScaling",function(){return gp}),i.d(d,"getRotation",function(){return vp}),i.d(d,"fromRotationTranslationScale",function(){return HE}),i.d(d,"fromRotationTranslationScaleOrigin",function(){return $E}),i.d(d,"fromQuat",function(){return WE}),i.d(d,"frustum",function(){return qE}),i.d(d,"perspective",function(){return XE}),i.d(d,"perspectiveFromFieldOfView",function(){return YE}),i.d(d,"ortho",function(){return KE}),i.d(d,"lookAt",function(){return ZE}),i.d(d,"targetTo",function(){return QE}),i.d(d,"str",function(){return JE}),i.d(d,"frob",function(){return eT}),i.d(d,"add",function(){return tT}),i.d(d,"subtract",function(){return yp}),i.d(d,"multiplyScalar",function(){return rT}),i.d(d,"multiplyScalarAndAdd",function(){return nT}),i.d(d,"exactEquals",function(){return iT}),i.d(d,"equals",function(){return oT}),i.d(d,"mul",function(){return aT}),i.d(d,"sub",function(){return sT});var c={};i.r(c),i.d(c,"create",function(){return cc}),i.d(c,"clone",function(){return uT}),i.d(c,"length",function(){return bp}),i.d(c,"fromValues",function(){return fc}),i.d(c,"copy",function(){return lT}),i.d(c,"set",function(){return cT}),i.d(c,"add",function(){return fT}),i.d(c,"subtract",function(){return Ep}),i.d(c,"multiply",function(){return Tp}),i.d(c,"divide",function(){return xp}),i.d(c,"ceil",function(){return dT}),i.d(c,"floor",function(){return hT}),i.d(c,"min",function(){return pT}),i.d(c,"max",function(){return _T}),i.d(c,"round",function(){return mT}),i.d(c,"scale",function(){return gT}),i.d(c,"scaleAndAdd",function(){return vT}),i.d(c,"distance",function(){return wp}),i.d(c,"squaredDistance",function(){return Ap}),i.d(c,"squaredLength",function(){return Sp}),i.d(c,"negate",function(){return yT}),i.d(c,"inverse",function(){return bT}),i.d(c,"normalize",function(){return Pp}),i.d(c,"dot",function(){return dc}),i.d(c,"cross",function(){return zs}),i.d(c,"lerp",function(){return ET}),i.d(c,"hermite",function(){return TT}),i.d(c,"bezier",function(){return xT}),i.d(c,"random",function(){return wT}),i.d(c,"transformMat4",function(){return AT}),i.d(c,"transformMat3",function(){return ST}),i.d(c,"transformQuat",function(){return PT}),i.d(c,"rotateX",function(){return OT}),i.d(c,"rotateY",function(){return RT}),i.d(c,"rotateZ",function(){return LT}),i.d(c,"angle",function(){return CT}),i.d(c,"zero",function(){return IT}),i.d(c,"str",function(){return MT}),i.d(c,"exactEquals",function(){return DT}),i.d(c,"equals",function(){return NT}),i.d(c,"sub",function(){return kT}),i.d(c,"mul",function(){return BT}),i.d(c,"div",function(){return FT}),i.d(c,"dist",function(){return jT}),i.d(c,"sqrDist",function(){return zT}),i.d(c,"len",function(){return Op}),i.d(c,"sqrLen",function(){return UT}),i.d(c,"forEach",function(){return GT});var a={};i.r(a),i.d(a,"create",function(){return Rp}),i.d(a,"clone",function(){return Lp}),i.d(a,"fromValues",function(){return Cp}),i.d(a,"copy",function(){return Ip}),i.d(a,"set",function(){return Mp}),i.d(a,"add",function(){return Dp}),i.d(a,"subtract",function(){return Np}),i.d(a,"multiply",function(){return kp}),i.d(a,"divide",function(){return Bp}),i.d(a,"ceil",function(){return VT}),i.d(a,"floor",function(){return HT}),i.d(a,"min",function(){return $T}),i.d(a,"max",function(){return WT}),i.d(a,"round",function(){return qT}),i.d(a,"scale",function(){return Fp}),i.d(a,"scaleAndAdd",function(){return XT}),i.d(a,"distance",function(){return jp}),i.d(a,"squaredDistance",function(){return zp}),i.d(a,"length",function(){return hc}),i.d(a,"squaredLength",function(){return pc}),i.d(a,"negate",function(){return YT}),i.d(a,"inverse",function(){return KT}),i.d(a,"normalize",function(){return Up}),i.d(a,"dot",function(){return Gp}),i.d(a,"cross",function(){return ZT}),i.d(a,"lerp",function(){return Vp}),i.d(a,"random",function(){return QT}),i.d(a,"transformMat4",function(){return JT}),i.d(a,"transformQuat",function(){return ex}),i.d(a,"zero",function(){return tx}),i.d(a,"str",function(){return rx}),i.d(a,"exactEquals",function(){return Hp}),i.d(a,"equals",function(){return $p}),i.d(a,"sub",function(){return nx}),i.d(a,"mul",function(){return ix}),i.d(a,"div",function(){return ox}),i.d(a,"dist",function(){return ax}),i.d(a,"sqrDist",function(){return sx}),i.d(a,"len",function(){return ux}),i.d(a,"sqrLen",function(){return lx}),i.d(a,"forEach",function(){return cx});var l={};i.r(l),i.d(l,"create",function(){return Us}),i.d(l,"identity",function(){return fx}),i.d(l,"setAxisAngle",function(){return Wp}),i.d(l,"getAxisAngle",function(){return dx}),i.d(l,"getAngle",function(){return hx}),i.d(l,"multiply",function(){return qp}),i.d(l,"rotateX",function(){return Xp}),i.d(l,"rotateY",function(){return Yp}),i.d(l,"rotateZ",function(){return Kp}),i.d(l,"calculateW",function(){return px}),i.d(l,"exp",function(){return Zp}),i.d(l,"ln",function(){return Qp}),i.d(l,"pow",function(){return _x}),i.d(l,"slerp",function(){return Gs}),i.d(l,"random",function(){return mx}),i.d(l,"invert",function(){return gx}),i.d(l,"conjugate",function(){return vx}),i.d(l,"fromMat3",function(){return Jp}),i.d(l,"fromEuler",function(){return yx}),i.d(l,"str",function(){return bx}),i.d(l,"clone",function(){return Ex}),i.d(l,"fromValues",function(){return Tx}),i.d(l,"copy",function(){return gc}),i.d(l,"set",function(){return xx}),i.d(l,"add",function(){return wx}),i.d(l,"mul",function(){return Ax}),i.d(l,"scale",function(){return r_}),i.d(l,"dot",function(){return vc}),i.d(l,"lerp",function(){return Sx}),i.d(l,"length",function(){return yc}),i.d(l,"len",function(){return Px}),i.d(l,"squaredLength",function(){return bc}),i.d(l,"sqrLen",function(){return Ox}),i.d(l,"normalize",function(){return Ec}),i.d(l,"exactEquals",function(){return Rx}),i.d(l,"equals",function(){return Lx}),i.d(l,"rotationTo",function(){return Cx}),i.d(l,"sqlerp",function(){return Ix}),i.d(l,"setAxes",function(){return Mx});var s={};i.r(s),i.d(s,"create",function(){return Dx}),i.d(s,"clone",function(){return Nx}),i.d(s,"fromValues",function(){return kx}),i.d(s,"fromRotationTranslationValues",function(){return Bx}),i.d(s,"fromRotationTranslation",function(){return n_}),i.d(s,"fromTranslation",function(){return Fx}),i.d(s,"fromRotation",function(){return jx}),i.d(s,"fromMat4",function(){return zx}),i.d(s,"copy",function(){return i_}),i.d(s,"identity",function(){return Ux}),i.d(s,"set",function(){return Gx}),i.d(s,"getReal",function(){return Vx}),i.d(s,"getDual",function(){return Hx}),i.d(s,"setReal",function(){return $x}),i.d(s,"setDual",function(){return Wx}),i.d(s,"getTranslation",function(){return qx}),i.d(s,"translate",function(){return Xx}),i.d(s,"rotateX",function(){return Yx}),i.d(s,"rotateY",function(){return Kx}),i.d(s,"rotateZ",function(){return Zx}),i.d(s,"rotateByQuatAppend",function(){return Qx}),i.d(s,"rotateByQuatPrepend",function(){return Jx}),i.d(s,"rotateAroundAxis",function(){return ew}),i.d(s,"add",function(){return tw}),i.d(s,"multiply",function(){return o_}),i.d(s,"mul",function(){return rw}),i.d(s,"scale",function(){return nw}),i.d(s,"dot",function(){return a_}),i.d(s,"lerp",function(){return iw}),i.d(s,"invert",function(){return ow}),i.d(s,"conjugate",function(){return aw}),i.d(s,"length",function(){return s_}),i.d(s,"len",function(){return sw}),i.d(s,"squaredLength",function(){return Vs}),i.d(s,"sqrLen",function(){return uw}),i.d(s,"normalize",function(){return lw}),i.d(s,"str",function(){return cw}),i.d(s,"exactEquals",function(){return fw}),i.d(s,"equals",function(){return dw});var u={};i.r(u),i.d(u,"create",function(){return u_}),i.d(u,"clone",function(){return hw}),i.d(u,"fromValues",function(){return pw}),i.d(u,"copy",function(){return _w}),i.d(u,"set",function(){return mw}),i.d(u,"add",function(){return gw}),i.d(u,"subtract",function(){return l_}),i.d(u,"multiply",function(){return c_}),i.d(u,"divide",function(){return f_}),i.d(u,"ceil",function(){return vw}),i.d(u,"floor",function(){return yw}),i.d(u,"min",function(){return bw}),i.d(u,"max",function(){return Ew}),i.d(u,"round",function(){return Tw}),i.d(u,"scale",function(){return xw}),i.d(u,"scaleAndAdd",function(){return ww}),i.d(u,"distance",function(){return d_}),i.d(u,"squaredDistance",function(){return h_}),i.d(u,"length",function(){return p_}),i.d(u,"squaredLength",function(){return __}),i.d(u,"negate",function(){return Aw}),i.d(u,"inverse",function(){return Sw}),i.d(u,"normalize",function(){return Pw}),i.d(u,"dot",function(){return Ow}),i.d(u,"cross",function(){return Rw}),i.d(u,"lerp",function(){return Lw}),i.d(u,"random",function(){return Cw}),i.d(u,"transformMat2",function(){return Iw}),i.d(u,"transformMat2d",function(){return Mw}),i.d(u,"transformMat3",function(){return Dw}),i.d(u,"transformMat4",function(){return Nw}),i.d(u,"rotate",function(){return kw}),i.d(u,"angle",function(){return Bw}),i.d(u,"zero",function(){return Fw}),i.d(u,"str",function(){return jw}),i.d(u,"exactEquals",function(){return zw}),i.d(u,"equals",function(){return Uw}),i.d(u,"len",function(){return Gw}),i.d(u,"sub",function(){return Vw}),i.d(u,"mul",function(){return Hw}),i.d(u,"div",function(){return $w}),i.d(u,"dist",function(){return Ww}),i.d(u,"sqrDist",function(){return qw}),i.d(u,"sqrLen",function(){return Xw}),i.d(u,"forEach",function(){return Yw});var f=1e-6,m=typeof Float32Array!="undefined"?Float32Array:Array,y=Math.random;function b(_){m=_}var E=Math.PI/180;function x(_){return _*E}function w(_,T){return Math.abs(_-T)<=f*Math.max(1,Math.abs(_),Math.abs(T))}function S(){var _=new m(4);return m!=Float32Array&&(_[1]=0,_[2]=0),_[0]=1,_[3]=1,_}function P(_){var T=new m(4);return T[0]=_[0],T[1]=_[1],T[2]=_[2],T[3]=_[3],T}function A(_,T){return _[0]=T[0],_[1]=T[1],_[2]=T[2],_[3]=T[3],_}function L(_){return _[0]=1,_[1]=0,_[2]=0,_[3]=1,_}function k(_,T,O,R){var I=new m(4);return I[0]=_,I[1]=T,I[2]=O,I[3]=R,I}function D(_,T,O,R,I){return _[0]=T,_[1]=O,_[2]=R,_[3]=I,_}function N(_,T){if(_===T){var O=T[1];_[1]=T[2],_[2]=O}else _[0]=T[0],_[1]=T[2],_[2]=T[1],_[3]=T[3];return _}function W(_,T){var O=T[0],R=T[1],I=T[2],B=T[3],F=O*B-I*R;return F?(F=1/F,_[0]=B*F,_[1]=-R*F,_[2]=-I*F,_[3]=O*F,_):null}function H(_,T){var O=T[0];return _[0]=T[3],_[1]=-T[1],_[2]=-T[2],_[3]=O,_}function q(_){return _[0]*_[3]-_[2]*_[1]}function X(_,T,O){var R=T[0],I=T[1],B=T[2],F=T[3],G=O[0],$=O[1],K=O[2],Q=O[3];return _[0]=R*G+B*$,_[1]=I*G+F*$,_[2]=R*K+B*Q,_[3]=I*K+F*Q,_}function Y(_,T,O){var R=T[0],I=T[1],B=T[2],F=T[3],G=Math.sin(O),$=Math.cos(O);return _[0]=R*$+B*G,_[1]=I*$+F*G,_[2]=R*-G+B*$,_[3]=I*-G+F*$,_}function J(_,T,O){var R=T[0],I=T[1],B=T[2],F=T[3],G=O[0],$=O[1];return _[0]=R*G,_[1]=I*G,_[2]=B*$,_[3]=F*$,_}function ee(_,T){var O=Math.sin(T),R=Math.cos(T);return _[0]=R,_[1]=O,_[2]=-O,_[3]=R,_}function te(_,T){return _[0]=T[0],_[1]=0,_[2]=0,_[3]=T[1],_}function ne(_){return"mat2("+_[0]+", "+_[1]+", "+_[2]+", "+_[3]+")"}function fe(_){return Math.hypot(_[0],_[1],_[2],_[3])}function _e(_,T,O,R){return _[2]=R[2]/R[0],O[0]=R[0],O[1]=R[1],O[3]=R[3]-_[2]*O[1],[_,T,O]}function ye(_,T,O){return _[0]=T[0]+O[0],_[1]=T[1]+O[1],_[2]=T[2]+O[2],_[3]=T[3]+O[3],_}function re(_,T,O){return _[0]=T[0]-O[0],_[1]=T[1]-O[1],_[2]=T[2]-O[2],_[3]=T[3]-O[3],_}function be(_,T){return _[0]===T[0]&&_[1]===T[1]&&_[2]===T[2]&&_[3]===T[3]}function Ae(_,T){var O=_[0],R=_[1],I=_[2],B=_[3],F=T[0],G=T[1],$=T[2],K=T[3];return Math.abs(O-F)<=f*Math.max(1,Math.abs(O),Math.abs(F))&&Math.abs(R-G)<=f*Math.max(1,Math.abs(R),Math.abs(G))&&Math.abs(I-$)<=f*Math.max(1,Math.abs(I),Math.abs($))&&Math.abs(B-K)<=f*Math.max(1,Math.abs(B),Math.abs(K))}function pe(_,T,O){return _[0]=T[0]*O,_[1]=T[1]*O,_[2]=T[2]*O,_[3]=T[3]*O,_}function Pe(_,T,O,R){return _[0]=T[0]+O[0]*R,_[1]=T[1]+O[1]*R,_[2]=T[2]+O[2]*R,_[3]=T[3]+O[3]*R,_}Math.hypot||(Math.hypot=function(){for(var _=0,T=arguments.length;T--;)_+=arguments[T]*arguments[T];return Math.sqrt(_)});var xe=X,Re=re;function he(){var _=new m(6);return m!=Float32Array&&(_[1]=0,_[2]=0,_[4]=0,_[5]=0),_[0]=1,_[3]=1,_}function Se(_){var T=new m(6);return T[0]=_[0],T[1]=_[1],T[2]=_[2],T[3]=_[3],T[4]=_[4],T[5]=_[5],T}function Ce(_,T){return _[0]=T[0],_[1]=T[1],_[2]=T[2],_[3]=T[3],_[4]=T[4],_[5]=T[5],_}function Te(_){return _[0]=1,_[1]=0,_[2]=0,_[3]=1,_[4]=0,_[5]=0,_}function Ie(_,T,O,R,I,B){var F=new m(6);return F[0]=_,F[1]=T,F[2]=O,F[3]=R,F[4]=I,F[5]=B,F}function Me(_,T,O,R,I,B,F){return _[0]=T,_[1]=O,_[2]=R,_[3]=I,_[4]=B,_[5]=F,_}function Ue(_,T){var O=T[0],R=T[1],I=T[2],B=T[3],F=T[4],G=T[5],$=O*B-R*I;return $?($=1/$,_[0]=B*$,_[1]=-R*$,_[2]=-I*$,_[3]=O*$,_[4]=(I*G-B*F)*$,_[5]=(R*F-O*G)*$,_):null}function Ne(_){return _[0]*_[3]-_[1]*_[2]}function Ye(_,T,O){var R=T[0],I=T[1],B=T[2],F=T[3],G=T[4],$=T[5],K=O[0],Q=O[1],ie=O[2],oe=O[3],ae=O[4],ce=O[5];return _[0]=R*K+B*Q,_[1]=I*K+F*Q,_[2]=R*ie+B*oe,_[3]=I*ie+F*oe,_[4]=R*ae+B*ce+G,_[5]=I*ae+F*ce+$,_}function ke(_,T,O){var R=T[0],I=T[1],B=T[2],F=T[3],G=T[4],$=T[5],K=Math.sin(O),Q=Math.cos(O);return _[0]=R*Q+B*K,_[1]=I*Q+F*K,_[2]=R*-K+B*Q,_[3]=I*-K+F*Q,_[4]=G,_[5]=$,_}function He(_,T,O){var R=T[0],I=T[1],B=T[2],F=T[3],G=T[4],$=T[5],K=O[0],Q=O[1];return _[0]=R*K,_[1]=I*K,_[2]=B*Q,_[3]=F*Q,_[4]=G,_[5]=$,_}function et(_,T,O){var R=T[0],I=T[1],B=T[2],F=T[3],G=T[4],$=T[5],K=O[0],Q=O[1];return _[0]=R,_[1]=I,_[2]=B,_[3]=F,_[4]=R*K+B*Q+G,_[5]=I*K+F*Q+$,_}function Le(_,T){var O=Math.sin(T),R=Math.cos(T);return _[0]=R,_[1]=O,_[2]=-O,_[3]=R,_[4]=0,_[5]=0,_}function Ke(_,T){return _[0]=T[0],_[1]=0,_[2]=0,_[3]=T[1],_[4]=0,_[5]=0,_}function U(_,T){return _[0]=1,_[1]=0,_[2]=0,_[3]=1,_[4]=T[0],_[5]=T[1],_}function C(_){return"mat2d("+_[0]+", "+_[1]+", "+_[2]+", "+_[3]+", "+_[4]+", "+_[5]+")"}function M(_){return Math.hypot(_[0],_[1],_[2],_[3],_[4],_[5],1)}function z(_,T,O){return _[0]=T[0]+O[0],_[1]=T[1]+O[1],_[2]=T[2]+O[2],_[3]=T[3]+O[3],_[4]=T[4]+O[4],_[5]=T[5]+O[5],_}function V(_,T,O){return _[0]=T[0]-O[0],_[1]=T[1]-O[1],_[2]=T[2]-O[2],_[3]=T[3]-O[3],_[4]=T[4]-O[4],_[5]=T[5]-O[5],_}function j(_,T,O){return _[0]=T[0]*O,_[1]=T[1]*O,_[2]=T[2]*O,_[3]=T[3]*O,_[4]=T[4]*O,_[5]=T[5]*O,_}function Z(_,T,O,R){return _[0]=T[0]+O[0]*R,_[1]=T[1]+O[1]*R,_[2]=T[2]+O[2]*R,_[3]=T[3]+O[3]*R,_[4]=T[4]+O[4]*R,_[5]=T[5]+O[5]*R,_}function se(_,T){return _[0]===T[0]&&_[1]===T[1]&&_[2]===T[2]&&_[3]===T[3]&&_[4]===T[4]&&_[5]===T[5]}function de(_,T){var O=_[0],R=_[1],I=_[2],B=_[3],F=_[4],G=_[5],$=T[0],K=T[1],Q=T[2],ie=T[3],oe=T[4],ae=T[5];return Math.abs(O-$)<=f*Math.max(1,Math.abs(O),Math.abs($))&&Math.abs(R-K)<=f*Math.max(1,Math.abs(R),Math.abs(K))&&Math.abs(I-Q)<=f*Math.max(1,Math.abs(I),Math.abs(Q))&&Math.abs(B-ie)<=f*Math.max(1,Math.abs(B),Math.abs(ie))&&Math.abs(F-oe)<=f*Math.max(1,Math.abs(F),Math.abs(oe))&&Math.abs(G-ae)<=f*Math.max(1,Math.abs(G),Math.abs(ae))}var ve=Ye,Oe=V;function Fe(){var _=new m(9);return m!=Float32Array&&(_[1]=0,_[2]=0,_[3]=0,_[5]=0,_[6]=0,_[7]=0),_[0]=1,_[4]=1,_[8]=1,_}function It(_,T){return _[0]=T[0],_[1]=T[1],_[2]=T[2],_[3]=T[4],_[4]=T[5],_[5]=T[6],_[6]=T[8],_[7]=T[9],_[8]=T[10],_}function Mt(_){var T=new m(9);return T[0]=_[0],T[1]=_[1],T[2]=_[2],T[3]=_[3],T[4]=_[4],T[5]=_[5],T[6]=_[6],T[7]=_[7],T[8]=_[8],T}function xn(_,T){return _[0]=T[0],_[1]=T[1],_[2]=T[2],_[3]=T[3],_[4]=T[4],_[5]=T[5],_[6]=T[6],_[7]=T[7],_[8]=T[8],_}function Jo(_,T,O,R,I,B,F,G,$){var K=new m(9);return K[0]=_,K[1]=T,K[2]=O,K[3]=R,K[4]=I,K[5]=B,K[6]=F,K[7]=G,K[8]=$,K}function Gi(_,T,O,R,I,B,F,G,$,K){return _[0]=T,_[1]=O,_[2]=R,_[3]=I,_[4]=B,_[5]=F,_[6]=G,_[7]=$,_[8]=K,_}function ic(_){return _[0]=1,_[1]=0,_[2]=0,_[3]=0,_[4]=1,_[5]=0,_[6]=0,_[7]=0,_[8]=1,_}function oc(_,T){if(_===T){var O=T[1],R=T[2],I=T[5];_[1]=T[3],_[2]=T[6],_[3]=O,_[5]=T[7],_[6]=R,_[7]=I}else _[0]=T[0],_[1]=T[3],_[2]=T[6],_[3]=T[1],_[4]=T[4],_[5]=T[7],_[6]=T[2],_[7]=T[5],_[8]=T[8];return _}function ac(_,T){var O=T[0],R=T[1],I=T[2],B=T[3],F=T[4],G=T[5],$=T[6],K=T[7],Q=T[8],ie=Q*F-G*K,oe=-Q*B+G*$,ae=K*B-F*$,ce=O*ie+R*oe+I*ae;return ce?(ce=1/ce,_[0]=ie*ce,_[1]=(-Q*R+I*K)*ce,_[2]=(G*R-I*F)*ce,_[3]=oe*ce,_[4]=(Q*O-I*$)*ce,_[5]=(-G*O+I*B)*ce,_[6]=ae*ce,_[7]=(-K*O+R*$)*ce,_[8]=(F*O-R*B)*ce,_):null}function zn(_,T){var O=T[0],R=T[1],I=T[2],B=T[3],F=T[4],G=T[5],$=T[6],K=T[7],Q=T[8];return _[0]=F*Q-G*K,_[1]=I*K-R*Q,_[2]=R*G-I*F,_[3]=G*$-B*Q,_[4]=O*Q-I*$,_[5]=I*B-O*G,_[6]=B*K-F*$,_[7]=R*$-O*K,_[8]=O*F-R*B,_}function _i(_){var T=_[0],O=_[1],R=_[2],I=_[3],B=_[4],F=_[5],G=_[6],$=_[7],K=_[8];return T*(K*B-F*$)+O*(-K*I+F*G)+R*($*I-B*G)}function Fs(_,T,O){var R=T[0],I=T[1],B=T[2],F=T[3],G=T[4],$=T[5],K=T[6],Q=T[7],ie=T[8],oe=O[0],ae=O[1],ce=O[2],me=O[3],ue=O[4],Ee=O[5],$e=O[6],Ge=O[7],Ve=O[8];return _[0]=oe*R+ae*F+ce*K,_[1]=oe*I+ae*G+ce*Q,_[2]=oe*B+ae*$+ce*ie,_[3]=me*R+ue*F+Ee*K,_[4]=me*I+ue*G+Ee*Q,_[5]=me*B+ue*$+Ee*ie,_[6]=$e*R+Ge*F+Ve*K,_[7]=$e*I+Ge*G+Ve*Q,_[8]=$e*B+Ge*$+Ve*ie,_}function sc(_,T,O){var R=T[0],I=T[1],B=T[2],F=T[3],G=T[4],$=T[5],K=T[6],Q=T[7],ie=T[8],oe=O[0],ae=O[1];return _[0]=R,_[1]=I,_[2]=B,_[3]=F,_[4]=G,_[5]=$,_[6]=oe*R+ae*F+K,_[7]=oe*I+ae*G+Q,_[8]=oe*B+ae*$+ie,_}function uc(_,T,O){var R=T[0],I=T[1],B=T[2],F=T[3],G=T[4],$=T[5],K=T[6],Q=T[7],ie=T[8],oe=Math.sin(O),ae=Math.cos(O);return _[0]=ae*R+oe*F,_[1]=ae*I+oe*G,_[2]=ae*B+oe*$,_[3]=ae*F-oe*R,_[4]=ae*G-oe*I,_[5]=ae*$-oe*B,_[6]=K,_[7]=Q,_[8]=ie,_}function ea(_,T,O){var R=O[0],I=O[1];return _[0]=R*T[0],_[1]=R*T[1],_[2]=R*T[2],_[3]=I*T[3],_[4]=I*T[4],_[5]=I*T[5],_[6]=T[6],_[7]=T[7],_[8]=T[8],_}function ta(_,T){return _[0]=1,_[1]=0,_[2]=0,_[3]=0,_[4]=1,_[5]=0,_[6]=T[0],_[7]=T[1],_[8]=1,_}function js(_,T){var O=Math.sin(T),R=Math.cos(T);return _[0]=R,_[1]=O,_[2]=0,_[3]=-O,_[4]=R,_[5]=0,_[6]=0,_[7]=0,_[8]=1,_}function gt(_,T){return _[0]=T[0],_[1]=0,_[2]=0,_[3]=0,_[4]=T[1],_[5]=0,_[6]=0,_[7]=0,_[8]=1,_}function Dr(_,T){return _[0]=T[0],_[1]=T[1],_[2]=0,_[3]=T[2],_[4]=T[3],_[5]=0,_[6]=T[4],_[7]=T[5],_[8]=1,_}function st(_,T){var O=T[0],R=T[1],I=T[2],B=T[3],F=O+O,G=R+R,$=I+I,K=O*F,Q=R*F,ie=R*G,oe=I*F,ae=I*G,ce=I*$,me=B*F,ue=B*G,Ee=B*$;return _[0]=1-ie-ce,_[3]=Q-Ee,_[6]=oe+ue,_[1]=Q+Ee,_[4]=1-K-ce,_[7]=ae-me,_[2]=oe-ue,_[5]=ae+me,_[8]=1-K-ie,_}function Nr(_,T){var O=T[0],R=T[1],I=T[2],B=T[3],F=T[4],G=T[5],$=T[6],K=T[7],Q=T[8],ie=T[9],oe=T[10],ae=T[11],ce=T[12],me=T[13],ue=T[14],Ee=T[15],$e=O*G-R*F,Ge=O*$-I*F,Ve=O*K-B*F,Xe=R*$-I*G,We=R*K-B*G,Rt=I*K-B*$,wt=Q*me-ie*ce,At=Q*ue-oe*ce,vt=Q*Ee-ae*ce,Dt=ie*ue-oe*me,ft=ie*Ee-ae*me,dt=oe*Ee-ae*ue,qe=$e*dt-Ge*ft+Ve*Dt+Xe*vt-We*At+Rt*wt;return qe?(qe=1/qe,_[0]=(G*dt-$*ft+K*Dt)*qe,_[1]=($*vt-F*dt-K*At)*qe,_[2]=(F*ft-G*vt+K*wt)*qe,_[3]=(I*ft-R*dt-B*Dt)*qe,_[4]=(O*dt-I*vt+B*At)*qe,_[5]=(R*vt-O*ft-B*wt)*qe,_[6]=(me*Rt-ue*We+Ee*Xe)*qe,_[7]=(ue*Ve-ce*Rt-Ee*Ge)*qe,_[8]=(ce*We-me*Ve+Ee*$e)*qe,_):null}function Un(_,T,O){return _[0]=2/T,_[1]=0,_[2]=0,_[3]=0,_[4]=-2/O,_[5]=0,_[6]=-1,_[7]=1,_[8]=1,_}function lc(_){return"mat3("+_[0]+", "+_[1]+", "+_[2]+", "+_[3]+", "+_[4]+", "+_[5]+", "+_[6]+", "+_[7]+", "+_[8]+")"}function ra(_){return Math.hypot(_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7],_[8])}function Vi(_,T,O){return _[0]=T[0]+O[0],_[1]=T[1]+O[1],_[2]=T[2]+O[2],_[3]=T[3]+O[3],_[4]=T[4]+O[4],_[5]=T[5]+O[5],_[6]=T[6]+O[6],_[7]=T[7]+O[7],_[8]=T[8]+O[8],_}function dp(_,T,O){return _[0]=T[0]-O[0],_[1]=T[1]-O[1],_[2]=T[2]-O[2],_[3]=T[3]-O[3],_[4]=T[4]-O[4],_[5]=T[5]-O[5],_[6]=T[6]-O[6],_[7]=T[7]-O[7],_[8]=T[8]-O[8],_}function mE(_,T,O){return _[0]=T[0]*O,_[1]=T[1]*O,_[2]=T[2]*O,_[3]=T[3]*O,_[4]=T[4]*O,_[5]=T[5]*O,_[6]=T[6]*O,_[7]=T[7]*O,_[8]=T[8]*O,_}function gE(_,T,O,R){return _[0]=T[0]+O[0]*R,_[1]=T[1]+O[1]*R,_[2]=T[2]+O[2]*R,_[3]=T[3]+O[3]*R,_[4]=T[4]+O[4]*R,_[5]=T[5]+O[5]*R,_[6]=T[6]+O[6]*R,_[7]=T[7]+O[7]*R,_[8]=T[8]+O[8]*R,_}function vE(_,T){return _[0]===T[0]&&_[1]===T[1]&&_[2]===T[2]&&_[3]===T[3]&&_[4]===T[4]&&_[5]===T[5]&&_[6]===T[6]&&_[7]===T[7]&&_[8]===T[8]}function yE(_,T){var O=_[0],R=_[1],I=_[2],B=_[3],F=_[4],G=_[5],$=_[6],K=_[7],Q=_[8],ie=T[0],oe=T[1],ae=T[2],ce=T[3],me=T[4],ue=T[5],Ee=T[6],$e=T[7],Ge=T[8];return Math.abs(O-ie)<=f*Math.max(1,Math.abs(O),Math.abs(ie))&&Math.abs(R-oe)<=f*Math.max(1,Math.abs(R),Math.abs(oe))&&Math.abs(I-ae)<=f*Math.max(1,Math.abs(I),Math.abs(ae))&&Math.abs(B-ce)<=f*Math.max(1,Math.abs(B),Math.abs(ce))&&Math.abs(F-me)<=f*Math.max(1,Math.abs(F),Math.abs(me))&&Math.abs(G-ue)<=f*Math.max(1,Math.abs(G),Math.abs(ue))&&Math.abs($-Ee)<=f*Math.max(1,Math.abs($),Math.abs(Ee))&&Math.abs(K-$e)<=f*Math.max(1,Math.abs(K),Math.abs($e))&&Math.abs(Q-Ge)<=f*Math.max(1,Math.abs(Q),Math.abs(Ge))}var bE=Fs,EE=dp;function TE(){var _=new m(16);return m!=Float32Array&&(_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[11]=0,_[12]=0,_[13]=0,_[14]=0),_[0]=1,_[5]=1,_[10]=1,_[15]=1,_}function xE(_){var T=new m(16);return T[0]=_[0],T[1]=_[1],T[2]=_[2],T[3]=_[3],T[4]=_[4],T[5]=_[5],T[6]=_[6],T[7]=_[7],T[8]=_[8],T[9]=_[9],T[10]=_[10],T[11]=_[11],T[12]=_[12],T[13]=_[13],T[14]=_[14],T[15]=_[15],T}function wE(_,T){return _[0]=T[0],_[1]=T[1],_[2]=T[2],_[3]=T[3],_[4]=T[4],_[5]=T[5],_[6]=T[6],_[7]=T[7],_[8]=T[8],_[9]=T[9],_[10]=T[10],_[11]=T[11],_[12]=T[12],_[13]=T[13],_[14]=T[14],_[15]=T[15],_}function AE(_,T,O,R,I,B,F,G,$,K,Q,ie,oe,ae,ce,me){var ue=new m(16);return ue[0]=_,ue[1]=T,ue[2]=O,ue[3]=R,ue[4]=I,ue[5]=B,ue[6]=F,ue[7]=G,ue[8]=$,ue[9]=K,ue[10]=Q,ue[11]=ie,ue[12]=oe,ue[13]=ae,ue[14]=ce,ue[15]=me,ue}function SE(_,T,O,R,I,B,F,G,$,K,Q,ie,oe,ae,ce,me,ue){return _[0]=T,_[1]=O,_[2]=R,_[3]=I,_[4]=B,_[5]=F,_[6]=G,_[7]=$,_[8]=K,_[9]=Q,_[10]=ie,_[11]=oe,_[12]=ae,_[13]=ce,_[14]=me,_[15]=ue,_}function hp(_){return _[0]=1,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=1,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[10]=1,_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,_}function PE(_,T){if(_===T){var O=T[1],R=T[2],I=T[3],B=T[6],F=T[7],G=T[11];_[1]=T[4],_[2]=T[8],_[3]=T[12],_[4]=O,_[6]=T[9],_[7]=T[13],_[8]=R,_[9]=B,_[11]=T[14],_[12]=I,_[13]=F,_[14]=G}else _[0]=T[0],_[1]=T[4],_[2]=T[8],_[3]=T[12],_[4]=T[1],_[5]=T[5],_[6]=T[9],_[7]=T[13],_[8]=T[2],_[9]=T[6],_[10]=T[10],_[11]=T[14],_[12]=T[3],_[13]=T[7],_[14]=T[11],_[15]=T[15];return _}function OE(_,T){var O=T[0],R=T[1],I=T[2],B=T[3],F=T[4],G=T[5],$=T[6],K=T[7],Q=T[8],ie=T[9],oe=T[10],ae=T[11],ce=T[12],me=T[13],ue=T[14],Ee=T[15],$e=O*G-R*F,Ge=O*$-I*F,Ve=O*K-B*F,Xe=R*$-I*G,We=R*K-B*G,Rt=I*K-B*$,wt=Q*me-ie*ce,At=Q*ue-oe*ce,vt=Q*Ee-ae*ce,Dt=ie*ue-oe*me,ft=ie*Ee-ae*me,dt=oe*Ee-ae*ue,qe=$e*dt-Ge*ft+Ve*Dt+Xe*vt-We*At+Rt*wt;return qe?(qe=1/qe,_[0]=(G*dt-$*ft+K*Dt)*qe,_[1]=(I*ft-R*dt-B*Dt)*qe,_[2]=(me*Rt-ue*We+Ee*Xe)*qe,_[3]=(oe*We-ie*Rt-ae*Xe)*qe,_[4]=($*vt-F*dt-K*At)*qe,_[5]=(O*dt-I*vt+B*At)*qe,_[6]=(ue*Ve-ce*Rt-Ee*Ge)*qe,_[7]=(Q*Rt-oe*Ve+ae*Ge)*qe,_[8]=(F*ft-G*vt+K*wt)*qe,_[9]=(R*vt-O*ft-B*wt)*qe,_[10]=(ce*We-me*Ve+Ee*$e)*qe,_[11]=(ie*Ve-Q*We-ae*$e)*qe,_[12]=(G*At-F*Dt-$*wt)*qe,_[13]=(O*Dt-R*At+I*wt)*qe,_[14]=(me*Ge-ce*Xe-ue*$e)*qe,_[15]=(Q*Xe-ie*Ge+oe*$e)*qe,_):null}function RE(_,T){var O=T[0],R=T[1],I=T[2],B=T[3],F=T[4],G=T[5],$=T[6],K=T[7],Q=T[8],ie=T[9],oe=T[10],ae=T[11],ce=T[12],me=T[13],ue=T[14],Ee=T[15];return _[0]=G*(oe*Ee-ae*ue)-ie*($*Ee-K*ue)+me*($*ae-K*oe),_[1]=-(R*(oe*Ee-ae*ue)-ie*(I*Ee-B*ue)+me*(I*ae-B*oe)),_[2]=R*($*Ee-K*ue)-G*(I*Ee-B*ue)+me*(I*K-B*$),_[3]=-(R*($*ae-K*oe)-G*(I*ae-B*oe)+ie*(I*K-B*$)),_[4]=-(F*(oe*Ee-ae*ue)-Q*($*Ee-K*ue)+ce*($*ae-K*oe)),_[5]=O*(oe*Ee-ae*ue)-Q*(I*Ee-B*ue)+ce*(I*ae-B*oe),_[6]=-(O*($*Ee-K*ue)-F*(I*Ee-B*ue)+ce*(I*K-B*$)),_[7]=O*($*ae-K*oe)-F*(I*ae-B*oe)+Q*(I*K-B*$),_[8]=F*(ie*Ee-ae*me)-Q*(G*Ee-K*me)+ce*(G*ae-K*ie),_[9]=-(O*(ie*Ee-ae*me)-Q*(R*Ee-B*me)+ce*(R*ae-B*ie)),_[10]=O*(G*Ee-K*me)-F*(R*Ee-B*me)+ce*(R*K-B*G),_[11]=-(O*(G*ae-K*ie)-F*(R*ae-B*ie)+Q*(R*K-B*G)),_[12]=-(F*(ie*ue-oe*me)-Q*(G*ue-$*me)+ce*(G*oe-$*ie)),_[13]=O*(ie*ue-oe*me)-Q*(R*ue-I*me)+ce*(R*oe-I*ie),_[14]=-(O*(G*ue-$*me)-F*(R*ue-I*me)+ce*(R*$-I*G)),_[15]=O*(G*oe-$*ie)-F*(R*oe-I*ie)+Q*(R*$-I*G),_}function LE(_){var T=_[0],O=_[1],R=_[2],I=_[3],B=_[4],F=_[5],G=_[6],$=_[7],K=_[8],Q=_[9],ie=_[10],oe=_[11],ae=_[12],ce=_[13],me=_[14],ue=_[15];return(T*F-O*B)*(ie*ue-oe*me)-(T*G-R*B)*(Q*ue-oe*ce)+(T*$-I*B)*(Q*me-ie*ce)+(O*G-R*F)*(K*ue-oe*ae)-(O*$-I*F)*(K*me-ie*ae)+(R*$-I*G)*(K*ce-Q*ae)}function pp(_,T,O){var R=T[0],I=T[1],B=T[2],F=T[3],G=T[4],$=T[5],K=T[6],Q=T[7],ie=T[8],oe=T[9],ae=T[10],ce=T[11],me=T[12],ue=T[13],Ee=T[14],$e=T[15],Ge=O[0],Ve=O[1],Xe=O[2],We=O[3];return _[0]=Ge*R+Ve*G+Xe*ie+We*me,_[1]=Ge*I+Ve*$+Xe*oe+We*ue,_[2]=Ge*B+Ve*K+Xe*ae+We*Ee,_[3]=Ge*F+Ve*Q+Xe*ce+We*$e,Ge=O[4],Ve=O[5],Xe=O[6],We=O[7],_[4]=Ge*R+Ve*G+Xe*ie+We*me,_[5]=Ge*I+Ve*$+Xe*oe+We*ue,_[6]=Ge*B+Ve*K+Xe*ae+We*Ee,_[7]=Ge*F+Ve*Q+Xe*ce+We*$e,Ge=O[8],Ve=O[9],Xe=O[10],We=O[11],_[8]=Ge*R+Ve*G+Xe*ie+We*me,_[9]=Ge*I+Ve*$+Xe*oe+We*ue,_[10]=Ge*B+Ve*K+Xe*ae+We*Ee,_[11]=Ge*F+Ve*Q+Xe*ce+We*$e,Ge=O[12],Ve=O[13],Xe=O[14],We=O[15],_[12]=Ge*R+Ve*G+Xe*ie+We*me,_[13]=Ge*I+Ve*$+Xe*oe+We*ue,_[14]=Ge*B+Ve*K+Xe*ae+We*Ee,_[15]=Ge*F+Ve*Q+Xe*ce+We*$e,_}function CE(_,T,O){var R,I,B,F,G,$,K,Q,ie,oe,ae,ce,me=O[0],ue=O[1],Ee=O[2];return T===_?(_[12]=T[0]*me+T[4]*ue+T[8]*Ee+T[12],_[13]=T[1]*me+T[5]*ue+T[9]*Ee+T[13],_[14]=T[2]*me+T[6]*ue+T[10]*Ee+T[14],_[15]=T[3]*me+T[7]*ue+T[11]*Ee+T[15]):(R=T[0],I=T[1],B=T[2],F=T[3],G=T[4],$=T[5],K=T[6],Q=T[7],ie=T[8],oe=T[9],ae=T[10],ce=T[11],_[0]=R,_[1]=I,_[2]=B,_[3]=F,_[4]=G,_[5]=$,_[6]=K,_[7]=Q,_[8]=ie,_[9]=oe,_[10]=ae,_[11]=ce,_[12]=R*me+G*ue+ie*Ee+T[12],_[13]=I*me+$*ue+oe*Ee+T[13],_[14]=B*me+K*ue+ae*Ee+T[14],_[15]=F*me+Q*ue+ce*Ee+T[15]),_}function IE(_,T,O){var R=O[0],I=O[1],B=O[2];return _[0]=T[0]*R,_[1]=T[1]*R,_[2]=T[2]*R,_[3]=T[3]*R,_[4]=T[4]*I,_[5]=T[5]*I,_[6]=T[6]*I,_[7]=T[7]*I,_[8]=T[8]*B,_[9]=T[9]*B,_[10]=T[10]*B,_[11]=T[11]*B,_[12]=T[12],_[13]=T[13],_[14]=T[14],_[15]=T[15],_}function ME(_,T,O,R){var I,B,F,G,$,K,Q,ie,oe,ae,ce,me,ue,Ee,$e,Ge,Ve,Xe,We,Rt,wt,At,vt,Dt,ft=R[0],dt=R[1],qe=R[2],Xr=Math.hypot(ft,dt,qe);return Xr<f?null:(ft*=Xr=1/Xr,dt*=Xr,qe*=Xr,I=Math.sin(O),F=1-(B=Math.cos(O)),G=T[0],$=T[1],K=T[2],Q=T[3],ie=T[4],oe=T[5],ae=T[6],ce=T[7],me=T[8],ue=T[9],Ee=T[10],$e=T[11],Ge=ft*ft*F+B,Ve=dt*ft*F+qe*I,Xe=qe*ft*F-dt*I,We=ft*dt*F-qe*I,Rt=dt*dt*F+B,wt=qe*dt*F+ft*I,At=ft*qe*F+dt*I,vt=dt*qe*F-ft*I,Dt=qe*qe*F+B,_[0]=G*Ge+ie*Ve+me*Xe,_[1]=$*Ge+oe*Ve+ue*Xe,_[2]=K*Ge+ae*Ve+Ee*Xe,_[3]=Q*Ge+ce*Ve+$e*Xe,_[4]=G*We+ie*Rt+me*wt,_[5]=$*We+oe*Rt+ue*wt,_[6]=K*We+ae*Rt+Ee*wt,_[7]=Q*We+ce*Rt+$e*wt,_[8]=G*At+ie*vt+me*Dt,_[9]=$*At+oe*vt+ue*Dt,_[10]=K*At+ae*vt+Ee*Dt,_[11]=Q*At+ce*vt+$e*Dt,T!==_&&(_[12]=T[12],_[13]=T[13],_[14]=T[14],_[15]=T[15]),_)}function DE(_,T,O){var R=Math.sin(O),I=Math.cos(O),B=T[4],F=T[5],G=T[6],$=T[7],K=T[8],Q=T[9],ie=T[10],oe=T[11];return T!==_&&(_[0]=T[0],_[1]=T[1],_[2]=T[2],_[3]=T[3],_[12]=T[12],_[13]=T[13],_[14]=T[14],_[15]=T[15]),_[4]=B*I+K*R,_[5]=F*I+Q*R,_[6]=G*I+ie*R,_[7]=$*I+oe*R,_[8]=K*I-B*R,_[9]=Q*I-F*R,_[10]=ie*I-G*R,_[11]=oe*I-$*R,_}function NE(_,T,O){var R=Math.sin(O),I=Math.cos(O),B=T[0],F=T[1],G=T[2],$=T[3],K=T[8],Q=T[9],ie=T[10],oe=T[11];return T!==_&&(_[4]=T[4],_[5]=T[5],_[6]=T[6],_[7]=T[7],_[12]=T[12],_[13]=T[13],_[14]=T[14],_[15]=T[15]),_[0]=B*I-K*R,_[1]=F*I-Q*R,_[2]=G*I-ie*R,_[3]=$*I-oe*R,_[8]=B*R+K*I,_[9]=F*R+Q*I,_[10]=G*R+ie*I,_[11]=$*R+oe*I,_}function kE(_,T,O){var R=Math.sin(O),I=Math.cos(O),B=T[0],F=T[1],G=T[2],$=T[3],K=T[4],Q=T[5],ie=T[6],oe=T[7];return T!==_&&(_[8]=T[8],_[9]=T[9],_[10]=T[10],_[11]=T[11],_[12]=T[12],_[13]=T[13],_[14]=T[14],_[15]=T[15]),_[0]=B*I+K*R,_[1]=F*I+Q*R,_[2]=G*I+ie*R,_[3]=$*I+oe*R,_[4]=K*I-B*R,_[5]=Q*I-F*R,_[6]=ie*I-G*R,_[7]=oe*I-$*R,_}function BE(_,T){return _[0]=1,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=1,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[10]=1,_[11]=0,_[12]=T[0],_[13]=T[1],_[14]=T[2],_[15]=1,_}function FE(_,T){return _[0]=T[0],_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=T[1],_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[10]=T[2],_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,_}function jE(_,T,O){var R,I,B,F=O[0],G=O[1],$=O[2],K=Math.hypot(F,G,$);return K<f?null:(F*=K=1/K,G*=K,$*=K,R=Math.sin(T),B=1-(I=Math.cos(T)),_[0]=F*F*B+I,_[1]=G*F*B+$*R,_[2]=$*F*B-G*R,_[3]=0,_[4]=F*G*B-$*R,_[5]=G*G*B+I,_[6]=$*G*B+F*R,_[7]=0,_[8]=F*$*B+G*R,_[9]=G*$*B-F*R,_[10]=$*$*B+I,_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,_)}function zE(_,T){var O=Math.sin(T),R=Math.cos(T);return _[0]=1,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=R,_[6]=O,_[7]=0,_[8]=0,_[9]=-O,_[10]=R,_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,_}function UE(_,T){var O=Math.sin(T),R=Math.cos(T);return _[0]=R,_[1]=0,_[2]=-O,_[3]=0,_[4]=0,_[5]=1,_[6]=0,_[7]=0,_[8]=O,_[9]=0,_[10]=R,_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,_}function GE(_,T){var O=Math.sin(T),R=Math.cos(T);return _[0]=R,_[1]=O,_[2]=0,_[3]=0,_[4]=-O,_[5]=R,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[10]=1,_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,_}function _p(_,T,O){var R=T[0],I=T[1],B=T[2],F=T[3],G=R+R,$=I+I,K=B+B,Q=R*G,ie=R*$,oe=R*K,ae=I*$,ce=I*K,me=B*K,ue=F*G,Ee=F*$,$e=F*K;return _[0]=1-(ae+me),_[1]=ie+$e,_[2]=oe-Ee,_[3]=0,_[4]=ie-$e,_[5]=1-(Q+me),_[6]=ce+ue,_[7]=0,_[8]=oe+Ee,_[9]=ce-ue,_[10]=1-(Q+ae),_[11]=0,_[12]=O[0],_[13]=O[1],_[14]=O[2],_[15]=1,_}function VE(_,T){var O=new m(3),R=-T[0],I=-T[1],B=-T[2],F=T[3],G=T[4],$=T[5],K=T[6],Q=T[7],ie=R*R+I*I+B*B+F*F;return ie>0?(O[0]=2*(G*F+Q*R+$*B-K*I)/ie,O[1]=2*($*F+Q*I+K*R-G*B)/ie,O[2]=2*(K*F+Q*B+G*I-$*R)/ie):(O[0]=2*(G*F+Q*R+$*B-K*I),O[1]=2*($*F+Q*I+K*R-G*B),O[2]=2*(K*F+Q*B+G*I-$*R)),_p(_,T,O),_}function mp(_,T){return _[0]=T[12],_[1]=T[13],_[2]=T[14],_}function gp(_,T){var O=T[0],R=T[1],I=T[2],B=T[4],F=T[5],G=T[6],$=T[8],K=T[9],Q=T[10];return _[0]=Math.hypot(O,R,I),_[1]=Math.hypot(B,F,G),_[2]=Math.hypot($,K,Q),_}function vp(_,T){var O=new m(3);gp(O,T);var R=1/O[0],I=1/O[1],B=1/O[2],F=T[0]*R,G=T[1]*I,$=T[2]*B,K=T[4]*R,Q=T[5]*I,ie=T[6]*B,oe=T[8]*R,ae=T[9]*I,ce=T[10]*B,me=F+Q+ce,ue=0;return me>0?(ue=2*Math.sqrt(me+1),_[3]=.25*ue,_[0]=(ie-ae)/ue,_[1]=(oe-$)/ue,_[2]=(G-K)/ue):F>Q&&F>ce?(ue=2*Math.sqrt(1+F-Q-ce),_[3]=(ie-ae)/ue,_[0]=.25*ue,_[1]=(G+K)/ue,_[2]=(oe+$)/ue):Q>ce?(ue=2*Math.sqrt(1+Q-F-ce),_[3]=(oe-$)/ue,_[0]=(G+K)/ue,_[1]=.25*ue,_[2]=(ie+ae)/ue):(ue=2*Math.sqrt(1+ce-F-Q),_[3]=(G-K)/ue,_[0]=(oe+$)/ue,_[1]=(ie+ae)/ue,_[2]=.25*ue),_}function HE(_,T,O,R){var I=T[0],B=T[1],F=T[2],G=T[3],$=I+I,K=B+B,Q=F+F,ie=I*$,oe=I*K,ae=I*Q,ce=B*K,me=B*Q,ue=F*Q,Ee=G*$,$e=G*K,Ge=G*Q,Ve=R[0],Xe=R[1],We=R[2];return _[0]=(1-(ce+ue))*Ve,_[1]=(oe+Ge)*Ve,_[2]=(ae-$e)*Ve,_[3]=0,_[4]=(oe-Ge)*Xe,_[5]=(1-(ie+ue))*Xe,_[6]=(me+Ee)*Xe,_[7]=0,_[8]=(ae+$e)*We,_[9]=(me-Ee)*We,_[10]=(1-(ie+ce))*We,_[11]=0,_[12]=O[0],_[13]=O[1],_[14]=O[2],_[15]=1,_}function $E(_,T,O,R,I){var B=T[0],F=T[1],G=T[2],$=T[3],K=B+B,Q=F+F,ie=G+G,oe=B*K,ae=B*Q,ce=B*ie,me=F*Q,ue=F*ie,Ee=G*ie,$e=$*K,Ge=$*Q,Ve=$*ie,Xe=R[0],We=R[1],Rt=R[2],wt=I[0],At=I[1],vt=I[2],Dt=(1-(me+Ee))*Xe,ft=(ae+Ve)*Xe,dt=(ce-Ge)*Xe,qe=(ae-Ve)*We,Xr=(1-(oe+Ee))*We,na=(ue+$e)*We,ia=(ce+Ge)*Rt,m_=(ue-$e)*Rt,g_=(1-(oe+me))*Rt;return _[0]=Dt,_[1]=ft,_[2]=dt,_[3]=0,_[4]=qe,_[5]=Xr,_[6]=na,_[7]=0,_[8]=ia,_[9]=m_,_[10]=g_,_[11]=0,_[12]=O[0]+wt-(Dt*wt+qe*At+ia*vt),_[13]=O[1]+At-(ft*wt+Xr*At+m_*vt),_[14]=O[2]+vt-(dt*wt+na*At+g_*vt),_[15]=1,_}function WE(_,T){var O=T[0],R=T[1],I=T[2],B=T[3],F=O+O,G=R+R,$=I+I,K=O*F,Q=R*F,ie=R*G,oe=I*F,ae=I*G,ce=I*$,me=B*F,ue=B*G,Ee=B*$;return _[0]=1-ie-ce,_[1]=Q+Ee,_[2]=oe-ue,_[3]=0,_[4]=Q-Ee,_[5]=1-K-ce,_[6]=ae+me,_[7]=0,_[8]=oe+ue,_[9]=ae-me,_[10]=1-K-ie,_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,_}function qE(_,T,O,R,I,B,F){var G=1/(O-T),$=1/(I-R),K=1/(B-F);return _[0]=2*B*G,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=2*B*$,_[6]=0,_[7]=0,_[8]=(O+T)*G,_[9]=(I+R)*$,_[10]=(F+B)*K,_[11]=-1,_[12]=0,_[13]=0,_[14]=F*B*2*K,_[15]=0,_}function XE(_,T,O,R,I){var B,F=1/Math.tan(T/2);return _[0]=F/O,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=F,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[11]=-1,_[12]=0,_[13]=0,_[15]=0,I!=null&&I!==1/0?(B=1/(R-I),_[10]=(I+R)*B,_[14]=2*I*R*B):(_[10]=-1,_[14]=-2*R),_}function YE(_,T,O,R){var I=Math.tan(T.upDegrees*Math.PI/180),B=Math.tan(T.downDegrees*Math.PI/180),F=Math.tan(T.leftDegrees*Math.PI/180),G=Math.tan(T.rightDegrees*Math.PI/180),$=2/(F+G),K=2/(I+B);return _[0]=$,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=K,_[6]=0,_[7]=0,_[8]=-(F-G)*$*.5,_[9]=(I-B)*K*.5,_[10]=R/(O-R),_[11]=-1,_[12]=0,_[13]=0,_[14]=R*O/(O-R),_[15]=0,_}function KE(_,T,O,R,I,B,F){var G=1/(T-O),$=1/(R-I),K=1/(B-F);return _[0]=-2*G,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=-2*$,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[10]=2*K,_[11]=0,_[12]=(T+O)*G,_[13]=(I+R)*$,_[14]=(F+B)*K,_[15]=1,_}function ZE(_,T,O,R){var I,B,F,G,$,K,Q,ie,oe,ae,ce=T[0],me=T[1],ue=T[2],Ee=R[0],$e=R[1],Ge=R[2],Ve=O[0],Xe=O[1],We=O[2];return Math.abs(ce-Ve)<f&&Math.abs(me-Xe)<f&&Math.abs(ue-We)<f?hp(_):(Q=ce-Ve,ie=me-Xe,oe=ue-We,I=$e*(oe*=ae=1/Math.hypot(Q,ie,oe))-Ge*(ie*=ae),B=Ge*(Q*=ae)-Ee*oe,F=Ee*ie-$e*Q,(ae=Math.hypot(I,B,F))?(I*=ae=1/ae,B*=ae,F*=ae):(I=0,B=0,F=0),G=ie*F-oe*B,$=oe*I-Q*F,K=Q*B-ie*I,(ae=Math.hypot(G,$,K))?(G*=ae=1/ae,$*=ae,K*=ae):(G=0,$=0,K=0),_[0]=I,_[1]=G,_[2]=Q,_[3]=0,_[4]=B,_[5]=$,_[6]=ie,_[7]=0,_[8]=F,_[9]=K,_[10]=oe,_[11]=0,_[12]=-(I*ce+B*me+F*ue),_[13]=-(G*ce+$*me+K*ue),_[14]=-(Q*ce+ie*me+oe*ue),_[15]=1,_)}function QE(_,T,O,R){var I=T[0],B=T[1],F=T[2],G=R[0],$=R[1],K=R[2],Q=I-O[0],ie=B-O[1],oe=F-O[2],ae=Q*Q+ie*ie+oe*oe;ae>0&&(Q*=ae=1/Math.sqrt(ae),ie*=ae,oe*=ae);var ce=$*oe-K*ie,me=K*Q-G*oe,ue=G*ie-$*Q;return(ae=ce*ce+me*me+ue*ue)>0&&(ce*=ae=1/Math.sqrt(ae),me*=ae,ue*=ae),_[0]=ce,_[1]=me,_[2]=ue,_[3]=0,_[4]=ie*ue-oe*me,_[5]=oe*ce-Q*ue,_[6]=Q*me-ie*ce,_[7]=0,_[8]=Q,_[9]=ie,_[10]=oe,_[11]=0,_[12]=I,_[13]=B,_[14]=F,_[15]=1,_}function JE(_){return"mat4("+_[0]+", "+_[1]+", "+_[2]+", "+_[3]+", "+_[4]+", "+_[5]+", "+_[6]+", "+_[7]+", "+_[8]+", "+_[9]+", "+_[10]+", "+_[11]+", "+_[12]+", "+_[13]+", "+_[14]+", "+_[15]+")"}function eT(_){return Math.hypot(_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7],_[8],_[9],_[10],_[11],_[12],_[13],_[14],_[15])}function tT(_,T,O){return _[0]=T[0]+O[0],_[1]=T[1]+O[1],_[2]=T[2]+O[2],_[3]=T[3]+O[3],_[4]=T[4]+O[4],_[5]=T[5]+O[5],_[6]=T[6]+O[6],_[7]=T[7]+O[7],_[8]=T[8]+O[8],_[9]=T[9]+O[9],_[10]=T[10]+O[10],_[11]=T[11]+O[11],_[12]=T[12]+O[12],_[13]=T[13]+O[13],_[14]=T[14]+O[14],_[15]=T[15]+O[15],_}function yp(_,T,O){return _[0]=T[0]-O[0],_[1]=T[1]-O[1],_[2]=T[2]-O[2],_[3]=T[3]-O[3],_[4]=T[4]-O[4],_[5]=T[5]-O[5],_[6]=T[6]-O[6],_[7]=T[7]-O[7],_[8]=T[8]-O[8],_[9]=T[9]-O[9],_[10]=T[10]-O[10],_[11]=T[11]-O[11],_[12]=T[12]-O[12],_[13]=T[13]-O[13],_[14]=T[14]-O[14],_[15]=T[15]-O[15],_}function rT(_,T,O){return _[0]=T[0]*O,_[1]=T[1]*O,_[2]=T[2]*O,_[3]=T[3]*O,_[4]=T[4]*O,_[5]=T[5]*O,_[6]=T[6]*O,_[7]=T[7]*O,_[8]=T[8]*O,_[9]=T[9]*O,_[10]=T[10]*O,_[11]=T[11]*O,_[12]=T[12]*O,_[13]=T[13]*O,_[14]=T[14]*O,_[15]=T[15]*O,_}function nT(_,T,O,R){return _[0]=T[0]+O[0]*R,_[1]=T[1]+O[1]*R,_[2]=T[2]+O[2]*R,_[3]=T[3]+O[3]*R,_[4]=T[4]+O[4]*R,_[5]=T[5]+O[5]*R,_[6]=T[6]+O[6]*R,_[7]=T[7]+O[7]*R,_[8]=T[8]+O[8]*R,_[9]=T[9]+O[9]*R,_[10]=T[10]+O[10]*R,_[11]=T[11]+O[11]*R,_[12]=T[12]+O[12]*R,_[13]=T[13]+O[13]*R,_[14]=T[14]+O[14]*R,_[15]=T[15]+O[15]*R,_}function iT(_,T){return _[0]===T[0]&&_[1]===T[1]&&_[2]===T[2]&&_[3]===T[3]&&_[4]===T[4]&&_[5]===T[5]&&_[6]===T[6]&&_[7]===T[7]&&_[8]===T[8]&&_[9]===T[9]&&_[10]===T[10]&&_[11]===T[11]&&_[12]===T[12]&&_[13]===T[13]&&_[14]===T[14]&&_[15]===T[15]}function oT(_,T){var O=_[0],R=_[1],I=_[2],B=_[3],F=_[4],G=_[5],$=_[6],K=_[7],Q=_[8],ie=_[9],oe=_[10],ae=_[11],ce=_[12],me=_[13],ue=_[14],Ee=_[15],$e=T[0],Ge=T[1],Ve=T[2],Xe=T[3],We=T[4],Rt=T[5],wt=T[6],At=T[7],vt=T[8],Dt=T[9],ft=T[10],dt=T[11],qe=T[12],Xr=T[13],na=T[14],ia=T[15];return Math.abs(O-$e)<=f*Math.max(1,Math.abs(O),Math.abs($e))&&Math.abs(R-Ge)<=f*Math.max(1,Math.abs(R),Math.abs(Ge))&&Math.abs(I-Ve)<=f*Math.max(1,Math.abs(I),Math.abs(Ve))&&Math.abs(B-Xe)<=f*Math.max(1,Math.abs(B),Math.abs(Xe))&&Math.abs(F-We)<=f*Math.max(1,Math.abs(F),Math.abs(We))&&Math.abs(G-Rt)<=f*Math.max(1,Math.abs(G),Math.abs(Rt))&&Math.abs($-wt)<=f*Math.max(1,Math.abs($),Math.abs(wt))&&Math.abs(K-At)<=f*Math.max(1,Math.abs(K),Math.abs(At))&&Math.abs(Q-vt)<=f*Math.max(1,Math.abs(Q),Math.abs(vt))&&Math.abs(ie-Dt)<=f*Math.max(1,Math.abs(ie),Math.abs(Dt))&&Math.abs(oe-ft)<=f*Math.max(1,Math.abs(oe),Math.abs(ft))&&Math.abs(ae-dt)<=f*Math.max(1,Math.abs(ae),Math.abs(dt))&&Math.abs(ce-qe)<=f*Math.max(1,Math.abs(ce),Math.abs(qe))&&Math.abs(me-Xr)<=f*Math.max(1,Math.abs(me),Math.abs(Xr))&&Math.abs(ue-na)<=f*Math.max(1,Math.abs(ue),Math.abs(na))&&Math.abs(Ee-ia)<=f*Math.max(1,Math.abs(Ee),Math.abs(ia))}var aT=pp,sT=yp;function cc(){var _=new m(3);return m!=Float32Array&&(_[0]=0,_[1]=0,_[2]=0),_}function uT(_){var T=new m(3);return T[0]=_[0],T[1]=_[1],T[2]=_[2],T}function bp(_){var T=_[0],O=_[1],R=_[2];return Math.hypot(T,O,R)}function fc(_,T,O){var R=new m(3);return R[0]=_,R[1]=T,R[2]=O,R}function lT(_,T){return _[0]=T[0],_[1]=T[1],_[2]=T[2],_}function cT(_,T,O,R){return _[0]=T,_[1]=O,_[2]=R,_}function fT(_,T,O){return _[0]=T[0]+O[0],_[1]=T[1]+O[1],_[2]=T[2]+O[2],_}function Ep(_,T,O){return _[0]=T[0]-O[0],_[1]=T[1]-O[1],_[2]=T[2]-O[2],_}function Tp(_,T,O){return _[0]=T[0]*O[0],_[1]=T[1]*O[1],_[2]=T[2]*O[2],_}function xp(_,T,O){return _[0]=T[0]/O[0],_[1]=T[1]/O[1],_[2]=T[2]/O[2],_}function dT(_,T){return _[0]=Math.ceil(T[0]),_[1]=Math.ceil(T[1]),_[2]=Math.ceil(T[2]),_}function hT(_,T){return _[0]=Math.floor(T[0]),_[1]=Math.floor(T[1]),_[2]=Math.floor(T[2]),_}function pT(_,T,O){return _[0]=Math.min(T[0],O[0]),_[1]=Math.min(T[1],O[1]),_[2]=Math.min(T[2],O[2]),_}function _T(_,T,O){return _[0]=Math.max(T[0],O[0]),_[1]=Math.max(T[1],O[1]),_[2]=Math.max(T[2],O[2]),_}function mT(_,T){return _[0]=Math.round(T[0]),_[1]=Math.round(T[1]),_[2]=Math.round(T[2]),_}function gT(_,T,O){return _[0]=T[0]*O,_[1]=T[1]*O,_[2]=T[2]*O,_}function vT(_,T,O,R){return _[0]=T[0]+O[0]*R,_[1]=T[1]+O[1]*R,_[2]=T[2]+O[2]*R,_}function wp(_,T){var O=T[0]-_[0],R=T[1]-_[1],I=T[2]-_[2];return Math.hypot(O,R,I)}function Ap(_,T){var O=T[0]-_[0],R=T[1]-_[1],I=T[2]-_[2];return O*O+R*R+I*I}function Sp(_){var T=_[0],O=_[1],R=_[2];return T*T+O*O+R*R}function yT(_,T){return _[0]=-T[0],_[1]=-T[1],_[2]=-T[2],_}function bT(_,T){return _[0]=1/T[0],_[1]=1/T[1],_[2]=1/T[2],_}function Pp(_,T){var O=T[0],R=T[1],I=T[2],B=O*O+R*R+I*I;return B>0&&(B=1/Math.sqrt(B)),_[0]=T[0]*B,_[1]=T[1]*B,_[2]=T[2]*B,_}function dc(_,T){return _[0]*T[0]+_[1]*T[1]+_[2]*T[2]}function zs(_,T,O){var R=T[0],I=T[1],B=T[2],F=O[0],G=O[1],$=O[2];return _[0]=I*$-B*G,_[1]=B*F-R*$,_[2]=R*G-I*F,_}function ET(_,T,O,R){var I=T[0],B=T[1],F=T[2];return _[0]=I+R*(O[0]-I),_[1]=B+R*(O[1]-B),_[2]=F+R*(O[2]-F),_}function TT(_,T,O,R,I,B){var F=B*B,G=F*(2*B-3)+1,$=F*(B-2)+B,K=F*(B-1),Q=F*(3-2*B);return _[0]=T[0]*G+O[0]*$+R[0]*K+I[0]*Q,_[1]=T[1]*G+O[1]*$+R[1]*K+I[1]*Q,_[2]=T[2]*G+O[2]*$+R[2]*K+I[2]*Q,_}function xT(_,T,O,R,I,B){var F=1-B,G=F*F,$=B*B,K=G*F,Q=3*B*G,ie=3*$*F,oe=$*B;return _[0]=T[0]*K+O[0]*Q+R[0]*ie+I[0]*oe,_[1]=T[1]*K+O[1]*Q+R[1]*ie+I[1]*oe,_[2]=T[2]*K+O[2]*Q+R[2]*ie+I[2]*oe,_}function wT(_,T){T=T||1;var O=2*y()*Math.PI,R=2*y()-1,I=Math.sqrt(1-R*R)*T;return _[0]=Math.cos(O)*I,_[1]=Math.sin(O)*I,_[2]=R*T,_}function AT(_,T,O){var R=T[0],I=T[1],B=T[2],F=O[3]*R+O[7]*I+O[11]*B+O[15];return F=F||1,_[0]=(O[0]*R+O[4]*I+O[8]*B+O[12])/F,_[1]=(O[1]*R+O[5]*I+O[9]*B+O[13])/F,_[2]=(O[2]*R+O[6]*I+O[10]*B+O[14])/F,_}function ST(_,T,O){var R=T[0],I=T[1],B=T[2];return _[0]=R*O[0]+I*O[3]+B*O[6],_[1]=R*O[1]+I*O[4]+B*O[7],_[2]=R*O[2]+I*O[5]+B*O[8],_}function PT(_,T,O){var R=O[0],I=O[1],B=O[2],F=O[3],G=T[0],$=T[1],K=T[2],Q=I*K-B*$,ie=B*G-R*K,oe=R*$-I*G,ae=I*oe-B*ie,ce=B*Q-R*oe,me=R*ie-I*Q,ue=2*F;return Q*=ue,ie*=ue,oe*=ue,ae*=2,ce*=2,me*=2,_[0]=G+Q+ae,_[1]=$+ie+ce,_[2]=K+oe+me,_}function OT(_,T,O,R){var I=[],B=[];return I[0]=T[0]-O[0],I[1]=T[1]-O[1],I[2]=T[2]-O[2],B[0]=I[0],B[1]=I[1]*Math.cos(R)-I[2]*Math.sin(R),B[2]=I[1]*Math.sin(R)+I[2]*Math.cos(R),_[0]=B[0]+O[0],_[1]=B[1]+O[1],_[2]=B[2]+O[2],_}function RT(_,T,O,R){var I=[],B=[];return I[0]=T[0]-O[0],I[1]=T[1]-O[1],I[2]=T[2]-O[2],B[0]=I[2]*Math.sin(R)+I[0]*Math.cos(R),B[1]=I[1],B[2]=I[2]*Math.cos(R)-I[0]*Math.sin(R),_[0]=B[0]+O[0],_[1]=B[1]+O[1],_[2]=B[2]+O[2],_}function LT(_,T,O,R){var I=[],B=[];return I[0]=T[0]-O[0],I[1]=T[1]-O[1],I[2]=T[2]-O[2],B[0]=I[0]*Math.cos(R)-I[1]*Math.sin(R),B[1]=I[0]*Math.sin(R)+I[1]*Math.cos(R),B[2]=I[2],_[0]=B[0]+O[0],_[1]=B[1]+O[1],_[2]=B[2]+O[2],_}function CT(_,T){var O=_[0],R=_[1],I=_[2],B=T[0],F=T[1],G=T[2],$=Math.sqrt(O*O+R*R+I*I)*Math.sqrt(B*B+F*F+G*G),K=$&&dc(_,T)/$;return Math.acos(Math.min(Math.max(K,-1),1))}function IT(_){return _[0]=0,_[1]=0,_[2]=0,_}function MT(_){return"vec3("+_[0]+", "+_[1]+", "+_[2]+")"}function DT(_,T){return _[0]===T[0]&&_[1]===T[1]&&_[2]===T[2]}function NT(_,T){var O=_[0],R=_[1],I=_[2],B=T[0],F=T[1],G=T[2];return Math.abs(O-B)<=f*Math.max(1,Math.abs(O),Math.abs(B))&&Math.abs(R-F)<=f*Math.max(1,Math.abs(R),Math.abs(F))&&Math.abs(I-G)<=f*Math.max(1,Math.abs(I),Math.abs(G))}var wn,kT=Ep,BT=Tp,FT=xp,jT=wp,zT=Ap,Op=bp,UT=Sp,GT=(wn=cc(),function(_,T,O,R,I,B){var F,G;for(T||(T=3),O||(O=0),G=R?Math.min(R*T+O,_.length):_.length,F=O;F<G;F+=T)wn[0]=_[F],wn[1]=_[F+1],wn[2]=_[F+2],I(wn,wn,B),_[F]=wn[0],_[F+1]=wn[1],_[F+2]=wn[2];return _});function Rp(){var _=new m(4);return m!=Float32Array&&(_[0]=0,_[1]=0,_[2]=0,_[3]=0),_}function Lp(_){var T=new m(4);return T[0]=_[0],T[1]=_[1],T[2]=_[2],T[3]=_[3],T}function Cp(_,T,O,R){var I=new m(4);return I[0]=_,I[1]=T,I[2]=O,I[3]=R,I}function Ip(_,T){return _[0]=T[0],_[1]=T[1],_[2]=T[2],_[3]=T[3],_}function Mp(_,T,O,R,I){return _[0]=T,_[1]=O,_[2]=R,_[3]=I,_}function Dp(_,T,O){return _[0]=T[0]+O[0],_[1]=T[1]+O[1],_[2]=T[2]+O[2],_[3]=T[3]+O[3],_}function Np(_,T,O){return _[0]=T[0]-O[0],_[1]=T[1]-O[1],_[2]=T[2]-O[2],_[3]=T[3]-O[3],_}function kp(_,T,O){return _[0]=T[0]*O[0],_[1]=T[1]*O[1],_[2]=T[2]*O[2],_[3]=T[3]*O[3],_}function Bp(_,T,O){return _[0]=T[0]/O[0],_[1]=T[1]/O[1],_[2]=T[2]/O[2],_[3]=T[3]/O[3],_}function VT(_,T){return _[0]=Math.ceil(T[0]),_[1]=Math.ceil(T[1]),_[2]=Math.ceil(T[2]),_[3]=Math.ceil(T[3]),_}function HT(_,T){return _[0]=Math.floor(T[0]),_[1]=Math.floor(T[1]),_[2]=Math.floor(T[2]),_[3]=Math.floor(T[3]),_}function $T(_,T,O){return _[0]=Math.min(T[0],O[0]),_[1]=Math.min(T[1],O[1]),_[2]=Math.min(T[2],O[2]),_[3]=Math.min(T[3],O[3]),_}function WT(_,T,O){return _[0]=Math.max(T[0],O[0]),_[1]=Math.max(T[1],O[1]),_[2]=Math.max(T[2],O[2]),_[3]=Math.max(T[3],O[3]),_}function qT(_,T){return _[0]=Math.round(T[0]),_[1]=Math.round(T[1]),_[2]=Math.round(T[2]),_[3]=Math.round(T[3]),_}function Fp(_,T,O){return _[0]=T[0]*O,_[1]=T[1]*O,_[2]=T[2]*O,_[3]=T[3]*O,_}function XT(_,T,O,R){return _[0]=T[0]+O[0]*R,_[1]=T[1]+O[1]*R,_[2]=T[2]+O[2]*R,_[3]=T[3]+O[3]*R,_}function jp(_,T){var O=T[0]-_[0],R=T[1]-_[1],I=T[2]-_[2],B=T[3]-_[3];return Math.hypot(O,R,I,B)}function zp(_,T){var O=T[0]-_[0],R=T[1]-_[1],I=T[2]-_[2],B=T[3]-_[3];return O*O+R*R+I*I+B*B}function hc(_){var T=_[0],O=_[1],R=_[2],I=_[3];return Math.hypot(T,O,R,I)}function pc(_){var T=_[0],O=_[1],R=_[2],I=_[3];return T*T+O*O+R*R+I*I}function YT(_,T){return _[0]=-T[0],_[1]=-T[1],_[2]=-T[2],_[3]=-T[3],_}function KT(_,T){return _[0]=1/T[0],_[1]=1/T[1],_[2]=1/T[2],_[3]=1/T[3],_}function Up(_,T){var O=T[0],R=T[1],I=T[2],B=T[3],F=O*O+R*R+I*I+B*B;return F>0&&(F=1/Math.sqrt(F)),_[0]=O*F,_[1]=R*F,_[2]=I*F,_[3]=B*F,_}function Gp(_,T){return _[0]*T[0]+_[1]*T[1]+_[2]*T[2]+_[3]*T[3]}function ZT(_,T,O,R){var I=O[0]*R[1]-O[1]*R[0],B=O[0]*R[2]-O[2]*R[0],F=O[0]*R[3]-O[3]*R[0],G=O[1]*R[2]-O[2]*R[1],$=O[1]*R[3]-O[3]*R[1],K=O[2]*R[3]-O[3]*R[2],Q=T[0],ie=T[1],oe=T[2],ae=T[3];return _[0]=ie*K-oe*$+ae*G,_[1]=-Q*K+oe*F-ae*B,_[2]=Q*$-ie*F+ae*I,_[3]=-Q*G+ie*B-oe*I,_}function Vp(_,T,O,R){var I=T[0],B=T[1],F=T[2],G=T[3];return _[0]=I+R*(O[0]-I),_[1]=B+R*(O[1]-B),_[2]=F+R*(O[2]-F),_[3]=G+R*(O[3]-G),_}function QT(_,T){var O,R,I,B,F,G;T=T||1;do F=(O=2*y()-1)*O+(R=2*y()-1)*R;while(F>=1);do G=(I=2*y()-1)*I+(B=2*y()-1)*B;while(G>=1);var $=Math.sqrt((1-F)/G);return _[0]=T*O,_[1]=T*R,_[2]=T*I*$,_[3]=T*B*$,_}function JT(_,T,O){var R=T[0],I=T[1],B=T[2],F=T[3];return _[0]=O[0]*R+O[4]*I+O[8]*B+O[12]*F,_[1]=O[1]*R+O[5]*I+O[9]*B+O[13]*F,_[2]=O[2]*R+O[6]*I+O[10]*B+O[14]*F,_[3]=O[3]*R+O[7]*I+O[11]*B+O[15]*F,_}function ex(_,T,O){var R=T[0],I=T[1],B=T[2],F=O[0],G=O[1],$=O[2],K=O[3],Q=K*R+G*B-$*I,ie=K*I+$*R-F*B,oe=K*B+F*I-G*R,ae=-F*R-G*I-$*B;return _[0]=Q*K+ae*-F+ie*-$-oe*-G,_[1]=ie*K+ae*-G+oe*-F-Q*-$,_[2]=oe*K+ae*-$+Q*-G-ie*-F,_[3]=T[3],_}function tx(_){return _[0]=0,_[1]=0,_[2]=0,_[3]=0,_}function rx(_){return"vec4("+_[0]+", "+_[1]+", "+_[2]+", "+_[3]+")"}function Hp(_,T){return _[0]===T[0]&&_[1]===T[1]&&_[2]===T[2]&&_[3]===T[3]}function $p(_,T){var O=_[0],R=_[1],I=_[2],B=_[3],F=T[0],G=T[1],$=T[2],K=T[3];return Math.abs(O-F)<=f*Math.max(1,Math.abs(O),Math.abs(F))&&Math.abs(R-G)<=f*Math.max(1,Math.abs(R),Math.abs(G))&&Math.abs(I-$)<=f*Math.max(1,Math.abs(I),Math.abs($))&&Math.abs(B-K)<=f*Math.max(1,Math.abs(B),Math.abs(K))}var nx=Np,ix=kp,ox=Bp,ax=jp,sx=zp,ux=hc,lx=pc,cx=function(){var _=Rp();return function(T,O,R,I,B,F){var G,$;for(O||(O=4),R||(R=0),$=I?Math.min(I*O+R,T.length):T.length,G=R;G<$;G+=O)_[0]=T[G],_[1]=T[G+1],_[2]=T[G+2],_[3]=T[G+3],B(_,_,F),T[G]=_[0],T[G+1]=_[1],T[G+2]=_[2],T[G+3]=_[3];return T}}();function Us(){var _=new m(4);return m!=Float32Array&&(_[0]=0,_[1]=0,_[2]=0),_[3]=1,_}function fx(_){return _[0]=0,_[1]=0,_[2]=0,_[3]=1,_}function Wp(_,T,O){O*=.5;var R=Math.sin(O);return _[0]=R*T[0],_[1]=R*T[1],_[2]=R*T[2],_[3]=Math.cos(O),_}function dx(_,T){var O=2*Math.acos(T[3]),R=Math.sin(O/2);return R>f?(_[0]=T[0]/R,_[1]=T[1]/R,_[2]=T[2]/R):(_[0]=1,_[1]=0,_[2]=0),O}function hx(_,T){var O=vc(_,T);return Math.acos(2*O*O-1)}function qp(_,T,O){var R=T[0],I=T[1],B=T[2],F=T[3],G=O[0],$=O[1],K=O[2],Q=O[3];return _[0]=R*Q+F*G+I*K-B*$,_[1]=I*Q+F*$+B*G-R*K,_[2]=B*Q+F*K+R*$-I*G,_[3]=F*Q-R*G-I*$-B*K,_}function Xp(_,T,O){O*=.5;var R=T[0],I=T[1],B=T[2],F=T[3],G=Math.sin(O),$=Math.cos(O);return _[0]=R*$+F*G,_[1]=I*$+B*G,_[2]=B*$-I*G,_[3]=F*$-R*G,_}function Yp(_,T,O){O*=.5;var R=T[0],I=T[1],B=T[2],F=T[3],G=Math.sin(O),$=Math.cos(O);return _[0]=R*$-B*G,_[1]=I*$+F*G,_[2]=B*$+R*G,_[3]=F*$-I*G,_}function Kp(_,T,O){O*=.5;var R=T[0],I=T[1],B=T[2],F=T[3],G=Math.sin(O),$=Math.cos(O);return _[0]=R*$+I*G,_[1]=I*$-R*G,_[2]=B*$+F*G,_[3]=F*$-B*G,_}function px(_,T){var O=T[0],R=T[1],I=T[2];return _[0]=O,_[1]=R,_[2]=I,_[3]=Math.sqrt(Math.abs(1-O*O-R*R-I*I)),_}function Zp(_,T){var O=T[0],R=T[1],I=T[2],B=T[3],F=Math.sqrt(O*O+R*R+I*I),G=Math.exp(B),$=F>0?G*Math.sin(F)/F:0;return _[0]=O*$,_[1]=R*$,_[2]=I*$,_[3]=G*Math.cos(F),_}function Qp(_,T){var O=T[0],R=T[1],I=T[2],B=T[3],F=Math.sqrt(O*O+R*R+I*I),G=F>0?Math.atan2(F,B)/F:0;return _[0]=O*G,_[1]=R*G,_[2]=I*G,_[3]=.5*Math.log(O*O+R*R+I*I+B*B),_}function _x(_,T,O){return Qp(_,T),r_(_,_,O),Zp(_,_),_}function Gs(_,T,O,R){var I,B,F,G,$,K=T[0],Q=T[1],ie=T[2],oe=T[3],ae=O[0],ce=O[1],me=O[2],ue=O[3];return(B=K*ae+Q*ce+ie*me+oe*ue)<0&&(B=-B,ae=-ae,ce=-ce,me=-me,ue=-ue),1-B>f?(I=Math.acos(B),F=Math.sin(I),G=Math.sin((1-R)*I)/F,$=Math.sin(R*I)/F):(G=1-R,$=R),_[0]=G*K+$*ae,_[1]=G*Q+$*ce,_[2]=G*ie+$*me,_[3]=G*oe+$*ue,_}function mx(_){var T=y(),O=y(),R=y(),I=Math.sqrt(1-T),B=Math.sqrt(T);return _[0]=I*Math.sin(2*Math.PI*O),_[1]=I*Math.cos(2*Math.PI*O),_[2]=B*Math.sin(2*Math.PI*R),_[3]=B*Math.cos(2*Math.PI*R),_}function gx(_,T){var O=T[0],R=T[1],I=T[2],B=T[3],F=O*O+R*R+I*I+B*B,G=F?1/F:0;return _[0]=-O*G,_[1]=-R*G,_[2]=-I*G,_[3]=B*G,_}function vx(_,T){return _[0]=-T[0],_[1]=-T[1],_[2]=-T[2],_[3]=T[3],_}function Jp(_,T){var O,R=T[0]+T[4]+T[8];if(R>0)O=Math.sqrt(R+1),_[3]=.5*O,O=.5/O,_[0]=(T[5]-T[7])*O,_[1]=(T[6]-T[2])*O,_[2]=(T[1]-T[3])*O;else{var I=0;T[4]>T[0]&&(I=1),T[8]>T[3*I+I]&&(I=2);var B=(I+1)%3,F=(I+2)%3;O=Math.sqrt(T[3*I+I]-T[3*B+B]-T[3*F+F]+1),_[I]=.5*O,O=.5/O,_[3]=(T[3*B+F]-T[3*F+B])*O,_[B]=(T[3*B+I]+T[3*I+B])*O,_[F]=(T[3*F+I]+T[3*I+F])*O}return _}function yx(_,T,O,R){var I=.5*Math.PI/180;T*=I,O*=I,R*=I;var B=Math.sin(T),F=Math.cos(T),G=Math.sin(O),$=Math.cos(O),K=Math.sin(R),Q=Math.cos(R);return _[0]=B*$*Q-F*G*K,_[1]=F*G*Q+B*$*K,_[2]=F*$*K-B*G*Q,_[3]=F*$*Q+B*G*K,_}function bx(_){return"quat("+_[0]+", "+_[1]+", "+_[2]+", "+_[3]+")"}var Wr,e_,t_,_c,mc,qr,Ex=Lp,Tx=Cp,gc=Ip,xx=Mp,wx=Dp,Ax=qp,r_=Fp,vc=Gp,Sx=Vp,yc=hc,Px=yc,bc=pc,Ox=bc,Ec=Up,Rx=Hp,Lx=$p,Cx=(Wr=cc(),e_=fc(1,0,0),t_=fc(0,1,0),function(_,T,O){var R=dc(T,O);return R<-.999999?(zs(Wr,e_,T),Op(Wr)<1e-6&&zs(Wr,t_,T),Pp(Wr,Wr),Wp(_,Wr,Math.PI),_):R>.999999?(_[0]=0,_[1]=0,_[2]=0,_[3]=1,_):(zs(Wr,T,O),_[0]=Wr[0],_[1]=Wr[1],_[2]=Wr[2],_[3]=1+R,Ec(_,_))}),Ix=(_c=Us(),mc=Us(),function(_,T,O,R,I,B){return Gs(_c,T,I,B),Gs(mc,O,R,B),Gs(_,_c,mc,2*B*(1-B)),_}),Mx=(qr=Fe(),function(_,T,O,R){return qr[0]=O[0],qr[3]=O[1],qr[6]=O[2],qr[1]=R[0],qr[4]=R[1],qr[7]=R[2],qr[2]=-T[0],qr[5]=-T[1],qr[8]=-T[2],Ec(_,Jp(_,qr))});function Dx(){var _=new m(8);return m!=Float32Array&&(_[0]=0,_[1]=0,_[2]=0,_[4]=0,_[5]=0,_[6]=0,_[7]=0),_[3]=1,_}function Nx(_){var T=new m(8);return T[0]=_[0],T[1]=_[1],T[2]=_[2],T[3]=_[3],T[4]=_[4],T[5]=_[5],T[6]=_[6],T[7]=_[7],T}function kx(_,T,O,R,I,B,F,G){var $=new m(8);return $[0]=_,$[1]=T,$[2]=O,$[3]=R,$[4]=I,$[5]=B,$[6]=F,$[7]=G,$}function Bx(_,T,O,R,I,B,F){var G=new m(8);G[0]=_,G[1]=T,G[2]=O,G[3]=R;var $=.5*I,K=.5*B,Q=.5*F;return G[4]=$*R+K*O-Q*T,G[5]=K*R+Q*_-$*O,G[6]=Q*R+$*T-K*_,G[7]=-$*_-K*T-Q*O,G}function n_(_,T,O){var R=.5*O[0],I=.5*O[1],B=.5*O[2],F=T[0],G=T[1],$=T[2],K=T[3];return _[0]=F,_[1]=G,_[2]=$,_[3]=K,_[4]=R*K+I*$-B*G,_[5]=I*K+B*F-R*$,_[6]=B*K+R*G-I*F,_[7]=-R*F-I*G-B*$,_}function Fx(_,T){return _[0]=0,_[1]=0,_[2]=0,_[3]=1,_[4]=.5*T[0],_[5]=.5*T[1],_[6]=.5*T[2],_[7]=0,_}function jx(_,T){return _[0]=T[0],_[1]=T[1],_[2]=T[2],_[3]=T[3],_[4]=0,_[5]=0,_[6]=0,_[7]=0,_}function zx(_,T){var O=Us();vp(O,T);var R=new m(3);return mp(R,T),n_(_,O,R),_}function i_(_,T){return _[0]=T[0],_[1]=T[1],_[2]=T[2],_[3]=T[3],_[4]=T[4],_[5]=T[5],_[6]=T[6],_[7]=T[7],_}function Ux(_){return _[0]=0,_[1]=0,_[2]=0,_[3]=1,_[4]=0,_[5]=0,_[6]=0,_[7]=0,_}function Gx(_,T,O,R,I,B,F,G,$){return _[0]=T,_[1]=O,_[2]=R,_[3]=I,_[4]=B,_[5]=F,_[6]=G,_[7]=$,_}var Vx=gc;function Hx(_,T){return _[0]=T[4],_[1]=T[5],_[2]=T[6],_[3]=T[7],_}var $x=gc;function Wx(_,T){return _[4]=T[0],_[5]=T[1],_[6]=T[2],_[7]=T[3],_}function qx(_,T){var O=T[4],R=T[5],I=T[6],B=T[7],F=-T[0],G=-T[1],$=-T[2],K=T[3];return _[0]=2*(O*K+B*F+R*$-I*G),_[1]=2*(R*K+B*G+I*F-O*$),_[2]=2*(I*K+B*$+O*G-R*F),_}function Xx(_,T,O){var R=T[0],I=T[1],B=T[2],F=T[3],G=.5*O[0],$=.5*O[1],K=.5*O[2],Q=T[4],ie=T[5],oe=T[6],ae=T[7];return _[0]=R,_[1]=I,_[2]=B,_[3]=F,_[4]=F*G+I*K-B*$+Q,_[5]=F*$+B*G-R*K+ie,_[6]=F*K+R*$-I*G+oe,_[7]=-R*G-I*$-B*K+ae,_}function Yx(_,T,O){var R=-T[0],I=-T[1],B=-T[2],F=T[3],G=T[4],$=T[5],K=T[6],Q=T[7],ie=G*F+Q*R+$*B-K*I,oe=$*F+Q*I+K*R-G*B,ae=K*F+Q*B+G*I-$*R,ce=Q*F-G*R-$*I-K*B;return Xp(_,T,O),R=_[0],I=_[1],B=_[2],F=_[3],_[4]=ie*F+ce*R+oe*B-ae*I,_[5]=oe*F+ce*I+ae*R-ie*B,_[6]=ae*F+ce*B+ie*I-oe*R,_[7]=ce*F-ie*R-oe*I-ae*B,_}function Kx(_,T,O){var R=-T[0],I=-T[1],B=-T[2],F=T[3],G=T[4],$=T[5],K=T[6],Q=T[7],ie=G*F+Q*R+$*B-K*I,oe=$*F+Q*I+K*R-G*B,ae=K*F+Q*B+G*I-$*R,ce=Q*F-G*R-$*I-K*B;return Yp(_,T,O),R=_[0],I=_[1],B=_[2],F=_[3],_[4]=ie*F+ce*R+oe*B-ae*I,_[5]=oe*F+ce*I+ae*R-ie*B,_[6]=ae*F+ce*B+ie*I-oe*R,_[7]=ce*F-ie*R-oe*I-ae*B,_}function Zx(_,T,O){var R=-T[0],I=-T[1],B=-T[2],F=T[3],G=T[4],$=T[5],K=T[6],Q=T[7],ie=G*F+Q*R+$*B-K*I,oe=$*F+Q*I+K*R-G*B,ae=K*F+Q*B+G*I-$*R,ce=Q*F-G*R-$*I-K*B;return Kp(_,T,O),R=_[0],I=_[1],B=_[2],F=_[3],_[4]=ie*F+ce*R+oe*B-ae*I,_[5]=oe*F+ce*I+ae*R-ie*B,_[6]=ae*F+ce*B+ie*I-oe*R,_[7]=ce*F-ie*R-oe*I-ae*B,_}function Qx(_,T,O){var R=O[0],I=O[1],B=O[2],F=O[3],G=T[0],$=T[1],K=T[2],Q=T[3];return _[0]=G*F+Q*R+$*B-K*I,_[1]=$*F+Q*I+K*R-G*B,_[2]=K*F+Q*B+G*I-$*R,_[3]=Q*F-G*R-$*I-K*B,G=T[4],$=T[5],K=T[6],Q=T[7],_[4]=G*F+Q*R+$*B-K*I,_[5]=$*F+Q*I+K*R-G*B,_[6]=K*F+Q*B+G*I-$*R,_[7]=Q*F-G*R-$*I-K*B,_}function Jx(_,T,O){var R=T[0],I=T[1],B=T[2],F=T[3],G=O[0],$=O[1],K=O[2],Q=O[3];return _[0]=R*Q+F*G+I*K-B*$,_[1]=I*Q+F*$+B*G-R*K,_[2]=B*Q+F*K+R*$-I*G,_[3]=F*Q-R*G-I*$-B*K,G=O[4],$=O[5],K=O[6],Q=O[7],_[4]=R*Q+F*G+I*K-B*$,_[5]=I*Q+F*$+B*G-R*K,_[6]=B*Q+F*K+R*$-I*G,_[7]=F*Q-R*G-I*$-B*K,_}function ew(_,T,O,R){if(Math.abs(R)<f)return i_(_,T);var I=Math.hypot(O[0],O[1],O[2]);R*=.5;var B=Math.sin(R),F=B*O[0]/I,G=B*O[1]/I,$=B*O[2]/I,K=Math.cos(R),Q=T[0],ie=T[1],oe=T[2],ae=T[3];_[0]=Q*K+ae*F+ie*$-oe*G,_[1]=ie*K+ae*G+oe*F-Q*$,_[2]=oe*K+ae*$+Q*G-ie*F,_[3]=ae*K-Q*F-ie*G-oe*$;var ce=T[4],me=T[5],ue=T[6],Ee=T[7];return _[4]=ce*K+Ee*F+me*$-ue*G,_[5]=me*K+Ee*G+ue*F-ce*$,_[6]=ue*K+Ee*$+ce*G-me*F,_[7]=Ee*K-ce*F-me*G-ue*$,_}function tw(_,T,O){return _[0]=T[0]+O[0],_[1]=T[1]+O[1],_[2]=T[2]+O[2],_[3]=T[3]+O[3],_[4]=T[4]+O[4],_[5]=T[5]+O[5],_[6]=T[6]+O[6],_[7]=T[7]+O[7],_}function o_(_,T,O){var R=T[0],I=T[1],B=T[2],F=T[3],G=O[4],$=O[5],K=O[6],Q=O[7],ie=T[4],oe=T[5],ae=T[6],ce=T[7],me=O[0],ue=O[1],Ee=O[2],$e=O[3];return _[0]=R*$e+F*me+I*Ee-B*ue,_[1]=I*$e+F*ue+B*me-R*Ee,_[2]=B*$e+F*Ee+R*ue-I*me,_[3]=F*$e-R*me-I*ue-B*Ee,_[4]=R*Q+F*G+I*K-B*$+ie*$e+ce*me+oe*Ee-ae*ue,_[5]=I*Q+F*$+B*G-R*K+oe*$e+ce*ue+ae*me-ie*Ee,_[6]=B*Q+F*K+R*$-I*G+ae*$e+ce*Ee+ie*ue-oe*me,_[7]=F*Q-R*G-I*$-B*K+ce*$e-ie*me-oe*ue-ae*Ee,_}var rw=o_;function nw(_,T,O){return _[0]=T[0]*O,_[1]=T[1]*O,_[2]=T[2]*O,_[3]=T[3]*O,_[4]=T[4]*O,_[5]=T[5]*O,_[6]=T[6]*O,_[7]=T[7]*O,_}var a_=vc;function iw(_,T,O,R){var I=1-R;return a_(T,O)<0&&(R=-R),_[0]=T[0]*I+O[0]*R,_[1]=T[1]*I+O[1]*R,_[2]=T[2]*I+O[2]*R,_[3]=T[3]*I+O[3]*R,_[4]=T[4]*I+O[4]*R,_[5]=T[5]*I+O[5]*R,_[6]=T[6]*I+O[6]*R,_[7]=T[7]*I+O[7]*R,_}function ow(_,T){var O=Vs(T);return _[0]=-T[0]/O,_[1]=-T[1]/O,_[2]=-T[2]/O,_[3]=T[3]/O,_[4]=-T[4]/O,_[5]=-T[5]/O,_[6]=-T[6]/O,_[7]=T[7]/O,_}function aw(_,T){return _[0]=-T[0],_[1]=-T[1],_[2]=-T[2],_[3]=T[3],_[4]=-T[4],_[5]=-T[5],_[6]=-T[6],_[7]=T[7],_}var s_=yc,sw=s_,Vs=bc,uw=Vs;function lw(_,T){var O=Vs(T);if(O>0){O=Math.sqrt(O);var R=T[0]/O,I=T[1]/O,B=T[2]/O,F=T[3]/O,G=T[4],$=T[5],K=T[6],Q=T[7],ie=R*G+I*$+B*K+F*Q;_[0]=R,_[1]=I,_[2]=B,_[3]=F,_[4]=(G-R*ie)/O,_[5]=($-I*ie)/O,_[6]=(K-B*ie)/O,_[7]=(Q-F*ie)/O}return _}function cw(_){return"quat2("+_[0]+", "+_[1]+", "+_[2]+", "+_[3]+", "+_[4]+", "+_[5]+", "+_[6]+", "+_[7]+")"}function fw(_,T){return _[0]===T[0]&&_[1]===T[1]&&_[2]===T[2]&&_[3]===T[3]&&_[4]===T[4]&&_[5]===T[5]&&_[6]===T[6]&&_[7]===T[7]}function dw(_,T){var O=_[0],R=_[1],I=_[2],B=_[3],F=_[4],G=_[5],$=_[6],K=_[7],Q=T[0],ie=T[1],oe=T[2],ae=T[3],ce=T[4],me=T[5],ue=T[6],Ee=T[7];return Math.abs(O-Q)<=f*Math.max(1,Math.abs(O),Math.abs(Q))&&Math.abs(R-ie)<=f*Math.max(1,Math.abs(R),Math.abs(ie))&&Math.abs(I-oe)<=f*Math.max(1,Math.abs(I),Math.abs(oe))&&Math.abs(B-ae)<=f*Math.max(1,Math.abs(B),Math.abs(ae))&&Math.abs(F-ce)<=f*Math.max(1,Math.abs(F),Math.abs(ce))&&Math.abs(G-me)<=f*Math.max(1,Math.abs(G),Math.abs(me))&&Math.abs($-ue)<=f*Math.max(1,Math.abs($),Math.abs(ue))&&Math.abs(K-Ee)<=f*Math.max(1,Math.abs(K),Math.abs(Ee))}function u_(){var _=new m(2);return m!=Float32Array&&(_[0]=0,_[1]=0),_}function hw(_){var T=new m(2);return T[0]=_[0],T[1]=_[1],T}function pw(_,T){var O=new m(2);return O[0]=_,O[1]=T,O}function _w(_,T){return _[0]=T[0],_[1]=T[1],_}function mw(_,T,O){return _[0]=T,_[1]=O,_}function gw(_,T,O){return _[0]=T[0]+O[0],_[1]=T[1]+O[1],_}function l_(_,T,O){return _[0]=T[0]-O[0],_[1]=T[1]-O[1],_}function c_(_,T,O){return _[0]=T[0]*O[0],_[1]=T[1]*O[1],_}function f_(_,T,O){return _[0]=T[0]/O[0],_[1]=T[1]/O[1],_}function vw(_,T){return _[0]=Math.ceil(T[0]),_[1]=Math.ceil(T[1]),_}function yw(_,T){return _[0]=Math.floor(T[0]),_[1]=Math.floor(T[1]),_}function bw(_,T,O){return _[0]=Math.min(T[0],O[0]),_[1]=Math.min(T[1],O[1]),_}function Ew(_,T,O){return _[0]=Math.max(T[0],O[0]),_[1]=Math.max(T[1],O[1]),_}function Tw(_,T){return _[0]=Math.round(T[0]),_[1]=Math.round(T[1]),_}function xw(_,T,O){return _[0]=T[0]*O,_[1]=T[1]*O,_}function ww(_,T,O,R){return _[0]=T[0]+O[0]*R,_[1]=T[1]+O[1]*R,_}function d_(_,T){var O=T[0]-_[0],R=T[1]-_[1];return Math.hypot(O,R)}function h_(_,T){var O=T[0]-_[0],R=T[1]-_[1];return O*O+R*R}function p_(_){var T=_[0],O=_[1];return Math.hypot(T,O)}function __(_){var T=_[0],O=_[1];return T*T+O*O}function Aw(_,T){return _[0]=-T[0],_[1]=-T[1],_}function Sw(_,T){return _[0]=1/T[0],_[1]=1/T[1],_}function Pw(_,T){var O=T[0],R=T[1],I=O*O+R*R;return I>0&&(I=1/Math.sqrt(I)),_[0]=T[0]*I,_[1]=T[1]*I,_}function Ow(_,T){return _[0]*T[0]+_[1]*T[1]}function Rw(_,T,O){var R=T[0]*O[1]-T[1]*O[0];return _[0]=_[1]=0,_[2]=R,_}function Lw(_,T,O,R){var I=T[0],B=T[1];return _[0]=I+R*(O[0]-I),_[1]=B+R*(O[1]-B),_}function Cw(_,T){T=T||1;var O=2*y()*Math.PI;return _[0]=Math.cos(O)*T,_[1]=Math.sin(O)*T,_}function Iw(_,T,O){var R=T[0],I=T[1];return _[0]=O[0]*R+O[2]*I,_[1]=O[1]*R+O[3]*I,_}function Mw(_,T,O){var R=T[0],I=T[1];return _[0]=O[0]*R+O[2]*I+O[4],_[1]=O[1]*R+O[3]*I+O[5],_}function Dw(_,T,O){var R=T[0],I=T[1];return _[0]=O[0]*R+O[3]*I+O[6],_[1]=O[1]*R+O[4]*I+O[7],_}function Nw(_,T,O){var R=T[0],I=T[1];return _[0]=O[0]*R+O[4]*I+O[12],_[1]=O[1]*R+O[5]*I+O[13],_}function kw(_,T,O,R){var I=T[0]-O[0],B=T[1]-O[1],F=Math.sin(R),G=Math.cos(R);return _[0]=I*G-B*F+O[0],_[1]=I*F+B*G+O[1],_}function Bw(_,T){var O=_[0],R=_[1],I=T[0],B=T[1],F=Math.sqrt(O*O+R*R)*Math.sqrt(I*I+B*B),G=F&&(O*I+R*B)/F;return Math.acos(Math.min(Math.max(G,-1),1))}function Fw(_){return _[0]=0,_[1]=0,_}function jw(_){return"vec2("+_[0]+", "+_[1]+")"}function zw(_,T){return _[0]===T[0]&&_[1]===T[1]}function Uw(_,T){var O=_[0],R=_[1],I=T[0],B=T[1];return Math.abs(O-I)<=f*Math.max(1,Math.abs(O),Math.abs(I))&&Math.abs(R-B)<=f*Math.max(1,Math.abs(R),Math.abs(B))}var Gw=p_,Vw=l_,Hw=c_,$w=f_,Ww=d_,qw=h_,Xw=__,Yw=function(){var _=u_();return function(T,O,R,I,B,F){var G,$;for(O||(O=2),R||(R=0),$=I?Math.min(I*O+R,T.length):T.length,G=R;G<$;G+=O)_[0]=T[G],_[1]=T[G+1],B(_,_,F),T[G]=_[0],T[G+1]=_[1];return T}}()},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(0),g=function(){function p(){var v=this;this._initialized=!1,this.assertInitialized=function(){return p.assertInitializedFalse(v)},this.assertUninitialized=function(){}}return p.initialize=function(){return function(v,d,c){var a=c.value;return c.value=function(){var l=this;return h.assert(this._initialized===!1,"re-initialization of initialized object not anticipated"),this._initialized=a.apply(this,arguments),this._initialized?(this.assertInitialized=function(){},this.assertUninitialized=function(){return p.assertUninitializedFalse(l)}):(this.assertUninitialized=function(){},this.assertInitialized=function(){return p.assertInitializedFalse(l)}),this._initialized},c}},p.uninitialize=function(){return function(v,d,c){var a=c.value;return c.value=function(){var l=this;h.assert(this._initialized===!0,"expected object to be initialized in order to uninitialize"),a.apply(this),this._initialized=!1,this.assertUninitialized=function(){},this.assertInitialized=function(){return p.assertInitializedFalse(l)}},c}},p.discard=function(){return function(v,d,c){var a=c.value;return c.value=function(){var l=this;h.assert(this._initialized===!0,"expected object to be initialized in order to uninitialize"),a.apply(this),this._initialized=!1,this.assertUninitialized=function(){},this.assertInitialized=function(){return p.assertInitializedFalse(l)}},c}},p.assert_initialized=function(){return function(v,d,c){var a=c.value;return c.value=function(){return this.assertInitialized(),a.apply(this,arguments)},c}},p.assert_uninitialized=function(){return function(v,d,c){var a=c.value;return c.value=function(){this.assertUninitialized(),a.apply(this,arguments)},c}},Object.defineProperty(p.prototype,"initialized",{get:function(){return this._initialized},enumerable:!0,configurable:!0}),p.assertInitializedFalse=function(v){return h.assert(!1,"instance of "+v.constructor.name+" expected to be initialized")},p.assertUninitializedFalse=function(v){return h.assert(!1,"instance of "+v.constructor.name+" not expected to be initialized")},p}();o.Initializable=g},function(n,o,i){var h,g=i(1);(function(p){function v(d){return d>0?d-Math.floor(d):d-Math.ceil(d)}p.sign=function(d){return d>0?1:d<0?-1:0},p.clamp=function(d,c,a){return Math.max(c,Math.min(a,d))},p.fract=v,p.v2=function(){return g.vec2.create()},p.clamp2=function(d,c,a,l){return d[0]=Math.max(a[0],Math.min(l[0],c[0])),d[1]=Math.max(a[1],Math.min(l[1],c[1])),d},p.abs2=function(d,c){return d[0]=Math.abs(c[0]),d[1]=Math.abs(c[1]),d},p.v3=function(){return g.vec3.create()},p.clamp3=function(d,c,a,l){return d[0]=Math.max(a[0],Math.min(l[0],c[0])),d[1]=Math.max(a[1],Math.min(l[1],c[1])),d[2]=Math.max(a[2],Math.min(l[2],c[2])),d},p.abs3=function(d,c){return d[0]=Math.abs(c[0]),d[1]=Math.abs(c[1]),d[2]=Math.abs(c[2]),d},p.encode_float24x1_to_uint8x3=function(d,c){return d[0]=Math.floor(256*c),d[1]=Math.floor(256*v(256*c)),d[2]=Math.floor(256*v(65536*c)),d},p.decode_float24x1_from_uint8x3=function(d){return(d[0]+(d[1]+d[2]*(1/256))*(1/256))*(1/256)},p.encode_uint24_to_rgb8=function(d,c){return d[0]=c>>0&255,d[1]=c>>8&255,d[2]=c>>16&255,d},p.encode_uint32_to_rgba8=function(d,c){return d[0]=c>>0&255,d[1]=c>>8&255,d[2]=c>>16&255,d[3]=c>>24&255,d},p.decode_uint24_from_rgb8=function(d){return d[0]+(d[1]<<8)+(d[2]<<16)},p.decode_uint32_from_rgba8=function(d){return d[0]+(d[1]<<8)+(d[2]<<16)+(d[3]<<24)},p.fromVec4=function(d){return d[3]===0?g.vec3.fromValues(d[0],d[1],d[2]):g.vec3.fromValues(d[0]/d[3],d[1]/d[3],d[2]/d[3])},p.v4=function(){return g.vec4.create()},p.clamp4=function(d,c,a,l){return d[0]=Math.max(a[0],Math.min(l[0],c[0])),d[1]=Math.max(a[1],Math.min(l[1],c[1])),d[2]=Math.max(a[2],Math.min(l[2],c[2])),d[3]=Math.max(a[3],Math.min(l[3],c[3])),d},p.abs4=function(d,c){return d[0]=Math.abs(c[0]),d[1]=Math.abs(c[1]),d[2]=Math.abs(c[2]),d[3]=Math.abs(c[3]),d},p.fromVec3=function(d){return g.vec4.fromValues(d[0],d[1],d[2],1)},p.parseVec2=function(d){if(d!==void 0&&d!==""){var c=[];try{c=JSON.parse("["+d+"]")}catch{return}return c.length!==2||isNaN(c[0])||isNaN(c[1])?void 0:g.vec2.clone(c)}},p.parseVec3=function(d){if(d!==void 0&&d!==""){var c=[];try{c=JSON.parse("["+d+"]")}catch{return}return c.length!==3||isNaN(c[0])||isNaN(c[1])||isNaN(c[2])?void 0:g.vec3.clone(c)}},p.parseVec4=function(d){if(d!==void 0&&d!==""){var c=[];try{c=JSON.parse("["+d+"]")}catch{return}return c.length!==4||isNaN(c[0])||isNaN(c[1])||isNaN(c[2])||isNaN(c[3])?void 0:g.vec4.clone(c)}},p.mix=function(d,c,a){return d*(1-a)+c*a},p.m2=function(){return g.mat2.create()},p.m3=function(){return g.mat3.create()},p.m4=function(){return g.mat4.create()}})(h||(h={})),n.exports=h},function(n,o,i){var h,g=this&&this.__extends||(h=function(l,s){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var m in f)f.hasOwnProperty(m)&&(u[m]=f[m])})(l,s)},function(l,s){function u(){this.constructor=l}h(l,s),l.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}),p=this&&this.__decorate||function(l,s,u,f){var m,y=arguments.length,b=y<3?s:f===null?f=Object.getOwnPropertyDescriptor(s,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(l,s,u,f);else for(var E=l.length-1;E>=0;E--)(m=l[E])&&(b=(y<3?m(b):y>3?m(s,u,b):m(s,u))||b);return y>3&&b&&Object.defineProperty(s,u,b),b};Object.defineProperty(o,"__esModule",{value:!0});var v=i(0),d=i(20),c=i(2),a=function(l){function s(){var u=l!==null&&l.apply(this,arguments)||this;return u._width=0,u._height=0,u._internalFormat=0,u._format=0,u._type=0,u._mipmap=!1,u._anisotropy=void 0,u}return g(s,l),s.prototype.create=function(u,f,m,y,b){v.assert(u>0&&f>0,"texture requires valid width and height of greater than zero");var E=this._context.gl,x=this._context.gl2facade;if(this._object=E.createTexture(),this._width=u,this._height=f,this._internalFormat=m,this._format=y,this._type=b,E.bindTexture(E.TEXTURE_2D,this._object),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),s.MAX_ANISOTROPY===void 0)if(this._context.supportsTextureFilterAnisotropic){var w=this._context.textureFilterAnisotropic;s.MAX_ANISOTROPY=E.getParameter(w.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s.MAX_ANISOTROPY=0;return x.texImage2D(E.TEXTURE_2D,0,this._internalFormat,this._width,this._height,0,this._format,this._type),E.bindTexture(E.TEXTURE_2D,s.DEFAULT_TEXTURE),this._valid=E.isTexture(this._object),this.reallocate(),this._object},s.prototype.delete=function(){v.assert(this._object instanceof WebGLTexture,"expected WebGLTexture object"),this._context.gl.deleteTexture(this._object),this._object=void 0,this._valid=!1,this._internalFormat=0,this._format=0,this._type=0,this._width=0,this._height=0},s.prototype.reallocate=function(){var u=this.context.gl,f=this._context.gl2facade,m=this._width*this._height*d.byteSizeOfFormat(this.context,this._internalFormat);this._type===f.HALF_FLOAT&&this._internalFormat!==u.RGBA16F?m*=2:this._type===u.FLOAT&&this._internalFormat!==u.RGBA16F&&(m*=4),this.context.allocationRegister.reallocate(this._identifier,m)},s.prototype.bind=function(u){var f=this.context.gl;u&&f.activeTexture(u),f.bindTexture(f.TEXTURE_2D,this._object)},s.prototype.unbind=function(u){var f=this.context.gl;u&&f.activeTexture(u),f.bindTexture(f.TEXTURE_2D,s.DEFAULT_TEXTURE)},s.prototype.fetch=function(u,f,m){var y=this;f===void 0&&(f=!1),m===void 0&&(m=!1);var b=this.context.gl;return new Promise(function(E,x){var w=new Image;w.onerror=function(){v.log(v.LogLevel.Error,"loading image from '"+w.src+"' failed"),x()},w.onload=function(){y.resize(w.width,w.height),m||b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0),y.data(w),b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1),E()},f&&(w.crossOrigin="anonymous"),w.src=u})},s.prototype.data=function(u,f,m){f===void 0&&(f=!0),m===void 0&&(m=!0);var y=this.context.gl,b=this._context.gl2facade;f&&this.bind(),b.texImage2D(y.TEXTURE_2D,0,this._internalFormat,this._width,this._height,0,this._format,this._type,u),this._anisotropy!==void 0&&this._anisotropy>0?this.maxAnisotropy(this._anisotropy,!1,!1):this._mipmap&&this.generateMipMap(!1,!1),m&&this.unbind(),this.reallocate()},s.prototype.filter=function(u,f,m,y){m===void 0&&(m=!0),y===void 0&&(y=!0);var b=this.context.gl;m&&this.bind(),v.logIf(u===b.LINEAR_MIPMAP_LINEAR||u===b.LINEAR_MIPMAP_NEAREST,v.LogLevel.Debug,"magnification does not utilize a MipMap (refer to LINEAR and NEAREST only)"),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,u),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,f),this._mipmap=f===b.LINEAR_MIPMAP_LINEAR||f===b.LINEAR_MIPMAP_NEAREST,this._mipmap&&b.generateMipmap(b.TEXTURE_2D),y&&this.unbind()},s.prototype.wrap=function(u,f,m,y){m===void 0&&(m=!0),y===void 0&&(y=!0);var b=this.context.gl;m&&this.bind(),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,u),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,f),y&&this.unbind()},s.prototype.reformat=function(u,f,m,y,b){y===void 0&&(y=!0),b===void 0&&(b=!0),(u!==this._internalFormat||f!==void 0&&f!==this._format||m!==void 0&&m!==this._type)&&(v.assert(u!==void 0,"valid internal format expected"),this._internalFormat=u,f&&(this._format=f),m&&(this._type=m),this.data(void 0,y,b))},s.prototype.resize=function(u,f,m,y){m===void 0&&(m=!0),y===void 0&&(y=!0),u===this._width&&f===this._height||(this._width=u,this._height=f,this.data(void 0,m,y))},s.prototype.generateMipMap=function(u,f){u===void 0&&(u=!0),f===void 0&&(f=!0);var m=this.context.gl;u&&this.bind(),m.generateMipmap(m.TEXTURE_2D),f&&this.unbind(),this._mipmap=!0},s.prototype.maxAnisotropy=function(u,f,m){if(f===void 0&&(f=!0),m===void 0&&(m=!0),this._context.supportsTextureFilterAnisotropic!==!1){var y=this.context.gl,b=this._context.textureFilterAnisotropic;return this._anisotropy=u===void 0?void 0:Math.max(0,Math.min(s.MAX_ANISOTROPY,u)),v.logIf(u!==this._anisotropy,v.LogLevel.Debug,"value clamped to max supported anisotropy of "+s.MAX_ANISOTROPY+", given "+u),f&&this.bind(),y.texParameterf(y.TEXTURE_2D,b.TEXTURE_MAX_ANISOTROPY_EXT,this._anisotropy===void 0?0:this._anisotropy),this.generateMipMap(!1,m),this._anisotropy}v.log(v.LogLevel.Debug,"setting anisotropy not supported (EXT_texture_filter_anisotropic missing)")},Object.defineProperty(s.prototype,"bytes",{get:function(){return this.assertInitialized(),this.context.allocationRegister.allocated(this._identifier)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"internalFormat",{get:function(){return this.assertInitialized(),this._internalFormat},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"format",{get:function(){return this.assertInitialized(),this._format},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"type",{get:function(){return this.assertInitialized(),this._type},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"width",{get:function(){return this.assertInitialized(),this._width},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"height",{get:function(){return this.assertInitialized(),this._height},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return this.assertInitialized(),[this._width,this._height]},enumerable:!0,configurable:!0}),s.DEFAULT_TEXTURE=void 0,s.MAX_ANISOTROPY=void 0,p([c.Initializable.assert_initialized()],s.prototype,"bind",null),p([c.Initializable.assert_initialized()],s.prototype,"unbind",null),p([c.Initializable.assert_initialized()],s.prototype,"fetch",null),p([c.Initializable.assert_initialized()],s.prototype,"data",null),p([c.Initializable.assert_initialized()],s.prototype,"filter",null),p([c.Initializable.assert_initialized()],s.prototype,"wrap",null),p([c.Initializable.assert_initialized()],s.prototype,"reformat",null),p([c.Initializable.assert_initialized()],s.prototype,"resize",null),s}(i(8).AbstractObject);o.Texture2D=a},function(n,o,i){var h,g=this&&this.__extends||(h=function(a,l){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)u.hasOwnProperty(f)&&(s[f]=u[f])})(a,l)},function(a,l){function s(){this.constructor=a}h(a,l),a.prototype=l===null?Object.create(l):(s.prototype=l.prototype,new s)}),p=this&&this.__decorate||function(a,l,s,u){var f,m=arguments.length,y=m<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,s):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(a,l,s,u);else for(var b=a.length-1;b>=0;b--)(f=a[b])&&(y=(m<3?f(y):m>3?f(l,s,y):f(l,s))||y);return m>3&&y&&Object.defineProperty(l,s,y),y};Object.defineProperty(o,"__esModule",{value:!0});var v=i(0),d=i(2),c=function(a){function l(){var s=a!==null&&a.apply(this,arguments)||this;return s._target=l.DEFAULT_BUFFER,s}return g(l,a),l.prototype.create=function(s){var u=this._context.gl;return this._object=u.createBuffer(),this._valid=this._object instanceof WebGLBuffer,this._valid&&(v.assert(s===u.ARRAY_BUFFER||s===u.ELEMENT_ARRAY_BUFFER,"either ARRAY_BUFFER or ELEMENT_ARRAY_BUFFER expected as buffer target"),this._target=s),this._object},l.prototype.delete=function(){v.assert(this._object instanceof WebGLBuffer,"expected WebGLBuffer object"),this._context.gl.deleteBuffer(this._object),this._object=void 0,this._valid=!1,this._target=l.DEFAULT_BUFFER},l.prototype.bind=function(){v.assert(this._target===this._context.gl.ARRAY_BUFFER||this._target===this._context.gl.ELEMENT_ARRAY_BUFFER,"expected either ARRAY_BUFFER or ELEMENT_ARRAY_BUFFER as buffer target"),this._context.gl.bindBuffer(this._target,this._object)},l.prototype.unbind=function(){this.context.gl.bindBuffer(this._target,l.DEFAULT_BUFFER)},l.prototype.data=function(s,u,f,m){f===void 0&&(f=!0),m===void 0&&(m=!0);var y=this.context.gl;f&&this.bind(),y.bufferData(this._target,s,u),m&&this.unbind(),this._valid=y.isBuffer(this._object)&&y.getError()===y.NO_ERROR;var b=typeof s=="number"?s:s.byteLength,E=this._valid?b:0;this.context.allocationRegister.reallocate(this._identifier,E)},l.prototype.subData=function(s,u,f,m,y,b){f===void 0&&(f=0),m===void 0&&(m=0),y===void 0&&(y=!0),b===void 0&&(b=!0);var E=this.context.gl;y&&this.bind(),this.context.gl2facade.bufferSubData(this._target,s,u,f,m),b&&this.unbind(),this._valid=E.getError()===E.NO_ERROR},l.prototype.attribEnable=function(s,u,f,m,y,b,E,x){m===void 0&&(m=!1),y===void 0&&(y=0),b===void 0&&(b=0),E===void 0&&(E=!0),x===void 0&&(x=!0);var w=this.context.gl;E&&this.bind(),w.vertexAttribPointer(s,u,f,m,y,b),w.enableVertexAttribArray(s),x&&this.unbind()},l.prototype.attribDisable=function(s,u,f){u===void 0&&(u=!0),f===void 0&&(f=!0);var m=this.context.gl;u&&this.bind(),m.disableVertexAttribArray(s),f&&this.unbind()},Object.defineProperty(l.prototype,"bytes",{get:function(){return this.assertInitialized(),this.context.allocationRegister.allocated(this._identifier)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"target",{get:function(){return this.assertInitialized(),this._target},enumerable:!0,configurable:!0}),l.DEFAULT_BUFFER=void 0,p([d.Initializable.assert_initialized()],l.prototype,"bind",null),p([d.Initializable.assert_initialized()],l.prototype,"unbind",null),p([d.Initializable.assert_initialized()],l.prototype,"data",null),p([d.Initializable.assert_initialized()],l.prototype,"attribEnable",null),p([d.Initializable.assert_initialized()],l.prototype,"attribDisable",null),l}(i(8).AbstractObject);o.Buffer=c},function(n,o,i){var h,g=this&&this.__extends||(h=function(a,l){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)u.hasOwnProperty(f)&&(s[f]=u[f])})(a,l)},function(a,l){function s(){this.constructor=a}h(a,l),a.prototype=l===null?Object.create(l):(s.prototype=l.prototype,new s)}),p=this&&this.__decorate||function(a,l,s,u){var f,m=arguments.length,y=m<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,s):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(a,l,s,u);else for(var b=a.length-1;b>=0;b--)(f=a[b])&&(y=(m<3?f(y):m>3?f(l,s,y):f(l,s))||y);return m>3&&y&&Object.defineProperty(l,s,y),y};Object.defineProperty(o,"__esModule",{value:!0});var v=i(0),d=i(2),c=function(a){function l(){var s=a!==null&&a.apply(this,arguments)||this;return s._shaders=new Array,s._linked=!1,s}return g(l,a),l.prototype.create=function(s,u){s===void 0&&(s=new Array),u===void 0&&(u=!0);for(var f=this._context.gl,m=0,y=0,b=0,E=s;b<E.length;b++)switch(E[b].type){case f.VERTEX_SHADER:++m;break;case f.FRAGMENT_SHADER:++y;break;default:v.assert(!1,"Unknown shader type detected.")}if(v.logIf(m<1,v.LogLevel.Error,"at least one vertex shader is expected"),v.logIf(y<1,v.LogLevel.Error,"at least one fragment shader is expected"),!(m<1||y<1))return this._object=f.createProgram(),this._valid=f.isProgram(this._object),v.assert(this._object instanceof WebGLProgram,"expected WebGLProgram object to be created"),s.length>0&&this.attach(s,u),this._object},l.prototype.delete=function(){v.assert(this._object!==void 0,"expected WebGLProgram object"),this._context.gl.deleteProgram(this._object),this._object=void 0,this._valid=!1},l.prototype.attach=function(s,u){u===void 0&&(u=!1),v.assert(this._object!==void 0,"expected a WebGLProgram object");for(var f=this._context.gl,m=0,y=s instanceof Array?s:[s];m<y.length;m++){var b=y[m];this._shaders.indexOf(b)>-1||(this._shaders.push(b),b.initialized?(f.attachShader(this._object,b.object),b.ref()):v.log(v.LogLevel.Error,"shader '"+b.identifier+"' not initialized."))}return u&&this.link(),!0},l.prototype.detach=function(s){v.assert(this._object!==void 0,"expected WebGLProgram object");for(var u=this._context.gl,f=0,m=s instanceof Array?s:[s];f<m.length;f++){var y=m[f],b=this._shaders.indexOf(y);b>-1&&this._shaders.splice(b),v.assert(y.initialized,"expected shader '"+y.identifier+"' to be initialized"),u.detachShader(this._object,y.object),y.unref()}},l.prototype.link=function(){v.assert(this._object!==void 0,"expected WebGLProgram object");var s=this._context.gl;if(s.linkProgram(this._object),s.getProgramParameter(this._object,s.LINK_STATUS))this._linked=!0;else{var u=s.getProgramInfoLog(this._object);v.log(v.LogLevel.Error,"linking of program '"+this._identifier+"' failed: '"+u+"'"),this._linked=!1}return this._linked},l.prototype.bind=function(){this._context.gl.useProgram(this._object)},l.prototype.unbind=function(){this._context.gl.useProgram(l.DEFAULT_PROGRAM)},l.prototype.uniform=function(s){return this._context.gl.getUniformLocation(this._object,s)},l.prototype.attribute=function(s,u){return u!==void 0?(v.logIf(this._linked,v.LogLevel.Debug,"name-to-generic attribute index mapping does go into effect on next linking, given "+s+" -> "+u+" ("+this.identifier+")"),this._context.gl.bindAttribLocation(this._object,u,s),u):this._context.gl.getAttribLocation(this._object,s)},Object.defineProperty(l.prototype,"shaders",{get:function(){return this._shaders},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"linked",{get:function(){return this._linked},enumerable:!0,configurable:!0}),l.DEFAULT_PROGRAM=void 0,p([d.Initializable.assert_initialized()],l.prototype,"bind",null),p([d.Initializable.assert_initialized()],l.prototype,"unbind",null),p([d.Initializable.assert_initialized()],l.prototype,"uniform",null),p([d.Initializable.assert_initialized()],l.prototype,"attribute",null),l}(i(8).AbstractObject);o.Program=c},function(n,o,i){var h,g=this&&this.__extends||(h=function(d,c){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var s in l)l.hasOwnProperty(s)&&(a[s]=l[s])})(d,c)},function(d,c){function a(){this.constructor=d}h(d,c),d.prototype=c===null?Object.create(c):(a.prototype=c.prototype,new a)});Object.defineProperty(o,"__esModule",{value:!0});var p=i(0),v=function(d){function c(a,l,s){var u=d.call(this,a,s)||this;u._compiled=!1;var f=a.gl;if(s===void 0)switch(l){case a.gl.FRAGMENT_SHADER:s="FragmentShader";break;case a.gl.VERTEX_SHADER:s="VertexShader";break;default:p.assert(!1,"expected either a FRAGMENT_SHADER ("+f.FRAGMENT_SHADER+") or a VERTEX_SHADER ("+f.VERTEX_SHADER+"), given "+l)}return u._type=l,u}return g(c,d),c.prototype.create=function(a,l){l===void 0&&(l=!0);var s=this._context.gl;return this._object=s.createShader(this._type),this._valid=s.isShader(this._object),this._compiled=!1,p.assert(this._object instanceof WebGLShader,"expected WebGLShader object to be created"),a&&(this.source=a),a&&l&&this.compile(),this._object},c.prototype.delete=function(){p.assert(this._object!==void 0,"expected WebGLShader object"),this._context.gl.deleteShader(this._object),this._object=void 0,this._valid=!1,this._compiled=!1},c.prototype.compile=function(){var a=this._context.gl,l=this.sourceWithReplacements;if(this._context.isWebGL2&&(l=`#version 300 es
`+l),a.shaderSource(this._object,l),a.compileShader(this._object),this._compiled=a.getShaderParameter(this._object,a.COMPILE_STATUS),!this._compiled){var s=a.getShaderInfoLog(this._object);p.log(p.LogLevel.Error,"compilation of shader '"+this._identifier+"' failed: "+s)}},c.prototype.replace=function(a,l){this._replacements===void 0&&(this._replacements=new Map),this._replacements.set(a,l)},Object.defineProperty(c.prototype,"type",{get:function(){return this.assertInitialized(),this._type},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"source",{get:function(){return this.assertInitialized(),this._source},set:function(a){this._source!==a&&(this._source=a)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"sourceWithReplacements",{get:function(){if(this._replacements===void 0)return this._source;var a=this._source;return this._replacements.forEach(function(l,s){var u=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");a=a.replace(new RegExp(u,"g"),l)}),a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"compiled",{get:function(){return this.assertInitialized(),this._compiled},enumerable:!0,configurable:!0}),c}(i(8).AbstractObject);o.Shader=v},function(n,o,i){var h,g=this&&this.__extends||(h=function(a,l){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)u.hasOwnProperty(f)&&(s[f]=u[f])})(a,l)},function(a,l){function s(){this.constructor=a}h(a,l),a.prototype=l===null?Object.create(l):(s.prototype=l.prototype,new s)}),p=this&&this.__decorate||function(a,l,s,u){var f,m=arguments.length,y=m<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,s):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(a,l,s,u);else for(var b=a.length-1;b>=0;b--)(f=a[b])&&(y=(m<3?f(y):m>3?f(l,s,y):f(l,s))||y);return m>3&&y&&Object.defineProperty(l,s,y),y};Object.defineProperty(o,"__esModule",{value:!0});var v=i(0),d=i(2),c=function(a){function l(s,u){var f=a.call(this)||this;return f._valid=!1,f._referenceCount=0,f._context=s,f._identifier=u!==void 0&&u!==""?u:"Object",f}return g(l,a),l.prototype.initialize=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return this._identifier=this._context.allocationRegister.createUniqueIdentifier(this._identifier),this.create.apply(this,s),this._valid||(this._context.allocationRegister.deleteUniqueIdentifier(this._identifier),v.log(v.LogLevel.Error,"initialization of '"+this._identifier+"' failed")),this._valid},l.prototype.uninitialize=function(){this._context.allocationRegister.reallocate(this._identifier,0),this._context.allocationRegister.deleteUniqueIdentifier(this._identifier),this.delete(),v.assert(this._object===void 0,"expected object '"+this._identifier+"' to be undefined after delete"),v.assert(this._valid===!1,"expected object '"+this._identifier+"' to be invalid after delete")},Object.defineProperty(l.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"identifier",{get:function(){return this._identifier},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"object",{get:function(){return v.assert(this._object!==void 0,"access to undefined object"),this._object},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"valid",{get:function(){return this._valid},enumerable:!0,configurable:!0}),l.prototype.ref=function(){v.assert(this.initialized,"expected object to be initialized in order to be referenced"),++this._referenceCount},l.prototype.unref=function(){v.assert(this._referenceCount>0,"expected object to be referenced in order to decrease its reference count"),--this._referenceCount},p([d.Initializable.initialize()],l.prototype,"initialize",null),p([d.Initializable.uninitialize()],l.prototype,"uninitialize",null),l}(d.Initializable);o.AbstractObject=c},function(n,o,i){var h,g=this&&this.__extends||(h=function(a,l){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)u.hasOwnProperty(f)&&(s[f]=u[f])})(a,l)},function(a,l){function s(){this.constructor=a}h(a,l),a.prototype=l===null?Object.create(l):(s.prototype=l.prototype,new s)}),p=this&&this.__decorate||function(a,l,s,u){var f,m=arguments.length,y=m<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,s):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(a,l,s,u);else for(var b=a.length-1;b>=0;b--)(f=a[b])&&(y=(m<3?f(y):m>3?f(l,s,y):f(l,s))||y);return m>3&&y&&Object.defineProperty(l,s,y),y};Object.defineProperty(o,"__esModule",{value:!0});var v=i(2),d=i(49),c=function(a){function l(s,u){var f=a.call(this)||this;return f._buffers=new Array,u=u!==void 0&&u!==""?u:f.constructor.name,f._vertexArray=new d.VertexArray(s,u+"VAO"),f}return g(l,a),l.prototype.initialize=function(){for(var s=this,u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];for(var m=u[0],y=u[1],b=!0,E=0;E<this._buffers.length;++E)b=this._buffers[E].initialize(m[E])&&b;return this._vertexArray.initialize(function(){return s.bindBuffers(y)},function(){return s.unbindBuffers(y)}),this._vertexArray.valid&&b},l.prototype.uninitialize=function(){this._vertexArray.uninitialize(),this._buffers.forEach(function(s){return s.uninitialize()})},l.prototype.bind=function(){this._vertexArray.bind()},l.prototype.unbind=function(){this._vertexArray.unbind()},Object.defineProperty(l.prototype,"buffers",{get:function(){return this._buffers},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"context",{get:function(){return this._vertexArray.context},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"vertexArray",{get:function(){return this._vertexArray},enumerable:!0,configurable:!0}),p([v.Initializable.initialize()],l.prototype,"initialize",null),p([v.Initializable.uninitialize()],l.prototype,"uninitialize",null),p([v.Initializable.assert_initialized()],l.prototype,"bind",null),p([v.Initializable.assert_initialized()],l.prototype,"unbind",null),l}(v.Initializable);o.Geometry=c},function(n,o){n.exports=r(15)},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(52),g=function(){function p(){this._camera=void 0,this._reference=new h.Camera}return Object.defineProperty(p.prototype,"camera",{set:function(v){this._camera!==v&&(this._camera=v,v!==void 0&&(Object.assign(this._reference,v),this.update()))},enumerable:!0,configurable:!0}),p}();o.CameraModifier=g},function(n,o,i){var h,g=this&&this.__extends||(h=function(l,s){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var m in f)f.hasOwnProperty(m)&&(u[m]=f[m])})(l,s)},function(l,s){function u(){this.constructor=l}h(l,s),l.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}),p=this&&this.__decorate||function(l,s,u,f){var m,y=arguments.length,b=y<3?s:f===null?f=Object.getOwnPropertyDescriptor(s,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(l,s,u,f);else for(var E=l.length-1;E>=0;E--)(m=l[E])&&(b=(y<3?m(b):y>3?m(s,u,b):m(s,u))||b);return y>3&&b&&Object.defineProperty(s,u,b),b};Object.defineProperty(o,"__esModule",{value:!0});var v=i(5),d=i(9),c=i(2),a=function(l){function s(u,f){var m=l.call(this,u,f)||this;f=f!==void 0&&f!==""?f:m.constructor.name;var y=new v.Buffer(u,f+"VBO");return m._buffers.push(y),m}return g(s,l),s.prototype.bindBuffers=function(){this._buffers[0].attribEnable(this._vertexLocation,2,this.context.gl.FLOAT,!1,0,0,!0,!1)},s.prototype.unbindBuffers=function(){this._buffers[0].attribDisable(this._vertexLocation,!0,!0)},s.prototype.initialize=function(u){u===void 0&&(u=0),this._vertexLocation=u;var f=this.context.gl,m=l.prototype.initialize.call(this,[f.ARRAY_BUFFER]);return this._buffers[0].data(s.VERTICES,f.STATIC_DRAW),m},s.prototype.draw=function(){var u=this.context.gl;u.drawArrays(u.TRIANGLES,0,3)},Object.defineProperty(s.prototype,"vertexLocation",{get:function(){return this._vertexLocation},enumerable:!0,configurable:!0}),s.VERTICES=new Float32Array([-1,-3,3,1,-1,1]),p([c.Initializable.assert_initialized()],s.prototype,"draw",null),s}(d.Geometry);o.NdcFillingTriangle=a},function(n,o,i){var h,g=i(1),p=i(3),v=i(0);(function(d){function c(s){return v.assert(s.length===2,"expected length of buffer to be 2, given "+s.length),[s[0],s[1]]}function a(s){return v.assert(s.length===3,"expected length of buffer to be 3, given "+s.length),[s[0],s[1],s[2]]}function l(s){return v.assert(s.length===4,"expected length of buffer to be 4, given "+s.length),[s[0],s[1],s[2],s[3]]}d.tuple2=c,d.tuple3=a,d.tuple4=l,d.clampf=function(s,u){var f=p.clamp(s,0,1);return v.logIf(u!==void 0&&s<0||s>1,v.LogLevel.Info,u+" clamped to ["+f+"], given ["+s+"]"),f},d.clampf2=function(s,u){var f=g.vec2.fromValues(s[0],s[1]);return(s[0]<0||s[0]>1||s[1]<0||s[1]>1)&&(p.clamp2(f,f,g.vec2.fromValues(0,0),g.vec2.fromValues(1,1)),v.logIf(u!==void 0,v.LogLevel.Info,u+" clamped to ["+f+"], given ["+s+"]")),c(f)},d.clampf3=function(s,u){var f=g.vec3.fromValues(s[0],s[1],s[2]);return(s[0]<0||s[0]>1||s[1]<0||s[1]>1||s[2]<0||s[2]>1)&&(p.clamp3(f,f,g.vec3.fromValues(0,0,0),g.vec3.fromValues(1,1,1)),v.logIf(u!==void 0,v.LogLevel.Info,u+" clamped to ["+f+"], given ["+s+"]")),a(f)},d.clampf4=function(s,u){var f=g.vec4.fromValues(s[0],s[1],s[2],s[3]);return(s[0]<0||s[0]>1||s[1]<0||s[1]>1||s[2]<0||s[2]>1||s[3]<0||s[3]>1)&&(p.clamp4(f,f,g.vec4.fromValues(0,0,0,0),g.vec4.fromValues(1,1,1,1)),v.logIf(u!==void 0,v.LogLevel.Info,u+" clamped to ["+f+"], given ["+s+"]")),l(f)},d.duplicate2=function(s){return[s[0],s[1]]},d.duplicate3=function(s){return[s[0],s[1],s[2]]},d.duplicate4=function(s){return[s[0],s[1],s[2],s[3]]},d.equals2=function(s,u){return s[0]===u[0]&&s[1]===u[1]},d.equals3=function(s,u){return s[0]===u[0]&&s[1]===u[1]&&s[2]===u[2]},d.equals4=function(s,u){return s[0]===u[0]&&s[1]===u[1]&&s[2]===u[2]&&s[3]===u[3]}})(h||(h={})),n.exports=h},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(0),g=function(){function p(){}return p.queryInternalTextureFormat=function(v,d,c){var a=v.gl,l=v.gl2facade,s=v.isWebGL1&&v.supportsTextureFloat||v.isWebGL2&&v.supportsColorBufferFloat,u=v.isWebGL1&&v.supportsTextureHalfFloat||v.isWebGL2&&v.supportsColorBufferFloat;c===void 0&&(c=p.Precision.auto);var f,m,y=c===void 0?p.Precision.auto:c;if(c in p.Precision||(h.log(h.LogLevel.Warning,"unknown precision '"+y+"' changed to '"+p.Precision.auto+"'"),c=p.Precision.auto),c===p.Precision.auto&&(y=s?p.Precision.float:u?p.Precision.half:p.Precision.byte),y===p.Precision.half&&u?(v.isWebGL2?v.colorBufferFloat:v.textureHalfFloat,f=l.HALF_FLOAT,m=1):y!==p.Precision.float&&y!==p.Precision.half||!s?(f=a.UNSIGNED_BYTE,m=2):(v.isWebGL2?v.colorBufferFloat:v.textureFloat,f=a.FLOAT,m=0),v.isWebGL1)return h.assert([a.RGB,a.RGBA].includes(d),"target must be gl.RGB or gl.RGBA in WebGL 1"),[d,f,y];switch(d){case a.RGBA:return[[a.RGBA32F,a.RGBA16F,a.RGBA8][m],f,y];case a.RGB:return[[a.RGB32F,a.RGB16F,a.RGB8][m],f,y];case a.RG:return[[a.RG32F,a.RG16F,a.RG8][m],f,y];case a.RED:return[[a.R32F,a.R16F,a.R8][m],f,y];default:h.assert(!1,"internal format querying is not yet supported for formats other than RGBA, RGB")}return[a.NONE,a.NONE,y]},p}();o.Wizard=g,function(p){(function(v){v.float="float",v.half="half",v.byte="byte",v.auto="auto"})(p.Precision||(p.Precision={}))}(g=o.Wizard||(o.Wizard={})),o.Wizard=g},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(0),g=function(){function p(){}return p.alter=function(v,d){h.assert(d.hasOwnProperty("any"),"expected alterable object to provide 'any' key"),d.any=!0;var c=v.split("."),a=c.shift();if(h.assert(a===""||d.hasOwnProperty(a),"expected object to have key '"+a+"' in order to capture alterations"),a===""||typeof d[a]=="object")if(a!==""&&c.length>0)p.alter(c.join("."),d[a]);else for(var l=a!==""?d[a]:d,s=0,u=Object.getOwnPropertyNames(l);s<u.length;s++){var f=u[s];f!=="any"&&p.alter(f,l)}else d[a]=!0},p.reset=function(v){for(var d=0,c=Object.getOwnPropertyNames(v);d<c.length;d++){var a=c[d];typeof v[a]!="object"?v[a]=!1:p.reset(v[a])}},p.prototype.alter=function(v){return p.alter(v,this)},p.prototype.reset=function(){return p.reset(this)},p}();o.ChangeLookup=g},function(n,o,i){var h=i(35),g=o.ValidationError=function(b,E,x,w,S,P){w&&(this.property=w),b&&(this.message=b),x&&(x.id?this.schema=x.id:this.schema=x),E&&(this.instance=E),this.name=S,this.argument=P,this.stack=this.toString()};g.prototype.toString=function(){return this.property+" "+this.message};var p=o.ValidatorResult=function(b,E,x,w){this.instance=b,this.schema=E,this.propertyPath=w.propertyPath,this.errors=[],this.throwError=x&&x.throwError,this.disableFormat=x&&x.disableFormat===!0};function v(b,E){return E+": "+b.toString()+`
`}p.prototype.addError=function(b){var E;if(typeof b=="string")E=new g(b,this.instance,this.schema,this.propertyPath);else{if(!b)throw new Error("Missing error detail");if(!b.message)throw new Error("Missing error message");if(!b.name)throw new Error("Missing validator type");E=new g(b.message,this.instance,this.schema,this.propertyPath,b.name,b.argument)}if(this.throwError)throw E;return this.errors.push(E),E},p.prototype.importErrors=function(b){typeof b=="string"||b&&b.validatorType?this.addError(b):b&&b.errors&&Array.prototype.push.apply(this.errors,b.errors)},p.prototype.toString=function(b){return this.errors.map(v).join("")},Object.defineProperty(p.prototype,"valid",{get:function(){return!this.errors.length}});var d=o.SchemaError=function b(E,x){this.message=E,this.schema=x,Error.call(this,E),Error.captureStackTrace(this,b)};d.prototype=Object.create(Error.prototype,{constructor:{value:d,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var c=o.SchemaContext=function(b,E,x,w,S){this.schema=b,this.options=E,this.propertyPath=x,this.base=w,this.schemas=S};c.prototype.resolve=function(b){return h.resolve(this.base,b)},c.prototype.makeChild=function(b,E){var x=E===void 0?this.propertyPath:this.propertyPath+l(E),w=h.resolve(this.base,b.id||""),S=new c(b,this.options,x,w,Object.create(this.schemas));return b.id&&!S.schemas[w]&&(S.schemas[w]=b),S};var a=o.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(b){return typeof b=="string"&&parseFloat(b)===parseInt(b,10)&&!isNaN(b)},regex:function(b){var E=!0;try{new RegExp(b)}catch{E=!1}return E},style:/\s*(.+?):\s*([^;]+);?/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};a.regexp=a.regex,a.pattern=a.regex,a.ipv4=a["ip-address"],o.isFormat=function(b,E,x){if(typeof b=="string"&&a[E]!==void 0){if(a[E]instanceof RegExp)return a[E].test(b);if(typeof a[E]=="function")return a[E](b)}else if(x&&x.customFormats&&typeof x.customFormats[E]=="function")return x.customFormats[E](b);return!0};var l=o.makeSuffix=function(b){return(b=b.toString()).match(/[.\s\[\]]/)||b.match(/^[\d]/)?b.match(/^\d+$/)?"["+b+"]":"["+JSON.stringify(b)+"]":"."+b};function s(b,E,x,w){typeof x=="object"?E[w]=m(b[w],x):b.indexOf(x)===-1&&E.push(x)}function u(b,E,x){E[x]=b[x]}function f(b,E,x,w){typeof E[w]=="object"&&E[w]&&b[w]?x[w]=m(b[w],E[w]):x[w]=E[w]}function m(b,E){var x=Array.isArray(E),w=x&&[]||{};return x?(b=b||[],w=w.concat(b),E.forEach(s.bind(null,b,w))):(b&&typeof b=="object"&&Object.keys(b).forEach(u.bind(null,b,w)),Object.keys(E).forEach(f.bind(null,b,E,w))),w}function y(b){return"/"+encodeURIComponent(b).replace(/~/g,"%7E")}o.deepCompareStrict=function b(E,x){if(typeof E!=typeof x)return!1;if(Array.isArray(E))return!!Array.isArray(x)&&E.length===x.length&&E.every(function(P,A){return b(E[A],x[A])});if(typeof E=="object"){if(!E||!x)return E===x;var w=Object.keys(E),S=Object.keys(x);return w.length===S.length&&w.every(function(P){return b(E[P],x[P])})}return E===x},n.exports.deepMerge=m,o.objectGetPath=function(b,E){for(var x,w=E.split("/").slice(1);typeof(x=w.shift())=="string";){var S=decodeURIComponent(x.replace(/~0/,"~").replace(/~1/g,"/"));if(!(S in b))return;b=b[S]}return b},o.encodePath=function(b){return b.map(y).join("")},o.getDecimalPlaces=function(b){var E=0;if(isNaN(b))return E;typeof b!="number"&&(b=Number(b));var x=b.toString().split("e");if(x.length===2){if(x[1][0]!=="-")return E;E=Number(x[1].slice(1))}var w=x[0].split(".");return w.length===2&&(E+=w[1].length),E}},function(n,o,i){var h,g=this&&this.__extends||(h=function(u,f){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)y.hasOwnProperty(b)&&(m[b]=y[b])})(u,f)},function(u,f){function m(){this.constructor=u}h(u,f),u.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}),p=this&&this.__decorate||function(u,f,m,y){var b,E=arguments.length,x=E<3?f:y===null?y=Object.getOwnPropertyDescriptor(f,m):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,f,m,y);else for(var w=u.length-1;w>=0;w--)(b=u[w])&&(x=(E<3?b(x):E>3?b(f,m,x):b(f,m))||x);return E>3&&x&&Object.defineProperty(f,m,x),x};Object.defineProperty(o,"__esModule",{value:!0});var v=i(0),d=i(2),c=i(8),a=i(23),l=i(4),s=function(u){function f(){var m=u!==null&&u.apply(this,arguments)||this;return m._buffersByAttachment=new Map,m._texturesByAttachment=new Map,m._colorClearQueue=new Array,m._drawBuffers=new Array,m._drawBuffersChanged=!1,m}return g(f,u),f.statusString=function(m,y){var b=m.gl;switch(y){case b.FRAMEBUFFER_COMPLETE:return"the framebuffer is ready to display (COMPLETE)";case b.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"the attachment types are mismatched or not all framebuffer attachment points are framebuffer attachment complete (INCOMPLETE_ATTACHMENT)";case b.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"there is no attachment (INCOMPLETE_MISSING_ATTACHMENT)";case b.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"height and width of the attachment are not the same (INCOMPLETE_DIMENSIONS)";case b.FRAMEBUFFER_UNSUPPORTED:return"the format of the attachment is not supported or if depth and stencil attachments are not the same renderbuffer (UNSUPPORTED)";case b.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:return"the values of gl.RENDERBUFFER_SAMPLES are different among attached renderbuffers, or are non-zero if the attached images are a mix of renderbuffers and textures (INCOMPLETE_MULTISAMPLE)";default:return v.assert(!1,"expected known framebuffer status, given "+y),""}},f.prototype.create=function(m){var y=this._context.gl,b=this.context.gl2facade;this._object=y.createFramebuffer(),this._clearColors=new Array(b.COLOR_ATTACHMENT_MAX-b.COLOR_ATTACHMENT0),this._clearDepth=1,this._clearStencil=0,this.clear=this.context.isWebGL1?this.es2Clear:this.es3Clear;for(var E=0,x=m;E<x.length;E++){var w=x[E],S=w[0],P=w[1];if(P instanceof a.Renderbuffer?this._buffersByAttachment.set(S,P):P instanceof l.Texture2D&&this._texturesByAttachment.set(S,P),!(S<b.COLOR_ATTACHMENT_MIN||S>b.COLOR_ATTACHMENT_MAX)){this._drawBuffers.push(S);var A=S-y.COLOR_ATTACHMENT0;this._colorClearQueue.push(A),this._clearColors[A]=[0,0,0,0]}}this._drawBuffersChanged=!0,y.bindFramebuffer(y.FRAMEBUFFER,this._object),this._buffersByAttachment.forEach(function(k,D){y.framebufferRenderbuffer(y.FRAMEBUFFER,D,y.RENDERBUFFER,k.object)}),this._texturesByAttachment.forEach(function(k,D){y.framebufferTexture2D(y.FRAMEBUFFER,D,y.TEXTURE_2D,k.object,0)}),b.drawBuffers&&b.drawBuffers(this._drawBuffers);var L=y.checkFramebufferStatus(y.FRAMEBUFFER);return this._valid=y.isFramebuffer(this._object)&&L===y.FRAMEBUFFER_COMPLETE,v.logIf(!this._valid,v.LogLevel.Warning,f.statusString(this.context,L)),y.bindFramebuffer(y.FRAMEBUFFER,f.DEFAULT_FRAMEBUFFER),this._object},f.prototype.delete=function(){v.assert(this._object instanceof WebGLFramebuffer,"expected WebGLFramebuffer object"),this.context.gl.deleteFramebuffer(this._object),this._object=void 0,this._valid=!1},f.prototype.es2Clear=function(m,y,b){y===void 0&&(y=!0),b===void 0&&(b=!0);var E=this.context.gl,x=v.bitInBitfield(m,E.DEPTH_BUFFER_BIT),w=v.bitInBitfield(m,E.STENCIL_BUFFER_BIT),S=v.bitInBitfield(m,E.COLOR_BUFFER_BIT);if(S||x||w){if(y&&this.bind(),S&&this._clearColors[0]!==void 0){var P=this._clearColors[0];E.clearColor(P[0],P[1],P[2],P[3])}x&&this._clearDepth!==void 0&&E.clearDepth(this._clearDepth),w&&this._clearStencil!==void 0&&E.clearStencil(this._clearStencil),E.clear(m),b&&this.unbind()}},f.prototype.es3Clear=function(m,y,b,E){y===void 0&&(y=!0),b===void 0&&(b=!0);var x=this.context.gl,w=v.bitInBitfield(m,x.DEPTH_BUFFER_BIT),S=v.bitInBitfield(m,x.STENCIL_BUFFER_BIT),P=v.bitInBitfield(m,x.COLOR_BUFFER_BIT);if(P||w||S){if(y&&this.bind(),P){if(window.chrome&&(window.chrome.webstore||window.chrome.runtime)){var A=this._clearColors[0]?this._clearColors[0]:[0,0,0,1];x.clearColor(A[0],A[1],A[2],A[3]),x.clear(x.COLOR_BUFFER_BIT)}for(var L=0,k=E||this._colorClearQueue;L<k.length;L++){var D=k[L];x.clearBufferfv(x.COLOR,D,this._clearColors[D])}}w&&S?(x.clearStencil(this._clearStencil),x.clearDepth(this._clearDepth),x.clear(x.STENCIL_BUFFER_BIT|x.DEPTH_BUFFER_BIT)):w?x.clearBufferfv(x.DEPTH,0,[this._clearDepth]):S&&(x.clearStencil(this._clearStencil),x.clear(x.STENCIL_BUFFER_BIT)),b&&this.unbind()}},f.prototype.hasAttachment=function(m){return this._texturesByAttachment.has(m)||this._buffersByAttachment.has(m)},f.prototype.bind=function(m){m===void 0&&(m=this.context.gl.FRAMEBUFFER),this.context.gl.bindFramebuffer(m,this._object),this._drawBuffersChanged&&this.context.gl2facade.drawBuffers&&(this.context.gl2facade.drawBuffers(this._drawBuffers),this._drawBuffersChanged=!1)},f.prototype.unbind=function(m){m===void 0&&(m=this.context.gl.FRAMEBUFFER),this.context.gl.bindFramebuffer(m,f.DEFAULT_FRAMEBUFFER)},f.prototype.clearColor=function(m,y){v.assert(y===void 0||y===0||this.context.isWebGL2||this.context.supportsDrawBuffers,"WebGL2 context expected for clearing multiple color attachments.");var b=m[3]<1&&!this.context.alpha;v.logIf(b,v.LogLevel.Warning,"context has alpha disabled, clear color alpha is ignored");var E=[m[0],m[1],m[2],b?1:m[3]];if(this.context.premultipliedAlpha&&!b&&(E[0]*=E[3],E[1]*=E[3],E[2]*=E[3]),y!==void 0)this._clearColors[y]=E;else for(var x=0;x<this._clearColors.length;++x)this._clearColors[x]=E},f.prototype.clearDepth=function(m){this._clearDepth=m},f.prototype.clearStencil=function(m){this._clearStencil=m},f.prototype.texture=function(m){return this._texturesByAttachment.get(m)},f.prototype.resize=function(m,y,b,E){b===void 0&&(b=!0),E===void 0&&(E=!0),this._buffersByAttachment.forEach(function(x){x.resize(m,y,b,E)}),this._texturesByAttachment.forEach(function(x){x.resize(m,y,b,E)})},Object.defineProperty(f.prototype,"width",{get:function(){this.assertInitialized();var m=NaN;return this._buffersByAttachment.forEach(function(y){(isNaN(m)||y.width<m)&&(m=y.width)}),this._texturesByAttachment.forEach(function(y){(isNaN(m)||y.width<m)&&(m=y.width)}),m},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"height",{get:function(){this.assertInitialized();var m=NaN;return this._buffersByAttachment.forEach(function(y){(isNaN(m)||y.height<m)&&(m=y.height)}),this._texturesByAttachment.forEach(function(y){(isNaN(m)||y.height<m)&&(m=y.height)}),m},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"size",{get:function(){return[this.width,this.height]},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"drawBuffers",{get:function(){return this.assertInitialized(),this._drawBuffers},set:function(m){this.assertInitialized();for(var y=this.context.gl2facade,b=0,E=m;b<E.length;b++){var x=E[b];v.assert(this.hasAttachment(x),"valid attachment expected for draw buffer, given "+x),v.assert(x>=y.COLOR_ATTACHMENT_MIN&&x<=y.COLOR_ATTACHMENT_MAX,"color attachment expected for draw buffer, given "+x),this._drawBuffersChanged=this._drawBuffersChanged||this._drawBuffers.indexOf(x)===-1}this._drawBuffersChanged=this._drawBuffersChanged||m.length!==this._drawBuffers.length,this._drawBuffersChanged&&(this._drawBuffers=m)},enumerable:!0,configurable:!0}),f.DEFAULT_FRAMEBUFFER=void 0,p([d.Initializable.assert_initialized()],f.prototype,"es2Clear",null),p([d.Initializable.assert_initialized()],f.prototype,"es3Clear",null),p([d.Initializable.assert_initialized()],f.prototype,"bind",null),p([d.Initializable.assert_initialized()],f.prototype,"unbind",null),p([d.Initializable.assert_initialized()],f.prototype,"clearColor",null),p([d.Initializable.assert_initialized()],f.prototype,"clearDepth",null),p([d.Initializable.assert_initialized()],f.prototype,"clearStencil",null),p([d.Initializable.assert_initialized()],f.prototype,"texture",null),p([d.Initializable.assert_initialized()],f.prototype,"resize",null),f}(c.AbstractObject);o.Framebuffer=s},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=function(){function g(p){var v=Math.max(0,p);this._texCoords=new Float32Array(v*g.FLOATS_PER_TEXCOORD),this._origins=new Float32Array(v*g.FLOATS_PER_ORIGIN),this._tangents=new Float32Array(v*g.FLOATS_PER_TANGENT),this._ups=new Float32Array(v*g.FLOATS_PER_UP)}return g.concat=function(p){var v=0;p.forEach(function(s){return v+=s?s.length:0});for(var d=new g(v),c=0,a=0;a<p.length;++a){var l=p[a];l!==void 0&&l.length!==0&&(d._texCoords.set(l._texCoords,c*g.FLOATS_PER_TEXCOORD),d._origins.set(l._origins,c*g.FLOATS_PER_ORIGIN),d._tangents.set(l._tangents,c*g.FLOATS_PER_TANGENT),d._ups.set(l._ups,c*g.FLOATS_PER_UP),c+=l.length)}return d},g.prototype.shrink=function(p){var v=Math.max(0,p);if(this.length!==v){var d=function(c,a,l){return new Float32Array(c.buffer.slice(0,a*c.BYTES_PER_ELEMENT*l),0,a*l)};d(this._texCoords,v,g.FLOATS_PER_TEXCOORD),d(this._origins,v,g.FLOATS_PER_ORIGIN),d(this._ups,v,g.FLOATS_PER_TANGENT),d(this._tangents,v,g.FLOATS_PER_UP)}},g.prototype.uvLowerLeft=function(p){var v=p*g.FLOATS_PER_TEXCOORD+0;return this._texCoords.subarray(v,v+2)},g.prototype.uvUpperRight=function(p){var v=p*g.FLOATS_PER_TEXCOORD+2;return this._texCoords.subarray(v,v+2)},g.prototype.origin=function(p){var v=p*g.FLOATS_PER_ORIGIN;return this._origins.subarray(v,v+g.FLOATS_PER_ORIGIN)},g.prototype.tangent=function(p){var v=p*g.FLOATS_PER_TANGENT;return this._tangents.subarray(v,v+g.FLOATS_PER_TANGENT)},g.prototype.up=function(p){var v=p*g.FLOATS_PER_UP;return this._ups.subarray(v,v+g.FLOATS_PER_UP)},Object.defineProperty(g.prototype,"length",{get:function(){return this._origins.length/g.FLOATS_PER_ORIGIN},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"origins",{get:function(){return this._origins},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"tangents",{get:function(){return this._tangents},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"ups",{get:function(){return this._ups},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"texCoords",{get:function(){return this._texCoords},enumerable:!0,configurable:!0}),g.FLOATS_PER_TEXCOORD=4,g.FLOATS_PER_ORIGIN=3,g.FLOATS_PER_TANGENT=3,g.FLOATS_PER_UP=3,g}();o.GlyphVertices=h},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(1),g=i(15),p=i(21),v=i(18),d=i(70),c=function(){function a(l,s,u){this._alignment=a.Alignment.Left,this._lineAnchor=a.LineAnchor.Baseline,this._lineWidth=NaN,this._fontSizeUnit=a.Unit.World,this._color=new p.Color(a.DEFAULT_COLOR),this._altered=Object.assign(new g.ChangeLookup,{any:!1,color:!1,resources:!1,text:!1,typesetting:!1,static:!1,dynamic:!1}),this._wrap=!1,this._elide=a.Elide.None,this._ellipsis=a.DEFAULT_ELLIPSIS,this._text=l,this._type=s,this._staticTransform=h.mat4.create(),this._dynamicTransform=h.mat4.create(),this._extent=[0,0],u&&(this._fontFace=u)}return a.devicePixelRatio=function(){return window===void 0||typeof window.devicePixelRatio!="number"?1:window.devicePixelRatio},a.prototype.vertices=function(){return new v.GlyphVertices(this.length+this.ellipsis.length)},a.prototype.charAt=function(l){return this._text.charAt(l)},a.prototype.charCodeAt=function(l){return this._text.charCodeAt(l)},a.prototype.lineFeedAt=function(l){return this.charAt(l)===this.lineFeed},a.prototype.kerningBefore=function(l){return l<1||l>this.length?NaN:this._fontFace.kerning(this.charCodeAt(l-1),this.charCodeAt(l))},a.prototype.kerningAfter=function(l){return l<0||l>this.length-1?NaN:this._fontFace.kerning(this.charCodeAt(l),this.charCodeAt(l+1))},a.prototype.advance=function(l){return l<0||l>this.length?NaN:this._fontFace.glyph(this.charCodeAt(l)).advance},a.prototype.toString=function(){return this._text instanceof d.Text?this._text.text:this._text},a.prototype.reset=function(){this._altered.reset()},Object.defineProperty(a.prototype,"text",{get:function(){return this._text},set:function(l){this._altered.alter("text"),this._text=l},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"length",{get:function(){return this._text.length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"lineFeed",{get:function(){return this._text instanceof d.Text?this._text.lineFeed:d.Text.DEFAULT_LINE_FEED},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"wrap",{get:function(){return this._wrap},set:function(l){this._wrap=l},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"elide",{get:function(){return this._elide},set:function(l){this._elide=l},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"ellipsis",{get:function(){return this._ellipsis},set:function(l){this._ellipsis!==l&&(this._ellipsis=l,this._elide!==a.Elide.None&&this._altered.alter("typesetting"))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"lineWidth",{get:function(){return this._lineWidth*this._fontFace.size/this.fontSize},set:function(l){this._lineWidth!==l&&(this._lineWidth=l,this._altered.alter("typesetting"))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"alignment",{get:function(){return this._alignment},set:function(l){this._alignment!==l&&(this._alignment=l,this._altered.alter("typesetting"))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"lineAnchor",{get:function(){return this._lineAnchor},set:function(l){this._lineAnchor!==l&&(this._lineAnchor=l,this._altered.alter("typesetting"))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"fontSize",{get:function(){return this._fontSize},set:function(l){this._fontSize!==l&&(this._fontSize=l,this._altered.alter("typesetting"))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"fontSizeUnit",{get:function(){return this._fontSizeUnit},set:function(l){this._fontSizeUnit!==l&&(this._fontSizeUnit=l,this._altered.alter("typesetting"))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"fontFace",{get:function(){return this._fontFace},set:function(l){this._fontFace!==l&&(this._fontFace=l,this._altered.alter("typesetting"),this._altered.alter("resources"))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"color",{get:function(){return this._color},set:function(l){this._color.equals(l)||(this._color=l,this._altered.alter("color"))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(l){this._backgroundColor.equals(l)||(this._backgroundColor=l,this._altered.alter("color"))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"staticTransform",{get:function(){var l=this.fontSize/this._fontFace.size,s=h.mat4.create();return h.mat4.scale(s,this._staticTransform,h.vec3.fromValues(l,l,l)),s},set:function(l){h.mat4.equals(this._staticTransform,l)||(this._staticTransform=l,this._altered.alter("static"))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"dynamicTransform",{get:function(){return this._dynamicTransform},set:function(l){this._altered.alter("dynamic"),this._dynamicTransform=l},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"extent",{get:function(){return this._extent},set:function(l){this._extent=l},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"altered",{get:function(){return this._altered.any||this._text.altered||this._color.altered},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"valid",{get:function(){return this._fontFace!==void 0&&this._fontFace.glyphTexture.valid&&this._text.length>0},enumerable:!0,configurable:!0}),a.DEFAULT_COLOR=[.1098,.4588,.7373,1],a.DEFAULT_ELLIPSIS="...",a}();o.Label=c,function(a){(function(l){l.Static="static",l.Dynamic="dynamic"})(a.Type||(a.Type={})),function(l){l.None="none",l.Left="left",l.Middle="middle",l.Right="right"}(a.Elide||(a.Elide={})),function(l){l.Left="left",l.Center="center",l.Right="right"}(a.Alignment||(a.Alignment={})),function(l){l.Top="top",l.Ascent="ascent",l.Center="center",l.Baseline="baseline",l.Descent="descent",l.Bottom="bottom"}(a.LineAnchor||(a.LineAnchor={})),function(l){l.World="world",l.Pixel="pixel",l.Mixed="mixed"}(a.Unit||(a.Unit={}))}(c=o.Label||(o.Label={})),o.Label=c},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(0);o.byteSizeOfFormat=function(g,p){var v=g.gl,d=g.gl2facade,c=g.supportsDepthTexture?g.depthTexture.UNSIGNED_INT_24_8_WEBGL:void 0;switch(p){case void 0:default:break;case v.UNSIGNED_BYTE:case v.UNSIGNED_SHORT_5_6_5:case v.UNSIGNED_SHORT_4_4_4_4:case v.UNSIGNED_SHORT_5_5_5_1:case v.UNSIGNED_SHORT:case v.UNSIGNED_INT:case c:case v.FLOAT:case d.HALF_FLOAT:case v.BYTE:case v.UNSIGNED_SHORT:case v.SHORT:case v.UNSIGNED_INT:case v.INT:case v.HALF_FLOAT:case v.FLOAT:case v.UNSIGNED_INT_2_10_10_10_REV:case v.UNSIGNED_INT_10F_11F_11F_REV:case v.UNSIGNED_INT_5_9_9_9_REV:case v.UNSIGNED_INT_24_8:case v.FLOAT_32_UNSIGNED_INT_24_8_REV:return h.assert(!1,"expected format instead of type "+p),0}var a=g.supportsSRGB?g.sRGB.SRGB8_ALPHA8_EXT:void 0,l=g.supportsSRGB?g.sRGB.SRGB_EXT:void 0,s=g.supportsSRGB?g.sRGB.SRGB_ALPHA_EXT:void 0,u=g.supportsColorBufferFloat?g.colorBufferFloat.RGB32F_EXT:void 0,f=g.supportsColorBufferFloat?g.colorBufferFloat.RGBA32F_EXT:void 0;switch(p){case void 0:default:return h.assert(!1,"size of format "+p+" is unknown"),0;case v.ALPHA:case v.LUMINANCE:case v.R8:case v.R8I:case v.R8UI:case v.STENCIL_INDEX8:return 1;case v.DEPTH_COMPONENT16:case v.LUMINANCE_ALPHA:case v.R16F:case v.R16I:case v.R16UI:case v.RG8:case v.RG8I:case v.RG8UI:case v.RGB565:case v.RGB5_A1:case v.RGBA4:return 2;case v.DEPTH_COMPONENT24:case v.RGB:case v.RGB8:case v.RGB8UI:case v.SRGB:case l:case v.SRGB8:return 3;case v.DEPTH_STENCIL:case v.DEPTH24_STENCIL8:case v.DEPTH_COMPONENT32F:case v.R11F_G11F_B10F:case v.R32F:case v.R32I:case v.R32UI:case v.RG16F:case v.RG16I:case v.RG16UI:case v.RGB10_A2:case v.RGB10_A2UI:case v.RGB9_E5:case v.RGBA:case v.RGBA8:case v.RGBA8I:case v.RGBA8UI:case v.SRGB8_ALPHA8:case a:case v.SRGB_ALPHA:case s:case v.SRGB_ALPHA8:case v.SRGB_APLHA8:return 4;case v.DEPTH32F_STENCIL8:return 5;case v.RGB16F:return 6;case v.RG32F:case v.RG32I:case v.RG32UI:case v.RGBA16F:case v.RGBA16I:case v.RGBA16UI:return 8;case v.RGB32F:case v.RGB32F:case u:return 12;case v.RGBA32F:case f:case v.RGBA32I:case v.RGBA32UI:return 16;case v.DEPTH_COMPONENT:case v.DEPTH_STENCIL:return h.assert(!1,"byte size of DEPTH_COMPONENT or DEPTH_STENCIL formats depends on active render buffer"),0}}},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(1),g=i(3),p=i(0),v=i(13),d=function(){function c(a,l){this._rgba=[0,0,0,c.DEFAULT_ALPHA],this._altered=!1,a!==void 0&&(a.length===3&&l!==void 0?this.fromF32(a[0],a[1],a[2],l):a.length===4?(this.fromF32(a[0],a[1],a[2],a[3]),p.assert(l===void 0,"expected alpha to be undefined when given an 4-tuple in RGBA")):this.fromF32(a[0],a[1],a[2]))}return c.hue2rgb=function(a,l,s){return p.assert(s>=-1&&s<=2,"t is expected to be between -1 and 2"),s<0?s+=1:s>1&&(s-=1),6*s<1?a+6*(l-a)*s:2*s<1?l:3*s<2?a+6*(l-a)*(2/3-s):a},c.to2CharHexCode=function(a){return(a<15.5/255?"0":"")+Math.round(255*a).toString(16)},c.hsl2rgb=function(a){var l=v.clampf3(a,"HSL input");if(l[1]===0)return[l[2],l[2],l[2]];var s=l[2]<.5?l[2]*(1+l[1]):l[2]+l[1]-l[1]*l[2],u=2*l[2]-s;return[c.hue2rgb(u,s,l[0]+1/3),c.hue2rgb(u,s,l[0]),c.hue2rgb(u,s,l[0]-1/3)]},c.rgb2hsl=function(a){var l=v.clampf3(a,"RGB input"),s=[0,0,0],u=Math.min(l[0],l[1],l[2]),f=Math.max(l[0],l[1],l[2]),m=f-u;if(s[2]=.5*(f+u),m===0)return s;s[1]=s[2]<.5?m/(f+u):m/(2-f-u);var y=((f-l[0])/6+m/2)/m,b=((f-l[1])/6+m/2)/m,E=((f-l[2])/6+m/2)/m;return l[0]===f?s[0]=E-b:l[1]===f?s[0]=y-E+1/3:s[0]=b-y+2/3,s},c.lab2xyz=function(a){var l=v.clampf3(a,"LAB input"),s=(100*l[0]+16)/116,u=(256*l[1]-128)/500+s,f=s-(256*l[2]-128)/200,m=Math.pow(u,3),y=Math.pow(s,3),b=Math.pow(f,3);return[.95047*(m>.008856?m:(u-16/116)/7.787),1*(y>.008856?y:(s-16/116)/7.787),1.08883*(b>.008856?b:(f-16/116)/7.787)]},c.xyz2lab=function(a){var l=[a[0]/.95047,a[1]/1,a[2]/1.08883],s=l[0]>.008856?Math.cbrt(l[0]):7.787*l[0]+16/116,u=l[1]>.008856?Math.cbrt(l[1]):7.787*l[1]+16/116,f=l[2]>.008856?Math.cbrt(l[2]):7.787*l[2]+16/116;return v.clampf3([(116*u-16)/100,(500*(s-u)+128)/256,(200*(u-f)+128)/256])},c.xyz2rgb=function(a){var l=2.04137*a[0]+-.56495*a[1]+-.34469*a[2],s=-.96927*a[0]+1.87601*a[1]+.04156*a[2],u=.01345*a[0]+-.11839*a[1]+1.01541*a[2];return v.clampf3([l>0?Math.pow(l,1/2.19921875):0,s>0?Math.pow(s,1/2.19921875):0,u>0?Math.pow(u,1/2.19921875):0])},c.rgb2xyz=function(a){var l=v.clampf3(a,"RGB input"),s=Math.pow(l[0],2.19921875),u=Math.pow(l[1],2.19921875),f=Math.pow(l[2],2.19921875);return[.57667*s+.18555*u+.18819*f,.29738*s+.62735*u+.07527*f,.02703*s+.07069*u+.9911*f]},c.lab2rgb=function(a){return c.xyz2rgb(c.lab2xyz(a))},c.rgb2lab=function(a){return c.xyz2lab(c.rgb2xyz(a))},c.cmyk2rgb=function(a){var l=v.clampf4(a,"CMYK input"),s=1-l[3];return[(1-l[0])*s,(1-l[1])*s,(1-l[2])*s]},c.rgb2cmyk=function(a){var l=v.clampf3(a,"RGB input"),s=1-Math.max(l[0],l[1],l[2]),u=1-s,f=u===0?0:1/u;return[(u-l[0])*f,(u-l[1])*f,(u-l[2])*f,s]},c.hex2rgba=function(a){var l=[0,0,0,c.DEFAULT_ALPHA];if(!c.HEX_FORMAT_REGEX.test(a))return p.log(p.LogLevel.Warning,"hexadecimal RGBA color string must conform to either '0x0000', '#0000', '0000', '0x00000000', '#00000000', or '00000000', given '"+a+"'"),l;var s=a.startsWith("0x")?2:a.startsWith("#")?1:0,u=Math.floor((a.length-s)/3),f=u-1;return l[0]=parseInt(a[s+0*u]+a[s+0*u+f],16)/255,l[1]=parseInt(a[s+1*u]+a[s+1*u+f],16)/255,l[2]=parseInt(a[s+2*u]+a[s+2*u+f],16)/255,a.length-s!=4&&a.length-s!=8||(l[3]=parseInt(a[s+3*u]+a[s+3*u+f],16)/255),p.assert(!(isNaN(l[0])||isNaN(l[1])||isNaN(l[2])||isNaN(l[3])),"expected well formated hexadecimal RGBA string, given '"+a+"'"),l},c.rgb2hex=function(a){var l=v.clampf3(a,"RGB input");return"#"+c.to2CharHexCode(l[0])+c.to2CharHexCode(l[1])+c.to2CharHexCode(l[2])},c.rgba2hex=function(a){var l=v.clampf4(a,"RGBA input");return"#"+c.to2CharHexCode(l[0])+c.to2CharHexCode(l[1])+c.to2CharHexCode(l[2])+c.to2CharHexCode(l[3])},c.lerp=function(a,l,s,u){if(u===void 0&&(u=c.Space.LAB),s<=0)return new c(a.rgba);if(s>=1)return new c(l.rgba);var f=h.vec4.create();switch(u){case c.Space.CMYK:h.vec4.lerp(f,a.cmyk,l.cmyk,s);var m=g.mix(a.a,l.a,s);return new c().fromCMYK(f[0],f[1],f[2],f[3],m);case c.Space.LAB:return h.vec4.lerp(f,a.laba,l.laba,s),new c().fromLAB(f[0],f[1],f[2],f[3]);case c.Space.HSL:return h.vec4.lerp(f,a.hsla,l.hsla,s),new c().fromHSL(f[0],f[1],f[2],f[3]);case c.Space.RGB:return h.vec4.lerp(f,a.rgba,l.rgba,s),new c().fromRGB(f[0],f[1],f[2],f[3])}},c.prototype.equals=function(a){return v.equals4(this._rgba,a._rgba)},c.prototype.fromF32=function(a,l,s,u){u===void 0&&(u=c.DEFAULT_ALPHA);var f=v.duplicate4(this._rgba);return this._rgba[0]=v.clampf(a,"red value"),this._rgba[1]=v.clampf(l,"green value"),this._rgba[2]=v.clampf(s,"blue value"),this._rgba[3]=v.clampf(u,"alpha value"),this._altered=!v.equals4(this._rgba,f),this},c.prototype.fromUI8=function(a,l,s,u){u===void 0&&(u=Math.floor(255*c.DEFAULT_ALPHA));var f=v.duplicate4(this._rgba);return this._rgba[0]=g.clamp(a,0,255)/255,this._rgba[1]=g.clamp(l,0,255)/255,this._rgba[2]=g.clamp(s,0,255)/255,this._rgba[3]=g.clamp(u,0,255)/255,this._altered=!v.equals4(this._rgba,f),this},c.prototype.fromRGB=function(a,l,s,u){u===void 0&&(u=c.DEFAULT_ALPHA);var f=v.duplicate4(this._rgba);return this._rgba=v.clampf4([a,l,s,u],"RGBA input"),this._altered=!v.equals4(this._rgba,f),this},c.prototype.fromHSL=function(a,l,s,u){u===void 0&&(u=c.DEFAULT_ALPHA);var f=v.duplicate4(this._rgba),m=c.hsl2rgb([a,l,s]),y=v.clampf(u,"ALPHA input");return this._rgba=[m[0],m[1],m[2],y],this._altered=!v.equals4(this._rgba,f),this},c.prototype.fromLAB=function(a,l,s,u){u===void 0&&(u=c.DEFAULT_ALPHA);var f=v.duplicate4(this._rgba),m=c.lab2rgb([a,l,s]),y=v.clampf(u,"ALPHA input");return this._rgba=[m[0],m[1],m[2],y],this._altered=!v.equals4(this._rgba,f),this},c.prototype.fromCMYK=function(a,l,s,u,f){f===void 0&&(f=c.DEFAULT_ALPHA);var m=v.duplicate4(this._rgba),y=c.cmyk2rgb([a,l,s,u]),b=v.clampf(f,"ALPHA input");return this._rgba=[y[0],y[1],y[2],b],this._altered=!v.equals4(this._rgba,m),this},c.prototype.fromHex=function(a){var l=v.duplicate4(this._rgba);return this._rgba=c.hex2rgba(a),this._altered=!v.equals4(this._rgba,l),this},c.prototype.gray=function(a){switch(a===void 0&&(a=c.GrayscaleAlgorithm.LinearLuminance),a){case c.GrayscaleAlgorithm.Average:return(this._rgba[0]+this._rgba[1]+this._rgba[2])/3;case c.GrayscaleAlgorithm.LeastSaturatedVariant:return .5*(Math.max(this._rgba[0],this._rgba[1],this._rgba[2])-Math.min(this._rgba[0],this._rgba[1],this._rgba[2]));case c.GrayscaleAlgorithm.MinimumDecomposition:return Math.min(this._rgba[0],this._rgba[1],this._rgba[2]);case c.GrayscaleAlgorithm.MaximumDecomposition:return Math.max(this._rgba[0],this._rgba[1],this._rgba[2]);case c.GrayscaleAlgorithm.LinearLuminance:return .2126*this._rgba[0]+.7152*this._rgba[1]+.0722*this._rgba[2]}},c.prototype.tuple=function(a,l){switch(l===void 0&&(l=!0),a){case c.Space.RGB:return l?this.rgba:this.rgb;case c.Space.LAB:return l?this.laba:this.lab;case c.Space.CMYK:return l?this.cmyka:this.cmyk;case c.Space.HSL:return l?this.hsla:this.hsl}},Object.defineProperty(c.prototype,"rgb",{get:function(){return[this._rgba[0],this._rgba[1],this._rgba[2]]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"rgbUI8",{get:function(){var a=new Uint8Array(3);return a[0]=Math.round(255*this._rgba[0]),a[1]=Math.round(255*this._rgba[1]),a[2]=Math.round(255*this._rgba[2]),a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"rgbF32",{get:function(){var a=new Float32Array(3);return a[0]=this._rgba[0],a[1]=this._rgba[1],a[2]=this._rgba[2],a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"rgba",{get:function(){return this._rgba},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"rgbaUI8",{get:function(){var a=new Uint8Array(4);return a[0]=Math.round(255*this._rgba[0]),a[1]=Math.round(255*this._rgba[1]),a[2]=Math.round(255*this._rgba[2]),a[3]=Math.round(255*this._rgba[3]),a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"rgbaF32",{get:function(){return new Float32Array(this._rgba)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"r",{get:function(){return this._rgba[0]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"g",{get:function(){return this._rgba[1]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"b",{get:function(){return this._rgba[2]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"a",{get:function(){return this._rgba[3]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"hexRGB",{get:function(){return c.rgb2hex(this.rgb)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"hexRGBA",{get:function(){return c.rgba2hex(this._rgba)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"hsl",{get:function(){return c.rgb2hsl(this.rgb)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"hsla",{get:function(){var a=c.rgb2hsl(this.rgb);return[a[0],a[1],a[2],this._rgba[3]]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"lab",{get:function(){return c.rgb2lab(this.rgb)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"laba",{get:function(){var a=c.rgb2lab(this.rgb);return[a[0],a[1],a[2],this._rgba[3]]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"cmyk",{get:function(){return c.rgb2cmyk(this.rgb)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"cmyka",{get:function(){var a=c.rgb2cmyk(this.rgb);return[a[0],a[1],a[2],a[3],this._rgba[3]]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"altered",{get:function(){return this._altered},set:function(a){this._altered=a},enumerable:!0,configurable:!0}),c.DEFAULT_ALPHA=1,c.HEX_FORMAT_REGEX=new RegExp(/^(#|0x)?(([0-9a-f]{3}){1,2}|([0-9a-f]{4}){1,2})$/i),c}();o.Color=d,function(c){(function(a){a.Average="average",a.LinearLuminance="linear-luminance",a.LeastSaturatedVariant="least-saturated-variant",a.MinimumDecomposition="minimum-decomposition",a.MaximumDecomposition="maximum-decomposition"})(c.GrayscaleAlgorithm||(c.GrayscaleAlgorithm={})),function(a){a.RGB="rgb",a.HSL="hsl",a.LAB="lab",a.CMYK="cmyk"}(c.Space||(c.Space={}))}(d=o.Color||(o.Color={})),o.Color=d},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(0),g=function(){function p(){}return p.queryAndCacheAPI=function(){if(p._exit===void 0){for(var v=window.document,d=[v.exitPointerLock,v.mozExitPointerLock,v.webkitExitPointerLock,void 0],c=0;c<d.length&&d[c]===void 0;++c);switch(c){case 0:p._exit=function(){return v.exitPointerLock()},p._request=function(a){return a.requestPointerLock()},p._element=function(){return v.pointerLockElement};break;case 1:p._exit=function(){return v.mozCancelPointerLock()},p._request=function(a){return a.mozRequestPointerLock()},p._element=function(){return v.mozPointerLockElement};break;case 2:p._exit=function(){return v.webkitExitPointerLock()},p._request=function(a){return a.webkitRequestPointerLock()},p._element=function(){return v.webkitPointerLockElement};break;default:h.assert(!1,"none of the following pointer lock apis was found: native, moz, or webkit")}}},p.active=function(v){return this._element!==void 0&&(v!==void 0&&p._element()===v||v===void 0&&p._element()!==void 0&&p._element()!==null)},p.request=function(v,d){v!==void 0&&(p.queryAndCacheAPI(),p.active()&&p._element()!==v&&p._exit(),p.active()||p._request(v))},p.exit=function(){p._exit&&p._exit()},p}();o.PointerLock=g},function(n,o,i){var h,g=this&&this.__extends||(h=function(l,s){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var m in f)f.hasOwnProperty(m)&&(u[m]=f[m])})(l,s)},function(l,s){function u(){this.constructor=l}h(l,s),l.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}),p=this&&this.__decorate||function(l,s,u,f){var m,y=arguments.length,b=y<3?s:f===null?f=Object.getOwnPropertyDescriptor(s,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(l,s,u,f);else for(var E=l.length-1;E>=0;E--)(m=l[E])&&(b=(y<3?m(b):y>3?m(s,u,b):m(s,u))||b);return y>3&&b&&Object.defineProperty(s,u,b),b};Object.defineProperty(o,"__esModule",{value:!0});var v=i(0),d=i(20),c=i(2),a=function(l){function s(){var u=l!==null&&l.apply(this,arguments)||this;return u._internalFormat=void 0,u}return g(s,l),s.prototype.create=function(u,f,m){v.assert(u>0&&f>0,"renderbuffer object requires valid width and height greater than zero");var y=this.context.gl;this._object=y.createRenderbuffer(),this._width=u,this._height=f,this._internalFormat=m,y.bindRenderbuffer(y.RENDERBUFFER,this._object),y.renderbufferStorage(y.RENDERBUFFER,m,u,f),this._valid=y.isRenderbuffer(this._object),y.bindRenderbuffer(y.RENDERBUFFER,s.DEFAULT_RENDER_BUFFER);var b=u*f*d.byteSizeOfFormat(this.context,m);return this.context.allocationRegister.reallocate(this._identifier,b),this._object},s.prototype.delete=function(){v.assert(this._object instanceof WebGLRenderbuffer,"expected WebGLRenderbuffer object"),this.context.gl.deleteRenderbuffer(this._object),this._object=void 0,this._valid=!1,this._internalFormat=void 0,this._width=0,this._height=0},s.prototype.bind=function(){this.context.gl.bindRenderbuffer(this.context.gl.RENDERBUFFER,this._object)},s.prototype.unbind=function(){this.context.gl.bindRenderbuffer(this.context.gl.RENDERBUFFER,s.DEFAULT_RENDER_BUFFER)},s.prototype.resize=function(u,f,m,y){if(m===void 0&&(m=!1),y===void 0&&(y=!1),u!==this._width||f!==this._height){this._width=u,this._height=f;var b=this.context.gl;m&&this.bind(),b.renderbufferStorage(b.RENDERBUFFER,this._internalFormat,u,f),y&&this.unbind();var E=u*f*d.byteSizeOfFormat(this.context,this._internalFormat);this.context.allocationRegister.reallocate(this._identifier,E)}},Object.defineProperty(s.prototype,"bytes",{get:function(){return this.assertInitialized(),this.context.allocationRegister.allocated(this._identifier)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"internalFormat",{get:function(){return this.assertInitialized(),this._internalFormat},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"width",{get:function(){return this.assertInitialized(),this._width},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"height",{get:function(){return this.assertInitialized(),this._height},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return[this.width,this.height]},enumerable:!0,configurable:!0}),s.DEFAULT_RENDER_BUFFER=void 0,p([c.Initializable.assert_initialized()],s.prototype,"bind",null),p([c.Initializable.assert_initialized()],s.prototype,"unbind",null),p([c.Initializable.assert_initialized()],s.prototype,"resize",null),s}(i(8).AbstractObject);o.Renderbuffer=a},function(n,o){n.exports=`precision highp float;\r
precision highp int;\r
\r
/**\r
  To be replaced via Shader.replace();\r
 */\r
#define PROJECTION_TYPE\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else \r
    #define varying in\r
#endif\r
\r
\r
\r
#if __VERSION__ == 100\r
    #define fragColor gl_FragColor\r
#else\r
    layout(location = 0) out vec4 fragColor;\r
#endif\r
\r
\r
uniform int u_mode;\r
uniform bool u_skipLod;\r
\r
#if defined(CUBE_MAP)\r
    uniform samplerCube u_cubemap;\r
#elif defined(EQUI_MAP)\r
    uniform sampler2D u_equirectmap;\r
#elif defined(SPHERE_MAP)\r
    uniform sampler2D u_spheremap;\r
#elif defined(POLAR_MAP)\r
    uniform sampler2D u_polarmap[2];\r
#endif\r
\r
varying vec2 v_uv;\r
varying vec4 v_ray;\r
\r
\r
const float PI = 3.141592653589793;\r
const float OneOver2PI = 0.1591549430918953357688837633725;\r
const float OneOverPI  = 0.3183098861837906715377675267450;\r
\r
\r
void main(void)\r
{\r
    vec2 uv = v_uv;\r
    vec3 ray = normalize(v_ray.xyz);\r
\r
    #if defined(CUBE_MAP)\r
        #if __VERSION__ == 100\r
            fragColor = u_skipLod ? textureCubeLod(u_cubemap, vec3(ray), 0.0) : textureCube(u_cubemap, vec3(ray));\r
        #else\r
            fragColor = u_skipLod ? textureLod(u_cubemap, vec3(ray), 0.0) : texture(u_cubemap, vec3(ray));\r
        #endif\r
    #endif\r
\r
    #if defined(EQUI_MAP)\r
        float v = acos(-ray.y) * OneOverPI;\r
        float m = atan(-ray.x, ray.z);\r
        uv = vec2(m * OneOver2PI + 0.5, v);\r
\r
        fragColor = texture(u_equirectmap, uv);\r
    #endif\r
\r
    #if defined(SPHERE_MAP)\r
        ray = -ray.xzy;\r
        ray.y *= -1.0;\r
        ray.z += +1.0;\r
        uv = 0.5 + 0.5 * ray.xy / length(ray);\r
\r
        fragColor = texture(u_spheremap, uv);\r
    #endif\r
\r
    #if defined(POLAR_MAP)\r
        ray.xz /= abs(ray.y) + 1.0;\r
        ray.xz = ray.xz * 0.5 + 0.5;\r
        ray.x *= -1.0;\r
\r
        fragColor = mix(texture(u_polarmap[1], ray.xz),\r
                        texture(u_polarmap[0], vec2(1.0, -1.0) * ray.xz),\r
                        step(0.0, ray.y));\r
    #endif\r
}\r
`},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(123);o.ForwardSceneRenderPass=h.ForwardSceneRenderPass;var g=i(68);o.SceneNode=g.SceneNode;var p=i(39);o.SceneNodeComponent=p.SceneNodeComponent;var v=i(124);o.TransformComponent=v.TransformComponent;var d=i(125);o.GeometryComponent=d.GeometryComponent;var c=i(126);o.Material=c.Material;var a=i(67);o.SceneRenderPass=a.SceneRenderPass},function(n,o,i){var h=this&&this.__spreadArrays||function(){for(var a=0,l=0,s=arguments.length;l<s;l++)a+=arguments[l].length;var u=Array(a),f=0;for(l=0;l<s;l++)for(var m=arguments[l],y=0,b=m.length;y<b;y++,f++)u[f]=m[y];return u};Object.defineProperty(o,"__esModule",{value:!0});var g=i(1),p=i(0),v=i(3),d=i(19),c=function(){function a(){}return a.writeVertex=function(l,s,u,f,m){if(f!==void 0&&u.depictable()!==!1){var y=l.glyphTexturePadding,b=f.origin(m);g.vec3.set(b,s[0],s[1],0),b[0]+=u.bearing[0]-y[3],b[1]+=u.bearing[1]-u.extent[1],g.vec3.set(f.tangent(m),u.extent[0],0,0),g.vec3.set(f.up(m),0,u.extent[1],0);var E=f.uvLowerLeft(m);g.vec2.copy(E,u.subTextureOrigin);var x=f.uvUpperRight(m);g.vec2.add(x,u.subTextureOrigin,u.subTextureExtent)}},a.lineAnchorOffset=function(l){var s=0,u=l.fontFace.glyphTexturePadding,f=l.fontFace;switch(l.lineAnchor){case d.Label.LineAnchor.Baseline:default:s=-u[0];break;case d.Label.LineAnchor.Ascent:s=f.ascent-u[0];break;case d.Label.LineAnchor.Descent:s=f.descent*(1+u[0]/f.ascent);break;case d.Label.LineAnchor.Center:s=f.ascent-u[0]-.5*f.size;break;case d.Label.LineAnchor.Top:s=f.ascent-u[0]+.5*f.lineGap;break;case d.Label.LineAnchor.Bottom:s=f.ascent-u[0]+.5*f.lineGap-f.lineHeight}return s},a.advances=function(l,s){p.assert(l.fontFace!==void 0,"expected a font face for label in order to resolve advances"),s===void 0&&(s=l.text.text);for(var u=new Float32Array(s.length),f=0;f<s.length;++f){var m=s.charCodeAt(f);u[f]=l.fontFace.glyph(m).advance}return u},a.kernings=function(l,s){if(p.assert(l.fontFace!==void 0,"expected a font face for label in order to resolve kernings"),s===void 0){for(var u=new Float32Array(l.length),f=0;f<l.length;++f){var m=l.kerningAfter(f);u[f]=isNaN(m)?0:m}return u}var y,b=new Float32Array(s.length);for(f=0;f<s.length;++f)m=(y=f)<0||y>s.length-1?NaN:l.fontFace.kerning(s.charCodeAt(y),s.charCodeAt(y+1)),b[f]=isNaN(m)?0:m;return b},a.fragments=function(l){for(var s,u=new Array,f=0,m=0;m<l.length;++m)if(s=a.DELIMITERS.indexOf(l.charAt(m))>-1){f<m&&u.push([f,m,a.FragmentType.Word]);var y=l.lineFeedAt(m)?a.FragmentType.LineFeed:a.FragmentType.Delimiter;u.push([m,m+1,y]),f=m+1}return s||u.push([f,l.length,a.FragmentType.Word]),u},a.fragmentWidths=function(l,s,u){for(var f=new Float32Array(l.length),m=function(b){var E=l[b];f[b]=s.subarray(E[0],E[1]).reduce(function(x,w,S){return x+w+(S<E[1]?u[S+E[0]]:0)},0)},y=0;y<l.length;++y)m(y);return f},a.elideThresholds=function(l,s){switch(l.elide){case d.Label.Elide.Right:return[l.lineWidth-s,0];case d.Label.Elide.Middle:var u=l.lineWidth/2-s/2;return[u,u];case d.Label.Elide.Left:return[0,l.lineWidth-s];default:return[0,0]}},a.elideFragments=function(l,s,u,f,m,y){for(var b=new Array,E=new Array,x=0,w=0,S=y?s.length-1:0;y?S>-1:S<s.length;y?--S:++S){var P=s[S];if(P[2]!==a.FragmentType.LineFeed){if(!(x+u[S]<l)){if(P[2]===a.FragmentType.Delimiter||x+f[y?P[1]-1:P[0]]>l)break;for(var A=y?P[1]-1:P[0];y?A>=P[0]:A<P[1];y?--A:++A){if(!(x+w+f[A]+m[A]<l)){b.push([y?A+1:P[0],y?P[1]:A,P[2]]),E.push(w);break}w+=f[A]+m[A]}break}x+=u[S],b.push(P),E.push(u[S])}}return[b,E,x+w]},a.transformVertices=function(l,s,u,f){if(s!==void 0&&!g.mat4.equals(l,g.mat4.create()))for(var m=u;m<f;++m){var y=s.origin(m),b=v.v3();g.vec3.transformMat4(b,y,l);var E=v.v3();g.vec3.transformMat4(E,g.vec3.add(E,y,s.tangent(m)),l);var x=v.v3();g.vec3.transformMat4(x,g.vec3.add(x,y,s.up(m)),l),g.vec3.copy(s.origin(m),b),g.vec3.sub(s.tangent(m),E,b),g.vec3.sub(s.up(m),x,b)}},a.updateRectangleMinMax=function(l,s){p.assert(l.length===6&&s.length===6,"expected the rectangles to have 6 values!");for(var u=0;u<3;u++)l[u]=Math.min(l[u],s[u]);for(;u<6;u++)l[u]=Math.max(l[u],s[u])},a.minMax=function(l,s,u){var f=Math.min.apply(Math,h([l],u)),m=Math.max.apply(Math,h([s],u));return g.vec2.fromValues(f,m)},a.getMinMaxVertices=function(l,s,u){for(var f=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,y=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY,E=Number.POSITIVE_INFINITY,x=Number.NEGATIVE_INFINITY,w=s;w<u;++w){var S=a.minMax(f,m,[l.origin(w)[0],l.origin(w)[0]+l.up(w)[0],l.origin(w)[0]+l.tangent(w)[0]]);f=S[0],m=S[1];var P=a.minMax(y,b,[l.origin(w)[1],l.origin(w)[1]+l.up(w)[1],l.origin(w)[1]+l.tangent(w)[1]]);y=P[0],b=P[1];var A=a.minMax(E,x,[l.origin(w)[2],l.origin(w)[2]+l.up(w)[2],l.origin(w)[2]+l.tangent(w)[2]]);E=A[0],x=A[1]}return[f,y,E,m,b,x]},a.transformAlignment=function(l,s,u,f,m){if(u!==void 0&&s!==d.Label.Alignment.Left){var y=-l;s===d.Label.Alignment.Center&&(y*=.5);for(var b=f;b<m;++b)u.origin(b)[0]+=y}},a.transform=function(l,s,u){for(var f=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],m=0,y=u;m<y.length;m++){var b=y[m];a.transformAlignment(b[2],l.alignment,s,b[0],b[1]),a.updateRectangleMinMax(f,a.getMinMaxVertices(s,b[0],b[1])),a.transformVertices(l.staticTransform,s,b[0],b[1])}var E=f[3]-f[0],x=f[4]-f[1],w=g.vec4.transformMat4(g.vec4.create(),g.vec4.fromValues(0,0,0,1),l.staticTransform),S=g.vec4.transformMat4(g.vec4.create(),g.vec4.fromValues(E,0,0,1),l.staticTransform),P=g.vec4.transformMat4(g.vec4.create(),g.vec4.fromValues(0,x,0,1),l.staticTransform),A=g.vec2.fromValues(g.vec4.distance(S,w),g.vec4.distance(P,w));l.extent=[A[0],A[1]]},a.typeset=function(l,s){if(l.length===0)return 0;p.assert(l.fontFace!==void 0,"expected a font face for label before typesetting");var u=l.fontFace,f=function(_e){return _e<l.length?u.glyph(l.charCodeAt(_e)):u.glyph(l.ellipsis.charCodeAt(_e-l.length))},m=a.advances(l),y=a.kernings(l),b=a.fragments(l),E=a.fragmentWidths(b,m,y),x=g.vec2.fromValues(0,-a.lineAnchorOffset(l)),w=new Array,S=0,P=l.elide!==d.Label.Elide.None,A=function(_e,ye,re,be,Ae,pe){be===void 0&&(be=m),Ae===void 0&&(Ae=y),pe===void 0&&(pe=0);for(var Pe=S,xe=0;xe<_e.length;++xe){var Re=_e[xe];if(!(Re[0]>=Re[1])){var he=!P&&Re[2]===a.FragmentType.LineFeed,Se=!1;if(!P&&!he&&l.wrap){var Ce=Re[2]!==a.FragmentType.Delimiter||f(Re[0]).depictable(),Te=Re[2]===a.FragmentType.Word&&xe<_e.length-1&&_e[xe+1][2]===a.FragmentType.Delimiter&&f(_e[xe+1][0]).depictable();Se=x[0]+(Ce?ye[xe]:0)+(Te?ye[xe+1]:0)>l.lineWidth}if(!he&&!Se||(w.push([Pe,S,x[0]]),Pe=S,x[0]=0,x[1]-=u.lineHeight,!he))for(var Ie=Re[0];Ie<Re[1];++Ie)f(Ie).depictable()&&(a.writeVertex(u,x,f(Ie),s,S),++S),x[0]+=be[Ie-pe]+Ae[Ie-pe]}}Pe<S&&w.push([Pe,S,x[0]])},L=E.reduce(function(_e,ye){return _e+ye},0);if(P&&L>l.lineWidth){var k=[[l.length,l.length+l.ellipsis.length,a.FragmentType.Word]],D=a.advances(l,l.ellipsis),N=a.kernings(l,l.ellipsis),W=a.fragmentWidths([[0,l.ellipsis.length,a.FragmentType.Word]],D,N),H=W[0];if(l.lineWidth<H)return 0;var q=a.elideThresholds(l,H),X=a.elideFragments(q[0],b,E,m,y,!1),Y=X[0],J=X[1],ee=X[2];l.elide===d.Label.Elide.Middle&&(q[1]+=q[0]-ee);var te=a.elideFragments(q[1],b,E,m,y,!0),ne=te[0],fe=te[1];A(Y,new Float32Array(J)),A(k,W,NaN,D,N,l.length),A(ne.reverse(),new Float32Array(fe.reverse())),p.assert(w.length<4,"expected at most 3-line-yield from advance, given "+w),w[0][1]=w[w.length-1][1],w[0][2]=x[0],w.length=1}else A(b,E,l.lineWidth);return a.transform(l,s,w),s.shrink(S),S},a.DELIMITERS=`
 ,.-/()[]<>`,a}();o.Typesetter=c,function(a){(function(l){l[l.Word=0]="Word",l[l.Delimiter=1]="Delimiter",l[l.LineFeed=2]="LineFeed"})(a.FragmentType||(a.FragmentType={}))}(c=o.Typesetter||(o.Typesetter={})),o.Typesetter=c},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(0),g=i(20),p=i(83),v=i(41),d=i(42),c=i(28),a=i(85),l=function(){function s(u,f){this._attributes=void 0,this._extensions=new Array,this._allocationRegister=new p.AllocationRegister,this._context=u,this._mask=f;var m=u.toString(),y=/WebGLRenderingContext/.test(m)||/CaptureContext/.test(m),b=/WebGL2RenderingContext/.test(m);if(this._backend=y?s.BackendType.WebGL1:b?s.BackendType.WebGL2:void 0,h.assert(this._backend!==void 0&&this._backend.valueOf()!==s.BackendType.Invalid.valueOf(),"context is neither webgl nor webgl2, given "+m),this.queryAttributes(),this.queryExtensionSupport(),this._mask&&this._mask.functionsUndefine)for(var E in this._mask.functionsUndefine)this._context[E]=void 0;this._gl2=new a.GL2Facade(this)}return s.createMasqueradeFromGETorDataAttribute=function(u){return v.ContextMasquerade.fromGET()||(u.msqrdH?v.ContextMasquerade.fromHash(u.msqrdH):u.msqrdP?v.ContextMasquerade.fromPreset(u.msqrdP):void 0)},s.request=function(u,f){f===void 0&&(f=s.DEFAULT_ATTRIBUTES);var m,y=u.dataset,b=s.createMasqueradeFromGETorDataAttribute(y),E=b?b.backend:y.backend?y.backend.toLowerCase():"auto";switch(E in s.BackendRequestType||(h.log(h.LogLevel.Warning,"unknown backend '"+y.backend+"' changed to '"+s.BackendRequestType.auto+"'"),E="auto"),E){case s.BackendRequestType.webgl:break;case s.BackendRequestType.experimental:case s.BackendRequestType.webgl1:case s.BackendRequestType.experimental1:E=s.BackendRequestType.webgl;break;case s.BackendRequestType.webgl2:case s.BackendRequestType.experimental2:E=s.BackendRequestType.webgl2;break;default:E=s.BackendRequestType.auto}return E!==s.BackendRequestType.webgl&&(m=this.requestWebGL2(u,f)),m||(m=this.requestWebGL1(u,f),h.logIf(m!==void 0&&E===s.BackendRequestType.webgl2,h.LogLevel.Info,"backend changed to '"+s.BackendRequestType.webgl+"', given '"+E+"'")),h.assert(!!m,"creating a context failed"),new s(m,b)},s.requestWebGL1=function(u,f){f===void 0&&(f=s.DEFAULT_ATTRIBUTES);var m=u.getContext(s.BackendRequestType.webgl,f);return m||((m=u.getContext(s.BackendRequestType.experimental,f))===null?void 0:m)},s.requestWebGL2=function(u,f){f===void 0&&(f=s.DEFAULT_ATTRIBUTES);var m=u.getContext(s.BackendRequestType.webgl2,f);return m||((m=u.getContext(s.BackendRequestType.experimental2,f))===null?void 0:m)},s.prototype.queryAttributes=function(){var u=this._context.getContextAttributes();u!==null?this._attributes=u:h.log(h.LogLevel.Error,"querying context attributes failed (probably blocked)")},Object.defineProperty(s.prototype,"alpha",{get:function(){return!!this._attributes&&this._attributes.alpha},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"antialias",{get:function(){return!!this._attributes&&this._attributes.antialias},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"depth",{get:function(){return!!this._attributes&&this._attributes.depth},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"failIfMajorPerformanceCaveat",{get:function(){return!!this._attributes&&this._attributes.failIfMajorPerformanceCaveat},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"premultipliedAlpha",{get:function(){return!!this._attributes&&this._attributes.premultipliedAlpha},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"preserveDrawingBuffer",{get:function(){return!!this._attributes&&this._attributes.preserveDrawingBuffer},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"stencil",{get:function(){return!!this._attributes&&this._attributes.stencil},enumerable:!0,configurable:!0}),s.prototype.supports=function(u){if(this._mask&&this._mask.extensionsConceal.indexOf(u)>-1)return!1;switch(this._backend){case s.BackendType.WebGL1:h.assert(d.WEBGL1_EXTENSIONS.indexOf(u)>-1,"extension "+u+" not available to WebGL1");break;case s.BackendType.WebGL2:h.assert(d.WEBGL2_DEFAULT_EXTENSIONS.indexOf(u)===-1,"extension "+u+" supported by default in WebGL2"),h.assert(d.WEBGL2_EXTENSIONS.indexOf(u)>-1,"extension "+u+" not available to WebGL2")}return this._extensions.indexOf(u)>-1},s.prototype.enable=function(u){for(var f=0,m=u;f<m.length;f++){var y=m[f];this.isWebGL1&&d.WEBGL1_EXTENSIONS.indexOf(y)===-1||this.isWebGL2&&d.WEBGL2_EXTENSIONS.indexOf(y)===-1||this.supports(y)!==!1&&this.extension(void 0,y)}},s.prototype.queryExtensionSupport=function(){var u=this._context.getSupportedExtensions();if(u!==null){for(var f=0,m=u;f<m.length;f++){var y=m[f];this._mask&&this._mask.extensionsConceal.indexOf(y)>-1||this._extensions.push(y)}this._backend===s.BackendType.WebGL1&&(this.ANGLE_instanced_arrays_supported=this.supports("ANGLE_instanced_arrays"),this.EXT_blend_minmax_supported=this.supports("EXT_blend_minmax"),this.EXT_color_buffer_half_float_supported=this.supports("EXT_color_buffer_half_float"),this.EXT_disjoint_timer_query_supported=this.supports("EXT_disjoint_timer_query"),this.EXT_frag_depth_supported=this.supports("EXT_frag_depth"),this.EXT_sRGB_supported=this.supports("EXT_sRGB"),this.EXT_shader_texture_lod_supported=this.supports("EXT_shader_texture_lod"),this.OES_element_index_uint_supported=this.supports("OES_element_index_uint"),this.OES_standard_derivatives_supported=this.supports("OES_standard_derivatives"),this.OES_texture_float_supported=this.supports("OES_texture_float"),this.OES_texture_half_float_supported=this.supports("OES_texture_half_float"),this.OES_vertex_array_object_supported=this.supports("OES_vertex_array_object"),this.WEBGL_color_buffer_float_supported=this.supports("WEBGL_color_buffer_float"),this.WEBGL_depth_texture_supported=this.supports("WEBGL_depth_texture"),this.WEBGL_draw_buffers_supported=this.supports("WEBGL_draw_buffers")),this._backend===s.BackendType.WebGL2&&(this.EXT_color_buffer_float_supported=this.supports("EXT_color_buffer_float"),this.EXT_disjoint_timer_query_webgl2_supported=this.supports("EXT_disjoint_timer_query_webgl2")),this.EXT_texture_filter_anisotropic_supported=this.supports("EXT_texture_filter_anisotropic"),this.OES_texture_float_linear_supported=this.supports("OES_texture_float_linear"),this.OES_texture_half_float_linear_supported=this.supports("OES_texture_half_float_linear"),this.WEBGL_compressed_texture_astc_supported=this.supports("WEBGL_compressed_texture_astc"),this.WEBGL_compressed_texture_atc_supported=this.supports("WEBGL_compressed_texture_atc"),this.WEBGL_compressed_texture_etc_supported=this.supports("WEBGL_compressed_texture_etc"),this.WEBGL_compressed_texture_etc1_supported=this.supports("WEBGL_compressed_texture_etc1"),this.WEBGL_compressed_texture_pvrtc_supported=this.supports("WEBGL_compressed_texture_pvrtc"),this.WEBGL_compressed_texture_s3tc_supported=this.supports("WEBGL_compressed_texture_s3tc"),this.WEBGL_compressed_texture_s3tc_srgb_supported=this.supports("WEBGL_compressed_texture_s3tc_srgb"),this.WEBGL_debug_renderer_info_supported=this.supports("WEBGL_debug_renderer_info"),this.WEBGL_debug_shaders_supported=this.supports("WEBGL_debug_shaders"),this.WEBGL_lose_context_supported=this.supports("WEBGL_lose_context")}else h.log(h.LogLevel.Error,"querying supported extensions failed (probably blocked)")},s.prototype.extension=function(u,f){return u===void 0&&(h.assert(this.supports(f),"extension "+f+" expected to be supported"),u=this._context.getExtension(f)),u},Object.defineProperty(s.prototype,"allocationRegister",{get:function(){return this._allocationRegister},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"backend",{get:function(){return this._backend},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"backendString",{get:function(){switch(this._backend){case s.BackendType.WebGL1:return"WebGL";case s.BackendType.WebGL2:return"WebGL2";default:return}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"extensions",{get:function(){return this._extensions},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"gl",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"gl2facade",{get:function(){return this._gl2},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isWebGL1",{get:function(){return this._backend===s.BackendType.WebGL1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isWebGL2",{get:function(){return this._backend===s.BackendType.WebGL2},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsInstancedArrays",{get:function(){return this.ANGLE_instanced_arrays_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"instancedArrays",{get:function(){return this.extension(this.ANGLE_instanced_arrays,"ANGLE_instanced_arrays")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsBlendMinmax",{get:function(){return this.EXT_blend_minmax_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"blendMinmax",{get:function(){return this.extension(this.EXT_blend_minmax,"EXT_blend_minmax")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsColorBufferHalfFloat",{get:function(){return this.EXT_color_buffer_half_float_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"colorBufferHalfFloat",{get:function(){return this.extension(this.EXT_color_buffer_half_float,"EXT_color_buffer_half_float")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsDisjointTimerQuery",{get:function(){return this.EXT_disjoint_timer_query_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"disjointTimerQuery",{get:function(){return this.extension(this.EXT_disjoint_timer_query,"EXT_disjoint_timer_query")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsDisjointTimerQueryWebGL2",{get:function(){return this.EXT_disjoint_timer_query_webgl2_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"disjointTimerQueryWebGL2",{get:function(){return this.extension(this.EXT_disjoint_timer_query_webgl2,"EXT_disjoint_timer_query_webgl2")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsFragDepth",{get:function(){return this.EXT_frag_depth_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fragDepth",{get:function(){return this.extension(this.EXT_frag_depth,"EXT_frag_depth")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsSRGB",{get:function(){return this.EXT_sRGB_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"sRGB",{get:function(){return this.extension(this.EXT_sRGB,"EXT_sRGB")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsShaderTextureLOD",{get:function(){return this.EXT_shader_texture_lod_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"shaderTextureLOD",{get:function(){return this.extension(this.EXT_shader_texture_lod,"EXT_shader_texture_lod")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsTextureFilterAnisotropic",{get:function(){return this.EXT_texture_filter_anisotropic_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"textureFilterAnisotropic",{get:function(){return this.extension(this.EXT_texture_filter_anisotropic,"EXT_texture_filter_anisotropic")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsElementIndexUint",{get:function(){return this.OES_element_index_uint_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"elementIndexUint",{get:function(){return this.extension(this.OES_element_index_uint,"OES_element_index_uint")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsStandardDerivatives",{get:function(){return this.OES_standard_derivatives_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"standardDerivatives",{get:function(){return this.extension(this.OES_standard_derivatives,"OES_standard_derivatives")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsTextureFloat",{get:function(){return this.OES_texture_float_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"textureFloat",{get:function(){return this.extension(this.OES_texture_float,"OES_texture_float")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsTextureFloatLinear",{get:function(){return this.OES_texture_float_linear_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"textureFloatLinear",{get:function(){return this.extension(this.OES_texture_float_linear,"OES_texture_float_linear")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsTextureHalfFloat",{get:function(){return this.OES_texture_half_float_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"textureHalfFloat",{get:function(){return this.extension(this.OES_texture_half_float,"OES_texture_half_float")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsTextureHalfFloatLinear",{get:function(){return this.OES_texture_half_float_linear_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"textureHalfFloatLinear",{get:function(){return this.extension(this.OES_texture_half_float_linear,"OES_texture_half_float_linear")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsVertexArrayObject",{get:function(){return this.OES_vertex_array_object_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"vertexArrayObject",{get:function(){return this.extension(this.OES_vertex_array_object,"OES_vertex_array_object")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsColorBufferFloat",{get:function(){switch(this._backend){case s.BackendType.WebGL1:return this.WEBGL_color_buffer_float_supported;case s.BackendType.WebGL2:return this.EXT_color_buffer_float_supported;default:return}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"colorBufferFloat",{get:function(){switch(this._backend){case s.BackendType.WebGL1:return this.extension(this.WEBGL_color_buffer_float,"WEBGL_color_buffer_float");case s.BackendType.WebGL2:return this.extension(this.EXT_color_buffer_float,"EXT_color_buffer_float");default:return}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsCompressedTextureASTC",{get:function(){return this.WEBGL_compressed_texture_astc_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"compressedTextureASTC",{get:function(){return this.extension(this.WEBGL_compressed_texture_astc,"WEBGL_compressed_texture_astc")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsCompressedTextureATC",{get:function(){return this.WEBGL_compressed_texture_atc_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"compressedTextureATC",{get:function(){return this.extension(this.WEBGL_compressed_texture_atc,"WEBGL_compressed_texture_atc")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsCompressedTextureETC",{get:function(){return this.WEBGL_compressed_texture_etc_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"compressedTextureETC",{get:function(){return this.extension(this.WEBGL_compressed_texture_etc,"WEBGL_compressed_texture_etc")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsCompressedTextureETC1",{get:function(){return this.WEBGL_compressed_texture_etc1_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"compressedTextureETC1",{get:function(){return this.extension(this.WEBGL_compressed_texture_etc1,"WEBGL_compressed_texture_etc1")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsCompressedTexturePVRTC",{get:function(){return this.WEBGL_compressed_texture_pvrtc_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"compressedTexturePVRTC",{get:function(){return this.extension(this.WEBGL_compressed_texture_pvrtc,"WEBGL_compressed_texture_pvrtc")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsCompressedTextureS3TC",{get:function(){return this.WEBGL_compressed_texture_s3tc_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"compressedTextureS3TC",{get:function(){return this.extension(this.WEBGL_compressed_texture_s3tc,"WEBGL_compressed_texture_s3tc")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsCompressedTextureS3TCSRGB",{get:function(){return this.WEBGL_compressed_texture_s3tc_srgb_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"compressedTextureS3TCSRGB",{get:function(){return this.extension(this.WEBGL_compressed_texture_s3tc_srgb,"WEBGL_compressed_texture_s3tc_srgb")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsDebugRendererInfo",{get:function(){return this.WEBGL_debug_renderer_info_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"debugRendererInfo",{get:function(){return this.extension(this.WEBGL_debug_renderer_info,"WEBGL_debug_renderer_info")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsDebugShaders",{get:function(){return this.WEBGL_debug_shaders_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"debugShaders",{get:function(){return this.extension(this.WEBGL_debug_shaders,"WEBGL_debug_shaders")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsDepthTexture",{get:function(){return this.WEBGL_depth_texture_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"depthTexture",{get:function(){return this.extension(this.WEBGL_depth_texture,"WEBGL_depth_texture")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsDrawBuffers",{get:function(){return this.WEBGL_draw_buffers_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"drawBuffers",{get:function(){return this.extension(this.WEBGL_draw_buffers,"WEBGL_draw_buffers")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsLoseContext",{get:function(){return this.WEBGL_lose_context_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"loseContext",{get:function(){return this.extension(this.WEBGL_lose_context,"WEBGL_lose_context")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsBlitFramebuffer",{get:function(){return this._context.blitFramebuffer!==void 0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsReadBuffer",{get:function(){return this._context.readBuffer!==void 0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsTexImage3D",{get:function(){return this._context.texImage3D!==void 0},enumerable:!0,configurable:!0}),s.prototype.param=function(u){return h.assert(!!this._context,"expected context to be valid"),this._context.getParameter(u)},s.prototype.hash=function(){return c.ExtensionsHash.encode(this._backend,this._extensions)},s.prototype.about=function(){if(this._backend===s.BackendType.Invalid)return new Array;h.assert(!!this._context,"expected context to be valid");var u=this._context,f=new Array;f.push(["BACKEND (GLOPERATE)",this.backend]),f.push(["CONTEXT_HASH (GLOPERATE)",this.hash()]),f.push(["RENDERER",this.param(u.RENDERER)]),f.push(["VENDOR",this.param(u.VENDOR)]),f.push(["VERSION",this.param(u.VERSION)]),f.push(["SHADING_LANGUAGE_VERSION",this.param(u.SHADING_LANGUAGE_VERSION)]),f.push(["UNMASKED_VENDOR_WEBGL",this.supportsDebugRendererInfo?this.param(this.debugRendererInfo.UNMASKED_VENDOR_WEBGL):"na"]),f.push(["UNMASKED_RENDERER_WEBGL",this.supportsDebugRendererInfo?this.param(this.debugRendererInfo.UNMASKED_RENDERER_WEBGL):"na"]),f.push(["ALPHA (ATTRIBUTE)",String(this.alpha)]),f.push(["ANTIALIAS (ATTRIBUTE)",String(this.antialias)]),f.push(["DEPTH (ATTRIBUTE)",String(this.depth)]),f.push(["FAIL_IF_MAJOR_PERFORMANCE_CAVEAT (ATTRIBUTE)",String(this.failIfMajorPerformanceCaveat)]),f.push(["PREMULTIPLIED_ALPHA (ATTRIBUTE)",String(this.premultipliedAlpha)]),f.push(["PRESERVE_DRAWING_BUFFER (ATTRIBUTE)",String(this.preserveDrawingBuffer)]),f.push(["STENCIL (ATTRIBUTE)",String(this.stencil)]),f.push(["DEVICE_PIXEL_RATIO (WINDOW)",window.devicePixelRatio]),f.push(["APP_CODE_NAME (NAVIGATOR)",window.navigator.appCodeName]),f.push(["APP_NAME (NAVIGATOR)",window.navigator.appName]),f.push(["APP_VERSION (NAVIGATOR)",window.navigator.appVersion]),f.push(["PLATFORM (NAVIGATOR)",window.navigator.platform]),f.push(["HARDWARE_CONCURRENCY (NAVIGATOR)",window.navigator.appCodeName]),f.push(["VENDOR (NAVIGATOR)",window.navigator.vendor]),f.push(["VENDOR_SUB (NAVIGATOR)",window.navigator.vendorSub]),f.push(["MAX_COMBINED_TEXTURE_IMAGE_UNITS",this.param(u.MAX_COMBINED_TEXTURE_IMAGE_UNITS)]),f.push(["MAX_CUBE_MAP_TEXTURE_SIZE",this.param(u.MAX_CUBE_MAP_TEXTURE_SIZE)]),f.push(["MAX_FRAGMENT_UNIFORM_VECTORS",this.param(u.MAX_FRAGMENT_UNIFORM_VECTORS)]),f.push(["MAX_RENDERBUFFER_SIZE",this.param(u.MAX_RENDERBUFFER_SIZE)]),f.push(["MAX_TEXTURE_IMAGE_UNITS",this.param(u.MAX_TEXTURE_IMAGE_UNITS)]),f.push(["MAX_TEXTURE_SIZE",this.param(u.MAX_TEXTURE_SIZE)]),f.push(["MAX_VARYING_VECTORS",this.param(u.MAX_VARYING_VECTORS)]),f.push(["MAX_VERTEX_ATTRIBS",this.param(u.MAX_VERTEX_ATTRIBS)]),f.push(["MAX_VERTEX_TEXTURE_IMAGE_UNITS",this.param(u.MAX_VERTEX_TEXTURE_IMAGE_UNITS)]),f.push(["MAX_VERTEX_UNIFORM_VECTORS",this.param(u.MAX_VERTEX_UNIFORM_VECTORS)]);var m=this.param(u.MAX_VIEWPORT_DIMS);if(f.push(["MAX_VIEWPORT_DIMS (WIDTH)",m?m[0]:null]),f.push(["MAX_VIEWPORT_DIMS (HEIGHT)",m?m[1]:null]),this.isWebGL2){var y=this._context;f.push(["MAX_3D_TEXTURE_SIZE",this.param(y.MAX_3D_TEXTURE_SIZE)]),f.push(["MAX_ARRAY_TEXTURE_LAYERS",this.param(y.MAX_ARRAY_TEXTURE_LAYERS)]),f.push(["MAX_CLIENT_WAIT_TIMEOUT_WEBGL",this.param(y.MAX_CLIENT_WAIT_TIMEOUT_WEBGL)]),f.push(["MAX_COLOR_ATTACHMENTS",this.param(y.MAX_COLOR_ATTACHMENTS)]),f.push(["MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",this.param(y.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS)]),f.push(["MAX_COMBINED_UNIFORM_BLOCKS",this.param(y.MAX_COMBINED_UNIFORM_BLOCKS)]),f.push(["MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",this.param(y.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS)]),f.push(["MAX_DRAW_BUFFERS",this.param(y.MAX_DRAW_BUFFERS)]),f.push(["MAX_ELEMENT_INDEX",this.param(y.MAX_ELEMENT_INDEX)]),f.push(["MAX_ELEMENTS_INDICES",this.param(y.MAX_ELEMENTS_INDICES)]),f.push(["MAX_ELEMENTS_VERTICES",this.param(y.MAX_ELEMENTS_VERTICES)]),f.push(["MAX_FRAGMENT_INPUT_COMPONENTS",this.param(y.MAX_FRAGMENT_INPUT_COMPONENTS)]),f.push(["MAX_FRAGMENT_UNIFORM_BLOCKS",this.param(y.MAX_FRAGMENT_UNIFORM_BLOCKS)]),f.push(["MAX_FRAGMENT_UNIFORM_COMPONENTS",this.param(y.MAX_FRAGMENT_UNIFORM_COMPONENTS)]),f.push(["MAX_PROGRAM_TEXEL_OFFSET",this.param(y.MAX_PROGRAM_TEXEL_OFFSET)]),f.push(["MAX_SAMPLES",this.param(y.MAX_SAMPLES)]),f.push(["MAX_SERVER_WAIT_TIMEOUT",this.param(y.MAX_SERVER_WAIT_TIMEOUT)]),f.push(["MAX_TEXTURE_LOD_BIAS",this.param(y.MAX_TEXTURE_LOD_BIAS)]),f.push(["MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",this.param(y.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS)]),f.push(["MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",this.param(y.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS)]),f.push(["MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",this.param(y.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS)]),f.push(["MAX_UNIFORM_BLOCK_SIZE",this.param(y.MAX_UNIFORM_BLOCK_SIZE)]),f.push(["MAX_UNIFORM_BUFFER_BINDINGS",this.param(y.MAX_UNIFORM_BUFFER_BINDINGS)]),f.push(["MAX_VARYING_COMPONENTS",this.param(y.MAX_VARYING_COMPONENTS)]),f.push(["MAX_VERTEX_OUTPUT_COMPONENTS",this.param(y.MAX_VERTEX_OUTPUT_COMPONENTS)]),f.push(["MAX_VERTEX_UNIFORM_BLOCKS",this.param(y.MAX_VERTEX_UNIFORM_BLOCKS)]),f.push(["MAX_VERTEX_UNIFORM_COMPONENTS",this.param(y.MAX_VERTEX_UNIFORM_COMPONENTS)]),f.push(["MIN_PROGRAM_TEXEL_OFFSET",this.param(y.MIN_PROGRAM_TEXEL_OFFSET)])}if(this.isWebGL1)for(var b=0,E=d.WEBGL1_EXTENSIONS;b<E.length;b++){var x=E[b];f.push([x,this.supports(x)?"ok":"na"])}else if(this.isWebGL2){for(var w=0,S=d.WEBGL2_DEFAULT_EXTENSIONS;w<S.length;w++)x=S[w],f.push([x+" (default)","ok"]);for(var P=0,A=d.WEBGL2_EXTENSIONS;P<A.length;P++)x=A[P],f.push([x,this.supports(x)?"ok":"na"])}return f},s.prototype.aboutString=function(){for(var u=this.about(),f=0,m=0,y=u;m<y.length;m++){var b=y[m];f=Math.max(b[0].length,f)}for(var E=0,x="",w=this.isWebGL2?63+d.WEBGL2_DEFAULT_EXTENSIONS.length:-1,S=0,P=u;S<P.length;S++){switch(b=P[S],E){case 2:case 6:case 8:case 15:case 16:case 23:case 35:case 63:case w:x+=`
`}x+="  "+b[0]+" "+"-".repeat(f-b[0].length)+"-- "+b[1]+`
`,++E}return x+`
`},s.prototype.logAbout=function(u){u===void 0&&(u=h.LogLevel.Info),h.log(u,`context.about

`+this.aboutString())},s.prototype.logAboutIf=function(u,f){f===void 0&&(f=h.LogLevel.Info),h.logIf(u,f,`context.about

`+this.aboutString())},s.prototype.byteSizeOfFormat=function(u){return g.byteSizeOfFormat(this,u)},s.DEFAULT_ATTRIBUTES={alpha:!0,antialias:!1,depth:!0,failIfMajorPerformanceCaveat:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,stencil:!1},s}();o.Context=l,function(s){(function(u){u.Invalid="invalid",u.WebGL1="webgl1",u.WebGL2="webgl2"})(s.BackendType||(s.BackendType={})),function(u){u.auto="auto",u.webgl="webgl",u.experimental="experimental-webgl",u.webgl1="webgl1",u.experimental1="experimental-webgl1",u.webgl2="webgl2",u.experimental2="experimental-webgl2"}(s.BackendRequestType||(s.BackendRequestType={}))}(l=o.Context||(o.Context={})),o.Context=l},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(0),g=i(42),p=function(){function v(){}return v.encode64=function(d){return h.assert(d>=0&&d<=63,"expected bitfield in range [ 0b000000, 0b111111 ], given "+d),v.BASE64_ALPHABET[d]},v.decode64=function(d){h.assert(d.length===1,"expected single base64 character, given '"+d+"'");var c=v.BASE64_ALPHABET.indexOf(d);return h.assert(c>-1,"unknown base64 character, given '"+d+"'"),c},v.encode=function(d,c){var a=v.LATEST_VERSION,l=v.EXTENSIONS_BY_VERSION.get(a),s=v.WEBGL_BACKENDS.indexOf(d);h.assert(s>-1,"expected valid backend "+v.WEBGL_BACKENDS+", given "+d+" ");var u=v.encode64(a<<3|s+1);if(c.length===0)return u;for(var f=0,m=0;m<l.length;++m)f|=c.indexOf(l[m])>-1?32>>m%6:0,m%6<5&&m<l.length-1||(u+=v.encode64(f),f=0);return u},v.decode=function(d){var c=v.decode64(d[0]),a=c>>3,l=(7&c)-1;h.assert(l<v.WEBGL_BACKENDS.length,"expected valid backend index, given "+l);var s=v.WEBGL_BACKENDS[l];h.assert(v.EXTENSIONS_BY_VERSION.has(a),"expected valid hash version, given "+a);var u=v.EXTENSIONS_BY_VERSION.get(a),f=Math.ceil(u.length/6)+1;h.assert(d.length===f,"expected hash of version "+a+" to have a length of "+f+", given "+d);for(var m=new Array,y=1;y<d.length;++y){var b=v.decode64(d[y]),E=6*(y-1);32&b&&m.push(u[E+0]),16&b&&m.push(u[E+1]),8&b&&m.push(u[E+2]),4&b&&m.push(u[E+3]),2&b&&m.push(u[E+4]),1&b&&m.push(u[E+5])}return[s,m]},v.complement=function(d,c){var a=v.WEBGL_BACKENDS.indexOf(d);return h.assert(a>-1,"expected valid backend "+v.WEBGL_BACKENDS+", given "+d+" "),v.WEBGL_EXTENSIONS_BY_BACKEND.get(a).filter(function(l){return c.indexOf(l)<0})},v.WEBGL_BACKENDS=["webgl1","webgl2"],v.WEBGL_EXTENSIONS_BY_BACKEND=new Map([[0,g.WEBGL1_EXTENSIONS],[1,g.WEBGL2_EXTENSIONS]]),v.EXTENSIONS_BY_VERSION=new Map([[0,["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_shader_texture_lod","EXT_sRGB","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_astc","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_debug_renderer_info","WEBGL_debug_shaders","WEBGL_depth_texture","WEBGL_draw_buffers","WEBGL_lose_context"]]]),v.LATEST_VERSION=0,v.BASE64_ALPHABET="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-+",v}();o.ExtensionsHash=p},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(10),g=i(0),p=i(44),v=function(){function d(c,a){g.assert(c!==void 0,"expected a valid eye gaze data streams object on initialization, given "+c+"."),this._eyeGazeDataStream=new p.EyeGazeDataStream,this._eyeGazeDataStream.eyeGazeDataStreams=c,this._eyeGazeDataStream.connect(a)}return d.prototype.preventDefaultOnEvent=function(c,a){g.bitInBitfield(this._preventDefaultMask,c)&&a.preventDefault()},d.prototype.allowDefault=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];for(var l=0,s=c;l<s.length;l++){var u=s[l];g.bitInBitfield(this._preventDefaultMask,u)&&(this._preventDefaultMask&=~u)}},d.prototype.preventDefault=function(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];for(var l=0,s=c;l<s.length;l++){var u=s[l];g.bitInBitfield(this._preventDefaultMask,u)||(this._preventDefaultMask|=u)}},d.prototype.observable=function(c){switch(c){case d.Type.EyeGazeData:return this.EyeGazeData$;case d.Type.NewServerMessage:return this.NewServerMessage$;case d.Type.ConnectionStatus:return this.ConnectionStatus$;case d.Type.BinaryMessageParsingError:return this.BinaryMessageParsingError$;default:return}},Object.defineProperty(d.prototype,"EyeGazeData$",{get:function(){var c=this;return this._eyeGazeDataSubject===void 0&&(this._eyeGazeDataSubject=new h.ReplaySubject(void 0,this._timeframe),this._eyeGazeDataListener=function(a){c.preventDefaultOnEvent(d.Type.EyeGazeData,a),c._eyeGazeDataSubject.next(a)},this._eyeGazeDataStream.addEventListener(p.EyeGazeDataStream.EYE_GAZE_DATA,this._eyeGazeDataListener)),this._eyeGazeDataSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"NewServerMessage$",{get:function(){var c=this;return this._newServerMessageSubject===void 0&&(this._newServerMessageSubject=new h.ReplaySubject(void 0,this._timeframe),this._newServerMessageListener=function(a){c.preventDefaultOnEvent(d.Type.NewServerMessage,a),c._newServerMessageSubject.next(a)},this._eyeGazeDataStream.addEventListener(p.EyeGazeDataStream.NEW_SERVER_MESSAGE,this._newServerMessageListener)),this._newServerMessageSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"ConnectionStatus$",{get:function(){var c=this;return this._connectionStatusSubject===void 0&&(this._connectionStatusSubject=new h.ReplaySubject(void 0,this._timeframe),this._connectionStatusListener=function(a){c.preventDefaultOnEvent(d.Type.ConnectionStatus,a),c._connectionStatusSubject.next(a)},this._eyeGazeDataStream.addEventListener(p.EyeGazeDataStream.CONNECTION_STATUS,this._connectionStatusListener)),this._connectionStatusSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"BinaryMessageParsingError$",{get:function(){var c=this;return this._binaryMessageParsingErrorSubject===void 0&&(this._binaryMessageParsingErrorSubject=new h.ReplaySubject(void 0,this._timeframe),this._binaryMessageParsingErrorListener=function(a){c.preventDefaultOnEvent(d.Type.BinaryMessageParsingError,a),c._binaryMessageParsingErrorSubject.next(a)},this._eyeGazeDataStream.addEventListener(p.EyeGazeDataStream.BINARY_MESSAGE_PARSING_ERROR,this._binaryMessageParsingErrorListener)),this._eyeGazeDataSubject.asObservable()},enumerable:!0,configurable:!0}),d}();o.EyeGazeEventProvider=v,function(d){(function(c){c[c.EyeGazeData=1]="EyeGazeData",c[c.NewServerMessage=2]="NewServerMessage",c[c.ConnectionStatus=4]="ConnectionStatus",c[c.BinaryMessageParsingError=8]="BinaryMessageParsingError"})(d.Type||(d.Type={}))}(v=o.EyeGazeEventProvider||(o.EyeGazeEventProvider={})),o.EyeGazeEventProvider=v},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(10),g=i(0),p=i(46),v=i(22),d=function(){function c(a,l){var s=this;this._pointerLockRequestPending=!1,g.assert(a!==void 0,"expected valid canvas element on initialization, given "+a),this._element=a,this._timeframe=l,this._element.addEventListener("click",function(){return s.processPointerLockRequests()}),(p.IS_EDGE||p.IS_IE11)&&this._element.addEventListener("dragstart",function(u){return u.preventDefault()})}return c.prototype.processPointerLockRequests=function(){this._pointerLockRequestPending&&v.PointerLock.request(this._element)},c.prototype.preventDefaultOnEvent=function(a,l){g.bitInBitfield(this._preventDefaultMask,a)&&l.preventDefault()},c.prototype.preventDefault=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];for(var s=0,u=a;s<u.length;s++){var f=u[s];g.bitInBitfield(this._preventDefaultMask,f)||(this._preventDefaultMask|=f)}},c.prototype.allowDefault=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];for(var s=0,u=a;s<u.length;s++){var f=u[s];g.bitInBitfield(this._preventDefaultMask,f)&&(this._preventDefaultMask&=~f)}},c.prototype.observable=function(a){switch(a){case c.Type.Click:return this.click$;case c.Type.Enter:return this.enter$;case c.Type.Leave:return this.leave$;case c.Type.Down:return this.down$;case c.Type.Up:return this.up$;case c.Type.Move:return this.move$;case c.Type.Wheel:return this.wheel$;case c.Type.Drag:return this.drag$;default:return}},Object.defineProperty(c.prototype,"pointerLock",{get:function(){return v.PointerLock.active(this._element)},set:function(a){this._pointerLockRequestPending=a,a===!1&&(this._pointerLockRequestPending=!1,v.PointerLock.exit())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"click$",{get:function(){var a=this;return this._clickSubject===void 0&&(this._clickSubject=new h.ReplaySubject(void 0,this._timeframe),this._clickListener=function(l){a.preventDefaultOnEvent(c.Type.Click,l),a._clickSubject.next(l)},this._element.addEventListener("click",this._clickListener)),this._clickSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"enter$",{get:function(){var a=this;return this._enterSubject===void 0&&(this._enterSubject=new h.ReplaySubject(void 0,this._timeframe),this._enterListener=function(l){a.preventDefaultOnEvent(c.Type.Enter,l),a._enterSubject.next(l)},this._element.addEventListener("mouseenter",this._enterListener)),this._enterSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"leave$",{get:function(){var a=this;return this._leaveSubject===void 0&&(this._leaveSubject=new h.ReplaySubject(void 0,this._timeframe),this._leaveListener=function(l){a.preventDefaultOnEvent(c.Type.Leave,l),a._leaveSubject.next(l)},this._element.addEventListener("mouseleave",this._leaveListener)),this._leaveSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"down$",{get:function(){var a=this;return this._downSubject===void 0&&(this._downSubject=new h.ReplaySubject(void 0,this._timeframe),this._downListener=function(l){a.preventDefaultOnEvent(c.Type.Down,l),a._downSubject.next(l)},this._element.addEventListener("mousedown",this._downListener)),this._downSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"up$",{get:function(){var a=this;return this._upSubject===void 0&&(this._upSubject=new h.ReplaySubject(void 0,this._timeframe),this._upListener=function(l){a.preventDefaultOnEvent(c.Type.Up,l),a._upSubject.next(l)},this._element.addEventListener("mouseup",this._upListener)),this._upSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"move$",{get:function(){var a=this;return this._moveSubject===void 0&&(this._moveSubject=new h.ReplaySubject(void 0,this._timeframe),this._moveListener=function(l){a.preventDefaultOnEvent(c.Type.Move,l),a._moveSubject.next(l)},this._element.addEventListener("mousemove",this._moveListener)),this._moveSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"wheel$",{get:function(){var a=this;return this._wheelSubject===void 0&&(this._wheelSubject=new h.ReplaySubject(void 0,this._timeframe),this._wheelListener=function(l){a.preventDefaultOnEvent(c.Type.Wheel,l),a._wheelSubject.next(l)},this._element.addEventListener("wheel",this._wheelListener)),this._wheelSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"drag$",{get:function(){var a=this;return this._dragSubject===void 0&&(this._dragSubject=new h.ReplaySubject(void 0,this._timeframe),this._dragListener=function(l){a.preventDefaultOnEvent(c.Type.Drag,l),a._dragSubject.next(l)},this._element.addEventListener("drag",this._dragListener)),this._dragSubject.asObservable()},enumerable:!0,configurable:!0}),c}();o.MouseEventProvider=d,function(c){(function(a){a[a.Click=1]="Click",a[a.Wheel=2]="Wheel",a[a.Enter=4]="Enter",a[a.Leave=8]="Leave",a[a.Move=16]="Move",a[a.Down=32]="Down",a[a.Up=64]="Up",a[a.Drag=128]="Drag"})(c.Type||(c.Type={}))}(d=o.MouseEventProvider||(o.MouseEventProvider={})),o.MouseEventProvider=d},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(10),g=i(0),p=i(46),v=i(22),d=function(){function c(a,l){var s=this;this._pointerLockRequestPending=!1,g.assert(a!==void 0,"expected valid canvas element on initialization, given "+a),this._element=a,this._timeframe=l,this._element.addEventListener("click",function(){return s.processPointerLockRequests()}),(p.IS_EDGE||p.IS_IE11)&&this._element.addEventListener("dragstart",function(u){return u.preventDefault()})}return c.prototype.processPointerLockRequests=function(){this._pointerLockRequestPending&&v.PointerLock.request(this._element)},c.prototype.preventDefaultOnEvent=function(a,l){g.bitInBitfield(this._preventDefaultMask,a)&&l.preventDefault()},c.prototype.preventDefault=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];for(var s=0,u=a;s<u.length;s++){var f=u[s];g.bitInBitfield(this._preventDefaultMask,f)||(this._preventDefaultMask|=f)}},c.prototype.allowDefault=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];for(var s=0,u=a;s<u.length;s++){var f=u[s];g.bitInBitfield(this._preventDefaultMask,f)&&(this._preventDefaultMask&=~f)}},c.prototype.observable=function(a){switch(a){case c.Type.Enter:return this.enter$;case c.Type.Leave:return this.leave$;case c.Type.Down:return this.down$;case c.Type.Up:return this.up$;case c.Type.Move:return this.move$;case c.Type.Cancel:return this.cancel$;default:return}},Object.defineProperty(c.prototype,"pointerLock",{get:function(){return v.PointerLock.active(this._element)},set:function(a){this._pointerLockRequestPending=a,a===!1&&(this._pointerLockRequestPending=!1,v.PointerLock.exit())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"enter$",{get:function(){var a=this;return this._enterSubject===void 0&&(this._enterSubject=new h.ReplaySubject(void 0,this._timeframe),this._enterListener=function(l){a.preventDefaultOnEvent(c.Type.Enter,l),a._enterSubject.next(l)},this._element.addEventListener("pointerenter",this._enterListener)),this._enterSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"leave$",{get:function(){var a=this;return this._leaveSubject===void 0&&(this._leaveSubject=new h.ReplaySubject(void 0,this._timeframe),this._leaveListener=function(l){a.preventDefaultOnEvent(c.Type.Leave,l),a._leaveSubject.next(l)},this._element.addEventListener("pointerleave",this._leaveListener)),this._leaveSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"down$",{get:function(){var a=this;return this._downSubject===void 0&&(this._downSubject=new h.ReplaySubject(void 0,this._timeframe),this._downListener=function(l){a.preventDefaultOnEvent(c.Type.Down,l),a._downSubject.next(l)},this._element.addEventListener("pointerdown",this._downListener)),this._downSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"up$",{get:function(){var a=this;return this._upSubject===void 0&&(this._upSubject=new h.ReplaySubject(void 0,this._timeframe),this._upListener=function(l){a.preventDefaultOnEvent(c.Type.Up,l),a._upSubject.next(l)},this._element.addEventListener("pointerup",this._upListener)),this._upSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"move$",{get:function(){var a=this;return this._moveSubject===void 0&&(this._moveSubject=new h.ReplaySubject(void 0,this._timeframe),this._moveListener=function(l){a.preventDefaultOnEvent(c.Type.Move,l),a._moveSubject.next(l)},this._element.addEventListener("pointermove",this._moveListener)),this._moveSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"cancel$",{get:function(){var a=this;return this._cancelSubject===void 0&&(this._cancelSubject=new h.ReplaySubject(void 0,this._timeframe),this._cancelListener=function(l){a.preventDefaultOnEvent(c.Type.Cancel,l),a._cancelSubject.next(l)},this._element.addEventListener("pointercancel",this._cancelListener)),this._cancelSubject.asObservable()},enumerable:!0,configurable:!0}),c}();o.PointerEventProvider=d,function(c){(function(a){a[a.Enter=1]="Enter",a[a.Leave=2]="Leave",a[a.Move=4]="Move",a[a.Down=8]="Down",a[a.Up=16]="Up",a[a.Cancel=32]="Cancel"})(c.Type||(c.Type={}))}(d=o.PointerEventProvider||(o.PointerEventProvider={})),o.PointerEventProvider=d},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(10),g=i(0),p=function(){function v(d,c){g.assert(d!==void 0,"expected valid canvas element on initialization, given "+d),this._element=d,this._timeframe=c}return v.prototype.preventDefaultOnEvent=function(d,c){g.bitInBitfield(this._preventDefaultMask,d)&&c.preventDefault()},v.prototype.preventDefault=function(){for(var d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];for(var a=0,l=d;a<l.length;a++){var s=l[a];g.bitInBitfield(this._preventDefaultMask,s)||(this._preventDefaultMask|=s)}},v.prototype.allowDefault=function(){for(var d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];for(var a=0,l=d;a<l.length;a++){var s=l[a];g.bitInBitfield(this._preventDefaultMask,s)&&(this._preventDefaultMask&=~s)}},v.prototype.observable=function(d){switch(d){case v.Type.Start:return this.start$;case v.Type.End:return this.end$;case v.Type.Move:return this.move$;case v.Type.Cancel:return this.cancel$}return g.assert(!1,"Encountered unknown touch event."),new h.Observable},Object.defineProperty(v.prototype,"start$",{get:function(){var d=this;return this._startSubject===void 0&&(this._startSubject=new h.ReplaySubject(void 0,this._timeframe),this._startListener=function(c){d.preventDefaultOnEvent(v.Type.Start,c),d._startSubject.next(c)},this._element.addEventListener("touchstart",this._startListener)),this._startSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"end$",{get:function(){var d=this;return this._endSubject===void 0&&(this._endSubject=new h.ReplaySubject(void 0,this._timeframe),this._endListener=function(c){d.preventDefaultOnEvent(v.Type.End,c),d._endSubject.next(c)},this._element.addEventListener("touchend",this._endListener)),this._endSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"move$",{get:function(){var d=this;return this._moveSubject===void 0&&(this._moveSubject=new h.ReplaySubject(void 0,this._timeframe),this._moveListener=function(c){d.preventDefaultOnEvent(v.Type.Move,c),d._moveSubject.next(c)},this._element.addEventListener("touchmove",this._moveListener)),this._moveSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"cancel$",{get:function(){var d=this;return this._cancelSubject===void 0&&(this._cancelSubject=new h.ReplaySubject(void 0,this._timeframe),this._cancelListener=function(c){d.preventDefaultOnEvent(v.Type.Cancel,c),d._cancelSubject.next(c)},this._element.addEventListener("touchcancel",this._cancelListener)),this._cancelSubject.asObservable()},enumerable:!0,configurable:!0}),v}();o.TouchEventProvider=p,function(v){(function(d){d[d.Start=1]="Start",d[d.End=2]="End",d[d.Move=4]="Move",d[d.Cancel=8]="Cancel"})(v.Type||(v.Type={}))}(p=o.TouchEventProvider||(o.TouchEventProvider={})),o.TouchEventProvider=p},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(1),g=i(0),p=i(29),v=i(30),d=i(31),c=i(32),a=function(){function l(s,u){this._subscriptions=new Array,this._latestMouseEventsByType=new Map,this._previousMouseEventsByType=new Map,this._mouseEventHandlerByType=new Map,this._latestTouchEventsByType=new Map,this._previousTouchEventsByType=new Map,this._touchEventHandlerByType=new Map,this._latestPointerEventsByType=new Map,this._previousPointerEventsByType=new Map,this._pointerEventHandlerByType=new Map,this._latestEyeGazeEventsByType=new Map,this._previousEyeGazeEventsByType=new Map,this._eyeGazeEventHandlerByType=new Map,this._invalidate=s,this._mouseEventProvider=u.mouseEventProvider,this._mouseEventProvider.preventDefault(v.MouseEventProvider.Type.Wheel),this._pointerEventProvider=u.pointerEventProvider,this._eyeGazeEventProvider=u.eyeGazeEventProvider}return l.prototype.invalidate=function(s){s===void 0&&(s=!1),this._invalidate&&this._invalidate(s)},l.prototype.pushMouseEventHandler=function(s,u){var f=this;if(this._mouseEventHandlerByType.has(s))this._mouseEventHandlerByType.get(s).push(u);else{this._mouseEventHandlerByType.set(s,new Array),this._previousMouseEventsByType.set(s,new Array);var m=new Array;this._latestMouseEventsByType.set(s,m),g.assert(this._mouseEventProvider!==void 0,"expected valid mouse event provider");var y=this._mouseEventProvider.observable(s);switch(s){case v.MouseEventProvider.Type.Wheel:default:this._subscriptions.push(y.subscribe(function(b){m.push(b),f.invalidate()}))}this._mouseEventHandlerByType.get(s).push(u)}},l.prototype.invokeMouseEventHandler=function(s){var u=this._mouseEventHandlerByType.get(s);if(u!==void 0&&u.length!==0){var f=this._latestMouseEventsByType.get(s);if(f.length!==0){var m=this._previousMouseEventsByType.get(s);u.forEach(function(y){return y(f,m)}),Object.assign(m,f),f.length=0}}},l.prototype.pushTouchEventHandler=function(s,u){var f=this;if(this._touchEventHandlerByType.has(s))this._touchEventHandlerByType.get(s).push(u);else{this._touchEventHandlerByType.set(s,new Array),this._previousTouchEventsByType.set(s,new Array);var m=new Array;this._latestTouchEventsByType.set(s,m),g.assert(this._touchEventProvider!==void 0,"expected valid touch event provider");var y=this._touchEventProvider.observable(s);this._subscriptions.push(y.subscribe(function(b){m.push(b),f.invalidate()})),this._touchEventHandlerByType.get(s).push(u)}},l.prototype.invokeTouchEventHandler=function(s){var u=this._touchEventHandlerByType.get(s);if(u!==void 0&&u.length!==0){var f=this._latestTouchEventsByType.get(s);if(f.length!==0){var m=this._previousTouchEventsByType.get(s);u.forEach(function(y){return y(f,m)}),Object.assign(m,f),f.length=0}}},l.prototype.pushPointerEventHandler=function(s,u){var f=this;if(this._pointerEventHandlerByType.has(s))this._pointerEventHandlerByType.get(s).push(u);else{this._pointerEventHandlerByType.set(s,new Array),this._previousPointerEventsByType.set(s,new Array);var m=new Array;this._latestPointerEventsByType.set(s,m),g.assert(this._pointerEventProvider!==void 0,"expected valid pointer event provider");var y=this._pointerEventProvider.observable(s);this._subscriptions.push(y.subscribe(function(b){m.push(b),f.invalidate()})),this._pointerEventHandlerByType.get(s).push(u)}},l.prototype.invokePointerEventHandler=function(s){var u=this._pointerEventHandlerByType.get(s);if(u!==void 0&&u.length!==0){var f=this._latestPointerEventsByType.get(s);if(f.length!==0){var m=this._previousPointerEventsByType.get(s);u.forEach(function(y){return y(f,m)}),Object.assign(m,f),f.length=0}}},l.prototype.pushEyeGazeEventHandler=function(s,u){var f=this;if(this._eyeGazeEventHandlerByType.has(s))this._eyeGazeEventHandlerByType.get(s).push(u);else{this._eyeGazeEventHandlerByType.set(s,new Array),this._previousEyeGazeEventsByType.set(s,new Array);var m=new Array;this._latestEyeGazeEventsByType.set(s,m),g.assert(this._eyeGazeEventProvider!==void 0,"expected valid eye gaze event provider");var y=this._eyeGazeEventProvider.observable(s);this._subscriptions.push(y.subscribe(function(b){m.push(b),f.invalidate()})),this._eyeGazeEventHandlerByType.get(s).push(u)}},l.prototype.invokeEyeGazeEventHandler=function(s){var u=this._eyeGazeEventHandlerByType.get(s);if(u!==void 0&&u.length!==0){var f=this._latestEyeGazeEventsByType.get(s);if(f.length!==0){var m=this._previousEyeGazeEventsByType.get(s);u.forEach(function(y){return y(f,m)}),Object.assign(m,f),f.length=0}}},l.prototype.dispose=function(){this._latestMouseEventsByType.forEach(function(f){return f.length=0}),this._previousMouseEventsByType.forEach(function(f){return f.length=0}),this._latestTouchEventsByType.forEach(function(f){return f.length=0}),this._previousTouchEventsByType.forEach(function(f){return f.length=0}),this._latestPointerEventsByType.forEach(function(f){return f.length=0}),this._previousPointerEventsByType.forEach(function(f){return f.length=0}),this._previousEyeGazeEventsByType.forEach(function(f){return f.length=0}),this._latestEyeGazeEventsByType.forEach(function(f){return f.length=0});for(var s=0,u=this._subscriptions;s<u.length;s++)u[s].unsubscribe()},l.prototype.update=function(){this.invokeMouseEventHandler(v.MouseEventProvider.Type.Click),this.invokeMouseEventHandler(v.MouseEventProvider.Type.Enter),this.invokeMouseEventHandler(v.MouseEventProvider.Type.Leave),this.invokeMouseEventHandler(v.MouseEventProvider.Type.Down),this.invokeMouseEventHandler(v.MouseEventProvider.Type.Up),this.invokeMouseEventHandler(v.MouseEventProvider.Type.Move),this.invokeMouseEventHandler(v.MouseEventProvider.Type.Wheel),this.invokeTouchEventHandler(c.TouchEventProvider.Type.Start),this.invokeTouchEventHandler(c.TouchEventProvider.Type.End),this.invokeTouchEventHandler(c.TouchEventProvider.Type.Move),this.invokeTouchEventHandler(c.TouchEventProvider.Type.Cancel),this.invokePointerEventHandler(d.PointerEventProvider.Type.Move),this.invokePointerEventHandler(d.PointerEventProvider.Type.Down),this.invokePointerEventHandler(d.PointerEventProvider.Type.Enter),this.invokePointerEventHandler(d.PointerEventProvider.Type.Up),this.invokePointerEventHandler(d.PointerEventProvider.Type.Leave),this.invokePointerEventHandler(d.PointerEventProvider.Type.Cancel),this.invokeEyeGazeEventHandler(p.EyeGazeEventProvider.Type.EyeGazeData),this.invokeEyeGazeEventHandler(p.EyeGazeEventProvider.Type.NewServerMessage),this.invokeEyeGazeEventHandler(p.EyeGazeEventProvider.Type.ConnectionStatus),this.invokeEyeGazeEventHandler(p.EyeGazeEventProvider.Type.BinaryMessageParsingError)},l.prototype.offsets=function(s,u){u===void 0&&(u=!0);var f=new Array,m=!1;if(s instanceof MouseEvent)m=(y=s).offsetX!==0&&y.offsetY!==0,f.push(m?h.vec2.fromValues(y.offsetX,y.offsetY):h.vec2.fromValues(y.clientX,y.clientY));else if(s instanceof WheelEvent)m=(y=s).offsetX!==0&&y.offsetY!==0,f.push(m?h.vec2.fromValues(y.offsetX,y.offsetY):h.vec2.fromValues(y.clientX,y.clientY));else if(s instanceof TouchEvent)for(var y=s,b=0;b<y.touches.length;++b){var E=y.touches.item(b);f.push(h.vec2.fromValues(E.clientX,E.clientY))}if(m){if(u)for(var x=0,w=f;x<w.length;x++){var S=w[x];h.vec2.scale(S,S,window.devicePixelRatio)}return f}for(var P=(s.target||s.currentTarget||s.srcElement).getBoundingClientRect(),A=0,L=f;A<L.length;A++)(S=L[A])[0]=Math.floor(S[0]-P.left),S[1]=Math.floor(S[1]-P.top),u&&h.vec2.scale(S,S,window.devicePixelRatio);return f},l.prototype.pushClickHandler=function(s){this.pushMouseEventHandler(v.MouseEventProvider.Type.Click,s)},l.prototype.pushMouseEnterHandler=function(s){this.pushMouseEventHandler(v.MouseEventProvider.Type.Enter,s)},l.prototype.pushMouseLeaveHandler=function(s){this.pushMouseEventHandler(v.MouseEventProvider.Type.Leave,s)},l.prototype.pushMouseDownHandler=function(s){this.pushMouseEventHandler(v.MouseEventProvider.Type.Down,s)},l.prototype.pushMouseUpHandler=function(s){this.pushMouseEventHandler(v.MouseEventProvider.Type.Up,s)},l.prototype.pushMouseMoveHandler=function(s){this.pushMouseEventHandler(v.MouseEventProvider.Type.Move,s)},l.prototype.pushMouseWheelHandler=function(s){this.pushMouseEventHandler(v.MouseEventProvider.Type.Wheel,s)},l.prototype.pushTouchStartHandler=function(s){this.pushTouchEventHandler(c.TouchEventProvider.Type.Start,s)},l.prototype.pushTouchEndHandler=function(s){this.pushTouchEventHandler(c.TouchEventProvider.Type.End,s)},l.prototype.pushTouchMoveHandler=function(s){this.pushTouchEventHandler(c.TouchEventProvider.Type.Move,s)},l.prototype.pushTouchCancelHandler=function(s){this.pushTouchEventHandler(c.TouchEventProvider.Type.Cancel,s)},l.prototype.pushPointerUpHandler=function(s){this.pushPointerEventHandler(d.PointerEventProvider.Type.Up,s)},l.prototype.pushPointerDownHandler=function(s){this.pushPointerEventHandler(d.PointerEventProvider.Type.Down,s)},l.prototype.pushPointerEnterHandler=function(s){this.pushPointerEventHandler(d.PointerEventProvider.Type.Enter,s)},l.prototype.pushPointerLeaveHandler=function(s){this.pushPointerEventHandler(d.PointerEventProvider.Type.Leave,s)},l.prototype.pushPointerMoveHandler=function(s){this.pushPointerEventHandler(d.PointerEventProvider.Type.Move,s)},l.prototype.pushPointerCancelHandler=function(s){this.pushPointerEventHandler(d.PointerEventProvider.Type.Cancel,s)},l.prototype.pushEyeGazeDataHandler=function(s){this.pushEyeGazeEventHandler(p.EyeGazeEventProvider.Type.EyeGazeData,s)},l.prototype.pushEyeGazeServerMessageHandler=function(s){this.pushEyeGazeEventHandler(p.EyeGazeEventProvider.Type.NewServerMessage,s)},l.prototype.pushEyeGazeConnectionStatusHandler=function(s){this.pushEyeGazeEventHandler(p.EyeGazeEventProvider.Type.ConnectionStatus,s)},l.prototype.pushEyeGazeBinaryMessageParsingErrorHandler=function(s){this.pushEyeGazeEventHandler(p.EyeGazeEventProvider.Type.BinaryMessageParsingError,s)},l.prototype.requestPointerLock=function(){this._mouseEventProvider&&(this._mouseEventProvider.pointerLock=!0)},l.prototype.exitPointerLock=function(){this._mouseEventProvider&&(this._mouseEventProvider.pointerLock=!1)},l}();o.EventHandler=a},function(n,o,i){var h,g=i(47);(function(p){var v=function(d,c){return"fetching '"+d+"' failed ("+c.status+"): "+c.statusText};p.fetchAsync=function(d,c){return new Promise(function(a,l){var s=new XMLHttpRequest;s.open("GET",d,!0),s.responseType=c,s.onload=function(){s.status<200||s.status>=300?l(v(d,s)):a(s.response)},s.onerror=function(){return l(v(d,s))},s.ontimeout=function(){return l(v(d,s))},s.send()})},p.fetchJsonAsync=function(d,c,a){return new Promise(function(l,s){var u=new XMLHttpRequest;u.open("GET",d,!0),u.onload=function(){if(u.status<200||u.status>=300)s(v(d,u));else{var f=u.responseText;if(a===void 0||g.validate(f,a)){var m;try{m=JSON.parse(f)}catch(b){return void s("fetching '"+d+"' failed ("+b.name+"): "+b.message)}var y=c(m);y!==void 0?l(y):s("fetching '"+d+"' failed (TransformError): transforming the object failed.")}}},u.onerror=function(){return s(v(d,u))},u.ontimeout=function(){return s(v(d,u))},u.send()})}})(h||(h={})),n.exports=h},function(n,o,i){var h=i(91),g=i(94);function p(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}o.parse=w,o.resolve=function(S,P){return w(S,!1,!0).resolve(P)},o.resolveObject=function(S,P){return S?w(S,!1,!0).resolveObject(P):P},o.format=function(S){return g.isString(S)&&(S=w(S)),S instanceof p?S.format():p.prototype.format.call(S)},o.Url=p;var v=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,a=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),l=["'"].concat(a),s=["%","/","?",";","#"].concat(l),u=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=i(95);function w(S,P,A){if(S&&g.isObject(S)&&S instanceof p)return S;var L=new p;return L.parse(S,P,A),L}p.prototype.parse=function(S,P,A){if(!g.isString(S))throw new TypeError("Parameter 'url' must be a string, not "+typeof S);var L=S.indexOf("?"),k=L!==-1&&L<S.indexOf("#")?"?":"#",D=S.split(k);D[0]=D[0].replace(/\\/g,"/");var N=S=D.join(k);if(N=N.trim(),!A&&S.split("#").length===1){var W=c.exec(N);if(W)return this.path=N,this.href=N,this.pathname=W[1],W[2]?(this.search=W[2],this.query=P?x.parse(this.search.substr(1)):this.search.substr(1)):P&&(this.search="",this.query={}),this}var H=v.exec(N);if(H){var q=(H=H[0]).toLowerCase();this.protocol=q,N=N.substr(H.length)}if(A||H||N.match(/^\/\/[^@\/]+@[^@\/]+/)){var X=N.substr(0,2)==="//";!X||H&&b[H]||(N=N.substr(2),this.slashes=!0)}if(!b[H]&&(X||H&&!E[H])){for(var Y,J,ee=-1,te=0;te<u.length;te++)(ne=N.indexOf(u[te]))!==-1&&(ee===-1||ne<ee)&&(ee=ne);for((J=ee===-1?N.lastIndexOf("@"):N.lastIndexOf("@",ee))!==-1&&(Y=N.slice(0,J),N=N.slice(J+1),this.auth=decodeURIComponent(Y)),ee=-1,te=0;te<s.length;te++){var ne;(ne=N.indexOf(s[te]))!==-1&&(ee===-1||ne<ee)&&(ee=ne)}ee===-1&&(ee=N.length),this.host=N.slice(0,ee),N=N.slice(ee),this.parseHost(),this.hostname=this.hostname||"";var fe=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!fe)for(var _e=this.hostname.split(/\./),ye=(te=0,_e.length);te<ye;te++){var re=_e[te];if(re&&!re.match(f)){for(var be="",Ae=0,pe=re.length;Ae<pe;Ae++)re.charCodeAt(Ae)>127?be+="x":be+=re[Ae];if(!be.match(f)){var Pe=_e.slice(0,te),xe=_e.slice(te+1),Re=re.match(m);Re&&(Pe.push(Re[1]),xe.unshift(Re[2])),xe.length&&(N="/"+xe.join(".")+N),this.hostname=Pe.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),fe||(this.hostname=h.toASCII(this.hostname));var he=this.port?":"+this.port:"",Se=this.hostname||"";this.host=Se+he,this.href+=this.host,fe&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),N[0]!=="/"&&(N="/"+N))}if(!y[q])for(te=0,ye=l.length;te<ye;te++){var Ce=l[te];if(N.indexOf(Ce)!==-1){var Te=encodeURIComponent(Ce);Te===Ce&&(Te=escape(Ce)),N=N.split(Ce).join(Te)}}var Ie=N.indexOf("#");Ie!==-1&&(this.hash=N.substr(Ie),N=N.slice(0,Ie));var Me=N.indexOf("?");if(Me!==-1?(this.search=N.substr(Me),this.query=N.substr(Me+1),P&&(this.query=x.parse(this.query)),N=N.slice(0,Me)):P&&(this.search="",this.query={}),N&&(this.pathname=N),E[q]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){he=this.pathname||"";var Ue=this.search||"";this.path=he+Ue}return this.href=this.format(),this},p.prototype.format=function(){var S=this.auth||"";S&&(S=(S=encodeURIComponent(S)).replace(/%3A/i,":"),S+="@");var P=this.protocol||"",A=this.pathname||"",L=this.hash||"",k=!1,D="";this.host?k=S+this.host:this.hostname&&(k=S+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(k+=":"+this.port)),this.query&&g.isObject(this.query)&&Object.keys(this.query).length&&(D=x.stringify(this.query));var N=this.search||D&&"?"+D||"";return P&&P.substr(-1)!==":"&&(P+=":"),this.slashes||(!P||E[P])&&k!==!1?(k="//"+(k||""),A&&A.charAt(0)!=="/"&&(A="/"+A)):k||(k=""),L&&L.charAt(0)!=="#"&&(L="#"+L),N&&N.charAt(0)!=="?"&&(N="?"+N),P+k+(A=A.replace(/[?#]/g,function(W){return encodeURIComponent(W)}))+(N=N.replace("#","%23"))+L},p.prototype.resolve=function(S){return this.resolveObject(w(S,!1,!0)).format()},p.prototype.resolveObject=function(S){if(g.isString(S)){var P=new p;P.parse(S,!1,!0),S=P}for(var A=new p,L=Object.keys(this),k=0;k<L.length;k++){var D=L[k];A[D]=this[D]}if(A.hash=S.hash,S.href==="")return A.href=A.format(),A;if(S.slashes&&!S.protocol){for(var N=Object.keys(S),W=0;W<N.length;W++){var H=N[W];H!=="protocol"&&(A[H]=S[H])}return E[A.protocol]&&A.hostname&&!A.pathname&&(A.path=A.pathname="/"),A.href=A.format(),A}if(S.protocol&&S.protocol!==A.protocol){if(!E[S.protocol]){for(var q=Object.keys(S),X=0;X<q.length;X++){var Y=q[X];A[Y]=S[Y]}return A.href=A.format(),A}if(A.protocol=S.protocol,S.host||b[S.protocol])A.pathname=S.pathname;else{for(var J=(S.pathname||"").split("/");J.length&&!(S.host=J.shift()););S.host||(S.host=""),S.hostname||(S.hostname=""),J[0]!==""&&J.unshift(""),J.length<2&&J.unshift(""),A.pathname=J.join("/")}if(A.search=S.search,A.query=S.query,A.host=S.host||"",A.auth=S.auth,A.hostname=S.hostname||S.host,A.port=S.port,A.pathname||A.search){var ee=A.pathname||"",te=A.search||"";A.path=ee+te}return A.slashes=A.slashes||S.slashes,A.href=A.format(),A}var ne=A.pathname&&A.pathname.charAt(0)==="/",fe=S.host||S.pathname&&S.pathname.charAt(0)==="/",_e=fe||ne||A.host&&S.pathname,ye=_e,re=A.pathname&&A.pathname.split("/")||[],be=(J=S.pathname&&S.pathname.split("/")||[],A.protocol&&!E[A.protocol]);if(be&&(A.hostname="",A.port=null,A.host&&(re[0]===""?re[0]=A.host:re.unshift(A.host)),A.host="",S.protocol&&(S.hostname=null,S.port=null,S.host&&(J[0]===""?J[0]=S.host:J.unshift(S.host)),S.host=null),_e=_e&&(J[0]===""||re[0]==="")),fe)A.host=S.host||S.host===""?S.host:A.host,A.hostname=S.hostname||S.hostname===""?S.hostname:A.hostname,A.search=S.search,A.query=S.query,re=J;else if(J.length)re||(re=[]),re.pop(),re=re.concat(J),A.search=S.search,A.query=S.query;else if(!g.isNullOrUndefined(S.search))return be&&(A.hostname=A.host=re.shift(),(Re=!!(A.host&&A.host.indexOf("@")>0)&&A.host.split("@"))&&(A.auth=Re.shift(),A.host=A.hostname=Re.shift())),A.search=S.search,A.query=S.query,g.isNull(A.pathname)&&g.isNull(A.search)||(A.path=(A.pathname?A.pathname:"")+(A.search?A.search:"")),A.href=A.format(),A;if(!re.length)return A.pathname=null,A.search?A.path="/"+A.search:A.path=null,A.href=A.format(),A;for(var Ae=re.slice(-1)[0],pe=(A.host||S.host||re.length>1)&&(Ae==="."||Ae==="..")||Ae==="",Pe=0,xe=re.length;xe>=0;xe--)(Ae=re[xe])==="."?re.splice(xe,1):Ae===".."?(re.splice(xe,1),Pe++):Pe&&(re.splice(xe,1),Pe--);if(!_e&&!ye)for(;Pe--;Pe)re.unshift("..");!_e||re[0]===""||re[0]&&re[0].charAt(0)==="/"||re.unshift(""),pe&&re.join("/").substr(-1)!=="/"&&re.push("");var Re,he=re[0]===""||re[0]&&re[0].charAt(0)==="/";return be&&(A.hostname=A.host=he?"":re.length?re.shift():"",(Re=!!(A.host&&A.host.indexOf("@")>0)&&A.host.split("@"))&&(A.auth=Re.shift(),A.host=A.hostname=Re.shift())),(_e=_e||A.host&&re.length)&&!he&&re.unshift(""),re.length?A.pathname=re.join("/"):(A.pathname=null,A.path=null),g.isNull(A.pathname)&&g.isNull(A.search)||(A.path=(A.pathname?A.pathname:"")+(A.search?A.search:"")),A.auth=S.auth||A.auth,A.slashes=A.slashes||S.slashes,A.href=A.format(),A},p.prototype.parseHost=function(){var S=this.host,P=d.exec(S);P&&((P=P[0])!==":"&&(this.port=P.substr(1)),S=S.substr(0,S.length-P.length)),S&&(this.hostname=S)}},function(n,o,i){var h=i(35),g=i(16);function p(v,d){this.id=v,this.ref=d}n.exports.SchemaScanResult=p,n.exports.scan=function(v,d){function c(f,m){if(m&&typeof m=="object")if(m.$ref){var y=h.resolve(f,m.$ref);u[y]=u[y]?u[y]+1:0}else{var b=m.id?h.resolve(f,m.id):f;if(b){if(b.indexOf("#")<0&&(b+="#"),s[b]){if(!g.deepCompareStrict(s[b],m))throw new Error("Schema <"+m+"> already exists with different definition");return s[b]}s[b]=m,b[b.length-1]=="#"&&(s[b.substring(0,b.length-1)]=m)}a(b+"/items",Array.isArray(m.items)?m.items:[m.items]),a(b+"/extends",Array.isArray(m.extends)?m.extends:[m.extends]),c(b+"/additionalItems",m.additionalItems),l(b+"/properties",m.properties),c(b+"/additionalProperties",m.additionalProperties),l(b+"/definitions",m.definitions),l(b+"/patternProperties",m.patternProperties),l(b+"/dependencies",m.dependencies),a(b+"/disallow",m.disallow),a(b+"/allOf",m.allOf),a(b+"/anyOf",m.anyOf),a(b+"/oneOf",m.oneOf),c(b+"/not",m.not)}}function a(f,m){if(Array.isArray(m))for(var y=0;y<m.length;y++)c(f+"/"+y,m[y])}function l(f,m){if(m&&typeof m=="object")for(var y in m)c(f+"/"+y,m[y])}var s={},u={};return c(v,d),new p(s,u)}},function(n,o,i){var h,g=this&&this.__extends||(h=function(u,f){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)y.hasOwnProperty(b)&&(m[b]=y[b])})(u,f)},function(u,f){function m(){this.constructor=u}h(u,f),u.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)});Object.defineProperty(o,"__esModule",{value:!0});var p=i(0),v=function(){function u(f,m,y,b){y===void 0&&(y=1),b===void 0&&(b=1),this._components=f,this._width=isNaN(m)?1:Math.max(1,m),this._height=Math.max(1,y),this._depth=Math.max(1,b),this.resize()}return u.prototype.get=function(f,m,y){var b;switch(b=m===void 0&&y===void 0?this._components*f:this.index(f,m,y||0),p.assert(b<this.length,"index expected to be in range [0, "+(this.length-1)+"], given "+b),this._components){case 1:return[this._samples[b]];case 2:return[this._samples[b],this._samples[b+1]];case 3:return[this._samples[b],this._samples[b+1],this._samples[b+2]];case 4:return[this._samples[b],this._samples[b+1],this._samples[b+2],this._samples[b+3]]}},u.prototype.set=function(f,m,y,b){var E;switch(p.assert(f.length===this._components,"number of components expected to be "+this._components+", given "+f.length),E=y===void 0&&b===void 0?this._components*Math.min(this.elements,Math.max(0,m)):this._components*this.index(m,y,b||0),p.assert(E<this.length,"index expected to be in range [0, "+(this.length-1)+"], given "+E),this._components){case 4:this._samples[E+3]=f[3];case 3:this._samples[E+2]=f[2];case 2:this._samples[E+1]=f[1];case 1:this._samples[E+0]=f[0]}},u.prototype.fromJSON=function(f){p.assert(f.size&&f.size.width!==void 0&&f.size.height!==void 0&&f.size.depth!==void 0,"expected kernel width, height, and depth to be set, given '"+f.size+"'");var m=function(b){return b.reduce(function(E,x){return E.concat(Array.isArray(x)?m(x):x)},[])};this._width=Math.max(1,f.size.width),this._height=Math.max(1,f.size.height),this._depth=Math.max(1,f.size.depth);var y=m(f.kernel);this._components=Math.floor(y.length/this.elements),this.resize(),this.fromArray(y)},u.prototype.index=function(f,m,y){return m===void 0&&(m=0),y===void 0&&(y=0),this._width*(this._height*Math.min(this._depth,Math.max(0,y))+Math.min(this._height,Math.max(0,m)))+Math.min(this._width,Math.max(0,f))},u.prototype.position=function(f){var m=Math.min(this.elements,Math.max(0,f)),y=Math.floor(m/(this._width*this._height));m-=y*this._width*this._height;var b=Math.floor(m/this._width);return[m-=b*this._width,b,y]},u.prototype.sort=function(f){if(!(this.elements<2)){for(var m=Array(this.elements),y=0;y<this.elements;++y){var b=0;switch(f){default:case u.SortApproach.BySquaredLength:for(var E=0;E<this._components;++E){var x=this._samples[y*this._components+E];b+=x*x}}m[y]=[y,b]}switch(f){default:case u.SortApproach.BySquaredLength:m.sort(function(A,L){return A[1]-L[1]})}var w=this._samples.slice();for(y=0;y<m.length;++y)for(E=0;E<this._components;++E){var S=m[y][0]*this._components+E,P=y*this._components+E;this._samples[P]=w[S]}}},Object.defineProperty(u.prototype,"samples",{get:function(){return this._samples},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"length",{get:function(){return this._width*this._height*this._depth*this._components},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"elements",{get:function(){var f=this._width*this._height*this._depth;return isNaN(f)?0:f},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"components",{get:function(){return this._components},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"depth",{get:function(){return this._depth},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"xStride",{get:function(){return this.bytesPerComponent*this._components},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"yStride",{get:function(){return this.bytesPerComponent*this._components*this._width},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"zStride",{get:function(){return this.bytesPerComponent*this._components*this._width*this._depth},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"bytesLength",{get:function(){return this.bytesPerComponent*this._components*this._width*this._height*this._depth},enumerable:!0,configurable:!0}),u}();o.AbstractKernel=v,function(u){(function(f){f[f.BySquaredLength=0]="BySquaredLength"})(u.SortApproach||(u.SortApproach={}))}(v=o.AbstractKernel||(o.AbstractKernel={})),o.AbstractKernel=v;var d=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return g(f,u),f.prototype.resize=function(){this._samples=new Float32Array(this.length)},f.prototype.fromArray=function(m){p.assert(m.length===this.length,"expected samples length to match this kernel's length"),this._samples.set(new Float32Array(m))},Object.defineProperty(f.prototype,"bytesPerComponent",{get:function(){return 4},enumerable:!0,configurable:!0}),f}(v);o.KernelF32=d;var c=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return g(f,u),f.prototype.resize=function(){this._samples=new Uint32Array(this.length)},f.prototype.fromArray=function(m){p.assert(m.length===this.length,"expected samples length to match this kernel's length"),this._samples.set(new Uint32Array(m))},Object.defineProperty(f.prototype,"bytesPerComponent",{get:function(){return 4},enumerable:!0,configurable:!0}),f}(v);o.KernelUI32=c;var a=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return g(f,u),f.prototype.resize=function(){this._samples=new Int32Array(this.length)},f.prototype.fromArray=function(m){p.assert(m.length===this.length,"expected samples length to match this kernel's length"),this._samples.set(new Int32Array(m))},Object.defineProperty(f.prototype,"bytesPerComponent",{get:function(){return 4},enumerable:!0,configurable:!0}),f}(v);o.KernelI32=a;var l=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return g(f,u),f.prototype.resize=function(){this._samples=new Uint8Array(this.length)},f.prototype.fromArray=function(m){p.assert(m.length===this.length,"expected samples length to match this kernel's length"),this._samples.set(new Uint8Array(m))},Object.defineProperty(f.prototype,"bytesPerComponent",{get:function(){return 4},enumerable:!0,configurable:!0}),f}(v);o.KernelUI8=l;var s=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return g(f,u),f.prototype.resize=function(){this._samples=new Int8Array(this.length)},f.prototype.fromArray=function(m){p.assert(m.length===this.length,"expected samples length to match this kernel's length"),this._samples.set(new Int8Array(m))},Object.defineProperty(f.prototype,"bytesPerComponent",{get:function(){return 4},enumerable:!0,configurable:!0}),f}(v);o.KernelI8=s},function(n,o,i){var h,g=this&&this.__extends||(h=function(m,y){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,E){b.__proto__=E}||function(b,E){for(var x in E)E.hasOwnProperty(x)&&(b[x]=E[x])})(m,y)},function(m,y){function b(){this.constructor=m}h(m,y),m.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}),p=this&&this.__decorate||function(m,y,b,E){var x,w=arguments.length,S=w<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,b):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(m,y,b,E);else for(var P=m.length-1;P>=0;P--)(x=m[P])&&(S=(w<3?x(S):w>3?x(y,b,S):x(y,b))||S);return w>3&&S&&Object.defineProperty(y,b,S),S};Object.defineProperty(o,"__esModule",{value:!0});var v=i(1),d=i(0),c=i(3),a=i(2),l=i(12),s=i(6),u=i(7),f=function(m){function y(b){var E=m.call(this)||this;return E._enforceProgramBlit=!1,E._ndcTriangleShared=!1,E._context=b,E}return g(y,m),y.prototype.functionBlit=function(){var b=this._context.gl;this._target.bind(b.DRAW_FRAMEBUFFER),this._framebuffer.bind(b.READ_FRAMEBUFFER),b.readBuffer(this._readBuffer),b.drawBuffers([this._drawBuffer]),b.enable(b.SCISSOR_TEST),b.scissor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT),b.disable(b.SCISSOR_TEST);var E=this._srcBounds?this._srcBounds:[0,0,this._framebuffer.width,this._framebuffer.height],x=this._dstBounds?this._dstBounds:[0,0,this._target.width,this._target.height];b.blitFramebuffer(E[0],E[1],E[2],E[3],x[0],x[1],x[2],x[3],b.COLOR_BUFFER_BIT,this._filter),this._framebuffer.unbind(b.READ_FRAMEBUFFER),this._target.unbind(b.DRAW_FRAMEBUFFER)},y.prototype.programBlit=function(){this._program===void 0&&this.createProgram(),d.assert(this._ndcTriangle&&this._ndcTriangle.initialized,"expected an initialized ndc triangle");var b=this._context.gl,E=this._srcBounds?this._srcBounds:v.vec4.fromValues(0,0,this._framebuffer.width,this._framebuffer.height),x=this._dstBounds?this._dstBounds:v.vec4.fromValues(0,0,this._target.width,this._target.height),w=v.vec4.div(c.v4(),E,[this._framebuffer.width,this._framebuffer.height,this._framebuffer.width,this._framebuffer.height]),S=v.vec4.div(c.v4(),x,[this._target.width,this._target.height,this._target.width,this._target.height]);b.viewport(x[0],x[1],x[2]-x[0],x[3]-x[1]),b.disable(b.DEPTH_TEST),b.depthMask(!1),this._program.bind(),b.uniform4fv(this._uSrcBounds,w),b.uniform4fv(this._uDstBounds,S),b.uniform1i(this._uNearest,this.filter===b.nearest);var P=this._framebuffer.texture(this._readBuffer);P.bind(b.TEXTURE0);var A=this._context.isWebGL2?b.DRAW_FRAMEBUFFER:b.FRAMEBUFFER;this._target.bind(A),this._ndcTriangle.bind(),this._ndcTriangle.draw(),this._ndcTriangle.unbind(),this._target.unbind(A),P.unbind(),b.enable(b.DEPTH_TEST),b.depthMask(!0)},y.prototype.createProgram=function(){d.assert(this._program===void 0,"expected blit program to be undefined before its creation");var b=this._context.gl,E=new u.Shader(this._context,b.VERTEX_SHADER,"blit.vert (blit)");E.initialize(i(63));var x=new u.Shader(this._context,b.FRAGMENT_SHADER,"blit.frag (blit)");return x.initialize(i(109)),this._program=new s.Program(this._context,"BlitProgram"),this._program.initialize([E,x],!1),this._ndcTriangle.initialized||this._ndcTriangle.initialize(),this._program.attribute("a_vertex",this._ndcTriangle.vertexLocation),this._program.link(),this._uSrcBounds=this._program.uniform("u_srcBounds"),this._uDstBounds=this._program.uniform("u_dstBounds"),this._uNearest=this._program.uniform("u_nearest"),this._program.bind(),b.uniform1i(this._program.uniform("u_source"),0),this._program.unbind(),this._program.valid},y.prototype.initialize=function(b){var E=this._context.gl;return b===void 0?this._ndcTriangle=new l.NdcFillingTriangle(this._context,"NdcFillingTriangle-Blit"):(this._ndcTriangle=b,this._ndcTriangleShared=!0),this._filter=E.NEAREST,!0},y.prototype.uninitialize=function(){!this._ndcTriangleShared&&this._ndcTriangle.initialized&&this._ndcTriangle.uninitialize(),this._program.uninitialize()},y.prototype.frame=function(){d.logIf(!this._target||!this._target.valid,d.LogLevel.Warning,"valid target expected, given "+this._target),d.logIf(!this._framebuffer||!this._framebuffer.valid,d.LogLevel.Warning,"valid framebuffer for blitting from expected, given "+this._framebuffer);var b=this._context.gl;switch(this._readBuffer){case b.DEPTH_ATTACHMENT:case b.STENCIL_ATTACHMENT:case b.DEPTH_STENCIL_ATTACHMENT:return this.programBlit()}if(this._context.supportsBlitFramebuffer&&this._enforceProgramBlit===!1)return this.functionBlit();this.programBlit()},Object.defineProperty(y.prototype,"framebuffer",{set:function(b){this.assertInitialized(),this._framebuffer=b},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"readBuffer",{set:function(b){this.assertInitialized(),this._readBuffer=b},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"drawBuffer",{set:function(b){this.assertInitialized(),this._drawBuffer=b},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"target",{set:function(b){this.assertInitialized(),this._target=b},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"filter",{set:function(b){this._filter=b},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"srcBounds",{set:function(b){this._srcBounds=b?v.vec4.clone(b):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"dstBounds",{set:function(b){this._dstBounds=b?v.vec4.clone(b):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"enforceProgramBlit",{set:function(b){this._enforceProgramBlit=b},enumerable:!0,configurable:!0}),p([a.Initializable.initialize()],y.prototype,"initialize",null),p([a.Initializable.uninitialize()],y.prototype,"uninitialize",null),p([a.Initializable.assert_initialized()],y.prototype,"frame",null),y}(a.Initializable);o.BlitPass=f},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=function(){function g(p){this._type=p}return Object.defineProperty(g.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),g}();o.SceneNodeComponent=h},function(n,o,i){function h(j){for(var Z in j)o.hasOwnProperty(Z)||(o[Z]=j[Z])}Object.defineProperty(o,"__esModule",{value:!0});var g=i(82);o.branch=g.branch,o.commit=g.commit,o.version=g.version;var p=i(27);o.Context=p.Context;var v=i(86);o.Canvas=v.Canvas;var d=i(43);o.Controller=d.Controller;var c=i(2);o.Initializable=c.Initializable;var a=i(41);o.ContextMasquerade=a.ContextMasquerade;var l=i(28);o.ExtensionsHash=l.ExtensionsHash;var s=i(15);o.ChangeLookup=s.ChangeLookup;var u=i(30);o.MouseEventProvider=u.MouseEventProvider;var f=i(32);o.TouchEventProvider=f.TouchEventProvider;var m=i(31);o.PointerEventProvider=m.PointerEventProvider;var y=i(33);o.EventHandler=y.EventHandler;var b=i(5);o.Buffer=b.Buffer;var E=i(21);o.Color=E.Color;var x=i(88);o.ColorScale=x.ColorScale;var w=i(48);o.DefaultFramebuffer=w.DefaultFramebuffer;var S=i(17);o.Framebuffer=S.Framebuffer;var P=i(9);o.Geometry=P.Geometry;var A=i(6);o.Program=A.Program;var L=i(23);o.Renderbuffer=L.Renderbuffer;var k=i(50);o.Renderer=k.Renderer,o.LoadingStatus=k.LoadingStatus;var D=i(7);o.Shader=D.Shader;var N=i(4);o.Texture2D=N.Texture2D;var W=i(100);o.Texture3D=W.Texture3D;var H=i(51);o.TextureCube=H.TextureCube;var q=i(101);o.UnifiedBuffer=q.UnifiedBuffer;var X=i(49);o.VertexArray=X.VertexArray;var Y=i(14);o.Wizard=Y.Wizard;var J=i(52);o.Camera=J.Camera;var ee=i(102);o.TileCameraGenerator=ee.TileCameraGenerator;var te=i(11);o.CameraModifier=te.CameraModifier;var ne=i(103);o.Navigation=ne.Navigation;var fe=i(53);o.FirstPersonModifier=fe.FirstPersonModifier;var _e=i(54);o.PanModifier=_e.PanModifier;var ye=i(22);o.PointerLock=ye.PointerLock;var re=i(56);o.TrackballModifier=re.TrackballModifier;var be=i(57);o.TurntableModifier=be.TurntableModifier;var Ae=i(55);o.PinchZoomModifier=Ae.PinchZoomModifier;var pe=i(58);o.WheelZoomModifier=pe.WheelZoomModifier;var Pe=i(104);o.NdcFillingRectangle=Pe.NdcFillingRectangle;var xe=i(12);o.NdcFillingTriangle=xe.NdcFillingTriangle;var Re=i(37);o.AbstractKernel=Re.AbstractKernel;var he=i(59);o.AntiAliasingKernel=he.AntiAliasingKernel;var Se=i(60);o.RandomSquareKernel=Se.RandomSquareKernel;var Ce=i(37);o.KernelF32=Ce.KernelF32,o.KernelI32=Ce.KernelI32,o.KernelI8=Ce.KernelI8,o.KernelUI32=Ce.KernelUI32,o.KernelUI8=Ce.KernelUI8;var Te=i(61);o.AccumulatePass=Te.AccumulatePass;var Ie=i(38);o.BlitPass=Ie.BlitPass;var Me=i(110);o.DebugPass=Me.DebugPass;var Ue=i(112);o.EnvironmentRenderingPass=Ue.EnvironmentRenderingPass,o.EnvironmentTextureType=Ue.EnvironmentTextureType;var Ne=i(114);o.ReadbackPass=Ne.ReadbackPass;var Ye=i(64);o.GaussFilter=Ye.GaussFilter;var ke=i(118);o.ShadowPass=ke.ShadowPass;var He=i(44);o.EyeGazeDataStream=He.EyeGazeDataStream,o.EyeGazeDataStreams=He.EyeGazeDataStreams;var et=i(29);o.EyeGazeEventProvider=et.EyeGazeEventProvider;var Le=i(45);o.EyeGazeData=Le.EyeGazeData,h(i(65)),h(i(25)),h(i(127));var Ke=i(0);o.auxiliaries=Ke;var U=i(1);o.vec2=U.vec2,o.vec3=U.vec3,o.vec4=U.vec4;var C=i(1);o.mat2=C.mat2,o.mat2d=C.mat2d,o.mat3=C.mat3,o.mat4=C.mat4;var M=i(1);o.quat=M.quat;var z=i(3);o.gl_matrix_extensions=z;var V=i(13);o.tuples=V},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(0),g=i(28),p=function(){function v(){this._extensionsStrive=new Array,this._extensionsConceal=new Array,this._functionsUndefine=new Array}return v.fromHash=function(d){var c=new v,a=g.ExtensionsHash.decode(d);return c._backend=a[0],c._extensionsStrive=a[1],c._extensionsConceal=g.ExtensionsHash.complement(c._backend,c._extensionsStrive),c},v.fromPreset=function(d){for(var c,a=new v,l=new Array,s=0,u=v.presets();s<u.length;s++){var f=u[s];if(l.push(f.identifier),f.identifier===d){c=f;break}}if(c===void 0&&h.assert(!1,"expected valid identifier, available ['"+l.join("', '")+"'], given '"+d+"'"),(c=c).extensions_hash!==void 0){var m=g.ExtensionsHash.decode(c.extensions_hash);a._backend=m[0],a._extensionsStrive=m[1]}else a._backend=c.backend;return h.assert(a._backend!==void 0,"expected backend to be included in preset"),c.extensions_strive===void 0?(a._extensionsStrive=[],a._extensionsConceal=c.extensions_conceal?c.extensions_conceal:[]):(a._extensionsStrive=c.extensions_strive,a._extensionsConceal=g.ExtensionsHash.complement(a._backend,c.extensions_strive)),a._functionsUndefine=c.functions_undefine?c.functions_undefine:[],a},v.fromGET=function(){var d=h.GETparameter("msqrd_h");if(d!==void 0)return v.fromHash(d);var c=h.GETparameter("msqrd_p");return c!==void 0?v.fromPreset(c):void 0},v.presets=function(){return this.MASQUERADE_JSON},Object.defineProperty(v.prototype,"backend",{get:function(){return this._backend},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"extensionsStrive",{get:function(){return this._extensionsStrive},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"extensionsConceal",{get:function(){return this._extensionsConceal},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"functionsUndefine",{get:function(){return this._functionsUndefine},enumerable:!0,configurable:!0}),v.MASQUERADE_JSON=i(84),v}();o.ContextMasquerade=p},function(n,o,i){var h;(function(g){g.WEBGL1_EXTENSIONS=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_astc","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_debug_renderer_info","WEBGL_debug_shaders","WEBGL_depth_texture","WEBGL_draw_buffers","WEBGL_lose_context"],g.WEBGL2_EXTENSIONS=["EXT_color_buffer_float","EXT_disjoint_timer_query_webgl2","EXT_texture_filter_anisotropic","OES_texture_float_linear","OES_texture_half_float_linear","WEBGL_compressed_texture_astc","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_debug_renderer_info","WEBGL_debug_shaders","WEBGL_lose_context"],g.WEBGL2_DEFAULT_EXTENSIONS=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_half_float","OES_vertex_array_object","WEBGL_depth_texture","WEBGL_draw_buffers"]})(h||(h={})),n.exports=h},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(10),g=i(0),p=i(3),v=function(){function d(){this._batchSize=1,this._multiFrameNumber=1,this._multiFrameNumberSubject=new h.ReplaySubject(1),this._debugFrameNumber=0,this._debugFrameNumberSubject=new h.ReplaySubject(1),this._frameNumber=0,this._frameNumberSubject=new h.ReplaySubject(1),this._multiFrameDelay=0,this._animationFrameID=0,this._block=!1,this._blockedUpdates=0,this._intermediateFrameCount=0,this._multiFrameCount=0,this._intermediateFrameTimes=new Array(2),this._multiTime=[0,0],this._invalidated=!1,this._force=!1}return Object.defineProperty(d.prototype,"debug",{set:function(c){c&&g.logVerbosity()<g.LogLevel.Debug&&(g.logVerbosity(g.LogLevel.Debug),g.log(g.LogLevel.Debug,"changed log verbosity to "+g.LogLevel.Debug+" (debug)")),d._debug=c},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"batch",{set:function(c){g.log(g.LogLevel.Warning,"(adaptive) batch multi-frame rendering is experimental for now"),this._batchSize=Math.max(1,c)},enumerable:!0,configurable:!0}),d.prototype.request=function(c){var a=this;c===void 0&&(c=d.RequestType.Frame),this._animationFrameID=0,this._block?this._blockedUpdates++:this._animationFrameID=window.requestAnimationFrame(function(){return a.invoke(c)})},d.prototype.invoke=function(c){if(this._animationFrameID!==0){if(g.assert(this._controllable!==void 0,"frame sequence invoked without controllable set"),this._invalidated&&(this._invalidated=!1,(this.invokeUpdate()||this._force)&&(this._force=!1,this._frameNumber=0,this.cancelWaitMultiFrame(),this.invokePrepare())),c===d.RequestType.Frame&&this._frameNumber===1)return this._timeoutID===void 0&&this.startWaitMultiFrame(),void(this._animationFrameID=0);this.isMultiFrameFinished()?this._animationFrameID=0:(this.invokeFrameAndSwap(),this.request())}},d.prototype.invokeUpdate=function(){return g.logIf(d._debug,g.LogLevel.Debug,"c invoke update     | pending: '"+this._animationFrameID+"', mfnum: "+this._multiFrameNumber),this._controllable.update(this._multiFrameNumber)},d.prototype.invokePrepare=function(){g.logIf(d._debug,g.LogLevel.Debug,"c invoke prepare    |"),this._multiFrameTime=0,this._intermediateFrameTimes[0]=Number.MAX_VALUE,this._intermediateFrameTimes[1]=Number.MIN_VALUE,this._multiTime[0]=performance.now(),this._controllable.prepare(),this._multiTime[1]=performance.now();var c=this._multiTime[1]-this._multiTime[0];this._multiFrameTime=c,this._updateFrameTime=c},d.prototype.invokeFrameAndSwap=function(){g.logIf(d._debug,g.LogLevel.Debug,"c invoke frame      | pending: '"+this._animationFrameID+"'");var c=this._debugFrameNumber>0;g.assert(!c||this._frameNumber<this._debugFrameNumber,"frame number about to exceed debug-frame number");var a=performance.now(),l=Math.min(this._multiFrameNumber,this._frameNumber+this._batchSize);for(this._debugFrameNumber>0&&(l=Math.min(l,this._debugFrameNumber));this._frameNumber<l;++this._frameNumber)g.logIf(d._debug,g.LogLevel.Debug,"c -> frame          | frame: "+this._frameNumber),this._controllable.frame(this._frameNumber),++this._intermediateFrameCount;g.logIf(d._debug,g.LogLevel.Debug,"c -> swap           |"),this._controllable.swap(),this._multiTime[1]=performance.now();var s=this._multiTime[1]-a;this._multiFrameTime+=s,this._intermediateFrameTimes[0]=Math.min(this._intermediateFrameTimes[0],s),this._intermediateFrameTimes[1]=Math.max(this._intermediateFrameTimes[1],s),this.frameNumberNext()},d.prototype.startWaitMultiFrame=function(){var c=this;this._timeoutID=window.setTimeout(function(){c.request(d.RequestType.MultiFrame),c._timeoutID=void 0},this._multiFrameDelay)},d.prototype.cancelWaitMultiFrame=function(){this._timeoutID!==void 0&&(window.clearTimeout(this._timeoutID),this._timeoutID=void 0)},d.prototype.isMultiFrameFinished=function(){return this._debugFrameNumber>0?this._frameNumber===this._debugFrameNumber:this._frameNumber===this._multiFrameNumber},d.prototype.multiFrameNumberNext=function(){this._multiFrameNumberSubject.next(this._multiFrameNumber)},d.prototype.debugFrameNumberNext=function(){this._debugFrameNumberSubject.next(this._debugFrameNumber)},d.prototype.frameNumberNext=function(){this._frameNumberSubject.next(this._frameNumber)},d.prototype.update=function(c){c===void 0&&(c=!1),this._invalidated=!0,this._force=this._force||c,this._animationFrameID===0&&this.request()},d.prototype.block=function(){g.logIf(d._debug,g.LogLevel.Debug,"c block   "+(this._block?"(ignored) ":"          ")+"|"),this._block=!0},d.prototype.unblock=function(){g.logIf(d._debug,g.LogLevel.Debug,"c unblock "+(this._block?"          ":"(ignored) ")+"| blocked: #"+this._blockedUpdates),this._block&&(this._block=!1,this._blockedUpdates>0&&(this._blockedUpdates=0,this.update()))},d.prototype.cancel=function(){this._animationFrameID!==0&&(window.cancelAnimationFrame(this._animationFrameID),this._animationFrameID=0)},Object.defineProperty(d.prototype,"blocked",{get:function(){return this._block},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"controllable",{set:function(c){c!==this._controllable&&(this._controllable=c,this.update(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"multiFrameNumber",{get:function(){return this._multiFrameNumber},set:function(c){var a=Math.max(1,isNaN(c)?1:c);a!==this._multiFrameNumber&&(this._multiFrameNumber=a,this.multiFrameNumberNext(),g.logIf(a!==c,g.LogLevel.Debug,"multi-frame number adjusted to "+a+", given "+c),this.debugFrameNumber>this.multiFrameNumber?this.debugFrameNumber=this.multiFrameNumber:this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"multiFrameNumber$",{get:function(){return this._multiFrameNumberSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"debugFrameNumber",{get:function(){return this._debugFrameNumber},set:function(c){var a=p.clamp(isNaN(c)?0:c,0,this.multiFrameNumber);a!==this._debugFrameNumber&&(this._debugFrameNumber=a,this.debugFrameNumberNext(),g.logIf(a!==c,g.LogLevel.Debug,"debug-frame number adjusted to "+a+", given "+c),this.update(this.debugFrameNumber<this._frameNumber))},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"debugFrameNumber$",{get:function(){return this._debugFrameNumberSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"multiFrameDelay",{get:function(){return this._multiFrameDelay},set:function(c){var a=Math.max(0,c);a!==this._multiFrameDelay&&(this._multiFrameDelay=a)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"frameNumber",{get:function(){return this._frameNumber},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"frameNumber$",{get:function(){return this._frameNumberSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"intermediateFrameCount",{get:function(){return this._intermediateFrameCount},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"multiFrameCount",{get:function(){return this._multiFrameCount},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"averageFrameTime",{get:function(){return this._frameNumber===0?0:this._multiFrameTime/this._frameNumber},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"updateFrameTime",{get:function(){return this._updateFrameTime},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"minimumFrameTime",{get:function(){return this._intermediateFrameTimes[0]},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"maximumFrameTime",{get:function(){return this._intermediateFrameTimes[1]},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"multiFrameTime",{get:function(){return this._frameNumber===0?0:this._multiTime[1]-this._multiTime[0]},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"framesPerSecond",{get:function(){return this._frameNumber===0?0:1e3/(this.multiFrameTime/this._frameNumber)},enumerable:!0,configurable:!0}),d._debug=!1,d}();o.Controller=v,function(d){(function(c){c[c.Frame=0]="Frame",c[c.MultiFrame=1]="MultiFrame"})(d.RequestType||(d.RequestType={}))}(v=o.Controller||(o.Controller={})),o.Controller=v},function(n,o,i){var h,g=this&&this.__extends||(h=function(s,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var y in m)m.hasOwnProperty(y)&&(f[y]=m[y])})(s,u)},function(s,u){function f(){this.constructor=s}h(s,u),s.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}),p=this&&this.__awaiter||function(s,u,f,m){return new(f||(f=Promise))(function(y,b){function E(S){try{w(m.next(S))}catch(P){b(P)}}function x(S){try{w(m.throw(S))}catch(P){b(P)}}function w(S){var P;S.done?y(S.value):(P=S.value,P instanceof f?P:new f(function(A){A(P)})).then(E,x)}w((m=m.apply(s,u||[])).next())})},v=this&&this.__generator||function(s,u){var f,m,y,b,E={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return b={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function x(w){return function(S){return function(P){if(f)throw new TypeError("Generator is already executing.");for(;E;)try{if(f=1,m&&(y=2&P[0]?m.return:P[0]?m.throw||((y=m.return)&&y.call(m),0):m.next)&&!(y=y.call(m,P[1])).done)return y;switch(m=0,y&&(P=[2&P[0],y.value]),P[0]){case 0:case 1:y=P;break;case 4:return E.label++,{value:P[1],done:!1};case 5:E.label++,m=P[1],P=[0];continue;case 7:P=E.ops.pop(),E.trys.pop();continue;default:if(!((y=(y=E.trys).length>0&&y[y.length-1])||P[0]!==6&&P[0]!==2)){E=0;continue}if(P[0]===3&&(!y||P[1]>y[0]&&P[1]<y[3])){E.label=P[1];break}if(P[0]===6&&E.label<y[1]){E.label=y[1],y=P;break}if(y&&E.label<y[2]){E.label=y[2],E.ops.push(P);break}y[2]&&E.ops.pop(),E.trys.pop();continue}P=u.call(s,E)}catch(A){P=[6,A],m=0}finally{f=y=0}if(5&P[0])throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}([w,S])}}};Object.defineProperty(o,"__esModule",{value:!0});var d=i(45),c=function(s){function u(){return s!==null&&s.apply(this,arguments)||this}return g(u,s),u}(EventTarget);o.EyeGazeEventTarget=c;var a=function(){function s(){this._eyeGazeDataStreams=new l,this._eyeGazeEventTarget=new EventTarget}return s.prototype.generateStreamConfigByte=function(){var u=Uint8Array.from([0]);return this._eyeGazeDataStreams.gazePosition&&(u[0]=1|u[0]),this._eyeGazeDataStreams.gazeOrigin&&(u[0]=2|u[0]),this._eyeGazeDataStreams.eyePositionNormalized&&(u[0]=4|u[0]),this._eyeGazeDataStreams.headPositionAndRotation&&(u[0]=8|u[0]),this._eyeGazeDataStreams.userPresence&&(u[0]=16|u[0]),u},s.prototype.performHandshake=function(){this._eyeGazeDataStreams.recalculateNumberOfFloats();var u=this.generateStreamConfigByte();this._webSocket.send(u)},s.prototype.parseEyeTrackingData=function(u){if(u.length<this._eyeGazeDataStreams.expectedNumberOfFloats)return new CustomEvent(s.BINARY_MESSAGE_PARSING_ERROR);var f=0,m=new d.EyeGazeData;return this._eyeGazeDataStreams.gazePosition&&(m.gazePositionXY[0]=u[f++],m.gazePositionXY[1]=u[f++]),this._eyeGazeDataStreams.gazeOrigin&&(m.gazeOriginRightXYZ[0]=u[f++],m.gazeOriginRightXYZ[1]=u[f++],m.gazeOriginRightXYZ[2]=u[f++],m.gazeOriginLeftXYZ[0]=u[f++],m.gazeOriginLeftXYZ[1]=u[f++],m.gazeOriginLeftXYZ[2]=u[f++]),this._eyeGazeDataStreams.eyePositionNormalized&&(m.eyePositionRightNormalizedXYZ[0]=u[f++],m.eyePositionRightNormalizedXYZ[1]=u[f++],m.eyePositionRightNormalizedXYZ[2]=u[f++],m.eyePositionLeftNormalizedXYZ[0]=u[f++],m.eyePositionLeftNormalizedXYZ[1]=u[f++],m.eyePositionLeftNormalizedXYZ[2]=u[f++]),this._eyeGazeDataStreams.headPositionAndRotation&&(m.headPositionXYZ[0]=u[f++],m.headPositionXYZ[1]=u[f++],m.headPositionXYZ[2]=u[f++],m.headRotationXYZ[0]=u[f++],m.headRotationXYZ[1]=u[f++],m.headRotationXYZ[2]=u[f++]),this._eyeGazeDataStreams.userPresence&&(m.userPresence=u[f]!==0),new CustomEvent(s.EYE_GAZE_DATA,{detail:{eyeGazeData:m}})},s.prototype.onOpen=function(u){this.dispatchEvent(new CustomEvent(s.CONNECTION_STATUS,{detail:{message:s.SUCCESSFULLY_CONNECTED_TO_SERVER,event:u}})),this.performHandshake()},s.prototype.onClose=function(u){this.dispatchEvent(new CustomEvent(s.CONNECTION_STATUS,{detail:{message:s.DISCONNECTED_TO_SERVER,event:u}}))},s.prototype.onError=function(u){this.dispatchEvent(new CustomEvent(s.CONNECTION_STATUS,{detail:{message:s.CONNECTION_ERROR,event:u}}))},s.prototype.onMessage=function(u){return p(this,void 0,void 0,function(){var f,m;return v(this,function(y){switch(y.label){case 0:return typeof u.data=="string"?[3,2]:[4,u.data.arrayBuffer()];case 1:return f=y.sent(),m=new Float32Array(f),this.dispatchEvent(this.parseEyeTrackingData(m)),[3,3];case 2:this.dispatchEvent(new CustomEvent(s.NEW_SERVER_MESSAGE,{detail:{message:u.data}})),y.label=3;case 3:return[2]}})})},s.prototype.connect=function(u){var f=this;this._webSocket=new WebSocket(u),this._webSocket.onopen=function(m){f.onOpen(m)},this._webSocket.onclose=function(m){f.onClose(m)},this._webSocket.onerror=function(m){f.onError(m)},this._webSocket.onmessage=function(m){f.onMessage(m)}},s.prototype.addEventListener=function(u,f,m){this._eyeGazeEventTarget.addEventListener(u,f,m)},s.prototype.dispatchEvent=function(u){return this._eyeGazeEventTarget.dispatchEvent(u)},s.prototype.removeEventListener=function(u,f,m){this._eyeGazeEventTarget.removeEventListener(u,f,m)},Object.defineProperty(s.prototype,"connectionState",{get:function(){return this._webSocket.readyState},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"eyeGazeDataStreams",{get:function(){return this._eyeGazeDataStreams},set:function(u){this._eyeGazeDataStreams!==u&&(this._eyeGazeDataStreams=u)},enumerable:!0,configurable:!0}),s.EYE_GAZE_DATA="eyegazedata",s.NEW_SERVER_MESSAGE="newservermessage",s.CONNECTION_STATUS="connectionstatus",s.BINARY_MESSAGE_PARSING_ERROR="binarymessageparsingerror",s.SUCCESSFULLY_CONNECTED_TO_SERVER="successfully connected to server",s.DISCONNECTED_TO_SERVER="disconnected to server",s.CONNECTION_ERROR="connection error with server",s}();o.EyeGazeDataStream=a;var l=function(){function s(){this.gazePosition=!1,this.gazeOrigin=!1,this.eyePositionNormalized=!1,this.headPositionAndRotation=!1,this.userPresence=!1,this.expectedNumberOfFloats=0}return s.prototype.recalculateNumberOfFloats=function(){var u=0;this.gazePosition&&(u+=2),this.gazeOrigin&&(u+=6),this.eyePositionNormalized&&(u+=6),this.headPositionAndRotation&&(u+=6),this.userPresence&&(u+=1),this.expectedNumberOfFloats=u},s}();o.EyeGazeDataStreams=l},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=function(){function g(){this.gazePositionXY=[0,0],this.gazeOriginRightXYZ=[0,0,0],this.gazeOriginLeftXYZ=[0,0,0],this.eyePositionRightNormalizedXYZ=[0,0,0],this.eyePositionLeftNormalizedXYZ=[0,0,0],this.headPositionXYZ=[0,0,0],this.headRotationXYZ=[0,0,0],this.userPresence=!1}return g.prototype.toString=function(){var p="";return p+="Gaze Position: "+this.gazePositionXY+`
`,p+="Gaze Origin Right: "+this.gazeOriginRightXYZ+`
`,p+="Gaze Origin Left: "+this.gazeOriginLeftXYZ+`
`,p+="Eye Position Normalized Right: "+this.eyePositionRightNormalizedXYZ+`
`,p+="Eye Position Normalized Left: "+this.eyePositionLeftNormalizedXYZ+`
`,p+="Head Position: "+this.headPositionXYZ+`
`,(p+="Head Rotation: "+this.headRotationXYZ+`
`)+"User Presence: "+this.userPresence+`
`},g}();o.EyeGazeData=h},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.IS_IE11=typeof navigator=="undefined"?void 0:/MSIE 11|Windows/i.test(navigator.userAgent),o.IS_EDGE=typeof navigator=="undefined"?void 0:/Edge\/\d./i.test(navigator.userAgent)},function(n,o,i){var h,g,p=i(89),v=i(0);(g=h||(h={})).validate=function(d,c,a){var l=new p.Validator;if(a!==void 0)for(var s=0,u=a;s<u.length;s++){var f=u[s];l.addSchema(f[0],f[1])}var m=l.validate(d,c);return v.logIf(!m.valid,v.LogLevel.Warning,`schema expected to be valid:
`+m.toString()),m.valid},g.complement=function d(c,a){if(c!==void 0)switch(v.assert(a.hasOwnProperty("properties")&&a.type==="object"||a.hasOwnProperty("items")&&a.type==="array","expected schema to have 'properties' or 'items', given "+a),a.type){case"object":for(var l=a.properties,s=0,u=Object.getOwnPropertyNames(l);s<u.length;s++){var f=u[s],m=l[f],y=m.type==="object",b=c.hasOwnProperty(f),E=m.hasOwnProperty("properties"),x=m.hasOwnProperty("default");v.assert(E&&y||!E&&!y,"expected property '"+f+"' to be of type 'object', given '"+m.type+"'"),b&&E?d(c[f],m):!b&&x&&Object.defineProperty(c,f,{value:m.default,writable:!0})}break;case"array":var w=a.items;if(w.type!=="object")break;for(var S=0,P=Object.getOwnPropertyNames(c);S<P.length;S++){var A=P[S];A!=="length"&&d(c[A],w)}}},g.compare=function d(c,a,l,s){s===void 0&&(s="");var u=l!==void 0;if(v.assert(!u||l.hasOwnProperty("any"),"expected allocation lookup object to have 'any' key"),c===void 0&&a!==void 0||c!==void 0&&a===void 0)return u&&l.alter(s),!0;var f=!0,m=[typeof c,typeof a],y=[c instanceof Array,a instanceof Array];if(!(y[0]&&y[1]||m[0]==="object"&&m[1]==="object"))return!(f=c===a)&&u&&l.alter(""+s),!f;for(var b=0,E=Array.from(new Set(Array().concat(Object.getOwnPropertyNames(c),Object.getOwnPropertyNames(a))).values());b<E.length;b++){var x=E[b];if(x!=="length"){var w=[c[x],a[x]];m=[typeof w[0],typeof w[1]];var S=s+(s.length>0&&!y[0]?".":"")+(y[0]?"":x);if(w[0]instanceof Array&&w[1]instanceof Array||m[0]==="object"&&m[1]==="object")f=f&&!d(w[0],w[1],l,S);else{if(m[0]===m[1]&&w[0]===w[1])continue;f=!1,u&&l.alter(S)}}}return!f},n.exports=h},function(n,o,i){var h,g=this&&this.__extends||(h=function(l,s){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var m in f)f.hasOwnProperty(m)&&(u[m]=f[m])})(l,s)},function(l,s){function u(){this.constructor=l}h(l,s),l.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}),p=this&&this.__decorate||function(l,s,u,f){var m,y=arguments.length,b=y<3?s:f===null?f=Object.getOwnPropertyDescriptor(s,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(l,s,u,f);else for(var E=l.length-1;E>=0;E--)(m=l[E])&&(b=(y<3?m(b):y>3?m(s,u,b):m(s,u))||b);return y>3&&b&&Object.defineProperty(s,u,b),b};Object.defineProperty(o,"__esModule",{value:!0});var v=i(0),d=i(17),c=i(2),a=function(l){function s(){return l!==null&&l.apply(this,arguments)||this}return g(s,l),s.prototype.create=function(){return this._object=d.Framebuffer.DEFAULT_FRAMEBUFFER,this._valid=!0,this._clearColors=new Array(1),this._clearDepth=1,this._clearStencil=0,this.clear=this.es2Clear,this._object},s.prototype.delete=function(){this._object=void 0,this._valid=!1},s.prototype.hasAttachment=function(u){return!1},s.prototype.bind=function(u){u===void 0&&(u=this.context.gl.FRAMEBUFFER),this.context.gl.bindFramebuffer(u,this._object)},s.prototype.clearColor=function(u){l.prototype.clearColor.call(this,u)},s.prototype.resize=function(){v.assert(!1,"the default framebuffer cannot be resized directly")},Object.defineProperty(s.prototype,"width",{get:function(){return this.context.gl.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"height",{get:function(){return this.context.gl.canvas.height},enumerable:!0,configurable:!0}),p([c.Initializable.assert_initialized()],s.prototype,"bind",null),s}(d.Framebuffer);o.DefaultFramebuffer=a},function(n,o,i){var h,g=this&&this.__extends||(h=function(a,l){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)u.hasOwnProperty(f)&&(s[f]=u[f])})(a,l)},function(a,l){function s(){this.constructor=a}h(a,l),a.prototype=l===null?Object.create(l):(s.prototype=l.prototype,new s)}),p=this&&this.__decorate||function(a,l,s,u){var f,m=arguments.length,y=m<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,s):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(a,l,s,u);else for(var b=a.length-1;b>=0;b--)(f=a[b])&&(y=(m<3?f(y):m>3?f(l,s,y):f(l,s))||y);return m>3&&y&&Object.defineProperty(l,s,y),y};Object.defineProperty(o,"__esModule",{value:!0});var v=i(0),d=i(2),c=function(a){function l(){var s=a!==null&&a.apply(this,arguments)||this;return s._buffersBound=!1,s}return g(l,a),l.prototype.create=function(s,u){var f=this;if(this.context.isWebGL2||this.context.supportsVertexArrayObject){var m=this.context.gl2facade;this._object=m.createVertexArray(),this._valid=this._object!==void 0,this._bind=function(){m.bindVertexArray(f.object),f._buffersBound||(s(),f._buffersBound=!0)},this._unbind=function(){return m.bindVertexArray(l.DEFAULT_VERTEX_ARRAY)}}else this._bind=function(){return s()},this._unbind=function(){return u()},this._valid=!0;return this._object},l.prototype.delete=function(){this.context.isWebGL2||this.context.supportsVertexArrayObject?(v.assert(this._object!==void 0,"expected WebGLVertexArrayObject object"),this._context.gl2facade.deleteVertexArray(this._object),this._object=void 0,this._valid=!1,this._buffersBound=!1):this._valid=!1},l.prototype.bind=function(){this._bind()},l.prototype.unbind=function(){this._unbind()},l.prototype.invalidate=function(){this._buffersBound=!1},l.DEFAULT_VERTEX_ARRAY=void 0,p([d.Initializable.assert_initialized()],l.prototype,"bind",null),p([d.Initializable.assert_initialized()],l.prototype,"unbind",null),l}(i(8).AbstractObject);o.VertexArray=c},function(n,o,i){var h,g=this&&this.__extends||(h=function(b,E){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var S in w)w.hasOwnProperty(S)&&(x[S]=w[S])})(b,E)},function(b,E){function x(){this.constructor=b}h(b,E),b.prototype=E===null?Object.create(E):(x.prototype=E.prototype,new x)}),p=this&&this.__decorate||function(b,E,x,w){var S,P=arguments.length,A=P<3?E:w===null?w=Object.getOwnPropertyDescriptor(E,x):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(b,E,x,w);else for(var L=b.length-1;L>=0;L--)(S=b[L])&&(A=(P<3?S(A):P>3?S(E,x,A):S(E,x))||A);return P>3&&A&&Object.defineProperty(E,x,A),A};Object.defineProperty(o,"__esModule",{value:!0});var v,d=i(10),c=i(1),a=i(0),l=i(3),s=i(15),u=i(2),f=i(13),m=i(14);(function(b){b[b.Started=0]="Started",b[b.Finished=1]="Finished"})(v=o.LoadingStatus||(o.LoadingStatus={}));var y=function(b){function E(){var x=b!==null&&b.apply(this,arguments)||this;return x._altered=Object.assign(new s.ChangeLookup,{any:!1,multiFrameNumber:!1,frameSize:!1,canvasSize:!1,framePrecision:!1,clearColor:!1,debugTexture:!1}),x._frameSize=[0,0],x._canvasSize=[0,0],x._framePrecision=m.Wizard.Precision.half,x._clearColor=[0,0,0,1],x._debugTextures=new Array,x._debugTextureSubject=new d.ReplaySubject(1),x}return g(E,b),E.prototype.invalidate=function(x){x===void 0&&(x=!1),this._invalidate(x)},E.prototype.debugTextureNext=function(){this._debugTextureSubject.next(this._debugTexture)},Object.defineProperty(E.prototype,"context",{get:function(){return this.assertInitialized(),this._context},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"canvasSize",{get:function(){return this.assertInitialized(),this._canvasSize},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"altered",{get:function(){return this._altered.any},enumerable:!0,configurable:!0}),E.prototype.onSwap=function(){},E.prototype.startLoading=function(){this._isLoading=!0,this._loadingStatusSubscription.next(v.Started)},E.prototype.finishLoading=function(){this._isLoading=!1,this._loadingStatusSubscription.next(v.Finished)},E.prototype.initialize=function(x,w,S){return a.assert(x!==void 0,"valid webgl context required"),this._context=x,a.assert(w!==void 0,"valid multi-frame update callback required"),this._invalidate=w,this._isLoading=!0,this._loadingStatusSubscription=new d.ReplaySubject,this.onInitialize(x,w,S)},E.prototype.uninitialize=function(){this.onUninitialize()},E.prototype.discard=function(){this.onDiscarded()},E.prototype.update=function(x){return this._canvasSize[0]===this._context.gl.canvas.width&&this._canvasSize[1]===this._context.gl.canvas.height||(this._canvasSize[0]=this._context.gl.canvas.width,this._canvasSize[1]=this._context.gl.canvas.height,this._altered.alter("canvasSize")),this._multiFrameNumber!==x&&(this._multiFrameNumber=x,this._altered.alter("multiFrameNumber")),this.onUpdate()||this._altered.any},E.prototype.prepare=function(){this.onPrepare()},E.prototype.frame=function(x){this.onFrame(x)},E.prototype.swap=function(){this.onSwap()},E.prototype.frameCoords=function(x,w){var S=c.vec2.divide(l.v2(),this._frameSize,this.canvasSize);return c.vec2.floor(S,c.vec2.multiply(S,[x+.5,w+.5],S)),c.vec2.add(S,S,[.5,.5]),f.tuple2(S)},Object.defineProperty(E.prototype,"frameSize",{set:function(x){this.assertInitialized(),c.vec2.equals(this._frameSize,x)||(Object.assign(this._frameSize,x),this._altered.alter("frameSize"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"framePrecision",{set:function(x){this.assertInitialized(),this._framePrecision!==x&&(this._framePrecision=x,this._altered.alter("framePrecision"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"clearColor",{set:function(x){this.assertInitialized(),c.vec4.equals(this._clearColor,x)||(Object.assign(this._clearColor,x),this._altered.alter("clearColor"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"debugTextures",{get:function(){return this.assertInitialized(),this._debugTextures},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"debugTexture",{get:function(){return this.assertInitialized(),this._debugTexture},set:function(x){this.assertInitialized(),this._debugTexture!==x&&(a.logIf(x>=this._debugTextures.length,a.LogLevel.Error,"invalid texture index, debug texture disabled (index set to -1) | "+x+" not in [-1,+"+(this._debugTextures.length-1)+"]"),this._debugTexture=x<this._debugTextures.length?l.clamp(x,-1,this._debugTextures.length-1):-1,this._altered.alter("debugTexture"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"debugTexture$",{get:function(){return this._debugTextureSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"loadingStatus$",{get:function(){return this._loadingStatusSubscription.asObservable()},enumerable:!0,configurable:!0}),p([u.Initializable.assert_initialized()],E.prototype,"invalidate",null),p([u.Initializable.initialize()],E.prototype,"initialize",null),p([u.Initializable.uninitialize()],E.prototype,"uninitialize",null),p([u.Initializable.discard()],E.prototype,"discard",null),p([u.Initializable.assert_initialized()],E.prototype,"update",null),p([u.Initializable.assert_initialized()],E.prototype,"prepare",null),p([u.Initializable.assert_initialized()],E.prototype,"frame",null),p([u.Initializable.assert_initialized()],E.prototype,"swap",null),E}(u.Initializable);o.Renderer=y},function(n,o,i){var h,g=this&&this.__extends||(h=function(l,s){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var m in f)f.hasOwnProperty(m)&&(u[m]=f[m])})(l,s)},function(l,s){function u(){this.constructor=l}h(l,s),l.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}),p=this&&this.__decorate||function(l,s,u,f){var m,y=arguments.length,b=y<3?s:f===null?f=Object.getOwnPropertyDescriptor(s,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(l,s,u,f);else for(var E=l.length-1;E>=0;E--)(m=l[E])&&(b=(y<3?m(b):y>3?m(s,u,b):m(s,u))||b);return y>3&&b&&Object.defineProperty(s,u,b),b};Object.defineProperty(o,"__esModule",{value:!0});var v=i(0),d=i(20),c=i(2),a=function(l){function s(){var u=l!==null&&l.apply(this,arguments)||this;return u._size=0,u._internalFormat=0,u._format=0,u._type=0,u._bytes=[0,0,0,0,0,0],u}return g(s,l),s.prototype.faceID=function(u){var f=this._context.gl;switch(u){case f.TEXTURE_CUBE_MAP_POSITIVE_X:return 0;case f.TEXTURE_CUBE_MAP_NEGATIVE_X:return 1;case f.TEXTURE_CUBE_MAP_POSITIVE_Y:return 2;case f.TEXTURE_CUBE_MAP_NEGATIVE_Y:return 3;case f.TEXTURE_CUBE_MAP_POSITIVE_Z:return 4;case f.TEXTURE_CUBE_MAP_NEGATIVE_Z:return 5;default:return v.assert(!1,"expected texture cube map identifier ("+f.TEXTURE_CUBE_MAP_POSITIVE_X+", "+f.TEXTURE_CUBE_MAP_NEGATIVE_X+", "+f.TEXTURE_CUBE_MAP_POSITIVE_Y+", "+f.TEXTURE_CUBE_MAP_NEGATIVE_Y+", "+f.TEXTURE_CUBE_MAP_POSITIVE_Z+", or"+f.TEXTURE_CUBE_MAP_NEGATIVE_Z+"), given "+u),-1}},s.prototype.create=function(u,f,m,y){v.assert(u>0,"texture cube requires valid size (width/height) of greater than zero");var b=this._context.gl,E=this._context.gl2facade;return this._object=b.createTexture(),this._size=u,this._internalFormat=f,this._format=m,this._type=y,b.bindTexture(b.TEXTURE_CUBE_MAP,this._object),b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_MIN_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_MAG_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),E.texImage2D(b.TEXTURE_CUBE_MAP_POSITIVE_X,0,this._internalFormat,this._size,this._size,0,this._format,this._type),E.texImage2D(b.TEXTURE_CUBE_MAP_NEGATIVE_X,0,this._internalFormat,this._size,this._size,0,this._format,this._type),E.texImage2D(b.TEXTURE_CUBE_MAP_POSITIVE_Y,0,this._internalFormat,this._size,this._size,0,this._format,this._type),E.texImage2D(b.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,this._internalFormat,this._size,this._size,0,this._format,this._type),E.texImage2D(b.TEXTURE_CUBE_MAP_POSITIVE_Z,0,this._internalFormat,this._size,this._size,0,this._format,this._type),E.texImage2D(b.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,this._internalFormat,this._size,this._size,0,this._format,this._type),b.bindTexture(b.TEXTURE_CUBE_MAP,s.DEFAULT_TEXTURE),this._valid=b.isTexture(this._object),this.context.allocationRegister.reallocate(this._identifier,0),this._object},s.prototype.delete=function(){v.assert(this._object instanceof WebGLTexture,"expected WebGLTexture object"),this._context.gl.deleteTexture(this._object),this._object=void 0,this._valid=!1,this._internalFormat=0,this._format=0,this._type=0,this._size=0},s.prototype.cropImage=function(u,f,m,y,b){var E=document.createElement("canvas");E.width=y,E.height=b;var x=E.getContext("2d");return x?(x.drawImage(u,f,m,y,b,0,0,y,b),x.getImageData(0,0,y,b)):(console.log(v.LogLevel.Warning,"2D context creation failed when cropping image."),new ImageData(0,0))},s.prototype.extractMipLevelFromAtlas=function(u,f){for(var m=this.context.gl,y=u.height/2*Math.pow(.5,f),b=[0,0],E=[u.width,u.height],x=0;x<f;++x)E[0]/=2,E[1]/=2,b[0]+=E[0],b[1]+=E[1];m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,!0);var w=this.cropImage(u,b[0],b[1],y,y);this.data([m.TEXTURE_CUBE_MAP_NEGATIVE_X,w],f);var S=this.cropImage(u,b[0]+y,b[1],y,y);this.data([m.TEXTURE_CUBE_MAP_POSITIVE_Z,S],f);var P=this.cropImage(u,b[0]+2*y,b[1],y,y);this.data([m.TEXTURE_CUBE_MAP_POSITIVE_X,P],f);var A=this.cropImage(u,b[0]+3*y,b[1],y,y);this.data([m.TEXTURE_CUBE_MAP_NEGATIVE_Z,A],f);var L=this.cropImage(u,b[0],b[1]+y,y,y);this.data([m.TEXTURE_CUBE_MAP_POSITIVE_Y,L],f);var k=this.cropImage(u,b[0]+y,b[1]+y,y,y);this.data([m.TEXTURE_CUBE_MAP_NEGATIVE_Y,k],f),m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,!1)},s.prototype.bind=function(u){var f=this.context.gl;u&&f.activeTexture(u),f.bindTexture(f.TEXTURE_CUBE_MAP,this._object)},s.prototype.unbind=function(u){var f=this.context.gl;u&&f.activeTexture(u),f.bindTexture(f.TEXTURE_CUBE_MAP,s.DEFAULT_TEXTURE)},s.prototype.fetch=function(u,f,m){var y=this;f===void 0&&(f=!1),m===void 0&&(m=0);var b=this.context.gl;return new Promise(function(E,x){var w=new Array;u.positiveX&&w.push([b.TEXTURE_CUBE_MAP_POSITIVE_X,u.positiveX]),u.negativeX&&w.push([b.TEXTURE_CUBE_MAP_NEGATIVE_X,u.negativeX]),u.positiveY&&w.push([b.TEXTURE_CUBE_MAP_POSITIVE_Y,u.positiveY]),u.negativeY&&w.push([b.TEXTURE_CUBE_MAP_NEGATIVE_Y,u.negativeY]),u.positiveZ&&w.push([b.TEXTURE_CUBE_MAP_POSITIVE_Z,u.positiveZ]),u.negativeZ&&w.push([b.TEXTURE_CUBE_MAP_NEGATIVE_Z,u.negativeZ]);for(var S=w.length,P=function(k){var D=new Image;D.crossOrigin="anonymous",D.onerror=function(){return x()},D.onload=function(){var N=y.calculateMipLevelSize(m);D.width===D.height?D.width===N?(b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0),y.data([k[0],D],m),b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1),(S-=1)==0&&E()):v.log(v.LogLevel.Warning,"image ignored, width and height expected to match this texture's size "+N+", given "+D.width):v.log(v.LogLevel.Warning,"image ignored, width and height expected to be equal (square image)")},f&&(D.crossOrigin="anonymous"),D.src=k[1]},A=0,L=w;A<L.length;A++)P(L[A])})},s.prototype.fetchMipmapAtlas=function(u,f){var m=this;return f===void 0&&(f=!1),new Promise(function(y,b){var E=new Image;E.onerror=function(){return b()},E.onload=function(){if(E.width===2*E.height){for(var x=E.height/2,w=Math.log2(x),S=0;S<w;++S)m.extractMipLevelFromAtlas(E,S);y()}else v.log(v.LogLevel.Warning,"Mipmap atlas expected to have dimensions of 2x1.")},f&&(E.crossOrigin="anonymous"),E.src=u})},s.prototype.calculateMipLevelSize=function(u){return this._size*Math.pow(.5,u)},s.prototype.data=function(u,f,m,y){f===void 0&&(f=0),m===void 0&&(m=!0),y===void 0&&(y=!0);var b=this.context.gl,E=this.context.gl2facade,x=this.calculateMipLevelSize(f),w=x*x*d.byteSizeOfFormat(this.context,this._internalFormat);if(this._type===this.context.gl2facade.HALF_FLOAT&&this._internalFormat!==this.context.gl.RGBA16F?w*=2:this._type===this.context.gl.FLOAT&&this._internalFormat!==this.context.gl.RGBA16F&&(w*=4),m&&this.bind(),u instanceof Array&&u.length===2){E.texImage2D(u[0],f,this._internalFormat,x,x,0,this._format,this._type,u[1]);var S=this.faceID(u[0]);this.context.allocationRegister.deallocate(this._identifier,this._bytes[S]),this.context.allocationRegister.allocate(this._identifier,w),this._bytes[S]=w}else{var P=u;P.positiveX!==void 0&&(E.texImage2D(b.TEXTURE_CUBE_MAP_POSITIVE_X,f,this._internalFormat,x,x,0,this._format,this._type,P.positiveX),this.context.allocationRegister.deallocate(this._identifier,this._bytes[0]),this.context.allocationRegister.allocate(this._identifier,w),this._bytes[0]=w),P.negativeX!==void 0&&(E.texImage2D(b.TEXTURE_CUBE_MAP_NEGATIVE_X,f,this._internalFormat,x,x,0,this._format,this._type,P.negativeX),this.context.allocationRegister.deallocate(this._identifier,this._bytes[1]),this.context.allocationRegister.allocate(this._identifier,w),this._bytes[1]=w),P.positiveY!==void 0&&(E.texImage2D(b.TEXTURE_CUBE_MAP_POSITIVE_Y,f,this._internalFormat,x,x,0,this._format,this._type,P.positiveY),this.context.allocationRegister.deallocate(this._identifier,this._bytes[2]),this.context.allocationRegister.allocate(this._identifier,w),this._bytes[2]=w),P.negativeY!==void 0&&(E.texImage2D(b.TEXTURE_CUBE_MAP_NEGATIVE_Y,f,this._internalFormat,x,x,0,this._format,this._type,P.negativeY),this.context.allocationRegister.deallocate(this._identifier,this._bytes[3]),this.context.allocationRegister.allocate(this._identifier,w),this._bytes[3]=w),P.positiveZ!==void 0&&(E.texImage2D(b.TEXTURE_CUBE_MAP_POSITIVE_Z,f,this._internalFormat,x,x,0,this._format,this._type,P.positiveZ),this.context.allocationRegister.deallocate(this._identifier,this._bytes[4]),this.context.allocationRegister.allocate(this._identifier,w),this._bytes[4]=w),P.negativeZ!==void 0&&(E.texImage2D(b.TEXTURE_CUBE_MAP_NEGATIVE_Z,f,this._internalFormat,x,x,0,this._format,this._type,P.negativeZ),this.context.allocationRegister.deallocate(this._identifier,this._bytes[5]),this.context.allocationRegister.allocate(this._identifier,w),this._bytes[5]=w)}y&&this.unbind()},s.prototype.filter=function(u,f,m,y){m===void 0&&(m=!0),y===void 0&&(y=!0);var b=this.context.gl;m&&this.bind(),b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_MAG_FILTER,u),b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_MIN_FILTER,f),y&&this.unbind()},s.prototype.wrap=function(u,f,m,y){m===void 0&&(m=!0),y===void 0&&(y=!0);var b=this.context.gl;m&&this.bind(),b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_WRAP_S,u),b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_WRAP_T,f),y&&this.unbind()},s.prototype.levels=function(u,f,m,y){m===void 0&&(m=!0),y===void 0&&(y=!0);var b=this.context.gl;m&&this.bind(),b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_BASE_LEVEL,u),b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_MAX_LEVEL,f),y&&this.unbind()},s.prototype.reformat=function(u,f,m,y,b){y===void 0&&(y=!0),b===void 0&&(b=!0),(u!==this._internalFormat||f!==void 0&&f!==this._format||m!==void 0&&m!==this._type)&&(v.assert(u!==void 0,"valid internal format expected"),this._internalFormat=u,f&&(this._format=f),m&&(this._type=m),this.data({clearOnUndefined:!0},0,y,b))},s.prototype.resize=function(u,f,m){f===void 0&&(f=!0),m===void 0&&(m=!0),u!==this._size&&(this._size=u,this.data({clearOnUndefined:!0},0,f,m))},Object.defineProperty(s.prototype,"bytes",{get:function(){return this.assertInitialized(),this.context.allocationRegister.allocated(this._identifier)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"internalFormat",{get:function(){return this.assertInitialized(),this._internalFormat},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"format",{get:function(){return this.assertInitialized(),this._format},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"type",{get:function(){return this.assertInitialized(),this._type},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return this.assertInitialized(),this._size},enumerable:!0,configurable:!0}),s.DEFAULT_TEXTURE=void 0,p([c.Initializable.assert_initialized()],s.prototype,"bind",null),p([c.Initializable.assert_initialized()],s.prototype,"unbind",null),p([c.Initializable.assert_initialized()],s.prototype,"fetch",null),p([c.Initializable.assert_initialized()],s.prototype,"fetchMipmapAtlas",null),p([c.Initializable.assert_initialized()],s.prototype,"data",null),p([c.Initializable.assert_initialized()],s.prototype,"filter",null),p([c.Initializable.assert_initialized()],s.prototype,"wrap",null),p([c.Initializable.assert_initialized()],s.prototype,"levels",null),p([c.Initializable.assert_initialized()],s.prototype,"reformat",null),p([c.Initializable.assert_initialized()],s.prototype,"resize",null),s}(i(8).AbstractObject);o.TextureCube=a},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(1),g=i(3),p=i(0),v=i(13),d=function(){function c(a,l,s){this._fovy=c.DEFAULT_FOVY,this._near=c.DEFAULT_NEAR,this._far=c.DEFAULT_FAR,this._viewport=[1,1],this._aspect=1,this._altered=!1,this._eye=a?h.vec3.clone(a):h.vec3.clone(c.DEFAULT_EYE),this._center=l?h.vec3.clone(l):h.vec3.clone(c.DEFAULT_CENTER),this._up=s?h.vec3.clone(s):h.vec3.clone(c.DEFAULT_UP)}return c.calculateFovY=function(a,l){return 2*Math.atan(.5*a/l)},c.prototype.invalidate=function(a,l,s){s===void 0&&(s=!1),a&&(this._view=void 0,this._viewInverse=void 0),l&&(this._projection=void 0,this._projectionInverse=void 0),(a||l||s)&&(this._viewProjection=void 0,this._viewProjectionInverse=void 0),this._altered=!0},Object.defineProperty(c.prototype,"eye",{get:function(){return this._eye},set:function(a){h.vec3.equals(this._eye,a)||(this._eye=h.vec3.clone(a),this.invalidate(!0,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"center",{get:function(){return this._center},set:function(a){h.vec3.equals(this._center,a)||(this._center=h.vec3.clone(a),this.invalidate(!0,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"up",{get:function(){return this._up},set:function(a){h.vec3.equals(this._up,a)||(this._up=h.vec3.clone(a),this.invalidate(!0,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fovy",{get:function(){return this._fovy},set:function(a){this._fovy!==a&&(this._fovy=a,this.invalidate(!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fovx",{set:function(a){var l=a*p.DEG2RAD,s=2*Math.atan(Math.tan(l/2)*(1/this.aspect))*p.RAD2DEG;this._fovy!==s&&(this._fovy=s,this.invalidate(!1,!0))},enumerable:!0,configurable:!0}),c.prototype.fovFromLens=function(a,l){var s=2*Math.atan(a/(2*l));this.fovx=s*p.RAD2DEG},Object.defineProperty(c.prototype,"near",{get:function(){return this._near},set:function(a){this._near!==a&&(a>=this._far&&p.log(p.LogLevel.Warning,"near expected to be smaller than far ("+this._far+"), given "+a),this._near=a,this.invalidate(!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"far",{get:function(){return this._far},set:function(a){this._far!==a&&(this._near>=a&&p.log(p.LogLevel.Warning,"far expected to be greater than near ("+this._near+"), given "+a),this._far=a,this.invalidate(!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"viewport",{get:function(){return this._viewport},set:function(a){this._viewport[0]===a[0]&&this._viewport[1]===a[1]||(this._viewport=v.duplicate2(a),this.invalidate(!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"width",{get:function(){return this._viewport[0]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"height",{get:function(){return this._viewport[1]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"aspect",{get:function(){return this._aspect},set:function(a){this._aspect!==a&&(this._aspect=a)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"view",{get:function(){return this._view||(this._view=h.mat4.lookAt(g.m4(),this._eye,this._center,this._up)),this._view},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"viewInverse",{get:function(){return this._viewInverse!==void 0||(this._viewInverse=h.mat4.invert(g.m4(),this.view)),this._viewInverse},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"projection",{get:function(){return this._projection||(this._projection=h.mat4.perspective(g.m4(),this.fovy*p.DEG2RAD,this.aspect,this.near,this.far)),this._projection},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"projectionInverse",{get:function(){return this._projectionInverse!==void 0||(this._projectionInverse=h.mat4.invert(g.m4(),this.projection)),this._projectionInverse},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"viewProjection",{get:function(){return this._viewProjection||(this._viewProjection=h.mat4.multiply(g.m4(),this.projection,this.view),this._viewProjection=h.mat4.multiply(g.m4(),this.postViewProjection,this._viewProjection)),this._viewProjection},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"viewProjectionInverse",{get:function(){return this._viewProjectionInverse!==void 0||(this._viewProjectionInverse=h.mat4.invert(g.m4(),this.viewProjection)),this._viewProjectionInverse},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"postViewProjection",{get:function(){return this._postViewProjection?this._postViewProjection:h.mat4.identity(g.m4())},set:function(a){this._postViewProjection=a,this.invalidate(!1,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"altered",{get:function(){return this._altered},set:function(a){this._altered=a},enumerable:!0,configurable:!0}),c.DEFAULT_EYE=h.vec3.fromValues(0,0,1),c.DEFAULT_CENTER=h.vec3.fromValues(0,0,0),c.DEFAULT_UP=h.vec3.fromValues(0,1,0),c.DEFAULT_FOVY=45,c.DEFAULT_NEAR=2,c.DEFAULT_FAR=8,c}();o.Camera=d},function(n,o,i){var h,g=this&&this.__extends||(h=function(c,a){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var u in s)s.hasOwnProperty(u)&&(l[u]=s[u])})(c,a)},function(c,a){function l(){this.constructor=c}h(c,a),c.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)});Object.defineProperty(o,"__esModule",{value:!0});var p=i(1),v=i(3),d=function(c){function a(){var l=c!==null&&c.apply(this,arguments)||this;return l._rotation=p.mat4.create(),l._sensitivity=a.DEFAULT_SENSITIVITY,l}return g(a,c),a.prototype.initiate=function(l){Object.assign(this._reference,this._camera),this._initialPoint=l},a.prototype.process=function(l,s){this._currentPoint=l;var u=p.vec2.create();s===void 0?p.vec2.subtract(u,this._initialPoint,this._currentPoint):p.vec2.copy(u,s),p.vec2.scale(u,u,window.devicePixelRatio*this._sensitivity),p.vec2.copy(this._initialPoint,this._currentPoint);var f=p.vec3.sub(v.v3(),this._reference.eye,this._reference.center);p.vec3.normalize(f,f);var m=p.vec3.cross(v.v3(),f,this._reference.up),y=p.mat4.fromRotation(v.m4(),-u[0],this._reference.up),b=p.mat4.fromRotation(v.m4(),u[1],m);p.mat4.mul(this._rotation,b,y),this.update()},a.prototype.update=function(){if(this._camera!==void 0){var l=p.mat4.fromTranslation(v.m4(),this._reference.eye);p.mat4.multiply(l,l,this._rotation),p.mat4.translate(l,l,p.vec3.negate(v.v3(),this._reference.eye));var s=p.vec3.transformMat4(v.v3(),this._reference.center,l);this._camera.center=s,Object.assign(this._reference,this._camera)}},Object.defineProperty(a.prototype,"sensitivity",{get:function(){return this._sensitivity},set:function(l){this._sensitivity=l},enumerable:!0,configurable:!0}),a.DEFAULT_SENSITIVITY=8e-4,a}(i(11).CameraModifier);o.FirstPersonModifier=d},function(n,o,i){var h,g=this&&this.__extends||(h=function(c,a){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var u in s)s.hasOwnProperty(u)&&(l[u]=s[u])})(c,a)},function(c,a){function l(){this.constructor=c}h(c,a),c.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)});Object.defineProperty(o,"__esModule",{value:!0});var p=i(1),v=i(3),d=function(c){function a(){var l=c!==null&&c.apply(this,arguments)||this;return l._sensitivity=a.DEFAULT_SENSITIVITY,l._translation=v.v3(),l}return g(a,c),a.prototype.initiate=function(l){Object.assign(this._reference,this._camera),this._initialPoint=l},a.prototype.process=function(l){this._currentPoint=l;var s=p.vec2.subtract(v.v2(),this._initialPoint,this._currentPoint);p.vec2.scale(s,s,window.devicePixelRatio*this._sensitivity);var u=p.vec3.sub(v.v3(),this._reference.eye,this._reference.center);p.vec3.normalize(u,u);var f=this._reference.up;p.vec3.normalize(f,f);var m=p.vec3.cross(v.v3(),f,u),y=p.vec3.scale(v.v3(),m,s[0]),b=p.vec3.scale(v.v3(),f,s[1]);p.vec3.negate(b,b),this._translation=p.vec3.add(v.v3(),b,y),this.update()},a.prototype.update=function(){if(this._camera!==void 0){var l=p.mat4.fromTranslation(v.m4(),this._translation),s=p.vec3.transformMat4(v.v3(),this._reference.eye,l),u=p.vec3.transformMat4(v.v3(),this._reference.center,l);this._camera.eye=s,this._camera.center=u}},a.DEFAULT_SENSITIVITY=.002,a}(i(11).CameraModifier);o.PanModifier=d},function(n,o,i){var h,g=this&&this.__extends||(h=function(c,a){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var u in s)s.hasOwnProperty(u)&&(l[u]=s[u])})(c,a)},function(c,a){function l(){this.constructor=c}h(c,a),c.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)});Object.defineProperty(o,"__esModule",{value:!0});var p=i(1),v=i(3),d=function(c){function a(){var l=c!==null&&c.apply(this,arguments)||this;return l._sensitivity=a.DEFAULT_SENSITIVITY,l._translation=v.v3(),l}return g(a,c),a.prototype.initiate=function(l,s){Object.assign(this._reference,this._camera);var u=p.vec2.subtract(v.v2(),l,s);this._initialDistance=p.vec2.length(u)},a.prototype.process=function(l,s){var u=p.vec2.subtract(v.v2(),l,s);this._currentDistance=p.vec2.length(u);var f=(this._currentDistance/this._initialDistance-1)*a.DEFAULT_SENSITIVITY,m=p.vec3.sub(v.v3(),this._reference.center,this._reference.eye);p.vec3.normalize(m,m),this._translation=p.vec3.scale(v.v3(),m,f),this.update()},a.prototype.update=function(){if(this._camera!==void 0){var l=p.mat4.fromTranslation(v.m4(),this._translation),s=p.vec3.transformMat4(v.v3(),this._reference.eye,l);this._camera.eye=s}},a.DEFAULT_SENSITIVITY=2,a}(i(11).CameraModifier);o.PinchZoomModifier=d},function(n,o,i){var h,g=this&&this.__extends||(h=function(c,a){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var u in s)s.hasOwnProperty(u)&&(l[u]=s[u])})(c,a)},function(c,a){function l(){this.constructor=c}h(c,a),c.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)});Object.defineProperty(o,"__esModule",{value:!0});var p=i(1),v=i(3),d=function(c){function a(){var l=c!==null&&c.apply(this,arguments)||this;return l._rotation=p.mat4.create(),l._sensitivity=a.DEFAULT_SENSITIVITY,l}return g(a,c),a.prototype.initiate=function(l){this._initialPoint=l},a.prototype.process=function(l){this._currentPoint=l;var s=p.vec2.subtract(v.v2(),this._initialPoint,this._currentPoint);p.vec2.scale(s,s,window.devicePixelRatio*this._sensitivity),p.vec2.copy(this._initialPoint,this._currentPoint);var u=p.vec3.sub(v.v3(),this._reference.eye,this._reference.center);p.vec3.normalize(u,u);var f=p.vec3.normalize(v.v3(),this._reference.up),m=p.vec3.cross(v.v3(),u,f);p.vec3.scale(f,f,s[1]),p.vec3.scale(m,m,s[0]);var y=p.vec3.cross(v.v3(),p.vec3.add(v.v3(),f,m),u);p.vec3.normalize(y,y);var b=p.quat.setAxisAngle(p.quat.create(),y,p.vec2.len(s));p.mat4.multiply(this._rotation,this._rotation,p.mat4.fromQuat(v.m4(),b)),this.update()},a.prototype.update=function(){if(this._camera!==void 0){var l=p.mat4.fromTranslation(v.m4(),this._reference.center);p.mat4.multiply(l,l,this._rotation),p.mat4.translate(l,l,p.vec3.negate(v.v3(),this._reference.center));var s=p.vec3.transformMat4(v.v3(),[0,1,0],this._rotation),u=p.vec3.transformMat4(v.v3(),this._reference.eye,l);this._camera.up=s,this._camera.eye=u}},Object.defineProperty(a.prototype,"sensitivity",{get:function(){return this._sensitivity},set:function(l){this._sensitivity=l},enumerable:!0,configurable:!0}),a.DEFAULT_SENSITIVITY=.002,a}(i(11).CameraModifier);o.TrackballModifier=d},function(n,o,i){var h,g=this&&this.__extends||(h=function(c,a){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var u in s)s.hasOwnProperty(u)&&(l[u]=s[u])})(c,a)},function(c,a){function l(){this.constructor=c}h(c,a),c.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)});Object.defineProperty(o,"__esModule",{value:!0});var p=i(1),v=i(3),d=function(c){function a(){var l=c!==null&&c.apply(this,arguments)||this;return l._rotation=v.m4(),l._maxAzimuth=.5*+Math.PI-1e-4,l._minAzimuth=.5*-Math.PI+1e-4,l._xAxisScreenSpace=v.v3(),l._sensitivity=a.DEFAULT_SENSITIVITY,l}return g(a,c),a.prototype.initiate=function(l){Object.assign(this._reference,this._camera),this._initialPoint=l;var s=p.vec3.sub(v.v3(),this._reference.eye,this._reference.center);p.vec3.normalize(s,s),this._xAxisScreenSpace=p.vec3.cross(v.v3(),[0,1,0],s),this._azimuth=Math.acos(p.vec3.dot(s,[0,1,0])),this._azimuth=.5*Math.PI-this._azimuth},a.prototype.process=function(l){this._currentPoint=l;var s=p.vec2.subtract(v.v2(),this._initialPoint,this._currentPoint);p.vec2.scale(s,s,window.devicePixelRatio*this._sensitivity),this._minAzimuth&&(s[1]=Math.min(this._azimuth-this._minAzimuth,s[1])),this._maxAzimuth&&(s[1]=Math.max(this._azimuth-this._maxAzimuth,s[1])),p.mat4.rotateY(this._rotation,v.m4(),s[0]),p.mat4.rotate(this._rotation,this._rotation,s[1],this._xAxisScreenSpace),this.update()},a.prototype.update=function(){if(this._camera!==void 0){var l=p.mat4.fromTranslation(v.m4(),this._reference.center);p.mat4.multiply(l,l,this._rotation),p.mat4.translate(l,l,p.vec3.negate(v.v3(),this._reference.center));var s=p.vec3.transformMat4(v.v3(),[0,1,0],this._rotation),u=p.vec3.transformMat4(v.v3(),this._reference.eye,l);this._camera.up=s,this._camera.eye=u}},Object.defineProperty(a.prototype,"sensitivity",{get:function(){return this._sensitivity},set:function(l){this._sensitivity=l},enumerable:!0,configurable:!0}),a.DEFAULT_SENSITIVITY=.002,a}(i(11).CameraModifier);o.TurntableModifier=d},function(n,o,i){var h,g=this&&this.__extends||(h=function(c,a){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var u in s)s.hasOwnProperty(u)&&(l[u]=s[u])})(c,a)},function(c,a){function l(){this.constructor=c}h(c,a),c.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)});Object.defineProperty(o,"__esModule",{value:!0});var p=i(1),v=i(3),d=function(c){function a(){var l=c!==null&&c.apply(this,arguments)||this;return l._sensitivity=a.DEFAULT_SENSITIVITY,l._translation=v.v3(),l}return g(a,c),a.prototype.process=function(l){Object.assign(this._reference,this._camera);var s=l*this._sensitivity,u=p.vec3.sub(v.v3(),this._reference.center,this._reference.eye);p.vec3.normalize(u,u),this._translation=p.vec3.scale(v.v3(),u,s),this.update()},a.prototype.update=function(){if(this._camera!==void 0){var l=p.mat4.fromTranslation(v.m4(),this._translation),s=p.vec3.transformMat4(v.v3(),this._reference.eye,l);this._camera.eye=s}},a.DEFAULT_SENSITIVITY=.2,a}(i(11).CameraModifier);o.WheelZoomModifier=d},function(n,o,i){var h,g=this&&this.__extends||(h=function(v,d){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var l in a)a.hasOwnProperty(l)&&(c[l]=a[l])})(v,d)},function(v,d){function c(){this.constructor=v}h(v,d),v.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)});Object.defineProperty(o,"__esModule",{value:!0});var p=function(v){function d(c){return v.call(this,c)||this}return g(d,v),d.prototype.generate=function(){switch(this._width){case 8:this.fromJSON(i(105));break;case 64:this.fromJSON(i(106));break;case 128:this.fromJSON(i(107));break;default:v.prototype.generate.call(this)}},d}(i(60).RandomSquareKernel);o.AntiAliasingKernel=p},function(n,o,i){var h,g=this&&this.__extends||(h=function(d,c){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var s in l)l.hasOwnProperty(s)&&(a[s]=l[s])})(d,c)},function(d,c){function a(){this.constructor=d}h(d,c),d.prototype=c===null?Object.create(c):(a.prototype=c.prototype,new a)});Object.defineProperty(o,"__esModule",{value:!0});var p=i(0),v=function(d){function c(a){var l=d.call(this,2,a)||this;return l.generate(),l}return g(c,d),c.prototype.generate=function(){p.assert(this.width>0,"expected every kernel to comprise at least one element"),this.set([0,0],0);for(var a=1;a<this.width;++a)this.set([p.rand(-.5,.5),p.rand(-.5,.5)],a)},Object.defineProperty(c.prototype,"width",{get:function(){return this._width},set:function(a){this._width!==a&&(this._width=a,this.resize(),this.generate())},enumerable:!0,configurable:!0}),c}(i(37).KernelF32);o.RandomSquareKernel=v},function(n,o,i){var h,g=this&&this.__extends||(h=function(b,E){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var S in w)w.hasOwnProperty(S)&&(x[S]=w[S])})(b,E)},function(b,E){function x(){this.constructor=b}h(b,E),b.prototype=E===null?Object.create(E):(x.prototype=E.prototype,new x)}),p=this&&this.__decorate||function(b,E,x,w){var S,P=arguments.length,A=P<3?E:w===null?w=Object.getOwnPropertyDescriptor(E,x):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(b,E,x,w);else for(var L=b.length-1;L>=0;L--)(S=b[L])&&(A=(P<3?S(A):P>3?S(E,x,A):S(E,x))||A);return P>3&&A&&Object.defineProperty(E,x,A),A};Object.defineProperty(o,"__esModule",{value:!0});var v=i(0),d=i(15),c=i(17),a=i(2),l=i(12),s=i(6),u=i(7),f=i(4),m=i(14),y=function(b){function E(x){var w=b.call(this)||this;return w._altered=Object.assign(new d.ChangeLookup,{any:!1,texture:!1,precision:!1,passThrough:!1}),w._precision=m.Wizard.Precision.half,w._write=0,w._ndcTriangleShared=!1,w._context=x,w}return g(E,b),E.prototype.initialize=function(x){var w=this._context.gl;this._accumulationFBOs=[new c.Framebuffer(this._context,"AccumPingFBO"),new c.Framebuffer(this._context,"AccumPongFBO")],this._accumulationTextures=[new f.Texture2D(this._context,"AccumPingTexture"),new f.Texture2D(this._context,"AccumPongTexture")],x===void 0?this._ndcTriangle=new l.NdcFillingTriangle(this._context,"NdcFillingTriangle-Accumulate"):(this._ndcTriangle=x,this._ndcTriangleShared=!0);var S=new u.Shader(this._context,w.VERTEX_SHADER,"ndcvertices.vert (accumulate)");S.initialize(i(62));var P=new u.Shader(this._context,w.FRAGMENT_SHADER,"accumulate.frag");return P.initialize(i(108)),this._program=new s.Program(this._context,"AccumulateProgram"),this._program.initialize([S,P],!1),this._ndcTriangle.initialized||this._ndcTriangle.initialize(),this._program.attribute("a_vertex",this._ndcTriangle.vertexLocation),this._program.link(),this._uWeight=this._program.uniform("u_weight"),this._program.bind(),w.uniform1f(this._uWeight,0),w.uniform1i(this._program.uniform("u_accumulationTexture"),0),w.uniform1i(this._program.uniform("u_currentFrameTexture"),1),this._program.unbind(),!0},E.prototype.uninitialize=function(){!this._ndcTriangleShared&&this._ndcTriangle.initialized&&this._ndcTriangle.uninitialize(),this._program.uninitialize(),this._accumulationFBOs[0].uninitialize(),this._accumulationFBOs[1].uninitialize(),this._accumulationTextures[0].uninitialize(),this._accumulationTextures[1].uninitialize(),this._write=0},E.prototype.update=function(){if(this._texture&&this._texture.valid){if(!this._passThrough){var x=this._altered.texture||this._accumulationTextures[0].width!==this._texture.width||this._accumulationTextures[0].height!==this._texture.height;if(this._altered.any||x){var w=this._context.gl,S=this._context.gl2facade,P=this._texture.size;if(this._accumulationTextures[0].initialized)(this._altered.texture||x)&&(this._accumulationTextures[0].resize(this._texture.width,this._texture.height),this._accumulationTextures[1].resize(this._texture.width,this._texture.height)),this._altered.precision&&(A=m.Wizard.queryInternalTextureFormat(this._context,w.RGBA,this._precision),this._accumulationTextures[0].reformat(A[0],w.RGBA,A[1]),this._accumulationTextures[1].reformat(A[0],w.RGBA,A[1]));else{var A=m.Wizard.queryInternalTextureFormat(this._context,w.RGBA,this._precision);this._accumulationTextures[0].initialize(P[0],P[1],A[0],w.RGBA,A[1]),this._accumulationTextures[1].initialize(P[0],P[1],A[0],w.RGBA,A[1])}this._accumulationFBOs[0].initialized||(this._accumulationFBOs[0].initialize([[S.COLOR_ATTACHMENT0,this._accumulationTextures[0]]]),this._accumulationFBOs[1].initialize([[S.COLOR_ATTACHMENT0,this._accumulationTextures[1]]])),v.assert(this._accumulationFBOs[0].valid&&this._accumulationFBOs[1].valid,"valid accumulation framebuffers expected"),this._altered.reset()}else v.assert(this._accumulationFBOs[0].valid&&this._accumulationFBOs[1].valid,"valid accumulation framebuffers expected")}}else v.log(v.LogLevel.Warning,"valid texture for accumulation update expected, given "+this._texture)},E.prototype.frame=function(x,w){if(v.assert(this._accumulationFBOs[0].valid&&this._accumulationFBOs[1].valid,"valid framebuffer objects for accumulation expected (initialize or update was probably not called)"),!this._passThrough&&this._texture!==void 0){v.logIf(!this._texture||!this._texture.valid,v.LogLevel.Warning,"valid texture for accumulation frame expected, given "+this._texture);var S=this._context.gl;w!==void 0&&S.viewport(0,0,w[0],w[1]);var P=x%2,A=this._write=1-P,L=this._accumulationTextures[P],k=this._texture;L.bind(S.TEXTURE0),k.bind(S.TEXTURE1),this._program.bind(),S.uniform1f(this._uWeight,1/(x+1)),this._accumulationFBOs[A].bind(S.DRAW_FRAMEBUFFER),this._ndcTriangle.bind(),this._ndcTriangle.draw(),this._ndcTriangle.unbind(),this._accumulationFBOs[A].unbind(S.DRAW_FRAMEBUFFER),L.unbind(S.TEXTURE0),k.unbind(S.TEXTURE1)}},Object.defineProperty(E.prototype,"texture",{set:function(x){this.assertInitialized(),this._texture!==x&&(this._texture=x,this._altered.alter("texture"))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"precision",{set:function(x){this.assertInitialized(),this._precision!==x&&(this._precision=x,this._altered.alter("precision"))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"passThrough",{set:function(x){this.assertInitialized(),this._passThrough!==x&&(this._passThrough&&this._accumulationTextures[0].initialized&&(this._accumulationTextures[0].uninitialize(),this._accumulationTextures[1].uninitialize()),this._passThrough&&this._accumulationFBOs[0].initialized&&(this._accumulationFBOs[0].uninitialize(),this._accumulationFBOs[1].uninitialize()),this._passThrough=x,this._altered.alter("passThrough"))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"framebuffer",{get:function(){return this._passThrough?void 0:this._accumulationFBOs[this._write]},enumerable:!0,configurable:!0}),p([a.Initializable.initialize()],E.prototype,"initialize",null),p([a.Initializable.uninitialize()],E.prototype,"uninitialize",null),p([a.Initializable.assert_initialized()],E.prototype,"update",null),p([a.Initializable.assert_initialized()],E.prototype,"frame",null),E}(a.Initializable);o.AccumulatePass=y},function(n,o){n.exports=`\r
precision lowp float;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else\r
    #define varying out\r
#endif\r
\r
\r
\r
#if __VERSION__ == 100\r
    attribute vec2 a_vertex;\r
#else\r
    layout(location = 0) in vec2 a_vertex;\r
#endif\r
\r
\r
varying vec2 v_uv;\r
\r
\r
void main(void)\r
{\r
    v_uv = a_vertex * 0.5 + 0.5;\r
\r
    gl_Position = vec4(a_vertex, 0.0, 1.0);\r
}\r
`},function(n,o){n.exports=`\r
precision lowp float;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else\r
    #define varying out\r
#endif\r
\r
\r
\r
#if __VERSION__ == 100\r
    attribute vec2 a_vertex;\r
#else\r
    layout(location = 0) in vec2 a_vertex;\r
#endif\r
\r
uniform vec4 u_srcBounds; // normalized\r
uniform vec4 u_dstBounds; // normalized\r
\r
varying vec2 v_uv;\r
\r
\r
void main(void)\r
{\r
    vec2 uv = a_vertex * 0.5 + 0.5;\r
\r
    v_uv = mix(u_srcBounds.xy, u_srcBounds.zw, uv);\r
    gl_Position = vec4(a_vertex.xy, 0.0, 1.0);\r
}\r
`},function(n,o,i){var h,g=this&&this.__extends||(h=function(m,y){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,E){b.__proto__=E}||function(b,E){for(var x in E)E.hasOwnProperty(x)&&(b[x]=E[x])})(m,y)},function(m,y){function b(){this.constructor=m}h(m,y),m.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}),p=this&&this.__decorate||function(m,y,b,E){var x,w=arguments.length,S=w<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,b):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(m,y,b,E);else for(var P=m.length-1;P>=0;P--)(x=m[P])&&(S=(w<3?x(S):w>3?x(y,b,S):x(y,b))||S);return w>3&&S&&Object.defineProperty(y,b,S),S};Object.defineProperty(o,"__esModule",{value:!0});var v=i(1),d=i(0),c=i(3),a=i(2),l=i(12),s=i(6),u=i(7),f=function(m){function y(b){var E=m.call(this)||this;return E._kernelSize=7,E._standardDeviation=1,E._redistribute=!0,E._ndcTriangleShared=!1,E._context=b,E}return g(y,m),y.prototype.recalculateWeights=function(){if(this._weights)return!1;var b=1/Math.sqrt(2*Math.PI)*this._standardDeviation,E=2*this._standardDeviation*this._standardDeviation;this._weights=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(var x=0,w=0;w<=Math.floor(this._kernelSize/2);w++)this._weights[w]=b*Math.pow(Math.E,-Math.pow(w,2)/E),x+=w>0?2*this._weights[w]:this._weights[w];if(this._redistribute){var S=1-x;for(w=0;w<=Math.floor(this._kernelSize/2);w++)this._weights[w]+=this._weights[w]/x*S}return!0},Object.defineProperty(y.prototype,"kernelSize",{get:function(){return this._kernelSize},set:function(b){d.assert(b>0,"Kernel size has to be positive."),d.assert(b<=2*(y._MAXKERNELSIZEHALF-1)+1,"Kernel size has to be smaller than "+(2*(y._MAXKERNELSIZEHALF-1)+2)+"."),d.assert(Number.isInteger(b),"Kernel size has to be an integer."),d.assert(b%2==1,"Kernel size has to be odd."),this._kernelSize=b,this._weights=void 0},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"standardDeviation",{get:function(){return this._standardDeviation},set:function(b){d.assert(b>0,"Standard deviation has to be positive."),this._standardDeviation=b,this._weights=void 0},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"redistribute",{get:function(){return this._redistribute},set:function(b){this._redistribute=b,this._weights=void 0},enumerable:!0,configurable:!0}),y.prototype.initialize=function(b){var E=this._context.gl,x=new u.Shader(this._context,E.VERTEX_SHADER,"gauss.vert");x.initialize(i(116)),this._fragmentShader=new u.Shader(this._context,E.FRAGMENT_SHADER,"gauss.frag"),this._fragmentShader.replace("$KERNEL_HALF_SIZE",""+Math.floor(this.kernelSize/2)),this._fragmentShader.initialize(i(117)),this._program=new s.Program(this._context),this._program.initialize([x,this._fragmentShader]),this._uDelta=this._program.uniform("u_delta"),this._uWeights=this._program.uniform("u_weights");var w=this._program.attribute("a_vertex",0);return b===void 0?this._ndcTriangle=new l.NdcFillingTriangle(this._context,"GaussFilterQuad"):(this._ndcTriangle=b,this._ndcTriangleShared=!0),this._ndcTriangle.initialize(w),!0},y.prototype.uninitialize=function(){this._program.uninitialize(),this._ndcTriangleShared||this._ndcTriangle.uninitialize()},y.prototype.filter=function(b,E){var x=this._context.gl,w=[v.vec2.fromValues(1,0),v.vec2.fromValues(0,1)];this.recalculateWeights()&&(this._fragmentShader.replace("$KERNEL_HALF_SIZE",""+Math.floor(this.kernelSize/2)),this._fragmentShader.compile(),this._program.link(),this._uDelta=this._program.uniform("u_delta"),this._uWeights=this._program.uniform("u_weights"),this._program.bind(),x.uniform1fv(this._uWeights,this._weights)),this._program.bind(),b.bind(x.TEXTURE0),x.uniform2fv(this._uDelta,v.vec2.divide(c.v2(),w[E],b.size)),this._ndcTriangle.bind(),this._ndcTriangle.draw(),this._ndcTriangle.unbind(),b.unbind(x.TEXTURE0),this._program.unbind()},y._MAXKERNELSIZEHALF=32,p([a.Initializable.initialize()],y.prototype,"initialize",null),p([a.Initializable.uninitialize()],y.prototype,"uninitialize",null),p([a.Initializable.assert_initialized()],y.prototype,"filter",null),y}(a.Initializable);o.GaussFilter=f,function(m){(function(y){y[y.Horizontal=0]="Horizontal",y[y.Vertical=1]="Vertical"})(m.Direction||(m.Direction={}))}(f=o.GaussFilter||(o.GaussFilter={})),o.GaussFilter=f},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(119);o.CuboidGeometry=h.CuboidGeometry;var g=i(66);o.Icosahedron=g.Icosahedron;var p=i(120);o.GeosphereGeometry=p.GeosphereGeometry;var v=i(121);o.PlaneGeometry=v.PlaneGeometry;var d=i(122);o.ResourceManager=d.ResourceManager},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(1),g=i(3),p=function(){function v(){}return v.prototype.baseVertices=function(){var d=.5*(1+Math.sqrt(5)),c=1/Math.sqrt(d*d+1),a=d*c;return[h.vec3.fromValues(-c,+a,0),h.vec3.fromValues(+c,+a,0),h.vec3.fromValues(-c,-a,0),h.vec3.fromValues(+c,-a,0),h.vec3.fromValues(0,-c,+a),h.vec3.fromValues(0,+c,+a),h.vec3.fromValues(0,-c,-a),h.vec3.fromValues(0,+c,-a),h.vec3.fromValues(+a,0,-c),h.vec3.fromValues(+a,0,+c),h.vec3.fromValues(-a,0,-c),h.vec3.fromValues(-a,0,+c)]},v.prototype.baseFaces=function(){return[[0,11,5],[0,5,1],[0,1,7],[0,7,10],[0,10,11],[1,5,9],[5,11,4],[11,10,2],[10,7,6],[7,1,8],[3,9,4],[3,4,2],[3,2,6],[3,6,8],[3,8,9],[4,9,5],[2,4,11],[6,2,10],[8,6,7],[9,8,1]]},v.prototype.refine=function(d,c,a){for(var l=new Map,s=0;s<a;s++)for(var u=c.length,f=0;f<u;f++){var m=c[f],y=m[0],b=m[1],E=m[2],x=this.split(y,b,d,l),w=this.split(b,E,d,l),S=this.split(E,y,d,l);c[f]=[x,w,S],c.push([y,x,S]),c.push([b,w,x]),c.push([E,S,w])}},v.prototype.split=function(d,c,a,l){var s=d<c,u=((s?d:c)<<16)+(s?c:d);if(l.has(u))return l.get(u);var f=h.vec3.add(g.v3(),a[d],a[c]);h.vec3.normalize(f,f),a.push(f);var m=a.length-1;return l.set(u,m),m},v.prototype.generateGeometry=function(d){this._vertices=this.baseVertices(),this._faces=this.baseFaces(),d>0&&this.refine(this._vertices,this._faces,Math.min(Math.max(d,0),8))},v.prototype.generateTextureCoordinates=function(){this._texcoords=new Array;for(var d=0,c=this._vertices;d<c.length;d++){var a=c[d],l=h.vec3.normalize(g.v3(),a),s=h.vec2.fromValues(.5-Math.atan2(l[2],l[0])/(2*Math.PI),Math.asin(l[1])/Math.PI+.5);this._texcoords.push(s)}},Object.defineProperty(v.prototype,"faces",{get:function(){return this._faces},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"vertices",{get:function(){return this._vertices},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"texcoords",{get:function(){return this._texcoords},enumerable:!0,configurable:!0}),v}();o.Icosahedron=p},function(n,o,i){var h,g=this&&this.__extends||(h=function(v,d){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var l in a)a.hasOwnProperty(l)&&(c[l]=a[l])})(v,d)},function(v,d){function c(){this.constructor=v}h(v,d),v.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)});Object.defineProperty(o,"__esModule",{value:!0});var p=function(v){function d(){return v!==null&&v.apply(this,arguments)||this}return g(d,v),Object.defineProperty(d.prototype,"scene",{get:function(){return this._scene},set:function(c){this._scene=c,this._scene!==void 0&&this.preprocessScene()},enumerable:!0,configurable:!0}),d}(i(2).Initializable);o.SceneRenderPass=p},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=function(){function g(p){this._nodes=new Array,this._components=new Array,this._name=p,this._parent=void 0}return g.prototype.traverse=function(p){p(this);for(var v=0,d=this._nodes;v<d.length;v++)d[v].traverse(p)},g.prototype.addNode=function(p){return p._parent=this,this._nodes.push(p),p},g.prototype.addComponent=function(p){return this._components.push(p),p},g.prototype.componentsOfType=function(p){return this._components.filter(function(v){return p===v.type})},Object.defineProperty(g.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"nodes",{get:function(){return this._nodes},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"components",{get:function(){return this._components},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"isLeaf",{get:function(){return this._nodes.length===0},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"isRoot",{get:function(){return this._parent===void 0},enumerable:!0,configurable:!0}),g}();o.SceneNode=h},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(13),g=function(){function p(v,d){v===void 0&&(v=0),d===void 0&&(d=0),this._bearing=[0,0],this._extent=[0,0],this._kernings=new Map,this._subTextureOrigin=[0,0],this._subTextureExtent=[0,0],this._index=v,this._advance=d}return p.prototype.depictable=function(){return this._subTextureExtent[0]>0&&this._subTextureExtent[1]>0},p.prototype.kerning=function(v){var d=this._kernings.get(v);return d!==void 0?d:0},p.prototype.setKerning=function(v,d){this._kernings.set(v,d)},Object.defineProperty(p.prototype,"index",{get:function(){return this._index},set:function(v){this._index=v},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"subTextureOrigin",{get:function(){return this._subTextureOrigin},set:function(v){this._subTextureOrigin=h.clampf2(v,"texture origin")},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"subTextureExtent",{get:function(){return this._subTextureExtent},set:function(v){this._subTextureExtent=h.clampf2(v,"texture extent")},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"bearing",{get:function(){return this._bearing},set:function(v){this._bearing=v},enumerable:!0,configurable:!0}),p.prototype.bearingFromFontBaseAndOffset=function(v,d,c){this._bearing[0]=d,this._bearing[1]=v-c},Object.defineProperty(p.prototype,"extent",{get:function(){return this._extent},set:function(v){this._extent=v},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"advance",{get:function(){return this._advance},set:function(v){this._advance=v},enumerable:!0,configurable:!0}),p}();o.Glyph=g},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=function(){function g(p,v){this._lineFeed=g.DEFAULT_LINE_FEED,this._altered=!1,this._text=p||"",this._lineFeed=v!==void 0?v:this._lineFeed}return Object.defineProperty(g.prototype,"length",{get:function(){return this._text.length},enumerable:!0,configurable:!0}),g.prototype.charAt=function(p){return this._text.charAt(p)},g.prototype.charCodeAt=function(p){return this._text.charCodeAt(p)},Object.defineProperty(g.prototype,"text",{get:function(){return this._text},set:function(p){this._text!==p&&(this._altered=!0,this._text=p)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"lineFeed",{get:function(){return this._lineFeed},set:function(p){this._lineFeed!==p&&(this._altered=!0,this._lineFeed=p)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"altered",{get:function(){return this._altered},set:function(p){this._altered=p},enumerable:!0,configurable:!0}),g.DEFAULT_LINE_FEED=`
`,g}();o.Text=h},function(n,o,i){var h,g=this&&this.__extends||(h=function(s,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var y in m)m.hasOwnProperty(y)&&(f[y]=m[y])})(s,u)},function(s,u){function f(){this.constructor=s}h(s,u),s.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}),p=this&&this.__decorate||function(s,u,f,m){var y,b=arguments.length,E=b<3?u:m===null?m=Object.getOwnPropertyDescriptor(u,f):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(s,u,f,m);else for(var x=s.length-1;x>=0;x--)(y=s[x])&&(E=(b<3?y(E):b>3?y(u,f,E):y(u,f))||E);return b>3&&E&&Object.defineProperty(u,f,E),E};Object.defineProperty(o,"__esModule",{value:!0});var v=i(0),d=i(5),c=i(9),a=i(2),l=function(s){function u(f,m){var y=s.call(this,f,m)||this;return y._numberOfGlyphs=0,v.assert(f.isWebGL2||f.supportsInstancedArrays,"expected extension 'ANGLE_instanced_arrays' to be supported"),m=m!==void 0&&m!==""?m:y.constructor.name,y._vertices=new d.Buffer(f,m+"VBO"),y._buffers.push(y._vertices),y._texCoords=new d.Buffer(f,m+"TexCoordVBO"),y._buffers.push(y._texCoords),y._origins=new d.Buffer(f,m+"OriginVBO"),y._buffers.push(y._origins),y._tangents=new d.Buffer(f,m+"TangentVBO"),y._buffers.push(y._tangents),y._ups=new d.Buffer(f,m+"UpVBO"),y._buffers.push(y._ups),y}return g(u,s),u.prototype.bindBuffers=function(){var f=this.context.gl,m=this.context.gl2facade;this._vertices.attribEnable(this._vertexLocation,2,f.FLOAT,!1,8,0,!0,!1),m.vertexAttribDivisor(this._vertexLocation,0),this._texCoords.attribEnable(this._texCoordLocation,4,f.FLOAT,!1,16,0,!0,!1),m.vertexAttribDivisor(this._texCoordLocation,1),this._origins.attribEnable(this._originLocation,3,f.FLOAT,!1,12,0,!0,!1),m.vertexAttribDivisor(this._originLocation,1),this._tangents.attribEnable(this._tangentLocation,3,f.FLOAT,!1,12,0,!0,!1),m.vertexAttribDivisor(this._tangentLocation,1),this._ups.attribEnable(this._upLocation,3,f.FLOAT,!1,12,0,!0,!1),m.vertexAttribDivisor(this._upLocation,1)},u.prototype.unbindBuffers=function(){this._vertices.attribDisable(this._vertexLocation,!1,!1),this._texCoords.attribDisable(this._texCoordLocation,!1,!1),this._origins.attribDisable(this._originLocation,!1,!1),this._tangents.attribDisable(this._tangentLocation,!1,!1),this._ups.attribDisable(this._upLocation,!1,!1)},u.prototype.initialize=function(f,m,y,b,E){f===void 0&&(f=0),m===void 0&&(m=1),y===void 0&&(y=2),b===void 0&&(b=3),E===void 0&&(E=4),this._vertexLocation=f,this._texCoordLocation=m,this._originLocation=y,this._tangentLocation=b,this._upLocation=E;var x=this.context.gl,w=s.prototype.initialize.call(this,[x.ARRAY_BUFFER,x.ARRAY_BUFFER,x.ARRAY_BUFFER,x.ARRAY_BUFFER,x.ARRAY_BUFFER]);return this._vertices.data(u.VERTICES,x.STATIC_DRAW),w},u.prototype.update=function(f,m,y,b){this._numberOfGlyphs=f.length/3;var E=this.context.gl;this._texCoords.data(b,E.STATIC_DRAW),this._origins.data(f,E.STATIC_DRAW),this._tangents.data(m,E.STATIC_DRAW),this._ups.data(y,E.STATIC_DRAW)},u.prototype.draw=function(f,m){f===void 0&&(f=0),m===void 0&&(m=0);var y=this.context.gl,b=this.context.gl2facade;this._vertices.attribEnable(this._vertexLocation,2,y.FLOAT,!1,8,0,!0,!1),this._texCoords.attribEnable(this._texCoordLocation,4,y.FLOAT,!1,16,16*f,!0,!1),this._origins.attribEnable(this._originLocation,3,y.FLOAT,!1,12,12*f,!0,!1),this._tangents.attribEnable(this._tangentLocation,3,y.FLOAT,!1,12,12*f,!0,!1),this._ups.attribEnable(this._upLocation,3,y.FLOAT,!1,12,12*f,!0,!1),b.drawArraysInstanced(y.TRIANGLE_STRIP,0,4,m)},Object.defineProperty(u.prototype,"numGlyphs",{get:function(){return this._numberOfGlyphs},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"valid",{get:function(){var f=this._vertices&&this._vertices.valid,m=this._texCoords&&this._texCoords.valid,y=this._origins&&this._origins.valid,b=this._tangents&&this._tangents.valid,E=this._ups&&this._ups.valid;return this.initialized&&f&&m&&y&&b&&E},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"vertexLocation",{get:function(){return this._vertexLocation},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"texCoordLocation",{get:function(){return this._texCoordLocation},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"originLocation",{get:function(){return this._originLocation},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"tangentLocation",{get:function(){return this._tangentLocation},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"upLocation",{get:function(){return this._upLocation},enumerable:!0,configurable:!0}),u.VERTICES=new Float32Array([0,0,0,1,1,0,1,1]),p([a.Initializable.assert_initialized()],u.prototype,"draw",null),u}(c.Geometry);o.LabelGeometry=l},function(n,o,i){var h,g=this&&this.__extends||(h=function(u,f){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)y.hasOwnProperty(b)&&(m[b]=y[b])})(u,f)},function(u,f){function m(){this.constructor=u}h(u,f),u.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)});Object.defineProperty(o,"__esModule",{value:!0});var p=i(1),v=i(0),d=i(3),c=i(18),a=i(19),l=i(26),s=function(u){function f(m,y,b){var E=u.call(this,m,y,b)||this;return E._position=p.vec2.fromValues(0,0),E._direction=p.vec2.fromValues(1,0),E._frameSize=p.vec2.create(),E._fontSize=f.DEFAULT_FONTSIZE_PX,E._fontSizeUnit=a.Label.Unit.Pixel,E}return g(f,u),f.prototype.typeset=function(m){m===void 0&&(m=!1);var y=m||this._altered.typesetting||this._altered.static||this._altered.text||this.text.altered;if(y||this._altered.dynamic||m){if(!this.valid)return new c.GlyphVertices(0);var b=p.vec4.create(),E=p.mat4.create();p.mat4.translate(E,d.m4(),p.vec3.fromValues(-1,-1,0)),p.mat4.scale(E,E,p.vec3.fromValues(2/this._frameSize[0],2/this._frameSize[1],1));var x=p.vec2.sub(d.v2(),p.vec2.fromValues(this._frameSize[0],this._frameSize[1]),p.vec2.fromValues(b[3]+b[1],b[2]+b[0])),w=p.vec3.fromValues(.5*x[0],.5*x[1],0);p.vec3.add(w,w,p.vec3.fromValues(b[3],b[2],0)),p.mat4.translate(E,E,w),p.mat4.translate(E,E,p.vec3.fromValues(this._position[0],this._position[1],0));var S=p.vec2.fromValues(1,0),P=p.vec2.angle(S,this._direction);switch(S[0]*this._direction[1]-S[1]*this._direction[0]<0&&(P=-P),p.mat4.rotateZ(E,E,P),this._type){case a.Label.Type.Static:this.staticTransform=p.mat4.clone(E),this.dynamicTransform=d.m4();break;case a.Label.Type.Dynamic:this.staticTransform=d.m4(),this.dynamicTransform=p.mat4.clone(E)}if(this._altered.reset(),this._text.altered=!1,this._color.altered=!1,y){var A=this.vertices();return l.Typesetter.typeset(this,A),A}}},Object.defineProperty(f.prototype,"frameSize",{get:function(){return this._frameSize},set:function(m){p.vec2.equals(this._frameSize,m)||(p.vec2.max(this._frameSize,m,[1,1]),this._altered.alter(this._type))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"position",{get:function(){return this._position},set:function(m){p.vec2.equals(this._position,m)||(this._position=p.vec2.clone(m),this._altered.alter(this._type))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"direction",{get:function(){return this._direction},set:function(m){p.vec2.normalize(this._direction,m),this._altered.alter(this._type)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"fontSizeUnit",{get:function(){return this._fontSizeUnit},set:function(m){v.logIf(m!==a.Label.Unit.Pixel,v.LogLevel.Warning,"font size unit other than 'px' are not supported in position-2d-label, given "+m)},enumerable:!0,configurable:!0}),f.DEFAULT_FONTSIZE_PX=20,f}(a.Label);o.Position2DLabel=s},function(n,o,i){var h,g=this&&this.__extends||(h=function(u,f){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)y.hasOwnProperty(b)&&(m[b]=y[b])})(u,f)},function(u,f){function m(){this.constructor=u}h(u,f),u.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)});Object.defineProperty(o,"__esModule",{value:!0});var p=i(1),v=i(0),d=i(3),c=i(18),a=i(19),l=i(26),s=function(u){function f(m,y,b){var E=u.call(this,m,y,b)||this;return E._position=p.vec3.fromValues(0,0,0),E._direction=p.vec3.fromValues(1,0,0),E._up=p.vec3.fromValues(0,1,0),E._fontSize=f.DEFAULT_FONTSIZE_WORLD,E._fontSizeUnit=a.Label.Unit.World,E}return g(f,u),f.prototype.typeset=function(m){m===void 0&&(m=!1);var y=m||this._altered.typesetting||this._altered.static||this._altered.text||this.text.altered;if(y||this._altered.dynamic||m){if(!this.valid)return new c.GlyphVertices(0);var b=p.mat4.create();p.mat4.translate(b,d.m4(),this._position);var E=p.vec3.cross(d.v3(),this._direction,this._up),x=p.mat4.fromValues(this._direction[0],this._direction[1],this._direction[2],0,this._up[0],this._up[1],this._up[2],0,E[0],E[1],E[2],0,0,0,0,1);switch(p.mat4.mul(b,b,x),this._type){case a.Label.Type.Static:this.staticTransform=p.mat4.clone(b),this.dynamicTransform=d.m4();break;case a.Label.Type.Dynamic:this.staticTransform=d.m4(),this.dynamicTransform=p.mat4.clone(b)}if(this._altered.reset(),this._text.altered=!1,this._color.altered=!1,y){var w=this.vertices();return l.Typesetter.typeset(this,w),w}}},Object.defineProperty(f.prototype,"position",{get:function(){return this._position},set:function(m){this._position=p.vec3.clone(m),this._altered.alter(this._type)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"direction",{get:function(){return this._direction},set:function(m){p.vec3.normalize(this._direction,m),this._altered.alter(this._type)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"up",{get:function(){return this._up},set:function(m){this._up=p.vec3.normalize(this._up,m),this._altered.alter(this._type)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"fontSizeUnit",{get:function(){return this._fontSizeUnit},set:function(m){v.logIf(m!==a.Label.Unit.World,v.LogLevel.Warning,"font size unit other than 'world' are not supported in position-3d-label, given "+m)},enumerable:!0,configurable:!0}),f.DEFAULT_FONTSIZE_WORLD=.05,f}(a.Label);o.Position3DLabel=s},function(n,o,i){var h,g=this&&this.__extends||(h=function(u,f){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)y.hasOwnProperty(b)&&(m[b]=y[b])})(u,f)},function(u,f){function m(){this.constructor=u}h(u,f),u.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)});Object.defineProperty(o,"__esModule",{value:!0});var p=i(1),v=i(0),d=i(3),c=i(18),a=i(19),l=i(26),s=function(u){function f(m,y,b){var E=u.call(this,m,y,b)||this;return E._position=p.vec3.fromValues(0,0,0),E._direction=p.vec2.fromValues(1,0),E._fontSize=f.DEFAULT_FONTSIZE_PX,E._fontSizeUnit=a.Label.Unit.Mixed,E}return g(f,u),f.prototype.typeset=function(m){m===void 0&&(m=!1);var y=m||this._altered.typesetting||this._altered.static||this._altered.text||this.text.altered;if(y||this._altered.dynamic||m){if(!this.valid||this._camera===void 0)return new c.GlyphVertices(0);var b=p.vec4.create(),E=p.mat4.create();p.mat4.translate(E,E,p.vec3.fromValues(-1,-1,0)),p.mat4.scale(E,E,p.vec3.fromValues(2/this._camera.viewport[0],2/this._camera.viewport[1],1)),p.mat4.scale(E,E,p.vec3.fromValues(1,1,1));var x=p.vec2.create();p.vec2.sub(x,p.vec2.fromValues(this._camera.viewport[0]/1,this._camera.viewport[1]/1),p.vec2.fromValues(b[3]+b[1],b[2]+b[0]));var w=p.vec3.fromValues(.5*x[0],.5*x[1],0);p.vec3.add(w,w,p.vec3.fromValues(b[3],b[2],0)),p.mat4.translate(E,E,w);var S=p.vec4.fromValues(this._position[0],this._position[1],this._position[2],1);p.vec4.transformMat4(S,S,this._camera.viewProjection);var P=p.mat4.create(),A=S[3];p.mat4.translate(P,P,p.vec3.fromValues(S[0]/A,S[1]/A,S[2]/A)),p.mat4.mul(E,P,E);var L=p.vec2.fromValues(1,0),k=p.vec2.angle(L,this._direction);switch(L[0]*this._direction[1]-L[1]*this._direction[0]<0&&(k=-k),p.mat4.rotateZ(E,E,k),this._camera.viewProjectionInverse?p.mat4.mul(E,this._camera.viewProjectionInverse,E):v.log(v.LogLevel.Warning,"camera.viewProjectionInverse is null"),this._type){case a.Label.Type.Static:this.staticTransform=p.mat4.clone(E),this.dynamicTransform=d.m4();break;case a.Label.Type.Dynamic:this.staticTransform=d.m4(),this.dynamicTransform=p.mat4.clone(E)}if(this._altered.reset(),this._text.altered=!1,this._color.altered=!1,y){var D=this.vertices();return l.Typesetter.typeset(this,D),D}}},Object.defineProperty(f.prototype,"camera",{get:function(){return this._camera},set:function(m){this._camera=m,this._altered.alter(this._type)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"position",{get:function(){return this._position},set:function(m){this._position=p.vec3.clone(m),this._altered.alter(this._type)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"direction",{get:function(){return this._direction},set:function(m){p.vec2.normalize(this._direction,m),this._altered.alter(this._type)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"fontSizeUnit",{get:function(){return this._fontSizeUnit},set:function(m){v.logIf(m!==a.Label.Unit.Mixed,v.LogLevel.Warning,"font size unit other than 'px' are not supported in projected-3d-label, given "+m)},enumerable:!0,configurable:!0}),f.DEFAULT_FONTSIZE_PX=20,f}(a.Label);o.Projected3DLabel=s},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=function(){function g(){this._primitives=new Array}return Object.defineProperty(g.prototype,"primitives",{get:function(){return this._primitives},enumerable:!0,configurable:!0}),g.prototype.addPrimitive=function(p){this._primitives.push(p)},g}();o.GLTFMesh=h},function(n,o,i){var h,g=this&&this.__extends||(h=function(l,s){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var m in f)f.hasOwnProperty(m)&&(u[m]=f[m])})(l,s)},function(l,s){function u(){this.constructor=l}h(l,s),l.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(o,"__esModule",{value:!0});var p,v,d=i(1),c=i(25);(function(l){l[l.HAS_NORMALS=1]="HAS_NORMALS",l[l.HAS_TANGENTS=2]="HAS_TANGENTS",l[l.HAS_UV=4]="HAS_UV",l[l.HAS_COLORS=8]="HAS_COLORS",l[l.USE_IBL=16]="USE_IBL",l[l.HAS_BASECOLORMAP=32]="HAS_BASECOLORMAP",l[l.HAS_NORMALMAP=64]="HAS_NORMALMAP",l[l.HAS_EMISSIVEMAP=128]="HAS_EMISSIVEMAP",l[l.HAS_METALROUGHNESSMAP=256]="HAS_METALROUGHNESSMAP",l[l.HAS_OCCLUSIONMAP=512]="HAS_OCCLUSIONMAP",l[l.USE_TEX_LOD=1024]="USE_TEX_LOD"})(p=o.GLTFShaderFlags||(o.GLTFShaderFlags={})),function(l){l[l.OPAQUE=0]="OPAQUE",l[l.MASK=1]="MASK",l[l.BLEND=2]="BLEND"}(v=o.GLTFAlphaMode||(o.GLTFAlphaMode={}));var a=function(l){function s(u,f){var m=l.call(this,u,f)||this;return m.baseColorTexCoord=0,m.metallicRoughnessTexCoord=0,m.normalTexCoord=0,m.occlusionTexCoord=0,m.emissiveTexCoord=0,m._alphaMode=v.OPAQUE,m._alphaCutoff=1,m._baseColorFactor=d.vec4.fromValues(1,1,1,1),m._metallicFactor=1,m._roughnessFactor=1,m._emissiveFactor=d.vec3.fromValues(0,0,0),m._isDoubleSided=!1,m._normalScale=1,m}return g(s,l),Object.defineProperty(s.prototype,"baseColorTexture",{get:function(){return this._baseColorTexture},set:function(u){this._baseColorTexture=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"metallicRoughnessTexture",{get:function(){return this._metallicRoughnessTexture},set:function(u){this._metallicRoughnessTexture=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"normalTexture",{get:function(){return this._normalTexture},set:function(u){this._normalTexture=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"occlusionTexture",{get:function(){return this._occlusionTexture},set:function(u){this._occlusionTexture=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"emissiveTexture",{get:function(){return this._emissiveTexture},set:function(u){this._emissiveTexture=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"emissiveFactor",{get:function(){return this._emissiveFactor},set:function(u){this._emissiveFactor=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"baseColorFactor",{get:function(){return this._baseColorFactor},set:function(u){this._baseColorFactor=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"metallicFactor",{get:function(){return this._metallicFactor},set:function(u){this._metallicFactor=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"roughnessFactor",{get:function(){return this._roughnessFactor},set:function(u){this._roughnessFactor=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"normalScale",{get:function(){return this._normalScale},set:function(u){this._normalScale=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isDoubleSided",{get:function(){return this._isDoubleSided},set:function(u){this._isDoubleSided=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"alphaMode",{get:function(){return this._alphaMode},set:function(u){this._alphaMode=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"alphaCutoff",{get:function(){return this._alphaCutoff},set:function(u){this._alphaCutoff=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"flags",{get:function(){var u=0;return this.baseColorTexture!==void 0&&(u|=p.HAS_BASECOLORMAP),this.metallicRoughnessTexture!==void 0&&(u|=p.HAS_METALROUGHNESSMAP),this.normalTexture!==void 0&&(u|=p.HAS_NORMALMAP),this.occlusionTexture!==void 0&&(u|=p.HAS_OCCLUSIONMAP),this.emissiveTexture!==void 0&&(u|=p.HAS_EMISSIVEMAP),u},enumerable:!0,configurable:!0}),s}(c.Material);o.GLTFPbrMaterial=a},function(n,o,i){var h,g=this&&this.__extends||(h=function(d,c){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var s in l)l.hasOwnProperty(s)&&(a[s]=l[s])})(d,c)},function(d,c){function a(){this.constructor=d}h(d,c),d.prototype=c===null?Object.create(c):(a.prototype=c.prototype,new a)});Object.defineProperty(o,"__esModule",{value:!0});var p=i(9);o.IndexBinding=function(){},o.VertexBinding=function(){};var v=function(d){function c(a,l,s,u,f,m,y){var b=d.call(this,a,y)||this;return b._bindings=l,b._indexBinding=s,b._material=f,b._geometryFlags=m,b._drawMode=u,b}return g(c,d),c.prototype.bindBuffers=function(){this._indexBinding&&this._indexBinding.buffer.bind();for(var a=0,l=this._bindings;a<l.length;a++){var s=l[a];s.buffer.attribEnable(s.attributeIndex,s.size,s.type,s.normalized,s.stride,s.offset,!0,!0)}},c.prototype.unbindBuffers=function(){this._indexBinding&&this._indexBinding.buffer.unbind();for(var a=0,l=this._bindings;a<l.length;a++){var s=l[a];s.buffer.attribDisable(s.attributeIndex,!0,!0)}},c.prototype.draw=function(){var a=this.context.gl;this._indexBinding?a.drawElements(this._drawMode,this._indexBinding.numIndices,this._indexBinding.type,this._indexBinding.offset):a.drawArrays(this._drawMode,0,this._bindings[0].numVertices)},Object.defineProperty(c.prototype,"material",{get:function(){return this._material},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"flags",{get:function(){return this._geometryFlags},enumerable:!0,configurable:!0}),c}(p.Geometry);o.GLTFPrimitive=v},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(33),g=function(){function p(v,d){var c=this;this._altered=!1,this._eventHandler=new h.EventHandler(v,d),this._eventHandler.pushMouseEnterHandler(function(a,l){return c.onMouseEnter(a,l)}),this._eventHandler.pushMouseLeaveHandler(function(a,l){return c.onMouseLeave(a,l)})}return p.prototype.onMouseEnter=function(v,d){this._altered=!1},p.prototype.onMouseLeave=function(v,d){this._altered=!0},p.prototype.update=function(){this._eventHandler.update()},p.prototype.reset=function(){this._altered=!1},Object.defineProperty(p.prototype,"altered",{get:function(){return this._altered},enumerable:!0,configurable:!0}),p}();o.TestNavigation=g},function(n,o,i){i(80),n.exports=i(81)},function(n,o,i){var h=this;String.prototype.repeat===void 0&&(String.prototype.repeat=function(g){if(this===null)throw new TypeError("can't convert "+this+" to object");var p=""+this;if((g=+g)!=g&&(g=0),g<0)throw new RangeError("repeat count must be non-negative");if(g===1/0)throw new RangeError("repeat count must be less than infinity");if(g=Math.floor(g),p.length===0||g===0)return"";if(p.length*g>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var v="",d=0;d<g;d++)v+=p;return v}),String.prototype.startsWith===void 0&&(String.prototype.startsWith=function(g,p){return p=p||0,this.indexOf(g,p)===p}),String.prototype.endsWith===void 0&&(String.prototype.endsWith=function(g,p){return(p===void 0||p>this.length)&&(p=this.length),this.substring(p-g.length,p)===g}),String.prototype.includes===void 0&&(String.prototype.includes=function(g,p){return typeof p!="number"&&(p=0),!(p+g.length>this.length)&&this.indexOf(g,p)!==-1}),String.prototype.trimLeft===void 0&&(String.prototype.trimLeft=function(){return this.replace(/^\s+/,"")}),String.prototype.trimRight===void 0&&(String.prototype.trimRight=function(){return this.replace(/\s+$/,"")}),Array.prototype.forEach===void 0&&(Array.prototype.forEach=function(g,p){for(var v=h.length,d=0;d<v;d++)d in h&&g.call(p,h[d],d,h)}),Array.prototype.fill===void 0&&(Array.prototype.fill=function(g,p,v){if(h===null)throw new TypeError("this is null or not defined");for(var d=Object(h),c=d.length>>>0,a=p>>0,l=a<0?Math.max(c+a,0):Math.min(a,c),s=v===void 0?c:v>>0,u=s<0?Math.max(c+s,0):Math.min(s,c);l<u;)d[l]=g,++l;return d}),Math.log10===void 0&&(Math.log10=function(g){return Math.log(g)*Math.LOG10E}),Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52)),[Float32Array,Uint8Array,Int8Array,Uint32Array,Int32Array].forEach(function(g){g.prototype.slice||Object.defineProperty(g.prototype,"slice",{value:Array.prototype.slice}),g.prototype.reduce||Object.defineProperty(g.prototype,"reduce",{value:Array.prototype.reduce}),g.prototype.filter||Object.defineProperty(g.prototype,"filter",{value:Array.prototype.filter}),g.prototype.map||Object.defineProperty(g.prototype,"map",{value:Array.prototype.map}),g.prototype.indexOf||Object.defineProperty(g.prototype,"indexOf",{value:Array.prototype.indexOf})}),Object.assign===void 0&&Object.defineProperty(Object,"assign",{value:function(g,p){if(g===void 0&&g===null)throw new TypeError("Cannot convert undefined or null to object");for(var v=Object(g),d=1;d<arguments.length;d++){var c=arguments[d];if(c!=null)for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(v[a]=c[a])}return v},configurable:!0,writable:!0})},function(n,o,i){function h(a){for(var l in a)o.hasOwnProperty(l)||(o[l]=a[l])}Object.defineProperty(o,"__esModule",{value:!0}),h(i(40)),h(i(133));var g=i(47);o.properties=g;var p=i(34);o.fetch=p;var v=i(139);o.ray_math=v,h(i(140));var d=i(144),c=i(145);(function(a){a.EventBlocker=d.EventBlocker,a.Fullscreen=c.Fullscreen})(o.viewer||(o.viewer={}))},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0}),o.branch="master",o.commit="50315b7a797981700de80b3eea844415c20e02fc",o.version="v0.7.1"},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(10),g=i(0),p=function(){function v(){this._bytesByIdentifier=new Map,this._bytes=0,this._bytesSubject=new h.ReplaySubject(1)}return v.prototype.bytesNext=function(){this._bytesSubject.next([this._bytes,this.bytesToString()])},v.prototype.assertIdentifier=function(d){g.assert(this._bytesByIdentifier.has(d),"allocation identifier unknown")},v.prototype.createUniqueIdentifier=function(d){for(var c=d,a=2;this._bytesByIdentifier.has(c);)c=d+"-"+a,++a;return this._bytesByIdentifier.set(c,0),c},v.prototype.deleteUniqueIdentifier=function(d){g.assert(this._bytesByIdentifier.has(d),"identifier expected to be known for allocation registration"),this._bytesByIdentifier.delete(d)},v.prototype.allocate=function(d,c){if(this.assertIdentifier(d),g.assert(c>=0,"positive number of bytes expected for allocation, given "+c),c!==0){var a=this._bytesByIdentifier.get(d)+c;this._bytesByIdentifier.set(d,a),this._bytes=this._bytes+c,this.bytesNext()}},v.prototype.deallocate=function(d,c){this.assertIdentifier(d);var a=this._bytesByIdentifier.get(d);g.assert(c>=0,"positive number of bytes expected for deallocation, given "+c),g.assert(c<=a,"deallocation cannot exceed previous allocations of "+a+", given "+c),c!==0&&(this._bytesByIdentifier.set(d,a-c),this._bytes=this._bytes-c,this.bytesNext())},v.prototype.reallocate=function(d,c){this.assertIdentifier(d),g.assert(c>=0,"positive number of bytes expected for reallocation, given "+c);var a=this._bytesByIdentifier.get(d);a!==c&&(this._bytes=this._bytes-a,this._bytesByIdentifier.set(d,c),this._bytes=this._bytes+c,this.bytesNext())},v.prototype.allocated=function(d){return d===void 0?this._bytes:(this.assertIdentifier(d),this._bytesByIdentifier.get(d))},v.prototype.toString=function(){var d=new Array;return this._bytesByIdentifier.forEach(function(c,a){d.push(a+": "+g.prettyPrintBytes(c))}),d.join(", ")},v.prototype.bytesToString=function(d){return g.prettyPrintBytes(this.allocated(d))},Object.defineProperty(v.prototype,"bytes",{get:function(){return this._bytes},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"bytes$",{get:function(){return this._bytesSubject.asObservable()},enumerable:!0,configurable:!0}),v}();o.AllocationRegister=p},function(n){n.exports=JSON.parse('[{"identifier":"chrome-63","backend":"webgl2","extensions_strive":["EXT_color_buffer_float","EXT_disjoint_timer_query_webgl2","EXT_texture_filter_anisotropic","OES_texture_float_linear","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_debug_renderer_info","WEBGL_debug_shaders","WEBGL_lose_context"]},{"identifier":"edge-41","backend":"webgl1","extensions_strive":["ANGLE_instanced_arrays","EXT_frag_depth","EXT_texture_filter_anisotropic","OES_texture_float","OES_texture_float_linear","OES_standard_derivatives","OES_element_index_uint","OES_texture_half_float","OES_texture_half_float_linear","WEBGL_compressed_texture_s3tc","WEBGL_debug_renderer_info","WEBGL_depth_texture"]},{"identifier":"ie-11","backend":"webgl1","extensions_strive":["ANGLE_instanced_arrays","EXT_texture_filter_anisotropic","OES_texture_float","OES_texture_float_linear","OES_standard_derivatives","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_debug_renderer_info"]},{"identifier":"firefox-57","backend":"webgl2","extensions_strive":["EXT_color_buffer_float","EXT_texture_filter_anisotropic","EXT_disjoint_timer_query","OES_texture_float_linear","WEBGL_compressed_texture_s3tc","WEBGL_debug_renderer_info","WEBGL_debug_shaders","WEBGL_lose_context","MOZ_WEBGL_lose_context","MOZ_WEBGL_compressed_texture_s3tc"]},{"identifier":"safari-10.1","backend":"webgl1","extensions_strive":["compressed_texture_pvrtc","compressed_texture_s3tc","debug_renderer_info","disjoint_timer_query","draw_buffers","element_index_uint","frag_depth","instanced_arrays","lose_context","sRGB","shader_texture_lod","standard_derivatives","texture_filter_anisotropic","texture_float","texture_float_linear","texture_half_float","texture_half_float_linear","vertex_array_object"],"functions_undefine":["readBuffer"]},{"identifier":"no-WEBGL_draw_buffers","backend":"webgl1","extensions_conceal":["WEBGL_draw_buffers"]},{"identifier":"no-readBuffer","extensions_hash":"100000","functions_undefine":["readBuffer"]},{"identifier":"webgl1","extensions_hash":"1+++++"},{"identifier":"webgl2","extensions_hash":"2+++++"}]')},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(0),g=i(27),p=function(){function v(d){this.drawBuffers=void 0,h.assert(d!==void 0,"gl2 facade expects a valid WebGL context"),this.queryHalfFloatSupport(d),this.queryColorAttachments(d),this.queryInstancedArraySupport(d),this.queryDrawBuffersSupport(d),this.queryVertexArrayObjectSupport(d),this.queryMaxUniformVec3Components(d),this.queryBufferSubDataInterface(d),this.queryTexImageInterface(d)}return Object.defineProperty(v.prototype,"HALF_FLOAT",{get:function(){return this._halfFloat},enumerable:!0,configurable:!0}),v.prototype.queryHalfFloatSupport=function(d){switch(d.backend){case g.Context.BackendType.WebGL1:this._halfFloat=d.supportsTextureHalfFloat&&d.textureHalfFloat?d.textureHalfFloat.HALF_FLOAT_OES:void 0;break;case g.Context.BackendType.WebGL2:default:this._halfFloat=d.gl.HALF_FLOAT}},Object.defineProperty(v.prototype,"COLOR_ATTACHMENT_MIN",{get:function(){return this._colorAttachmentMin},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT_MAX",{get:function(){return this._colorAttachmentMax},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT0",{get:function(){return this._colorAttachments[0]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT1",{get:function(){return this._colorAttachments[1]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT2",{get:function(){return this._colorAttachments[2]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT3",{get:function(){return this._colorAttachments[3]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT4",{get:function(){return this._colorAttachments[4]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT5",{get:function(){return this._colorAttachments[5]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT6",{get:function(){return this._colorAttachments[6]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT7",{get:function(){return this._colorAttachments[7]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT8",{get:function(){return this._colorAttachments[8]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT9",{get:function(){return this._colorAttachments[9]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT10",{get:function(){return this._colorAttachments[10]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT11",{get:function(){return this._colorAttachments[11]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT12",{get:function(){return this._colorAttachments[12]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT13",{get:function(){return this._colorAttachments[13]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT14",{get:function(){return this._colorAttachments[14]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT15",{get:function(){return this._colorAttachments[15]},enumerable:!0,configurable:!0}),v.prototype.queryColorAttachments=function(d){var c=d.gl;switch(this._colorAttachments=new Array(16),this._colorAttachments[0]=c.COLOR_ATTACHMENT0,d.backend){case g.Context.BackendType.WebGL1:var a=d.supportsDrawBuffers?d.drawBuffers:void 0;if(this._colorAttachmentMin=this._colorAttachments[0],this._colorAttachmentMax=this._colorAttachmentMin+(a?c.getParameter(a.MAX_COLOR_ATTACHMENTS_WEBGL):0),this._colorAttachments[0]=a?a.COLOR_ATTACHMENT0_WEBGL:c.COLOR_ATTACHMENT0,!a)break;for(var l=1;l<16;++l)this._colorAttachments[l]=a.COLOR_ATTACHMENT0_WEBGL+l;break;case g.Context.BackendType.WebGL2:default:for(this._colorAttachmentMin=d.gl.COLOR_ATTACHMENT0,this._colorAttachmentMax=d.gl.COLOR_ATTACHMENT0+c.getParameter(c.MAX_COLOR_ATTACHMENTS),l=0;l<16;++l)this._colorAttachments[l]=c.COLOR_ATTACHMENT0+l}},v.prototype.queryInstancedArraySupport=function(d){(d.isWebGL2||d.supportsInstancedArrays)&&(this.drawArraysInstanced=d.isWebGL2?function(c,a,l,s){return d.gl.drawArraysInstanced(c,a,l,s)}:function(c,a,l,s){return d.instancedArrays.drawArraysInstancedANGLE(c,a,l,s)},this.drawElementsInstanced=d.isWebGL2?function(c,a,l,s,u){return d.gl.drawElementsInstanced(c,a,l,s,u)}:function(c,a,l,s,u){return d.instancedArrays.drawElementsInstancedANGLE(c,a,l,s,u)},this.vertexAttribDivisor=d.isWebGL2?function(c,a){return d.gl.vertexAttribDivisor(c,a)}:function(c,a){return d.instancedArrays.vertexAttribDivisorANGLE(c,a)})},Object.defineProperty(v.prototype,"MAX_DRAW_BUFFERS",{get:function(){return this._maxDrawBuffers},enumerable:!0,configurable:!0}),v.prototype.queryDrawBuffersSupport=function(d){(d.isWebGL2||d.supportsDrawBuffers)&&(this.drawBuffers=d.isWebGL2?function(c){return d.gl.drawBuffers(c)}:function(c){return d.drawBuffers.drawBuffersWEBGL(c)},this._maxDrawBuffers=d.isWebGL2?d.gl.MAX_DRAW_BUFFERS:d.drawBuffers.MAX_DRAW_BUFFERS_WEBGL)},v.prototype.queryVertexArrayObjectSupport=function(d){(d.isWebGL2||d.supportsVertexArrayObject)&&(this.createVertexArray=d.isWebGL2?function(){return d.gl.createVertexArray()}:function(){return d.vertexArrayObject.createVertexArrayOES()},this.deleteVertexArray=d.isWebGL2?function(c){return d.gl.deleteVertexArray(c)}:function(c){return d.vertexArrayObject.deleteVertexArrayOES(c)},this.isVertexArray=d.isWebGL2?function(c){return d.gl.isVertexArray(c)}:function(c){return d.vertexArrayObject.isVertexArrayOES(c)},this.bindVertexArray=d.isWebGL2?function(c){return d.gl.bindVertexArray(c)}:function(c){return d.vertexArrayObject.bindVertexArrayOES(c)})},Object.defineProperty(v.prototype,"maxUniformVec3Components",{get:function(){return this._maxUniformVec3Components},enumerable:!0,configurable:!0}),v.prototype.queryMaxUniformVec3Components=function(d){var c=d.gl;this._maxUniformVec3Components=d.isWebGL2?c.getParameter(c.MAX_VERTEX_UNIFORM_COMPONENTS):3*c.getParameter(c.MAX_VERTEX_UNIFORM_VECTORS)},v.prototype.queryBufferSubDataInterface=function(d){var c=d.gl;d.isWebGL2?this.bufferSubData=function(a,l,s,u,f){return f===void 0&&(f=0),c.bufferSubData(a,l,s,u,f)}:this.bufferSubData=function(a,l,s,u,f){return u===void 0&&(u=0),f===void 0&&(f=0),h.logIf(u!==0,h.LogLevel.Warning,"srcOffset ignored (not supported in WebGL)"),h.logIf(f!==0,h.LogLevel.Warning,"length ignored (not supported in WebGL)"),c.bufferSubData(a,l,s)}},v.prototype.queryTexImageInterface=function(d){var c=d.gl;d.isWebGL2?this.texImage2D=function(a,l,s,u,f,m,y,b,E,x){return E instanceof ArrayBuffer?c.texImage2D(a,l,s,u,f,m,y,b,E===void 0?null:E,x):(h.assert(x===void 0,"offset expected to be undefined for non ArrayBuffer source"),c.texImage2D(a,l,s,u,f,m,y,b,E===void 0?null:E))}:this.texImage2D=function(a,l,s,u,f,m,y,b,E,x){return E===void 0?c.texImage2D(a,l,s,u,f,m,y,b,null):E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array||E instanceof DataView?c.texImage2D(a,l,s,u,f,m,y,b,E):c.texImage2D(a,l,s,y,b,E)},d.supportsTexImage3D?this.texImage3D=function(a,l,s,u,f,m,y,b,E,x,w){return x instanceof ArrayBuffer?c.texImage3D(a,l,s,u,f,m,y,b,E,x===void 0?null:x,w):(h.assert(w===void 0,"offset expected to be undefined for non ArrayBuffer source"),c.texImage3D(a,l,s,u,f,m,y,b,E,x===void 0?null:x))}:this.texImage3D=function(a,l,s,u,f,m,y,b,E,x,w){return h.assert(!1,"texImage3D not supported on this context")}},v}();o.GL2Facade=p},function(n,o,i){var h,g=this&&this.__extends||(h=function(S,P){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,L){A.__proto__=L}||function(A,L){for(var k in L)L.hasOwnProperty(k)&&(A[k]=L[k])})(S,P)},function(S,P){function A(){this.constructor=S}h(S,P),S.prototype=P===null?Object.create(P):(A.prototype=P.prototype,new A)});Object.defineProperty(o,"__esModule",{value:!0});var p=i(10),v=i(1),d=i(3),c=i(0),a=i(13),l=i(21),s=i(27),u=i(43),f=i(29),m=i(30),y=i(31),b=i(87),E=i(32),x=i(14),w=function(S){function P(A,L){var k=S.call(this)||this;k._framePrecisionSubject=new p.ReplaySubject(1),k._size=[0,0],k._sizeSubject=new p.ReplaySubject(1),k._frameScaleSubject=new p.ReplaySubject(1),k._frameSizeSubject=new p.ReplaySubject(1),k._element=A instanceof HTMLCanvasElement?A:document.getElementById(A),k._element.addEventListener("webglcontextcreationerror",function(H){console.log(H.statusMessage||"Unknown error")},!1),k.observe(k._element),k._mouseEventProvider=new m.MouseEventProvider(k._element,200),k._touchEventProvider=new E.TouchEventProvider(k._element,200),k._pointerEventProvider=new y.PointerEventProvider(k._element,200),k._element.style.touchAction="none";var D,N=k._element.dataset;k._context=s.Context.request(k._element,L),k.configureController(N),k.configureSizeAndScale(N),k.configureContextLostAndRestore(),k.configureContextLostAndRestoreEmulation(),N.clearColor&&(D=d.parseVec4(N.clearColor),c.logIf(D===void 0,c.LogLevel.Warning,"data-clear-color could not be parsed, given '"+N.clearColor+"'")),k._clearColor=D?new l.Color(a.tuple4(D)):P.DEFAULT_CLEAR_COLOR;var W=N.accumulationFormat?N.accumulationFormat:P.DEFAULT_FRAME_PRECISION;return W in x.Wizard.Precision||(W=P.DEFAULT_FRAME_PRECISION,c.log(c.LogLevel.Warning,"unknown frame precision '"+N.accumulationFormat+"' changed to '"+W+"'")),k._framePrecision=W,k.framePrecisionNext(),k}return g(P,S),P.prototype.configureController=function(A){var L,k;this._controller=new u.Controller,this._controller.block(),A.multiFrameNumber&&(L=parseInt(A.multiFrameNumber,10),c.logIf(isNaN(L),c.LogLevel.Warning,"data-multi-frame-number could not be parsed, given '"+A.multiFrameNumber+"'")),A.debugFrameNumber&&(k=parseInt(A.debugFrameNumber,10),c.logIf(isNaN(k),c.LogLevel.Warning,"data-debug-frame-number could not be parsed, given '"+A.debugFrameNumber+"'")),this._controller.multiFrameNumber=L||P.DEFAULT_MULTI_FRAME_NUMBER,this._controller.debugFrameNumber=k||0;var D=!!L&&L!==this._controller.multiFrameNumber;c.logIf(D,c.LogLevel.Warning,"data-multi-frame-number changed to "+this._controller.multiFrameNumber+", given '"+A.multiFrameNumber+"'");var N=!!k&&k!==this._controller.debugFrameNumber;c.logIf(N,c.LogLevel.Warning,"data-debug-frame-number changed to "+this._controller.debugFrameNumber+", given '"+A.debugFrameNumber+"'")},P.prototype.configureSizeAndScale=function(A){var L,k;A.frameScale&&(L=d.parseVec2(A.frameScale),c.logIf(A.frameScale!==void 0&&L===void 0,c.LogLevel.Warning,"data-frame-scale could not be parsed, given '"+A.frameScale+"'")),this._frameScale=L?a.tuple2(L):[1,1],A.frameSize&&(k=d.parseVec2(A.frameSize),c.logIf(A.frameSize!==void 0&&k===void 0,c.LogLevel.Warning,"data-frame-size could not be parsed, given '"+A.frameSize+"'")),this._favorSizeOverScale=k!==void 0,this._frameSize=k?a.tuple2(k):[this._size[0],this._size[1]],this.onResize()},P.prototype.configureContextLostAndRestore=function(){var A=this;this._element.addEventListener("webglcontextlost",function(L){L.preventDefault(),A.onContextLost()},!1),this._element.addEventListener("webglcontextrestored",function(L){A.onContextRestore()},!1)},P.prototype.configureContextLostAndRestoreEmulation=function(){this._lostContextExtension=this._context.gl.getExtension("WEBGL_lose_context")},P.prototype.onContextLost=function(){c.log(c.LogLevel.Warning,"WebGL Context lost. Discarding renderer..."),this._controller.cancel(),this._controller.block(),this._renderer&&this._renderer.discard()},P.prototype.onContextRestore=function(){c.log(c.LogLevel.Warning,"WebGL Context restored. Reinitializing renderer...");var A=this._renderer;this.unbind(),this.bind(A),this._controller.unblock();var L=this._element.style.visibility;this._element.style.visibility="hidden",this._element.offsetHeight,this._element.style.visibility=L},P.prototype.retrieveSize=function(){var A=b.Resizable.elementSize(this._element);A!==void 0?(this._size=[A[0],A[1]],this.sizeNext()):this._size=[0,0]},P.prototype.onResize=function(){if(this.retrieveSize(),this._size[0]===0||this._size[1]===0)return c.log(c.LogLevel.Debug,"canvas width or height is invalid, resize discarded and controller blocked"),void this._controller.block();this._element.width=this._size[0],this._element.height=this._size[1],this._renderer&&this._controller.block(),this._favorSizeOverScale?this.frameSize=this._frameSize:this.frameScale=this._frameScale,this._renderer&&(this._controller.unblock(),this._renderer.swap())},P.prototype.framePrecisionNext=function(){this._framePrecisionSubject.next(this._framePrecision)},P.prototype.sizeNext=function(){this._sizeSubject.next(this._size)},P.prototype.frameScaleNext=function(){this._frameScaleSubject.next(this._frameScale)},P.prototype.frameSizeNext=function(){this._frameSizeSubject.next(this._frameSize)},P.prototype.bind=function(A){var L=this;this._renderer!==A&&(this.unbind(),A!==void 0&&(c.assert(this._controller.blocked,"expected controller to be blocked"),this._renderer=A,this._renderer.initialize(this.context,function(k){return L._controller.update(k)},{pointerEventProvider:this._pointerEventProvider,mouseEventProvider:this._mouseEventProvider,eyeGazeEventProvider:this._eyeGazeEventProvider}),this._renderer.frameSize=this._frameSize,this._renderer.clearColor=this._clearColor.rgba,this._renderer.framePrecision=this._framePrecision,this._renderer.debugTexture=-1,this._controller.controllable=this._renderer,this._controller.unblock()))},P.prototype.unbind=function(){this._renderer!==void 0&&(this._controller.block(),this._controller.controllable=void 0,this._renderer=void 0)},P.prototype.dispose=function(){S.prototype.dispose.call(this),this._renderer&&(this._renderer.uninitialize(),this.unbind())},P.prototype.resize=function(){this.onResize()},Object.defineProperty(P.prototype,"controller",{get:function(){return this._controller},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"renderer",{get:function(){return this._renderer},set:function(A){this.bind(A)},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"frameScale",{get:function(){return this._frameScale},set:function(A){if(isFinite(A[0])&&isFinite(A[1])){c.logIf(A[0]<0||A[0]>2,c.LogLevel.Info,"frame width scale clamped to [0.0,2.0], given "+A[0]),c.logIf(A[1]<0||A[1]>2,c.LogLevel.Info,"frame height scale clamped to [0.0,2.0], given "+A[0]);var L=v.vec2.create();d.clamp2(L,A,[0,0],[2,2]);var k=v.vec2.create();v.vec2.mul(k,this._size,L),v.vec2.max(k,[1,1],k),v.vec2.round(k,k),v.vec2.div(L,k,this._size),c.logIf(!v.vec2.exactEquals(L,A),2,"frame scale was adjusted to "+L.toString()+", given "+A.toString()),this._frameScale=a.tuple2(L),this._frameSize=a.tuple2(k),this._favorSizeOverScale=!1,this.frameScaleNext(),this.frameSizeNext(),this._renderer&&(this._renderer.frameSize=this._frameSize)}else c.log(c.LogLevel.Warning,"expected finite frame size, non-finite values ignored, given ["+A+"]")},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"frameScale$",{get:function(){return this._frameScaleSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"frameSize",{get:function(){return this._frameSize},set:function(A){if(isFinite(A[0])&&isFinite(A[1])){c.logIf(A[0]<1||A[0]>this._size[0],c.LogLevel.Info,"frame width scale clamped to [1,"+this._size[0]+"], given "+A[0]),c.logIf(A[1]<1||A[1]>this._size[1],c.LogLevel.Info,"frame height scale clamped to [1, "+this._size[1]+"], given "+A[1]);var L=v.vec2.create();d.clamp2(L,A,[1,1],this._size),v.vec2.round(L,L),c.logIf(!v.vec2.exactEquals(L,A),c.LogLevel.Warning,"frame size was adjusted to "+L.toString()+", given "+A.toString());var k=v.vec2.create();v.vec2.div(k,L,this._size),this._frameScale=a.tuple2(k),this._frameSize=a.tuple2(L),this._favorSizeOverScale=!v.vec2.exactEquals(this._frameSize,this._size),this.frameScaleNext(),this.frameSizeNext(),this._renderer&&(this._renderer.frameSize=this._frameSize)}else c.log(c.LogLevel.Warning,"expected finite frame size, non-finite values ignored, given ["+A+"]")},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"frameSize$",{get:function(){return this._frameSizeSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"clearColor",{get:function(){return this._clearColor},set:function(A){this._clearColor=A,this._renderer&&(this._renderer.clearColor=this._clearColor.rgba)},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"framePrecision",{get:function(){return this._framePrecision},set:function(A){this._framePrecision=A,this._renderer&&(this._renderer.framePrecision=this._framePrecision,this._framePrecision=this._renderer.framePrecision),this.framePrecisionNext()},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"framePrecision$",{get:function(){return this._framePrecisionSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"backend",{get:function(){return this._context.backendString},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"size$",{get:function(){return this._sizeSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"width",{get:function(){return this._size[0]},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"height",{get:function(){return this._size[1]},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"mouseEventProvider",{get:function(){return this._mouseEventProvider},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"touchEventProvider",{get:function(){return this._touchEventProvider},enumerable:!0,configurable:!0}),P.prototype.testLoseContext=function(){this._lostContextExtension!==void 0&&this._lostContextExtension.loseContext()},P.prototype.testRestoreContext=function(){this._lostContextExtension!==void 0&&this._lostContextExtension.restoreContext()},Object.defineProperty(P.prototype,"eyeGazeEventProvider",{get:function(){return this._eyeGazeEventProvider},enumerable:!0,configurable:!0}),P.prototype.activateEyeGazeEventProvider=function(A,L){this._eyeGazeEventProvider=new f.EyeGazeEventProvider(A,L)},P.DEFAULT_CLEAR_COLOR=new l.Color([.203,.227,.25,1]),P.DEFAULT_FRAME_PRECISION=x.Wizard.Precision.auto,P.DEFAULT_MULTI_FRAME_NUMBER=0,P}(b.Resizable);o.Canvas=w},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(0),g=function(){function p(){var v=this;if(this._resizeEventListener=function(){return p.resize()},this._mutationEventListener=function(){v._mutationObserver.takeRecords(),p.resize()},p.instances.length===0){var d="on"+p.EVENT_IDENTIFIER;p.eventSupported=document&&(d in document.documentElement||d in document.body),h.logIf(!p.eventSupported,h.LogLevel.Warning,"resize event not supported")}p.instances.length===0&&p.eventSupported&&window.addEventListener(p.EVENT_IDENTIFIER,this._resizeEventListener),p.instances.push(this)}return p.resize=function(){h.assert(p.instances.length>0,"resize event received without a single resizable registered"),p.instances.forEach(function(v){return v.onResize()})},p.elementSize=function(v){if(v===void 0||window===void 0||typeof window.devicePixelRatio!="number")return[0,0];var d=window.devicePixelRatio,c=getComputedStyle(v);if(c.width!==null&&c.width.endsWith("px")&&c.height!==null&&c.height.endsWith("px")){var a=[parseFloat(c.width),parseFloat(c.height)];return[Math.round(a[0]*d),Math.round(a[1]*d)]}h.log(h.LogLevel.Debug,"computed element size expected in 'px', given "+c.width+" "+c.height)},p.prototype.observe=function(v){v!==void 0&&(this._mutationObserver=new MutationObserver(this._mutationEventListener)),this._mutationObserver.observe(v,p.MUTATION_OBSERVER_CONFIG)},p.prototype.dispose=function(){var v=p.instances.indexOf(this);h.assert(v!==-1,"invalid reference counting of resizable instances"),p.instances.splice(v,1),p.instances.length===0&&p.eventSupported&&window.removeEventListener(p.EVENT_IDENTIFIER,this._resizeEventListener),this._mutationObserver&&this._mutationObserver.disconnect()},p.EVENT_IDENTIFIER="resize",p.instances=[],p.eventSupported=!1,p.MUTATION_OBSERVER_CONFIG={attributes:!0,attributeFilter:["style","class"],childList:!0,subtree:!0},p}();o.Resizable=g},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(3),g=i(0),p=i(21),v=i(34),d=function(){function c(){this._hint=c.InterpolationHint.Linear,this._colors=new Array,this._inverted=!1}return c.stride=function(a){switch(a){default:case c.ArrayType.RGB:case c.ArrayType.RGBf:return 3;case c.ArrayType.RGBA:case c.ArrayType.RGBAf:return 4}},c.fromPreset=function(a,l,s){return v.fetchJsonAsync(a,function(u){for(var f,m=0,y=u;m<y.length;m++){var b=y[m];if(b.identifier===l){f=b;break}}if(f!==void 0){for(var E=f.format,x=c.stride(E),w=f.colors,S=w.length-1,P=0;P<w.length;++P)if(w[P].length===s*x){S=P;break}var A,L=w[S],k=f.positions;if(k===void 0)return c.fromArray(L,E,s,void 0);for(P=0;P<k.length;++P)k[P].length===L.length&&(A=k[P]);return c.fromArray(L,E,s,A)}},c.SCHEMA.properties)},c.fromArray=function(a,l,s,u){if(s===0||a.length===0)return new c;for(var f=a,m=c.stride(l),y=f.length/m,b=new Array(y),E=0;E<f.length;E+=m){var x=new p.Color;switch(l){case c.ArrayType.RGB:x.fromUI8(f[E+0],f[E+1],f[E+2]);break;case c.ArrayType.RGBA:x.fromUI8(f[E+0],f[E+1],f[E+2],f[E+3]);break;case c.ArrayType.RGBf:x.fromF32(f[E+0],f[E+1],f[E+2]);break;case c.ArrayType.RGBAf:x.fromF32(f[E+0],f[E+1],f[E+2],f[E+3])}b[E/m]=x}var w=new c;if(u===void 0&&s===y)return w._colors=b,w;if(s===1&&w._colors.push(b[0]),u===void 0)for((u=new Array(y))[0]=0,E=1;E<y;++E)u[E]=E/(y-1);g.assert(u.length===b.length,"expected number of positions ("+u.length+") to match number of colors ("+b.length+")");var S=0,P=S+1,A=y-1;for(E=0;E<s;++E){var L=E===0?0:E/(s-1);if(L<=u[S])w._colors.push(b[S]);else if(u[A]<=L)w._colors.push(b[A]);else{for(var k=S+1;k<y;++k)if(!(u[k]<L)){P=k,S=k-1;break}var D=(L-u[S])/(u[P]-u[S]);w._colors.push(p.Color.lerp(b[S],b[P],D,p.Color.Space.LAB))}}return w},c.prototype.lerp=function(a,l){if(l===void 0&&(l=p.Color.Space.LAB),this._colors.length!==0){if(this._colors.length===1)return this._colors[0];var s=h.clamp(a,0,1);if(s<=0)return this._colors[0];if(s>=1)return this._colors[this._colors.length-1];var u=a*this._colors.length,f=Math.floor(u),m=f+1;return m>=this._colors.length?this._colors[this._colors.length-1]:(g.assert(m<this._colors.length,"expected upper not exceed maximum color index: "+m+" < "+this._colors.length),this._hint===c.InterpolationHint.Nearest?this._colors[u-f<=m-u?f:m]:p.Color.lerp(this._colors[f],this._colors[m],u-f,l))}},c.prototype.color=function(a){if(!(a<0||a>=this._colors.length))return this._colors[a]},Object.defineProperty(c.prototype,"colors",{get:function(){return this._colors},set:function(a){this._colors=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"hint",{get:function(){return this._hint},set:function(a){this._hint=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"length",{get:function(){return this._colors.length},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"inverted",{get:function(){return this._inverted},enumerable:!0,configurable:!0}),c.prototype.invert=function(){this._colors.reverse(),this._inverted=!this._inverted},c.prototype.bitsUI8=function(a,l){a===void 0&&(a=p.Color.Space.RGB),l===void 0&&(l=!0);for(var s=this._colors.length,u=l?4:3,f=new Uint8Array(s*u),m=0;m<s;++m){var y=this._colors[m].tuple(a,l);f[m*u+0]=255*y[0],f[m*u+1]=255*y[1],f[m*u+2]=255*y[2],l&&y.length===4&&(f[m*u+3]=255*y[3])}return f},c.prototype.bitsF32=function(a,l){a===void 0&&(a=p.Color.Space.RGB),l===void 0&&(l=!0);for(var s=this._colors.length,u=l?4:3,f=new Float32Array(s*u),m=0;m<s;++m){var y=this._colors[m].tuple(a,l);f[m*u+0]=y[0],f[m*u+1]=y[1],f[m*u+2]=y[2],l&&y.length===4&&(f[m*u+3]=y[3])}return f},c.SCHEMA=i(99),c}();o.ColorScale=d,function(c){(function(a){a.Linear="linear",a.Nearest="nearest"})(c.InterpolationHint||(c.InterpolationHint={})),function(a){a.sequential="sequential",a.diverging="diverging",a.qualitative="qualitative"}(c.ScaleType||(c.ScaleType={})),function(a){a.RGB="rgb",a.RGBf="rgbf",a.RGBA="rgba",a.RGBAf="rgbaf"}(c.ArrayType||(c.ArrayType={}))}(d=o.ColorScale||(o.ColorScale={})),o.ColorScale=d},function(n,o,i){var h=n.exports.Validator=i(90);n.exports.ValidatorResult=i(16).ValidatorResult,n.exports.ValidationError=i(16).ValidationError,n.exports.SchemaError=i(16).SchemaError,n.exports.SchemaScanResult=i(36).SchemaScanResult,n.exports.scan=i(36).scan,n.exports.validate=function(g,p,v){return new h().validate(g,p,v)}},function(n,o,i){var h=i(35),g=i(98),p=i(16),v=i(36).scan,d=p.ValidatorResult,c=p.SchemaError,a=p.SchemaContext,l=function f(){this.customFormats=Object.create(f.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(u),this.attributes=Object.create(g.validators)};function s(f){var m=typeof f=="string"?f:f.$ref;return typeof m=="string"&&m}l.prototype.customFormats={},l.prototype.schemas=null,l.prototype.types=null,l.prototype.attributes=null,l.prototype.unresolvedRefs=null,l.prototype.addSchema=function(f,m){var y=this;if(!f)return null;var b=v(m||"/",f),E=m||f.id;for(var x in b.id)this.schemas[x]=b.id[x];for(var x in b.ref)this.unresolvedRefs.push(x);return this.unresolvedRefs=this.unresolvedRefs.filter(function(w){return y.schemas[w]===void 0}),this.schemas[E]},l.prototype.addSubSchemaArray=function(f,m){if(Array.isArray(m))for(var y=0;y<m.length;y++)this.addSubSchema(f,m[y])},l.prototype.addSubSchemaObject=function(f,m){if(m&&typeof m=="object")for(var y in m)this.addSubSchema(f,m[y])},l.prototype.setSchemas=function(f){this.schemas=f},l.prototype.getSchema=function(f){return this.schemas[f]},l.prototype.validate=function(f,m,y,b){y||(y={});var E=y.propertyName||"instance",x=h.resolve(y.base||"/",m.id||"");if(!b){(b=new a(m,y,E,x,Object.create(this.schemas))).schemas[x]||(b.schemas[x]=m);var w=v(x,m);for(var S in w.id){var P=w.id[S];b.schemas[S]=P}}if(m){var A=this.validateSchema(f,m,y,b);if(!A)throw new Error("Result undefined");return A}throw new c("no schema specified",m)},l.prototype.validateSchema=function(f,m,y,b){var E,x=new d(f,m,y,b);if(typeof m=="boolean")m===!0?m={}:m===!1&&(m={type:[]});else if(!m)throw new Error("schema is undefined");if(m.extends)if(Array.isArray(m.extends)){var w={schema:m,ctx:b};m.extends.forEach(this.schemaTraverser.bind(this,w)),m=w.schema,w.schema=null,w.ctx=null,w=null}else m=p.deepMerge(m,this.superResolve(m.extends,b));if(E=s(m)){var S=this.resolve(m,E,b),P=new a(S.subschema,y,b.propertyPath,S.switchSchema,b.schemas);return this.validateSchema(f,S.subschema,y,P)}var A=y&&y.skipAttributes||[];for(var L in m)if(!g.ignoreProperties[L]&&A.indexOf(L)<0){var k=null,D=this.attributes[L];if(D)k=D.call(this,f,m,y,b);else if(y.allowUnknownAttributes===!1)throw new c("Unsupported attribute: "+L,m);k&&x.importErrors(k)}if(typeof y.rewrite=="function"){var N=y.rewrite.call(this,f,m,y,b);x.instance=N}return x},l.prototype.schemaTraverser=function(f,m){f.schema=p.deepMerge(f.schema,this.superResolve(m,f.ctx))},l.prototype.superResolve=function(f,m){var y;return(y=s(f))?this.resolve(f,y,m).subschema:f},l.prototype.resolve=function(f,m,y){if(m=y.resolve(m),y.schemas[m])return{subschema:y.schemas[m],switchSchema:m};var b=h.parse(m),E=b&&b.hash,x=E&&E.length&&m.substr(0,m.length-E.length);if(!x||!y.schemas[x])throw new c("no such schema <"+m+">",f);var w=p.objectGetPath(y.schemas[x],E.substr(1));if(w===void 0)throw new c("no such schema "+E+" located in <"+x+">",f);return{subschema:w,switchSchema:m}},l.prototype.testType=function(f,m,y,b,E){if(typeof this.types[E]=="function")return this.types[E].call(this,f);if(E&&typeof E=="object"){var x=this.validateSchema(f,E,y,b);return x===void 0||!(x&&x.errors.length)}return!0};var u=l.prototype.types={};u.string=function(f){return typeof f=="string"},u.number=function(f){return typeof f=="number"&&isFinite(f)},u.integer=function(f){return typeof f=="number"&&f%1==0},u.boolean=function(f){return typeof f=="boolean"},u.array=function(f){return Array.isArray(f)},u.null=function(f){return f===null},u.date=function(f){return f instanceof Date},u.any=function(f){return!0},u.object=function(f){return f&&typeof f=="object"&&!Array.isArray(f)&&!(f instanceof Date)},n.exports=l},function(n,o,i){(function(h,g){var p;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(v){o&&o.nodeType,h&&h.nodeType;var d=typeof g=="object"&&g;d.global!==d&&d.window!==d&&d.self;var c,a=2147483647,l=/^xn--/,s=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,y=String.fromCharCode;function b(D){throw new RangeError(f[D])}function E(D,N){for(var W=D.length,H=[];W--;)H[W]=N(D[W]);return H}function x(D,N){var W=D.split("@"),H="";return W.length>1&&(H=W[0]+"@",D=W[1]),H+E((D=D.replace(u,".")).split("."),N).join(".")}function w(D){for(var N,W,H=[],q=0,X=D.length;q<X;)(N=D.charCodeAt(q++))>=55296&&N<=56319&&q<X?(64512&(W=D.charCodeAt(q++)))==56320?H.push(((1023&N)<<10)+(1023&W)+65536):(H.push(N),q--):H.push(N);return H}function S(D){return E(D,function(N){var W="";return N>65535&&(W+=y((N-=65536)>>>10&1023|55296),N=56320|1023&N),W+y(N)}).join("")}function P(D,N){return D+22+75*(D<26)-((N!=0)<<5)}function A(D,N,W){var H=0;for(D=W?m(D/700):D>>1,D+=m(D/N);D>455;H+=36)D=m(D/35);return m(H+36*D/(D+38))}function L(D){var N,W,H,q,X,Y,J,ee,te,ne,fe,_e=[],ye=D.length,re=0,be=128,Ae=72;for((W=D.lastIndexOf("-"))<0&&(W=0),H=0;H<W;++H)D.charCodeAt(H)>=128&&b("not-basic"),_e.push(D.charCodeAt(H));for(q=W>0?W+1:0;q<ye;){for(X=re,Y=1,J=36;q>=ye&&b("invalid-input"),((ee=(fe=D.charCodeAt(q++))-48<10?fe-22:fe-65<26?fe-65:fe-97<26?fe-97:36)>=36||ee>m((a-re)/Y))&&b("overflow"),re+=ee*Y,!(ee<(te=J<=Ae?1:J>=Ae+26?26:J-Ae));J+=36)Y>m(a/(ne=36-te))&&b("overflow"),Y*=ne;Ae=A(re-X,N=_e.length+1,X==0),m(re/N)>a-be&&b("overflow"),be+=m(re/N),re%=N,_e.splice(re++,0,be)}return S(_e)}function k(D){var N,W,H,q,X,Y,J,ee,te,ne,fe,_e,ye,re,be,Ae=[];for(_e=(D=w(D)).length,N=128,W=0,X=72,Y=0;Y<_e;++Y)(fe=D[Y])<128&&Ae.push(y(fe));for(H=q=Ae.length,q&&Ae.push("-");H<_e;){for(J=a,Y=0;Y<_e;++Y)(fe=D[Y])>=N&&fe<J&&(J=fe);for(J-N>m((a-W)/(ye=H+1))&&b("overflow"),W+=(J-N)*ye,N=J,Y=0;Y<_e;++Y)if((fe=D[Y])<N&&++W>a&&b("overflow"),fe==N){for(ee=W,te=36;!(ee<(ne=te<=X?1:te>=X+26?26:te-X));te+=36)be=ee-ne,re=36-ne,Ae.push(y(P(ne+be%re,0))),ee=m(be/re);Ae.push(y(P(ee,0))),X=A(W,ye,H==q),W=0,++H}++W,++N}return Ae.join("")}c={version:"1.4.1",ucs2:{decode:w,encode:S},decode:L,encode:k,toASCII:function(D){return x(D,function(N){return s.test(N)?"xn--"+k(N):N})},toUnicode:function(D){return x(D,function(N){return l.test(N)?L(N.slice(4).toLowerCase()):N})}},(p=function(){return c}.call(o,i,o,h))===void 0||(h.exports=p)})()}).call(this,i(92)(n),i(93))},function(n,o){n.exports=function(i){return i.webpackPolyfill||(i.deprecate=function(){},i.paths=[],i.children||(i.children=[]),Object.defineProperty(i,"loaded",{enumerable:!0,get:function(){return i.l}}),Object.defineProperty(i,"id",{enumerable:!0,get:function(){return i.i}}),i.webpackPolyfill=1),i}},function(n,o){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,o,i){n.exports={isString:function(h){return typeof h=="string"},isObject:function(h){return typeof h=="object"&&h!==null},isNull:function(h){return h===null},isNullOrUndefined:function(h){return h==null}}},function(n,o,i){o.decode=o.parse=i(96),o.encode=o.stringify=i(97)},function(n,o,i){function h(p,v){return Object.prototype.hasOwnProperty.call(p,v)}n.exports=function(p,v,d,c){v=v||"&",d=d||"=";var a={};if(typeof p!="string"||p.length===0)return a;var l=/\+/g;p=p.split(v);var s=1e3;c&&typeof c.maxKeys=="number"&&(s=c.maxKeys);var u=p.length;s>0&&u>s&&(u=s);for(var f=0;f<u;++f){var m,y,b,E,x=p[f].replace(l,"%20"),w=x.indexOf(d);w>=0?(m=x.substr(0,w),y=x.substr(w+1)):(m=x,y=""),b=decodeURIComponent(m),E=decodeURIComponent(y),h(a,b)?g(a[b])?a[b].push(E):a[b]=[a[b],E]:a[b]=E}return a};var g=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"}},function(n,o,i){var h=function(d){switch(typeof d){case"string":return d;case"boolean":return d?"true":"false";case"number":return isFinite(d)?d:"";default:return""}};n.exports=function(d,c,a,l){return c=c||"&",a=a||"=",d===null&&(d=void 0),typeof d=="object"?p(v(d),function(s){var u=encodeURIComponent(h(s))+a;return g(d[s])?p(d[s],function(f){return u+encodeURIComponent(h(f))}).join(c):u+encodeURIComponent(h(d[s]))}).join(c):l?encodeURIComponent(h(l))+a+encodeURIComponent(h(d)):""};var g=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function p(d,c){if(d.map)return d.map(c);for(var a=[],l=0;l<d.length;l++)a.push(c(d[l],l));return a}var v=Object.keys||function(d){var c=[];for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&c.push(a);return c}},function(n,o,i){var h=i(16),g=h.ValidatorResult,p=h.SchemaError,v={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,exclusiveMinimum:!0,exclusiveMaximum:!0,additionalItems:!0,$schema:!0,$ref:!0,extends:!0}},d=v.validators={};function c(u,f,m,y,b){var E=f.throwError;f.throwError=!1;var x=this.validateSchema(u,b,f,m);return f.throwError=E,!x.valid&&y instanceof Function&&y(x),x.valid}function a(u,f,m,y,b,E){if(this.types.object(u)&&(!f.properties||f.properties[b]===void 0))if(f.additionalProperties===!1)E.addError({name:"additionalProperties",argument:b,message:"additionalProperty "+JSON.stringify(b)+" exists in instance when not allowed"});else{var x=f.additionalProperties||{};typeof m.preValidateProperty=="function"&&m.preValidateProperty(u,b,x,m,y);var w=this.validateSchema(u[b],x,m,y.makeChild(x,b));w.instance!==E.instance[b]&&(E.instance[b]=w.instance),E.importErrors(w)}}d.type=function(u,f,m,y){if(u===void 0)return null;var b=new g(u,f,m,y),E=Array.isArray(f.type)?f.type:[f.type];if(!E.some(this.testType.bind(this,u,f,m,y))){var x=E.map(function(w){return w.id&&"<"+w.id+">"||w+""});b.addError({name:"type",argument:x,message:"is not of a type(s) "+x})}return b},d.anyOf=function(u,f,m,y){if(u===void 0)return null;var b=new g(u,f,m,y),E=new g(u,f,m,y);if(!Array.isArray(f.anyOf))throw new p("anyOf must be an array");if(!f.anyOf.some(c.bind(this,u,m,y,function(w){E.importErrors(w)}))){var x=f.anyOf.map(function(w,S){return w.id&&"<"+w.id+">"||w.title&&JSON.stringify(w.title)||w.$ref&&"<"+w.$ref+">"||"[subschema "+S+"]"});m.nestedErrors&&b.importErrors(E),b.addError({name:"anyOf",argument:x,message:"is not any of "+x.join(",")})}return b},d.allOf=function(u,f,m,y){if(u===void 0)return null;if(!Array.isArray(f.allOf))throw new p("allOf must be an array");var b=new g(u,f,m,y),E=this;return f.allOf.forEach(function(x,w){var S=E.validateSchema(u,x,m,y);if(!S.valid){var P=x.id&&"<"+x.id+">"||x.title&&JSON.stringify(x.title)||x.$ref&&"<"+x.$ref+">"||"[subschema "+w+"]";b.addError({name:"allOf",argument:{id:P,length:S.errors.length,valid:S},message:"does not match allOf schema "+P+" with "+S.errors.length+" error[s]:"}),b.importErrors(S)}}),b},d.oneOf=function(u,f,m,y){if(u===void 0)return null;if(!Array.isArray(f.oneOf))throw new p("oneOf must be an array");var b=new g(u,f,m,y),E=new g(u,f,m,y),x=f.oneOf.filter(c.bind(this,u,m,y,function(S){E.importErrors(S)})).length,w=f.oneOf.map(function(S,P){return S.id&&"<"+S.id+">"||S.title&&JSON.stringify(S.title)||S.$ref&&"<"+S.$ref+">"||"[subschema "+P+"]"});return x!==1&&(m.nestedErrors&&b.importErrors(E),b.addError({name:"oneOf",argument:w,message:"is not exactly one from "+w.join(",")})),b},d.properties=function(u,f,m,y){if(this.types.object(u)){var b=new g(u,f,m,y),E=f.properties||{};for(var x in E){typeof m.preValidateProperty=="function"&&m.preValidateProperty(u,x,E[x],m,y);var w=Object.hasOwnProperty.call(u,x)?u[x]:void 0,S=this.validateSchema(w,E[x],m,y.makeChild(E[x],x));S.instance!==b.instance[x]&&(b.instance[x]=S.instance),b.importErrors(S)}return b}},d.patternProperties=function(u,f,m,y){if(this.types.object(u)){var b=new g(u,f,m,y),E=f.patternProperties||{};for(var x in u){var w=!0;for(var S in E)if(new RegExp(S).test(x)){w=!1,typeof m.preValidateProperty=="function"&&m.preValidateProperty(u,x,E[S],m,y);var P=this.validateSchema(u[x],E[S],m,y.makeChild(E[S],x));P.instance!==b.instance[x]&&(b.instance[x]=P.instance),b.importErrors(P)}w&&a.call(this,u,f,m,y,x,b)}return b}},d.additionalProperties=function(u,f,m,y){if(this.types.object(u)){if(f.patternProperties)return null;var b=new g(u,f,m,y);for(var E in u)a.call(this,u,f,m,y,E,b);return b}},d.minProperties=function(u,f,m,y){if(this.types.object(u)){var b=new g(u,f,m,y);return Object.keys(u).length>=f.minProperties||b.addError({name:"minProperties",argument:f.minProperties,message:"does not meet minimum property length of "+f.minProperties}),b}},d.maxProperties=function(u,f,m,y){if(this.types.object(u)){var b=new g(u,f,m,y);return Object.keys(u).length<=f.maxProperties||b.addError({name:"maxProperties",argument:f.maxProperties,message:"does not meet maximum property length of "+f.maxProperties}),b}},d.items=function(u,f,m,y){var b=this;if(this.types.array(u)&&f.items){var E=new g(u,f,m,y);return u.every(function(x,w){var S=Array.isArray(f.items)?f.items[w]||f.additionalItems:f.items;if(S===void 0)return!0;if(S===!1)return E.addError({name:"items",message:"additionalItems not permitted"}),!1;var P=b.validateSchema(x,S,m,y.makeChild(S,w));return P.instance!==E.instance[w]&&(E.instance[w]=P.instance),E.importErrors(P),!0}),E}},d.minimum=function(u,f,m,y){if(this.types.number(u)){var b=new g(u,f,m,y);return(f.exclusiveMinimum&&f.exclusiveMinimum===!0?u>f.minimum:u>=f.minimum)||b.addError({name:"minimum",argument:f.minimum,message:"must have a minimum value of "+f.minimum}),b}},d.maximum=function(u,f,m,y){if(this.types.number(u)){var b=new g(u,f,m,y);return(f.exclusiveMaximum&&f.exclusiveMaximum===!0?u<f.maximum:u<=f.maximum)||b.addError({name:"maximum",argument:f.maximum,message:"must have a maximum value of "+f.maximum}),b}};var l=function(u,f,m,y,b,E){if(this.types.number(u)){var x=f[b];if(x==0)throw new p(b+" cannot be zero");var w=new g(u,f,m,y),S=h.getDecimalPlaces(u),P=h.getDecimalPlaces(x),A=Math.max(S,P),L=Math.pow(10,A);return Math.round(u*L)%Math.round(x*L)!=0&&w.addError({name:b,argument:x,message:E+JSON.stringify(x)}),w}};function s(u,f,m){var y,b=m.length;for(y=f+1;y<b;y++)if(h.deepCompareStrict(u,m[y]))return!1;return!0}d.multipleOf=function(u,f,m,y){return l.call(this,u,f,m,y,"multipleOf","is not a multiple of (divisible by) ")},d.divisibleBy=function(u,f,m,y){return l.call(this,u,f,m,y,"divisibleBy","is not divisible by (multiple of) ")},d.required=function(u,f,m,y){var b=new g(u,f,m,y);return u===void 0&&f.required===!0?b.addError({name:"required",message:"is required"}):this.types.object(u)&&Array.isArray(f.required)&&f.required.forEach(function(E){u[E]===void 0&&b.addError({name:"required",argument:E,message:"requires property "+JSON.stringify(E)})}),b},d.pattern=function(u,f,m,y){if(this.types.string(u)){var b=new g(u,f,m,y);return u.match(f.pattern)||b.addError({name:"pattern",argument:f.pattern,message:"does not match pattern "+JSON.stringify(f.pattern.toString())}),b}},d.format=function(u,f,m,y){if(u!==void 0){var b=new g(u,f,m,y);return b.disableFormat||h.isFormat(u,f.format,this)||b.addError({name:"format",argument:f.format,message:"does not conform to the "+JSON.stringify(f.format)+" format"}),b}},d.minLength=function(u,f,m,y){if(this.types.string(u)){var b=new g(u,f,m,y),E=u.match(/[\uDC00-\uDFFF]/g);return u.length-(E?E.length:0)>=f.minLength||b.addError({name:"minLength",argument:f.minLength,message:"does not meet minimum length of "+f.minLength}),b}},d.maxLength=function(u,f,m,y){if(this.types.string(u)){var b=new g(u,f,m,y),E=u.match(/[\uDC00-\uDFFF]/g);return u.length-(E?E.length:0)<=f.maxLength||b.addError({name:"maxLength",argument:f.maxLength,message:"does not meet maximum length of "+f.maxLength}),b}},d.minItems=function(u,f,m,y){if(this.types.array(u)){var b=new g(u,f,m,y);return u.length>=f.minItems||b.addError({name:"minItems",argument:f.minItems,message:"does not meet minimum length of "+f.minItems}),b}},d.maxItems=function(u,f,m,y){if(this.types.array(u)){var b=new g(u,f,m,y);return u.length<=f.maxItems||b.addError({name:"maxItems",argument:f.maxItems,message:"does not meet maximum length of "+f.maxItems}),b}},d.uniqueItems=function(u,f,m,y){if(this.types.array(u)){var b=new g(u,f,m,y);return u.every(function(E,x,w){for(var S=x+1;S<w.length;S++)if(h.deepCompareStrict(E,w[S]))return!1;return!0})||b.addError({name:"uniqueItems",message:"contains duplicate item"}),b}},d.uniqueItems=function(u,f,m,y){if(this.types.array(u)){var b=new g(u,f,m,y);return u.every(s)||b.addError({name:"uniqueItems",message:"contains duplicate item"}),b}},d.dependencies=function(u,f,m,y){if(this.types.object(u)){var b=new g(u,f,m,y);for(var E in f.dependencies)if(u[E]!==void 0){var x=f.dependencies[E],w=y.makeChild(x,E);if(typeof x=="string"&&(x=[x]),Array.isArray(x))x.forEach(function(P){u[P]===void 0&&b.addError({name:"dependencies",argument:w.propertyPath,message:"property "+P+" not found, required by "+w.propertyPath})});else{var S=this.validateSchema(u,x,m,w);b.instance!==S.instance&&(b.instance=S.instance),S&&S.errors.length&&(b.addError({name:"dependencies",argument:w.propertyPath,message:"does not meet dependency required by "+w.propertyPath}),b.importErrors(S))}}return b}},d.enum=function(u,f,m,y){if(u===void 0)return null;if(!Array.isArray(f.enum))throw new p("enum expects an array",f);var b=new g(u,f,m,y);return f.enum.some(h.deepCompareStrict.bind(null,u))||b.addError({name:"enum",argument:f.enum,message:"is not one of enum values: "+f.enum.map(String).join(",")}),b},d.const=function(u,f,m,y){if(u===void 0)return null;var b=new g(u,f,m,y);return h.deepCompareStrict(f.const,u)||b.addError({name:"const",argument:f.const,message:"does not exactly match expected constant: "+f.const}),b},d.not=d.disallow=function(u,f,m,y){var b=this;if(u===void 0)return null;var E=new g(u,f,m,y),x=f.not||f.disallow;return x?(Array.isArray(x)||(x=[x]),x.forEach(function(w){if(b.testType(u,f,m,y,w)){var S=w&&w.id&&"<"+w.id+">"||w;E.addError({name:"not",argument:S,message:"is of prohibited type "+S})}}),E):null},n.exports=v},function(n){n.exports=JSON.parse('{"id":"/ColorScalePresets","title":"Color Scale Presets Schema","description":"JSON schema for a color scale presets data, used in the webgl-operate module for validation.","type":"array","items":{"type":"object","properties":{"identifier":{"type":"string"},"type":{"type":"string","enum":["sequential","diverging","qualitative"]},"format":{"type":"string","enum":["rgb","rgbf"]},"colors":{"type":"array","items":{"type":"array","items":{"type":["integer","number"]}}},"positions":{"type":"array","items":{"type":"array","items":{"type":["integer","number"]}}}},"required":["identifier","format","colors"],"additionalProperties":false}}')},function(n,o,i){var h,g=this&&this.__extends||(h=function(l,s){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var m in f)f.hasOwnProperty(m)&&(u[m]=f[m])})(l,s)},function(l,s){function u(){this.constructor=l}h(l,s),l.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}),p=this&&this.__decorate||function(l,s,u,f){var m,y=arguments.length,b=y<3?s:f===null?f=Object.getOwnPropertyDescriptor(s,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(l,s,u,f);else for(var E=l.length-1;E>=0;E--)(m=l[E])&&(b=(y<3?m(b):y>3?m(s,u,b):m(s,u))||b);return y>3&&b&&Object.defineProperty(s,u,b),b};Object.defineProperty(o,"__esModule",{value:!0});var v=i(0),d=i(20),c=i(2),a=function(l){function s(){var u=l!==null&&l.apply(this,arguments)||this;return u._width=0,u._height=0,u._depth=0,u._internalFormat=0,u._format=0,u._type=0,u}return g(s,l),s.prototype.create=function(u,f,m,y,b,E){v.assert(this._context.supportsTexImage3D,"expected texImage3D to be supported"),v.assert(u>0&&f>0&&m>0,"texture requires valid width, height, and depth of greater than zero");var x=this._context.gl,w=this._context.gl2facade;return this._object=x.createTexture(),this._width=u,this._height=f,this._depth=m,this._internalFormat=y,this._format=b,this._type=E,x.bindTexture(x.TEXTURE_3D,this._object),x.texParameteri(x.TEXTURE_3D,x.TEXTURE_MAG_FILTER,x.NEAREST),x.texParameteri(x.TEXTURE_3D,x.TEXTURE_MIN_FILTER,x.NEAREST),x.texParameteri(x.TEXTURE_3D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_3D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_3D,x.TEXTURE_WRAP_R,x.CLAMP_TO_EDGE),w.texImage3D(x.TEXTURE_3D,0,this._internalFormat,this._width,this._height,this._depth,0,this._format,this._type),x.bindTexture(x.TEXTURE_3D,s.DEFAULT_TEXTURE),this._valid=x.isTexture(this._object),this.reallocate(),this._object},s.prototype.delete=function(){v.assert(this._object instanceof WebGLTexture,"expected WebGLTexture object"),this._context.gl.deleteTexture(this._object),this._object=void 0,this._valid=!1,this._internalFormat=0,this._format=0,this._type=0,this._width=0,this._height=0,this._depth=0},s.prototype.reallocate=function(){var u=this.context.gl,f=this._context.gl2facade,m=this._width*this._height*this._depth*d.byteSizeOfFormat(this.context,this._internalFormat);this._type===f.HALF_FLOAT&&this._internalFormat!==u.RGBA16F?m*=2:this._type===u.FLOAT&&this._internalFormat!==u.RGBA16F&&(m*=4),this.context.allocationRegister.reallocate(this._identifier,m)},s.prototype.bind=function(u){var f=this.context.gl;u&&f.activeTexture(u),f.bindTexture(f.TEXTURE_3D,this._object)},s.prototype.unbind=function(u){var f=this.context.gl;u&&f.activeTexture(u),f.bindTexture(f.TEXTURE_3D,s.DEFAULT_TEXTURE)},s.prototype.load=function(u,f,m){return v.assert(!1,"not implemented"),new Promise(function(){return!0})},s.prototype.data=function(u,f,m){f===void 0&&(f=!0),m===void 0&&(m=!0);var y=this.context.gl,b=this._context.gl2facade;f&&this.bind(),b.texImage3D(y.TEXTURE_3D,0,this._internalFormat,this._width,this._height,this._depth,0,this._format,this._type,u),m&&this.unbind(),this.reallocate()},s.prototype.filter=function(u,f,m,y){m===void 0&&(m=!0),y===void 0&&(y=!0);var b=this.context.gl;m&&this.bind(),b.texParameteri(b.TEXTURE_3D,b.TEXTURE_MAG_FILTER,u),b.texParameteri(b.TEXTURE_3D,b.TEXTURE_MIN_FILTER,f),y&&this.unbind()},s.prototype.wrap=function(u,f,m,y,b){y===void 0&&(y=!0),b===void 0&&(b=!0);var E=this.context.gl;y&&this.bind(),E.texParameteri(E.TEXTURE_3D,E.TEXTURE_WRAP_S,u),E.texParameteri(E.TEXTURE_3D,E.TEXTURE_WRAP_T,f),E.texParameteri(E.TEXTURE_3D,E.TEXTURE_WRAP_T,m),b&&this.unbind()},s.prototype.reformat=function(u,f,m,y,b){y===void 0&&(y=!0),b===void 0&&(b=!0),(u!==this._internalFormat||f!==void 0&&f!==this._format||m!==void 0&&m!==this._type)&&(v.assert(u!==void 0,"valid internal format expected"),this._internalFormat=u,f&&(this._format=f),m&&(this._type=m),this.data(void 0,y,b))},s.prototype.resize=function(u,f,m,y,b){y===void 0&&(y=!0),b===void 0&&(b=!0),u===this._width&&f===this._height&&m===this._depth||(this._width=u,this._height=f,this._depth=m,this.data(void 0,y,b))},Object.defineProperty(s.prototype,"bytes",{get:function(){return this.assertInitialized(),this.context.allocationRegister.allocated(this._identifier)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"internalFormat",{get:function(){return this.assertInitialized(),this._internalFormat},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"format",{get:function(){return this.assertInitialized(),this._format},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"type",{get:function(){return this.assertInitialized(),this._type},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"width",{get:function(){return this.assertInitialized(),this._width},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"height",{get:function(){return this.assertInitialized(),this._height},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"depth",{get:function(){return this.assertInitialized(),this._depth},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return this.assertInitialized(),[this._width,this._height,this._depth]},enumerable:!0,configurable:!0}),s.DEFAULT_TEXTURE=void 0,p([c.Initializable.assert_initialized()],s.prototype,"bind",null),p([c.Initializable.assert_initialized()],s.prototype,"unbind",null),p([c.Initializable.assert_initialized()],s.prototype,"load",null),p([c.Initializable.assert_initialized()],s.prototype,"data",null),p([c.Initializable.assert_initialized()],s.prototype,"filter",null),p([c.Initializable.assert_initialized()],s.prototype,"wrap",null),p([c.Initializable.assert_initialized()],s.prototype,"reformat",null),p([c.Initializable.assert_initialized()],s.prototype,"resize",null),s}(i(8).AbstractObject);o.Texture3D=a},function(n,o,i){var h,g=this&&this.__extends||(h=function(a,l){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)u.hasOwnProperty(f)&&(s[f]=u[f])})(a,l)},function(a,l){function s(){this.constructor=a}h(a,l),a.prototype=l===null?Object.create(l):(s.prototype=l.prototype,new s)}),p=this&&this.__decorate||function(a,l,s,u){var f,m=arguments.length,y=m<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,s):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(a,l,s,u);else for(var b=a.length-1;b>=0;b--)(f=a[b])&&(y=(m<3?f(y):m>3?f(l,s,y):f(l,s))||y);return m>3&&y&&Object.defineProperty(l,s,y),y};Object.defineProperty(o,"__esModule",{value:!0});var v=i(5),d=i(2),c=function(a){function l(s,u,f,m,y){m===void 0&&(m=0);var b=a.call(this)||this;return b._updates=new Array,b._cpuBuffer=new ArrayBuffer(u),b._gpuBuffer=new v.Buffer(s,y),b._usage=f,b._mergeThreshold=m,b}return g(l,a),l.updatesNeedMerge=function(s,u,f){return u.begin-s.end<f||f===-1},l.prototype.mergeUpdatesLeft=function(s){for(var u=0,f=this._updates[s],m=s-1;m>=0;m--){var y=this._updates[m];if(!l.updatesNeedMerge(y,f,this._mergeThreshold))break;f.begin=Math.min(f.begin,y.begin),f.end=Math.max(f.end,y.end),u++}return this._updates.splice(s-u,u),u+1},l.prototype.mergeUpdatesRight=function(s){for(var u=0,f=this._updates[s],m=s+1;m<this._updates.length;m++){var y=this._updates[m];if(!l.updatesNeedMerge(f,y,this._mergeThreshold))break;f.begin=Math.min(f.begin,y.begin),f.end=Math.max(f.end,y.end),u++}return this._updates.splice(s+1,u),u+1},l.prototype.addUpdate=function(s){var u=this._updates.findIndex(function(f){return s.begin<f.begin});u===-1?(this._updates.push(s),this.mergeUpdatesLeft(this._updates.length-1)):(this._updates.splice(u,0,s),this.mergeUpdatesRight(u),this.mergeUpdatesLeft(u))},l.prototype.initialize=function(s){return this._gpuBuffer.initialize(s)},l.prototype.uninitialize=function(){this._gpuBuffer.uninitialize()},l.prototype.bind=function(){this._gpuBuffer.bind()},l.prototype.unbind=function(){this._gpuBuffer.unbind()},l.prototype.attribEnable=function(s,u,f,m,y,b,E,x){m===void 0&&(m=!1),y===void 0&&(y=0),b===void 0&&(b=0),E===void 0&&(E=!0),x===void 0&&(x=!0),this._gpuBuffer.attribEnable(s,u,f,m,y,b,E,x)},l.prototype.attribDisable=function(s,u,f){u===void 0&&(u=!0),f===void 0&&(f=!0),this._gpuBuffer.attribDisable(s,u,f)},l.prototype.mergeSubDataRanges=function(){for(var s=0;s<this._updates.length;)s+=this.mergeUpdatesRight(s)},l.prototype.subData=function(s,u){var f;f=u instanceof ArrayBuffer?new Uint8Array(u):new Uint8Array(u.buffer).subarray(u.byteOffset,u.byteOffset+u.byteLength),new Uint8Array(this._cpuBuffer).set(f,s),this.addUpdate({begin:s,end:s+f.byteLength})},l.prototype.update=function(s,u){if(s===void 0&&(s=!1),u===void 0&&(u=!1),s&&this._gpuBuffer.bind(),this._gpuBuffer.bytes!==this._cpuBuffer.byteLength)this._gpuBuffer.data(this._cpuBuffer,this._usage);else for(var f=new Uint8Array(this._cpuBuffer),m=0,y=this._updates;m<y.length;m++){var b=y[m],E=f.subarray(b.begin,b.end);this._gpuBuffer.subData(b.begin,E)}u&&this._gpuBuffer.unbind(),this._updates.length=0},Object.defineProperty(l.prototype,"size",{get:function(){return this._cpuBuffer.byteLength},set:function(s){var u=this._cpuBuffer;this._cpuBuffer=new ArrayBuffer(s);var f=new Uint8Array(u).slice(0,s);new Uint8Array(this._cpuBuffer).set(f)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"target",{get:function(){return this.assertInitialized(),this._gpuBuffer.target},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"usage",{get:function(){return this._usage},set:function(s){this._usage=s},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"mergeThreshold",{get:function(){return this._mergeThreshold},set:function(s){this._mergeThreshold=s},enumerable:!0,configurable:!0}),p([d.Initializable.initialize()],l.prototype,"initialize",null),p([d.Initializable.uninitialize()],l.prototype,"uninitialize",null),p([d.Initializable.assert_initialized()],l.prototype,"bind",null),p([d.Initializable.assert_initialized()],l.prototype,"unbind",null),p([d.Initializable.assert_initialized()],l.prototype,"attribEnable",null),p([d.Initializable.assert_initialized()],l.prototype,"attribDisable",null),p([d.Initializable.assert_initialized()],l.prototype,"update",null),l}(d.Initializable);o.UnifiedBuffer=c},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(1),g=i(3),p=i(0),v=function(){function d(){this._tileSize=[0,0],this._padding=h.vec4.fromValues(0,0,0,0),this._tile=-1,this._algorithm=d.Algorithm.ScanLine,this._offset=[0,0]}return d.hilbertIndices=function(c,a,l,s,u,f,m,y,b,E,x){if(E>0)return x=this.hilbertIndices(c,a,l,s,u,y/2,b/2,f/2,m/2,E-1,x),x=this.hilbertIndices(c,a,l,s+f/2,u+m/2,f/2,m/2,y/2,b/2,E-1,x),x=this.hilbertIndices(c,a,l,s+f/2+y/2,u+m/2+b/2,f/2,m/2,y/2,b/2,E-1,x),this.hilbertIndices(c,a,l,s+f/2+y,u+m/2+b,-y/2,-b/2,-f/2,-m/2,E-1,x);if(u+=(m+b-1)/2,(s+=(f+y-1)/2)<a&&u<l){var w=2*x;c[w+0]=s,c[w+1]=u,++x}return x},d.generateHilbertIndices=function(c,a,l){p.assert(c.length===2*a*l,"expected interleaved indices-array of length "+2*a*l+", given "+c.length);var s=Math.max(a,l),u=Math.ceil(Math.log2(s)),f=p.upperPowerOfTwo(s);this.hilbertIndices(c,a,l,0,0,f,0,0,f,u,0)},d.generateScanLineIndices=function(c,a,l){p.assert(c.length===2*a*l,"expected interleaved indices-array of length "+2*a*l+", given "+c.length);for(var s=0;s<l;++s)for(var u=0;u<a;++u){var f=2*(u+s*a);c[f+0]=u,c[f+1]=s}},d.generateZCurveIndices=function(c,a,l){p.assert(c.length===2*a*l,"expected interleaved indices-array of length "+2*a*l+", given "+c.length);for(var s=Math.max(a,l),u=2*Math.floor(Math.log2(s)),f=0,m=0;m<a*l;++f){for(var y=0,b=0,E=0;E<u;++E)y+=(f>>2*E&1)<<E,b+=(f>>2*E+1&1)<<E;if(y<a&&b<l){var x=2*m;c[x+0]=y,c[x+1]=b,++m}}},d.prototype.invalidate=function(c){c&&(this._indices=new Uint16Array(0)),this._valid=!1},d.prototype.ensureValidIterationIndices=function(){if(!(this._indices.length>0))switch(this._indices=new Uint16Array(2*this.numTiles),this._algorithm){case d.Algorithm.ScanLine:d.generateScanLineIndices(this._indices,this.numXTiles,this.numYTiles);break;case d.Algorithm.HilbertCurve:d.generateHilbertIndices(this._indices,this.numXTiles,this.numYTiles);break;case d.Algorithm.ZCurve:d.generateZCurveIndices(this._indices,this.numXTiles,this.numYTiles);break;default:d.generateScanLineIndices(this._indices,this.numXTiles,this.numYTiles)}},d.prototype.tableIndices=function(){this.ensureValidIterationIndices();var c=2*this.tile;return[this._indices[c+0],this._indices[c+1]]},d.prototype.getPaddedTileSize=function(){return[this.padding[1]+this.padding[3]+this.tileSize[0],this.padding[0]+this.padding[2]+this.tileSize[1]]},d.prototype.nextTile=function(){return!(this.tile>=this.numTiles-1||(this.tile<0&&(this.tile=-1),++this.tile,this.update(),0))},d.prototype.hasNextTile=function(){return this.tile<=this.numTiles-1&&this.tile>=0},d.prototype.reset=function(){this.tile=-1,this._offset[0]=0,this._offset[1]=0},d.prototype.sourceCameraChanged=function(){p.assert(this._sourceCamera!==void 0,"expected the unput/source camera to be defined"),this._camera=Object.create(this._sourceCamera)},d.prototype.update=function(){if(this._valid)return this._offset;if(this.numTiles<=this.tile||0>this.tile)return p.log(p.LogLevel.Warning,"index "+this.tile+" is out of bounds "+this.numTiles+", returning first tile"),this._offset;p.assert(this._sourceViewport!==void 0&&this._sourceCamera!==void 0,"expected source camera and source viewport to be defined before updating"),this._valid=!0;var c=this.tableIndices(),a=this.sourceViewport,l=this.getPaddedTileSize(),s=[0,0];s[0]=c[0]*this.tileSize[0]+l[0]/2,s[1]=c[1]*this.tileSize[1]+l[1]/2;var u=[0,0];u[0]=c[0]*this.tileSize[0],u[1]=c[1]*this.tileSize[1];var f=[2*s[0]/a[0]-1,2*s[1]/a[1]-1],m=h.vec3.fromValues(a[0]/l[0],a[1]/l[1],1),y=h.vec3.fromValues(-f[0],-f[1],0),b=h.mat4.scale(g.m4(),h.mat4.identity(g.m4()),m),E=h.mat4.translate(g.m4(),b,y);return this._camera.postViewProjection=E,this._offset=u,u},Object.defineProperty(d.prototype,"valid",{get:function(){return this._camera!==void 0&&this._sourceCamera!==void 0&&this._valid},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"numXTiles",{get:function(){return p.assert(this._sourceViewport!==void 0,"expected the source viewport to be defined"),Math.ceil(this.sourceViewport[0]/this.tileSize[0])},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"numYTiles",{get:function(){return p.assert(this._sourceViewport!==void 0,"expected the source viewport to be defined"),Math.ceil(this.sourceViewport[1]/this.tileSize[1])},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"numTiles",{get:function(){return this.numXTiles*this.numYTiles},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"offset",{get:function(){return this._offset},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"camera",{get:function(){return this._camera},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"viewport",{get:function(){return[this.offset[0],this.offset[1],this.tileSize[0],this.tileSize[1]]},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"sourceCamera",{get:function(){return this._sourceCamera},set:function(c){c!==void 0?(this._sourceCamera=c,this._camera=Object.create(c),this.invalidate(!1)):this._sourceCamera=this._camera=void 0},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"tile",{get:function(){return this._tile},set:function(c){this._tile!==c&&(this._tile=c,this.invalidate(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"sourceViewport",{get:function(){return this._sourceViewport},set:function(c){this._sourceViewport!==void 0&&c!==void 0&&this._sourceViewport[0]===c[0]&&this._sourceViewport[1]===c[1]||(this._sourceViewport=c,this.invalidate(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"tileSize",{get:function(){return this._tileSize},set:function(c){this._tileSize[0]===c[0]&&this._tileSize[1]===c[1]||(this._tileSize=c,this.invalidate(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"padding",{get:function(){return this._padding},set:function(c){h.vec4.equals(this._padding,c)||(this._padding=h.vec4.clone(c),this.invalidate(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"algorithm",{get:function(){return this._algorithm},set:function(c){this._algorithm!==c&&(this._algorithm=c,this.invalidate(!0))},enumerable:!0,configurable:!0}),d}();o.TileCameraGenerator=v,function(d){(function(c){c.ScanLine="scanline",c.HilbertCurve="hilbertcurve",c.ZCurve="zcurve"})(d.Algorithm||(d.Algorithm={}))}(v=o.TileCameraGenerator||(o.TileCameraGenerator={})),o.TileCameraGenerator=v},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(1),g=i(33),p=i(22),v=i(0),d=i(53),c=i(54),a=i(55),l=i(56),s=i(57),u=i(40),f=i(58),m=function(){function y(b,E){var x=this;this._alwaysRotateOnMove=!1,this._invalidate=b,this._eventHandler=new g.EventHandler(b,E),this._eventHandler.pushPointerDownHandler(function(w,S){return x.onPointerDown(w,S)}),this._eventHandler.pushPointerUpHandler(function(w,S){return x.onPointerUp(w,S)}),this._eventHandler.pushPointerEnterHandler(function(w,S){return x.onPointerEnter(w,S)}),this._eventHandler.pushPointerLeaveHandler(function(w,S){return x.onPointerLeave(w,S)}),this._eventHandler.pushPointerMoveHandler(function(w,S){return x.onPointerMove(w,S)}),this._eventHandler.pushPointerCancelHandler(function(w,S){return x.onPointerCancel(w,S)}),this._eventHandler.pushMouseWheelHandler(function(w,S){return x.onWheel(w,S)}),this.rotationMetaphor=y.RotationMetaphor.Turntable,this._pan=new c.PanModifier,this._pinch=new a.PinchZoomModifier,this._wheelZoom=new f.WheelZoomModifier,this._activeEvents=new Map}return y.prototype.mode=function(){var b=Array.from(this._activeEvents.values()),E=this.getPrimaryEvent(b);if(E!==void 0){var x=E.pointerType==="mouse",w=E.pointerType==="touch"||E.pointerType==="pen",S=1&E.buttons,P=E.shiftKey,A=p.PointerLock.active()&&this._alwaysRotateOnMove,L=this._activeEvents.size,k=x&&S&&L===1,D=w&&L===1,N=x&&S&&P&&L===1,W=w&&L===2;return A?y.Modes.Rotate:N?y.Modes.Pan:W?y.Modes.MultiTouch:k||D?y.Modes.Rotate:void 0}u.auxiliaries.log(v.LogLevel.Warning,"No primary pointer event detected in Navigation::mode.")},y.prototype.resolveMultiTouch=function(){if(!(this._activeEvents.size<2)){var b=Array.from(this._activeEvents.values()),E=h.vec2.fromValues(b[0].movementX,b[0].movementY),x=h.vec2.fromValues(b[1].movementX,b[1].movementY);return h.vec2.length(E)===0||h.vec2.length(x)===0?y.Modes.Zoom:(h.vec2.normalize(E,E),h.vec2.normalize(x,x),h.vec2.dot(E,x)>.2?y.Modes.Pan:y.Modes.Zoom)}u.auxiliaries.log(v.LogLevel.Warning,"MultiTouch resolution was canceled because less than two touches were detected.")},y.prototype.rotate=function(b){if(this._activeEvents.size===1){var E=Array.from(this._activeEvents.values()),x=this._eventHandler.offsets(E[0])[0];switch(this._rotationMetaphor){case y.RotationMetaphor.FirstPerson:var w=this._firstPerson,S=void 0;p.PointerLock.active()&&event instanceof MouseEvent&&(S=h.vec2.fromValues(event.movementX,event.movementY)),b?w.initiate(x):w.process(x,S);break;case y.RotationMetaphor.Trackball:var P=this._trackball;b?P.initiate(x):P.process(x);break;case y.RotationMetaphor.Turntable:var A=this._turntable;b?A.initiate(x):A.process(x)}}else u.auxiliaries.log(v.LogLevel.Info,"Rotate event was canceled because less or more than two pointers were detected.")},y.prototype.pan=function(b){var E=Array.from(this._activeEvents.values()),x=this.getPrimaryEvent(E);if(x!==void 0){var w=this._eventHandler.offsets(x)[0],S=this._pan;b?S.initiate(w):S.process(w)}else u.auxiliaries.log(v.LogLevel.Warning,"Pan event was canceled because no primary event was detected.")},y.prototype.pinch=function(b){if(this._activeEvents.size===2){var E=Array.from(this._activeEvents.values()),x=this._eventHandler.offsets(E[0])[0],w=this._eventHandler.offsets(E[1])[0],S=this._pinch;b?S.initiate(x,w):S.process(x,w)}else u.auxiliaries.log(v.LogLevel.Info,"Pinch event was canceled because less or more than two pointers were detected.")},y.prototype.getPrimaryEvent=function(b){for(var E=0,x=b;E<x.length;E++){var w=x[E];if(w.isPrimary)return w}},y.prototype.onPointerDown=function(b,E){for(var x=0,w=b;x<w.length;x++){var S=w[x];this._activeEvents.set(S.pointerId,S)}switch(this._mode=this.mode(),this._mode){case y.Modes.Rotate:this.rotate(!0);break;case y.Modes.Pan:this.pan(!0);break;case y.Modes.Zoom:this.pinch(!0)}},y.prototype.onPointerUp=function(b,E){for(var x=0,w=b;x<w.length;x++){var S=w[x];this._activeEvents.delete(S.pointerId)}},y.prototype.onPointerEnter=function(b,E){},y.prototype.onPointerLeave=function(b,E){for(var x=0,w=b;x<w.length;x++){var S=w[x];this._activeEvents.delete(S.pointerId)}},y.prototype.onPointerCancel=function(b,E){for(var x=0,w=b;x<w.length;x++){var S=w[x];this._activeEvents.delete(S.pointerId)}},y.prototype.onPointerMove=function(b,E){for(var x=0,w=b;x<w.length;x++){var S=w[x];this._activeEvents.set(S.pointerId,S)}if(this._mode!==void 0){var P=Array.from(this._activeEvents.values()),A=this.getPrimaryEvent(P);(A==null?void 0:A.pointerType)==="mouse"&&(this._mode=this.mode());var L=!1;switch(this._mode===y.Modes.MultiTouch&&(this._mode=this.resolveMultiTouch(),L=!0),this._mode){case y.Modes.Rotate:this.rotate(L);break;case y.Modes.Pan:this.pan(L);break;case y.Modes.Zoom:this.pinch(L)}this._lastInteractionTime=performance.now()}},y.prototype.onWheel=function(b,E){var x,w=b[0];(x=this._wheelZoom)===null||x===void 0||x.process(w.deltaY)},y.prototype.update=function(){this._eventHandler.update()},Object.defineProperty(y.prototype,"camera",{set:function(b){this._camera=b,this._firstPerson&&(this._firstPerson.camera=b),this._trackball&&(this._trackball.camera=b),this._turntable&&(this._turntable.camera=b),this._pan&&(this._pan.camera=b),this._pinch&&(this._pinch.camera=b),this._wheelZoom&&(this._wheelZoom.camera=b)},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"rotationMetaphor",{get:function(){return this._rotationMetaphor},set:function(b){if(this._rotationMetaphor!==b){switch(this._firstPerson=void 0,this._trackball=void 0,this._turntable=void 0,this._eventHandler.exitPointerLock(),this._alwaysRotateOnMove=!1,this._rotationMetaphor=b,this._rotationMetaphor){case y.RotationMetaphor.FirstPerson:this._eventHandler.requestPointerLock(),this._alwaysRotateOnMove=!0,this._firstPerson=new d.FirstPersonModifier,this._firstPerson.camera=this._camera;break;case y.RotationMetaphor.Trackball:this._trackball=new l.TrackballModifier,this._trackball.camera=this._camera;break;case y.RotationMetaphor.Turntable:this._turntable=new s.TurntableModifier,this._turntable.camera=this._camera}this._invalidate(!0)}},enumerable:!0,configurable:!0}),y}();o.Navigation=m,function(y){(function(b){b[b.Move=0]="Move",b[b.Pan=1]="Pan",b[b.MultiTouch=2]="MultiTouch",b[b.Rotate=3]="Rotate",b[b.Zoom=4]="Zoom",b[b.ZoomStep=5]="ZoomStep"})(y.Modes||(y.Modes={})),function(b){b.FirstPerson="firstperson",b.Flight="flight",b.Trackball="trackball",b.Turntable="turntable"}(y.RotationMetaphor||(y.RotationMetaphor={}))}(m=o.Navigation||(o.Navigation={})),o.Navigation=m},function(n,o,i){var h,g=this&&this.__extends||(h=function(l,s){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var m in f)f.hasOwnProperty(m)&&(u[m]=f[m])})(l,s)},function(l,s){function u(){this.constructor=l}h(l,s),l.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}),p=this&&this.__decorate||function(l,s,u,f){var m,y=arguments.length,b=y<3?s:f===null?f=Object.getOwnPropertyDescriptor(s,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(l,s,u,f);else for(var E=l.length-1;E>=0;E--)(m=l[E])&&(b=(y<3?m(b):y>3?m(s,u,b):m(s,u))||b);return y>3&&b&&Object.defineProperty(s,u,b),b};Object.defineProperty(o,"__esModule",{value:!0});var v=i(5),d=i(9),c=i(2),a=function(l){function s(u,f){var m=l.call(this,u,f)||this;f=f!==void 0&&f!==""?f:m.constructor.name;var y=new v.Buffer(u,f+"VBO");return m._buffers.push(y),m}return g(s,l),s.prototype.bindBuffers=function(){this._buffers[0].attribEnable(this._vertexLocation,2,this.context.gl.FLOAT,!1,0,0,!0,!1)},s.prototype.unbindBuffers=function(){this._buffers[0].attribDisable(this._vertexLocation,!0,!0)},s.prototype.initialize=function(u){u===void 0&&(u=0),this._vertexLocation=u;var f=this.context.gl,m=l.prototype.initialize.call(this,[f.ARRAY_BUFFER]);return this._buffers[0].data(s.VERTICES,f.STATIC_DRAW),m},s.prototype.draw=function(){var u=this.context.gl;u.drawArrays(u.TRIANGLE_STRIP,0,4)},Object.defineProperty(s.prototype,"vertexLocation",{get:function(){return this._vertexLocation},enumerable:!0,configurable:!0}),s.VERTICES=new Float32Array([-1,-1,1,-1,-1,1,1,1]),p([c.Initializable.assert_initialized()],s.prototype,"draw",null),s}(d.Geometry);o.NdcFillingRectangle=a},function(n){n.exports=JSON.parse('{"kernel":[[[[0.201114,0.016597],[-0.090682,-0.219471],[-0.180852,0.162495],[0.055216,0.398563],[-0.41692,-0.073573],[0.291284,-0.365369],[0.437182,0.252665],[-0.32675,-0.455539]]]],"size":{"depth":1,"height":1,"width":8}}')},function(n){n.exports=JSON.parse('{"kernel":[[[[-0.058976,0.021042],[0.065636,-0.034686],[0.023064,0.111212],[-0.011378,-0.124856],[-0.122834,-0.069128],[0.155806,0.055484],[-0.170432,0.07677],[-0.101548,0.16694],[0.190248,-0.090414],[0.121364,-0.180584],[0.100078,0.201382],[-0.080262,-0.215026],[-0.247446,-0.0134],[-0.024534,0.25711],[-0.204874,-0.159298],[0.267262,-0.000244],[0.22469,0.145654],[0.031194,-0.270754],[-0.213004,0.222668],[-0.303174,0.132498],[0.245976,-0.236312],[-0.13599,0.312838],[0.177092,0.291552],[-0.157276,-0.305196],[0.31486,-0.146142],[0.04435,0.34728],[-0.337616,-0.10357],[-0.04582,-0.360924],[0.168962,-0.326482],[0.357432,0.089926],[-0.372058,0.042328],[-0.281888,-0.249468],[0.301704,0.235824],[-0.067106,0.403008],[0.40503,-0.055972],[0.078792,-0.416652],[-0.350772,0.278396],[-0.4065,-0.19374],[-0.260602,0.368566],[-0.449072,-0.047842],[-0.22616,-0.395366],[0.13452,0.43745],[0.259132,0.381722],[0.426316,0.180096],[-0.114704,-0.451094],[-0.427786,0.188226],[0.370588,-0.29204],[0.280418,-0.38221],[0.482044,0.034198],[0.447602,-0.20187],[0.009908,0.493178],[-0.358902,-0.339638],[-0.191718,0.458736],[-0.49667,0.098056],[0.391874,0.325994],[0.211534,-0.47238],[-0.483514,-0.28391],[-0.462228,0.334124],[-0.393344,0.424294],[0.336146,0.471892],[-0.31633,-0.485536],[0.41316,-0.437938],[-0.440942,-0.429808],[0.460758,0.416164]]]],"size":{"depth":1,"height":1,"width":64}}')},function(n){n.exports=JSON.parse('{"kernel":[[[[-0.992216,-0.610879],[-0.975957,0.625189],[-0.965904,-0.138743],[-0.949645,-0.902675],[-0.933385,0.333393],[-0.923332,-0.430539],[-0.907073,0.805529],[-0.89702,0.0415974],[-0.88076,-0.722335],[-0.864501,0.513733],[-0.854448,-0.250199],[-0.838189,0.985869],[-0.811876,0.221937],[-0.795617,-0.541995],[-0.785564,0.694073],[-0.769305,-0.0698586],[-0.753045,-0.833791],[-0.742992,0.402277],[-0.726733,-0.361655],[-0.70042,0.874413],[-0.684161,0.110482],[-0.674108,-0.65345],[-0.657849,0.582618],[-0.631536,-0.181314],[-0.615277,-0.945246],[-0.605224,0.290822],[-0.588964,-0.47311],[-0.572705,0.762958],[-0.562652,-0.000974417],[-0.546393,-0.764906],[-0.52008,0.471162],[-0.503821,-0.29277],[-0.493768,0.943298],[-0.477509,0.179366],[-0.461249,-0.584566],[-0.451196,0.651502],[-0.434937,-0.11243],[-0.424884,-0.876362],[-0.408624,0.359706],[-0.392365,-0.404226],[-0.382312,0.831842],[-0.366053,0.0679097],[-0.33974,-0.696022],[-0.323481,0.540046],[-0.313428,-0.223886],[-0.297168,-0.987818],[-0.280909,0.24825],[-0.270856,-0.515682],[-0.254597,0.720386],[-0.228284,-0.0435462],[-0.212025,-0.807478],[-0.201972,0.42859],[-0.185713,-0.335342],[-0.169453,0.900726],[-0.1594,0.136794],[-0.143141,-0.627138],[-0.133088,0.60893],[-0.116828,-0.155002],[-0.100569,-0.918934],[-0.0905161,0.317134],[-0.0742567,-0.446798],[-0.0479443,0.78927],[-0.0316849,0.0253379],[-0.021632,-0.738594],[-0.00537252,0.497474],[0.0108869,-0.266458],[0.0209398,0.96961],[0.0371993,0.205678],[0.0635116,-0.558254],[0.079771,0.677814],[0.089824,-0.086118],[0.106083,-0.85005],[0.132396,0.386018],[0.148655,-0.377914],[0.158708,0.858154],[0.174968,0.0942221],[0.191227,-0.66971],[0.20128,0.566358],[0.217539,-0.197574],[0.243852,-0.961506],[0.260111,0.274562],[0.270164,-0.48937],[0.286423,0.746698],[0.302683,-0.0172338],[0.312736,-0.781166],[0.328995,0.454902],[0.339048,-0.30903],[0.355308,0.927038],[0.371567,0.163106],[0.38162,-0.600826],[0.397879,0.635242],[0.424192,-0.12869],[0.440451,-0.892622],[0.450504,0.343446],[0.466763,-0.420486],[0.483023,0.815582],[0.493076,0.0516503],[0.509335,-0.712282],[0.535648,0.523786],[0.551907,-0.240146],[0.56196,0.995922],[0.578219,0.23199],[0.604532,-0.531942],[0.620791,0.704126],[0.630844,-0.0598056],[0.647104,-0.823738],[0.663363,0.41233],[0.673416,-0.351602],[0.689675,0.884466],[0.715988,0.120534],[0.732247,-0.643398],[0.7423,0.59267],[0.758559,-0.171262],[0.774819,-0.935194],[0.784872,0.300874],[0.801131,-0.463058],[0.811184,0.77301],[0.827444,0.0090785],[0.843703,-0.754853],[0.853756,0.481215],[0.870015,-0.282717],[0.896328,0.953351],[0.912587,0.189419],[0.92264,-0.574513],[0.9389,0.661555],[0.955159,-0.102377],[0.965212,-0.866309],[0.981471,0.369759]]]],"size":{"depth":1,"height":1,"width":128}}')},function(n,o){n.exports=`\r
precision lowp float;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else \r
    #define varying in\r
#endif\r
\r
\r
\r
#if __VERSION__ == 100\r
    #define fragColor gl_FragColor\r
#else\r
    layout(location = 0) out vec4 fragColor;\r
#endif\r
\r
\r
uniform float u_weight;\r
uniform sampler2D u_accumulationTexture;\r
uniform sampler2D u_currentFrameTexture;\r
\r
varying vec2 v_uv;\r
\r
\r
void main(void)\r
{\r
    vec4 accumulationColor = texture(u_accumulationTexture, v_uv);\r
    vec4 currentFrameColor = texture(u_currentFrameTexture, v_uv);\r
    fragColor = mix(accumulationColor, currentFrameColor, u_weight);\r
}\r
`},function(n,o){n.exports=`\r
precision highp float;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else \r
    #define varying in\r
#endif\r
\r
\r
\r
#if __VERSION__ == 100\r
    #define fragColor gl_FragColor\r
#else\r
    layout(location = 0) out vec4 fragColor;\r
#endif\r
\r
\r
uniform sampler2D u_source;\r
\r
varying vec2 v_uv;\r
\r
\r
void main(void)\r
{\r
    fragColor = texture(u_source, v_uv);\r
}\r
`},function(n,o,i){var h,g=this&&this.__extends||(h=function(a,l){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)u.hasOwnProperty(f)&&(s[f]=u[f])})(a,l)},function(a,l){function s(){this.constructor=a}h(a,l),a.prototype=l===null?Object.create(l):(s.prototype=l.prototype,new s)});Object.defineProperty(o,"__esModule",{value:!0});var p=i(0),v=i(6),d=i(7),c=function(a){function l(){var s=a!==null&&a.apply(this,arguments)||this;return s._debug=l.Mode.Depth,s._near=0,s._far=0,s}return g(l,a),l.prototype.createProgram=function(){p.assert(this._program===void 0,"expected blit program to be undefined before its creation");var s=this._context.gl,u=new d.Shader(this._context,s.VERTEX_SHADER,"blit.vert (debug)");u.initialize(i(63));var f=new d.Shader(this._context,s.FRAGMENT_SHADER,"blit_debug.frag (debug)");return f.initialize(i(111)),this._program=new v.Program(this._context,"DebugProgram"),this._program.initialize([u,f]),this._ndcTriangle.initialized||this._ndcTriangle.initialize(),this._program.attribute("a_vertex",this._ndcTriangle.vertexLocation),this._program.link(),this._uSrcBounds=this._program.uniform("u_srcBounds"),this._uDstBounds=this._program.uniform("u_dstBounds"),this._uNearest=this._program.uniform("u_nearest"),this._uDebugMode=this._program.uniform("u_mode"),this._uLinearize=this._program.uniform("u_linearize"),this._program.bind(),s.uniform1i(this._program.uniform("u_source"),0),s.uniform1i(this._uDebugMode,this._debug),this._program.unbind(),this._program.valid},l.prototype.initialize=function(s){var u=a.prototype.initialize.call(this,s);return this.enforceProgramBlit=!0,u&&this.createProgram()},l.prototype.uninitialize=function(){a.prototype.uninitialize.call(this),this._uDebugMode=void 0,this._uLinearize=void 0},Object.defineProperty(l.prototype,"debug",{set:function(s){this.assertInitialized(),this._debug!==s&&(this._debug=s,this._program!==void 0&&this._program.valid&&(this._program.bind(),this._context.gl.uniform1i(this._uDebugMode,this._debug),this._program.unbind()))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"near",{set:function(s){this._near=s||0,this._program!==void 0&&this._program.valid&&(this._program.bind(),this._context.gl.uniform2f(this._uLinearize,this._near,this._far),this._program.unbind())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"far",{set:function(s){this._far=s||0,this._program!==void 0&&this._program.valid&&(this._program.bind(),this._context.gl.uniform2f(this._uLinearize,this._near,this._far),this._program.unbind())},enumerable:!0,configurable:!0}),l}(i(38).BlitPass);o.DebugPass=c,function(a){(function(l){l[l.None=0]="None",l[l.Depth=1]="Depth",l[l.DepthLinear=2]="DepthLinear",l[l.DepthPacked=3]="DepthPacked",l[l.DepthLinearPacked=4]="DepthLinearPacked"})(a.Mode||(a.Mode={}))}(c=o.DebugPass||(o.DebugPass={})),o.DebugPass=c},function(n,o){n.exports=`\r
precision highp float;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else \r
    #define varying in\r
#endif\r
\r
\r
\r
const float one255ths = 1.0 / 255.0;\r
\r
vec3 float24x1_to_uint8x3(const in float f) {\r
    vec3 uint8x3 = vec3(f, fract(f * 256.0), fract(f * 65536.0));\r
    return floor(uint8x3 * 256.0) * one255ths;\r
}\r
\r
vec4 float24x1_to_uint8x4(const in float f) {\r
    vec4 uint8x4 = vec4(f, fract(f * 256.0), fract(f * 65536.0), fract(f * 16777216.0));\r
    return floor(uint8x4 * 256.0) * one255ths;\r
}\r
\r
const vec3 premultUint8x3 = vec3(255.0 / 256.0, 255.0 / 65536.0, 255.0 / 16777216.0);\r
float uint8x3_to_float24x1(const in vec3 v) {\r
    return dot(v, premultUint8x3); // a1 * b1 + a2 * b2 + a3 * b3  ;)\r
}\r
\r
const vec4 premultUint8x4 = vec4(255.0 / 256.0, 255.0 / 65536.0, 255.0 / 16777216.0, 255.0 / 4294967296.0);\r
float uint8x4_to_float32x1(const in vec4 v) {\r
    return dot(v, premultUint8x4); // a1 * b1 + a2 * b2 + a3 * b3 + a4 * b4  ;)\r
}\r
\r
\r
float linearizeDepth(float zInNDC, float near, float far) {\r
    float zLinear = 2.0 * near;\r
    zLinear /= far + near - zInNDC * (far - near);\r
    return zLinear;\r
}\r
\r
\r
\r
#if __VERSION__ == 100\r
    #define fragColor gl_FragColor\r
#else\r
    layout(location = 0) out vec4 fragColor;\r
#endif\r
\r
\r
uniform sampler2D u_source;\r
\r
uniform int u_mode; /* Debug mode. */\r
uniform vec2 u_linearize; /* [ zNear, zFar ] */\r
\r
\r
varying vec2 v_uv;\r
\r
\r
void main(void)\r
{\r
    vec4 source = texture(u_source, v_uv);\r
\r
    /* u_mode == 0                 None */\r
\r
    if(u_mode == 1) {           /* Depth */\r
        source.rgb = vec3(source[0]);\r
\r
    } else if (u_mode == 2) {   /* DepthLinear */\r
        float zLinear = linearizeDepth(source[0], u_linearize[0], u_linearize[1]);\r
        source.rgb = vec3(zLinear);\r
\r
    } else if(u_mode == 3) {    /* DepthPacked */\r
        source.rgb = float24x1_to_uint8x3(source[0]);\r
\r
    } else if (u_mode == 4) {   /* DepthLinearPacked */\r
        float zLinear = linearizeDepth(source[0], u_linearize[0], u_linearize[1]);\r
        source.rgb = float24x1_to_uint8x3(zLinear);\r
    }\r
\r
    fragColor = source;\r
}\r
`},function(n,o,i){var h,g=this&&this.__extends||(h=function(y,b){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,x){E.__proto__=x}||function(E,x){for(var w in x)x.hasOwnProperty(w)&&(E[w]=x[w])})(y,b)},function(y,b){function E(){this.constructor=y}h(y,b),y.prototype=b===null?Object.create(b):(E.prototype=b.prototype,new E)}),p=this&&this.__decorate||function(y,b,E,x){var w,S=arguments.length,P=S<3?b:x===null?x=Object.getOwnPropertyDescriptor(b,E):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(y,b,E,x);else for(var A=y.length-1;A>=0;A--)(w=y[A])&&(P=(S<3?w(P):S>3?w(b,E,P):w(b,E))||P);return S>3&&P&&Object.defineProperty(b,E,P),P};Object.defineProperty(o,"__esModule",{value:!0});var v,d=i(0),c=i(2),a=i(12),l=i(6),s=i(7),u=i(4),f=i(51),m=function(y){function b(E){var x=y.call(this)||this;return x._skipCubeLod=!1,x._altered=!0,x._context=E,x._cubeMapProgram=new l.Program(E,"CubemapEnvironmentProgram"),x._equiMapProgram=new l.Program(E,"EquimapEnvironmentProgram"),x._polarMapProgram=new l.Program(E,"PolarmapEnvironmentProgram"),x._sphereMapProgram=new l.Program(E,"SpheremapEnvironmentProgram"),x._ndcTriangle=new a.NdcFillingTriangle(x._context,"EnvironmentNdcTriangle"),x}return g(b,y),b.prototype.initialize=function(){var E=this._context.gl;this._ndcTriangle.initialize();var x=new s.Shader(this._context,E.VERTEX_SHADER,"env-projections.vert");x.initialize(i(113));var w=new s.Shader(this._context,E.FRAGMENT_SHADER,"env-projections.frag");w.initialize(i(24),!1),w.replace("PROJECTION_TYPE","CUBE_MAP"),w.compile(),this._cubeMapProgram.initialize([x,w],!1),this._cubeMapProgram.attribute("a_vertex",this._ndcTriangle.vertexLocation),this._cubeMapProgram.link(),this._cubeMapProgram.bind(),E.uniform1i(this._cubeMapProgram.uniform("u_cubemap"),0),this._uSkipLod=this._cubeMapProgram.uniform("u_skipLod"),this._cubeMapProgram.unbind();var S=new s.Shader(this._context,E.FRAGMENT_SHADER,"env-projections.frag");S.initialize(i(24),!1),S.replace("PROJECTION_TYPE","EQUI_MAP"),S.compile(),this._equiMapProgram.initialize([x,S],!1),this._equiMapProgram.attribute("a_vertex",this._ndcTriangle.vertexLocation),this._equiMapProgram.link(),this._equiMapProgram.bind(),E.uniform1i(this._equiMapProgram.uniform("u_equirectmap"),0),this._equiMapProgram.unbind();var P=new s.Shader(this._context,E.FRAGMENT_SHADER,"env-projections.frag");P.initialize(i(24),!1),P.replace("PROJECTION_TYPE","SPHERE_MAP"),P.compile(),this._sphereMapProgram.initialize([x,P],!1),this._sphereMapProgram.attribute("a_vertex",this._ndcTriangle.vertexLocation),this._sphereMapProgram.link(),this._sphereMapProgram.bind(),E.uniform1i(this._sphereMapProgram.uniform("u_spheremap"),0),this._sphereMapProgram.unbind();var A=new s.Shader(this._context,E.FRAGMENT_SHADER,"env-projections.frag");return A.initialize(i(24),!1),A.replace("PROJECTION_TYPE","POLAR_MAP"),A.compile(),this._polarMapProgram.initialize([x,A],!1),this._polarMapProgram.attribute("a_vertex",this._ndcTriangle.vertexLocation),this._polarMapProgram.link(),this._polarMapProgram.bind(),E.uniform1iv(this._polarMapProgram.uniform("u_polarmap"),[0,1]),this._polarMapProgram.unbind(),!0},b.prototype.uninitialize=function(){this._cubeMapProgram.uninitialize(),this._equiMapProgram.uninitialize(),this._sphereMapProgram.uninitialize(),this._polarMapProgram.uninitialize()},b.prototype.update=function(){if(this._altered!==!1){var E=this._context.gl;this._cubeMapProgram.bind(),E.uniform1i(this._uSkipLod,this._skipCubeLod),this._altered=!1}},b.prototype.frame=function(){var E=this._context.gl;d.assert(this._camera!==void 0,"Camera is undefined in environment rendering pass."),d.assert(this._environmentTexture!==void 0,"Environment texture is undefined in environment rendering pass.");var x=this._cubeMapProgram;this._envTextureType===v.EquirectangularMap?(d.assert(this._environmentTexture instanceof u.Texture2D,"Input texture expected to be Texture2D for equirectangular mapping."),this._environmentTexture.bind(E.TEXTURE0),x=this._equiMapProgram):this._envTextureType===v.SphereMap?(d.assert(this._environmentTexture instanceof u.Texture2D,"Input texture expected to be Texture2D for sphere mapping."),this._environmentTexture.bind(E.TEXTURE0),x=this._sphereMapProgram):this._envTextureType===v.CubeMap?(d.assert(this._environmentTexture instanceof f.TextureCube,"Input texture expected to be a TextureCube for cube mapping."),this._environmentTexture.bind(E.TEXTURE0),x=this._cubeMapProgram):this._envTextureType===v.PolarMap&&(d.assert(this._environmentTexture2!==void 0,"Two input textures expected for polar mapping."),d.assert(this._environmentTexture instanceof u.Texture2D,"Input texture expected to be a Texture2D for polar mapping."),d.assert(this._environmentTexture2 instanceof u.Texture2D,"Input texture expected to be a Texture2D for polar mapping."),this._environmentTexture.bind(E.TEXTURE0),this._environmentTexture2.bind(E.TEXTURE1),x=this._polarMapProgram),x.bind(),E.uniformMatrix4fv(x.uniform("u_viewProjectionInverse"),!1,this._camera.viewProjectionInverse),this._ndcTriangle.bind(),this._ndcTriangle.draw(),x.unbind()},Object.defineProperty(b.prototype,"environmentTextureType",{set:function(E){this._envTextureType=E},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"environmentTexture",{set:function(E){this._environmentTexture=E},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"environmentTexture2",{set:function(E){this._environmentTexture2=E},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"camera",{set:function(E){this._camera=E},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"skipCubeLod",{set:function(E){this._skipCubeLod!==E&&(this._skipCubeLod=E,this._altered=!0)},enumerable:!0,configurable:!0}),p([c.Initializable.initialize()],b.prototype,"initialize",null),p([c.Initializable.uninitialize()],b.prototype,"uninitialize",null),b}(c.Initializable);o.EnvironmentRenderingPass=m,function(y){y[y.CubeMap=0]="CubeMap",y[y.EquirectangularMap=1]="EquirectangularMap",y[y.SphereMap=2]="SphereMap",y[y.PolarMap=3]="PolarMap"}(v=o.EnvironmentTextureType||(o.EnvironmentTextureType={}))},function(n,o){n.exports=`precision highp float;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else\r
    #define varying out\r
#endif\r
\r
\r
\r
#if __VERSION__ == 100\r
    attribute vec2 a_vertex;\r
#else\r
    in vec2 a_vertex;\r
#endif\r
\r
\r
uniform mat4 u_viewProjectionInverse;\r
\r
\r
varying vec2 v_uv;\r
varying vec4 v_ray;\r
\r
\r
void main(void)\r
{\r
    v_uv = a_vertex * 0.5 + 0.5;\r
    v_ray = u_viewProjectionInverse * vec4(a_vertex, 1.0, 1.0);\r
\r
    gl_Position = vec4(a_vertex.xy, 1.0 - 1e-6, 1.0);\r
}\r
`},function(n,o,i){var h,g=this&&this.__extends||(h=function(b,E){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var S in w)w.hasOwnProperty(S)&&(x[S]=w[S])})(b,E)},function(b,E){function x(){this.constructor=b}h(b,E),b.prototype=E===null?Object.create(E):(x.prototype=E.prototype,new x)}),p=this&&this.__decorate||function(b,E,x,w){var S,P=arguments.length,A=P<3?E:w===null?w=Object.getOwnPropertyDescriptor(E,x):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(b,E,x,w);else for(var L=b.length-1;L>=0;L--)(S=b[L])&&(A=(P<3?S(A):P>3?S(E,x,A):S(E,x))||A);return P>3&&A&&Object.defineProperty(E,x,A),A};Object.defineProperty(o,"__esModule",{value:!0});var v=i(1),d=i(0),c=i(3),a=i(17),l=i(2),s=i(12),u=i(6),f=i(7),m=i(4),y=function(b){function E(x){var w=b.call(this)||this;return w._cache=!1,w._depthAttachment=0,w._cachedDepths=new Map,w._cachedIDs=new Map,w._buffer=new Uint8Array(4),w._ndcTriangleShared=!1,w._context=x,w}return g(E,b),E.maxClearDepth=function(){return c.decode_float24x1_from_uint8x3(v.vec3.fromValues(255,255,255))},E.prototype.onFrame=function(){this._cachedDepths.clear(),this._cachedIDs.clear()},E.prototype.hash=function(x,w){return 65535*w+x},E.prototype.directReadDepthAt=function(x,w){d.assert(this._depthFBO!==void 0&&this._depthFBO.valid,"valid depth FBO expected for reading back depth");var S=this._depthFBO.texture(this._depthAttachment),P=this._context.gl,A=S.size;this._depthFBO.bind();var L=this._referenceSize===void 0?[1,1]:[A[0]/this._referenceSize[0],A[1]/this._referenceSize[1]];return(this._context.isWebGL2||this._context.supportsDrawBuffers)&&P.readBuffer(this._depthAttachment),P.readPixels(x*L[0],A[1]-w*L[1],1,1,P.RGBA,P.UNSIGNED_BYTE,this._buffer),this._buffer},E.prototype.renderThenReadDepthAt=function(x,w){d.assert(this._depthFBO!==void 0&&this._depthFBO.valid,"valid depth FBO expected for reading back depth");var S=this._depthFBO.texture(this._depthAttachment),P=this._context.gl,A=S.size,L=this._referenceSize===void 0?[1,1]:[A[0]/this._referenceSize[0],A[1]/this._referenceSize[1]];return P.viewport(0,0,1,1),this._program.bind(),P.uniform2f(this._uOffset,x*L[0]/A[0],(A[1]-w*L[1])/A[1]),P.uniform2f(this._uScale,1/A[0],1/A[1]),S.bind(P.TEXTURE0),this._framebuffer.bind(),this._ndcTriangle.bind(),this._ndcTriangle.draw(),this._ndcTriangle.unbind(),S.unbind(),(this._context.isWebGL2||this._context.supportsDrawBuffers)&&P.readBuffer&&P.readBuffer(P.COLOR_ATTACHMENT0),P.readPixels(0,0,1,1,P.RGBA,P.UNSIGNED_BYTE,this._buffer),this._framebuffer.unbind(),this._buffer},E.prototype.initialize=function(x,w){var S=this._context.gl,P=this._context.gl2facade;if(w)return this.readDepthAt=this.directReadDepthAt,!0;this.readDepthAt=this.renderThenReadDepthAt;var A=new f.Shader(this._context,S.VERTEX_SHADER,"ndcvertices.vert (readback)");A.initialize(i(62));var L=new f.Shader(this._context,S.FRAGMENT_SHADER,"readbackdepth.frag");return L.initialize(i(115)),this._program=new u.Program(this._context,"ReadbackDepthProgram"),this._program.initialize([A,L],!1),x===void 0?this._ndcTriangle=new s.NdcFillingTriangle(this._context):(this._ndcTriangle=x,this._ndcTriangleShared=!0),this._ndcTriangle.initialized||this._ndcTriangle.initialize(),this._program.attribute("a_vertex",this._ndcTriangle.vertexLocation),this._program.link(),this._uOffset=this._program.uniform("u_offset"),this._program.bind(),S.uniform1i(this._program.uniform("u_texture"),0),this._program.unbind(),this._texture=new m.Texture2D(this._context,"ReadbackRenderTexture"),this._texture.initialize(1,1,S.RGBA,S.RGBA,S.UNSIGNED_BYTE),this._framebuffer=new a.Framebuffer(this._context,"ReadbackFBO"),this._framebuffer.initialize([[P.COLOR_ATTACHMENT0,this._texture]]),!0},E.prototype.uninitialize=function(){this._context.isWebGL1&&!this._context.supportsDepthTexture||(!this._ndcTriangleShared&&this._ndcTriangle.initialized&&this._ndcTriangle.uninitialize(),this._program.uninitialize(),this._texture.uninitialize(),this._framebuffer.uninitialize())},E.prototype.depthAt=function(x,w){var S=this.hash(x,w);if(this._cache&&this._cachedDepths.has(S))return this._cachedDepths.get(S);var P=this.readDepthAt(x,w),A=P[0]===255&&P[1]===255&&P[2]===255?void 0:c.decode_float24x1_from_uint8x3(v.vec3.fromValues(P[0],P[1],P[2]));return this._cache&&this._cachedDepths.set(S,A),A},E.prototype.coordsAt=function(x,w,S,P){var A=this._depthFBO.texture(this._depthAttachment).size,L=S===void 0?this.depthAt(x,w):S;if(L!==void 0){var k=this._referenceSize===void 0?[1,1]:[A[0]/this._referenceSize[0],A[1]/this._referenceSize[1]],D=v.vec3.fromValues(x*k[0]*2/A[0]-1,1-w*k[1]*2/A[1],2*L-1);return v.vec3.transformMat4(v.vec3.create(),D,P)}},E.prototype.idAt=function(x,w){var S=this.hash(x,w);if(this._cache&&this._cachedIDs.has(S))return this._cachedIDs.get(S);var P=this._context.gl,A=this._idFBO.texture(this._idAttachment).size,L=this._referenceSize===void 0?[1,1]:[A[0]/this._referenceSize[0],A[1]/this._referenceSize[1]];this._idFBO.bind(),this._context.isWebGL2&&P.readBuffer(this._idAttachment),P.readPixels(x*L[0],A[1]-w*L[1],1,1,P.RGBA,P.UNSIGNED_BYTE,this._buffer);var k=c.decode_uint32_from_rgba8(v.vec4.fromValues(this._buffer[0],this._buffer[1],this._buffer[2],this._buffer[3]));return this._cache&&this._cachedIDs.set(S,k),k},E.prototype.frame=function(){this.onFrame()},Object.defineProperty(E.prototype,"cache",{set:function(x){this._cache=x},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"depthFBO",{set:function(x){this._depthFBO=x},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"depthAttachment",{set:function(x){this._depthAttachment=x},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"idFBO",{set:function(x){this._idFBO=x},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"idAttachment",{set:function(x){this._idAttachment=x},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"coordinateReferenceSize",{set:function(x){this._referenceSize=x},enumerable:!0,configurable:!0}),p([l.Initializable.assert_initialized()],E.prototype,"directReadDepthAt",null),p([l.Initializable.assert_initialized()],E.prototype,"renderThenReadDepthAt",null),p([l.Initializable.initialize()],E.prototype,"initialize",null),p([l.Initializable.uninitialize()],E.prototype,"uninitialize",null),p([l.Initializable.assert_initialized()],E.prototype,"depthAt",null),p([l.Initializable.assert_initialized()],E.prototype,"coordsAt",null),p([l.Initializable.assert_initialized()],E.prototype,"idAt",null),E}(l.Initializable);o.ReadbackPass=y},function(n,o){n.exports=`\r
precision highp float;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else \r
    #define varying in\r
#endif\r
\r
\r
const float one255ths = 1.0 / 255.0;\r
\r
vec3 float24x1_to_uint8x3(const in float f) {\r
    vec3 uint8x3 = vec3(f, fract(f * 256.0), fract(f * 65536.0));\r
    return floor(uint8x3 * 256.0) * one255ths;\r
}\r
\r
vec4 float24x1_to_uint8x4(const in float f) {\r
    vec4 uint8x4 = vec4(f, fract(f * 256.0), fract(f * 65536.0), fract(f * 16777216.0));\r
    return floor(uint8x4 * 256.0) * one255ths;\r
}\r
\r
const vec3 premultUint8x3 = vec3(255.0 / 256.0, 255.0 / 65536.0, 255.0 / 16777216.0);\r
float uint8x3_to_float24x1(const in vec3 v) {\r
    return dot(v, premultUint8x3); // a1 * b1 + a2 * b2 + a3 * b3  ;)\r
}\r
\r
const vec4 premultUint8x4 = vec4(255.0 / 256.0, 255.0 / 65536.0, 255.0 / 16777216.0, 255.0 / 4294967296.0);\r
float uint8x4_to_float32x1(const in vec4 v) {\r
    return dot(v, premultUint8x4); // a1 * b1 + a2 * b2 + a3 * b3 + a4 * b4  ;)\r
}\r
\r
\r
\r
#if __VERSION__ == 100\r
    #define fragDepth gl_FragColor\r
#else \r
    layout(location = 0) out vec4 fragDepth;\r
#endif\r
\r
\r
uniform sampler2D u_texture;\r
uniform vec2 u_offset;\r
uniform vec2 u_scale;\r
\r
varying vec2 v_uv;\r
\r
\r
\r
void main(void)\r
{\r
    vec2 uv = vec2(v_uv.x, 1.0 - v_uv.y) * u_scale + u_offset;\r
    float depth = texture(u_texture, uv).r;\r
\r
    fragDepth = vec4(float24x1_to_uint8x3(depth), 1.0);\r
}\r
`},function(n,o){n.exports=`\r
precision lowp float;\r
precision lowp int;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else\r
    #define varying out\r
#endif\r
\r
\r
#if __VERSION__ == 100\r
  attribute vec2 a_vertex;\r
#else\r
  layout(location = 0) in vec2 a_vertex;\r
#endif\r
\r
\r
varying vec2 v_texCoords;\r
\r
\r
void main()\r
{\r
    v_texCoords = a_vertex * 0.5 + 0.5;\r
    gl_Position = vec4(a_vertex, 0.0, 1.0);\r
}\r
`},function(n,o){n.exports=`\r
precision lowp float;\r
precision lowp int;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else \r
    #define varying in\r
#endif\r
\r
\r
#if __VERSION__ == 100\r
  #define fragColor gl_FragColor\r
#else\r
  layout(location = 0) out vec4 fragColor;\r
#endif\r
\r
\r
uniform float u_weights[32];\r
uniform vec2 u_delta;\r
\r
uniform sampler2D u_texture;\r
\r
varying vec2 v_texCoords;\r
\r
\r
void main()\r
{\r
    vec4 result = u_weights[0] * texture(u_texture, v_texCoords);\r
    for (int i = 1; i <= $KERNEL_HALF_SIZE; i++)\r
    {\r
        result += u_weights[i] * texture(u_texture, v_texCoords + float(i) * u_delta);\r
        result += u_weights[i] * texture(u_texture, v_texCoords - float(i) * u_delta);\r
    }\r
\r
    fragColor = result;\r
}\r
`},function(n,o,i){var h,g=this&&this.__extends||(h=function(m,y){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,E){b.__proto__=E}||function(b,E){for(var x in E)E.hasOwnProperty(x)&&(b[x]=E[x])})(m,y)},function(m,y){function b(){this.constructor=m}h(m,y),m.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}),p=this&&this.__decorate||function(m,y,b,E){var x,w=arguments.length,S=w<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,b):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(m,y,b,E);else for(var P=m.length-1;P>=0;P--)(x=m[P])&&(S=(w<3?x(S):w>3?x(y,b,S):x(y,b))||S);return w>3&&S&&Object.defineProperty(y,b,S),S};Object.defineProperty(o,"__esModule",{value:!0});var v=i(0),d=i(17),c=i(64),a=i(2),l=i(23),s=i(4),u=i(14),f=function(m){function y(b){var E=m.call(this)||this;return E._gaussFilterKernelSize=21,E._context=b,E}return g(y,m),Object.defineProperty(y.prototype,"shadowMapFBO",{get:function(){return this._shadowMapFBO},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"shadowMapTexture",{get:function(){return this.hasBlur?this._blurTexture:this._shadowMapTexture},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"hasBlur",{get:function(){return this._shadowType!==y.ShadowMappingType.HardLinear},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"blurSize",{get:function(){return this._gaussFilterKernelSize},set:function(b){b!==this._gaussFilterKernelSize&&(this._gaussFilter!==void 0&&(this._gaussFilter.kernelSize=b,this._gaussFilter.standardDeviation=b/6),this._gaussFilterKernelSize=b)},enumerable:!0,configurable:!0}),y.prototype.resize=function(b,E,x){E===void 0&&(E=!0),x===void 0&&(x=!0),v.assert(b[0]>0&&b[1]>0,"Size has to be > 0."),this._shadowMapSize=b,this._shadowMapFBO.resize(this._shadowMapSize[0],this._shadowMapSize[1],E,x)},y.prototype.resizeBlurTexture=function(b,E,x){E===void 0&&(E=!0),x===void 0&&(x=!0),v.assert(b[0]>0&&b[1]>0,"Size has to be > 0."),this._blurredShadowMapSize=b,this._intermediateBlurFBO.resize(this._blurredShadowMapSize[0],this._blurredShadowMapSize[1],E,x),this._blurFBO.resize(this._blurredShadowMapSize[0],this._blurredShadowMapSize[1],E,x)},y.prototype.initialize=function(b,E,x){v.assert(E[0]>0&&E[1]>0,"Size has to be > 0."),this._shadowType=b,this._shadowMapSize=E,this._blurredShadowMapSize=x!==void 0?x:this._shadowMapSize;var w=this._context.gl,S=this._context.gl2facade,P=w.RGBA;if(this._context.isWebGL2){var A=this._context.gl;switch(this._shadowType){case y.ShadowMappingType.HardLinear:case y.ShadowMappingType.HardExponential:P=A.RED;break;case y.ShadowMappingType.SoftLinear:P=A.RG;break;case y.ShadowMappingType.SoftExponential:P=A.RGBA;break;default:v.assert(!1,"Unexpected value for shadowType")}}var L=u.Wizard.queryInternalTextureFormat(this._context,P,u.Wizard.Precision.float),k=L[0],D=L[1];this._shadowType!==y.ShadowMappingType.HardLinear&&D!==w.FLOAT&&(v.log(v.LogLevel.Warning,"floating point textures are not supported, falling back to HardLinear"),this._shadowType=y.ShadowMappingType.HardLinear);var N=w.LINEAR;return D!==w.FLOAT||this._context.supportsTextureFloatLinear||(N=w.NEAREST),D!==S.HALF_FLOAT||this._context.supportsTextureHalfFloatLinear||(N=w.NEAREST),this._shadowMapTexture=new s.Texture2D(this._context),this._shadowMapTexture.initialize(this._shadowMapSize[0],this._shadowMapSize[1],k,P,w.FLOAT),this._shadowMapTexture.wrap(w.CLAMP_TO_EDGE,w.CLAMP_TO_EDGE),this._shadowMapTexture.filter(N,N),this._shadowMapRenderbuffer=new l.Renderbuffer(this._context),this._shadowMapRenderbuffer.initialize(this._shadowMapSize[0],this._shadowMapSize[1],w.DEPTH_COMPONENT16),this._shadowMapFBO=new d.Framebuffer(this._context),this._shadowMapFBO.initialize([[S.COLOR_ATTACHMENT0,this._shadowMapTexture],[w.DEPTH_ATTACHMENT,this._shadowMapRenderbuffer]]),this._shadowMapFBO.clearColor([1,1,1,1]),this._shadowMapFBO.clearDepth(1),this.hasBlur&&(this._gaussFilter=new c.GaussFilter(this._context),this._gaussFilter.kernelSize=this._gaussFilterKernelSize,this._gaussFilter.standardDeviation=this._gaussFilterKernelSize/6,this._gaussFilter.initialize(),this._intermediateBlurTexture=new s.Texture2D(this._context,"IntermediateBlurTexture"),this._intermediateBlurTexture.initialize(this._blurredShadowMapSize[0],this._blurredShadowMapSize[1],k,P,w.FLOAT),this._intermediateBlurTexture.wrap(w.CLAMP_TO_EDGE,w.CLAMP_TO_EDGE),this._intermediateBlurTexture.filter(N,N),this._intermediateBlurFBO=new d.Framebuffer(this._context,"IntermediateBlurFramebuffer"),this._intermediateBlurFBO.initialize([[S.COLOR_ATTACHMENT0,this._intermediateBlurTexture]]),this._intermediateBlurFBO.clearColor([1,1,1,1]),this._intermediateBlurFBO.clearDepth(1),this._blurTexture=new s.Texture2D(this._context,"BlurTexture"),this._blurTexture.initialize(this._blurredShadowMapSize[0],this._blurredShadowMapSize[1],k,P,w.FLOAT),this._blurTexture.wrap(w.CLAMP_TO_EDGE,w.CLAMP_TO_EDGE),this._blurTexture.filter(N,N),this._blurFBO=new d.Framebuffer(this._context,"BlurFramebuffer"),this._blurFBO.initialize([[S.COLOR_ATTACHMENT0,this._blurTexture]]),this._blurFBO.clearColor([1,1,1,1]),this._blurFBO.clearDepth(1)),!0},y.prototype.uninitialize=function(){this._shadowMapFBO.uninitialize(),this._shadowMapRenderbuffer.uninitialize(),this._shadowMapTexture.uninitialize(),this.hasBlur&&(this._intermediateBlurFBO.uninitialize(),this._intermediateBlurTexture.uninitialize(),this._blurFBO.uninitialize(),this._blurTexture.uninitialize(),this._gaussFilter.uninitialize())},y.prototype.frame=function(b){var E=this._context.gl;E.viewport(0,0,this._shadowMapSize[0],this._shadowMapSize[1]),E.enable(E.DEPTH_TEST),E.depthFunc(E.LEQUAL),this._shadowMapFBO.clear(E.COLOR_BUFFER_BIT|E.DEPTH_BUFFER_BIT,!0,!1),b(),E.disable(E.DEPTH_TEST),E.depthFunc(E.LESS),this.hasBlur&&(E.viewport(0,0,this._intermediateBlurFBO.width,this._intermediateBlurFBO.height),this._intermediateBlurFBO.clear(E.COLOR_BUFFER_BIT|E.DEPTH_BUFFER_BIT,!0,!1),this._gaussFilter.filter(this._shadowMapTexture,c.GaussFilter.Direction.Horizontal),E.viewport(0,0,this._blurFBO.width,this._blurFBO.height),this._blurFBO.clear(E.COLOR_BUFFER_BIT|E.DEPTH_BUFFER_BIT,!0,!1),this._gaussFilter.filter(this._intermediateBlurTexture,c.GaussFilter.Direction.Vertical))},p([a.Initializable.assert_initialized()],y.prototype,"resize",null),p([a.Initializable.assert_initialized()],y.prototype,"resizeBlurTexture",null),p([a.Initializable.initialize()],y.prototype,"initialize",null),p([a.Initializable.uninitialize()],y.prototype,"uninitialize",null),p([a.Initializable.assert_initialized()],y.prototype,"frame",null),y}(a.Initializable);o.ShadowPass=f,function(m){(function(y){y[y.HardLinear=0]="HardLinear",y[y.SoftLinear=1]="SoftLinear",y[y.HardExponential=2]="HardExponential",y[y.SoftExponential=3]="SoftExponential"})(m.ShadowMappingType||(m.ShadowMappingType={}))}(f=o.ShadowPass||(o.ShadowPass={})),o.ShadowPass=f},function(n,o,i){var h,g=this&&this.__extends||(h=function(c,a){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var u in s)s.hasOwnProperty(u)&&(l[u]=s[u])})(c,a)},function(c,a){function l(){this.constructor=c}h(c,a),c.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)});Object.defineProperty(o,"__esModule",{value:!0});var p=i(1),v=i(5),d=function(c){function a(l,s,u,f){u===void 0&&(u=!1),f===void 0&&(f=[1,1,1]);var m=c.call(this,l,s)||this;m._vertexLocation=0,m._extent=p.vec3.fromValues(1,1,1),m._uvCoordinates=!1,s=s!==void 0&&s!==""?s:m.constructor.name;var y=new v.Buffer(l,s+"VBO");m._buffers.push(y);var b=new v.Buffer(l,s+"IndicesVBO");return m._buffers.push(b),m._extent=p.vec3.clone(f),m._uvCoordinates=u,m}return g(a,c),a.prototype.bindBuffers=function(){this._uvCoordinates===!1?this._buffers[0].attribEnable(this._vertexLocation,3,this.context.gl.FLOAT,!1,0,0,!0,!1):(this._buffers[0].attribEnable(this._vertexLocation,3,this.context.gl.FLOAT,!1,20,0,!0,!1),this._buffers[0].attribEnable(this._uvCoordLocation,2,this.context.gl.FLOAT,!1,20,12,!1,!1)),this._buffers[1].bind()},a.prototype.unbindBuffers=function(){this._buffers[0].attribDisable(this._vertexLocation,!0,!0),this._uvCoordinates&&this._buffers[0].attribDisable(this._uvCoordLocation,!1,!0),this._buffers[1].unbind()},a.prototype.initialize=function(l,s){var u=this;l===void 0&&(l=0),s===void 0&&(s=1),this._vertexLocation=l,this._uvCoordLocation=s;var f=this.context.gl,m=c.prototype.initialize.call(this,[f.ARRAY_BUFFER,f.ELEMENT_ARRAY_BUFFER],[l,s]),y=this._uvCoordinates,b=y?a.VERTICES_UV:a.VERTICES;return b=b.map(function(E,x){return E*(y===!1?.5*u._extent[x%3]:x%5<3?.5*u._extent[x%5]:1)}),this._buffers[0].data(b,f.STATIC_DRAW),this._buffers[1].data(y?a.INDICES_UV:a.INDICES,f.STATIC_DRAW),this._count=y?a.INDICES_UV.length:a.INDICES.length,m},a.prototype.draw=function(){var l=this.context.gl;l.drawElements(l.TRIANGLE_STRIP,this._count,l.UNSIGNED_BYTE,0)},Object.defineProperty(a.prototype,"vertexLocation",{get:function(){return this._vertexLocation},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"uvCoordLocation",{get:function(){return this._uvCoordLocation},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"extent",{get:function(){return this._extent},enumerable:!0,configurable:!0}),a.VERTICES=new Float32Array([-1,-1,1,1,-1,1,-1,1,1,1,1,1,-1,-1,-1,1,-1,-1,-1,1,-1,1,1,-1]),a.INDICES=new Uint8Array([0,1,2,3,7,1,5,4,7,6,2,4,0,1]),a.VERTICES_UV=new Float32Array([-1,-1,1,0,0,1,-1,1,1,0,-1,1,1,0,1,1,1,1,1,1,-1,1,1,0,0,1,1,1,1,0,1,1,-1,1,1,1,1,1,0,1,1,-1,1,0,0,1,-1,-1,1,0,1,-1,1,1,1,-1,-1,-1,0,0,1,-1,-1,0,0,-1,-1,-1,1,0,1,1,-1,0,1,-1,1,-1,1,1,-1,1,-1,0,1,-1,1,1,1,1,-1,-1,1,1,0,-1,-1,1,0,1]),a.INDICES_UV=new Uint8Array([3,2,1,0,10,19,11,18,11,17,16,4,16,5,6,7,6,8,9,10,9,11,12,13,14,15]),a}(i(9).Geometry);o.CuboidGeometry=d},function(n,o,i){var h,g=this&&this.__extends||(h=function(l,s){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var m in f)f.hasOwnProperty(m)&&(u[m]=f[m])})(l,s)},function(l,s){function u(){this.constructor=l}h(l,s),l.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(o,"__esModule",{value:!0});var p=i(0),v=i(5),d=i(9),c=i(66),a=function(l){function s(u,f,m,y){m===void 0&&(m=1),y===void 0&&(y=!0);var b=l.call(this,u,f)||this;b._diameter=1,b._textured=!1,b._size=0,f=f!==void 0&&f!==""?f:b.constructor.name,b._diameter=m,b._textured=y;var E=new v.Buffer(u,f+"IndexBuffer");b._buffers.push(E);var x=new v.Buffer(u,f+"VBO");if(b._buffers.push(x),b._textured){var w=new v.Buffer(u,f+"UV");b._buffers.push(w)}return b}return g(s,l),s.prototype.bindBuffers=function(){this._buffers[0].bind(),this._buffers[1].attribEnable(this._vertexLocation,3,this.context.gl.FLOAT,!1,0,0,!0,!1),this._textured&&this._buffers[2].attribEnable(this._texCoordLocation,2,this.context.gl.FLOAT,!1,0,0,!0,!1)},s.prototype.unbindBuffers=function(){this._buffers[0].unbind(),this._buffers[1].attribDisable(this._vertexLocation,!0,!0),this._textured&&this._buffers[2].attribDisable(this._texCoordLocation,!0,!0)},s.prototype.initialize=function(u,f){u===void 0&&(u=0),f===void 0&&(f=1);var m=this.context.gl;this._vertexLocation=u,this._texCoordLocation=f;var y=l.prototype.initialize.call(this,[m.ELEMENT_ARRAY_BUFFER,m.ARRAY_BUFFER,m.ARRAY_BUFFER],[8,u,f]);p.assert(this._buffers[0]!==void 0&&this._buffers[0].object instanceof WebGLBuffer,"expected valid WebGLBuffer"),p.assert(this._buffers[1]!==void 0&&this._buffers[1].object instanceof WebGLBuffer,"expected valid WebGLBuffer"),this._textured&&p.assert(this._buffers[2]!==void 0&&this._buffers[2].object instanceof WebGLBuffer,"expected valid WebGLBuffer");var b=new c.Icosahedron;b.generateGeometry(3),this._textured&&b.generateTextureCoordinates();for(var E=b.faces,x=new Uint16Array(3*E.length),w=0,S=0,P=E;S<P.length;S++){var A=P[S];x[w+0]=A[0],x[w+1]=A[1],x[w+2]=A[2],w+=3}this._buffers[0].data(x,m.STATIC_DRAW),this._size=3*E.length;var L=b.vertices,k=new Float32Array(3*L.length);w=0;for(var D=0,N=L;D<N.length;D++){var W=N[D];k[w+0]=W[0]*this._diameter,k[w+1]=W[1]*this._diameter,k[w+2]=W[2]*this._diameter,w+=3}if(this._buffers[1].data(k,m.STATIC_DRAW),this._textured){var H=b.texcoords,q=new Float32Array(2*H.length);if(H&&H.length>0){w=0;for(var X=0,Y=H;X<Y.length;X++){var J=Y[X];q[w+0]=J[0],q[w+1]=J[1],w+=2}}this._buffers[2].data(q,m.STATIC_DRAW)}return y},s.prototype.draw=function(){var u=this.context.gl;u.drawElements(u.TRIANGLES,this._size,u.UNSIGNED_SHORT,0)},Object.defineProperty(s.prototype,"vertexLocation",{get:function(){return this._vertexLocation},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"texCoordLocation",{get:function(){return this._texCoordLocation},enumerable:!0,configurable:!0}),s}(d.Geometry);o.GeosphereGeometry=a},function(n,o,i){var h,g=this&&this.__extends||(h=function(c,a){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var u in s)s.hasOwnProperty(u)&&(l[u]=s[u])})(c,a)},function(c,a){function l(){this.constructor=c}h(c,a),c.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)});Object.defineProperty(o,"__esModule",{value:!0});var p=i(1),v=i(5),d=function(c){function a(l,s){var u=c.call(this,l,s)||this;u._vertexLocation=0,u._texCoordLocation=1,u._translation=p.vec3.fromValues(0,0,0),u._scale=p.vec3.fromValues(1,1,1),u._rotation=p.quat.create(),s=s!==void 0&&s!==""?s:u.constructor.name;var f=new v.Buffer(l,s+"VertexVBO"),m=new v.Buffer(l,s+"TexCoordVBO"),y=new v.Buffer(l,s+"IndexBuffer");return u._buffers.push(f),u._buffers.push(m),u._buffers.push(y),u}return g(a,c),a.prototype.bindBuffers=function(){this._buffers[0].attribEnable(this._vertexLocation,3,this.context.gl.FLOAT,!1,0,0,!0,!1),this._buffers[1].attribEnable(this._texCoordLocation,2,this.context.gl.FLOAT,!1,0,0,!0,!1),this._buffers[2].bind()},a.prototype.unbindBuffers=function(){this._buffers[0].attribDisable(this._vertexLocation,!0,!0),this._buffers[1].attribDisable(this._texCoordLocation,!0,!0),this._buffers[2].unbind()},a.prototype.initialize=function(l,s){l===void 0&&(l=0),s===void 0&&(s=1);var u=this.context.gl;this._vertexLocation=l,this._texCoordLocation=s;var f=c.prototype.initialize.call(this,[u.ARRAY_BUFFER,u.ARRAY_BUFFER,u.ELEMENT_ARRAY_BUFFER],[l,s,8]);return this._buffers[0].data(a.VERTICES,u.STATIC_DRAW),this._buffers[1].data(a.UV,u.STATIC_DRAW),this._buffers[2].data(a.INDICES,u.STATIC_DRAW),f},a.prototype.draw=function(){var l=this.context.gl;l.drawElements(l.TRIANGLE_STRIP,a.INDICES.length,l.UNSIGNED_BYTE,0)},Object.defineProperty(a.prototype,"translation",{set:function(l){this._translation=l},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"scale",{set:function(l){this._scale=p.vec3.fromValues(l[0],1,l[1])},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rotation",{set:function(l){this._rotation=l},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"transformation",{get:function(){var l=p.mat4.create();return p.mat4.fromRotationTranslationScale(l,this._rotation,this._translation,this._scale)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"vertexLocation",{get:function(){return this._vertexLocation},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"texCoordLocation",{get:function(){return this._texCoordLocation},enumerable:!0,configurable:!0}),a.VERTICES=new Float32Array([-1,0,-1,-1,0,1,1,0,-1,1,0,1]),a.UV=new Float32Array([-1,-1,-1,1,1,-1,1,1]),a.INDICES=new Uint8Array([0,1,2,3]),a}(i(9).Geometry);o.PlaneGeometry=d},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(0),g=i(5),p=i(9),v=i(25),d=i(4),c=function(){function a(l){this._texture2Ds=new Map,this._materials=new Map,this._geometries=new Map,this._buffers=new Map,this._context=l}return a.prototype.fetchTexture2D=function(l,s,u){if(u===void 0&&(u=!1),!this._texture2Ds.has(l)){var f=new d.Texture2D(this._context,l);return h.assert(f.identifier===l,"expected object identifier to be unchanged"),this._texture2Ds.set(l,f),f.fetch(s,u)}},a.prototype.add=function(l,s){var u=new Array;if(l instanceof d.Texture2D)for(var f=l,m=0,y=s;m<y.length;m++){var b=y[m];this._texture2Ds.has(b)||(this._texture2Ds.set(b,f),u.push(b))}if(l instanceof v.Material)for(var E=l,x=0,w=s;x<w.length;x++)b=w[x],this._materials.has(b)||(this._materials.set(b,E),u.push(b));if(l instanceof p.Geometry)for(var S=l,P=0,A=s;P<A.length;P++)b=A[P],this._geometries.has(b)||(this._geometries.set(b,S),u.push(b));if(l instanceof g.Buffer)for(var L=l,k=0,D=s;k<D.length;k++)b=D[k],this._buffers.has(b)||(this._buffers.set(b,L),u.push(b));return u},a.prototype.get=function(l){return this._texture2Ds.has(l)?this._texture2Ds.get(l):this._materials.has(l)?this._materials.get(l):this._geometries.has(l)?this._geometries.get(l):this._buffers.has(l)?this._buffers.get(l):void 0},a.prototype.uninitialize=function(){for(var l=0,s=Array.from(this._geometries.values());l<s.length;l++){var u=s[l];u.initialized&&u.uninitialize()}this._geometries.clear();for(var f=0,m=Array.from(this._texture2Ds.values());f<m.length;f++){var y=m[f];y.initialized&&y.uninitialize()}this._texture2Ds.clear();for(var b=0,E=Array.from(this._buffers.values());b<E.length;b++){var x=E[b];x.initialized&&x.uninitialize()}this._buffers.clear(),this._materials.clear()},a}();o.ResourceManager=c},function(n,o,i){var h,g=this&&this.__extends||(h=function(s,u){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var y in m)m.hasOwnProperty(y)&&(f[y]=m[y])})(s,u)},function(s,u){function f(){this.constructor=s}h(s,u),s.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}),p=this&&this.__decorate||function(s,u,f,m){var y,b=arguments.length,E=b<3?u:m===null?m=Object.getOwnPropertyDescriptor(u,f):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(s,u,f,m);else for(var x=s.length-1;x>=0;x--)(y=s[x])&&(E=(b<3?y(E):b>3?y(u,f,E):y(u,f))||E);return b>3&&E&&Object.defineProperty(u,f,E),E};Object.defineProperty(o,"__esModule",{value:!0});var v=i(1),d=i(0),c=i(15),a=i(2),l=function(s){function u(f){var m=s.call(this)||this;return m._altered=Object.assign(new c.ChangeLookup,{any:!1,camera:!1}),m._context=f,m._opaqueGeometryMap=new Map,m._transparentGeometryMap=new Map,m}return g(u,s),u.prototype.preprocessScene=function(){d.assert(this._scene!==void 0,"Scene was undefined during preprocessing."),this._scene!==void 0&&(this._opaqueGeometryMap.clear(),this._transparentGeometryMap.clear(),this.preprocessNode(this._scene,v.mat4.create()))},u.prototype.preprocessNode=function(f,m){var y=v.mat4.clone(m),b=f.componentsOfType("TransformComponent");if(d.assert(b.length<=1,"SceneNode can not have more than one transform component"),b.length===1){var E=b[0];v.mat4.mul(y,y,E.transform)}for(var x=0,w=f.componentsOfType("GeometryComponent");x<w.length;x++){var S,P=w[x],A=P.material,L=P.geometry;A.isTransparent?((S=this._transparentGeometryMap.get(A))===void 0&&(S=[]),S.push([L,y]),this._transparentGeometryMap.set(A,S)):((S=this._opaqueGeometryMap.get(A))===void 0&&(S=[]),S.push([L,y]),this._opaqueGeometryMap.set(A,S))}if(f.nodes!==void 0)for(var k=0,D=f.nodes;k<D.length;k++){var N=D[k];this.preprocessNode(N,y)}},u.prototype.renderGeometryMap=function(f){for(var m=0,y=Array.from(f.keys());m<y.length;m++){var b=y[m];this.bindMaterial(b);for(var E=0,x=f.get(b);E<x.length;E++){var w=x[E],S=w[0],P=w[1];S.bind(),this.bindGeometry!==void 0&&this.bindGeometry(S),this.updateModelTransform(P),S.draw(),S.unbind()}}},u.prototype.initialize=function(){return!0},u.prototype.uninitialize=function(){},u.prototype.prepare=function(){},u.prototype.update=function(f){},u.prototype.frame=function(){if(d.assert(this._target&&this._target.valid,"valid target expected"),d.assert(this._program&&this._program.valid,"valid program expected"),d.assert(this.updateModelTransform!==void 0,"Model transform function needs to be initialized."),d.assert(this.updateViewProjectionTransform!==void 0,"View Projection transform function needs to be initialized."),d.assert(this.bindMaterial!==void 0,"Material binding function needs to be initialized."),this._scene!==void 0){var f=this._context.gl;f.enable(f.DEPTH_TEST);var m=this._target.size;f.viewport(0,0,m[0],m[1]);var y=this._clearColor;f.clearColor(y[0],y[1],y[2],y[3]),this._target.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT,!0,!1),this._program.bind(),this.bindUniforms!==void 0&&this.bindUniforms(),this.updateViewProjectionTransform(this._camera.viewProjection),this.drawCalls(),this._program.unbind(),f.disable(f.BLEND)}},u.prototype.drawCalls=function(f){f===void 0&&(f=!0),this._scene!==void 0&&(this.renderGeometryMap(this._opaqueGeometryMap),f&&this.renderGeometryMap(this._transparentGeometryMap))},Object.defineProperty(u.prototype,"target",{set:function(f){this.assertInitialized(),this._target=f},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"ndcOffset",{set:function(f){this.assertInitialized(),this._ndcOffset=f},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"camera",{set:function(f){this.assertInitialized(),this._camera!==f&&(this._camera=f,this._altered.alter("camera"))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"clearColor",{set:function(f){this._clearColor=f},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"program",{set:function(f){this._program=f},enumerable:!0,configurable:!0}),p([a.Initializable.initialize()],u.prototype,"initialize",null),p([a.Initializable.uninitialize()],u.prototype,"uninitialize",null),p([a.Initializable.assert_initialized()],u.prototype,"update",null),p([a.Initializable.assert_initialized()],u.prototype,"frame",null),p([a.Initializable.assert_initialized()],u.prototype,"drawCalls",null),u}(i(67).SceneRenderPass);o.ForwardSceneRenderPass=l},function(n,o,i){var h,g=this&&this.__extends||(h=function(v,d){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var l in a)a.hasOwnProperty(l)&&(c[l]=a[l])})(v,d)},function(v,d){function c(){this.constructor=v}h(v,d),v.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)});Object.defineProperty(o,"__esModule",{value:!0});var p=function(v){function d(c){var a=v.call(this,"TransformComponent")||this;return a._transform=c,a}return g(d,v),Object.defineProperty(d.prototype,"transform",{get:function(){return this._transform},enumerable:!0,configurable:!0}),d}(i(39).SceneNodeComponent);o.TransformComponent=p},function(n,o,i){var h,g=this&&this.__extends||(h=function(v,d){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var l in a)a.hasOwnProperty(l)&&(c[l]=a[l])})(v,d)},function(v,d){function c(){this.constructor=v}h(v,d),v.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)});Object.defineProperty(o,"__esModule",{value:!0});var p=function(v){function d(){return v.call(this,"GeometryComponent")||this}return g(d,v),Object.defineProperty(d.prototype,"geometry",{get:function(){return this._geometry},set:function(c){this._geometry=c},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"material",{get:function(){return this._material},set:function(c){this._material=c},enumerable:!0,configurable:!0}),d}(i(39).SceneNodeComponent);o.GeometryComponent=p},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=function(){function g(p,v){this._context=p,this._name=v,this._isTransparent=!1}return Object.defineProperty(g.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"isTransparent",{get:function(){return this._isTransparent},set:function(p){this._isTransparent=p},enumerable:!0,configurable:!0}),g}();o.Material=h},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(128);o.FontFace=h.FontFace;var g=i(18);o.GlyphVertices=g.GlyphVertices;var p=i(19);o.Label=p.Label;var v=i(71);o.LabelGeometry=v.LabelGeometry;var d=i(130);o.LabelRenderPass=d.LabelRenderPass;var c=i(72);o.Position2DLabel=c.Position2DLabel;var a=i(73);o.Position3DLabel=a.Position3DLabel;var l=i(74);o.Projected3DLabel=l.Projected3DLabel;var s=i(70);o.Text=s.Text;var u=i(26);o.Typesetter=u.Typesetter},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(0),g=i(4),p=i(14),v=i(34),d=i(129),c=i(69),a=function(){function l(s,u){this._ascent=0,this._descent=0,this._lineGap=0,this._glyphTextureExtent=[0,0],this._glyphTexturePadding=[0,0,0,0],this._glyphs=new Map,this._context=s;var f=s.gl;u=u!==void 0&&u!==""?u:this.constructor.name,this._glyphTexture=new g.Texture2D(s,u+"GlyphAtlas");var m=p.Wizard.queryInternalTextureFormat(s,f.RGBA,p.Wizard.Precision.byte);this._glyphTexture.initialize(1,1,m[0],f.RGBA,m[1]),this._glyphTexture.filter(f.LINEAR,f.LINEAR)}return l.fromFile=function(s,u,f,m){return f===void 0&&(f=!1),v.fetchAsync(s,"text").then(function(y){var b=new l(u,m);return d.FontFaceLoader.process(b,y,s,f).then(function(E){return E}).catch(function(E){return Promise.reject("processing font face data failed: "+E)})})},l.prototype.hasGlyph=function(s){return!!this._glyphs.get(s)},l.prototype.glyph=function(s){var u=this._glyphs.get(s);if(u)return u;var f=new c.Glyph;return f.index=s,f},l.prototype.addGlyph=function(s){h.assert(!this._glyphs.get(s.index),"expected glyph to not already exist"),this._glyphs.set(s.index,s)},l.prototype.arrayOfGlyphIndices=function(){return Array.from(this._glyphs.keys())},l.prototype.depictable=function(s){return this.glyph(s).depictable()},l.prototype.kerning=function(s,u){var f=this._glyphs.get(s);return f?f.kerning(u):0},l.prototype.setKerning=function(s,u,f){var m=this._glyphs.get(s);m&&this.hasGlyph(u)?m.setKerning(u,f):h.assert(!1,"expected glyph or glyph of subsequent index to exist,                 given "+s+" and "+u+" respectively")},Object.defineProperty(l.prototype,"size",{get:function(){return this._size},set:function(s){h.assert(s>0,"expected size to be greater than 0.0, given "+s),this._size=s},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"base",{get:function(){return this._base},set:function(s){h.assert(s>0,"expected base to be greater than 0.0, given "+s),this._base=s},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"ascent",{get:function(){return this._ascent},set:function(s){h.assert(s>0,"expected ascent to be greater than 0.0, given "+s),this._ascent=s},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"descent",{get:function(){return this._descent},set:function(s){this._descent=s},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"lineGap",{get:function(){return this._lineGap},set:function(s){this._lineGap=s},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"lineHeight",{get:function(){return this.size+this.lineGap},set:function(s){h.assert(this.size>0,"expected size to be greater than zero to derive line gap from line height"),this._lineGap=s-this.size},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"lineSpace",{get:function(){return this.lineHeight===0?this.lineHeight:this.size/this.lineHeight},set:function(s){this._lineGap=this.size*(s-1)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"glyphTextureExtent",{get:function(){return this._glyphTextureExtent},set:function(s){h.assert(s[0]>0,"expected extent.x to be greater than 0.0, given "+s[0]),h.assert(s[1]>0,"expected extent.y to be greater than 0.0, given "+s[1]),this._glyphTextureExtent=s},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"glyphTexturePadding",{get:function(){return this._glyphTexturePadding},set:function(s){h.assert(s[0]>=0,"expected padding[0] to be greater than 0.0, given "+s[0]),h.assert(s[1]>=0,"expected padding[1] to be greater than 0.0, given "+s[1]),h.assert(s[2]>=0,"expected padding[2] to be greater than 0.0, given "+s[2]),h.assert(s[3]>=0,"expected padding[3] to be greater than 0.0, given "+s[3]),this._glyphTexturePadding=s},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"glyphTexture",{get:function(){return this._glyphTexture},set:function(s){this._glyphTexture=s},enumerable:!0,configurable:!0}),l}();o.FontFace=a},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(0),g=i(69),p=function(){function v(){}return v.processInfo=function(d,c){var a=new Map;if(!this.readKeyValuePairs(d,["size","padding"],a))return!1;c.size=parseFloat(a.get("size"));var l=a.get("padding").split(",");if(l.length!==4)return h.log(h.LogLevel.Warning,"expected 4 values for padding, given "+l+" ("+l.length+")"),!1;var s=[parseFloat(l[0]),parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3])];return c.glyphTexturePadding=s,!0},v.processCommon=function(d,c){var a=new Map;return!!this.readKeyValuePairs(d,["lineHeight","base","scaleW","scaleH"],a)&&(c.base=parseFloat(a.get("base")),a.has("ascent")&&(c.ascent=parseFloat(a.get("ascent"))),a.has("descent")&&(c.descent=parseFloat(a.get("descent"))),c.lineHeight=parseFloat(a.get("lineHeight")),c.glyphTextureExtent=[parseFloat(a.get("scaleW")),parseFloat(a.get("scaleH"))],!0)},v.processPage=function(d,c,a){var l=new Map;if(this.readKeyValuePairs(d,["file"],l)){var s=h.dirname(a),u=l.get("file");return u=u.replace(/['"]+/g,""),c.glyphTexture.fetch(s+"/"+u,!1,!0).catch(function(){return Promise.reject("page '"+u+"' referenced in font file '"+a+"' was not found")})}},v.processChar=function(d,c){var a=new Map;if(!this.readKeyValuePairs(d,["id","x","y","width","height","xoffset","yoffset","xadvance"],a))return!1;var l=parseInt(a.get("id"),10);h.logIf(l<=0,h.LogLevel.Warning,"expected glyph index to be greater than 0, given "+l);var s=new g.Glyph;s.index=l;var u=[1/c.glyphTextureExtent[0],1/c.glyphTextureExtent[1]],f=[parseFloat(a.get("width")),parseFloat(a.get("height"))];return s.subTextureOrigin=[parseFloat(a.get("x"))*u[0],1-(parseFloat(a.get("y"))+f[1])*u[1]],s.extent=f,s.subTextureExtent[0]=f[0]*u[0],s.subTextureExtent[1]=f[1]*u[1],s.bearingFromFontBaseAndOffset(c.base,parseFloat(a.get("xoffset")),parseFloat(a.get("yoffset"))),s.advance=parseFloat(a.get("xadvance")),c.addGlyph(s),!0},v.processKerning=function(d,c){var a=new Map;if(!this.readKeyValuePairs(d,["first","second","amount"],a))return!1;var l=parseInt(a.get("first"),10);if(l<=0)return h.log(h.LogLevel.Warning,"expected kerning's first to be greater than 0, given "+l),!1;var s=parseInt(a.get("second"),10);if(s<=0)return h.log(h.LogLevel.Warning,"expected kerning's second to be greater than 0, given "+s),!1;var u=parseFloat(a.get("amount"));return c.setKerning(l,s,u),!0},v.readKeyValuePairs=function(d,c,a){for(var l,s,u=0,f=d;u<f.length;u++){var m=f[u].split("=");l=m[0],s=m[1],a.set(l,s)}var y=!0;return c.forEach(function(b){return y=y&&a.has(b)}),y||h.log(h.LogLevel.Warning,"Not all required keys are provided! Mandatory keys: "+c),y},v.findAscentAndDescentIfNoneProvided=function(d,c){if(!(d.ascent>0&&d.descent<0)){d.ascent>0&&(d.descent=d.ascent-c),d.descent<0&&(d.ascent=d.descent-c);for(var a=Number.MIN_VALUE,l=0,s=d.arrayOfGlyphIndices();l<s.length;l++){var u=s[l];d.glyph(u).extent[1]!==0&&(a=Math.max(d.glyph(u).bearing[1],a))}d.ascent=a,d.descent=d.ascent-c,h.log(h.LogLevel.Debug,"ascent not specified, derived "+d.ascent+" from maximum y-offset")}},v.process=function(d,c,a,l){l===void 0&&(l=!1);for(var s=c.split(`
`),u=new Array,f=!0,m=0,y=s;m<y.length;m++){var b=y[m].split(" "),E=b[0];switch(b=b.slice(1),E){case"info":f=this.processInfo(b,d);break;case"common":f=this.processCommon(b,d);break;case"page":if(l)break;var x=this.processPage(b,d,a);x!==void 0&&u.push(x);break;case"char":f=this.processChar(b,d);break;case"kerning":this.processKerning(b,d)}if(f===!1)break}return v.findAscentAndDescentIfNoneProvided(d,d.size),d.size<=0&&h.log(h.LogLevel.Warning,"expected fontFace.size to be greater than 0, given "+d.size),Promise.all(u).then(function(){return d})},v}();o.FontFaceLoader=p},function(n,o,i){var h,g=this&&this.__extends||(h=function(S,P){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,L){A.__proto__=L}||function(A,L){for(var k in L)L.hasOwnProperty(k)&&(A[k]=L[k])})(S,P)},function(S,P){function A(){this.constructor=S}h(S,P),S.prototype=P===null?Object.create(P):(A.prototype=P.prototype,new A)}),p=this&&this.__decorate||function(S,P,A,L){var k,D=arguments.length,N=D<3?P:L===null?L=Object.getOwnPropertyDescriptor(P,A):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(S,P,A,L);else for(var W=S.length-1;W>=0;W--)(k=S[W])&&(N=(D<3?k(N):D>3?k(P,A,N):k(P,A))||N);return D>3&&N&&Object.defineProperty(P,A,N),N};Object.defineProperty(o,"__esModule",{value:!0});var v=i(1),d=i(0),c=i(15),a=i(2),l=i(6),s=i(7),u=i(4),f=i(18),m=i(19),y=i(71),b=i(72),E=i(73),x=i(74),w=function(S){function P(A){var L=S.call(this)||this;return L._altered=Object.assign(new c.ChangeLookup,{any:!1,camera:!1,geometry:!1,labels:!1,aaStepScale:!1,aaSampling:!1}),L._ndcOffset=[0,0],L._depthMask=!1,L._aaSampling=P.Sampling.Smooth1,L._labels=new Array,L._ranges=new Array,L._verticesPerLabel=new Array,L._context=A,L._depthFunc=A.gl.LESS,L._program=new l.Program(A,"LabelRenderProgram"),L._geometry=new y.LabelGeometry(L._context,"LabelGeometry"),L._aaStepScale=P.DEFAULT_AA_STEP_SCALE,L}return g(P,S),P.prototype.prepare=function(){for(var A=this._camera.viewport,L=0;L<this._labels.length;++L){var k=this._labels[L],D=void 0,N=this._altered.labels&&this._verticesPerLabel[L]===void 0;k instanceof b.Position2DLabel?(k.frameSize=A,D=k.typeset(N)):k instanceof x.Projected3DLabel?(k.camera=this._camera,D=k.typeset(N)):k instanceof E.Position3DLabel&&(D=k.typeset(N)),D===void 0?D=this._verticesPerLabel[L]:this._verticesPerLabel[L]=D;var W=L>0?this._ranges[L-1][1]:0,H=W+(D===void 0?0:D.length);this._ranges[L]=[W,H]}var q=f.GlyphVertices.concat(this._verticesPerLabel);this._geometry.update(q.origins,q.tangents,q.ups,q.texCoords)},P.prototype.initialize=function(){var A=this._context.gl;this._geometry.initialize(),this._context.enable(["OES_standard_derivatives"]);var L=new s.Shader(this._context,A.VERTEX_SHADER,"glyph.vert");L.initialize(i(131));var k=new s.Shader(this._context,A.FRAGMENT_SHADER,"glyph.frag");return k.initialize(i(132)),this._program.initialize([L,k],!1),this._program.attribute("a_vertex",this._geometry.vertexLocation),this._program.attribute("a_texCoord",this._geometry.texCoordLocation),this._program.attribute("a_origin",this._geometry.originLocation),this._program.attribute("a_tangent",this._geometry.tangentLocation),this._program.attribute("a_up",this._geometry.upLocation),this._program.link(),this._uViewProjection=this._program.uniform("u_viewProjection"),this._uNdcOffset=this._program.uniform("u_ndcOffset"),this._uColor=this._program.uniform("u_color"),this._uAAStepScale=this._program.uniform("u_aaStepScale"),this._uAASampling=this._program.uniform("u_aaSampling"),this._uTransform=this._program.uniform("u_transform"),this._uDynamic=this._program.uniform("u_dynamic"),this._program.bind(),A.uniform1i(this._program.uniform("u_glyphs"),0),A.uniform1f(this._uAAStepScale,this._aaStepScale),A.uniform1i(this._uAASampling,this._aaSampling),this._program.unbind(),!0},P.prototype.uninitialize=function(){this._geometry.uninitialize(),this._program.uninitialize(),this._uViewProjection=void 0,this._uNdcOffset=void 0,this._uColor=void 0,this._uAAStepScale=void 0,this._uAASampling=void 0,this._uTransform=void 0,this._uDynamic=void 0},P.prototype.update=function(A){A===void 0&&(A=!1);var L=this._context.gl;this._program.bind(),(A||this._altered.camera||this._camera.altered)&&L.uniformMatrix4fv(this._uViewProjection,!1,this._camera.viewProjection),(A||this._altered.aaStepScale)&&L.uniform1f(this._uAAStepScale,this._aaStepScale),(A||this._altered.aaSampling)&&L.uniform1i(this._uAASampling,this._aaSampling);for(var k=A||this._altered.labels||this._altered.camera||this._camera.altered,D=0;k===!1&&D<this._labels.length;)k=this._labels[D].altered,++D;k&&this.prepare(),this._altered.reset()},P.prototype.frame=function(){if(this._geometry.numGlyphs!==0&&this._labels.length!==0){d.assert(this._target&&this._target.valid,"valid target expected");var A=this._context.gl,L=this._target.size;A.viewport(0,0,L[0],L[1]),A.enable(A.DEPTH_TEST),A.depthFunc(this._depthFunc),this._depthMask===!1&&A.depthMask(this._depthMask),A.enable(A.BLEND),A.blendFuncSeparate(A.SRC_ALPHA,A.ONE_MINUS_SRC_ALPHA,A.ONE,A.ONE_MINUS_SRC_ALPHA),this._program.bind(),A.uniform2fv(this._uNdcOffset,this._ndcOffset),A.uniformMatrix4fv(this._uViewProjection,!1,this._camera.viewProjection),this._target.bind(),this._geometry.bind();for(var k,D,N=[0,0],W=v.mat4.create(),H=0;H<this._labels.length;++H){var q=this._labels[H];if(N[1]=this._ranges[H][1],!(N[0]===N[1]||H<this._labels.length-1&&!q.valid)){var X=H<this._labels.length-1?this._labels[H+1]:void 0,Y=X&&q.type===m.Label.Type.Static&&X.type===m.Label.Type.Static,J=X&&q.color.equals(X.color),ee=X&&q.fontFace===X.fontFace,te=X&&q.fontSizeUnit===X.fontSizeUnit;if(!X||!(this._ranges[H+1][0]===this._ranges[H+1][1]||Y&&J&&ee&&te)){var ne=q.type===m.Label.Type.Dynamic;switch(A.uniform1i(this._uDynamic,ne),ne&&A.uniformMatrix4fv(this._uTransform,!1,q.dynamicTransform),k!==void 0&&k.equals(q.color)||(A.uniform4fv(this._uColor,q.color.rgbaF32),k=q.color),D!==q.fontFace&&(q.fontFace.glyphTexture.bind(A.TEXTURE0),D=q.fontFace),q.fontSizeUnit){case m.Label.Unit.Pixel:A.uniformMatrix4fv(this._uViewProjection,!1,W);break;case m.Label.Unit.World:case m.Label.Unit.Mixed:default:A.uniformMatrix4fv(this._uViewProjection,!1,this._camera.viewProjection)}this._geometry.draw(N[0],N[1]-N[0]),N[0]=N[1]}}}A.bindTexture(A.TEXTURE_2D,u.Texture2D.DEFAULT_TEXTURE),this._depthMask===!1&&A.depthMask(!0),A.depthFunc(A.LESS),A.disable(A.DEPTH_TEST),A.disable(A.BLEND)}},P.prototype.unbind=function(){this._geometry.valid&&this._geometry.unbind(),this._program.valid&&this._program.unbind()},Object.defineProperty(P.prototype,"target",{set:function(A){this.assertInitialized(),this._target=A},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"ndcOffset",{set:function(A){this.assertInitialized(),this._ndcOffset=A},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"camera",{set:function(A){this.assertInitialized(),this._camera!==A&&(this._camera=A,this._altered.alter("camera"))},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"depthMask",{get:function(){return this._depthMask},set:function(A){this._depthMask=A},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"depthFunc",{get:function(){return this._depthFunc},set:function(A){this._depthFunc=A},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"labels",{get:function(){return this._labels},set:function(A){this._labels=A,this._ranges.length=this._labels.length,this._verticesPerLabel.length=this._labels.length,this._verticesPerLabel.fill(void 0),this._altered.alter("labels")},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"aaStepScale",{get:function(){return this._aaStepScale},set:function(A){this._aaStepScale!==A&&(this._aaStepScale=A,this._altered.alter("aaStepScale"))},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"aaSampling",{get:function(){return this._aaSampling},set:function(A){this._aaSampling!==A&&(this._aaSampling=A,this._altered.alter("aaSampling"))},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"geometry",{get:function(){return this._geometry},enumerable:!0,configurable:!0}),Object.defineProperty(P.prototype,"program",{get:function(){return this._program},enumerable:!0,configurable:!0}),P.DEFAULT_AA_STEP_SCALE=.6666,p([a.Initializable.initialize()],P.prototype,"initialize",null),p([a.Initializable.uninitialize()],P.prototype,"uninitialize",null),p([a.Initializable.assert_initialized()],P.prototype,"update",null),p([a.Initializable.assert_initialized()],P.prototype,"frame",null),p([a.Initializable.assert_initialized()],P.prototype,"unbind",null),P}(a.Initializable);o.LabelRenderPass=w,function(S){(function(P){P[P.None=0]="None",P[P.Smooth1=1]="Smooth1",P[P.Horizontal3=2]="Horizontal3",P[P.Vertical3=3]="Vertical3",P[P.Grid3x3=4]="Grid3x3",P[P.Grid4x4=5]="Grid4x4"})(S.Sampling||(S.Sampling={}))}(w=o.LabelRenderPass||(o.LabelRenderPass={})),o.LabelRenderPass=w},function(n,o){n.exports=`precision mediump float;\r
precision lowp int;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else\r
    #define varying out\r
#endif\r
\r
\r
\r
#if __VERSION__ == 100\r
\r
#extension GL_EXT_draw_buffers : enable\r
attribute vec2 a_vertex;\r
/* [ texture ll: vec2, ur: vec2 ] */\r
attribute vec4 a_texCoord;\r
attribute vec3 a_origin;\r
attribute vec3 a_tangent;\r
attribute vec3 a_up;\r
\r
#else\r
\r
in vec2 a_vertex;\r
/* [ texture ll: vec2, ur: vec2 ]*/\r
in vec4 a_texCoord;\r
in vec3 a_origin;\r
in vec3 a_tangent;\r
in vec3 a_up;\r
\r
#endif\r
\r
\r
uniform mat4 u_viewProjection;\r
uniform vec2 u_ndcOffset;\r
uniform mat4 u_transform;\r
uniform bool u_dynamic;\r
\r
varying vec2 v_uv;\r
\r
\r
void ndcOffset(inout vec4 vertex, in vec2 offset) {\r
    vertex.xy = offset * vec2(vertex.w) + vertex.xy;\r
}\r
\r
\r
\r
void main(void)\r
{\r
    /* TEXTURE COORDS */\r
\r
    /* flip y-coordinates */\r
    vec2 texExt = vec2(a_texCoord[2] - a_texCoord[0], a_texCoord[1] - a_texCoord[3]);\r
\r
    v_uv = a_vertex * texExt + vec2(a_texCoord[0], 1.0 - a_texCoord[1]);\r
\r
    /* POSITIONING */\r
    /* quad data as flat array: [0, 0,  0, 1,  1, 0,  1, 1] (a_vertex), which translates to ll, lr, ul, ur corners.\r
     * 2-------4\r
     * |  \\    |\r
     * |    \\  |\r
     * 1-------3\r
     * The current vertex is calculated based on the current quad corners and the tangent attributes.\r
     * The following lines are optimized for MAD optimization.\r
     */\r
    vec3 tangentDirection = a_origin + a_vertex.x * a_tangent;\r
    vec4 vertex = vec4(tangentDirection + a_vertex.y * a_up, 1.0);\r
\r
    if(u_dynamic) {\r
        vertex = u_transform * vertex;\r
    }\r
    vertex = u_viewProjection * vertex;\r
\r
    ndcOffset(vertex, u_ndcOffset);\r
    gl_Position = vertex;\r
}\r
`},function(n,o){n.exports=`precision mediump float;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else \r
    #define varying in\r
#endif\r
\r
\r
\r
#if __VERSION__ == 100\r
    #define fragColor gl_FragColor\r
\r
    #ifdef GL_OES_standard_derivatives\r
        #extension GL_OES_standard_derivatives : enable\r
        #define AASTEP\r
    #endif\r
\r
#else\r
    layout(location = 0) out vec4 fragColor;\r
\r
    #define AASTEP\r
\r
#endif\r
\r
\r
uniform sampler2D u_glyphs;\r
uniform vec4 u_color;\r
uniform float u_aaStepScale;\r
uniform int u_aaSampling;\r
\r
varying vec2 v_uv;\r
\r
const int channel = 0;\r
\r
\r
float aastep(float t, float value)\r
{\r
#ifdef AASTEP\r
    /* float afwidth = length(vec2(dFdx(value), dFdy(value))) * u_aaStepScale; */\r
    float afwidth = fwidth(value) * u_aaStepScale;\r
    /* The aa step scale is more of a hack to provide seemingly smoother (e.g., >= 1.0) or crisper (e.g., between 0.0\r
     * and 1.0) contours without specific sampling. It's just scaling the outcome of the derivatives.\r
     */\r
\r
    return smoothstep(t - afwidth, t + afwidth, value);\r
#else\r
    return step(t, value);\r
#endif\r
}\r
\r
float texStep(float t, vec2 uv)\r
{\r
    /*\r
     * This is a workaround for a known bug in Chrome software rendering (SwiftShader), for updates follow\r
     * https://issuetracker.google.com/u/1/issues/146041290\r
     * Workaround: Storing the result of the texture access into another variable that then is passed as parameter.\r
     */\r
    float distanceValue = texture(u_glyphs, uv)[channel];\r
    return step(t, distanceValue);\r
}\r
\r
float texSmooth(float t, vec2 uv)\r
{\r
    /*\r
     * This is a workaround for a known bug in Chrome software rendering (SwiftShader), for updates follow\r
     * https://issuetracker.google.com/u/1/issues/146041290\r
     * Workaround: Storing the result of the texture access into another variable that then is passed as parameter.\r
     */\r
    float distanceValue = texture(u_glyphs, uv)[channel];\r
    return aastep(t, distanceValue);\r
}\r
\r
#ifdef AASTEP\r
\r
float aastep3h(float t, vec2 uv)\r
{\r
    float x = dFdy(uv.x) * 1.0 / 3.0;\r
\r
    float v = texSmooth(t, uv + vec2( -x, 0.0))\r
            + texSmooth(t, uv + vec2(0.0, 0.0))\r
            + texSmooth(t, uv + vec2( +x, 0.0));\r
\r
    return v / 3.0;\r
}\r
\r
float aastep3v(float t, vec2 uv)\r
{\r
    float y = dFdy(uv.y) * 1.0 / 3.0;\r
\r
    float v = texSmooth(t, uv + vec2( 0.0,  -y))\r
            + texSmooth(t, uv + vec2( 0.0, 0.0))\r
            + texSmooth(t, uv + vec2( 0.0,  +y));\r
\r
    return v / 3.0;\r
}\r
\r
float aastep3x3(float t, vec2 uv)\r
{\r
    float x = dFdx(uv.x) * 1.0 / 3.0;\r
    float y = dFdy(uv.y) * 1.0 / 3.0;\r
\r
    float v = texSmooth(t, uv + vec2(  -x, -y)) + texSmooth(t, uv + vec2(  -x, 0.0)) + texSmooth(t, uv + vec2(  -x, +y))\r
            + texSmooth(t, uv + vec2( 0.0, -y)) + texSmooth(t, uv + vec2( 0.0, 0.0)) + texSmooth(t, uv + vec2( 0.0, +y))\r
            + texSmooth(t, uv + vec2(  +x, -y)) + texSmooth(t, uv + vec2(  +x, 0.0)) + texSmooth(t, uv + vec2(  +x, +y));\r
\r
    return v / 9.0;\r
}\r
\r
float aastep4x4(float t, vec2 uv)\r
{\r
    float x0 = dFdx(uv.x);\r
    float y0 = dFdx(uv.y);\r
    float x1 = x0 * 1.0 / 8.0;\r
    float y1 = y0 * 1.0 / 8.0;\r
    float x2 = x0 * 3.0 / 8.0;\r
    float y2 = y0 * 3.0 / 8.0;\r
\r
    float v = texSmooth(t, uv + vec2(-x2,-y2)) + texSmooth(t, uv + vec2(-x2,-y1))\r
            + texSmooth(t, uv + vec2(-x2,+y1)) + texSmooth(t, uv + vec2(-x2,+y2))\r
\r
            + texSmooth(t, uv + vec2(-x1,-y2)) + texSmooth(t, uv + vec2(-x1,-y1))\r
            + texSmooth(t, uv + vec2(-x1,+y1)) + texSmooth(t, uv + vec2(-x1,+y2))\r
\r
            + texSmooth(t, uv + vec2(+x1,-y2)) + texSmooth(t, uv + vec2(+x1,-y1))\r
            + texSmooth(t, uv + vec2(+x1,+y1)) + texSmooth(t, uv + vec2(+x1,+y2))\r
\r
            + texSmooth(t, uv + vec2(+x2,-y2)) + texSmooth(t, uv + vec2(+x2,-y1))\r
            + texSmooth(t, uv + vec2(+x2,+y1)) + texSmooth(t, uv + vec2(+x2,+y2));\r
\r
    return v / 16.0;\r
}\r
\r
// vec4 subpix(float r, float g, float b, vec4 fore, vec4 back)\r
// {\r
//     return vec4(mix(back.rgb, fore.rgb, vec3(r, g, b)), mix(back.a, fore.a, (r + b + g) / 3.0));\r
// }\r
\r
#endif\r
\r
void main(void)\r
{\r
    /** @todo mipmap access? */\r
\r
    float a = 0.0;\r
    /* When using multiframe sampling, might not be necessary and even tends to add more blur */\r
#ifdef AASTEP\r
    if(u_aaSampling == 0) {         // LabelRenderPass.Sampling.None\r
#endif\r
\r
        a = texStep(0.5, v_uv);\r
\r
#ifdef AASTEP\r
    } else if(u_aaSampling == 1) {  // LabelRenderPass.Sampling.Smooth\r
        a = texSmooth(0.5, v_uv);\r
    } else if(u_aaSampling == 2) {  // LabelRenderPass.Sampling.Horizontal3\r
        a = aastep3h(0.5, v_uv);\r
    } else if(u_aaSampling == 3) {  // LabelRenderPass.Sampling.Vertical3\r
        a = aastep3v(0.5, v_uv);\r
    } else if(u_aaSampling == 4) {  // LabelRenderPass.Sampling.Grid3x3\r
        a = aastep3x3(0.5, v_uv);\r
    } else if(u_aaSampling == 5) {  // LabelRenderPass.Sampling.Grid4x4\r
        a = aastep4x4(0.5, v_uv);\r
    }\r
#endif\r
\r
    /**\r
     * @todo - design decision: Don't discard fragments?, as we might need them for an id-buffer for\r
     * clicking-interaction. Furthermore, using if-statement and discard can slow down performance:\r
     * it's bad for IMR, TBR, TBDR and early-Z optimization\r
     * https://stackoverflow.com/questions/8509051/is-discard-bad-for-program-performance-in-opengl\r
     */\r
    if(a <= 0.0) {\r
        discard;\r
    }\r
    fragColor = vec4(u_color.rgb, u_color.a * a);\r
\r
    /* use when pre-multiplied color is required. */\r
    /* fragColor = vec4(u_color.rgb * u_color.a * a, u_color.a * a); */\r
}\r
`},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(134);o.GLTFLoader=h.GLTFLoader;var g=i(76);o.GLTFAlphaMode=g.GLTFAlphaMode,o.GLTFPbrMaterial=g.GLTFPbrMaterial,o.GLTFShaderFlags=g.GLTFShaderFlags;var p=i(77);o.GLTFPrimitive=p.GLTFPrimitive;var v=i(75);o.GLTFMesh=v.GLTFMesh},function(n,o,i){var h=this&&this.__awaiter||function(S,P,A,L){return new(A||(A=Promise))(function(k,D){function N(q){try{H(L.next(q))}catch(X){D(X)}}function W(q){try{H(L.throw(q))}catch(X){D(X)}}function H(q){var X;q.done?k(q.value):(X=q.value,X instanceof A?X:new A(function(Y){Y(X)})).then(N,W)}H((L=L.apply(S,P||[])).next())})},g=this&&this.__generator||function(S,P){var A,L,k,D,N={label:0,sent:function(){if(1&k[0])throw k[1];return k[1]},trys:[],ops:[]};return D={next:W(0),throw:W(1),return:W(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function W(H){return function(q){return function(X){if(A)throw new TypeError("Generator is already executing.");for(;N;)try{if(A=1,L&&(k=2&X[0]?L.return:X[0]?L.throw||((k=L.return)&&k.call(L),0):L.next)&&!(k=k.call(L,X[1])).done)return k;switch(L=0,k&&(X=[2&X[0],k.value]),X[0]){case 0:case 1:k=X;break;case 4:return N.label++,{value:X[1],done:!1};case 5:N.label++,L=X[1],X=[0];continue;case 7:X=N.ops.pop(),N.trys.pop();continue;default:if(!((k=(k=N.trys).length>0&&k[k.length-1])||X[0]!==6&&X[0]!==2)){N=0;continue}if(X[0]===3&&(!k||X[1]>k[0]&&X[1]<k[3])){N.label=X[1];break}if(X[0]===6&&N.label<k[1]){N.label=k[1],k=X;break}if(k&&N.label<k[2]){N.label=k[2],N.ops.push(X);break}k[2]&&N.ops.pop(),N.trys.pop();continue}X=P.call(S,N)}catch(Y){X=[6,Y],L=0}finally{A=k=0}if(5&X[0])throw X[1];return{value:X[0]?X[1]:void 0,done:!0}}([H,q])}}};Object.defineProperty(o,"__esModule",{value:!0});var p=i(1),v=i(0),d=i(135),c=i(136),a=i(75),l=i(76),s=i(77),u=i(5),f=i(65),m=i(6),y=i(25),b=i(68),E=i(7),x=i(4),w=function(){function S(P){this._context=P;var A=this._context.gl;this._resourceManager=new f.ResourceManager(this._context),this._scenes=new Array;var L=new E.Shader(this._context,A.VERTEX_SHADER,"gltf_default.vert");L.initialize(i(137));var k=new E.Shader(this._context,A.FRAGMENT_SHADER,"gltf_default.frag");k.initialize(i(138)),this._pbrProgram=new m.Program(this._context,"GLTFPbrProgram"),this._pbrProgram.initialize([L,k])}return S.prototype.loadTextures=function(P){return h(this,void 0,void 0,function(){var A,L,k,D,N,W,H,q,X,Y,J,ee,te,ne,fe,_e,ye;return g(this,function(re){switch(re.label){case 0:if(A=this._context.gl,L=P.gltf.textures,k=P.gltf.images,D=P.gltf.samplers,!L||!k)return[2];N=0,W=0,H=L,re.label=1;case 1:return W<H.length?(q=H[W]).source===void 0?(v.log(v.LogLevel.Warning,"The GLTF model does not specify a texture source. Possibly it uses an unsupported extension."),N++,[3,3]):(X=q.source,Y=k[X],J=this._sceneName+"_texture_"+N,ee=Y.name===void 0?Y.uri:Y.name,[4,P.imageData.get(X)]):[3,4];case 2:te=re.sent(),v.isPowerOfTwo(te.width)&&v.isPowerOfTwo(te.height)||((ne=document.createElement("canvas")).width=v.upperPowerOfTwo(te.width),ne.height=v.upperPowerOfTwo(te.height),(fe=ne.getContext("2d"))===void 0&&v.log(v.LogLevel.Error,"Failed to create context while trying to resize non power of two texture"),fe.drawImage(te,0,0,ne.width,ne.height),te=ne),(_e=new x.Texture2D(this._context,ee)).initialize(te.width,te.height,A.RGBA8,A.RGBA,A.UNSIGNED_BYTE),_e.data(te),D===void 0||q.sampler===void 0?(_e.wrap(A.REPEAT,A.REPEAT),_e.filter(A.LINEAR,A.LINEAR)):(ye=D[q.sampler],_e.wrap(ye.wrapS||A.REPEAT,ye.wrapT||A.REPEAT),_e.filter(ye.magFilter||A.LINEAR,ye.minFilter||A.LINEAR),ye.minFilter!==A.NEAREST_MIPMAP_NEAREST&&ye.minFilter!==A.LINEAR_MIPMAP_NEAREST&&ye.minFilter!==A.NEAREST_MIPMAP_LINEAR&&ye.minFilter!==A.LINEAR_MIPMAP_LINEAR||_e.generateMipMap()),this._resourceManager.add(_e,[ee,J]),N++,re.label=3;case 3:return W++,[3,1];case 4:return[2]}})})},S.prototype.getTexture=function(P){var A=this._sceneName+"_texture_"+P,L=this._resourceManager.get(A);if(L!==void 0)return L;v.log(v.LogLevel.Warning,"Texture with index "+P+" could not be located.")},S.prototype.loadMaterials=function(P){return h(this,void 0,void 0,function(){var A,L,k,D,N,W,H,q,X,Y,J,ee,te;return g(this,function(ne){if(this._pbrDefaultMaterial=new l.GLTFPbrMaterial(this._context,"DefaultMaterial"),this._resourceManager.add(this._pbrDefaultMaterial,[this._pbrDefaultMaterial.name]),!(A=P.gltf.materials))return[2];for(L=0,k=0,D=A;k<D.length;k++)N=D[k],W=this._sceneName+"_material_"+L,H=new l.GLTFPbrMaterial(this._context,N.name),(q=N.normalTexture)!==void 0&&(H.normalTexture=this.getTexture(q.index),H.normalTexCoord=q.texCoord||0,H.normalScale=q.scale||1),(X=N.occlusionTexture)!==void 0&&(H.occlusionTexture=this.getTexture(X.index),H.occlusionTexCoord=X.texCoord||0),(Y=N.emissiveTexture)!==void 0&&(H.emissiveTexture=this.getTexture(Y.index),H.emissiveTexCoord=Y.texCoord||0),H.emissiveFactor=p.vec3.fromValues(0,0,0),N.emissiveFactor!==void 0&&(H.emissiveFactor=p.vec3.fromValues.apply(void 0,N.emissiveFactor)),H.alphaMode=l.GLTFAlphaMode.OPAQUE,N.alphaMode==="MASK"?(H.alphaMode=l.GLTFAlphaMode.MASK,N.alphaCutoff===void 0?H.alphaCutoff=.5:H.alphaCutoff=N.alphaCutoff):N.alphaMode==="BLEND"&&(H.alphaMode=l.GLTFAlphaMode.BLEND,H.isTransparent=!0),H.isDoubleSided=N.doubleSided||!1,(J=N.pbrMetallicRoughness)===void 0&&v.log(v.LogLevel.Warning,"Model contains a material without PBR information"),(ee=J.baseColorTexture)!==void 0&&(H.baseColorTexture=this.getTexture(ee.index),H.baseColorTexCoord=ee.texCoord||0),(te=J.metallicRoughnessTexture)!==void 0&&(H.metallicRoughnessTexture=this.getTexture(te.index),H.metallicRoughnessTexCoord=te.texCoord||0),H.baseColorFactor=p.vec4.fromValues(1,1,1,1),J.baseColorFactor!==void 0&&(H.baseColorFactor=p.vec4.fromValues.apply(void 0,J.baseColorFactor)),H.metallicFactor=1,J.metallicFactor!==void 0&&(H.metallicFactor=J.metallicFactor),H.roughnessFactor=1,J.roughnessFactor!==void 0&&(H.roughnessFactor=J.roughnessFactor),this._resourceManager.add(H,[N.name,W]),L++;return[2]})})},S.prototype.inferBufferUsage=function(P,A){var L=this._context.gl,k=P.gltf.meshes,D=P.gltf.accessors;if(k===void 0||D===void 0)return v.log(v.LogLevel.Error,"Asset does not include any meshes or accessors"),L.ARRAY_BUFFER;for(var N=0,W=k;N<W.length;N++)for(var H=0,q=W[N].primitives;H<q.length;H++){var X=q[H].indices;if(X!==void 0){var Y=D[X].bufferView;if(Y!==void 0&&Y===A)return L.ELEMENT_ARRAY_BUFFER}}return L.ARRAY_BUFFER},S.prototype.loadBuffers=function(P){return h(this,void 0,void 0,function(){var A,L,k,D,N,W,H,q,X,Y,J,ee,te,ne,fe,_e,ye;return g(this,function(re){switch(re.label){case 0:if(A=this._context.gl,L=P.gltf.bufferViews,k=P.gltf.accessors,!L)return v.log(v.LogLevel.Warning,"The asset does not include any buffer view information."),[2];if(!k)return v.log(v.LogLevel.Warning,"The asset does not include any accessor information."),[2];D=0,N=0,W=L,re.label=1;case 1:return N<W.length?(H=W[N],fe=this._sceneName+"_bufferView_"+D,[4,P.bufferViewData(D)]):[3,4];case 2:ye=re.sent(),(q=H.target)===void 0&&(q=this.inferBufferUsage(P,D)),(_e=new u.Buffer(this._context,fe)).initialize(q),_e.data(ye,A.STATIC_DRAW),this._resourceManager.add(_e,[fe]),D++,re.label=3;case 3:return N++,[3,1];case 4:X=0,Y=0,J=k,re.label=5;case 5:return Y<J.length?(ee=J[Y],te=ee.bufferView,ne=ee.sparse,te!==void 0&&ne===void 0?[3,7]:(fe=this._sceneName+"_accessor_"+X,_e=new u.Buffer(this._context,fe),[4,P.accessorData(X)])):[3,9];case 6:ye=re.sent(),_e.initialize(A.ARRAY_BUFFER),_e.data(ye,A.STATIC_DRAW),this._resourceManager.add(_e,[fe]),re.label=7;case 7:X++,re.label=8;case 8:return Y++,[3,5];case 9:return[2]}})})},S.prototype.loadMeshes=function(P){return h(this,void 0,void 0,function(){var A,L,k,D,N,W,H,q,X,Y,J;return g(this,function(ee){switch(ee.label){case 0:if(A=new Array,(L=P.gltf.meshes)===void 0)return v.log(v.LogLevel.Warning,"The asset does not contain any mesh information"),[2,A];k=0,D=0,N=L,ee.label=1;case 1:if(!(D<N.length))return[3,7];W=N[D],H=new a.GLTFMesh,q=0,X=W.primitives,ee.label=2;case 2:return q<X.length?(Y=X[q],[4,this.loadPrimitive(P,Y,k)]):[3,5];case 3:(J=ee.sent())!==void 0&&H.addPrimitive(J),k++,ee.label=4;case 4:return q++,[3,2];case 5:A.push(H),ee.label=6;case 6:return D++,[3,1];case 7:return[2,A]}})})},S.prototype.loadPrimitive=function(P,A,L){return h(this,void 0,void 0,function(){var k,D,N,W,H,q,X,Y,J,ee,te,ne,fe,_e,ye,re,be,Ae,pe,Pe,xe,Re,he,Se,Ce;return g(this,function(Te){if(k=this._context.gl,D=P.gltf.accessors,N=P.gltf.bufferViews,D===void 0)return v.log(v.LogLevel.Error,"GLTF asset does not have any accessors."),[2];if(N===void 0)return v.log(v.LogLevel.Error,"GLTF asset does not have any buffer views."),[2];for(ne in W=A.mode,H=this._sceneName+"_primitive_"+L,W||(W=4),q=c.GLTFHelper.modeToEnum(k,W),X=new Array,Y=this._pbrDefaultMaterial,A.material!==void 0&&(J=this._sceneName+"_material_"+A.material,(ee=this._resourceManager.get(J))!==void 0?Y=ee:v.log(v.LogLevel.Warning,"Material "+J+" could not be found.")),te=0,A.attributes)fe=c.GLTFHelper.nameToAttributeIndex(ne),ne==="NORMAL"&&(te|=l.GLTFShaderFlags.HAS_NORMALS),ne==="TANGENT"&&(te|=l.GLTFShaderFlags.HAS_TANGENTS),ne==="COLOR_0"&&(te|=l.GLTFShaderFlags.HAS_COLORS),ne!=="TEXCOORD_0"&&ne!=="TEXCOORD_1"&&ne!=="TEXCOORD_2"||(te|=l.GLTFShaderFlags.HAS_UV),_e=A.attributes[ne],xe=D[_e],Re=xe.bufferView,ye=xe.sparse,Se=void 0,re=0,Re===void 0||ye!==void 0?(be=this._sceneName+"_accessor_"+_e,Se=this._resourceManager.get(be)):(Ae=N[Re],he=this._sceneName+"_bufferView_"+Re,Se=this._resourceManager.get(he),re=Ae.byteStride||0),(pe=new s.VertexBinding).buffer=Se,pe.attributeIndex=fe,pe.numVertices=xe.count,pe.normalized=xe.normalized||!1,pe.size=d.GLTF_ELEMENTS_PER_TYPE[xe.type],pe.offset=xe.byteOffset||0,pe.stride=re,pe.type=xe.componentType,X.push(pe);return A.indices!==void 0&&(xe=D[A.indices],!(Re=xe.bufferView)===void 0&&v.log(v.LogLevel.Error,"Accessor does not reference a BufferView."),he=this._sceneName+"_bufferView_"+Re,Se=this._resourceManager.get(he),(Pe=new s.IndexBinding).buffer=Se,Pe.numIndices=xe.count,Pe.offset=xe.byteOffset||0,Pe.type=xe.componentType),(Ce=new s.GLTFPrimitive(this._context,X,Pe,q,Y,te)).initialize(),this._resourceManager.add(Ce,[H]),[2,Ce]})})},S.prototype.generateScenes=function(P,A){return h(this,void 0,void 0,function(){var L,k,D,N,W,H,q,X,Y,J,ee,te,ne,fe,_e,ye,re,be,Ae,pe,Pe,xe,Re,he,Se,Ce,Te,Ie,Me,Ue,Ne,Ye,ke,He;return g(this,function(et){if(L=P.gltf.nodes,k=P.gltf.scenes,!L||!k)return v.log(v.LogLevel.Warning,"The asset does not contain any nodes or scene information."),[2];for(D=new Map,N=0,W=0,H=L;W<H.length;W++){if(ke=H[W],q=ke.name||"node_"+N,Me=new b.SceneNode(q),D.set(N,Me),ke.matrix?(ee=p.mat4.fromValues.apply(void 0,ke.matrix),te=new y.TransformComponent(ee),Me.addComponent(te)):(ke.translation||ke.rotation||ke.scale)&&(X=p.quat.create(),ke.rotation&&(X=p.quat.fromValues.apply(void 0,ke.rotation)),Y=p.vec3.create(),ke.translation&&(Y=p.vec3.fromValues.apply(void 0,ke.translation)),J=p.vec3.fromValues(1,1,1),ke.scale&&(J=p.vec3.fromValues.apply(void 0,ke.scale)),ee=p.mat4.fromRotationTranslationScale(p.mat4.create(),X,Y,J),te=new y.TransformComponent(ee),Me.addComponent(te)),ke.mesh!==void 0)for(ne=A[ke.mesh],fe=0,_e=ne.primitives;fe<_e.length;fe++)ye=_e[fe],(re=new y.GeometryComponent).material=ye.material,re.geometry=ye,Me.addComponent(re);(ke.skin||ke.weights)&&v.log(v.LogLevel.Info,"Imported GLTF assets uses skins, which are not supported yet."),N++}for(N=0,be=0,Ae=L;be<Ae.length;be++){if(ke=Ae[be],Me=D.get(N),v.assert(Me!==void 0,"Scene node could not be found."),ke.children)for(pe=0,Pe=ke.children;pe<Pe.length;pe++)xe=Pe[pe],(Re=D.get(xe))||v.log(v.LogLevel.Error,"Model references a node that does not exist."),Me.addNode(Re);N++}for(he=0,Se=0,Ce=k;Se<Ce.length;Se++){if(Te=Ce[Se],Ie=Te.name||"scene_"+he,Me=new b.SceneNode(Ie),Te.nodes)for(Ue=0,Ne=Te.nodes;Ue<Ne.length;Ue++)Ye=Ne[Ue],(ke=D.get(Ye))||v.log(v.LogLevel.Error,"Scene references a node that does not exist."),Me.addNode(ke);else v.log(v.LogLevel.Warning,"Scene "+Ie+" does not contain any nodes.");this._scenes.push(Me),he++}return(He=P.gltf.scene)!==void 0&&(this._defaultScene=this._scenes[He]),[2]})})},S.prototype.loadAsset=function(P){return h(this,void 0,void 0,function(){var A,L,k=this;return g(this,function(D){switch(D.label){case 0:return[4,new d.GltfLoader().load(P)];case 1:return A=D.sent(),L=A.gltf,this._sceneName="scene",L.scenes&&L.scene&&L.scenes[L.scene].name&&(this._sceneName=L.scenes[L.scene].name),[4,this.loadTextures(A).then(function(){return k.loadMaterials(A)}).then(function(){return k.loadBuffers(A)}).then(function(){return k.loadMeshes(A)}).then(function(N){return k.generateScenes(A,N)})];case 2:return D.sent(),[2]}})})},S.prototype.uninitialize=function(){this._scenes=[],this._defaultScene=void 0,this._resourceManager.uninitialize()},Object.defineProperty(S.prototype,"pbrProgram",{get:function(){return this._pbrProgram},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"scenes",{get:function(){return this._scenes},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"defaultScene",{get:function(){return this._defaultScene!==void 0?this._defaultScene:this._scenes!==void 0&&this._scenes.length>0?this._scenes[0]:(v.log(v.LogLevel.Warning,"Default scene was requested, but none is available."),new b.SceneNode("EmptyScene"))},enumerable:!0,configurable:!0}),S}();o.GLTFLoader=w},function(n,o){n.exports=function(i){var h={};function g(p){if(h[p])return h[p].exports;var v=h[p]={i:p,l:!1,exports:{}};return i[p].call(v.exports,v,v.exports,g),v.l=!0,v.exports}return g.m=i,g.c=h,g.d=function(p,v,d){g.o(p,v)||Object.defineProperty(p,v,{enumerable:!0,get:d})},g.r=function(p){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},g.t=function(p,v){if(1&v&&(p=g(p)),8&v||4&v&&typeof p=="object"&&p&&p.__esModule)return p;var d=Object.create(null);if(g.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:p}),2&v&&typeof p!="string")for(var c in p)g.d(d,c,function(a){return p[a]}.bind(null,c));return d},g.n=function(p){var v=p&&p.__esModule?function(){return p.default}:function(){return p};return g.d(v,"a",v),v},g.o=function(p,v){return Object.prototype.hasOwnProperty.call(p,v)},g.p="",g(g.s=7)}([function(i,h,g){Object.defineProperty(h,"__esModule",{value:!0}),h.LoadingManager=class{constructor(){this.urlModifier=void 0,this.onStart=void 0,this.onProgress=void 0,this.onLoad=void 0,this.onError=void 0,this.isLoading=!1,this.itemsLoaded=0,this.itemsTotal=0}itemStart(p){this.itemsTotal++,!this.isLoading&&this.onStart&&this.onStart(p,this.itemsLoaded,this.itemsTotal),this.isLoading=!0}itemEnd(p){this.itemsLoaded++,this.onProgress&&this.onProgress(p,this.itemsLoaded,this.itemsTotal),this.itemsLoaded===this.itemsTotal&&(this.isLoading=!1,this.onLoad&&this.onLoad())}itemError(p){this.onError&&this.onError(p)}resolveURL(p){return this.urlModifier?this.urlModifier(p):p}}},function(i,h,g){var p=this&&this.__awaiter||function(s,u,f,m){return new(f||(f=Promise))(function(y,b){function E(S){try{w(m.next(S))}catch(P){b(P)}}function x(S){try{w(m.throw(S))}catch(P){b(P)}}function w(S){S.done?y(S.value):new f(function(P){P(S.value)}).then(E,x)}w((m=m.apply(s,u||[])).next())})};Object.defineProperty(h,"__esModule",{value:!0});const v=g(3),d=g(0);h.GLTF_COMPONENT_TYPE_ARRAYS={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},h.GLTF_ELEMENTS_PER_TYPE={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},h.GltfAsset=class{constructor(s,u,f,m=new d.LoadingManager){this.gltf=s,this.glbData=f,this.bufferData=new c(this,u,m),this.imageData=new a(this,u,m)}bufferViewData(s){return p(this,void 0,void 0,function*(){if(!this.gltf.bufferViews)throw new Error("No buffer views found.");const u=this.gltf.bufferViews[s],f=yield this.bufferData.get(u.buffer),m=u.byteLength||0,y=u.byteOffset||0,b=f.buffer,E=f.byteOffset;return new Uint8Array(b,E+y,m)})}accessorData(s){return p(this,void 0,void 0,function*(){if(!this.gltf.accessors)throw new Error("No accessors views found.");const u=this.gltf.accessors[s],f=h.GLTF_ELEMENTS_PER_TYPE[u.type];let m;if(u.bufferView!==void 0)m=yield this.bufferViewData(u.bufferView);else{const y=h.GLTF_COMPONENT_TYPE_ARRAYS[u.componentType].BYTES_PER_ELEMENT*f*u.count;m=new Uint8Array(y)}if(u.sparse){const{count:y,indices:b,values:E}=u.sparse;let x=h.GLTF_COMPONENT_TYPE_ARRAYS[b.componentType],w=yield this.bufferViewData(b.bufferView);const S=new x(w.buffer,w.byteOffset+(b.byteOffset||0),y);x=h.GLTF_COMPONENT_TYPE_ARRAYS[u.componentType],w=yield this.bufferViewData(E.bufferView);const P=new x((yield this.bufferViewData(E.bufferView)).buffer,w.byteOffset+(E.byteOffset||0),y*f);u.bufferView&&(m=new Uint8Array(m));const A=new h.GLTF_COMPONENT_TYPE_ARRAYS[u.componentType](m.buffer);for(let L=0;L<y;L++)for(let k=0;k<f;k++)A[f*S[L]+k]=P[f*L+k]}return m})}preFetchAll(){return p(this,void 0,void 0,function*(){return Promise.all([this.bufferData.preFetchAll(),this.imageData.preFetchAll()])})}};class c{constructor(u,f,m){this.bufferCache=[],this.asset=u,this.baseUri=f,this.manager=m,this.loader=new v.FileLoader(m),this.loader.responseType="arraybuffer"}get(u){return p(this,void 0,void 0,function*(){if(this.bufferCache[u]!==void 0)return this.bufferCache[u];const f=this.asset.gltf;if(!f.buffers)throw new Error("No buffers found.");const m=f.buffers[u];if(m.uri===void 0){if(u!==0)throw new Error("GLB container is required to be the first buffer");if(this.asset.glbData===void 0)throw new Error("invalid gltf: buffer has no uri nor is there a GLB buffer");return this.asset.glbData.binaryChunk}const y=l(m.uri,this.baseUri),b=yield this.loader.load(y),E=new Uint8Array(b);return this.bufferCache[u]=E,E})}preFetchAll(){return p(this,void 0,void 0,function*(){const u=this.asset.gltf.buffers;return u?Promise.all(u.map((f,m)=>this.get(m))):[]})}}h.BufferData=c;class a{constructor(u,f,m){this.crossOrigin="anonymous",this.imageCache=[],this.asset=u,this.baseUri=f,this.manager=m}get(u){return p(this,void 0,void 0,function*(){if(this.imageCache[u]!==void 0)return this.imageCache[u];const f=this.asset.gltf;if(!f.images)throw new Error("No images found.");const m=f.images[u];let y,b=!1;if(m.bufferView!==void 0){const x=yield this.asset.bufferViewData(m.bufferView);b=!0;const w=new Blob([x],{type:m.mimeType});y=URL.createObjectURL(w)}else{if(m.uri===void 0)throw new Error("Invalid glTF: image must either have a `uri` or a `bufferView`");y=this.manager.resolveURL(l(m.uri,this.baseUri))}const E=new Image;return E.crossOrigin=this.crossOrigin,new Promise((x,w)=>{E.onerror=()=>{w("Failed to load "+y),this.manager.itemEnd(y),this.manager.itemError(y)},E.onload=()=>{b&&URL.revokeObjectURL(y),this.imageCache[u]=E,x(E),this.manager.itemEnd(y)},E.src=y,this.manager.itemStart(y)})})}preFetchAll(){return p(this,void 0,void 0,function*(){const u=this.asset.gltf.images;return u?Promise.all(u.map((f,m)=>this.get(m))):[]})}}function l(s,u){return typeof s!="string"||s===""?"":/^(https?:)?\/\//i.test(s)||/^data:.*,.*$/i.test(s)||/^blob:.*$/i.test(s)?s:u+s}h.ImageData=a,h.resolveURL=l},function(i,h,g){Object.defineProperty(h,"__esModule",{value:!0}),h.LoaderUtils=class{static decodeText(p){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(p);let v="";for(const d of p)v+=String.fromCharCode(d);return decodeURIComponent(escape(v))}static extractUrlBase(p){const v=p.split("/");return v.length===1?"./":(v.pop(),v.join("/")+"/")}}},function(i,h,g){Object.defineProperty(h,"__esModule",{value:!0}),h.FileLoader=class{constructor(p){this.runningRequests={},this.manager=p}load(p,v){if(this.path!==void 0&&(p=this.path+p),p=this.manager.resolveURL(p),this.runningRequests[p])return this.runningRequests[p];const d=new Promise((c,a)=>{const l=new XMLHttpRequest;l.open("GET",p,!0);const s=this;l.onload=function(u){const f=this.response;this.status===0?(console.warn("FileLoader: HTTP Status 0 received."),c(f),s.manager.itemEnd(p)):this.status===200?(c(f),s.manager.itemEnd(p)):(a({url:p,status:this.status,statusText:l.statusText}),s.manager.itemEnd(p),s.manager.itemError(p)),delete s.runningRequests[p]},l.onprogress=u=>{v&&v(u)},l.onerror=function(u){a({url:p,status:this.status,statusText:l.statusText}),s.manager.itemEnd(p),s.manager.itemError(p),delete s.runningRequests[p]},this.responseType&&(l.responseType=this.responseType),this.withCredentials&&(l.withCredentials=this.withCredentials),this.mimeType&&l.overrideMimeType&&l.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const u in this.requestHeaders)l.setRequestHeader(u,this.requestHeaders[u]);l.send(null),this.manager.itemStart(p)});return this.runningRequests[p]=d,d}setRequestHeader(p,v){return this.requestHeaders[p]=v,this}}},function(i,h,g){Object.defineProperty(h,"__esModule",{value:!0})},function(i,h,g){Object.defineProperty(h,"__esModule",{value:!0});const p=g(2);h.BINARY_HEADER_MAGIC="glTF",h.GLTFBinaryData=class{constructor(v){const d=new DataView(v,0,12),c=p.LoaderUtils.decodeText(new Uint8Array(v,0,4)),a=d.getUint32(4,!0);if(d.getUint32(8,!0),c!==h.BINARY_HEADER_MAGIC)throw new Error("Unsupported glTF-Binary header.");if(a<2)throw new Error("Unsupported legacy binary file detected.");const l=new DataView(v,12);let s=0;for(;s<l.byteLength;){const u=l.getUint32(s,!0);s+=4;const f=l.getUint32(s,!0);if(s+=4,f===1313821514){const m=new Uint8Array(v,12+s,u);this.json=p.LoaderUtils.decodeText(m)}else if(f===5130562){const m=12+s;this.binaryChunk=new Uint8Array(v,m,u)}s+=u}if(this.json===null)throw new Error("glTF-Binary: JSON content not found.")}}},function(i,h,g){var p=this&&this.__awaiter||function(f,m,y,b){return new(y||(y=Promise))(function(E,x){function w(A){try{P(b.next(A))}catch(L){x(L)}}function S(A){try{P(b.throw(A))}catch(L){x(L)}}function P(A){A.done?E(A.value):new y(function(L){L(A.value)}).then(w,S)}P((b=b.apply(f,m||[])).next())})};function v(f){for(var m in f)h.hasOwnProperty(m)||(h[m]=f[m])}Object.defineProperty(h,"__esModule",{value:!0});const d=g(3),c=g(5),a=g(1),l=g(2),s=g(0),u=g(4);h.gltf=u,v(g(1)),v(g(0)),h.GltfLoader=class{constructor(f){this.manager=f||new s.LoadingManager}load(f,m){return p(this,void 0,void 0,function*(){const y=l.LoaderUtils.extractUrlBase(f),b=new d.FileLoader(this.manager);b.responseType="arraybuffer";const E=yield b.load(f,m);return yield this.parse(E,y)})}loadFromFiles(f){return p(this,void 0,void 0,function*(){let m,y;for(const[S,P]of f)P.name.match(/\.(gltf|glb)$/)&&(m=P,y=S.replace(P.name,""));if(!m)throw new Error("No .gltf or .glb asset found.");const b=typeof m=="string"?m:URL.createObjectURL(m),E=l.LoaderUtils.extractUrlBase(b),x=[];this.manager.urlModifier=S=>{const P=y+S.replace(E,"").replace(/^(\.?\/)/,"");if(f.has(P)){const A=f.get(P),L=URL.createObjectURL(A);return x.push(L),L}return S};const w=yield this.load(b);return yield w.preFetchAll(),URL.revokeObjectURL(b),x.forEach(URL.revokeObjectURL),w})}parse(f,m){return p(this,void 0,void 0,function*(){let y,b;y=typeof f=="string"?f:l.LoaderUtils.decodeText(new Uint8Array(f,0,4))===c.BINARY_HEADER_MAGIC?(b=new c.GLTFBinaryData(f)).json:l.LoaderUtils.decodeText(new Uint8Array(f));const E=JSON.parse(y);if(E.asset===void 0||E.asset.version[0]<2)throw new Error("Unsupported asset. glTF versions >=2.0 are supported.");return new a.GltfAsset(E,m,b,this.manager)})}}},function(i,h,g){i.exports=g(6)}])},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(0),g=function(){function p(){}return p.modeToEnum=function(v,d){return(d<0||d>6)&&h.log(h.LogLevel.Error,"Specified draw mode is "+d+" but is required to be between 0 and 6"),d===0?v.POINTS:d===1?v.LINES:d===2?v.LINE_LOOP:d===3?v.LINE_STRIP:d===4?v.TRIANGLES:d===5?v.TRIANGLE_STRIP:d===6?v.TRIANGLE_FAN:v.TRIANGLES},p.nameToAttributeIndex=function(v){return v==="POSITION"?0:v==="NORMAL"?1:v==="TANGENT"?2:v==="TEXCOORD_0"?3:v==="TEXCOORD_1"?4:v==="TEXCOORD_2"?5:v==="JOINTS_0"?6:v==="WEIGHTS_0"?7:v==="COLOR_0"?8:(h.log(h.LogLevel.Warning,"Unknown attribute name '"+v+"' encountered.             Possibly this model uses an unsupported extension."),-1)},p}();o.GLTFHelper=g},function(n,o){n.exports=`precision highp float;\r
\r
// Adapted from https://github.com/KhronosGroup/glTF-WebGL-PBR\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else\r
    #define varying out\r
#endif\r
\r
\r
const int HAS_NORMALS           = 1;\r
const int HAS_TANGENTS          = 1 << 1;\r
const int HAS_UV                = 1 << 2;\r
const int HAS_COLORS            = 1 << 3;\r
\r
#if __VERSION__ == 100\r
    attribute vec4 a_position;\r
    attribute vec4 a_normal;\r
    attribute vec4 a_tangent;\r
    attribute vec2 a_texcoord_0;\r
    attribute vec2 a_texcoord_1;\r
    attribute vec2 a_texcoord_2;\r
    attribute vec4 a_joints;\r
    attribute vec4 a_weights;\r
    attribute vec4 a_color;\r
#else\r
    layout (location = 0) in vec4 a_position;\r
    layout (location = 1) in vec3 a_normal;\r
    layout (location = 2) in vec4 a_tangent;\r
    layout (location = 3) in vec2 a_texcoord_0;\r
    layout (location = 4) in vec2 a_texcoord_1;\r
    layout (location = 5) in vec2 a_texcoord_2;\r
    layout (location = 6) in vec4 a_joints;\r
    layout (location = 7) in vec4 a_weights;\r
    layout (location = 8) in vec4 a_color;\r
#endif\r
\r
uniform mat4 u_model;\r
uniform mat4 u_viewProjection;\r
uniform mat3 u_normalMatrix;\r
\r
uniform mediump int u_geometryFlags;\r
\r
varying vec2 v_uv[3];\r
varying vec4 v_color;\r
varying vec3 v_position;\r
\r
varying mat3 v_TBN;\r
varying vec3 v_normal;\r
\r
bool checkFlag(int flag) {\r
    return (u_geometryFlags & flag) == flag;\r
}\r
\r
void main(void)\r
{\r
    vec4 pos = u_model * a_position;\r
    v_position = vec3(pos.xyz) / pos.w;\r
\r
    if (checkFlag(HAS_NORMALS)) {\r
        if (checkFlag(HAS_TANGENTS)) {\r
            vec3 normalW = normalize(vec3(u_normalMatrix * a_normal));\r
            vec3 tangentW = normalize(vec3(u_model * vec4(a_tangent.xyz, 0.0)));\r
            vec3 bitangentW = cross(normalW, tangentW) * a_tangent.w;\r
            v_TBN = mat3(tangentW, bitangentW, normalW);\r
        } else { // HAS_TANGENTS != 1\r
            v_normal = normalize(vec3(u_model * vec4(a_normal.xyz, 0.0)));\r
        }\r
    }\r
\r
    if (checkFlag(HAS_UV)) {\r
        v_uv[0] = a_texcoord_0;\r
        v_uv[1] = a_texcoord_1;\r
        v_uv[2] = a_texcoord_2;\r
    } else {\r
        v_uv[0] = vec2(0., 0.);\r
        v_uv[1] = vec2(0., 0.);\r
        v_uv[2] = vec2(0., 0.);\r
    }\r
\r
    if (checkFlag(HAS_COLORS)) {\r
        v_color = a_color;\r
    } else {\r
        v_color = vec4(1.0);\r
    }\r
\r
    gl_Position = u_viewProjection * u_model * a_position;\r
}\r
`},function(n,o){n.exports=`precision highp float;\r
\r
// Adapted from https://github.com/KhronosGroup/glTF-WebGL-PBR\r
// References:\r
// [1] Real Shading in Unreal Engine 4\r
//     http://blog.selfshadow.com/publications/s2013-shading-course/karis/s2013_pbs_epic_notes_v2.pdf\r
// [2] Physically Based Shading at Disney\r
//     http://blog.selfshadow.com/publications/s2012-shading-course/burley/s2012_pbs_disney_brdf_notes_v3.pdf\r
// [3] README.md - Environment Maps\r
//     https://github.com/KhronosGroup/glTF-WebGL-PBR/#environment-maps\r
// [4] "An Inexpensive BRDF Model for Physically based Rendering" by Christophe Schlick\r
//     https://www.cs.virginia.edu/~jdl/bib/appearance/analytic%20models/schlick94b.pdf\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else \r
    #define varying in\r
#endif\r
\r
\r
#if __VERSION__ == 100\r
    #define fragColor gl_FragColor\r
#else\r
    layout(location = 0) out vec4 fragColor;\r
#endif\r
\r
const int HAS_NORMALS           = 1;\r
const int HAS_TANGENTS          = 1 << 1;\r
const int HAS_UV                = 1 << 2;\r
const int HAS_COLORS            = 1 << 3;\r
const int USE_IBL               = 1 << 4;\r
const int HAS_BASECOLORMAP      = 1 << 5;\r
const int HAS_NORMALMAP         = 1 << 6;\r
const int HAS_EMISSIVEMAP       = 1 << 7;\r
const int HAS_METALROUGHNESSMAP = 1 << 8;\r
const int HAS_OCCLUSIONMAP      = 1 << 9;\r
const int USE_TEX_LOD           = 1 << 10;\r
\r
const vec3 u_LightDirection = vec3(0.2, 1.0, 0.2);\r
const vec3 u_LightColor = vec3(1, 1, 1);\r
\r
const float M_PI = 3.141592653589793;\r
const float c_MinRoughness = 0.04;\r
\r
uniform sampler2D u_baseColor;\r
uniform sampler2D u_metallicRoughness;\r
uniform sampler2D u_normal;\r
uniform sampler2D u_emissive;\r
uniform sampler2D u_occlusion;\r
\r
uniform samplerCube u_specularEnvironment;\r
uniform sampler2D u_brdfLUT;\r
\r
uniform int u_baseColorTexCoord;\r
uniform int u_normalTexCoord;\r
uniform int u_metallicRoughnessTexCoord;\r
uniform int u_occlusionTexCoord;\r
uniform int u_emissiveTexCoord;\r
\r
uniform vec4 u_baseColorFactor;\r
uniform float u_metallicFactor;\r
uniform float u_roughnessFactor;\r
uniform vec3 u_emissiveFactor;\r
uniform float u_normalScale;\r
uniform int u_blendMode;\r
uniform float u_blendCutoff;\r
\r
uniform mediump int u_geometryFlags;\r
uniform mediump int u_pbrFlags;\r
uniform vec3 u_eye;\r
\r
varying vec2 v_uv[3];\r
varying vec4 v_color;\r
varying vec3 v_position;\r
\r
varying mat3 v_TBN;\r
varying vec3 v_normal;\r
\r
// Encapsulate the various inputs used by the various functions in the shading equation\r
// We store values in this struct to simplify the integration of alternative implementations\r
// of the shading terms, outlined in the Readme.MD Appendix.\r
struct PBRInfo\r
{\r
    float NdotL;                  // cos angle between normal and light direction\r
    float NdotV;                  // cos angle between normal and view direction\r
    float NdotH;                  // cos angle between normal and half vector\r
    float LdotH;                  // cos angle between light direction and half vector\r
    float VdotH;                  // cos angle between view direction and half vector\r
    float perceptualRoughness;    // roughness value, as authored by the model creator (input to shader)\r
    float metalness;              // metallic value at the surface\r
    vec3 reflectance0;            // full reflectance color (normal incidence angle)\r
    vec3 reflectance90;           // reflectance color at grazing angle\r
    float alphaRoughness;         // roughness mapped to a more linear change in the roughness (proposed by [2])\r
    vec3 diffuseColor;            // color contribution from diffuse lighting\r
    vec3 specularColor;           // color contribution from specular lighting\r
};\r
\r
bool checkGeometryFlag(int flag) {\r
    return (u_geometryFlags & flag) == flag;\r
}\r
\r
bool checkFlag(int flag) {\r
    return (u_pbrFlags & flag) == flag;\r
}\r
\r
vec4 SRGBtoLINEAR(vec4 srgbIn)\r
{\r
    #ifdef MANUAL_SRGB\r
    #ifdef SRGB_FAST_APPROXIMATION\r
    vec3 linOut = pow(srgbIn.xyz,vec3(2.2));\r
    #else //SRGB_FAST_APPROXIMATION\r
    vec3 bLess = step(vec3(0.04045),srgbIn.xyz);\r
    vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\r
    #endif //SRGB_FAST_APPROXIMATION\r
    return vec4(linOut,srgbIn.w);;\r
    #else //MANUAL_SRGB\r
    return srgbIn;\r
    #endif //MANUAL_SRGB\r
}\r
\r
// Find the normal for this fragment, pulling either from a predefined normal map\r
// or from the interpolated mesh normal and tangent attributes.\r
vec3 getNormal()\r
{\r
    // Retrieve the tangent space matrix\r
    mat3 tbn;\r
    if (!checkGeometryFlag(HAS_TANGENTS)) {\r
        vec3 pos_dx = dFdx(v_position);\r
        vec3 pos_dy = dFdy(v_position);\r
        vec3 tex_dx = dFdx(vec3(v_uv[0], 0.0));\r
        vec3 tex_dy = dFdy(vec3(v_uv[0], 0.0));\r
        vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\r
\r
        vec3 ng;\r
        if (checkGeometryFlag(HAS_NORMALS))\r
            ng = normalize(v_normal);\r
        else\r
            ng = cross(pos_dx, pos_dy);\r
\r
            t = normalize(t - ng * dot(ng, t));\r
            vec3 b = normalize(cross(ng, t));\r
            tbn = mat3(t, b, ng);\r
        }\r
    else { // HAS_TANGENTS\r
        tbn = v_TBN;\r
    }\r
\r
    vec3 n;\r
    if (checkFlag(HAS_NORMALMAP)) {\r
        n = texture(u_normal, v_uv[u_normalTexCoord]).rgb;\r
        n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_normalScale, u_normalScale, 1.0)));\r
    } else {\r
        // The tbn matrix is linearly interpolated, so we need to re-normalize\r
        n = normalize(tbn[2].xyz);\r
    }\r
\r
    // reverse backface normals\r
    n *= (2.0 * float(gl_FrontFacing) - 1.0);\r
\r
    return n;\r
}\r
\r
// Basic Lambertian diffuse\r
// Implementation from Lambert's Photometria https://archive.org/details/lambertsphotome00lambgoog\r
// See also [1], Equation 1\r
vec3 diffuse(PBRInfo pbrInputs)\r
{\r
    return pbrInputs.diffuseColor / M_PI;\r
}\r
\r
 // The following equation models the Fresnel reflectance term of the spec equation (aka F())\r
// Implementation of fresnel from [4], Equation 15\r
vec3 specularReflection(PBRInfo pbrInputs)\r
{\r
    return pbrInputs.reflectance0 + (pbrInputs.reflectance90 - pbrInputs.reflectance0) * pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\r
}\r
\r
 // This calculates the specular geometric attenuation (aka G()),\r
// where rougher material will reflect less light back to the viewer.\r
// This implementation is based on [1] Equation 4, and we adopt their modifications to\r
// alphaRoughness as input as originally proposed in [2].\r
float geometricOcclusion(PBRInfo pbrInputs)\r
{\r
    float NdotL = pbrInputs.NdotL;\r
    float NdotV = pbrInputs.NdotV;\r
    float r = pbrInputs.alphaRoughness;\r
\r
    float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\r
    float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\r
    return attenuationL * attenuationV;\r
}\r
\r
 // The following equation(s) model the distribution of microfacet normals across the area being drawn (aka D())\r
// Implementation from "Average Irregularity Representation of a Roughened Surface for Ray Reflection" by T. S. Trowbridge, and K. P. Reitz\r
// Follows the distribution function recommended in the SIGGRAPH 2013 course notes from EPIC Games [1], Equation 3.\r
float microfacetDistribution(PBRInfo pbrInputs)\r
{\r
    float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\r
    float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\r
    return roughnessSq / (M_PI * f * f);\r
}\r
\r
vec3 getIBLContribution(vec3 n, vec3 v, PBRInfo pbrInfo)\r
{\r
    float NdotV = clamp(dot(n, v), 0.0, 1.0);\r
\r
    // TODO: pass uniform for mip count\r
    const float MIP_COUNT = 8.0;\r
    float lod = clamp(pbrInfo.perceptualRoughness * MIP_COUNT, 0.0, MIP_COUNT);\r
    vec3 reflection = normalize(reflect(-v, n));\r
\r
    vec2 brdfSamplePoint = vec2(NdotV, pbrInfo.perceptualRoughness);\r
    vec2 brdf = texture(u_brdfLUT, brdfSamplePoint).rg;\r
\r
    // vec4 diffuseSample = textureCube(u_DiffuseEnvSampler, n);\r
    vec4 specularSample = textureLod(u_specularEnvironment, reflection, lod);\r
\r
    // vec3 diffuseLight = SRGBtoLINEAR(diffuseSample).rgb;\r
    vec3 specularLight = SRGBtoLINEAR(specularSample).rgb;\r
\r
    // vec3 diffuse = diffuseLight * pbrInfo.diffuseColor;\r
    vec3 specular = specularLight * (pbrInfo.specularColor * brdf.x + brdf.y);\r
\r
    return specular;\r
    // return diffuse + specular;\r
}\r
\r
void main(void)\r
{\r
    float perceptualRoughness = u_roughnessFactor;\r
    float metallic = u_metallicFactor;\r
    if (checkFlag(HAS_METALROUGHNESSMAP)) {\r
        // Roughness is stored in the 'g' channel, metallic is stored in the 'b' channel.\r
        // This layout intentionally reserves the 'r' channel for (optional) occlusion map data\r
        vec4 mrSample = texture(u_metallicRoughness, v_uv[u_metallicRoughnessTexCoord]);\r
        perceptualRoughness = mrSample.g * perceptualRoughness;\r
        metallic = mrSample.b * metallic;\r
    }\r
    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\r
    metallic = clamp(metallic, 0.0, 1.0);\r
    // Roughness is authored as perceptual roughness; as is convention,\r
    // convert to material roughness by squaring the perceptual roughness [2].\r
    float alphaRoughness = perceptualRoughness * perceptualRoughness;\r
\r
     // The albedo may be defined from a base texture or a flat color\r
    vec4 baseColor;\r
    if (checkFlag(HAS_BASECOLORMAP)) {\r
        baseColor = SRGBtoLINEAR(texture(u_baseColor, v_uv[u_baseColorTexCoord])) * u_baseColorFactor;\r
    } else {\r
        baseColor = u_baseColorFactor;\r
    }\r
\r
    // spec: COLOR_0 ... acts as an additional linear multiplier to baseColor\r
    // TODO!: distinguish vec3/vec4 colors...\r
    baseColor *= vec4(v_color.rgb, 1.0);\r
\r
    vec3 f0 = vec3(0.04);\r
    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\r
    diffuseColor *= 1.0 - metallic;\r
    vec3 specularColor = mix(f0, baseColor.rgb, metallic);\r
\r
    // Compute reflectance.\r
    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\r
\r
    // For typical incident reflectance range (between 4% to 100%) set the grazing reflectance to 100% for typical fresnel effect.\r
    // For very low reflectance range on highly diffuse objects (below 4%), incrementally reduce grazing reflecance to 0%.\r
    float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\r
    vec3 specularEnvironmentR0 = specularColor.rgb;\r
    vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\r
\r
    vec3 n = getNormal();                         // normal at surface point\r
    vec3 v = normalize(u_eye - v_position);        // Vector from surface point to camera\r
    vec3 l = normalize(u_LightDirection);          // Vector from surface point to light\r
    vec3 h = normalize(l+v);                       // Half vector between both l and v\r
    vec3 reflection = -normalize(reflect(v, n));\r
\r
    float NdotL = clamp(dot(n, l), 0.001, 1.0);\r
    float NdotV = abs(dot(n, v)) + 0.001;\r
    float NdotH = clamp(dot(n, h), 0.0, 1.0);\r
    float LdotH = clamp(dot(l, h), 0.0, 1.0);\r
    float VdotH = clamp(dot(v, h), 0.0, 1.0);\r
\r
    PBRInfo pbrInputs = PBRInfo(\r
        NdotL,\r
        NdotV,\r
        NdotH,\r
        LdotH,\r
        VdotH,\r
        perceptualRoughness,\r
        metallic,\r
        specularEnvironmentR0,\r
        specularEnvironmentR90,\r
        alphaRoughness,\r
        diffuseColor,\r
        specularColor\r
    );\r
\r
     // Calculate the shading terms for the microfacet specular shading model\r
    vec3 F = specularReflection(pbrInputs);\r
    float G = geometricOcclusion(pbrInputs);\r
    float D = microfacetDistribution(pbrInputs);\r
\r
     // Calculation of analytical lighting contribution\r
    vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\r
    vec3 specContrib = F * G * D / (4.0 * NdotL * NdotV);\r
    // Obtain final intensity as reflectance (BRDF) scaled by the energy of the light (cosine law)\r
    vec3 color = NdotL * u_LightColor * (diffuseContrib + specContrib);\r
\r
    vec3 environmentLight = getIBLContribution(n, v, pbrInputs);\r
    color += environmentLight;\r
\r
    if (checkFlag(HAS_EMISSIVEMAP)) {\r
        vec3 emissive = SRGBtoLINEAR(texture(u_emissive, v_uv[u_emissiveTexCoord])).rgb * u_emissiveFactor;\r
        color += emissive;\r
    }\r
\r
    // NOTE: the spec mandates to ignore any alpha value in 'OPAQUE' mode\r
    float alpha = 1.0;\r
    if (u_blendMode == 1) {\r
        if (baseColor.a < u_blendCutoff) {\r
            discard;\r
        }\r
    }\r
    else if (u_blendMode == 2) {\r
        alpha = baseColor.a;\r
    }\r
\r
    fragColor = vec4(pow(color, vec3(1.0/2.2)), alpha);\r
}\r
`},function(n,o,i){var h,g=i(1),p=i(3),v=i(0);(function(d){function c(u,f,m){m===void 0&&(m=1);var y=g.vec2.subtract(p.v2(),f,u);if(!g.vec2.equals(y,g.vec2.fromValues(0,0))){var b=g.vec2.squaredLength(y),E=2*g.vec2.dot(y,u),x=E*E-4*b*(g.vec2.squaredLength(u)-m*m);if(!(x<0)){var w=Math.sqrt(x),S=Math.min((-E+w)/(2*b),(-E-w)/(2*b)),P=g.vec2.scale(p.v2(),y,S);return g.vec2.add(P,P,u)}}}function a(u,f,m,y){var b=u,E=g.vec2.sub(p.v2(),f,u),x=m,w=g.vec2.sub(p.v2(),y,m),S=g.vec2.cross(p.v3(),E,w)[2];if(S!==0){var P=g.vec2.sub(p.v2(),x,b),A=g.vec2.cross(p.v3(),P,g.vec2.scale(p.v2(),E,1/S))[2],L=g.vec2.cross(p.v3(),P,g.vec2.scale(p.v2(),w,1/S))[2];if(!(A<0||A>1||L<0))return[g.vec2.add(p.v2(),x,g.vec2.scale(p.v2(),w,A)),L]}}function l(u,f,m,y){m===void 0&&(m=g.vec3.fromValues(0,0,0)),y===void 0&&(y=g.vec3.fromValues(0,1,0));var b=g.vec3.normalize(p.v3(),g.vec3.subtract(p.v3(),f,u)),E=g.vec3.dot(b,y);if(!(g.vec3.equals(b,[0,0,0])||E>=0)){var x=g.vec3.dot(g.vec3.subtract(p.v3(),m,u),y)/E;return g.vec3.add(p.v3(),g.vec3.scale(p.v3(),b,x),u)}}function s(u,f,m){var y=g.vec3.subtract(p.v3(),f,u),b=g.vec3.squaredLength(y);if(b===0)return 0;var E=g.vec3.subtract(p.v3(),m,u);return g.vec3.dot(E,y)/b}d.rayCircleIntersection=c,d.pointSquareIntersection=function(u,f){f===void 0&&(f=1);var m=p.abs2(p.v2(),u);return m[0]>=m[1]?g.vec2.fromValues(p.sign(u[0])*f,u[1]/m[0]*f):g.vec2.fromValues(u[0]/m[1]*f,p.sign(u[1])*f)},d.raySquareIntersection=function(u,f,m){m===void 0&&(m=1);for(var y=[g.vec2.fromValues(-m,+m),g.vec2.fromValues(-m,-m),g.vec2.fromValues(+m,-m),g.vec2.fromValues(+m,+m)],b=new Array,E=0;E<4;++E){var x=a(u,f,y[E],y[(E+1)%4]);x&&b.push(x[1])}return b},d.rayLineIntersection=a,d.rayPlaneIntersection=l,d.raySphereIntersection=function(u,f,m,y){m===void 0&&(m=g.vec3.fromValues(0,0,0)),y===void 0&&(y=1);var b=g.vec3.subtract(p.v3(),u,m),E=g.vec3.normalize(p.v3(),g.vec3.subtract(p.v3(),f,u)),x=g.vec3.dot(E,b),w=x*x-g.vec3.squaredLength(b)+y*y;if(!(w<=0))return g.vec3.add(p.v3(),u,g.vec3.scale(p.v3(),E,-x-Math.sqrt(w)))},d.rayPlaneIntersection_tube=function(u,f,m){m===void 0&&(m=1);var y=l(u,f);if(y!==void 0&&g.vec3.length(y)<m)return y;var b=c(g.vec2.fromValues(u[0],u[2]),g.vec2.fromValues(f[0],f[2]),m);return b?g.vec3.fromValues(b[0],0,b[1]):void 0},d.isPointWithinSquare=function(u,f){f===void 0&&(f=1);var m=p.abs2(p.v2(),u);return m[0]<=f&&m[1]<=f},d.isPointWithinNDC=function(u,f){var m=g.vec3.transformMat4(p.v3(),f,u),y=p.abs3(p.v3(),m);return y[0]<=1&&y[1]<=1&&m[2]>=0&&m[2]<=1},d.distancePointToRay=s,d.eyeWithPointInView=function(u,f){var m=g.vec3.subtract(p.v3(),u.center,u.eye),y=g.vec3.normalize(p.v3(),m),b=g.vec3.normalize(p.v3(),g.vec3.cross(p.v3(),y,u.up)),E=g.vec3.normalize(p.v3(),g.vec3.cross(p.v3(),b,y)),x=s(u.eye,u.center,f),w=g.vec3.add(p.v3(),u.eye,g.vec3.scale(p.v3(),m,x)),S=g.vec3.subtract(p.v3(),f,w),P=Math.abs(g.vec3.dot(S,b))/u.aspect,A=Math.abs(g.vec3.dot(S,E)),L=Math.max(P,A)/Math.tan(u.fovy*v.DEG2RAD*.5);return g.vec3.subtract(p.v3(),w,g.vec3.scale(p.v3(),y,L))}})(h||(h={})),n.exports=h},function(n,o,i){Object.defineProperty(o,"__esModule",{value:!0});var h=i(78),g=i(141);(function(p){p.TestRenderer=g.TestRenderer,p.TestNavigation=h.TestNavigation})(o.debug||(o.debug={}))},function(n,o,i){var h,g,p=this&&this.__extends||(h=function(w,S){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,A){P.__proto__=A}||function(P,A){for(var L in A)A.hasOwnProperty(L)&&(P[L]=A[L])})(w,S)},function(w,S){function P(){this.constructor=w}h(w,S),w.prototype=S===null?Object.create(S):(P.prototype=S.prototype,new P)}),v=i(0),d=i(61),c=i(59),a=i(38),l=i(48),s=i(17),u=i(12),f=i(6),m=i(23),y=i(50),b=i(7),E=i(4),x=i(78);(function(w){var S=function(P){function A(){var L=P!==null&&P.apply(this,arguments)||this;return L._extensions=!1,L}return p(A,P),A.prototype.onInitialize=function(L,k,D){var N=this,W=this._context.gl,H=this._context.gl2facade;this._extensions===!1&&this._context.isWebGL1&&(v.assert(this._context.supportsStandardDerivatives,"expected OES_standard_derivatives support"),this._context.standardDerivatives,this._extensions=!0);var q=new b.Shader(this._context,W.VERTEX_SHADER,"testrenderer.vert");q.initialize(i(142));var X=new b.Shader(this._context,W.FRAGMENT_SHADER,"testrenderer.frag");X.initialize(i(143)),this._program=new f.Program(this._context),this._program.initialize([q,X]),this._uNdcOffset=this._program.uniform("u_ndcOffset"),this._uFrameNumber=this._program.uniform("u_frameNumber"),this._ndcTriangle=new u.NdcFillingTriangle(this._context);var Y=this._program.attribute("a_vertex",0);return this._ndcTriangle.initialize(Y),this._ndcOffsetKernel=new c.AntiAliasingKernel(this._multiFrameNumber),this._defaultFBO=new l.DefaultFramebuffer(this._context,"DefaultFBO"),this._defaultFBO.initialize(),this._colorRenderTexture=new E.Texture2D(this._context,"ColorRenderTexture"),this._depthRenderbuffer=new m.Renderbuffer(this._context,"DepthRenderbuffer"),this._intermediateFBO=new s.Framebuffer(this._context,"IntermediateFBO"),this._accumulate=new d.AccumulatePass(this._context),this._accumulate.initialize(this._ndcTriangle),this._accumulate.precision=this._framePrecision,this._accumulate.texture=this._colorRenderTexture,this._blit=new a.BlitPass(this._context),this._blit.initialize(this._ndcTriangle),this._blit.readBuffer=H.COLOR_ATTACHMENT0,this._blit.drawBuffer=W.BACK,this._blit.target=this._defaultFBO,this._testNavigation=new x.TestNavigation(function(){return N.invalidate()},D),!0},A.prototype.onUninitialize=function(){P.prototype.uninitialize.call(this),this._uNdcOffset=-1,this._uFrameNumber=-1,this._program.uninitialize(),this._ndcTriangle.uninitialize(),this._intermediateFBO.uninitialize(),this._defaultFBO.uninitialize(),this._colorRenderTexture.uninitialize(),this._depthRenderbuffer.uninitialize(),this._blit.uninitialize(),this._accumulate.uninitialize()},A.prototype.onDiscarded=function(){this._altered.alter("frameSize"),this._altered.alter("multiFrameNumber"),this._altered.alter("framePrecision"),this._altered.alter("clearColor")},A.prototype.onUpdate=function(){this._testNavigation.update();var L=this._testNavigation.altered;return this._testNavigation.reset(),!(!L&&!this._altered.any)&&L},A.prototype.onPrepare=function(){var L=this._context.gl,k=this._context.gl2facade;this._intermediateFBO.initialized?this._altered.frameSize&&this._intermediateFBO.resize(this._frameSize[0],this._frameSize[1]):(this._colorRenderTexture.initialize(this._frameSize[0],this._frameSize[1],this._context.isWebGL2?L.RGBA8:L.RGBA,L.RGBA,L.UNSIGNED_BYTE),this._depthRenderbuffer.initialize(this._frameSize[0],this._frameSize[1],L.DEPTH_COMPONENT16),this._intermediateFBO.initialize([[k.COLOR_ATTACHMENT0,this._colorRenderTexture],[L.DEPTH_ATTACHMENT,this._depthRenderbuffer]])),this._altered.multiFrameNumber&&(this._ndcOffsetKernel.width=this._multiFrameNumber),this._altered.framePrecision&&(this._accumulate.precision=this._framePrecision),this._altered.clearColor&&this._intermediateFBO.clearColor(this._clearColor),this._accumulate.update(),this._altered.reset()},A.prototype.onFrame=function(L){var k=this._context.gl;k.viewport(0,0,this._frameSize[0],this._frameSize[1]),this._program.bind();var D=this._ndcOffsetKernel.get(L);D[0]=2*D[0]/this._frameSize[0],D[1]=2*D[1]/this._frameSize[1],k.uniform2fv(this._uNdcOffset,D),k.uniform1i(this._uFrameNumber,L),this._intermediateFBO.clear(k.COLOR_BUFFER_BIT,!0,!1),this._ndcTriangle.bind(),this._ndcTriangle.draw(),this._intermediateFBO.unbind(),this._accumulate.frame(L)},A.prototype.onSwap=function(){this._blit.framebuffer=this._accumulate.framebuffer?this._accumulate.framebuffer:this._blit.framebuffer=this._intermediateFBO,this._blit.frame()},A}(y.Renderer);w.TestRenderer=S})(g||(g={})),n.exports=g},function(n,o){n.exports=`\r
precision lowp float;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else\r
    #define varying out\r
#endif\r
\r
\r
void ndcOffset(inout vec4 vertex, in vec2 offset) {\r
    vertex.xy = offset * vec2(vertex.w) + vertex.xy;\r
}\r
\r
\r
\r
#if __VERSION__ == 100\r
    attribute vec2 a_vertex;\r
#else \r
    layout(location = 0) in vec2 a_vertex;\r
#endif\r
\r
uniform vec2 u_ndcOffset;\r
\r
varying vec2 v_uv;\r
\r
\r
void main(void)\r
{\r
    v_uv = a_vertex.xy * 0.5 + 0.5;\r
\r
    vec4 vertex = vec4(a_vertex, 0.0, 1.0);\r
    ndcOffset(vertex, u_ndcOffset);\r
\r
    gl_Position = vertex;\r
}\r
`},function(n,o){n.exports=`\r
precision lowp float;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else \r
    #define varying in\r
#endif\r
\r
\r
\r
#if __VERSION__ == 100\r
    #define fragColor gl_FragColor\r
    #extension GL_OES_standard_derivatives : enable\r
#else \r
    layout(location = 0) out vec4 fragColor;\r
#endif\r
\r
uniform int u_frameNumber;\r
\r
varying vec2 v_uv;\r
\r
\r
void main(void)\r
{\r
    vec3 color = vec3(28.0 / 255.0, 117.0 / 255.0, 188.0 / 255.0);\r
    color += (vec3(0.0, v_uv) - 0.5) * 0.125;\r
\r
    vec2 awidth = fwidth(v_uv) * (sin(float(u_frameNumber) * 0.1) * 7.0 + 8.0);\r
    vec2 cstep = abs(step(awidth, v_uv) - step(awidth, 1.0 - v_uv));\r
    if(!any(bvec2(cstep))) {\r
        discard;\r
    }\r
    fragColor = vec4(color, 1.0); \r
}\r
`},function(n,o,i){var h;(function(g){var p=function(){function v(d,c){if(this._blockListenerByEvent=new Map,this._element=d,c!==void 0)for(var a=0,l=c;a<l.length;a++){var s=l[a];this.block(s)}}return v.prototype.block=function(d){this._blockListenerByEvent.has(d)||(this._blockListenerByEvent.set(d,function(c){return c.preventDefault(),c.stopPropagation(),!1}),this._element.addEventListener(d,this._blockListenerByEvent.get(d)))},v.prototype.unblock=function(d){this._blockListenerByEvent.has(d)&&(this._element.removeEventListener(d,this._blockListenerByEvent.get(d)),this._blockListenerByEvent.delete(d))},v}();g.EventBlocker=p})(h||(h={})),n.exports=h},function(n,o,i){var h,g=i(0);(function(p){var v=function(){function d(){}return d.queryAndCacheAPI=function(){if(d._exit===void 0){for(var c=window.document,a=[c.exitFullScreen,c.msExitFullscreen,c.mozCancelFullScreen,c.webkitExitFullscreen,void 0],l=0;l<a.length&&a[l]===void 0;++l);switch(l){case 0:d._exit=function(){return c.exitFullScreen()},d._request=function(s){return s.requestFullscreen()},d._element=function(){return c.fullscreenElement},d._event="fullscreenchange";break;case 1:d._exit=function(){return c.msExitFullscreen()},d._request=function(s){return s.msRequestFullscreen()},d._element=function(){return c.msFullscreenElement},d._event="msfullscreenchange";break;case 2:d._exit=function(){return c.mozCancelFullScreen()},d._request=function(s){return s.mozRequestFullScreen()},d._element=function(){return c.mozFullScreenElement},d._event="mozfullscreenchange";break;case 3:d._exit=function(){return c.webkitExitFullscreen()},d._request=function(s){return s.webkitRequestFullscreen()},d._element=function(){return c.webkitFullscreenElement},d._event="webkitfullscreenchange";break;default:g.assert(!1,"none of the following fullscreen apis was found: native, ms, moz, or webkit")}}},d.active=function(){return d._element()!==void 0&&d._element()!==null},d.toggle=function(c,a){if(c!==void 0){d.queryAndCacheAPI();var l=d.active();if(!l){var s=getComputedStyle(c);d._size[0]=s.width,d._size[1]=s.height}a&&a(),l?(d._callback=void 0,window.removeEventListener(d._event,d.removeEventListener),c.style.width=d._size[0],c.style.height=d._size[1]):(d._callback=a,window.addEventListener(d._event,d.addEventListener)),l?d._exit():d._request(c)}},d._size=["0","0"],d.addEventListener=function(){window.removeEventListener(d._event,d.addEventListener),window.addEventListener(d._event,d.removeEventListener)},d.removeEventListener=function(){d._callback&&(d._callback(),d._callback=void 0),window.removeEventListener(d._event,d.removeEventListener)},d}();p.Fullscreen=v})(h||(h={})),n.exports=h}])},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeBuffer=void 0;var n=r(0),o=n.auxiliaries.assert,i=n.auxiliaries.log,h=n.auxiliaries.LogLevel,g=r(57),p=r(2);(function(v){(function(d){d.String="string",d.Numbers="numbers",d.Uint8="uint8",d.Int8="int8",d.Uint16="uint16",d.Int16="int16",d.Uint32="uint32",d.Int32="int32",d.Float32="float32",d.Float64="float64"})(v.DataType||(v.DataType={})),function(d){d.Native="native"}(v.Encoding||(v.Encoding={})),function(d){d.Topology="topology",d.Identity="identity"}(v.Linearization||(v.Linearization={})),function(d){d.IdMapping="id-mapping",d.IndexMapping="index-mapping"}(v.LinearizationMapping||(v.LinearizationMapping={})),v.createNormalization=function(d,c){return d.edgeIndexToTopologyIndexMap},v.create=function(d,c,a,l){var s=a.indexOf(":");if(s===void 0||s<0)i(h.Error,"Buffer type not recognized.");else switch(a.substr(0,s)){case"buffer":return v.createSourceBuffer(c,a.substr(s+1),l);case"bufferView":return v.createView(d,c,a.substr(s+1),l);default:i(h.Error,"Buffer type not recognized.")}},v.range=function(d){if(d.length!==0)return Array.prototype.reduce.apply(d,[function(c,a){return[Math.min(a,c[0]),Math.max(a,c[1])]},[1/0,-1/0]])},v.createSourceBuffer=function(d,c,a){var l=a.buffers.find(function(s){return s.identifier===c});if(l&&l.encoding===v.Encoding.Native)return o(l.linearization!==v.Linearization.Identity,"Expect linearization to be of type topology or mapping. Identity is currently unsupported"),p.Configuration.isLinearizationMapping(l.linearization)?g.AttributeTransformations.renormalize_using_intermediate_linearization(l.data,l.linearization,d):(o(l.linearization===v.Linearization.Topology,"Expect linearization to be of type topology or identity."),g.AttributeTransformations.renormalize(l.data,d))},v.createView=function(d,c,a,l){var s=l.bufferViews.find(function(f){return f.identifier===a});if(s!==void 0){var u=v.create(d,c,s.source,l);if(u!==void 0)return s.transformations===void 0||s.transformations.length===0?u:g.AttributeTransformations.applyTransformations(d,c,u,s.transformations,l)}}})(t.AttributeBuffer||(t.AttributeBuffer={}))},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Configuration=void 0;var n=r(0),o=r(1),i=function(){function h(){this._altered=Object.assign(new n.ChangeLookup,{any:!1,topology:!1,buffers:!1,bufferViews:!1,colors:!1,layout:{any:!1,weight:!1,sort:!1,algorithm:!1,siblingMargin:!1,parentPadding:!1,accessoryPadding:!1},geometry:{any:!1,aggregation:!1,outlineWidth:!1,emphasis:{any:!1,outline:!1,highlight:!1,outlineWidth:!1},areaScale:!1,heights:!1,heightScale:!1,levitate:!1,colors:!1,parentLayer:!1},labels:!1,animations:!1}),this._buffers=[],this._bufferViews=[],this._colors=[],this._animations=[]}return Object.defineProperty(h.prototype,"altered",{get:function(){return this._altered},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"topology",{get:function(){return this._topology},set:function(g){var p=h.TREEMAP_SCHEMA.properties.topology;n.properties.complement(g,p),n.properties.compare(g,this._topology,this._altered,"topology"),this._topology=g},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"buffers",{get:function(){return this._buffers},set:function(g){var p=h.TREEMAP_SCHEMA.properties.buffers;n.properties.validate(g,p,[])&&(n.properties.complement(g,p),n.properties.compare(g,this._buffers,this._altered,"buffers"),this._buffers=g)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"bufferViews",{get:function(){return this._bufferViews},set:function(g){var p=h.TREEMAP_SCHEMA.properties.bufferViews;n.properties.validate(g,p,[[h.BUFFER_REFERENCE_SCHEMA,"/BufferReference"]])&&(n.properties.complement(g,p),n.properties.compare(g,this._bufferViews,this._altered,"bufferViews"),this._bufferViews=g)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"colors",{get:function(){return this._colors},set:function(g){var p=h.TREEMAP_SCHEMA.properties.colors;n.properties.validate(g,p,[[h.COLOR_REFERENCE_SCHEMA,"/ColorReference"]])&&(n.properties.complement(g,p),n.properties.compare(g,this._colors,this._altered,"colors"),this._colors=g)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"layout",{get:function(){return this._layout},set:function(g){var p=h.TREEMAP_SCHEMA.properties.layout;n.properties.validate(g,p,[[h.BUFFER_REFERENCE_SCHEMA,"/BufferReference"]])&&(n.properties.complement(g,p),n.properties.compare(g,this._layout,this._altered,"layout"),this._layout=g)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"geometry",{get:function(){return this._geometry},set:function(g){var p=h.TREEMAP_SCHEMA.properties.geometry;n.properties.validate(g,p,[[h.BUFFER_REFERENCE_SCHEMA,"/BufferReference"],[h.COLOR_REFERENCE_SCHEMA,"/ColorReference"],[h.COLOR_SCHEMA_SCHEMA,"/ColorScheme"]])&&(n.properties.complement(g,p),n.properties.compare(g,this._geometry,this._altered,"geometry"),this._geometry=g)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"labels",{get:function(){return this._labels},set:function(g){var p=h.TREEMAP_SCHEMA.properties.labels;n.properties.validate(g,p,[[h.BUFFER_REFERENCE_SCHEMA,"/BufferReference"]])&&(n.properties.complement(g,p),n.properties.compare(g,this._labels,this._altered,"labels"),this._labels=g)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"animations",{get:function(){return this._animations},set:function(g){var p=h.TREEMAP_SCHEMA.properties.animations;n.properties.validate(g,p,[[h.BUFFER_REFERENCE_SCHEMA,"/BufferReference"]])&&(n.properties.complement(g,p),n.properties.compare(g,this._animations,this._altered,"animations"),this._animations=g)},enumerable:!1,configurable:!0}),h.TREEMAP_SCHEMA=r(59),h.BUFFER_REFERENCE_SCHEMA=r(60),h.COLOR_REFERENCE_SCHEMA=r(61),h.COLOR_SCHEMA_SCHEMA=r(62),h}();t.Configuration=i,function(h){h.isLinearizationMapping=function(g){return!(typeof g=="string"||g instanceof String||g in o.AttributeBuffer.Linearization)&&"type"in g&&g.type in o.AttributeBuffer.LinearizationMapping&&"mapping"in g}}(i=t.Configuration||(t.Configuration={})),t.Configuration=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Topology=void 0;var n=r(0).auxiliaries.assert,o=r(58),i=r(7),h=function(){function g(){this._linearization=new o.Linearization,this._nodes=new Array,this._innerNodeIndicesById=new Map,this._leafNodeIndicesById=new Map,this._edgeIndexToTopologyIndexMap=new Array,this._topologyIndexToEdgeIndexMap=new Array}return g.prototype.fromInterleavedEdgesIdById=function(p){n(p.length%2==0,"expected length of interleaved edges list to be a multiple of 2");var v=new Array,d=new Map,c=new Array;v.push(new i.Node(p[0],0)),d.set(v[0].id,v[0]),c.push(new Array),c[0].push(v[0]);for(var a=v[0],l=0;l<p.length;l+=2){var s=[p[l+0],p[l+1]],u=l+2<p.length?[p[l+2],p[l+3]]:[i.Node.INVALID_INDEX,i.Node.INVALID_INDEX];if(a.lastChild!==i.Node.INVALID_INDEX){var f=v[a.lastChild];n(f.nextSibling===i.Node.INVALID_INDEX,"expected next sibling to be unset for last child of a node"),f.initialNextSibling=v.length,f.nextSibling=v.length}var m=new i.Node(s[1],v.length,a);v.push(m),c.length===m.depth&&c.push(new Array),c[m.depth].push(m),d.set(m.id,m),u[0]===s[1]?a=m:u[0]!==s[0]&&u[0]!==i.Node.INVALID_ID&&(n(d.has(u[0]),"expected next parent to be already created, given "+u[0]),a=d.get(u[0]))}this.fromNodes(v,c)},g.prototype.fromInterleavedEdgesIndexById=function(p){n(p.length%2==0,"expected length of interleaved edges list to be a multiple of 2");var v=new Array,d=new Array,c=0;for(v.push(new i.Node(0,0)),d.push(new Array),d[0].push(v[0]),p[0]===-1&&(c+=2);c<p.length;c+=2){var a=[p[c+0],p[c+1]],l=void 0;if(a[0]<v.length&&p[0]===-1?l=v[a[0]]:(n(a[0]<v.length,"expected parent to be processed before child"),l=v[a[0]<0?0:a[0]+1]),l.lastChild!==i.Node.INVALID_INDEX){var s=v[l.lastChild];n(s.nextSibling===i.Node.INVALID_INDEX,"expected next sibling to be unset for last child of a node"),s.initialNextSibling=v.length,s.nextSibling=v.length}var u=new i.Node(a[1],v.length,l);v.push(u),d.length===u.depth&&d.push(new Array),d[u.depth].push(u)}this.fromNodes(v,d)},g.prototype.fromNodes=function(p,v){this._linearization.clear(),this._innerNodeIndicesById.clear(),this._leafNodeIndicesById.clear(),this._edgeIndexToTopologyIndexMap.length=p.length,this._topologyIndexToEdgeIndexMap.length=p.length,this._edgeIndexToTopologyIndexMap.fill(-1),this._topologyIndexToEdgeIndexMap.fill(-1);for(var d=new Array,c=new Array,a=0,l=v;a<l.length;a++){for(var s=0,u=(E=l[a]).filter(function(N){return N.isLeaf});s<u.length;s++){var f=u[s];d.push(f)}var m=E.filter(function(N){return!N.isLeaf});m.length>0&&c.push(m)}c.push(d);for(var y=0,b=c;y<b.length;y++){var E=b[y];this._linearization.addSliceByLength(E.length)}var x=new Map;this._nodes.length=p.length,x.set(-1,-1);for(var w=0,S=0,P=c;S<P.length;S++)for(var A=0,L=P[S];A<L.length;A++)f=L[A],this._nodes[w]=f,(f.isLeaf?this._leafNodeIndicesById:this._innerNodeIndicesById).set(f.id,w),x.set(f.index,w),this._edgeIndexToTopologyIndexMap[f.index]=w,this._topologyIndexToEdgeIndexMap[w]=f.index,++w;for(var k=0,D=this._nodes;k<D.length;k++)(f=D[k]).index=x.get(f.index),f.parent=x.get(f.parent),f.initialNextSibling=x.get(f.initialNextSibling),f.initialFirstChild=x.get(f.initialFirstChild),f.nextSibling=f.initialNextSibling,f.firstChild=f.initialFirstChild},g.prototype.sliceDo=function(p,v){var d=this;this._linearization.sliceDo(p,function(c,a){for(var l=c;l<=a;++l)v(d._nodes[l])})},g.prototype.initialize=function(p,v,d){var c,a;switch(v){case g.InputSemantics.ParentIdId:switch(p){case g.InputFormat.Tupled:this.fromInterleavedEdgesIdById((c=[]).concat.apply(c,d));break;case g.InputFormat.Interleaved:default:n(d.length%2==0,"Interleaved edges expect to be a multiple of two ids."),this.fromInterleavedEdgesIdById(d)}break;case g.InputSemantics.ParentIndexId:switch(p){case g.InputFormat.Tupled:this.fromInterleavedEdgesIndexById((a=[]).concat.apply(a,d));break;case g.InputFormat.Interleaved:default:n(d.length%2==0,"Interleaved edges expect to be a multiple of two ids."),this.fromInterleavedEdgesIndexById(d)}}return!0},g.prototype.node=function(p){if(!(this._nodes.length<=p))return this._nodes[p]},g.prototype.innerNodeIndexById=function(p){return this._innerNodeIndicesById.get(p)},g.prototype.leafNodeIndexById=function(p){return this._leafNodeIndicesById.get(p)},g.prototype.innerNodeById=function(p){var v=this.innerNodeIndexById(p);if(v!==void 0)return this.node(v)},g.prototype.leafNodeById=function(p){var v=this.leafNodeIndexById(p);if(v!==void 0)return this.node(v)},g.prototype.forEachInnerNode=function(p){for(var v=0;v<this.depth-1;++v)this.sliceDo(v,p)},g.prototype.parentsDoUntilDepth=function(p,v){for(var d=Math.min(Math.max(p,0),this.depth-1),c=0;c<d;++c)this.sliceDo(c,v)},g.prototype.forEachLeafNode=function(p){this.sliceDo(this.depth-1,p)},g.prototype.nodesDo=function(p){this.forEachInnerNode(p),this.forEachLeafNode(p)},g.prototype.reverseNodesDo=function(p){this.forEachLeafNode(p),this.reverseParentsDo(p)},g.prototype.depthFirstDo=function(p){p(this.root)},g.prototype.childrenDo=function(p,v){n(p!==void 0,"Parent is expected to be valid."),p.firstChild!==i.Node.INVALID_INDEX&&this.siblingsDo(this.node(p.firstChild),v)},g.prototype.siblingsDo=function(p,v){var d=p;for(v(d);d.nextSibling!==i.Node.INVALID_INDEX;)v(d=this.node(d.nextSibling))},g.prototype.siblingsRangeDo=function(p,v,d){if(v===void 0)return this.siblingsDo(p,d);for(var c=p;c!==void 0&&c!==v;c=this.node(c.nextSibling))d(c)},g.prototype.reverseParentsDo=function(p){for(var v=this.depth-2;v>=0;--v)this.sliceDo(v,p)},Object.defineProperty(g.prototype,"linearization",{get:function(){return this._linearization},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"numberOfNodes",{get:function(){return this._linearization.numberOfNodes},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"numberOfInnerNodes",{get:function(){return this._linearization.numberOfInnerNodes},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"numberOfLeafNodes",{get:function(){return this._linearization.numberOfLeafNodes},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"depth",{get:function(){return this._linearization.length},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"root",{get:function(){return this._nodes[0]},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"nodes",{get:function(){return this._nodes},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"edgeIndexToTopologyIndexMap",{get:function(){return this._edgeIndexToTopologyIndexMap},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"topologyIndexToEdgeIndexMap",{get:function(){return this._topologyIndexToEdgeIndexMap},enumerable:!1,configurable:!0}),g}();t.Topology=h,function(g){(function(p){p.Interleaved="interleaved",p.Tupled="tupled"})(g.InputFormat||(g.InputFormat={})),function(p){p.ParentIdId="parent-id-id",p.ParentIndexId="parent-index-id"}(g.InputSemantics||(g.InputSemantics={})),function(p){p.TopDown="top-down",p.BottomUp="bottom-up",p.DepthFirst="depth-first"}(g.IterationDirection||(g.IterationDirection={}))}(h=t.Topology||(t.Topology={})),t.Topology=h},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Rect=void 0;var n=r(0).auxiliaries.assert,o=function(){function i(h,g,p,v,d){this._left=h,this._right=p,this._top=v,this._bottom=g,this.orientation=d}return i.clone=function(h){return new i(h.left,h.bottom,h.right,h.top)},Object.defineProperty(i.prototype,"area",{get:function(){return this.width*this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"center",{get:function(){return[(this._left+this._right)/2,(this._bottom+this._top)/2]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shorterSide",{get:function(){return Math.min(this.width,this.height)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"longerSide",{get:function(){return Math.max(this.width,this.height)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isReversed",{get:function(){return this.orientation!==void 0&&this.orientation>=i.Orientation.DC},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return this._top},set:function(h){n(h>=this.bottom,"Non-negative height expected"),this._top=h},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return this._left},set:function(h){n(h<=this.right,"Non-negative width expected"),this._left=h},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return this._right},set:function(h){n(h>=this.left,"Non-negative width expected"),this._right=h},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return this._bottom},set:function(h){n(h<=this.top,"Non-negative height expected"),this._bottom=h},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this._right-this._left},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._top-this._bottom},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isHorizontal",{get:function(){return this.width>this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isVertical",{get:function(){return this.width<=this.height},enumerable:!1,configurable:!0}),i.prototype.relativeTop=function(h){return this.relativeRect(0,1-h,1,h)},i.prototype.truncateTop=function(h){return n(h<=this._top&&h>=this._bottom,"Expect new top to be within rectangle"),new i(this._left,this._bottom,this._right,h)},i.prototype.relativeLeft=function(h){return this.relativeRect(0,0,h,1)},i.prototype.truncateLeft=function(h){return n(h<=this._right&&h>=this._left,"Expect new top to be within rectangle"),new i(h,this._bottom,this._right,this._top)},i.prototype.relativeRight=function(h){return this.relativeRect(1-h,0,h,1)},i.prototype.truncateRight=function(h){return n(h<=this._right&&h>=this._left,"Expect new top to be within rectangle"),new i(this._left,this._bottom,h,this._top)},i.prototype.relativeBottom=function(h){return this.relativeRect(0,0,1,h)},i.prototype.truncateBottom=function(h){return n(h<=this._top&&h>=this._bottom,"Expect new top to be within rectangle"),new i(this._left,h,this._right,this._top)},i.prototype.applyOffset=function(h,g){this._left+=h,this._right+=h,this._top+=g,this._bottom+=g},i.prototype.relativeRect=function(h,g,p,v,d){n(h>=0&&h<=1,"Expect posX to be in [0, 1]"),n(g>=0&&g<=1,"Expect posY to be in [0, 1]"),n(p>=0&&p<=1,"Expect extX to be in [0, 1]"),n(v>=0&&v<=1,"Expect extY to be in [0, 1]"),n(h+p<=1,"Final width must not exceed given width"),n(g+v<=1,"Final height must not exceed given height");var c=this._left+h*this.width,a=this._bottom+g*this.height;return new i(c,a,Math.min(c+p*this.width,this._right),Math.min(a+v*this.height,this._top),d)},i.prototype.equalizedMargin=function(h,g,p){if(this.area<=0)return 0;var v=h,d=2*this.width*h+2*this.height*h-4*h*h;if(d<0||d/this.area>=g||this.shorterSide<2*h){var c=void 0,a=this.area*g*.99,l=.25*(this.width+this.height),s=l*l-.25*a;if(s<=0)c=l;else{var u=Math.sqrt(s),f=l+u,m=l-u;c=(c=Math.min(f,m))<0?0:c}n(c<v,"expected "+c+" to be smaller than "+v),v=c}return v},i.prototype.equalizedRelativeMargin=function(h){if(this.area<=0)return 0;var g=this.area*(1-h),p=this.width/this.height,v=.5*-(Math.sqrt(g*p)+Math.sqrt(g/p)),d=v*v*.25-.25*(this.area-g),c=d<0?0:Math.sqrt(d),a=.5*-v+c,l=.5*-v-c;return a<0||l<0?Math.max(a,l):Math.min(a,l)},i.prototype.padded=function(h){return this.width<2*h||this.height<2*h?new i(this.left,this.bottom,this.left,this.bottom):new i(this.left+h,this.bottom+h,this.right-h,this.top-h)},i.prototype.paddedWithMinArea=function(h,g){return h<=0||1-(2*this.width*h+2*this.height*h-4*h*h)/this.area>=g&&this.shorterSide>4*h?this.padded(h):this.padded(this.shorterSide/4).relativePadded(Math.max(0,1-h/(4*this.shorterSide)))},i.prototype.relativePadded=function(h){var g=h/2;return this.relativeRect(g,g,1-h,1-h)},i.prototype.map=function(h,g){var p=(this.left-h.left)/h.width*g.width+g.left,v=g.right-(h.right-this.right)/h.width*g.width,d=g.top-(h.top-this.top)/h.height*g.height;return new i(p,(this.bottom-h.bottom)/h.height*g.height+g.bottom,v,d)},i.prototype.enclose=function(h){var g=Math.min(this.left,h.left),p=Math.max(this.top,h.top),v=Math.max(this.right,h.right),d=Math.min(this.bottom,h.bottom);this._left=g,this._right=v,this._top=p,this._bottom=d},i.prototype.intersects=function(h){return!(h.left+Number.EPSILON>=this.right)&&!(h.right<=this.left+Number.EPSILON)&&!(h.top<=this.bottom+Number.EPSILON)&&!(h.bottom+Number.EPSILON>=this.top)},i.prototype.comprises=function(h){return this.left-Number.EPSILON<=h.left+Number.EPSILON&&this.right+Number.EPSILON>=h.right-Number.EPSILON&&this.bottom-Number.EPSILON<=h.bottom+Number.EPSILON&&this.top+Number.EPSILON>=h.top-Number.EPSILON},Object.defineProperty(i.prototype,"aspectRatio",{get:function(){return this.width/this.height},enumerable:!1,configurable:!0}),i.prototype.centerAround=function(h){var g=this.center,p=[h[0]-g[0],h[1]-g[1]];this.applyOffset(p[0],p[1])},i}();t.Rect=o,function(i){(function(h){h[h.CD=0]="CD",h[h.AC=1]="AC",h[h.BA=2]="BA",h[h.DB=3]="DB",h[h.DC=4]="DC",h[h.CA=5]="CA",h[h.AB=6]="AB",h[h.BD=7]="BD"})(i.Orientation||(i.Orientation={}))}(o=t.Rect||(t.Rect={})),t.Rect=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NodeSort=void 0;var n=r(1),o=r(7),i=function(){function h(){}return h.byValue=function(g,p,v){if(!(p.length<2)){p.sort(v);for(var d=0;d<p.length-1;++d)p[d][0].nextSibling=p[d+1][0].index;p[p.length-1][0].nextSibling=o.Node.INVALID_INDEX,g.firstChild=p[0][0].index}},h.byValues=function(g,p,v,d){var c=new Array,a=g.node(p.firstChild);do c.push([a,v[a.index]]),a=g.node(a.nextSibling);while(a!==void 0);h.byValue(p,c,d)},h.byIdentifier=function(g,p,v){for(var d=new Array,c=g.node(p.firstChild);c!==void 0;)d.push([c,c.id]),c=g.node(c.nextSibling);h.byValue(p,d,v)},h.restoreOriginalSortOrder=function(g,p){p.firstChild=p.initialFirstChild;for(var v=g.node(p.initialFirstChild);v!==void 0;v=g.node(v.initialNextSibling))v.nextSibling=v.initialNextSibling},h.sortNodes=function(g,p,v,d){var c,a=d.layout.sort;if(a===void 0||a.algorithm===h.Algorithm.Keep)return g.forEachInnerNode(function(s){return h.restoreOriginalSortOrder(g,s)}),!0;switch(a.algorithm){case h.Algorithm.Ascending:c=h.ASCENDING_COMPARATOR;break;case h.Algorithm.Descending:default:c=h.DESCENDING_COMPARATOR}switch(a.key){case h.Key.Weight:var l=n.AttributeBuffer.create(g,p,d.layout.weight,d);l&&g.forEachInnerNode(function(s){return h.byValues(g,s,l,c)});break;case h.Key.Identity:g.forEachInnerNode(function(s){return h.byIdentifier(g,s,c)});break;default:v!==void 0&&g.forEachInnerNode(function(s){return h.byValues(g,s,v,c)})}return!0},h.ASCENDING_COMPARATOR=function(g,p){return g[1]-p[1]},h.DESCENDING_COMPARATOR=function(g,p){return p[1]-g[1]},h}();t.NodeSort=i,function(h){(function(g){g.Keep="keep",g.Ascending="ascending",g.Descending="descending"})(h.Algorithm||(h.Algorithm={})),function(g){g.Identity="identity",g.Weight="weight"}(h.Key||(h.Key={}))}(i=t.NodeSort||(t.NodeSort={})),t.NodeSort=i},function(e,t,r){var n,o=this&&this.__extends||(n=function(d,c){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(a[s]=l[s])})(d,c)},function(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function a(){this.constructor=d}n(d,c),d.prototype=c===null?Object.create(c):(a.prototype=c.prototype,new a)}),i=this&&this.__decorate||function(d,c,a,l){var s,u=arguments.length,f=u<3?c:l===null?l=Object.getOwnPropertyDescriptor(c,a):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(d,c,a,l);else for(var m=d.length-1;m>=0;m--)(s=d[m])&&(f=(u<3?s(f):u>3?s(c,a,f):s(c,a))||f);return u>3&&f&&Object.defineProperty(c,a,f),f};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiRenderTarget=void 0;var h=r(0),g=r(0),p=h.auxiliaries.assert,v=function(d){function c(a){var l=d.call(this)||this;return l._debuggableTargets=new Array,l._debuggableTargetNames=new Array,l._context=a,l}return o(c,d),c.prototype.initializeES2_basic=function(a,l){var s=this._context.gl,u=this._context.gl2facade;this._drawRestricted=!0,this._colorRenderTexture.initialize(a,l,s.RGBA,s.RGBA,s.UNSIGNED_BYTE),this._idRenderTexture.initialize(a,l,s.RGBA,s.RGBA,s.UNSIGNED_BYTE),this._depthStencilRenderTexture.initialize(a,l,s.RGB,s.RGB,s.UNSIGNED_BYTE),this._depthStencilRenderbuffer.initialize(a,l,s.DEPTH_STENCIL),this._depthFBO=new g.Framebuffer(this._context,"DepthFBO"),this._idFBO=new g.Framebuffer(this._context,"IdFBO"),this._primaryFBO.initialize([[u.COLOR_ATTACHMENT0,this._colorRenderTexture],[s.DEPTH_STENCIL_ATTACHMENT,this._depthStencilRenderbuffer]]),this._secondaryFBO.initialize([[u.COLOR_ATTACHMENT0,this._colorRenderTexture],[s.DEPTH_STENCIL_ATTACHMENT,this._depthStencilRenderbuffer]]),this._idFBO.initialize([[u.COLOR_ATTACHMENT0,this._idRenderTexture],[s.DEPTH_STENCIL_ATTACHMENT,this._depthStencilRenderbuffer]]),this._idFBO.clearColor([1,1,1,1],0),this._depthFBO.initialize([[u.COLOR_ATTACHMENT0,this._depthStencilRenderTexture],[s.DEPTH_STENCIL_ATTACHMENT,this._depthStencilRenderbuffer]]),this._depthFBO.clearColor([1,1,1,1],0)},c.prototype.initializeES2_extensions=function(a,l){var s=this._context.gl,u=this._context.gl2facade;this._drawRestricted=!1,this._context.isWebGL1&&(p(this._context.supportsDrawBuffers,"expected WEBGL_draw_buffers to be supported"),p(this._context.supportsDepthTexture,"expected WEBGL_depth_texture to be supported")),this._colorRenderTexture.initialize(a,l,s.RGBA,s.RGBA,s.UNSIGNED_BYTE),this._idRenderTexture.initialize(a,l,s.RGBA,s.RGBA,s.UNSIGNED_BYTE),this._depthStencilRenderTexture.initialize(a,l,s.DEPTH_STENCIL,s.DEPTH_STENCIL,this._context.depthTexture.UNSIGNED_INT_24_8_WEBGL),this._depthStencilRenderbuffer.initialize(a,l,s.DEPTH_STENCIL),this._primaryFBO.initialize([[u.COLOR_ATTACHMENT0,this._colorRenderTexture],[u.COLOR_ATTACHMENT1,this._idRenderTexture],[s.DEPTH_STENCIL_ATTACHMENT,this._depthStencilRenderTexture]]),this._primaryFBO.clearColor([1,1,1,1],1),this._secondaryFBO.initialize([[u.COLOR_ATTACHMENT0,this._colorRenderTexture],[s.DEPTH_STENCIL_ATTACHMENT,this._depthStencilRenderbuffer]]),this._idFBO=new g.Framebuffer(this._context,"IdFBO"),this._idFBO.initialize([[u.COLOR_ATTACHMENT0,this._idRenderTexture]])},c.prototype.initializeES3=function(a,l){var s=this._context.gl,u=this._context.gl2facade;this._drawRestricted=!1,p(this._context.isWebGL2,"expected a webgl2 context"),this._colorRenderTexture.initialize(a,l,s.RGBA8,s.RGBA,s.UNSIGNED_BYTE),this._idRenderTexture.initialize(a,l,s.RGBA8,s.RGBA,s.UNSIGNED_BYTE),this._depthStencilRenderTexture.initialize(a,l,s.DEPTH24_STENCIL8,s.DEPTH_STENCIL,s.UNSIGNED_INT_24_8),this._depthStencilRenderbuffer.initialize(a,l,s.DEPTH_STENCIL),this._primaryFBO.initialize([[u.COLOR_ATTACHMENT0,this._colorRenderTexture],[u.COLOR_ATTACHMENT1,this._idRenderTexture],[s.DEPTH_STENCIL_ATTACHMENT,this._depthStencilRenderTexture]]),this._primaryFBO.clearColor([1,1,1,1],1),this._secondaryFBO.initialize([[u.COLOR_ATTACHMENT0,this._colorRenderTexture],[s.DEPTH_STENCIL_ATTACHMENT,this._depthStencilRenderbuffer]])},c.prototype.initialize=function(){var a=this._context.gl,l=this._context.gl2facade;this._defaultFBO=new g.DefaultFramebuffer(this._context,"DefaultFBO"),this._defaultFBO.initialize(),this._colorRenderTexture=new g.Texture2D(this._context,"ColorRenderTexture"),this._idRenderTexture=new g.Texture2D(this._context,"IdRenderTexture"),this._depthStencilRenderTexture=new g.Texture2D(this._context,"DepthStencilRenderTexture"),this._depthStencilRenderbuffer=new g.Renderbuffer(this._context,"DepthStencilRenderbuffer"),this._primaryFBO=new g.Framebuffer(this._context,"PrimaryFBO"),this._secondaryFBO=new g.Framebuffer(this._context,"SecondaryFBO");var s=this._defaultFBO.width,u=this._defaultFBO.height;return this._context.isWebGL2?this.initializeES3(s,u):this._context.supportsDepthTexture&&this._context.supportsDrawBuffers&&this._context.gl.getParameter(this._context.drawBuffers.MAX_DRAW_BUFFERS_WEBGL)>=2?this.initializeES2_extensions(s,u):this.initializeES2_basic(s,u),this._primaryFBO.clearColor([0,0,0,1],0),this._secondaryFBO.clearColor([0,0,0,1],0),this._primaryFBO.clearDepth(g.ReadbackPass.maxClearDepth()),this._primaryFBO.clearStencil(0),this._secondaryFBO.clearDepth(g.ReadbackPass.maxClearDepth()),this._secondaryFBO.clearStencil(0),this._debuggableTargets.push([this._primaryFBO,l.COLOR_ATTACHMENT0]),this._debuggableTargetNames.push("Color"),this._idFBO?this._debuggableTargets.push([this._idFBO,l.COLOR_ATTACHMENT0]):this._debuggableTargets.push([this._primaryFBO,l.COLOR_ATTACHMENT1]),this._debuggableTargetNames.push("Id"),this._depthFBO?this._debuggableTargets.push([this._depthFBO,l.COLOR_ATTACHMENT0]):this._debuggableTargets.push([this._primaryFBO,a.DEPTH_STENCIL_ATTACHMENT]),this._debuggableTargetNames.push("DepthStencil"),p(this._primaryFBO.valid,this._primaryFBO.identifier+" expected to be valid for rendering"),p(this._secondaryFBO.valid,this._secondaryFBO.identifier+" expected to be valid for rendering"),p(this._idFBO===void 0||this._idFBO.valid,(this._idFBO?this._idFBO.identifier:"")+" expected to be valid for rendering"),p(this._depthFBO===void 0||this._depthFBO.valid,(this._depthFBO?this._depthFBO.identifier:"")+" expected to be valid for rendering"),!0},c.prototype.uninitialize=function(){this._defaultFBO.uninitialize(),this._primaryFBO.uninitialize(),this._idFBO&&this._idFBO.uninitialize(),this._depthFBO&&this._depthFBO.uninitialize(),this._depthStencilRenderbuffer&&this._depthStencilRenderbuffer.uninitialize(),this._colorRenderTexture.uninitialize(),this._idRenderTexture.uninitialize(),this._depthStencilRenderTexture.uninitialize()},c.prototype.debuggableTargets=function(){return this._debuggableTargetNames},c.prototype.debuggableTarget=function(a){if(!(a===void 0||a>=this._debuggableTargets.length||a<0))return this._debuggableTargets[a]},c.prototype.setClearColor=function(a){this._primaryFBO.clearColor(a,0),this._secondaryFBO.clearColor(a,0)},c.prototype.resize=function(a,l){this._primaryFBO.resize(a,l),this._secondaryFBO.resize(a,l),this._idFBO&&this._idFBO.resize(a,l),this._depthFBO&&this._depthFBO.resize(a,l)},Object.defineProperty(c.prototype,"drawRestricted",{get:function(){return this._drawRestricted},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"primaryFBO",{get:function(){return this._primaryFBO},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"secondaryFBO",{get:function(){return this._secondaryFBO},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"defaultFBO",{get:function(){return this._defaultFBO},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"depthFBO",{get:function(){return this._drawRestricted?this._depthFBO:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"idFBO",{get:function(){return this._drawRestricted?this._idFBO:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"readBackIdFBO",{get:function(){return this._idFBO},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"colorRenderTexture",{get:function(){return this._colorRenderTexture},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"idRenderTexture",{get:function(){return this._idRenderTexture},enumerable:!1,configurable:!0}),i([g.Initializable.initialize()],c.prototype,"initialize",null),i([g.Initializable.uninitialize()],c.prototype,"uninitialize",null),c}(g.Initializable);t.MultiRenderTarget=v,function(d){(function(c){c[c.Undefined=-1]="Undefined",c[c.Color=0]="Color",c[c.Id=1]="Id",c[c.Depth=2]="Depth"})(d.Attachment||(d.Attachment={}))}(v=t.MultiRenderTarget||(t.MultiRenderTarget={})),t.MultiRenderTarget=v},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Node=void 0;var n=function(){function o(i,h,g){this._lastChild=o.INVALID_INDEX,this.index=o.INVALID_INDEX,this.id=o.INVALID_ID,this.unmodified=!1,this.depth=o.INVALID_DEPTH,this.height=o.INVALID_HEIGHT,this.parent=o.INVALID_INDEX,this.firstChild=o.INVALID_INDEX,this.initialFirstChild=o.INVALID_INDEX,this.nextSibling=o.INVALID_INDEX,this.initialNextSibling=o.INVALID_INDEX,this.id=i,this.index=h,g!==void 0?(this.depth=g.depth+1,this.parent=g.index,g.initialFirstChild===o.INVALID_INDEX&&(g.initialFirstChild=h,g.firstChild=h),g._lastChild=h):this.depth=0}return Object.defineProperty(o.prototype,"lastChild",{get:function(){return this._lastChild},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isLeaf",{get:function(){return this.firstChild===o.INVALID_INDEX},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isRoot",{get:function(){return this.parent===o.INVALID_INDEX},enumerable:!1,configurable:!0}),o.INVALID_ID=-1,o.INVALID_INDEX=-1,o.INVALID_DEPTH=-1,o.INVALID_HEIGHT=-1,o}();t.Node=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationAids=void 0;var n=r(0);(function(o){var i,h;o.heightScale=function(g,p){switch(p===void 0&&(p=i.SomethingInverseSqrt),p){default:case i.SomethingInverseSqrt:return n.gl_matrix_extensions.clamp(100/Math.sqrt(g.numberOfNodes)+.0125,.0625,.3333)}},function(g){g.SomethingInverseSqrt="SomethingInverseSqrt"}(i=o.HeightScaleApproach||(o.HeightScaleApproach={})),o.parentMargin=function(g,p){switch(p===void 0&&(p=h.SomethingLog10),p){default:case h.SomethingLog10:return .04+.12*(1-Math.log10(g.numberOfNodes+1)/6)}},o.siblingMargin=function(g,p){switch(p===void 0&&(p=h.SomethingLog10),p){default:case h.SomethingLog10:return .01+.12*(1-Math.log10(g.numberOfNodes+1)/6)}},function(g){g.SomethingLog10="SomethingLog10"}(h=o.MarginApproach||(o.MarginApproach={}))})(t.ConfigurationAids||(t.ConfigurationAids={}))},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Layout=t.LayoutOperation=void 0;var n=r(0),o=n.auxiliaries.assert,i=r(4),h=r(78),g=r(79),p=r(81);(function(d){d[d.ParentPadding=0]="ParentPadding",d[d.SiblingMargin=1]="SiblingMargin",d[d.AccessorPadding=2]="AccessorPadding"})(t.LayoutOperation||(t.LayoutOperation={}));var v=function(){function d(){}return d.createLayout=function(c,a,l,s,u,f,m){var y=new Array(c.numberOfNodes);if(o(a!==void 0,"Valid weights expected"),a===void 0)return y;var b=a[0];if(n.auxiliaries.assertions()&&c.numberOfNodes>1){var E=0;c.forEachLeafNode(function(S){E+=a[S.index]}),o(b!==void 0&&(E===0||b>0),"Accumulated leaf weights as root weight expected")}var x=l.aspectRatio,w=!!l.flattenDirectories;switch(l.algorithm){case d.LayoutAlgorithm.Strip:p.StripLayout.compute(c,a,x,y,d.splittingLayoutPostprocessing(l),s,u,f,m,w);break;case d.LayoutAlgorithm.Snake:g.SnakeLayout.compute(c,a,x,y,d.splittingLayoutPostprocessing(l),s,u,f,m,w);break;case d.LayoutAlgorithm.CodeCity:h.CodeCityLayout.compute(c,a,x,y,d.packingLayoutPostprocessing(l),s,u,f)}return y},d.splittingLayoutPostprocessing=function(c){var a={parentPaddingCallback:d.emptyParentCallback,siblingMarginBeforeCallback:d.emptyParentCallback,siblingMarginAfterCallback:d.emptySiblingCallback,accessoryPaddingCallback:d.emptyAccessoryParentCallback},l=[0],s=0;if(c.siblingMargin!==void 0&&(s=c.siblingMargin.value)>=0)switch(c.siblingMargin.type){case d.SiblingMarginType.Absolute:a.siblingMarginAfterCallback=function(E,x,w,S){if(S.isRoot)return E;var P=s;return E.map(x,w).paddedWithMinArea(.5*P,0)};break;case d.SiblingMarginType.Relative:a.siblingMarginAfterCallback=function(E,x,w,S){if(S.isRoot)return E;var P=E.equalizedRelativeMargin(s);return E.map(x,w).paddedWithMinArea(.5*P,0)}}if(c.parentPadding!==void 0&&(l=c.parentPadding.value instanceof Array?c.parentPadding.value:[c.parentPadding.value])[0]>=0)switch(c.parentPadding.type){case d.ParentPaddingType.Mixed:a.parentPaddingCallback=function(E,x,w,S,P,A){var L,k;if(l.length-1>x.depth){var D=l[x.depth];L=E.equalizedMargin(D,.5,.9),k=E.padded(L),P!==void 0&&A!==void 0&&(P[x.index]=k,A[x.index]=L)}else L=E.equalizedRelativeMargin(l[l.length-1]),k=E.padded(L);return k},a.siblingMarginBeforeCallback=function(E,x,w,S){var P;return P=l.length>x.depth?s:E.equalizedRelativeMargin(s),E.padded(.5*-P)};break;case d.ParentPaddingType.Absolute:a.parentPaddingCallback=function(E,x,w,S){var P=E.equalizedMargin(l[0],.5,.6);return E.padded(P)},a.siblingMarginBeforeCallback=function(E,x,w,S){var P=s;return E.padded(.5*-P)};break;case d.ParentPaddingType.Relative:a.parentPaddingCallback=function(E,x,w,S){var P=E.equalizedRelativeMargin(l[0]);return E.padded(P)},a.siblingMarginBeforeCallback=function(E,x,w,S){var P=E.equalizedRelativeMargin(s);return E.padded(.5*-P)}}if(c.accessoryPadding!==void 0){var u=c.accessoryPadding.type,f=c.accessoryPadding.value,m=c.accessoryPadding.direction,y=c.accessoryPadding.relativeAreaThreshold!==void 0?c.accessoryPadding.relativeAreaThreshold:0,b=c.accessoryPadding.targetAspectRatio!==void 0?c.accessoryPadding.targetAspectRatio:Number.NaN;if(f!==void 0)switch(u){case d.AccessoryPaddingType.Absolute:switch(m){case d.AccessoryPaddingDirection.Bottom:a.accessoryPaddingCallback=function(E,x,w,S,P){var A,L;if((A=f instanceof Array?f.length>x.depth?f[x.depth]:0:f)>E.height)return P[x.index]=new i.Rect(0,0,0,0),E;L=y instanceof Array?y.length>x.depth?y[x.depth]:1:y;var k=E.truncateBottom(E.bottom+A),D=E.truncateTop(k.bottom);return k.area/E.area<=L||D.aspectRatio<b?(P[x.index]=new i.Rect(0,0,0,0),E):(P[x.index]=D,k)};break;case d.AccessoryPaddingDirection.Top:a.accessoryPaddingCallback=function(E,x,w,S,P){var A,L;if((A=f instanceof Array?f.length>x.depth?f[x.depth]:0:f)>E.height)return P[x.index]=new i.Rect(0,0,0,0),E;L=y instanceof Array?y.length>x.depth?y[x.depth]:1:y;var k=E.truncateTop(E.top-A),D=E.truncateBottom(k.top);return k.area/E.area<=L||D.aspectRatio<b?(P[x.index]=new i.Rect(0,0,0,0),E):(P[x.index]=D,k)};break;case d.AccessoryPaddingDirection.Left:a.accessoryPaddingCallback=function(E,x,w,S,P){var A,L;if((A=f instanceof Array?f.length>x.depth?f[x.depth]:0:f)>E.width)return P[x.index]=new i.Rect(0,0,0,0),E;L=y instanceof Array?y.length>x.depth?y[x.depth]:1:y;var k=E.truncateLeft(E.left+A),D=E.truncateRight(k.left);return k.area/E.area<=L||D.aspectRatio<b?(P[x.index]=new i.Rect(0,0,0,0),E):(P[x.index]=D,k)};break;case d.AccessoryPaddingDirection.Right:a.accessoryPaddingCallback=function(E,x,w,S,P){var A,L;if((A=f instanceof Array?f.length>x.depth?f[x.depth]:0:f)>E.width)return P[x.index]=new i.Rect(0,0,0,0),E;L=y instanceof Array?y.length>x.depth?y[x.depth]:1:y;var k=E.truncateRight(E.right+A),D=E.truncateLeft(k.right);return k.area/E.area<=L||D.aspectRatio<b?(P[x.index]=new i.Rect(0,0,0,0),E):(P[x.index]=D,k)}}break;case d.AccessoryPaddingType.Relative:switch(m){case d.AccessoryPaddingDirection.Bottom:a.accessoryPaddingCallback=function(E,x,w,S,P){var A,L;A=f instanceof Array?f.length>x.depth?f[x.depth]:0:f,L=y instanceof Array?y.length>x.depth?y[x.depth]:1:y;var k=E.relativeTop(1-A);return k.area/E.area>L?k:E};break;case d.AccessoryPaddingDirection.Top:a.accessoryPaddingCallback=function(E,x,w,S,P){var A,L;A=f instanceof Array?f.length>x.depth?f[x.depth]:0:f,L=y instanceof Array?y.length>x.depth?y[x.depth]:1:y;var k=E.relativeBottom(1-A);return k.area/E.area>L?k:E};break;case d.AccessoryPaddingDirection.Left:a.accessoryPaddingCallback=function(E,x,w,S,P){var A,L;A=f instanceof Array?f.length>x.depth?f[x.depth]:0:f,L=y instanceof Array?y.length>x.depth?y[x.depth]:1:y;var k=E.relativeRight(1-A);return k.area/E.area>L?k:E};break;case d.AccessoryPaddingDirection.Right:a.accessoryPaddingCallback=function(E,x,w,S,P){var A,L;A=f instanceof Array?f.length>x.depth?f[x.depth]:0:f,L=y instanceof Array?y.length>x.depth?y[x.depth]:1:y;var k=E.relativeLeft(1-A);return k.area/E.area>L?k:E}}}}return a},d.packingLayoutPostprocessing=function(c){return{parentPaddingCallback:d.emptyParentCallback,siblingMarginBeforeCallback:d.emptyParentCallback,siblingMarginAfterCallback:d.emptySiblingCallback,accessoryPaddingCallback:d.emptyAccessoryParentCallback}},d.emptyParentCallback=function(c,a,l,s){return c},d.emptyAccessoryParentCallback=function(c,a,l,s,u){return c},d.emptySiblingCallback=function(c,a,l,s){return c},d}();t.Layout=v,function(d){(function(c){c.Strip="strip",c.Snake="snake",c.CodeCity="codecity"})(d.LayoutAlgorithm||(d.LayoutAlgorithm={})),function(c){c.Relative="relative",c.Absolute="absolute"}(d.SiblingMarginType||(d.SiblingMarginType={})),function(c){c.Relative="relative",c.Absolute="absolute",c.Mixed="mixed"}(d.ParentPaddingType||(d.ParentPaddingType={})),function(c){c.Relative="relative",c.Absolute="absolute"}(d.AccessoryPaddingType||(d.AccessoryPaddingType={})),function(c){c.Top="top",c.Bottom="bottom",c.Left="left",c.Right="right"}(d.AccessoryPaddingDirection||(d.AccessoryPaddingDirection={}))}(v=t.Layout||(t.Layout={})),t.Layout=v},function(e,t,r){var n,o=this&&this.__extends||(n=function(y,b){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,x){E.__proto__=x}||function(E,x){for(var w in x)Object.prototype.hasOwnProperty.call(x,w)&&(E[w]=x[w])})(y,b)},function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function E(){this.constructor=y}n(y,b),y.prototype=b===null?Object.create(b):(E.prototype=b.prototype,new E)});Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationRenderer=void 0;var i=r(0),h=r(0),g=r(36),p=r(16),v=r(40),d=r(6),c=r(11),a=r(17),l=r(18),s=r(20),u=r(56),f=i.auxiliaries.assert,m=function(y){function b(E){var x=y.call(this)||this;return x._ndcOffsetScale=1,x._timer=new u.Timer,x._skipInnerNodePasses=!1,x._skipLeafNodePasses=!1,x._skipLabelPass=!1,x._skipInnerLabelPass=!1,x._skipLeafLabelPass=!1,x._skipAggregation=!1,x._enableFxaa=!0,x.coordsAt=function(w,S,P,A){return x._readbackPass.coordsAt(w,S,P,A===void 0?x._camera.viewProjectionInverse:A)},x.idAt=function(w,S){if(x._geometry.initialized){var P=x._readbackPass.idAt(w,S);if(P!==void 0&&P!==0){var A=x._geometry.topology.node(P);return A===void 0?void 0:A.id}}},x._visualization=E,x}return o(b,y),Object.defineProperty(b.prototype,"geometry",{get:function(){return this._geometry},set:function(E){this._geometry=E},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"animations",{get:function(){return this._animations},set:function(E){this._animations=E},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"timer",{get:function(){return this._timer},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"navigation",{get:function(){return this._navigation},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"camera",{get:function(){return this._camera},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"ndcOffsetScale",{get:function(){return this._ndcOffsetScale},set:function(E){this._ndcOffsetScale!==E&&(this._ndcOffsetScale=E,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"enableFxaa",{get:function(){return this._enableFxaa},set:function(E){this._enableFxaa=E},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"framebuffer",{get:function(){return this._accumulationPass.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onSwapCallback",{set:function(E){this._onSwapCallback=E},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"blitTargets",{get:function(){return this._multiRenderTarget.debuggableTargets()},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"blitTarget",{set:function(E){this._blitTarget!==E&&(this._blitTarget=E,this._blitTarget===2&&(this._debugPass.debug=h.DebugPass.Mode.DepthLinear),this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"skipInnerNodePasses",{get:function(){return this._skipInnerNodePasses},set:function(E){this._skipInnerNodePasses!==E&&(this._skipInnerNodePasses=E,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"skipLeafNodePasses",{get:function(){return this._skipLeafNodePasses},set:function(E){this._skipLeafNodePasses!==E&&(this._skipLeafNodePasses=E,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"skipLabelPass",{get:function(){return this._skipLabelPass},set:function(E){this._skipLabelPass!==E&&(this._skipLabelPass=E,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"skipInnerLabelPass",{get:function(){return this._skipInnerLabelPass},set:function(E){this._skipInnerLabelPass!==E&&(this._skipInnerLabelPass=E,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"skipLeafLabelPass",{get:function(){return this._skipLeafLabelPass},set:function(E){this._skipLeafLabelPass!==E&&(this._skipLeafLabelPass=E,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"skipAggregation",{get:function(){return this._skipAggregation},set:function(E){this._skipAggregation!==E&&(this._skipAggregation=E,this._geometry.altered.alter("innerNodeDrawDispatch"),this._geometry.altered.alter("leafNodeDrawDispatch"),this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"colorMode",{set:function(E){this._leafPass0.colorMode=E,this._leafPass1.colorMode=E},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"patternMode",{set:function(E){this._leafPass0.patternMode=E,this._leafPass1.patternMode=E},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"progressMode",{set:function(E){this._leafPass0.progressMode=E,this._leafPass0.progressMode=E},enumerable:!1,configurable:!0}),b.verifyMinimumContextRequirements=function(E){return E.enable(["ANGLE_instanced_arrays","OES_standard_derivatives"]),!0},b.prototype.renderInnerNodes=function(E,x,w){!this._skipInnerNodePasses&&this._geometry.valid&&(this._innerPass.target=E,this._innerPass.attachment=x,this._innerPass.depthMask=w,this._innerPass.frame())},b.prototype.renderLeafNodes=function(E,x,w){!this._skipLeafNodePasses&&this._geometry.valid&&(this._geometry.leafNodeHeights.length>=2&&(this._leafPass1.target=E,this._leafPass1.attachment=x,this._leafPass1.depthMask=w,this._leafPass1.frame()),this._leafPass0.target=E,this._leafPass0.attachment=x,this._leafPass0.depthMask=w,this._leafPass0.frame())},b.prototype.renderLeafLabelBackgrounds=function(E,x){this._skipLeafLabelPass||this._skipLabelPass||(this._labelBackgroundPass.target=E,this._labelBackgroundPass.depthMask=x,this._labelBackgroundPass.frame())},b.prototype.renderPoints=function(E,x){this._skipLeafLabelPass||this._skipLabelPass||(this._pointPass.target=E,this._pointPass.depthMask=x,this._pointPass.frame())},b.prototype.renderInnerLabels=function(E,x,w){if(!this._skipInnerLabelPass&&!this._skipLabelPass&&this._geometry.valid){this._innerLabelPass.target=E,this._innerLabelPass.depthMask=w;var S=this._context.gl;S.enable(S.STENCIL_TEST),S.enable(S.DEPTH_TEST),S.stencilFunc(S.EQUAL,1,255),S.stencilOp(S.KEEP,S.KEEP,S.KEEP),this._innerLabelPass.frame(),S.disable(S.STENCIL_TEST)}},b.prototype.renderLeafLabels=function(E,x,w){this._skipLeafLabelPass||this._skipLabelPass||!this._geometry.valid||(this._leafLabelPass.target=E,this._leafLabelPass.depthMask=w,this._leafLabelPass.frame())},b.prototype.initializeMultiRenderTarget=function(E){this.assertUninitialized(),this._multiRenderTarget=new d.MultiRenderTarget(E),this._multiRenderTarget.initialize(),this._multiRenderTarget.primaryFBO.clearStencil(0),this._multiRenderTarget.secondaryFBO.clearStencil(0)},b.prototype.initializeLeafPasses=function(E){this._leafPass0=new g.AnimatedCuboidRenderPass(E,0),this._leafPass0.initialize(),this._leafPass0.camera=this._camera,this._leafPass1=new g.AnimatedCuboidRenderPass(E,1),this._leafPass1.initialize(),this._leafPass1.camera=this._camera},b.prototype.initializeInnerPass=function(E){this.assertUninitialized(),this._innerPass=new l.QuadRenderPass(E),this._innerPass.initialize(),this._innerPass.camera=this._camera},b.prototype.initializePointPass=function(E){this._pointPass=new a.PointRenderPass(E),this._pointPass.initialize(),this._pointPass.camera=this.camera,this._pointPass.pointSize=3.5},b.prototype.initializeLeafLabelBackgroundPass=function(E){this._labelBackgroundPass=new s.ScreenAlignedQuadRenderPass(E),this._labelBackgroundPass.initialize(),this._labelBackgroundPass.camera=this.camera},b.prototype.initializeLabelPasses=function(E){var x=this;this.assertUninitialized(),this._innerLabelPass=new h.LabelRenderPass(E),this._innerLabelPass.initialize(),this._innerLabelPass.camera=this.camera,this._innerLabelPass.target=this._multiRenderTarget.defaultFBO,this._innerLabelPass.depthFunc=E.gl.ALWAYS,this._innerLabelPass.aaStepScale=.3,this._innerLabelPass.aaSampling=h.LabelRenderPass.Sampling.Grid3x3,this._leafLabelPass=new h.LabelRenderPass(E),this._leafLabelPass.initialize(),this._leafLabelPass.camera=this.camera,this._leafLabelPass.target=this._multiRenderTarget.defaultFBO,this._leafLabelPass.aaStepScale=.3,this._leafLabelPass.aaSampling=h.LabelRenderPass.Sampling.Grid3x3,this._leafLabelPass.depthFunc=E.gl.ALWAYS;var w=window.SeereneConstants?window.SeereneConstants.STATIC_DIRECTORY:"assets";h.FontFace.fromFile(w+"/roboto.fnt",E).then(function(S){for(var P=0,A=x._innerLabelPass.labels;P<A.length;P++)A[P].fontFace=S;for(var L=0,k=x._leafLabelPass.labels;L<k.length;L++)k[L].fontFace=S;x._fontFace=S,x._innerLabelPass.update(!0),x._leafLabelPass.update(!0),x._visualization.configuration&&(x._visualization.configuration.altered.alter("geometry"),x._visualization.configuration.altered.alter("labels")),x.invalidate()}).catch(function(S){return i.auxiliaries.log(i.auxiliaries.LogLevel.Error,S)})},b.prototype.initializeAccumulationPass=function(E){this.assertUninitialized(),f(this._multiRenderTarget.initialized,"expected multi-render target to be initialized"),f(this._ndcTriangle!==void 0,"expected NDC triangle to be defined"),this._accumulationPass=new h.AccumulatePass(E),this._accumulationPass.initialize(this._ndcTriangle),this._accumulationPass.precision=this._framePrecision,this._accumulationPass.texture=this._multiRenderTarget.colorRenderTexture},b.prototype.initializeBlitPass=function(E){this.assertUninitialized(),f(this._multiRenderTarget.initialized,"expected multi-render target to be initialized"),f(this._ndcTriangle!==void 0,"expected NDC triangle to be defined");var x=this._context.gl,w=this._context.gl2facade;this._blitPass=new h.BlitPass(E),this._blitPass.initialize(this._ndcTriangle),this._blitPass.readBuffer=w.COLOR_ATTACHMENT0,this._blitPass.drawBuffer=x.BACK,this._blitPass.target=this._multiRenderTarget.defaultFBO,this._debugPass=new h.DebugPass(E),this._debugPass.initialize(this._ndcTriangle),this._debugPass.readBuffer=w.COLOR_ATTACHMENT0,this._debugPass.drawBuffer=x.BACK,this._debugPass.target=this._multiRenderTarget.defaultFBO},b.prototype.initializeFXAAPass=function(E){this.assertUninitialized(),f(this._multiRenderTarget.initialized,"expected multi-render target to be initialized"),f(this._ndcTriangle!==void 0,"expected NDC triangle to be defined");var x=this._context.gl2facade;this._fxaaPass=new v.FXAAPass(E),this._fxaaPass.initialize(this._ndcTriangle),this._fxaaPass.framebuffer=this._accumulationPass.framebuffer,this._fxaaPass.readBuffer=x.COLOR_ATTACHMENT0,this._fxaaPass.target=this._multiRenderTarget.defaultFBO},b.prototype.initializeReadbackPass=function(E){this.assertUninitialized(),f(this._multiRenderTarget.initialized,"expected multi-render target to be initialized"),f(this._ndcTriangle!==void 0,"expected NDC triangle to be defined"),this._readbackPass=new h.ReadbackPass(E),this._readbackPass.initialize(this._ndcTriangle,this._multiRenderTarget.depthFBO!==void 0),this._readbackPass.cache=!0;var x=this._context.gl,w=this._context.gl2facade;this._multiRenderTarget.depthFBO?(this._readbackPass.depthFBO=this._multiRenderTarget.depthFBO,this._readbackPass.depthAttachment=w.COLOR_ATTACHMENT0):(this._readbackPass.depthFBO=this._multiRenderTarget.primaryFBO,this._readbackPass.depthAttachment=x.DEPTH_STENCIL_ATTACHMENT),this._multiRenderTarget.readBackIdFBO?(this._readbackPass.idFBO=this._multiRenderTarget.readBackIdFBO,this._readbackPass.idAttachment=w.COLOR_ATTACHMENT0):(this._readbackPass.idFBO=this._multiRenderTarget.primaryFBO,this._readbackPass.idAttachment=w.COLOR_ATTACHMENT1)},b.prototype.initializeCamera=function(){this.assertUninitialized(),this._camera=new h.Camera,this._camera.near=b.CAMERA_NEAR_DEFAULT,this._camera.far=b.CAMERA_FAR_DEFAULT,this._camera.eye=i.vec3.fromValues(0,1.5,2.2),this._camera.center=i.vec3.fromValues(0,0,.2),this._camera.up=i.vec3.fromValues(0,1,0),this._camera.fovy=2*h.Camera.calculateFovY(20,60)*i.auxiliaries.RAD2DEG},b.prototype.initializeNavigation=function(E,x){this.assertUninitialized(),this._navigation=new c.Navigation(E,x),this._navigation.camera=this._camera,this._navigation.idAccess=this,this._navigation.coordsAccess=this},b.prototype.onInitialize=function(E,x,w){var S=this;if(!b.verifyMinimumContextRequirements(E))return!1;this._ndcOffsetKernel=new h.AntiAliasingKernel(this._multiFrameNumber),this._ndcOffsetKernel.sort(h.AbstractKernel.SortApproach.BySquaredLength),this._ndcTriangle=new h.NdcFillingTriangle(E,"NdcTriangle"),this._ndcTriangle.initialize(0),this.initializeMultiRenderTarget(E),this.initializeAccumulationPass(E),this.initializeBlitPass(E),this.initializeFXAAPass(E),this.initializeReadbackPass(E),this.initializeCamera(),this.initializeNavigation(x,w),this.initializeInnerPass(E),this.initializeLeafPasses(E),this.initializePointPass(E),this.initializeLeafLabelBackgroundPass(E),this.initializeLabelPasses(E),this._bufferIds=[{},{}];for(var P=0;P<2;P++)this._bufferIds[P]={areaData:[-1,-1],areaDelay:-1,areaDuration:-1,heightData:[-1,-1],heightDelay:-1,heightDuration:-1,colorData:[-1,-1],colorDelay:-1,colorDuration:-1};return this._eventHandler=new i.EventHandler(x,w),this._eventHandler.pushMouseMoveHandler(function(A,L){var k=A[A.length-1],D=S._eventHandler.offsets(k,!0)[0];S._leafPass0.mousePosition=D,S._leafPass1.mousePosition=D}),!0},b.prototype.onUninitialize=function(){this._ndcTriangle.uninitialize(),this._multiRenderTarget.uninitialize(),this._accumulationPass.uninitialize(),this._blitPass.uninitialize(),this._debugPass.uninitialize(),this._readbackPass.uninitialize(),this._innerPass.uninitialize(),this._pointPass.uninitialize(),this._innerLabelPass.uninitialize(),this._leafLabelPass.uninitialize(),this._labelBackgroundPass.uninitialize()},b.prototype.onUpdate=function(){var E=this;this._navigation.update(),this._eventHandler.update();var x=this._visualization.update();this._timer.update();var w=this._animations.some(function(N){return!N.isFinished(E.timer.totalTime)});w=(w=w||this._leafPass0.progressMode===p.ProgressMode.SCREENSPACE)||this._leafPass1.progressMode===p.ProgressMode.SCREENSPACE;for(var S=!1,P=0,A=this._innerLabelPass.labels;P<A.length;P++)if((D=A[P]).altered||D.color.altered){S=!0;break}for(var L=0,k=this._leafLabelPass.labels;L<k.length;L++){var D;if((D=k[L]).altered||D.color.altered){S=!0;break}}return x||S||w||this._altered.any||this._camera.altered},b.prototype.onPrepare=function(){this._geometry.valid&&this.updateGeometryFromAnimation(),this._geometry.altered.any&&this._geometry.valid&&(this._innerPass.ids=this._geometry.innerNodeIndices,this._innerPass.layout=this._geometry.innerNodeLayouts,this._innerPass.colors=this._geometry.innerNodeColors,this._innerPass.emphases=this._geometry.innerNodeEmphases,this._innerPass.colorTable=this._geometry.colorTable,this._leafPass0.ids=this._geometry.leafNodeIndices,this._leafPass0.layoutData=this._geometry.leafNodeLayouts,this._leafPass0.colorTable=this._geometry.colorTable,this._leafPass0.nodeCount=this._geometry.leafNodeCount,this._leafPass1.ids=this._geometry.leafNodeIndices,this._leafPass1.layoutData=this._geometry.leafNodeLayouts,this._leafPass1.colorTable=this._geometry.colorTable,this._leafPass1.nodeCount=this._geometry.leafNodeCount),this._animations[0].altered.areaEasing&&(this._leafPass0.areaEasing=this._animations[0].areaEasing),this._animations[0].altered.heightEasing&&(this._leafPass0.heightEasing=this._animations[0].heightEasing),this._animations[1].altered.colorEasing&&(this._leafPass1.colorEasing=this._animations[1].colorEasing),this._geometry.altered.colorTableLength&&(this._leafPass0.colorTableLengthAltered(),this._leafPass1.colorTableLengthAltered());var E=this._geometry.altered;this._geometry.valid&&E.any&&(E.innerNodeEmphases&&(this._innerPass.emphases=this._geometry.innerNodeEmphases),E.innerNodeDrawDispatch&&!this._skipAggregation&&(this._innerPass.dispatch=this._geometry.innerNodeDrawDispatch.filtered(0)),this._skipAggregation&&(this._innerPass.dispatch=this._geometry.innerNodeDrawDispatch.unfiltered()),E.outlineWidth&&(this._innerPass.outlineWidth=this._geometry.outlineWidth),E.emphasisOutlineWidth&&(this._innerPass.emphasisOutlineWidth=this._geometry.emphasisOutlineWidth),E.leafNodeEmphases&&(this._leafPass0.emphases=this._geometry.leafNodeEmphases),E.leafNodeDrawDispatch&&!this._skipAggregation&&(this._leafPass0.dispatch=this._geometry.leafNodeDrawDispatch.filtered(0),this._leafPass1.dispatch=this._geometry.leafNodeDrawDispatch.filtered(0)),this._skipAggregation&&(this._leafPass0.dispatch=this._geometry.leafNodeDrawDispatch.unfiltered(),this._leafPass1.dispatch=this._geometry.leafNodeDrawDispatch.unfiltered()),E.outlineWidth&&(this._leafPass0.outlineWidth=this._geometry.outlineWidth,this._leafPass1.outlineWidth=this._geometry.outlineWidth),E.emphasisOutlineWidth&&(this._leafPass0.emphasisOutlineWidth=this._geometry.emphasisOutlineWidth,this._leafPass1.emphasisOutlineWidth=this._geometry.emphasisOutlineWidth),E.heightScale&&(this._leafPass0.heightScale=this._geometry.heightScale,this._leafPass1.heightScale=this._geometry.heightScale),E.levitate&&(this._leafPass1.levitate=this._geometry.levitate)),this._altered.frameSize&&(this._multiRenderTarget.resize(this._frameSize[0],this._frameSize[1]),this._camera.viewport=[this._frameSize[0],this._frameSize[1]],this.invalidate()),this._altered.canvasSize&&(this._camera.aspect=this._canvasSize[0]/this._canvasSize[1],this._readbackPass.coordinateReferenceSize=this._canvasSize),this._altered.multiFrameNumber&&(this._ndcOffsetKernel.width=this._multiFrameNumber,this._ndcOffsetKernel.sort(h.AbstractKernel.SortApproach.BySquaredLength)),this._altered.framePrecision&&(this._accumulationPass.precision=this._framePrecision),this._altered.clearColor&&this._multiRenderTarget.setClearColor(this._clearColor),this._innerPass.update(),this._leafPass0.update(this._timer.totalTime),this._leafPass1.update(this._timer.totalTime),this._pointPass.update(),this._labelBackgroundPass.update(),this._innerLabelPass.update(),this._leafLabelPass.update(),this._accumulationPass.update(),this._readbackPass.frame(),this._camera.altered&&(this._debugPass.near=this._camera.near,this._debugPass.far=this._camera.far),this._visualization.prepare(),this._camera.altered=!1,this._geometry.altered.reset(),this._altered.reset()},b.prototype.onFrame=function(E){var x=this._context.gl,w=this._context.gl2facade,S=this._ndcOffsetKernel.get(E);S[0]=2*this._ndcOffsetScale*S[0]/this._frameSize[0],S[1]=2*this._ndcOffsetScale*S[1]/this._frameSize[1],this._leafPass0.ndcOffset=S,this._leafPass1.ndcOffset=S,this._innerPass.ndcOffset=S,this._innerLabelPass.ndcOffset=S,this._leafLabelPass.ndcOffset=S,this._pointPass.ndcOffset=S,this._labelBackgroundPass.ndcOffset=S;var P=E===0,A=this._multiRenderTarget,L=P?A.primaryFBO:A.secondaryFBO;L.clear(x.COLOR_BUFFER_BIT|x.DEPTH_BUFFER_BIT|x.STENCIL_BUFFER_BIT,!0,!1),x.viewport(0,0,this._camera.viewport[0],this._camera.viewport[1]),x.depthFunc(x.LESS);var k=d.MultiRenderTarget.Attachment;A.drawRestricted||w.drawBuffers([w.COLOR_ATTACHMENT0,w.COLOR_ATTACHMENT1]),this.renderLeafNodes(L,A.drawRestricted?k.Color:k.Undefined,!0),this.renderInnerNodes(L,A.drawRestricted?k.Color:k.Undefined,!0),A.drawRestricted||w.drawBuffers([w.COLOR_ATTACHMENT0,x.NONE]),this.renderInnerLabels(L,A.drawRestricted?k.Color:k.Undefined,!1),this.renderLeafLabelBackgrounds(L,!1),this.renderLeafLabels(L,A.drawRestricted?k.Color:k.Undefined,!1),this.renderPoints(L,!1),A.drawRestricted||w.drawBuffers([w.COLOR_ATTACHMENT0,w.COLOR_ATTACHMENT1]),P&&A.idFBO&&(A.idFBO.clear(x.COLOR_BUFFER_BIT|x.STENCIL_BUFFER_BIT),this.renderLeafNodes(A.idFBO,k.Id,!1),this.renderInnerNodes(A.idFBO,k.Id,!1)),P&&A.depthFBO&&(A.depthFBO.clear(x.COLOR_BUFFER_BIT|x.STENCIL_BUFFER_BIT),this.renderLeafNodes(A.depthFBO,k.Depth,!1),this.renderInnerNodes(A.depthFBO,k.Depth,!1)),this._accumulationPass.frame(E)},b.prototype.onSwap=function(){var E,x=this,w=this._multiRenderTarget.debuggableTarget(this._blitTarget);if(this._accumulationPass.initialized&&((E=this._accumulationPass.framebuffer)===null||E===void 0?void 0:E.initialized)&&this._blitPass.initialized&&(!w||w[0].initialized)){var S=!this._timer.isPaused&&this._animations.some(function(A){return!A.isFinished(x._timer.totalTime)});if(S&&this._enableFxaa)this._fxaaPass.framebuffer=w?w[0]:this._accumulationPass.framebuffer,this._fxaaPass.readBuffer=w?w[1]:this._context.gl2facade.COLOR_ATTACHMENT0,this._fxaaPass.frame();else{var P=this._blitTarget===2?this._debugPass:this._blitPass;P.framebuffer=w?w[0]:this._accumulationPass.framebuffer,P.readBuffer=w?w[1]:this._context.gl2facade.COLOR_ATTACHMENT0,P.frame()}S&&this.invalidate(),this._onSwapCallback&&this._onSwapCallback()}},b.prototype.updateGeometryFromAnimation=function(){for(var E=0;E<this._geometry.leafLayerCount;++E){var x=this._animations[E],w=this._bufferIds[E],S=E===0?this._leafPass0:this._leafPass1,P=x.ids(this._timer.totalTime),A=!1;A=x.altered.areaData,(P.areaData.join()!==w.areaData.join()||A)&&(P.areaData=this.updateAreasFromAnimation(E,w.areaData,P.areaData,A)),A=x.altered.heightData,(P.heightData.join()!==w.heightData.join()||A)&&(P.heightData=this.updateHeightsFromAnimation(E,w.heightData,P.heightData,A)),A=x.altered.colorData,(P.colorData.join()!==w.colorData.join()||A)&&(P.colorData=this.updateColorsFromAnimation(E,w.colorData,P.colorData,A)),A=x.altered.areaDelays,(P.areaDelay!==w.areaDelay||A)&&(S.areaDelays=x.areaDelaysById(P.areaDelay)),A=x.altered.heightDelays,(P.heightDelay!==w.heightDelay||A)&&(S.heightDelays=x.heightDelaysById(P.heightDelay)),A=x.altered.colorDelays,(P.colorDelay!==w.colorDelay||A)&&(S.colorDelays=x.colorDelaysById(P.colorDelay)),A=x.altered.areaDurations,(P.areaDuration!==w.areaDuration||A)&&(S.areaDuration=x.areaDurationById(P.areaDuration)),A=x.altered.heightDurations,(P.heightDuration!==w.heightDuration||A)&&(S.heightDuration=x.heightDurationById(P.heightDuration)),A=x.altered.colorDurations,(P.colorDuration!==w.colorDuration||A)&&(S.colorDuration=x.colorDurationById(P.colorDuration)),this._bufferIds[E]=P,x.altered.reset()}},b.prototype.updateHeightsFromAnimation=function(E,x,w,S){S===void 0&&(S=!1);var P=!(w[0]===x[0]||w[0]===x[1]),A=!(w[1]===x[0]||w[1]===x[1]),L=E===0?this._leafPass0:this._leafPass1;return P&&A||S?(L.heights=[this._animations[E].heightsById(w[0]),this._animations[E].heightsById(w[1])],L.swapHeightBuffers=!1,w):P&&!A?w[1]===x[1]?(L.heights=[this._animations[E].heightsById(w[0]),void 0],L.swapHeightBuffers=!L.swapHeightBuffers,w):(L.heights=[void 0,this._animations[E].heightsById(w[0])],L.swapHeightBuffers=!L.swapHeightBuffers,[w[1],w[0]]):!P&&A?w[0]===x[0]?(L.heights=[void 0,this._animations[E].heightsById(w[1])],L.swapHeightBuffers=!L.swapHeightBuffers,w):(L.heights=[this._animations[E].heightsById(w[1]),void 0],L.swapHeightBuffers=!L.swapHeightBuffers,[w[1],w[0]]):x},b.prototype.updateAreasFromAnimation=function(E,x,w,S){S===void 0&&(S=!1);var P=!(w[0]===x[0]||w[0]===x[1]),A=!(w[1]===x[0]||w[1]===x[1]),L=E===0?this._leafPass0:this._leafPass1;return P&&A||S?(L.areas=[this._animations[E].areasById(w[0]),this._animations[E].areasById(w[1])],L.swapAreaBuffers=!1,w):P&&!A?w[1]===x[1]?(L.areas=[this._animations[E].areasById(w[0]),void 0],L.swapAreaBuffers=!L.swapAreaBuffers,w):(L.areas=[void 0,this._animations[E].areasById(w[0])],L.swapAreaBuffers=!L.swapAreaBuffers,[w[1],w[0]]):!P&&A?w[0]===x[0]?(L.areas=[void 0,this._animations[E].areasById(w[1])],L.swapAreaBuffers=!L.swapAreaBuffers,w):(L.areas=[this._animations[E].areasById(w[1]),void 0],L.swapAreaBuffers=!L.swapAreaBuffers,[w[1],w[0]]):x},b.prototype.updateColorsFromAnimation=function(E,x,w,S){S===void 0&&(S=!1);var P=!(w[0]===x[0]||w[0]===x[1]),A=!(w[1]===x[0]||w[1]===x[1]),L=E===0?this._leafPass0:this._leafPass1;return P&&A||S?(L.colors=[this._animations[E].colorsById(w[0]),this._animations[E].colorsById(w[1])],L.swapColorBuffers=!1,w):P&&!A?w[1]===x[1]?(L.colors=[this._animations[E].colorsById(w[0]),void 0],L.swapColorBuffers=!L.swapColorBuffers,w):(L.colors=[void 0,this._animations[E].colorsById(w[0])],L.swapColorBuffers=!L.swapColorBuffers,[w[1],w[0]]):!P&&A?w[0]===x[0]?(L.colors=[void 0,this._animations[E].colorsById(w[1])],L.swapColorBuffers=!L.swapColorBuffers,w):(L.colors=[this._animations[E].colorsById(w[1]),void 0],L.swapColorBuffers=!L.swapColorBuffers,[w[1],w[0]]):x},b.prototype.updateLabelsForPass=function(E,x){for(var w=[],S=0,P=E;S<P.length;S++){var A=P[S];A!==void 0&&(A.fontFace=this._fontFace,w.push(A))}x.labels=w,x.update()},b.prototype.updateLabels=function(E,x){this.updateLabelsForPass(E,this._innerLabelPass),this.updateLabelsForPass(x,this._leafLabelPass)},b.prototype.updateLeafLabelPass=function(){this._leafLabelPass.update()},b.prototype.updateLeafLabelBackgrounds=function(E){for(var x=[],w=[],S=[],P=[],A=0,L=0,k=E;L<k.length;L++)if((H=k[L])&&H.color.a!==0){var D=2*H.extent[1]/this._frameSize[1];A=Math.max(A,D)}for(var N=0,W=E;N<W.length;N++){var H;if((H=W[N])&&H.color.a!==0){x.push(H.position[0],H.position[1],H.position[2]);var q=(2*H.extent[0]+1.75)/this._frameSize[0];w.push(q,A);var X=1.75/this._frameSize[1],Y=H.alignment===h.Label.Alignment.Right?-X-q:X,J=1.75/this._frameSize[1],ee=H.lineAnchor===h.Label.LineAnchor.Top?J-A:-J;S.push(Y,ee);var te=0;H.alignment===h.Label.Alignment.Left?H.lineAnchor===h.Label.LineAnchor.Bottom?te=1:H.lineAnchor===h.Label.LineAnchor.Top&&(te=2):H.alignment===h.Label.Alignment.Right&&(H.lineAnchor===h.Label.LineAnchor.Bottom?te=3:H.lineAnchor===h.Label.LineAnchor.Top&&(te=4)),P.push(te)}}this._labelBackgroundPass.updateData(new Float32Array(x),new Float32Array(w),new Float32Array(S),new Uint8Array(P))},b.prototype.updatePoints=function(E){for(var x=[],w=[],S=0,P=E;S<P.length;S++){var A=P[S];A&&(x.push(A.position[0],A.position[1],A.position[2]),w.push(A.color.r,A.color.g,A.color.b,A.color.a))}this._pointPass.positions=new Float32Array(x),this._pointPass.colors=new Float32Array(w)},b.prototype.frameSizeAltered=function(){return this._altered.frameSize},b.prototype.setCameraEye=function(E,x,w){this._camera.eye=i.vec3.fromValues(E,x,w)},b.prototype.invalidate=function(){this.initialized&&y.prototype.invalidate.call(this,!0)},b.prototype.onDiscarded=function(){},b.CAMERA_NEAR_DEFAULT=.01,b.CAMERA_FAR_DEFAULT=10,b}(h.Renderer);t.AnimationRenderer=m},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Navigation=void 0;var n=r(15),o=r(0),i=o.auxiliaries.assert,h=o.gl_matrix_extensions.v2,g=r(0),p=r(43),v=function(){function d(c,a){var l=this;this._mouseMovedSinceDown=!1,this._seereneModifier=new p.SeereneModifier,this._nodeEnterSubject=new n.ReplaySubject(1),this._nodeMoveSubject=new n.ReplaySubject(1),this._nodeLeaveSubject=new n.ReplaySubject(1),this._nodeSelectSubject=new n.ReplaySubject(1),this._navigationStartSubject=new n.ReplaySubject(1),this._invalidate=c,this._touchSupported=document.documentElement&&"ontouchstart"in document.documentElement||"ontouchstart"in document.body,a.mouseEventProvider.preventDefault(g.MouseEventProvider.Type.Wheel,g.MouseEventProvider.Type.Click),a.pointerEventProvider.preventDefault(g.PointerEventProvider.Type.Down,g.PointerEventProvider.Type.Move,g.PointerEventProvider.Type.Up),this._eventHandler=new g.EventHandler(c,a),this._eventHandler.pushMouseDownHandler(function(s,u){return l.onMouseDown(s,u)}),this._eventHandler.pushMouseUpHandler(function(s,u){return l.onMouseUp(s,u)}),this._eventHandler.pushMouseMoveHandler(function(s,u){return l.onMouseMove(s,u)}),this._eventHandler.pushMouseWheelHandler(function(s,u){return l.onMouseWheel(s,u)}),this._eventHandler.pushClickHandler(function(s,u){return l.onClick(s,u)}),this._touchSupported&&(this._eventHandler.pushTouchStartHandler(function(s,u){return l.onTouchStart(s,u)}),this._eventHandler.pushTouchEndHandler(function(s,u){return l.onTouchEnd(s,u)}),this._eventHandler.pushTouchMoveHandler(function(s,u){return l.onTouchMove(s,u)}),this._eventHandler.pushTouchCancelHandler(function(s,u){return l.onTouchCancel(s,u)}))}return d.prototype.mode=function(c){var a=c.type==="mousedown"||c.type==="mousemove",l=c.type==="wheel";return a&&this.isPrimaryButtonDown(c)?d.Mode.Rotate:a&&this.isSecondaryButtonDown(c)?d.Mode.Pan:a&&this.isAuxiliaryButtonDown(c)?d.Mode.Zoom:l?d.Mode.ZoomStep:this._touchSupported&&c instanceof TouchEvent&&c.touches.length===1?d.Mode.Pan:void 0},d.prototype.rotate=function(c,a){var l=o.vec2.fromValues(c.clientX,c.clientY);a||this._seereneModifier.needStart()?this._seereneModifier.initiate(l,void 0,[!1,!1,!0],c.shiftKey):(this._seereneModifier.update_positions(l),this._seereneModifier.rotate())},d.prototype.pan=function(c,a){var l=this._eventHandler.offsets(c)[0];a||this._seereneModifier.needStart()?this._seereneModifier.initiate(l,void 0,[!0,!1,!1],c.shiftKey):(this._seereneModifier.update_positions(l),this._seereneModifier.translate())},d.prototype.zoom=function(c,a){var l=this._eventHandler.offsets(c)[0];a||this._seereneModifier.needStart()?this._seereneModifier.initiate(l,void 0,[!1,!0,!1],c.shiftKey):(this._seereneModifier.update_positions(l),this._seereneModifier.scale())},d.prototype.emitNodeMovementEvents=function(c){if(this._idAccess!==void 0){var a=this._eventHandler.offsets(c,!1)[0],l=o.vec2.scale(h(),a,window.devicePixelRatio),s=this._idAccess.idAt(l[0],l[1]);this._lastNode===s&&s!==void 0&&this._nodeMoveSubject.next({node:s,point:a}),this._lastNode!==s&&this._lastNode!==void 0&&this._nodeLeaveSubject.next({node:this._lastNode,point:a}),this._lastNode!==s&&s!==void 0&&this._nodeEnterSubject.next({node:s,point:a}),this._lastNode=s}},d.prototype.emitNodeClick=function(c){if(this._idAccess!==void 0){var a=this._eventHandler.offsets(c,!1)[0],l=o.vec2.scale(h(),a,window.devicePixelRatio),s=this._idAccess.idAt(l[0],l[1]);s!==void 0&&this._nodeSelectSubject.next({node:s,point:a})}},d.prototype.applyZoomStep=function(c){var a=this._eventHandler.offsets(c)[0];this._seereneModifier.initiate(a,void 0,[!1,!0,!1],c.shiftKey),c.preventDefault(),this._seereneModifier.scale(c.deltaY)},d.prototype.onMouseDown=function(c,a){this._mouseMovedSinceDown=!1},d.prototype.onMouseUp=function(c,a){},d.prototype.onMouseMove=function(c,a){var l=c[c.length-1];this._mouseMovedSinceDown=!0;var s=this._mode===void 0;switch(this._mode=this.mode(l),this._mode){case d.Mode.Rotate:return this.rotate(l,s),void(s&&this._navigationStartSubject.next());case d.Mode.Pan:return this.pan(l,s),void(s&&this._navigationStartSubject.next());case d.Mode.Zoom:return this.zoom(l,s),void(s&&this._navigationStartSubject.next());default:this.emitNodeMovementEvents(l)}},d.prototype.onClick=function(c,a){var l=c[c.length-1];switch(this._mode){case d.Mode.Rotate:case d.Mode.Pan:case d.Mode.Zoom:return;default:this.emitNodeClick(l)}},d.prototype.onMouseWheel=function(c,a){var l=c[c.length-1];switch(this._mode=this.mode(l),this._mode){case d.Mode.ZoomStep:this.applyZoomStep(l),this._navigationStartSubject.next()}},d.prototype.onTouchStart=function(c,a){var l=c[c.length-1];this._mode=this.mode(l),this._mode!==d.Mode.Pan?i(this._mode===void 0,"Interactions other than pan are not implemented for touch events."):this.pan(l,!0)},d.prototype.onTouchMove=function(c,a){var l=c[c.length-1],s=this._mode===void 0;this._mode=this.mode(l),this._mode!==d.Mode.Pan?i(this._mode===void 0,"Interactions other than pan are not implemented for touch events."):this.pan(l,s)},d.prototype.onTouchEnd=function(c,a){},d.prototype.onTouchCancel=function(c,a){},d.prototype.isPrimaryButtonDown=function(c){return(c.buttons===void 0?c.which:c.buttons)===1},d.prototype.isSecondaryButtonDown=function(c){return c.buttons===void 0?c.which===3:c.buttons===2},d.prototype.isAuxiliaryButtonDown=function(c){return c.buttons===void 0?c.which===2:c.buttons===4},d.prototype.update=function(){this._eventHandler.update()},Object.defineProperty(d.prototype,"camera",{set:function(c){this._camera=c,this._seereneModifier.camera=c},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"coordsAccess",{set:function(c){this._coordsAccess=c,this._seereneModifier.coordsAccess=this._coordsAccess.coordsAt},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"idAccess",{set:function(c){this._idAccess=c},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"nodeEnter$",{get:function(){return this._nodeEnterSubject.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"nodeMove$",{get:function(){return this._nodeMoveSubject.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"nodeLeave$",{get:function(){return this._nodeLeaveSubject.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"nodeSelect$",{get:function(){return this._nodeSelectSubject.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"navigationStart$",{get:function(){return this._navigationStartSubject.asObservable()},enumerable:!1,configurable:!0}),d}();t.Navigation=v,function(d){(function(c){c[c.Move=0]="Move",c[c.Pan=1]="Pan",c[c.Rotate=2]="Rotate",c[c.Zoom=3]="Zoom",c[c.ZoomStep=4]="ZoomStep"})(d.Mode||(d.Mode={}))}(v=t.Navigation||(t.Navigation={})),t.Navigation=v},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationData=void 0;var n=r(0),o=function(){function i(){this._altered=Object.assign(new n.ChangeLookup,{any:!1,areaData:!1,areaDelays:!1,areaDurations:!1,areaEasing:!1,heightData:!1,heightDelays:!1,heightDurations:!1,heightEasing:!1,colorData:!1,colorDelays:!1,colorDurations:!1,colorEasing:!1}),this.reset()}return i.prototype._calculateEndTime=function(){var h=function(d){for(var c=-1/0,a=0;a<d.length;a++)c=Math.max(c,d[a]);return c},g=h(this._area.delays[this._area.delays.length-1])+this._area.durations[this._area.durations.length-1],p=h(this._height.delays[this._height.delays.length-1])+this._height.durations[this._height.durations.length-1],v=h(this._color.delays[this._color.delays.length-1])+this._color.durations[this._color.durations.length-1];this._endTime=Math.max(g,p,v)},i.prototype._calculateStartTimes=function(){var h=this,g=function(p){for(var v=1/0,d=0;d<p.length;d++)v=Math.min(v,p[d]);return v};this._height.startTimes.length=this._height.delays.length,this._height.delays.forEach(function(p,v){h._height.startTimes[v]=g(p)}),this._color.startTimes.length=this._color.delays.length,this._color.delays.forEach(function(p,v){h._color.startTimes[v]=g(p)})},i.prototype._findLastGreaterStartTime=function(h,g){for(var p=0,v=0,d=h.map(function(s,u){return{time:s,index:u}});v<d.length;v++){var c=d[v],a=c.time,l=c.index;if(!(g>=a))break;p=l}return p},i.prototype.reset=function(){this._area=new i.Area,this._height=new i.Height,this._color=new i.Color,this._endTime=-1,this._altered.alter("any")},i.prototype.ids=function(h){var g=this._findLastGreaterStartTime(this._area.startTimes,h),p=this._findLastGreaterStartTime(this._height.startTimes,h),v=this._findLastGreaterStartTime(this._color.startTimes,h),d=this._area.startTimes.length,c=this._height.startTimes.length,a=this._color.startTimes.length;return{areaData:[g,Math.min(g+1,d)],areaDelay:g,areaDuration:g,heightData:[p,Math.min(p+1,c)],heightDelay:p,heightDuration:p,colorData:[v,Math.min(v+1,a)],colorDelay:v,colorDuration:v}},Object.defineProperty(i.prototype,"areas",{set:function(h){this._area.data=h,this._altered.alter("areaData")},enumerable:!1,configurable:!0}),i.prototype.areasById=function(h){return this._area.data[h]},Object.defineProperty(i.prototype,"heights",{set:function(h){this._height.data=h,this._altered.alter("heightData")},enumerable:!1,configurable:!0}),i.prototype.heightsById=function(h){return this._height.data[h]},Object.defineProperty(i.prototype,"colors",{set:function(h){this._color.data=h,this._altered.alter("colorData")},enumerable:!1,configurable:!0}),i.prototype.colorsById=function(h){return this._color.data[h]},Object.defineProperty(i.prototype,"areaDelays",{set:function(h){this._area.delays=h,this._calculateStartTimes(),this._altered.alter("areaDelays")},enumerable:!1,configurable:!0}),i.prototype.areaDelaysById=function(h){return this._area.delays[h]},Object.defineProperty(i.prototype,"heightDelays",{set:function(h){this._height.delays=h,this._calculateStartTimes(),this._altered.alter("heightDelays")},enumerable:!1,configurable:!0}),i.prototype.heightDelaysById=function(h){return this._height.delays[h]},Object.defineProperty(i.prototype,"colorDelays",{set:function(h){this._color.delays=h,this._calculateStartTimes(),this._altered.alter("colorDelays")},enumerable:!1,configurable:!0}),i.prototype.colorDelaysById=function(h){return this._color.delays[h]},Object.defineProperty(i.prototype,"areaDurations",{set:function(h){this._area.durations=h,this._altered.alter("areaDurations")},enumerable:!1,configurable:!0}),i.prototype.areaDurationById=function(h){return this._area.durations[h]},Object.defineProperty(i.prototype,"heightDurations",{set:function(h){this._height.durations=h,this._altered.alter("heightDurations")},enumerable:!1,configurable:!0}),i.prototype.heightDurationById=function(h){return this._height.durations[h]},Object.defineProperty(i.prototype,"colorDurations",{set:function(h){this._color.durations=h,this._altered.alter("colorDurations")},enumerable:!1,configurable:!0}),i.prototype.colorDurationById=function(h){return this._color.durations[h]},Object.defineProperty(i.prototype,"areaEasing",{get:function(){return this._area.easing},set:function(h){this._area.easing=h,this._altered.alter("areaEasing")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"heightEasing",{get:function(){return this._height.easing},set:function(h){this._height.easing=h,this._altered.alter("heightEasing")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"colorEasing",{get:function(){return this._color.easing},set:function(h){this._color.easing=h,this._altered.alter("colorEasing")},enumerable:!1,configurable:!0}),i.prototype.isFinished=function(h){return this.endTime<h},Object.defineProperty(i.prototype,"endTime",{get:function(){return this._endTime===-1&&this._calculateEndTime(),this._endTime},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"altered",{get:function(){return this._altered},enumerable:!1,configurable:!0}),i}();t.AnimationData=o,function(i){var h=function(){this.data=[new Uint8Array,new Uint8Array],this.delays=[new Float32Array],this.durations=[1],this.easing=p.LINEAR,this.startTimes=[0]};i.Area=h;var g=function(){this.data=[new Uint8Array,new Uint8Array],this.delays=[new Float32Array],this.durations=[1],this.easing=p.LINEAR,this.startTimes=[0]};i.Height=g;var p,v=function(){this.data=[new Uint8Array,new Uint8Array],this.delays=[new Float32Array],this.durations=[1],this.easing=p.LINEAR,this.startTimes=[0]};i.Color=v,function(d){d[d.LINEAR=0]="LINEAR",d[d.SMOOTHSTEP=1]="SMOOTHSTEP",d[d.UNIMPLEMENTED=-1]="UNIMPLEMENTED"}(p=i.Easing||(i.Easing={}))}(o=t.AnimationData||(t.AnimationData={})),t.AnimationData=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.GeometryCreation=void 0;var n=function(){function o(){}return o.getColorIndexByEdges=function(i,h,g,p){for(var v=0;v<g.length&&i>g[v];)++v;return Math.min(v,h-1)},o.getColorIndexByEdgesInverted=function(i,h,g,p){for(var v=0;v<g.length;v++)if(i<=g[v])return h-1-v;return 0},o.getColorIndex=function(i,h,g){var p=(i-g[0])/(g[1]-g[0]);return Math.min(h-1,Math.floor(Math.max(0,h*p-1e-4)))},o.getColorIndexInverted=function(i,h,g){return h-1-this.getColorIndex(i,h,g)},o.getColorIndexComputation=function(i,h,g,p){var v=this;return h===void 0?g?function(d){return v.getColorIndexInverted(d,i,p)}:function(d){return v.getColorIndex(d,i,p)}:g?function(d){return v.getColorIndexByEdgesInverted(d,i,h,p)}:function(d){return v.getColorIndexByEdges(d,i,h,p)}},o.insertLayoutIntoBuffer=function(i,h,g){var p=4*h;i[p+0]=2*g.left-1,i[p+1]=1-2*g.bottom-2*g.height,i[p+2]=2*g.width,i[p+3]=2*g.height},o.createLeafLayoutBuffer=function(i,h,g){var p=new Float32Array(4*i.numberOfLeafNodes),v=i.numberOfInnerNodes;return i.forEachLeafNode(function(d){var c=d.index-v,a=h[d.index];o.insertLayoutIntoBuffer(p,c,a)}),p},o.createLeafUnmodifiedBuffer=function(i,h){var g=new Uint8Array(i.numberOfLeafNodes),p=i.numberOfInnerNodes;return i.forEachLeafNode(function(v){var d=v.index-p;g[d]=v.unmodified?1:0}),g},o.createLayerHeightBuffer=function(i,h,g,p){var v=new Uint8Array(2*i.numberOfLeafNodes),d=i.numberOfInnerNodes,c=!1;return i.forEachLeafNode(function(a){var l=a.index-d,s=g!==void 0?Math.max(g[2*l+1],0):0,u=Math.max(h[a.index],0),f=s+255*u;s>0&&u>0&&(f=Math.ceil(f)),f>255&&(c=!0,f=255),v[2*l+0]=s,v[2*l+1]=f}),c&&console.error("Height value overflow"),v},o.createEmptyLayerHeightBuffer=function(i){return new Uint8Array(2*i.numberOfLeafNodes)},o.createLeafAreaScalesBuffer=function(i,h){var g=new Uint8Array(i.numberOfLeafNodes),p=i.numberOfInnerNodes;return i.forEachLeafNode(function(v){var d=v.index-p,c=Math.min(255*h[v.index],255);g[d]=c}),g},o.createDefaultLeafAreaScalesBuffer=function(i,h){h===void 0&&(h=1);var g=new Uint8Array(i.numberOfLeafNodes);return g.fill(255*h),g},o.createParentLayoutBuffer=function(i,h,g){var p=new Float32Array(4*i.numberOfInnerNodes);return i.forEachInnerNode(function(v){var d=v.index,c=h[v.index];o.insertLayoutIntoBuffer(p,d,c)}),p},o.defaultLeafNodeColors=function(i,h){var g=new Uint8Array(i.numberOfLeafNodes);return g.fill(h),g},o.createLeafNodeColors=function(i,h,g,p,v,d,c,a,l){var s=new Uint8Array(i.numberOfLeafNodes),u=i.numberOfInnerNodes,f=this.getColorIndexComputation(p,c,a,v);return i.forEachLeafNode(function(m){var y=m.index-u,b=h[m.index];if(b>-1){var E=l&&l[m.index]===0?-1:1;s[y]=E*(g+f(b))+32}else s[y]=d+32}),s},o.createLeafNodeHeights=function(){return new Uint8Array(0)},o.createLeafNodeAreaScales=function(){return new Uint8Array(0)},o}();t.GeometryCreation=n,function(o){(function(i){i.Plain="plain"})(o.ParentShading||(o.ParentShading={})),function(i){i.Plain="plain",i.Diff="diff"}(o.LeafShading||(o.LeafShading={}))}(n=t.GeometryCreation||(t.GeometryCreation={})),t.GeometryCreation=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceAdapter=void 0;var n=r(0),o=r(1),i=r(2),h=r(8),g=r(9),p=r(5),v=r(30),d=r(31),c=r(3),a=function(){function l(){this._config=new i.Configuration,this.setupLayoutAndGeometry()}return l.prototype.loadAll=function(s,u,f,m,y,b){this.loadAndPrepareAreaData(s),this.loadAndPrepareColorData(u),this.loadAndPrepareHeightData(f,y,b),this.loadNames(m)},l.prototype.loadCombinedFormat=function(s,u){var f,m,y=new v.BufferReader(s),b=new v.ServiceFormatHeader(y);if(b.hasFlag(v.BufferFlags.HIERARCHY)){var E=y.getInt(),x=y.getInt(),w=y.getByteArray(x);y.addPadding(),this.createOrUpdateTopology(w,E)}if(b.hasFlag(v.BufferFlags.HEIGHTS)&&(f=new d.ServiceBufferHeader(s,y.offset),y.offset=f.offset+f.length*Uint16Array.BYTES_PER_ELEMENT,y.addPadding()),b.hasFlag(v.BufferFlags.HEIGHTS_COMPARE)&&(m=new d.ServiceBufferHeader(s,y.offset),y.offset=m.offset+m.length*Uint16Array.BYTES_PER_ELEMENT,y.addPadding()),this.loadAndPrepareHeightDataV2(s,f,m),b.hasFlag(v.BufferFlags.AREAS)){var S=new d.ServiceBufferHeader(s,y.offset);y.offset=S.offset+S.length*Uint16Array.BYTES_PER_ELEMENT,y.addPadding(),this.loadAndPrepareAreaData(s,S)}b.hasFlag(v.BufferFlags.COLORS)?y.addPadding():this.loadAndPrepareColorData(s,f)},l.prototype.loadAndPrepareAreaData=function(s,u){u||(u=new d.ServiceBufferHeader(s)),n.auxiliaries.log(n.auxiliaries.LogLevel.Debug,"area - min: "+u.minimum+", max: "+u.maximum),this.createOrUpdateBuffer({identifier:l.BufferIdentifier.SourceArea,type:o.AttributeBuffer.DataType.Uint16,data:new Uint16Array(s,u.offset,u.length),encoding:o.AttributeBuffer.Encoding.Native,linearization:o.AttributeBuffer.Linearization.Topology}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.DecodedArea,source:"buffer:"+l.BufferIdentifier.SourceArea,transformations:[this.metricRangeTransform(u.minimum,u.maximum)]});var f=Math.max(1e-5,u.maximum);u.maximum===0&&console.warn("treemap: max area is 0 - clamping to "+f+" for successful layout"),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.ClampedArea,source:"bufferView:"+l.BufferViewIdentifier.DecodedArea,transformations:[{type:"clamp",min:f*l.MINIMUM_NODE_WEIGHT,max:f}]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.Weight,source:"bufferView:"+l.BufferViewIdentifier.ClampedArea,transformations:[{type:"propagate-up",operation:"sum"}]}),this._config.altered.alter("buffers"),this._config.altered.alter("bufferViews")},l.prototype.loadAndPrepareColorData=function(s,u){u||(u=new d.ServiceBufferHeader(s)),n.auxiliaries.log(n.auxiliaries.LogLevel.Debug,"color - min: "+u.minimum+", max: "+u.maximum),this.createOrUpdateBuffer({identifier:l.BufferIdentifier.SourceColor,type:o.AttributeBuffer.DataType.Uint16,data:new Uint16Array(s,u.offset,u.length),encoding:o.AttributeBuffer.Encoding.Native,linearization:o.AttributeBuffer.Linearization.Topology}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.DecodedColor,source:"buffer:"+l.BufferIdentifier.SourceColor,transformations:[this.metricRangeTransform(u.minimum,u.maximum)]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.Unmodified,source:"buffer:"+l.BufferIdentifier.SourceColor,transformations:[{type:"mask",value:l.UINT16_ENCODING_UNMODIFIED}]}),this._config.altered.alter("buffers"),this._config.altered.alter("bufferViews")},l.prototype.loadAndPrepareHeightData=function(s,u,f){var m=new d.ServiceBufferHeader(s);n.auxiliaries.log(n.auxiliaries.LogLevel.Debug,"height - min: "+m.minimum+", max: "+m.maximum);var y=m.offset,b=new Uint16Array(s,m.offset,m.length);if(m.minimum>0&&m.minimum===m.maximum)for(var E=0;E<b.length;E++)b[E]===l.UINT16_ENCODING_ZERO&&(b[E]=l.UINT16_ENCODING_MAX);if(this.createOrUpdateBuffer({identifier:l.BufferIdentifier.SourceHeight,type:o.AttributeBuffer.DataType.Uint16,data:b,encoding:o.AttributeBuffer.Encoding.Native,linearization:o.AttributeBuffer.Linearization.Topology}),y+=Uint16Array.BYTES_PER_ELEMENT*m.length,y+=Int32Array.BYTES_PER_ELEMENT,this.createOrUpdateBuffer({identifier:l.BufferIdentifier.SourceCompareThreshold,type:o.AttributeBuffer.DataType.Int8,data:new Int8Array(s,y,m.length),encoding:o.AttributeBuffer.Encoding.Native,linearization:o.AttributeBuffer.Linearization.Topology}),y+=Int8Array.BYTES_PER_ELEMENT*m.length,u){y+=4-y%4;var x=new Uint32Array(s,y,1)[0];y+=Uint32Array.BYTES_PER_ELEMENT;var w=new Uint32Array(s,y,1)[0];y+=Uint32Array.BYTES_PER_ELEMENT,this.createOrUpdateTopology(new Uint8Array(s,y,w),x)}this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.DecodedHeight,source:"buffer:"+l.BufferIdentifier.SourceHeight,transformations:[this.metricRangeTransform(m.minimum,m.maximum)]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.NormalizedHeight,source:"buffer:"+l.BufferIdentifier.SourceHeight,transformations:[this.metricRangeTransform(0,1)]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.HeightChange,source:"buffer:"+l.BufferIdentifier.SourceCompareThreshold,transformations:[{type:"threshold",value:0}]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.BaseHeight,source:"buffer:"+l.BufferIdentifier.SourceCompareThreshold,transformations:[{type:"transform",operation:"divide",parameter:127},{type:"transform",operation:"as-remainder"},{type:"transform",operation:"multiply",buffer:"bufferView:"+l.BufferViewIdentifier.NormalizedHeight}]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.DecodedBaseHeight,source:"buffer:"+l.BufferIdentifier.SourceCompareThreshold,transformations:[{type:"transform",operation:"divide",parameter:127},{type:"transform",operation:"as-remainder"},{type:"transform",operation:"multiply",buffer:"bufferView:"+l.BufferViewIdentifier.DecodedHeight}]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.DeltaHeight,source:"bufferView:"+l.BufferViewIdentifier.NormalizedHeight,transformations:[{type:"transform",operation:"subtract",buffer:"bufferView:"+l.BufferViewIdentifier.BaseHeight},{type:"transform",operation:"abs"}]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.DecodedDeltaHeight,source:"bufferView:"+l.BufferViewIdentifier.DecodedHeight,transformations:[{type:"transform",operation:"subtract",buffer:"bufferView:"+l.BufferViewIdentifier.DecodedBaseHeight},{type:"transform",operation:"abs"}]}),this._config.altered.alter("buffers"),this._config.altered.alter("bufferViews")},l.prototype.loadAndPrepareHeightDataV2=function(s,u,f){n.auxiliaries.log(n.auxiliaries.LogLevel.Debug,"height - min: "+u.minimum+", max: "+u.maximum),this.createOrUpdateBuffer({identifier:l.BufferIdentifier.SourceHeight,type:o.AttributeBuffer.DataType.Uint16,data:new Uint16Array(s,u.offset,u.length),encoding:o.AttributeBuffer.Encoding.Native,linearization:o.AttributeBuffer.Linearization.Topology}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.DecodedHeight,source:"buffer:"+l.BufferIdentifier.SourceHeight,transformations:[this.metricRangeTransform(u.minimum,u.maximum)]}),f?(this.createOrUpdateBuffer({identifier:l.BufferIdentifier.SourceCompareHeight,type:o.AttributeBuffer.DataType.Uint16,data:new Uint16Array(s,f.offset,f.length),encoding:o.AttributeBuffer.Encoding.Native,linearization:o.AttributeBuffer.Linearization.Topology}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.DecodedCompareHeight,source:"buffer:"+l.BufferIdentifier.SourceCompareHeight,transformations:[this.metricRangeTransform(f.minimum,f.maximum)]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.DecodedBaseHeight,source:"bufferView:"+l.BufferViewIdentifier.DecodedHeight,transformations:[{type:"transform",operation:"min",buffer:"bufferView:"+l.BufferViewIdentifier.DecodedCompareHeight}]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.DecodedDeltaHeight,source:"bufferView:"+l.BufferViewIdentifier.DecodedHeight,transformations:[{type:"transform",operation:"subtract",buffer:"bufferView:"+l.BufferViewIdentifier.DecodedCompareHeight},{type:"transform",operation:"abs"}]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.BaseHeight,source:"bufferView:"+l.BufferViewIdentifier.DecodedBaseHeight,transformations:[{type:"range-transform",sourceRange:[u.minimum,u.maximum],targetRange:[0,1]}]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.DeltaHeight,source:"bufferView:"+l.BufferViewIdentifier.DecodedDeltaHeight,transformations:[{type:"range-transform",sourceRange:[f.minimum,f.maximum],targetRange:[0,1]}]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.HeightChange,source:"buffer:"+l.BufferIdentifier.SourceHeight,transformations:[{type:"transform",operation:"compare",buffer:"buffer:"+l.BufferIdentifier.SourceCompareHeight},{type:"threshold",value:0}]})):this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.BaseHeight,source:"bufferView:"+l.BufferViewIdentifier.DecodedHeight,transformations:[{type:"range-transform",sourceRange:[u.minimum,u.maximum],targetRange:[0,1]}]}),this._config.altered.alter("buffers"),this._config.altered.alter("bufferViews")},l.prototype.metricRangeTransform=function(s,u){return{type:"range-transform",sourceRange:[l.UINT16_ENCODING_ZERO,l.UINT16_ENCODING_MAX],targetRange:[s,u]}},l.prototype.setupLayoutAndGeometry=function(){this._config.colors=[{identifier:"emphasis",space:"hex",value:"#00b0ff"},{identifier:"auxiliary",space:"hex",values:["#00aa5e","#71237c"]},{identifier:"inner",space:"hex",values:["#e8eaee","#eef0f4"]},{identifier:"analysis",space:"hex",values:["#ffffff","#fed500","#fe8500","#e62325"]},{identifier:"segmentation",space:"hex",values:["#ffffff","#5392ff","#71cddd","#34bc6e","#95d13c","#db7c00","#ffb000","#ff509e","#9b82f3"]}],this._config.layout={algorithm:g.Layout.LayoutAlgorithm.Snake,weight:"bufferView:"+l.BufferViewIdentifier.Weight,aspectRatio:1,sort:{key:p.NodeSort.Key.Weight,algorithm:p.NodeSort.Algorithm.Descending},siblingMargin:{type:"relative",value:.1},parentPadding:{type:"relative",value:.02},accessoryPadding:{type:"absolute",direction:"bottom",value:[0,.018,.015],relativeAreaThreshold:.4,targetAspectRatio:2},cascade:!1,flattenDirectories:!1},this._config.altered.alter("geometry"),this._config.geometry={aggregation:{buffer:"bufferView:"+l.BufferViewIdentifier.Unmodified,depthThreshold:2,valueThreshold:1},emphasis:{outline:new Array,highlight:new Array},parentLayer:{showRoot:!1},leafLayers:[{colorScheme:{inverted:!1,classBounds:void 0},colorMap:"color:analysis",height:"bufferView:"+l.BufferViewIdentifier.BaseHeight,colors:"bufferView:"+l.BufferViewIdentifier.DecodedColor},{colorScheme:{inverted:!1,classBounds:void 0},colorMap:"color:analysis",height:"bufferView:"+l.BufferViewIdentifier.DeltaHeight,colors:"bufferView:"+l.BufferViewIdentifier.HeightChange}],heightScale:h.ConfigurationAids.HeightScaleApproach.SomethingInverseSqrt},this._config.labels={innerNodeLayerRange:[1,3],numTopInnerNodes:200,numTopWeightNodes:0,numTopHeightNodes:3,numTopColorNodes:3}},l.prototype.createOrUpdateBuffer=function(s){for(var u=0;u<this._config.buffers.length&&this._config.buffers[u].identifier!==s.identifier;)++u;this._config.buffers.length===u?this._config.buffers.push(s):this._config.buffers.splice(u,1,s)},l.prototype.createOrUpdateBufferView=function(s){for(var u=0;u<this._config.bufferViews.length&&this._config.bufferViews[u].identifier!==s.identifier;)++u;this._config.bufferViews.length===u?this._config.bufferViews.push(s):this._config.bufferViews.splice(u,1,s)},l.prototype.createOrUpdateTopology=function(s,u){for(var f=new Array,m=new Array,y=u+1,b=0;b<s.length;b+=y){for(var E=n.vec4.create(),x=0;x<u;x++)E[x]=s[b+x];var w=n.gl_matrix_extensions.decode_uint32_from_rgba8(E),S=s[b+u];if(S>0){var P=m[S-1];f.push(P),f.push(w)}m[S]=w}this._config.topology={edges:f,format:c.Topology.InputFormat.Interleaved}},l.prototype.loadNames=function(s){var u=new Map;if(s.apps||s.groups){for(var f in s.apps){var m=parseInt(f,10);u.set(m,s.apps[f])}for(var f in s.groups)m=parseInt(f,10),u.set(m,s.groups[f])}else Object.keys(s).forEach(function(y){var b=parseInt(y,10);u.set(b,s[b])});this._config.labels.callback=function(y,b){return b(u)}},Object.defineProperty(l.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),l.UINT16_ENCODING_DB_NULL=0,l.UINT16_ENCODING_UNMODIFIED=1,l.UINT16_ENCODING_ZERO=2,l.UINT16_ENCODING_MAX=65535,l.MINIMUM_NODE_WEIGHT=.01,l}();t.ServiceAdapter=a,function(l){(function(s){s.SourceArea="SourceArea",s.SourceHeight="SourceHeight",s.SourceColor="SourceColor",s.SourceCompareThreshold="SourceCompareThresholds",s.SourceCompareHeight="SourceCompareHeight"})(l.BufferIdentifier||(l.BufferIdentifier={})),function(s){s.DecodedArea="DecodedArea",s.ClampedArea="ClampedArea",s.Weight="Weight",s.DecodedColor="DecodedColor",s.HeightChange="HeightChange",s.Unmodified="Unmodified",s.DecodedHeight="DecodedHeight",s.DecodedCompareHeight="DecodedCompareHeight",s.NormalizedHeight="NormalizedHeight",s.BaseHeight="BaseHeight",s.DeltaHeight="DeltaHeight",s.DecodedBaseHeight="DecodedBaseHeight",s.DecodedDeltaHeight="DecodedDeltaHeight"}(l.BufferViewIdentifier||(l.BufferViewIdentifier={}))}(a=t.ServiceAdapter||(t.ServiceAdapter={})),t.ServiceAdapter=a},function(e,t){e.exports=Ej},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressMode=t.ColorMode=void 0,function(n){n[n.UNDEFINED=-1]="UNDEFINED",n[n.VERTICAL=0]="VERTICAL",n[n.ARROWS=1]="ARROWS",n[n.ARROWS_FULL=2]="ARROWS_FULL",n[n.ARROWS_DIVIDED_STATIC=3]="ARROWS_DIVIDED_STATIC",n[n.ARROWS_DIVIDED_DYNAMIC=4]="ARROWS_DIVIDED_DYNAMIC",n[n.DITHERING=5]="DITHERING",n[n.PYRAMID=6]="PYRAMID",n[n.NOISE=7]="NOISE",n[n.NOISE_DOUBLE=8]="NOISE_DOUBLE",n[n.QUADS=9]="QUADS"}(t.ColorMode||(t.ColorMode={})),function(n){n[n.TIMER=0]="TIMER",n[n.WORLDSPACE=1]="WORLDSPACE",n[n.SCREENSPACE=2]="SCREENSPACE"}(t.ProgressMode||(t.ProgressMode={}))},function(e,t,r){var n,o=this&&this.__extends||(n=function(d,c){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(a[s]=l[s])})(d,c)},function(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function a(){this.constructor=d}n(d,c),d.prototype=c===null?Object.create(c):(a.prototype=c.prototype,new a)}),i=this&&this.__decorate||function(d,c,a,l){var s,u=arguments.length,f=u<3?c:l===null?l=Object.getOwnPropertyDescriptor(c,a):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(d,c,a,l);else for(var m=d.length-1;m>=0;m--)(s=d[m])&&(f=(u<3?s(f):u>3?s(c,a,f):s(c,a))||f);return u>3&&f&&Object.defineProperty(c,a,f),f};Object.defineProperty(t,"__esModule",{value:!0}),t.PointRenderPass=void 0;var h=r(0),g=r(0),p=r(44),v=function(d){function c(a){var l=d.call(this)||this;return l._altered=Object.assign(new g.ChangeLookup,{any:!1,camera:!1,geometry:!1}),l._context=a,l._program=new g.Program(a,"PointRenderProgram"),l._geometry=new p.PointGeometry(l._context,"Point"),l}return o(c,d),c.prototype.relink=function(){for(var a=0,l=this._program.shaders;a<l.length;a++)l[a].compile();this._program.attribute("a_vertex",this._geometry.vertexLocation),this._program.attribute("a_color",this._geometry.colorLocation),this._program.link(),this._program.linked&&(this._uViewProjection=this._program.uniform("u_viewProjection"),this._uNdcOffset=this._program.uniform("u_ndcOffset"),this._uPointSize=this._program.uniform("u_pointSize"))},c.prototype.initialize=function(){var a=this._context.gl,l=new g.Shader(this._context,a.VERTEX_SHADER,"point.vert");l.initialize(r(45),!1);var s=new g.Shader(this._context,a.FRAGMENT_SHADER,"point.frag");return s.initialize(r(46),!1),this._program.initialize([s,l],!1),this._geometry.initialize(),!0},c.prototype.uninitialize=function(){this._geometry.uninitialize(),this._program.uninitialize(),this._uViewProjection=void 0,this._uNdcOffset=void 0,this._uPointSize=void 0},c.prototype.update=function(){var a=this._context.gl;(this._program.initialized&&this._program.linked||(this.relink(),this._program.linked))&&(this._program.bind(),(this._altered.camera||this._camera.altered)&&a.uniformMatrix4fv(this._uViewProjection,!1,this._camera.viewProjection),this._altered.geometry&&this._geometry.valid&&this._geometry.update(),this._altered.reset())},c.prototype.frame=function(){h.auxiliaries.assert(this._target&&this._target.valid,"valid target expected");var a=this._context.gl,l=this._target.size;a.viewport(0,0,l[0],l[1]),a.disable(a.DEPTH_TEST),a.enable(a.BLEND),a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA),this._depthMask===!1&&(a.depthFunc(a.LEQUAL),a.depthMask(!1)),this._program.bind(),a.uniform2fv(this._uNdcOffset,this._ndcOffset),a.uniform1f(this._uPointSize,this._pointSize*window.devicePixelRatio),this._geometry.bind(),this._target.bind(),this._geometry.valid&&this._geometry.draw(),this._depthMask===!1&&(a.depthFunc(a.LESS),a.depthMask(!0)),a.disable(a.BLEND)},Object.defineProperty(c.prototype,"target",{set:function(a){this.assertInitialized(),this._target=a},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ndcOffset",{set:function(a){this.assertInitialized(),this._ndcOffset=a},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"pointSize",{set:function(a){this._pointSize=a},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"camera",{set:function(a){this.assertInitialized(),this._camera!==a&&(this._camera=a,this._altered.alter("camera"))},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"positions",{set:function(a){this._geometry.vertices=a,this._altered.alter("geometry")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"colors",{set:function(a){this.assertInitialized(),this._geometry.colors=a,this._altered.alter("geometry")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"depthMask",{set:function(a){this._depthMask=a},enumerable:!1,configurable:!0}),i([g.Initializable.assert_initialized()],c.prototype,"relink",null),i([g.Initializable.initialize()],c.prototype,"initialize",null),i([g.Initializable.uninitialize()],c.prototype,"uninitialize",null),i([g.Initializable.assert_initialized()],c.prototype,"update",null),i([g.Initializable.assert_initialized()],c.prototype,"frame",null),c}(g.Initializable);t.PointRenderPass=v},function(e,t,r){var n,o=this&&this.__extends||(n=function(a,l){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(s[f]=u[f])})(a,l)},function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function s(){this.constructor=a}n(a,l),a.prototype=l===null?Object.create(l):(s.prototype=l.prototype,new s)}),i=this&&this.__decorate||function(a,l,s,u){var f,m=arguments.length,y=m<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,s):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(a,l,s,u);else for(var b=a.length-1;b>=0;b--)(f=a[b])&&(y=(m<3?f(y):m>3?f(l,s,y):f(l,s))||y);return m>3&&y&&Object.defineProperty(l,s,y),y};Object.defineProperty(t,"__esModule",{value:!0}),t.QuadRenderPass=void 0;var h=r(0),g=r(0),p=r(19),v=r(6),d=r(50),c=function(a){function l(s){var u=a.call(this)||this;return u._standardDerivatives=void 0,u._altered=Object.assign(new g.ChangeLookup,{any:!1,camera:!1,geometry:!1,colorTable:!1,emphases:!1,outlineWidth:!0,emphasisOutlineWidth:!0}),u._outlineWidth=p.CuboidRenderPass.OUTLINE_WIDTH_DEFAULT,u._emphasisOutlineWidth=p.CuboidRenderPass.EMPHASIS_OUTLINE_WIDTH_DEFAULT,u._attachment=v.MultiRenderTarget.Attachment.Undefined,u._context=s,u._program=new g.Program(s,"QuadRenderProgram"),u._geometry=new d.QuadGeometry(u._context,"Quad"),u}return o(l,a),l.prototype.relink=function(){if(this._colorTable!==void 0){for(var s=0,u=this._program.shaders;s<u.length;s++){var f=u[s];f.replace("$ColorTableLength",String(this._colorTable.length/4)),f.compile()}this._program.attribute("a_vertex",this._geometry.vertexLocation),this._program.attribute("a_layout",this._geometry.layoutLocation),this._program.attribute("a_id",this._geometry.idLocation),this._program.attribute("a_color",this._geometry.colorLocation),this._program.attribute("a_emphasis",this._geometry.emphasisLocation),this._program.link(),this._program.linked&&(this._drawRestricted&&(this._uAttachment=this._program.uniform("u_attachment")),this._uViewProjection=this._program.uniform("u_viewProjection"),this._uNdcOffset=this._program.uniform("u_ndcOffset"),this._uColorTable=this._program.uniform("u_colorTable"),this._uOutlineWidth=this._program.uniform("u_outlineWidth"),this._uEmphasisOutlineWidth=this._program.uniform("u_emphasisOutlineWidth"))}},l.prototype.initialize=function(){var s=this._context.gl;this._drawRestricted=!this._context.isWebGL2&&!this._context.supportsDrawBuffers,this._context.isWebGL1&&this._standardDerivatives===void 0&&(this._context.enable(["OES_standard_derivatives"]),this._standardDerivatives=this._context.standardDerivatives);var u=new g.Shader(this._context,s.VERTEX_SHADER,"quad.vert");u.initialize(r(51),!1);var f=new g.Shader(this._context,s.FRAGMENT_SHADER,"quad.frag");return f.initialize(r(52),!1),this._program.initialize([f,u],!1),this._geometry.initialize(),!0},l.prototype.uninitialize=function(){this._geometry.uninitialize(),this._program.uninitialize(),this._uAttachment=void 0,this._uViewProjection=void 0,this._uNdcOffset=void 0,this._uColorTable=void 0,this._uOutlineWidth=void 0,this._uEmphasisOutlineWidth=void 0},l.prototype.update=function(){var s=this._context.gl;(this._program.initialized&&this._program.linked||(this.relink(),this._program.linked))&&(this._program.bind(),(this._altered.camera||this._camera.altered)&&s.uniformMatrix4fv(this._uViewProjection,!1,this._camera.viewProjection),this._colorTable&&s.uniform4fv(this._uColorTable,this._colorTable),this._altered.geometry&&this._geometry.valid&&this._geometry.update(),this._altered.outlineWidth&&s.uniform1f(this._uOutlineWidth,this._outlineWidth),this._target&&this._target.valid&&s.uniform1f(this._uEmphasisOutlineWidth,this._emphasisOutlineWidth*window.devicePixelRatio),this._altered.reset())},l.prototype.frame=function(){if(h.auxiliaries.assert(this._target&&this._target.valid,"valid target expected"),this._dispatch!==void 0&&this._colorTable!==void 0){var s=this._context.gl,u=this._target.size;if(s.viewport(0,0,u[0],u[1]),s.enable(s.CULL_FACE),s.enable(s.DEPTH_TEST),s.enable(s.STENCIL_TEST),s.stencilFunc(s.GREATER,1,255),s.stencilOp(s.KEEP,s.KEEP,s.REPLACE),this._depthMask===!1&&(s.depthFunc(s.LEQUAL),s.depthMask(!1)),this._program.bind(),this._drawRestricted&&s.uniform1i(this._uAttachment,this._attachment),s.uniform2fv(this._uNdcOffset,this._ndcOffset),this._geometry.bind(),this._target.bind(),this._geometry.valid)for(var f=0;f<this._dispatch.length;f+=2){var m=this._dispatch[f+0],y=this._dispatch[f+1];this._geometry.draw(m,y)}this._depthMask===!1&&(s.depthFunc(s.LESS),s.depthMask(!0)),s.disable(s.STENCIL_TEST),s.disable(s.DEPTH_TEST),s.disable(s.CULL_FACE)}},Object.defineProperty(l.prototype,"target",{set:function(s){this.assertInitialized(),this._target=s},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"ndcOffset",{set:function(s){this.assertInitialized(),this._ndcOffset=s},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"camera",{set:function(s){this.assertInitialized(),this._camera!==s&&(this._camera=s,this._altered.alter("camera"))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"dispatch",{set:function(s){this.assertInitialized(),this._dispatch=s},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"layout",{set:function(s){this.assertInitialized(),this._geometry.layout=s,this._altered.alter("geometry")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"ids",{set:function(s){this.assertInitialized(),this._geometry.ids=s,this._altered.alter("geometry")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"colors",{set:function(s){this.assertInitialized(),this._geometry.colors=s,this._altered.alter("geometry")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"emphases",{set:function(s){this.assertInitialized(),this._geometry.emphases=s,this._altered.alter("emphases")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"colorTable",{set:function(s){this.assertInitialized(),this._colorTable=s,this._altered.alter("colorTable")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"outlineWidth",{set:function(s){this.assertInitialized(),this._outlineWidth!==s&&(this._outlineWidth=s===void 0?p.CuboidRenderPass.OUTLINE_WIDTH_DEFAULT:Math.max(0,s),this._altered.alter("outlineWidth"))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"emphasisOutlineWidth",{set:function(s){this.assertInitialized(),this._emphasisOutlineWidth!==s&&(this._emphasisOutlineWidth=s===void 0?p.CuboidRenderPass.EMPHASIS_OUTLINE_WIDTH_DEFAULT:Math.max(0,s),this._altered.alter("emphasisOutlineWidth"))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"attachment",{set:function(s){h.auxiliaries.logIf(s!==v.MultiRenderTarget.Attachment.Undefined&&!this._drawRestricted,h.auxiliaries.LogLevel.Debug,"expected WEBGL_draw_buffers to be unsupported"),this._attachment=s},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"depthMask",{set:function(s){this._depthMask=s},enumerable:!1,configurable:!0}),i([g.Initializable.assert_initialized()],l.prototype,"relink",null),i([g.Initializable.initialize()],l.prototype,"initialize",null),i([g.Initializable.uninitialize()],l.prototype,"uninitialize",null),i([g.Initializable.assert_initialized()],l.prototype,"update",null),i([g.Initializable.assert_initialized()],l.prototype,"frame",null),l}(g.Initializable);t.QuadRenderPass=c},function(e,t,r){var n,o=this&&this.__extends||(n=function(c,a){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(l[u]=s[u])})(c,a)},function(c,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function l(){this.constructor=c}n(c,a),c.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}),i=this&&this.__decorate||function(c,a,l,s){var u,f=arguments.length,m=f<3?a:s===null?s=Object.getOwnPropertyDescriptor(a,l):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,a,l,s);else for(var y=c.length-1;y>=0;y--)(u=c[y])&&(m=(f<3?u(m):f>3?u(a,l,m):u(a,l))||m);return f>3&&m&&Object.defineProperty(a,l,m),m};Object.defineProperty(t,"__esModule",{value:!0}),t.CuboidRenderPass=void 0;var h=r(0),g=r(0),p=r(47),v=r(6),d=function(c){function a(l,s){var u=c.call(this)||this;return u._standardDerivatives=void 0,u._altered=Object.assign(new g.ChangeLookup,{any:!0,camera:!0,geometry:!0,colorTable:!0,colorTableLength:!0,emphases:!0,layerIndex:!0,heightScale:!0,levitate:!0,outlineWidth:!0,emphasisOutlineWidth:!0}),u._arrows=!1,u._outlineWidth=a.OUTLINE_WIDTH_DEFAULT,u._emphasisOutlineWidth=a.EMPHASIS_OUTLINE_WIDTH_DEFAULT,u._attachment=v.MultiRenderTarget.Attachment.Undefined,u._faceSequence=new Array,u._faceData=new Map,u._context=l,h.auxiliaries.assert(s>=0&&s<=a.CUBOID_LAYERS,"expected layer index to be in range [0, "+a.MINIMUM_CUBOID_HEIGHT+"], given "+s),u._layerIndex=s,u._drawRestricted=!u._context.isWebGL2&&!u._context.supportsDrawBuffers,u._program=new g.Program(l,"CuboidRenderProgram"),u._geometry=a.referenceGeometry(l),u}return o(a,c),a.referenceGeometry=function(l){var s;a.GEOMETRY_BY_CONTEXT.has(l)?s=a.GEOMETRY_BY_CONTEXT.get(l):((s=new p.CuboidGeometry(l,a.CUBOID_LAYERS,"CuboidGeometry")).initialize(),a.GEOMETRY_BY_CONTEXT.set(l,s),a.REFCOUNT_BY_GEOMETRY.set(s,0));var u=a.REFCOUNT_BY_GEOMETRY.get(s)+1;return a.REFCOUNT_BY_GEOMETRY.set(s,u),s},a.unreferenceGeometry=function(l){if(a.GEOMETRY_BY_CONTEXT.has(l)){var s=a.GEOMETRY_BY_CONTEXT.get(l),u=a.REFCOUNT_BY_GEOMETRY.get(s)-1;a.REFCOUNT_BY_GEOMETRY.set(s,u),u>0||(s.uninitialize(),a.GEOMETRY_BY_CONTEXT.delete(l),a.REFCOUNT_BY_GEOMETRY.delete(s))}},a.prototype.relink=function(){if(this._colorTable!==void 0){for(var l=0,s=this._program.shaders;l<s.length;l++){var u=s[l];u.replace("$ColorTableLength",String(this._colorTable.length/4)),u.compile()}this._program.attribute("a_vertex",this._geometry.vertexLocation),this._program.attribute("a_layout",this._geometry.layoutLocation),this._program.attribute("a_id",this._geometry.idLocation),this._program.attribute("a_areaScale",this._geometry.areaScaleLocation),this._program.attribute("a_color",this._geometry.colorLocation),this._program.attribute("a_emphasis",this._geometry.emphasisLocation),this._program.attribute("a_heights",this._geometry.heightLocation),this._program.attribute("a_texCoord",this._geometry.texCoordLocation),this._program.link(),this._program.linked&&(this._drawRestricted&&(this._uAttachment=this._program.uniform("u_attachment")),this._uViewProjection=this._program.uniform("u_viewProjection"),this._uNdcOffset=this._program.uniform("u_ndcOffset"),this._uColorTable=this._program.uniform("u_colorTable"),this._uLayer=this._program.uniform("u_layer"),this._uArrows=this._program.uniform("u_arrows"),this._uFace=this._program.uniform("u_face"),this._uNormalAndLambert=this._program.uniform("u_normalAndLambert"),this._uHeightScale=this._program.uniform("u_heightScale"),this._uFloatingGap=this._program.uniform("u_floatingGap"),this._uOutlineWidth=this._program.uniform("u_outlineWidth"),this._uEmphasisOutlineWidth=this._program.uniform("u_emphasisOutlineWidth"))}},a.prototype.optimizeFaceSequence=function(){var l=this._camera.eye,s=this._camera.center,u=new Array,f=h.vec3.create();h.vec3.sub(f,l,s),h.vec3.normalize(f,f),l[1]>0&&u.push([a.Face.Top,Math.abs(h.vec3.dot(h.vec3.fromValues(0,1,0),f))]),l[2]>-1&&u.push([a.Face.Front,Math.abs(h.vec3.dot(h.vec3.fromValues(0,0,1),f))]),l[2]<1&&u.push([a.Face.Back,Math.abs(h.vec3.dot(h.vec3.fromValues(0,0,-1),f))]),l[0]>-1&&u.push([a.Face.Left,Math.abs(h.vec3.dot(h.vec3.fromValues(1,0,0),f))]),l[0]<1&&u.push([a.Face.Right,Math.abs(h.vec3.dot(h.vec3.fromValues(-1,0,0),f))]),u=u.sort(function(m,y){return y[1]-m[1]}),this._faceSequence=u.map(function(m){return m[0]})},a.prototype.initialize=function(){var l=this._context.gl;this._context.isWebGL1&&this._standardDerivatives===void 0&&(this._context.enable(["OES_standard_derivatives"]),this._standardDerivatives=this._context.standardDerivatives);var s=new g.Shader(this._context,l.VERTEX_SHADER,"cuboid.vert");s.initialize(r(48),!1);var u=new g.Shader(this._context,l.FRAGMENT_SHADER,"cuboid.frag");return u.initialize(r(49),!1),this._program.initialize([s,u],!1),this._faceData.set(a.Face.Top,[0,1,0,1]),this._faceData.set(a.Face.Bottom,[0,-1,0,.68]),this._faceData.set(a.Face.Front,[0,0,1,.88]),this._faceData.set(a.Face.Back,[0,0,-1,.88]),this._faceData.set(a.Face.Left,[1,0,0,.84]),this._faceData.set(a.Face.Right,[-1,0,0,.84]),!0},a.prototype.uninitialize=function(){a.unreferenceGeometry(this._context),this._program.uninitialize(),this._uAttachment=void 0,this._uViewProjection=void 0,this._uNdcOffset=void 0,this._uColorTable=void 0,this._uLayer=void 0,this._uFace=void 0,this._uNormalAndLambert=void 0,this._uHeightScale=void 0,this._uFloatingGap=void 0,this._uOutlineWidth=void 0,this._uEmphasisOutlineWidth=void 0},a.prototype.update=function(){var l=this._context.gl,s=!1;if(!this._program.initialized||!this._program.linked||this._altered.colorTableLength){if(this.relink(),!this._program.linked)return;s=!0}if(this._program.bind(),(s||this._altered.camera||this._camera.altered)&&(l.uniformMatrix4fv(this._uViewProjection,!1,this._camera.viewProjection),this.optimizeFaceSequence()),(s||this._colorTable)&&l.uniform4fv(this._uColorTable,this._colorTable),this._altered.geometry&&this._geometry.valid&&this._geometry.update(),(s||this._altered.heightScale)&&l.uniform1f(this._uHeightScale,this._heightScale/255),(s||this._altered.outlineWidth)&&l.uniform1f(this._uOutlineWidth,this._outlineWidth),s||this._altered.emphasisOutlineWidth){var u=window.devicePixelRatio;l.uniform1f(this._uEmphasisOutlineWidth,this._emphasisOutlineWidth*u)}this._target&&this._target.valid&&(u=window.devicePixelRatio,l.uniform2f(this._uFloatingGap,this._levitate*u/this._target.height,a.MINIMUM_CUBOID_HEIGHT*u/this._target.height)),this._altered.reset()},a.prototype.frame=function(){if(h.auxiliaries.assert(this._target&&this._target.valid,"valid target expected"),this._dispatch!==void 0){var l=this._context.gl,s=this._target.size;l.viewport(0,0,s[0],s[1]),l.enable(l.CULL_FACE),l.enable(l.DEPTH_TEST),l.enable(l.STENCIL_TEST),l.stencilFunc(l.ALWAYS,2,255),l.stencilOp(l.KEEP,l.KEEP,l.REPLACE),this._depthMask===!1&&(l.depthFunc(l.LEQUAL),l.depthMask(!1)),this._program.bind(),this._drawRestricted&&l.uniform1i(this._uAttachment,this._attachment),l.uniform2fv(this._uNdcOffset,this._ndcOffset),l.uniform1i(this._uLayer,this._layerIndex),l.uniform1i(this._uArrows,this._arrows?1:0),this._geometry.bind(),this._target.bind();for(var u=0,f=this._faceSequence;u<f.length;u++){var m=f[u];if(l.uniform1i(this._uFace,m),l.uniform4fv(this._uNormalAndLambert,this._faceData.get(m)),this._geometry.valid)for(var y=0;y<this._dispatch.length;y+=2){var b=(m-1)*p.CuboidGeometry.BYTES_PER_VERTEX*4,E=this._dispatch[y+0],x=this._dispatch[y+1];this._geometry.draw(this._layerIndex,E,b,x)}}this._depthMask===!1&&(l.depthFunc(l.LESS),l.depthMask(!0)),l.disable(l.STENCIL_TEST),l.disable(l.DEPTH_TEST),l.disable(l.CULL_FACE)}},a.prototype.colorTableLengthAltered=function(){this._altered.alter("colorTableLength")},Object.defineProperty(a.prototype,"target",{set:function(l){this.assertInitialized(),this._target=l},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ndcOffset",{set:function(l){this.assertInitialized(),this._ndcOffset=l},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"camera",{set:function(l){this.assertInitialized(),this._camera!==l&&(this._camera=l,this._altered.alter("camera"))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dispatch",{set:function(l){this.assertInitialized(),this._dispatch=l},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"layoutData",{set:function(l){this.assertInitialized(),this._layerIndex>0||(this._geometry.layout=l,this._altered.alter("geometry"))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ids",{set:function(l){this.assertInitialized(),this._layerIndex>0||(this._geometry.ids=l,this._altered.alter("geometry"))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"areaScales",{set:function(l){this.assertInitialized(),this._layerIndex>0||(this._geometry.areaScales(l,void 0,1),this._altered.alter("geometry"))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"colors",{set:function(l){this.assertInitialized(),this._layerIndex>0||(this._geometry.colors(l,void 0,1),this._altered.alter("geometry"))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"emphases",{set:function(l){this.assertInitialized(),this._layerIndex>0||(this._geometry.emphases=l,this._altered.alter("emphases"))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"heights",{set:function(l){this.assertInitialized(),this._geometry.heights(l,this._layerIndex),this._altered.alter("geometry")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"colorTable",{set:function(l){this.assertInitialized(),this._colorTable=l,this._altered.alter("colorTable")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"outlineWidth",{set:function(l){this.assertInitialized(),this._outlineWidth!==l&&(this._outlineWidth=l===void 0?a.OUTLINE_WIDTH_DEFAULT:Math.max(0,l),this._altered.alter("outlineWidth"))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"emphasisOutlineWidth",{set:function(l){this.assertInitialized(),this._emphasisOutlineWidth!==l&&(this._emphasisOutlineWidth=l===void 0?a.EMPHASIS_OUTLINE_WIDTH_DEFAULT:Math.max(0,l),this._altered.alter("emphasisOutlineWidth"))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"heightScale",{set:function(l){this.assertInitialized(),this._heightScale!==l&&(this._heightScale=l===void 0?0:h.gl_matrix_extensions.clamp(l,0,1),this._altered.alter("heightScale"))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"levitate",{set:function(l){this.assertInitialized(),this._levitate!==l&&(this._levitate=l===void 0?0:Math.max(0,l),this._altered.alter("levitate"))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"attachment",{set:function(l){h.auxiliaries.logIf(l!==v.MultiRenderTarget.Attachment.Undefined&&!this._drawRestricted,h.auxiliaries.LogLevel.Debug,"expected WEBGL_draw_buffers to be unsupported"),this._attachment=l},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"depthMask",{set:function(l){this._depthMask=l},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"arrows",{set:function(l){this._arrows=l},enumerable:!1,configurable:!0}),a.GEOMETRY_BY_CONTEXT=new Map,a.CUBOID_LAYERS=2,a.REFCOUNT_BY_GEOMETRY=new Map,a.MINIMUM_CUBOID_HEIGHT=4,a.OUTLINE_WIDTH_DEFAULT=.8,a.EMPHASIS_OUTLINE_WIDTH_DEFAULT=1.6,i([g.Initializable.assert_initialized()],a.prototype,"relink",null),i([g.Initializable.assert_initialized()],a.prototype,"optimizeFaceSequence",null),i([g.Initializable.initialize()],a.prototype,"initialize",null),i([g.Initializable.uninitialize()],a.prototype,"uninitialize",null),i([g.Initializable.assert_initialized()],a.prototype,"update",null),i([g.Initializable.assert_initialized()],a.prototype,"frame",null),a}(g.Initializable);t.CuboidRenderPass=d,function(c){(function(a){a[a.Top=1]="Top",a[a.Bottom=2]="Bottom",a[a.Front=3]="Front",a[a.Back=4]="Back",a[a.Left=5]="Left",a[a.Right=6]="Right"})(c.Face||(c.Face={}))}(d=t.CuboidRenderPass||(t.CuboidRenderPass={})),t.CuboidRenderPass=d},function(e,t,r){var n,o=this&&this.__extends||(n=function(d,c){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(a[s]=l[s])})(d,c)},function(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function a(){this.constructor=d}n(d,c),d.prototype=c===null?Object.create(c):(a.prototype=c.prototype,new a)}),i=this&&this.__decorate||function(d,c,a,l){var s,u=arguments.length,f=u<3?c:l===null?l=Object.getOwnPropertyDescriptor(c,a):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(d,c,a,l);else for(var m=d.length-1;m>=0;m--)(s=d[m])&&(f=(u<3?s(f):u>3?s(c,a,f):s(c,a))||f);return u>3&&f&&Object.defineProperty(c,a,f),f};Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenAlignedQuadRenderPass=void 0;var h=r(0),g=r(0),p=r(53),v=function(d){function c(a){var l=d.call(this)||this;return l._altered=Object.assign(new g.ChangeLookup,{any:!1,camera:!1,geometry:!1}),l._context=a,l._program=new g.Program(a,"ScreenAlignedQuadRenderProgram"),l._geometry=new p.ScreenAlignedQuadGeometry(l._context,"ScreenAlignedQuad"),l}return o(c,d),c.prototype.relink=function(){for(var a=0,l=this._program.shaders;a<l.length;a++)l[a].compile();this._program.attribute("a_vertex",this._geometry.vertexLocation),this._program.attribute("a_origin",this._geometry.originLocation),this._program.attribute("a_extent",this._geometry.extentLocation),this._program.attribute("a_offset",this._geometry.offsetLocation),this._program.attribute("a_pointyCorner",this._geometry.pointyCornerLocation),this._program.link(),this._program.linked&&(this._uViewProjection=this._program.uniform("u_viewProjection"),this._uNdcOffset=this._program.uniform("u_ndcOffset"),this._uAspectRatio=this._program.uniform("u_aspectRatio"))},c.prototype.initialize=function(){var a=this._context.gl,l=new g.Shader(this._context,a.VERTEX_SHADER,"screenalignedquad.vert");l.initialize(r(54),!1);var s=new g.Shader(this._context,a.FRAGMENT_SHADER,"screenalignedquad.frag");return s.initialize(r(55),!1),this._program.initialize([s,l],!1),this._geometry.initialize(),!0},c.prototype.uninitialize=function(){this._geometry.uninitialize(),this._program.uninitialize(),this._uViewProjection=void 0,this._uNdcOffset=void 0,this._uAspectRatio=void 0},c.prototype.update=function(){var a=this._context.gl;(this._program.initialized&&this._program.linked||(this.relink(),this._program.linked))&&(this._program.bind(),(this._altered.camera||this._camera.altered)&&(a.uniformMatrix4fv(this._uViewProjection,!1,this._camera.viewProjection),a.uniform1f(this._uAspectRatio,1/this._camera.aspect)),this._altered.geometry&&this._geometry.valid&&this._geometry.update(),this._altered.reset())},c.prototype.frame=function(){h.auxiliaries.assert(this._target&&this._target.valid,"valid target expected");var a=this._context.gl,l=this._target.size;a.viewport(0,0,l[0],l[1]),a.disable(a.DEPTH_TEST),a.enable(a.BLEND),a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA),this._depthMask===!1&&(a.depthFunc(a.LEQUAL),a.depthMask(!1)),this._program.bind(),a.uniform2fv(this._uNdcOffset,this._ndcOffset),this._geometry.bind(),this._target.bind(),this._geometry.valid&&this._geometry.draw(),this._depthMask===!1&&(a.depthFunc(a.LESS),a.depthMask(!0)),a.disable(a.BLEND)},Object.defineProperty(c.prototype,"target",{set:function(a){this.assertInitialized(),this._target=a},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ndcOffset",{set:function(a){this.assertInitialized(),this._ndcOffset=a},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"camera",{set:function(a){this.assertInitialized(),this._camera!==a&&(this._camera=a,this._altered.alter("camera"))},enumerable:!1,configurable:!0}),c.prototype.updateData=function(a,l,s,u){this._geometry.updateData(a,l,s,u),this._altered.alter("geometry")},Object.defineProperty(c.prototype,"depthMask",{set:function(a){this._depthMask=a},enumerable:!1,configurable:!0}),i([g.Initializable.assert_initialized()],c.prototype,"relink",null),i([g.Initializable.initialize()],c.prototype,"initialize",null),i([g.Initializable.uninitialize()],c.prototype,"uninitialize",null),i([g.Initializable.assert_initialized()],c.prototype,"update",null),i([g.Initializable.assert_initialized()],c.prototype,"frame",null),c}(g.Initializable);t.ScreenAlignedQuadRenderPass=v},function(e,t,r){var n,o=this&&this.__extends||(n=function(u,f){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(m[b]=y[b])})(u,f)},function(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function m(){this.constructor=u}n(u,f),u.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)});Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=void 0;var i=r(0),h=r(0),g=r(19),p=r(6),v=r(11),d=r(17),c=r(18),a=r(20),l=i.auxiliaries.assert,s=function(u){function f(m){var y=u.call(this)||this;return y._ndcOffsetScale=1,y._skipInnerNodePasses=!1,y._skipLeafNodePasses=!1,y._skipLabelPass=!1,y._skipInnerLabelPass=!1,y._skipLeafLabelPass=!1,y._skipAggregation=!1,y.coordsAt=function(b,E,x,w){return y._readbackPass.coordsAt(b,E,x,w===void 0?y._camera.viewProjectionInverse:w)},y.idAt=function(b,E){if(y._geometry.initialized){var x=y._readbackPass.idAt(b,E);if(x!==void 0&&x!==0){var w=y._geometry.topology.node(x);return w===void 0?void 0:w.id}}},y._visualization=m,y}return o(f,u),Object.defineProperty(f.prototype,"geometry",{get:function(){return this._geometry},set:function(m){this._geometry=m},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"navigation",{get:function(){return this._navigation},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"camera",{get:function(){return this._camera},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ndcOffsetScale",{get:function(){return this._ndcOffsetScale},set:function(m){this._ndcOffsetScale!==m&&(this._ndcOffsetScale=m,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"blitTargets",{get:function(){return this._multiRenderTarget.debuggableTargets()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"blitTarget",{set:function(m){this._blitTarget!==m&&(this._blitTarget=m,this._blitTarget===2&&(this._debugPass.debug=h.DebugPass.Mode.DepthLinear),this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"skipInnerNodePasses",{get:function(){return this._skipInnerNodePasses},set:function(m){this._skipInnerNodePasses!==m&&(this._skipInnerNodePasses=m,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"skipLeafNodePasses",{get:function(){return this._skipLeafNodePasses},set:function(m){this._skipLeafNodePasses!==m&&(this._skipLeafNodePasses=m,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"skipLabelPass",{get:function(){return this._skipLabelPass},set:function(m){this._skipLabelPass!==m&&(this._skipLabelPass=m,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"skipInnerLabelPass",{get:function(){return this._skipInnerLabelPass},set:function(m){this._skipInnerLabelPass!==m&&(this._skipInnerLabelPass=m,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"skipLeafLabelPass",{get:function(){return this._skipLeafLabelPass},set:function(m){this._skipLeafLabelPass!==m&&(this._skipLeafLabelPass=m,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"skipAggregation",{get:function(){return this._skipAggregation},set:function(m){this._skipAggregation!==m&&(this._skipAggregation=m,this._geometry.altered.alter("innerNodeDrawDispatch"),this._geometry.altered.alter("leafNodeDrawDispatch"),this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"arrows",{set:function(m){this._leafPass1.arrows=m,this.invalidate()},enumerable:!1,configurable:!0}),f.verifyMinimumContextRequirements=function(m){return m.enable(["ANGLE_instanced_arrays","OES_standard_derivatives"]),!0},f.prototype.renderInnerNodes=function(m,y,b){!this._skipInnerNodePasses&&this._geometry.valid&&(this._innerPass.target=m,this._innerPass.attachment=y,this._innerPass.depthMask=b,this._innerPass.frame())},f.prototype.renderLeafNodes=function(m,y,b){!this._skipLeafNodePasses&&this._geometry.valid&&(this._geometry.leafNodeHeights.length>=2&&(this._leafPass1.target=m,this._leafPass1.attachment=y,this._leafPass1.depthMask=b,this._leafPass1.frame()),this._geometry.leafNodeHeights.length>=1&&(this._leafPass0.target=m,this._leafPass0.attachment=y,this._leafPass0.depthMask=b,this._leafPass0.frame()))},f.prototype.renderLeafLabelBackgrounds=function(m,y){this._skipLeafLabelPass||this._skipLabelPass||(this._labelBackgroundPass.target=m,this._labelBackgroundPass.depthMask=y,this._labelBackgroundPass.frame())},f.prototype.renderPoints=function(m,y){this._skipLeafLabelPass||this._skipLabelPass||(this._pointPass.target=m,this._pointPass.depthMask=y,this._pointPass.frame())},f.prototype.renderInnerLabels=function(m,y,b){if(!this._skipInnerLabelPass&&!this._skipLabelPass&&this._geometry.valid){this._innerLabelPass.target=m,this._innerLabelPass.depthMask=b;var E=this._context.gl;E.enable(E.STENCIL_TEST),E.enable(E.DEPTH_TEST),E.stencilFunc(E.EQUAL,1,255),E.stencilOp(E.KEEP,E.KEEP,E.KEEP),this._innerLabelPass.frame(),E.disable(E.STENCIL_TEST)}},f.prototype.renderLeafLabels=function(m,y,b){this._skipLeafLabelPass||this._skipLabelPass||!this._geometry.valid||(this._leafLabelPass.target=m,this._leafLabelPass.depthMask=b,this._leafLabelPass.frame())},f.prototype.initializeMultiRenderTarget=function(m){this.assertUninitialized(),this._multiRenderTarget=new p.MultiRenderTarget(m),this._multiRenderTarget.initialize(),this._multiRenderTarget.primaryFBO.clearStencil(0),this._multiRenderTarget.secondaryFBO.clearStencil(0)},f.prototype.initializeLeafPasses=function(m){this._leafPass0=new g.CuboidRenderPass(m,0),this._leafPass0.initialize(),this._leafPass0.camera=this._camera,this._leafPass1=new g.CuboidRenderPass(m,1),this._leafPass1.initialize(),this._leafPass1.camera=this._camera},f.prototype.initializeInnerPass=function(m){this.assertUninitialized(),this._innerPass=new c.QuadRenderPass(m),this._innerPass.initialize(),this._innerPass.camera=this._camera},f.prototype.initializePointPass=function(m){this._pointPass=new d.PointRenderPass(m),this._pointPass.initialize(),this._pointPass.camera=this.camera,this._pointPass.pointSize=3.5},f.prototype.initializeLeafLabelBackgroundPass=function(m){this._labelBackgroundPass=new a.ScreenAlignedQuadRenderPass(m),this._labelBackgroundPass.initialize(),this._labelBackgroundPass.camera=this.camera},f.prototype.initializeLabelPasses=function(m){var y=this;this.assertUninitialized(),this._innerLabelPass=new h.LabelRenderPass(m),this._innerLabelPass.initialize(),this._innerLabelPass.camera=this.camera,this._innerLabelPass.target=this._multiRenderTarget.defaultFBO,this._innerLabelPass.depthFunc=m.gl.ALWAYS,this._innerLabelPass.aaStepScale=.3,this._innerLabelPass.aaSampling=h.LabelRenderPass.Sampling.Grid3x3,this._leafLabelPass=new h.LabelRenderPass(m),this._leafLabelPass.initialize(),this._leafLabelPass.camera=this.camera,this._leafLabelPass.target=this._multiRenderTarget.defaultFBO,this._leafLabelPass.aaStepScale=.3,this._leafLabelPass.aaSampling=h.LabelRenderPass.Sampling.Grid3x3,this._leafLabelPass.depthFunc=m.gl.ALWAYS;var b=window.SeereneConstants?window.SeereneConstants.STATIC_DIRECTORY:"assets";h.FontFace.fromFile(b+"/roboto.fnt",m).then(function(E){for(var x=0,w=y._innerLabelPass.labels;x<w.length;x++)w[x].fontFace=E;for(var S=0,P=y._leafLabelPass.labels;S<P.length;S++)P[S].fontFace=E;y._fontFace=E,y._innerLabelPass.update(!0),y._leafLabelPass.update(!0),y._visualization.configuration&&(y._visualization.configuration.altered.alter("geometry"),y._visualization.configuration.altered.alter("labels")),y.invalidate()}).catch(function(E){return i.auxiliaries.log(i.auxiliaries.LogLevel.Error,E)})},f.prototype.initializeAccumulationPass=function(m){this.assertUninitialized(),l(this._multiRenderTarget.initialized,"expected multi-render target to be initialized"),l(this._ndcTriangle!==void 0,"expected NDC triangle to be defined"),this._accumulationPass=new h.AccumulatePass(m),this._accumulationPass.initialize(this._ndcTriangle),this._accumulationPass.precision=this._framePrecision,this._accumulationPass.texture=this._multiRenderTarget.colorRenderTexture},f.prototype.initializeBlitPass=function(m){this.assertUninitialized(),l(this._multiRenderTarget.initialized,"expected multi-render target to be initialized"),l(this._ndcTriangle!==void 0,"expected NDC triangle to be defined");var y=this._context.gl,b=this._context.gl2facade;this._blitPass=new h.BlitPass(m),this._blitPass.initialize(this._ndcTriangle),this._blitPass.readBuffer=b.COLOR_ATTACHMENT0,this._blitPass.drawBuffer=y.BACK,this._blitPass.target=this._multiRenderTarget.defaultFBO,this._debugPass=new h.DebugPass(m),this._debugPass.initialize(this._ndcTriangle),this._debugPass.readBuffer=b.COLOR_ATTACHMENT0,this._debugPass.drawBuffer=y.BACK,this._debugPass.target=this._multiRenderTarget.defaultFBO},f.prototype.initializeReadbackPass=function(m){this.assertUninitialized(),l(this._multiRenderTarget.initialized,"expected multi-render target to be initialized"),l(this._ndcTriangle!==void 0,"expected NDC triangle to be defined"),this._readbackPass=new h.ReadbackPass(m),this._readbackPass.initialize(this._ndcTriangle,this._multiRenderTarget.depthFBO!==void 0),this._readbackPass.cache=!0;var y=this._context.gl,b=this._context.gl2facade;this._multiRenderTarget.depthFBO?(this._readbackPass.depthFBO=this._multiRenderTarget.depthFBO,this._readbackPass.depthAttachment=b.COLOR_ATTACHMENT0):(this._readbackPass.depthFBO=this._multiRenderTarget.primaryFBO,this._readbackPass.depthAttachment=y.DEPTH_STENCIL_ATTACHMENT),this._multiRenderTarget.readBackIdFBO?(this._readbackPass.idFBO=this._multiRenderTarget.readBackIdFBO,this._readbackPass.idAttachment=b.COLOR_ATTACHMENT0):(this._readbackPass.idFBO=this._multiRenderTarget.primaryFBO,this._readbackPass.idAttachment=b.COLOR_ATTACHMENT1)},f.prototype.initializeCamera=function(){this.assertUninitialized(),this._camera=new h.Camera,this._camera.near=f.CAMERA_NEAR_DEFAULT,this._camera.far=f.CAMERA_FAR_DEFAULT,this._camera.eye=i.vec3.fromValues(0,1.5,2.2),this._camera.center=i.vec3.fromValues(0,0,.2),this._camera.up=i.vec3.fromValues(0,1,0),this._camera.fovy=2*h.Camera.calculateFovY(20,60)*i.auxiliaries.RAD2DEG},f.prototype.initializeNavigation=function(m,y){this.assertUninitialized(),this._navigation=new v.Navigation(m,y),this._navigation.camera=this._camera,this._navigation.idAccess=this,this._navigation.coordsAccess=this},f.prototype.onInitialize=function(m,y,b){return!!f.verifyMinimumContextRequirements(m)&&(this._ndcOffsetKernel=new h.AntiAliasingKernel(this._multiFrameNumber),this._ndcOffsetKernel.sort(h.AbstractKernel.SortApproach.BySquaredLength),this._ndcTriangle=new h.NdcFillingTriangle(m,"NdcTriangle"),this._ndcTriangle.initialize(0),this.initializeMultiRenderTarget(m),this.initializeAccumulationPass(m),this.initializeBlitPass(m),this.initializeReadbackPass(m),this.initializeCamera(),this.initializeNavigation(y,b),this.initializeInnerPass(m),this.initializeLeafPasses(m),this.initializePointPass(m),this.initializeLeafLabelBackgroundPass(m),this.initializeLabelPasses(m),!0)},f.prototype.onUninitialize=function(){this._ndcTriangle.uninitialize(),this._multiRenderTarget.uninitialize(),this._accumulationPass.uninitialize(),this._blitPass.uninitialize(),this._debugPass.uninitialize(),this._readbackPass.uninitialize(),this._innerPass.uninitialize(),this._pointPass.uninitialize(),this._innerLabelPass.uninitialize(),this._leafLabelPass.uninitialize(),this._labelBackgroundPass.uninitialize()},f.prototype.onDiscarded=function(){},f.prototype.onUpdate=function(){this._navigation.update();var m=!1;try{m=this._visualization.update()}catch(P){console.log(P)}for(var y=!1,b=0,E=this._innerLabelPass.labels;b<E.length;b++)if((S=E[b]).altered||S.color.altered){y=!0;break}for(var x=0,w=this._leafLabelPass.labels;x<w.length;x++){var S;if((S=w[x]).altered||S.color.altered){y=!0;break}}return m||y||this._altered.any||this._camera.altered},f.prototype.onPrepare=function(){this._geometry.altered.any&&this._geometry.valid&&(this._innerPass.ids=this._geometry.innerNodeIndices,this._innerPass.layout=this._geometry.innerNodeLayouts,this._innerPass.colors=this._geometry.innerNodeColors,this._innerPass.emphases=this._geometry.innerNodeEmphases,this._innerPass.colorTable=this._geometry.colorTable,this._geometry.leafNodeHeights.length>=1&&(this._leafPass0.ids=this._geometry.leafNodeIndices,this._leafPass0.layoutData=this._geometry.leafNodeLayouts,this._leafPass0.areaScales=this._geometry.leafNodeAreaScales[0],this._leafPass0.colors=this._geometry.leafNodeColors[0],this._leafPass0.heights=this._geometry.leafNodeHeights[0],this._leafPass0.colorTable=this._geometry.colorTable),this._geometry.leafNodeHeights.length>=2&&(this._leafPass1.ids=this._geometry.leafNodeIndices,this._leafPass1.layoutData=this._geometry.leafNodeLayouts,this._leafPass1.areaScales=this._geometry.leafNodeAreaScales[1],this._leafPass1.colors=this._geometry.leafNodeColors[1],this._leafPass1.heights=this._geometry.leafNodeHeights[1],this._leafPass1.colorTable=this._geometry.colorTable)),this._geometry.altered.colorTableLength&&(this._leafPass0.colorTableLengthAltered(),this._leafPass1.colorTableLengthAltered());var m=this._geometry.altered;this._geometry.valid&&m.any&&(m.innerNodeEmphases&&(this._innerPass.emphases=this._geometry.innerNodeEmphases),m.innerNodeDrawDispatch&&!this._skipAggregation&&(this._innerPass.dispatch=this._geometry.innerNodeDrawDispatch.filtered(0)),this._skipAggregation&&(this._innerPass.dispatch=this._geometry.innerNodeDrawDispatch.unfiltered()),m.outlineWidth&&(this._innerPass.outlineWidth=this._geometry.outlineWidth),m.emphasisOutlineWidth&&(this._innerPass.emphasisOutlineWidth=this._geometry.emphasisOutlineWidth),m.leafNodeEmphases&&(this._leafPass0.emphases=this._geometry.leafNodeEmphases),m.leafNodeDrawDispatch&&!this._skipAggregation&&(this._leafPass0.dispatch=this._geometry.leafNodeDrawDispatch.filtered(0),this._leafPass1.dispatch=this._geometry.leafNodeDrawDispatch.filtered(0)),this._skipAggregation&&(this._leafPass0.dispatch=this._geometry.leafNodeDrawDispatch.unfiltered(),this._leafPass1.dispatch=this._geometry.leafNodeDrawDispatch.unfiltered()),m.outlineWidth&&(this._leafPass0.outlineWidth=this._geometry.outlineWidth,this._leafPass1.outlineWidth=this._geometry.outlineWidth),m.emphasisOutlineWidth&&(this._leafPass0.emphasisOutlineWidth=this._geometry.emphasisOutlineWidth,this._leafPass1.emphasisOutlineWidth=this._geometry.emphasisOutlineWidth),m.heightScale&&(this._leafPass0.heightScale=this._geometry.heightScale,this._leafPass1.heightScale=this._geometry.heightScale),m.levitate&&(this._leafPass1.levitate=this._geometry.levitate)),this._altered.frameSize&&(this._multiRenderTarget.resize(this._frameSize[0],this._frameSize[1]),this._camera.viewport=[this._frameSize[0],this._frameSize[1]],this.invalidate()),this._altered.canvasSize&&(this._camera.aspect=this._canvasSize[0]/this._canvasSize[1],this._readbackPass.coordinateReferenceSize=this._canvasSize),this._altered.multiFrameNumber&&(this._ndcOffsetKernel.width=this._multiFrameNumber,this._ndcOffsetKernel.sort(h.AbstractKernel.SortApproach.BySquaredLength)),this._altered.framePrecision&&(this._accumulationPass.precision=this._framePrecision),this._altered.clearColor&&this._multiRenderTarget.setClearColor(this._clearColor),this._innerPass.update(),this._leafPass0.update(),this._leafPass1.update(),this._pointPass.update(),this._labelBackgroundPass.update(),this._innerLabelPass.update(),this._leafLabelPass.update(),this._accumulationPass.update(),this._readbackPass.frame(),this._camera.altered&&(this._debugPass.near=this._camera.near,this._debugPass.far=this._camera.far),this._visualization.prepare(),this._camera.altered=!1,this._geometry.altered.reset(),this._altered.reset()},f.prototype.onFrame=function(m){var y=this._context.gl,b=this._context.gl2facade,E=this._ndcOffsetKernel.get(m);E[0]=2*this._ndcOffsetScale*E[0]/this._frameSize[0],E[1]=2*this._ndcOffsetScale*E[1]/this._frameSize[1],this._leafPass0.ndcOffset=E,this._leafPass1.ndcOffset=E,this._innerPass.ndcOffset=E,this._innerLabelPass.ndcOffset=E,this._leafLabelPass.ndcOffset=E,this._pointPass.ndcOffset=E,this._labelBackgroundPass.ndcOffset=E;var x=m===0,w=this._multiRenderTarget,S=x?w.primaryFBO:w.secondaryFBO;S.clear(y.COLOR_BUFFER_BIT|y.DEPTH_BUFFER_BIT|y.STENCIL_BUFFER_BIT,!0,!1),y.viewport(0,0,this._camera.viewport[0],this._camera.viewport[1]),y.depthFunc(y.LESS);var P=p.MultiRenderTarget.Attachment;w.drawRestricted||b.drawBuffers([b.COLOR_ATTACHMENT0,b.COLOR_ATTACHMENT1]),this.renderLeafNodes(S,w.drawRestricted?P.Color:P.Undefined,!0),this.renderInnerNodes(S,w.drawRestricted?P.Color:P.Undefined,!0),w.drawRestricted||b.drawBuffers([b.COLOR_ATTACHMENT0,y.NONE]),this.renderInnerLabels(S,w.drawRestricted?P.Color:P.Undefined,!1),this.renderLeafLabelBackgrounds(S,!1),this.renderLeafLabels(S,w.drawRestricted?P.Color:P.Undefined,!1),this.renderPoints(S,!1),w.drawRestricted||b.drawBuffers([b.COLOR_ATTACHMENT0,b.COLOR_ATTACHMENT1]),x&&w.idFBO&&(w.idFBO.clear(y.COLOR_BUFFER_BIT|y.STENCIL_BUFFER_BIT),this.renderLeafNodes(w.idFBO,P.Id,!1),this.renderInnerNodes(w.idFBO,P.Id,!1)),x&&w.depthFBO&&(w.depthFBO.clear(y.COLOR_BUFFER_BIT|y.STENCIL_BUFFER_BIT),this.renderLeafNodes(w.depthFBO,P.Depth,!1),this.renderInnerNodes(w.depthFBO,P.Depth,!1)),this._accumulationPass.frame(m)},f.prototype.onSwap=function(){var m,y=this._multiRenderTarget.debuggableTarget(this._blitTarget);if(this._accumulationPass.initialized&&((m=this._accumulationPass.framebuffer)===null||m===void 0?void 0:m.initialized)&&this._blitPass.initialized&&(!y||y[0].initialized)){var b=this._blitTarget===2?this._debugPass:this._blitPass;b.framebuffer=y?y[0]:this._accumulationPass.framebuffer,b.readBuffer=y?y[1]:this._context.gl2facade.COLOR_ATTACHMENT0,b.frame()}},f.prototype.updateLabelsForPass=function(m,y){for(var b=[],E=0,x=m;E<x.length;E++){var w=x[E];w!==void 0&&(w.fontFace=this._fontFace,b.push(w))}y.labels=b,y.update()},f.prototype.updateLabels=function(m,y){this.updateLabelsForPass(m,this._innerLabelPass),this.updateLabelsForPass(y,this._leafLabelPass)},f.prototype.updateLeafLabelPass=function(){this._leafLabelPass.update()},f.prototype.updateLeafLabelBackgrounds=function(m){for(var y=[],b=[],E=[],x=[],w=0,S=0,P=m;S<P.length;S++)if((D=P[S])&&D.color.a!==0){var A=2*D.extent[1]/this._frameSize[1];w=Math.max(w,A)}for(var L=0,k=m;L<k.length;L++){var D;if((D=k[L])&&D.color.a!==0){y.push(D.position[0],D.position[1],D.position[2]);var N=(2*D.extent[0]+1.75)/this._frameSize[0];b.push(N,w);var W=1.75/this._frameSize[1],H=D.alignment===h.Label.Alignment.Right?-W-N:W,q=1.75/this._frameSize[1],X=D.lineAnchor===h.Label.LineAnchor.Top?q-w:-q;E.push(H,X);var Y=0;D.alignment===h.Label.Alignment.Left?D.lineAnchor===h.Label.LineAnchor.Bottom?Y=1:D.lineAnchor===h.Label.LineAnchor.Top&&(Y=2):D.alignment===h.Label.Alignment.Right&&(D.lineAnchor===h.Label.LineAnchor.Bottom?Y=3:D.lineAnchor===h.Label.LineAnchor.Top&&(Y=4)),x.push(Y)}}this._labelBackgroundPass.updateData(new Float32Array(y),new Float32Array(b),new Float32Array(E),new Uint8Array(x))},f.prototype.updatePoints=function(m){for(var y=[],b=[],E=0,x=m;E<x.length;E++){var w=x[E];w&&(y.push(w.position[0],w.position[1],w.position[2]),b.push(w.color.r,w.color.g,w.color.b,w.color.a))}this._pointPass.positions=new Float32Array(y),this._pointPass.colors=new Float32Array(b)},f.prototype.frameSizeAltered=function(){return this._altered.frameSize},f.prototype.setCameraEye=function(m,y,b){this._camera.eye=i.vec3.fromValues(m,y,b)},f.prototype.invalidate=function(){this.initialized&&u.prototype.invalidate.call(this,!0)},f.CAMERA_NEAR_DEFAULT=.01,f.CAMERA_FAR_DEFAULT=10,f}(h.Renderer);t.Renderer=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.RendererCapabilities=void 0;var n=r(0),o=r(10),i=r(21),h=n.auxiliaries.assert;(function(g){var p;(function(d){d[d.ANIMATION=0]="ANIMATION",d[d.LAYERS=1]="LAYERS"})(p=g.Capability||(g.Capability={}));var v={AnimationRenderer:[p.ANIMATION,p.LAYERS],Renderer:[p.LAYERS]};g.supportsCapabilities=function(d,c){return d instanceof i.Renderer?v.Renderer.every(function(a){return c.includes(a)}):d instanceof o.AnimationRenderer&&v.AnimationRenderer.every(function(a){return c.includes(a)})},g.createRendererFromCapabilities=function(d,c){return d===void 0||d.every(function(a){return v.Renderer.includes(a)})?new i.Renderer(c):d.every(function(a){return v.AnimationRenderer.includes(a)})?new o.AnimationRenderer(c):(h(!1,"Could not create Renderer for capabilities: "+d),new i.Renderer(c))}})(t.RendererCapabilities||(t.RendererCapabilities={}))},function(e,t,r){var n,o=this&&this.__extends||(n=function(v,d){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(c[l]=a[l])})(v,d)},function(v,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function c(){this.constructor=v}n(v,d),v.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}),i=this&&this.__decorate||function(v,d,c,a){var l,s=arguments.length,u=s<3?d:a===null?a=Object.getOwnPropertyDescriptor(d,c):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(v,d,c,a);else for(var f=v.length-1;f>=0;f--)(l=v[f])&&(u=(s<3?l(u):s>3?l(d,c,u):l(d,c))||u);return s>3&&u&&Object.defineProperty(d,c,u),u};Object.defineProperty(t,"__esModule",{value:!0}),t.Geometry=void 0;var h=r(0),g=r(67),p=function(v){function d(){var c=v!==null&&v.apply(this,arguments)||this;return c._altered=Object.assign(new h.ChangeLookup,{any:!1,colorTableLength:!1,colorTable:!1,innerNodeIndices:!1,innerNodeLayouts:!1,innerNodeEmphases:!1,innerNodeColors:!1,innerNodeDrawDispatch:!1,layers:!1,leafNodeIndices:!1,leafNodeLayouts:!1,leafNodeEmphases:!1,leafNodeAreaScales:!1,leafNodeColors:!1,leafNodeHeights:!1,leafNodeDrawDispatch:!1,outlineWidth:!1,emphasisOutlineWidth:!1,heightScale:!1,levitate:!1,labels:!1}),c._leafNodeAreaScales=new Array,c._leafNodeColors=new Array,c._leafNodeHeights=new Array,c}return o(d,v),d.prototype.initialize=function(c){return this._topology=c,this._altered.alter("any"),this._topology.numberOfInnerNodes>0||this._topology.numberOfLeafNodes>0},d.prototype.uninitialize=function(){this._topology=void 0,this._colorTable=void 0,this._leafNodeAreaScales.length=0,this._leafNodeColors.length=0,this._leafNodeHeights.length=0,this._innerNodeIndices=void 0,this._innerNodeLayouts=void 0,this._innerNodeEmphases=void 0,this._innerNodeColors=void 0,this._innerNodeDrawDispatch=void 0,this._leafNodeIndices=void 0,this._leafNodeLayouts=void 0,this._leafNodeEmphases=void 0,this._leafNodeDrawDispatch=void 0},d.prototype.asObjBlob=function(c,a){return g.ObjExport.blob(this,c,a)},d.prototype.downloadObjBlob=function(c,a,l){c===void 0&&(c="treemap.obj");var s=this.asObjBlob(a,l),u=window.URL.createObjectURL(s),f=document.createElement("a");f.setAttribute("href",u),f.setAttribute("download",c),f.click()},Object.defineProperty(d.prototype,"altered",{get:function(){return this._altered},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"topology",{get:function(){return this.assertInitialized(),this._topology},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"innerNodeIndices",{get:function(){return this._innerNodeIndices},set:function(c){this.assertInitialized(),this._innerNodeIndices=c,this._altered.alter("innerNodeIndices")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"innerNodeLayouts",{get:function(){return this._innerNodeLayouts},set:function(c){this.assertInitialized(),this._innerNodeLayouts=c,this._altered.alter("innerNodeLayouts")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"innerNodeEmphases",{get:function(){return this._innerNodeEmphases},set:function(c){this.assertInitialized(),this._innerNodeEmphases=c,this._altered.alter("innerNodeEmphases")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"innerNodeColors",{get:function(){return this._innerNodeColors},set:function(c){this.assertInitialized(),this._innerNodeColors=c,this._altered.alter("innerNodeColors")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"innerNodeDrawDispatch",{get:function(){return this._innerNodeDrawDispatch},set:function(c){this.assertInitialized(),this._innerNodeDrawDispatch=c,this._altered.alter("innerNodeDrawDispatch")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"leafNodeIndices",{get:function(){return this._leafNodeIndices},set:function(c){this.assertInitialized(),this._leafNodeIndices=c,this._altered.alter("leafNodeIndices")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"leafNodeLayouts",{get:function(){return this._leafNodeLayouts},set:function(c){this.assertInitialized(),this._leafNodeLayouts=c,this._altered.alter("leafNodeLayouts")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"leafNodeEmphases",{get:function(){return this._leafNodeEmphases},set:function(c){this.assertInitialized(),this._leafNodeEmphases=c,this._altered.alter("leafNodeEmphases")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"leafNodeAreaScales",{get:function(){return this._leafNodeAreaScales},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"leafNodeColors",{get:function(){return this._leafNodeColors},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"colorTable",{get:function(){return this._colorTable},set:function(c){this.assertInitialized(),this._colorTable=c,this._altered.alter("colorTable")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"leafNodeHeights",{get:function(){return this._leafNodeHeights},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"leafNodeDrawDispatch",{get:function(){return this._leafNodeDrawDispatch},set:function(c){this.assertInitialized(),this._leafNodeDrawDispatch=c,this._altered.alter("leafNodeDrawDispatch")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"innerNodeCount",{get:function(){return this.assertInitialized(),this._topology.numberOfInnerNodes},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"leafNodeCount",{get:function(){return this.assertInitialized(),this._topology.numberOfLeafNodes},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"heightScale",{get:function(){return this._heightScale},set:function(c){this.assertInitialized(),this._heightScale=c,this._altered.alter("heightScale")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"levitate",{get:function(){return this._levitate},set:function(c){this.assertInitialized(),this._levitate=c,this._altered.alter("levitate")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"outlineWidth",{get:function(){return this._outlineWidth},set:function(c){this.assertInitialized(),this._outlineWidth=c,this._altered.alter("outlineWidth")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"emphasisOutlineWidth",{get:function(){return this._emphasisOutlineWidth},set:function(c){this.assertInitialized(),this._emphasisOutlineWidth=c,this._altered.alter("emphasisOutlineWidth")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"leafLayerCount",{get:function(){return this.assertInitialized(),this._leafNodeHeights.length},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"valid",{get:function(){return this.initialized},enumerable:!1,configurable:!0}),i([h.Initializable.initialize()],d.prototype,"initialize",null),i([h.Initializable.uninitialize()],d.prototype,"uninitialize",null),d}(h.Initializable);t.Geometry=p,function(v){(function(d){d[d.None=0]="None",d[d.Outline=1]="Outline",d[d.Highlight=2]="Highlight"})(v.Emphasis||(v.Emphasis={}))}(p=t.Geometry||(t.Geometry={})),t.Geometry=p},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.RelativeLabelPosition=void 0;var n=r(0),o=n.auxiliaries.assert,i=n.gl_matrix_extensions.v2;(function(h){var g;(function(p){p.UpperRight="upper-right",p.UpperLeft="upper-left",p.LowerRight="lower-right",p.LowerLeft="lower-left",p.Hidden="hidden"})(g=h.Type||(h.Type={})),h.labelOrigin=function(p,v,d){switch(p){case g.UpperRight:return v;case g.UpperLeft:return n.vec2.sub(i(),v,[d[0],0]);case g.LowerLeft:return n.vec2.sub(i(),v,d);case g.LowerRight:return n.vec2.sub(i(),v,[0,d[1]]);case g.Hidden:return v;default:o(!1,"No valid type for relative label position, given"+p)}return n.vec2.create()},h.isVisible=function(p){return p!==g.Hidden},h.relativeLabelPosition=function(p,v){var d=n.vec2.add(i(),p,[v[0]/2,v[1]/2]);return d[0]>0&&d[1]>0?g.UpperRight:d[0]<0&&d[1]>0?g.UpperLeft:d[0]<0&&d[1]<0?g.LowerLeft:d[0]>0&&d[1]<0?g.LowerRight:(o(!1,"midpointOffset is "+d+", given offset "+p+" and extent "+v),g.Hidden)}})(t.RelativeLabelPosition||(t.RelativeLabelPosition={}))},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.LabelManagement=t.LabelPaddingSide=void 0;var n,o=r(0),i=o.auxiliaries.assert,h=o.auxiliaries.log,g=o.auxiliaries.LogLevel;function p(c,a,l){c.length>0&&c[c.length-1].value<a&&(c[c.length-1]={nodeId:l,value:a},c.sort(function(s,u){return u.value-s.value}))}function v(c,a){a.filter(function(l){return l.nodeId!==void 0}).map(function(l){c.add(l.nodeId)})}(function(c){c[c.Bottom=0]="Bottom",c[c.Top=1]="Top",c[c.Left=2]="Left",c[c.Right=3]="Right"})(n=t.LabelPaddingSide||(t.LabelPaddingSide={}));var d=function(){function c(){}return c.createLeafLabel=function(a,l){var s,u=new o.Projected3DLabel(new o.Text("  "+a+"  "),o.Label.Type.Dynamic);return(s=u.color).fromF32.apply(s,c.leafLabelColor),u.lineAnchor=o.Label.LineAnchor.Bottom,u.fontSize=20,i(l.length===3,"Expected a 3D position for leaf label anchor, got "+l),u.position=l,u},c.createInnerNodeLabel=function(a,l,s){var u,f=new o.Position3DLabel(new o.Text(a),o.Label.Type.Static);(u=f.color).fromF32.apply(u,c.innerLabelColor),f.alignment=o.Label.Alignment.Center,f.lineAnchor=o.Label.LineAnchor.Bottom;var m=n.Bottom,y=0,b=0;switch(f.fontSize=2*s,f.elide=o.Label.Elide.Middle,+m){case n.Bottom:y=l.left+l.right-1,b=2*(l.bottom-s)-1,f.lineWidth=2*l.width,f.direction=[1,0,0],f.up=[0,0,-1];break;case n.Top:y=l.left+l.right-1,b=2*(l.top+s)-1,f.lineWidth=2*l.width,f.direction=[-1,0,0],f.up=[0,0,1];break;case n.Left:y=2*(l.left-s)-1,b=l.top+l.bottom-1,f.lineWidth=2*l.height,f.direction=[0,0,1],f.up=[1,0,0];break;case n.Right:y=2*(l.right+s)-1,b=l.top+l.bottom-1,f.lineWidth=2*l.height,f.direction=[0,0,-1],f.up=[-1,0,0];break;default:f.fontSize=0,h(g.Warning,m+" is not a valid value of LabelPaddingSide, skip label '"+a+"'")}return f.position=[y,0,-b],f},c.createInnerNodeLabelOnAccessory=function(a,l){var s,u=new o.Position3DLabel(new o.Text(a),o.Label.Type.Static);(s=u.color).fromF32.apply(s,c.innerLabelColor),u.alignment=o.Label.Alignment.Center,u.lineAnchor=o.Label.LineAnchor.Bottom;var f=l.left+l.right-1,m=2*l.bottom-1;return u.fontSize=2*l.height,u.elide=o.Label.Elide.Middle,u.lineWidth=2*l.width,u.position=[f,0,-m],u.direction=[1,0,0],u.up=[0,0,-1],u},c.fillLeafLabelArray=function(a,l,s,u,f,m){var y=new Array(a.numberOfInnerNodes);return s.forEach(function(b){var E=a.leafNodeById(b),x=l.get(b);if(E!==void 0&&x!==void 0&&x.length!==0){var w=E.index-a.numberOfInnerNodes,S=4*w,P=f[S+0],A=f[S+1],L=f[S+2],k=f[S+3],D=m[2*w+1];if(L>0&&k>0){var N=P+.5*L,W=D*u/255,H=A+.5*k;y[E.index]=c.createLeafLabel(x,[N,W,H])}}}),y},c.fillInnerNodeLabelArrayOnAccessory=function(a,l,s,u){var f=new Array(a.numberOfInnerNodes);return s.forEach(function(m){var y=a.innerNodeById(m);if(y!==void 0&&u[y.index]!==void 0&&u[y.index].area>0){var b=l.get(m);if(b===void 0||b.length===0)return;f[y.index]=c.createInnerNodeLabelOnAccessory(b,u[y.index])}}),f},c.fillInnerNodeLabelArray=function(a,l,s,u,f){var m=new Array(a.numberOfInnerNodes);return s.forEach(function(y){var b=a.innerNodeById(y);if(b!==void 0&&u[b.index]!==void 0){var E=l.get(y);if(E===void 0||E.length===0)return;!b.isLeaf&&u[b.index].area>0&&(m[b.index]=c.createInnerNodeLabel(E,u[b.index],f[b.index]))}}),m},c.createLabelSelection=function(a,l,s,u,f,m,y,b,E,x,w){var S=new Set,P=new Array(b),A=new Array(E),L=new Array(x),k=new Array(w);return P.fill({nodeId:void 0,value:-1}),A.fill({nodeId:void 0,value:-1}),L.fill({nodeId:void 0,value:-1}),k.fill({nodeId:void 0,value:-1}),a.parentsDoUntilDepth(y[1],function(D){D.depth<y[0]||f[D.index]||(p(P,l[D.index],D.id),m.has(D.id)&&S.add(D.id))}),a.forEachLeafNode(function(D){f[D.index]||D.id===void 0||(p(A,l[D.index],D.id),p(L,s[D.index],D.id),p(k,u[D.index],D.id),m.has(D.id)&&S.add(D.id))}),v(S,P),v(S,A),v(S,L),v(S,k),S},c.fillLeafLabelArrayByExplicitNames=function(a,l,s,u,f){var m=new Map,y=new Set;return Object.keys(l).forEach(function(b){var E=parseInt(b,10);m.set(E,l[E]),y.add(E)}),c.fillLeafLabelArray(a,m,y,s,u,f)},c.fillInnerNodeLabelArrayOnAccessoryByExplicitNames=function(a,l,s){var u=new Map,f=new Set;return Object.keys(l).forEach(function(m){var y=parseInt(m,10);u.set(y,l[y]),f.add(y)}),c.fillInnerNodeLabelArrayOnAccessory(a,u,f,s)},c}();t.LabelManagement=d,function(c){c.leafLabelColor=[0,0,0,.8],c.innerLabelColor=[0,0,0,.54]}(d=t.LabelManagement||(t.LabelManagement={})),t.LabelManagement=d},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.DrawDispatch=void 0;var n=r(0),o=r(75),i=r(27),h=function(){function g(){this._ids=void 0,this._mask=void 0,this._slices=void 0,this._filters=new Map,this._unfiltered=void 0,this._sequences=new Map,this._complements=new Map}return Object.defineProperty(g,"debug",{set:function(p){p&&n.auxiliaries.logVerbosity()<n.auxiliaries.LogLevel.Debug&&(n.auxiliaries.logVerbosity(n.auxiliaries.LogLevel.Debug),n.auxiliaries.log(n.auxiliaries.LogLevel.Debug,"changed log verbosity to "+n.auxiliaries.LogLevel.Debug+" (debug)")),g._debug=p},enumerable:!1,configurable:!0}),g.encode=function(p){var v="draw dispatch encode";n.auxiliaries.logPerformanceStartIf(g._debug,v);var d=new Array;if(p.length===0)return n.auxiliaries.logPerformanceStopIf(g._debug,v,"empty",i.PERF_LOG_INDENT),d;p.sort(function(u,f){return u-f});var c=p[0],a=p[0];d.push(c);for(var l=1;l<p.length;++l){var s=p[l];a+1!==s?(d.push(a-c+1),c=a=s,d.push(c)):a=s}return d.push(a-c+1),n.auxiliaries.logPerformanceStopIf(g._debug,v,void 0,i.PERF_LOG_INDENT),d},g.prototype.slice=function(p){var v="draw dispatch slice";if(n.auxiliaries.logPerformanceStartIf(g._debug,v),this._slices===void 0)return n.auxiliaries.logPerformanceStopIf(g._debug,v,"undefined",i.PERF_LOG_INDENT),p;for(var d=new Array,c=0;c<this._slices.length;c+=2)for(var a=this._slices[c+0],l=this._slices[c+1],s=0;s<p.length;s+=2){var u=p[s+0],f=u+p[s+1]-1;if(!(f<a||u>l)){var m=Math.max(a,u),y=Math.min(l,f)-m+1;d.push(m),d.push(y)}}return n.auxiliaries.logPerformanceStopIf(g._debug,v,void 0,i.PERF_LOG_INDENT),d},g.prototype.compute_unfiltered=function(){var p=this,v="draw dispatch unfiltered";if(n.auxiliaries.logPerformanceStartIf(g._debug,v),this._ids===void 0)return this._unfiltered=void 0,void n.auxiliaries.logPerformanceStopIf(g._debug,v,"undefined",i.PERF_LOG_INDENT);var d=this._ids.map(function(c,a){return a}).filter(function(c){return p._mask===void 0||p._mask[c]>0});this._unfiltered=this.slice(g.encode(d)),n.auxiliaries.logPerformanceStopIf(g._debug,v,void 0,i.PERF_LOG_INDENT)},g.prototype.compute_filtered=function(p){var v=this,d="draw dispatch filtered";n.auxiliaries.logPerformanceStartIf(g._debug,d);var c=this._filters.get(p);if(c===void 0||this._ids===void 0)return this._sequences.set(p,[]),void n.auxiliaries.logPerformanceStopIf(g._debug,d,"undefined",i.PERF_LOG_INDENT);var a=c.map(function(s){return v._ids.indexOf(s)}).filter(function(s){return v._mask===void 0||v._mask[s]>0}),l=this.slice(g.encode(a));this._sequences.set(p,l),n.auxiliaries.logPerformanceStopIf(g._debug,d,void 0,i.PERF_LOG_INDENT)},g.prototype.compute_complement=function(p){var v=this,d="draw dispatch complement";n.auxiliaries.logPerformanceStartIf(g._debug,d);var c=this._filters.get(p);if(c===void 0||this._ids===void 0)return this._sequences.set(p,[]),void n.auxiliaries.logPerformanceStopIf(g._debug,d,"undefined",i.PERF_LOG_INDENT);var a=this._ids.map(function(s,u){return u}).filter(function(s){return c.indexOf(v._ids[s])===-1&&(v._mask===void 0||v._mask[s]>0)}),l=this.slice(g.encode(a));this._complements.set(p,l),n.auxiliaries.logPerformanceStopIf(g._debug,d,void 0,i.PERF_LOG_INDENT)},g.prototype.count=function(p){return p.reduce(function(v,d,c){return c%2==1?v+d:v},0)},g.prototype.invalidate=function(p){if(p)return this._sequences.delete(p),void this._complements.delete(p);this._sequences.clear(),this._complements.clear(),this._unfiltered=void 0},g.prototype.filter=function(p,v){this.invalidate(p),this._filters.set(p,v instanceof Uint32Array?Array.from(v):v)},g.prototype.unfiltered=function(){return this._ids===void 0?new Array:(this._unfiltered===void 0&&this.compute_unfiltered(),this._unfiltered)},g.prototype.filtered=function(p){return this._filters.has(p)?(this._sequences.has(p)||this.compute_filtered(p),this._sequences.get(p)):(n.auxiliaries.log(n.auxiliaries.LogLevel.Warning,"unknown draw dispatch sequence handle, given "+p),new Array(0))},g.prototype.complemented=function(p){return this._filters.has(p)?(this._complements.has(p)||this.compute_complement(p),this._complements.get(p)):(n.auxiliaries.log(n.auxiliaries.LogLevel.Warning,"unknown draw dispatch sequence handle, given "+p),new Array(0))},g.prototype.unfilteredCount=function(){var p=this.unfiltered();return this.count(p)},g.prototype.filteredCount=function(p){var v=this.filtered(p);return this.count(v)},g.prototype.complementedCount=function(p){var v=this.complemented(p);return this.count(v)},Object.defineProperty(g.prototype,"mask",{set:function(p){this.invalidate(),p!==void 0?o.IS_EDGE?this._mask=p instanceof Uint8Array?Array.from(p):p:this._mask=p instanceof Uint8Array?p:Uint8Array.from(p):this._mask=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"slices",{get:function(){return this._slices},set:function(p){this.invalidate(),this._slices=p},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"ids",{set:function(p){this.invalidate(),o.IS_EDGE||o.IS_IE11?this._ids=p instanceof Uint32Array?Array.from(p):p:this._ids=p instanceof Uint32Array?p:Uint32Array.from(p),this._filters.clear(),this._mask=void 0},enumerable:!1,configurable:!0}),g._debug=!1,g}();t.DrawDispatch=h},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PERF_LOG_INDENT=void 0,t.PERF_LOG_INDENT=24},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Row=void 0;var n=r(0).auxiliaries.assert,o=r(4),i=function(){function h(g,p,v,d,c){this._tree=g,this._weights=p,this._availableSpace=v,this._availableWeight=d,this._horizontal=c,this._insertedChildrenCount=0,this._overallChildrenCount=0,this._parentWeight=d,this._childrenWeight=0,this._overallChildrenWeight=0}return h.aspectRatio=function(g,p,v){var d=g*p;return d>v?d/v:v/d},h.prototype.optimizedAverageAspectRatio=function(g){if(g){var p=Math.min(this._childrenWeight+g,this._availableWeight),v=Math.min(p/this._availableWeight,1),d=this._horizontal?this._availableSpace.width:this._availableSpace.height,c=(this._horizontal?this._availableSpace.height:this._availableSpace.width)*v;return h.aspectRatio(1/(this._insertedChildrenCount+1),d,c)}return p=this._childrenWeight,v=Math.min(p/this._availableWeight,1),d=this._horizontal?this._availableSpace.width:this._availableSpace.height,c=(this._horizontal?this._availableSpace.height:this._availableSpace.width)*v,h.aspectRatio(1/this._insertedChildrenCount,d,c)},h.prototype.insert=function(g,p){this._firstChild||(this._firstChild=g),n(this._lastChild===void 0||this._lastChild===g,"Next node invariant not held."),this._lastChild=this._tree.node(g.nextSibling),p>Number.EPSILON&&(this._childrenWeight=Math.min(this._childrenWeight+p,this._availableWeight),this._overallChildrenWeight=Math.min(this._overallChildrenWeight+p,this._parentWeight),this._insertedChildrenCount+=1)},h.prototype.layoutNodes=function(g){var p=this;if(this._firstChild!==void 0)if(this.isDisabled)this._tree.siblingsRangeDo(this._firstChild,this._lastChild,function(a){g[a.index]=new o.Rect(p._availableSpace.left,p._availableSpace.bottom,p._availableSpace.left,p._availableSpace.bottom)});else{var v=this.currentSpace;if(this._horizontal){var d=v.left;this._tree.siblingsRangeDo(this._firstChild,this._lastChild,function(a){var l=p._weights[a.index],s=v.width*l/p._childrenWeight,u=Math.min(d+s,v.right);g[a.index]=new o.Rect(d,v.bottom,u,v.top),n(p._availableSpace.comprises(g[a.index]),"Expect that child rect is within parent rect"),d=u})}else{var c=v.bottom;this._tree.siblingsRangeDo(this._firstChild,this._lastChild,function(a){var l=p._weights[a.index],s=v.height*l/p._childrenWeight,u=Math.min(c+s,v.top);g[a.index]=new o.Rect(v.left,c,v.right,u),n(p._availableSpace.comprises(g[a.index]),"Expect that child rect is within parent rect"),c=u})}}},Object.defineProperty(h.prototype,"isDisabled",{get:function(){return this._availableWeight<=0||this._availableSpace.width<=0||this._availableSpace.height<=0},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"availableWeight",{get:function(){return this._availableWeight},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"remainingWeight",{get:function(){return this.isDisabled?0:Math.max(this._parentWeight-this._overallChildrenWeight,0)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"availableSpace",{get:function(){return this._availableSpace},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"currentSpace",{get:function(){if(this.isDisabled)return this._availableSpace.truncateBottom(this._availableSpace.top);if(this._childrenWeight>=this._availableWeight||this._lastChild===void 0)return o.Rect.clone(this.availableSpace);var g=this._childrenWeight/this._availableWeight;if(this._horizontal){var p=this._availableSpace.bottom+g*this._availableSpace.height;return this._availableSpace.truncateTop(p)}return p=this._availableSpace.left+g*this._availableSpace.width,this._availableSpace.truncateRight(p)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"remainingSpace",{get:function(){if(this.isDisabled)return this._availableSpace.truncateBottom(this._availableSpace.top);var g=Math.min(this._childrenWeight/this._availableWeight,1);if(this._horizontal){var p=this._availableSpace.bottom+g*this._availableSpace.height;return this._availableSpace.truncateBottom(p)}return p=this._availableSpace.left+g*this._availableSpace.width,this._availableSpace.truncateLeft(p)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isHorizontal",{get:function(){return this._horizontal},enumerable:!1,configurable:!0}),h.prototype.increasesAverageAspectRatio=function(g){return!(this.isDisabled||this._firstChild===void 0||g<=Number.EPSILON)&&this.optimizedAverageAspectRatio(g)>this.optimizedAverageAspectRatio()+Number.EPSILON},h.prototype.next=function(g){var p=this.remainingSpace;n(this._availableSpace.comprises(p),"Remaining Space should not exceed available space"),this._availableSpace=p,this._availableWeight=this.remainingWeight,this._horizontal=g,this._firstChild=void 0,this._lastChild=void 0,this._insertedChildrenCount=0,this._childrenWeight=0},h}();t.Row=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceAdapter=t.AnimatedServiceAdapter=void 0;var n,o=r(0),i=r(1),h=r(2),g=r(8),p=r(9),v=r(5),d=r(30),c=r(31),a=r(3),l=function(){function s(){this._config=new h.Configuration,this.setupLayoutAndGeometry()}return s.prototype.loadAll=function(u,f,m,y,b,E){this.loadAndPrepareAreaData(u),this.loadAndPrepareColorData(f),this.loadAndPrepareHeightData(m,b,E),this.loadNames(y)},s.prototype.loadCombinedFormat=function(u,f){var m,y,b=new d.BufferReader(u),E=new d.ServiceFormatHeader(b);if(E.hasFlag(d.BufferFlags.HIERARCHY)){var x=b.getInt(),w=b.getInt(),S=b.getByteArray(w);b.addPadding(),this.createOrUpdateTopology(S,x)}if(E.hasFlag(d.BufferFlags.HEIGHTS)&&(m=new c.ServiceBufferHeader(u,b.offset),b.offset=m.offset+m.length*Uint16Array.BYTES_PER_ELEMENT,b.addPadding()),E.hasFlag(d.BufferFlags.HEIGHTS_COMPARE)&&(y=new c.ServiceBufferHeader(u,b.offset),b.offset=y.offset+y.length*Uint16Array.BYTES_PER_ELEMENT,b.addPadding()),this.loadAndPrepareHeightDataV2(u,m,y),E.hasFlag(d.BufferFlags.AREAS)){var P=new c.ServiceBufferHeader(u,b.offset);b.offset=P.offset+P.length*Uint16Array.BYTES_PER_ELEMENT,b.addPadding(),this.loadAndPrepareAreaData(u,P)}E.hasFlag(d.BufferFlags.COLORS)?b.addPadding():this.loadAndPrepareColorData(u,m)},s.prototype.loadAndPrepareAreaData=function(u,f){f||(f=new c.ServiceBufferHeader(u)),o.auxiliaries.log(o.auxiliaries.LogLevel.Debug,"area - min: "+f.minimum+", max: "+f.maximum),this.createOrUpdateBuffer({identifier:n.BufferIdentifier.SourceArea,type:i.AttributeBuffer.DataType.Uint16,data:new Uint16Array(u,f.offset,f.length),encoding:i.AttributeBuffer.Encoding.Native,linearization:i.AttributeBuffer.Linearization.Topology}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedArea,source:"buffer:"+n.BufferIdentifier.SourceArea,transformations:[this.metricRangeTransform(f.minimum,f.maximum)]});var m=Math.max(1e-5,f.maximum);f.maximum===0&&console.warn("treemap: max area is 0 - clamping to "+m+" for successful layout"),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.ClampedArea,source:"bufferView:"+n.BufferViewIdentifier.DecodedArea,transformations:[{type:"clamp",min:m*s.MINIMUM_NODE_WEIGHT,max:m}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.Weight,source:"bufferView:"+n.BufferViewIdentifier.ClampedArea,transformations:[{type:"propagate-up",operation:"sum"}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.BaseAreaScale,source:"bufferView:"+n.BufferViewIdentifier.Weight,transformations:[{type:"transform",operation:"multiply",parameter:0}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.BaseAreaScale,source:"bufferView:"+n.BufferViewIdentifier.Weight,transformations:[{type:"transform",operation:"pow",parameter:0}]}),this._config.altered.alter("buffers"),this._config.altered.alter("bufferViews")},s.prototype.loadAndPrepareColorData=function(u,f){f||(f=new c.ServiceBufferHeader(u)),o.auxiliaries.log(o.auxiliaries.LogLevel.Debug,"color - min: "+f.minimum+", max: "+f.maximum),this.createOrUpdateBuffer({identifier:n.BufferIdentifier.SourceColor,type:i.AttributeBuffer.DataType.Uint16,data:new Uint16Array(u,f.offset,f.length),encoding:i.AttributeBuffer.Encoding.Native,linearization:i.AttributeBuffer.Linearization.Topology}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedColor,source:"bufferView:"+n.BufferViewIdentifier.DecodedBaseHeight,transformations:[this.metricRangeTransform(f.minimum,f.maximum)]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedEndColor,source:"bufferView:"+n.BufferViewIdentifier.DecodedEndHeight,transformations:[this.metricRangeTransform(f.minimum,f.maximum)]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.Unmodified,source:"buffer:"+n.BufferIdentifier.SourceColor,transformations:[{type:"mask",value:s.UINT16_ENCODING_UNMODIFIED}]}),this._config.altered.alter("buffers"),this._config.altered.alter("bufferViews")},s.prototype.loadAndPrepareHeightData=function(u,f,m){var y=new c.ServiceBufferHeader(u);o.auxiliaries.log(o.auxiliaries.LogLevel.Debug,"height - min: "+y.minimum+", max: "+y.maximum);var b=y.offset,E=new Uint16Array(u,y.offset,y.length);if(y.minimum>0&&y.minimum===y.maximum)for(var x=0;x<E.length;x++)E[x]===s.UINT16_ENCODING_ZERO&&(E[x]=s.UINT16_ENCODING_MAX);if(this.createOrUpdateBuffer({identifier:n.BufferIdentifier.SourceHeight,type:i.AttributeBuffer.DataType.Uint16,data:E,encoding:i.AttributeBuffer.Encoding.Native,linearization:i.AttributeBuffer.Linearization.Topology}),b+=Uint16Array.BYTES_PER_ELEMENT*y.length,b+=Int32Array.BYTES_PER_ELEMENT,this.createOrUpdateBuffer({identifier:n.BufferIdentifier.SourceCompareThreshold,type:i.AttributeBuffer.DataType.Int8,data:new Int8Array(u,b,y.length),encoding:i.AttributeBuffer.Encoding.Native,linearization:i.AttributeBuffer.Linearization.Topology}),b+=Int8Array.BYTES_PER_ELEMENT*y.length,f){b+=4-b%4;var w=new Uint32Array(u,b,1)[0];b+=Uint32Array.BYTES_PER_ELEMENT;var S=new Uint32Array(u,b,1)[0];b+=Uint32Array.BYTES_PER_ELEMENT,this.createOrUpdateTopology(new Uint8Array(u,b,S),w)}this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedHeight,source:"buffer:"+n.BufferIdentifier.SourceHeight,transformations:[this.metricRangeTransform(y.minimum,y.maximum)]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.NormalizedHeight,source:"buffer:"+n.BufferIdentifier.SourceHeight,transformations:[this.metricRangeTransform(0,1)]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.HeightChange,source:"buffer:"+n.BufferIdentifier.SourceCompareThreshold,transformations:[{type:"threshold",value:0}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.BaseHeight,source:"buffer:"+n.BufferIdentifier.SourceCompareThreshold,transformations:[{type:"transform",operation:"divide",parameter:127},{type:"transform",operation:"as-remainder"},{type:"transform",operation:"multiply",buffer:"bufferView:"+n.BufferViewIdentifier.NormalizedHeight}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedBaseHeight,source:"buffer:"+n.BufferIdentifier.SourceCompareThreshold,transformations:[{type:"transform",operation:"divide",parameter:127},{type:"transform",operation:"as-remainder"},{type:"transform",operation:"multiply",buffer:"bufferView:"+n.BufferViewIdentifier.DecodedHeight}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DeltaHeight,source:"bufferView:"+n.BufferViewIdentifier.NormalizedHeight,transformations:[{type:"transform",operation:"subtract",buffer:"bufferView:"+n.BufferViewIdentifier.BaseHeight},{type:"transform",operation:"abs"}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedDeltaHeight,source:"bufferView:"+n.BufferViewIdentifier.DecodedHeight,transformations:[{type:"transform",operation:"subtract",buffer:"bufferView:"+n.BufferViewIdentifier.DecodedBaseHeight},{type:"transform",operation:"abs"}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.EndHeight,source:"bufferView:"+n.BufferViewIdentifier.NormalizedHeight}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedEndHeight,source:"bufferView:"+n.BufferViewIdentifier.DecodedHeight}),this._config.altered.alter("buffers"),this._config.altered.alter("bufferViews")},s.prototype.loadAndPrepareHeightDataV2=function(u,f,m){o.auxiliaries.log(o.auxiliaries.LogLevel.Debug,"height - min: "+f.minimum+", max: "+f.maximum),this.createOrUpdateBuffer({identifier:n.BufferIdentifier.SourceHeight,type:i.AttributeBuffer.DataType.Uint16,data:new Uint16Array(u,f.offset,f.length),encoding:i.AttributeBuffer.Encoding.Native,linearization:i.AttributeBuffer.Linearization.Topology}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedHeight,source:"buffer:"+n.BufferIdentifier.SourceHeight,transformations:[this.metricRangeTransform(f.minimum,f.maximum)]}),m?(this.createOrUpdateBuffer({identifier:n.BufferIdentifier.SourceCompareHeight,type:i.AttributeBuffer.DataType.Uint16,data:new Uint16Array(u,m.offset,m.length),encoding:i.AttributeBuffer.Encoding.Native,linearization:i.AttributeBuffer.Linearization.Topology}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedCompareHeight,source:"buffer:"+n.BufferIdentifier.SourceCompareHeight,transformations:[this.metricRangeTransform(m.minimum,m.maximum)]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedBaseHeight,source:"bufferView:"+n.BufferViewIdentifier.DecodedHeight}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedDeltaHeight,source:"bufferView:"+n.BufferViewIdentifier.DecodedHeight,transformations:[{type:"transform",operation:"subtract",buffer:"bufferView:"+n.BufferViewIdentifier.DecodedCompareHeight},{type:"transform",operation:"abs"}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedEndHeight,source:"bufferView:"+n.BufferViewIdentifier.DecodedCompareHeight}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.BaseHeight,source:"bufferView:"+n.BufferViewIdentifier.DecodedBaseHeight,transformations:[{type:"range-transform",sourceRange:[f.minimum,f.maximum],targetRange:[0,1]}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DeltaHeight,source:"bufferView:"+n.BufferViewIdentifier.DecodedDeltaHeight,transformations:[{type:"range-transform",sourceRange:[m.minimum,m.maximum],targetRange:[0,1]}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.EndHeight,source:"bufferView:"+n.BufferViewIdentifier.DecodedEndHeight,transformations:[{type:"range-transform",sourceRange:[m.minimum,m.maximum],targetRange:[0,1]}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.HeightChange,source:"buffer:"+n.BufferIdentifier.SourceHeight,transformations:[{type:"transform",operation:"compare",buffer:"buffer:"+n.BufferIdentifier.SourceCompareHeight},{type:"threshold",value:0}]})):this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.BaseHeight,source:"bufferView:"+n.BufferViewIdentifier.DecodedHeight,transformations:[{type:"range-transform",sourceRange:[f.minimum,f.maximum],targetRange:[0,1]}]}),this._config.altered.alter("buffers"),this._config.altered.alter("bufferViews")},s.prototype.metricRangeTransform=function(u,f){return{type:"range-transform",sourceRange:[s.UINT16_ENCODING_ZERO,s.UINT16_ENCODING_MAX],targetRange:[u,f]}},s.prototype.setupLayoutAndGeometry=function(){this._config.colors=[{identifier:"emphasis",space:"hex",value:"#00b0ff"},{identifier:"auxiliary",space:"hex",values:["#00aa5e","#71237c"]},{identifier:"inner",space:"hex",values:["#e8eaee","#eef0f4"]},{identifier:"analysis",space:"hex",values:["#4575b4","#91bfdb","#e0f3f8","#ffffbf","#fee090","#fc8d59","#d73027"]},{identifier:"segmentation",space:"hex",values:["#ffffff","#5392ff","#71cddd","#34bc6e","#95d13c","#db7c00","#ffb000","#ff509e","#9b82f3"]}],this._config.layout={algorithm:p.Layout.LayoutAlgorithm.Snake,weight:"bufferView:"+n.BufferViewIdentifier.Weight,aspectRatio:1,sort:{key:v.NodeSort.Key.Weight,algorithm:v.NodeSort.Algorithm.Descending},siblingMargin:{type:"relative",value:.1},parentPadding:{type:"relative",value:.02},accessoryPadding:{type:"absolute",direction:"bottom",value:[0,.018,.015],relativeAreaThreshold:.4,targetAspectRatio:2},cascade:!1,flattenDirectories:!1},this._config.altered.alter("geometry"),this._config.geometry={aggregation:{buffer:"bufferView:"+n.BufferViewIdentifier.Unmodified,depthThreshold:2,valueThreshold:1},emphasis:{outline:new Array,highlight:new Array},parentLayer:{showRoot:!1},leafLayers:[{colorScheme:{inverted:!1,classBounds:void 0},areaScale:"bufferView:"+n.BufferViewIdentifier.BaseAreaScale,colorMap:"color:analysis",height:"bufferView:"+n.BufferViewIdentifier.BaseHeight,colors:"bufferView:"+n.BufferViewIdentifier.DecodedColor},{colorScheme:{inverted:!1,classBounds:void 0},areaScale:"bufferView:"+n.BufferViewIdentifier.BaseAreaScale,colorMap:"color:analysis",height:"bufferView:"+n.BufferViewIdentifier.Empty,colors:"bufferView:"+n.BufferViewIdentifier.HeightChange}],heightScale:g.ConfigurationAids.HeightScaleApproach.SomethingInverseSqrt},this.config.animations=[{layer:0,areaScale:{buffers:["bufferView:"+n.BufferViewIdentifier.BaseAreaScale,"bufferView:"+n.BufferViewIdentifier.EndAreaScale],delaySpread:0,timestamps:[0,4e3],easing:"smoothstep",order:"synchronous"},height:{buffers:["bufferView:"+n.BufferViewIdentifier.BaseHeight,"bufferView:"+n.BufferViewIdentifier.EndHeight],delaySpread:0,timestamps:[0,4e3],easing:"smoothstep",order:"synchronous"},color:{buffers:["bufferView:"+n.BufferViewIdentifier.DecodedColor,"bufferView:"+n.BufferViewIdentifier.DecodedEndColor],delaySpread:0,timestamps:[0,4e3],easing:"linear",order:"synchronous"}}],this._config.labels={innerNodeLayerRange:[1,3],numTopInnerNodes:200,numTopWeightNodes:0,numTopHeightNodes:3,numTopColorNodes:3}},s.prototype.createOrUpdateBuffer=function(u){for(var f=0;f<this._config.buffers.length&&this._config.buffers[f].identifier!==u.identifier;)++f;this._config.buffers.length===f?this._config.buffers.push(u):this._config.buffers.splice(f,1,u)},s.prototype.createOrUpdateBufferView=function(u){for(var f=0;f<this._config.bufferViews.length&&this._config.bufferViews[f].identifier!==u.identifier;)++f;this._config.bufferViews.length===f?this._config.bufferViews.push(u):this._config.bufferViews.splice(f,1,u)},s.prototype.createOrUpdateTopology=function(u,f){for(var m=new Array,y=new Array,b=f+1,E=0;E<u.length;E+=b){for(var x=o.vec4.create(),w=0;w<f;w++)x[w]=u[E+w];var S=o.gl_matrix_extensions.decode_uint32_from_rgba8(x),P=u[E+f];if(P>0){var A=y[P-1];m.push(A),m.push(S)}y[P]=S}this._config.topology={edges:m,format:a.Topology.InputFormat.Interleaved}},s.prototype.loadNames=function(u){var f=new Map;if(u.apps||u.groups){for(var m in u.apps){var y=parseInt(m,10);f.set(y,u.apps[m])}for(var m in u.groups)y=parseInt(m,10),f.set(y,u.groups[m])}else Object.keys(u).forEach(function(b){var E=parseInt(b,10);f.set(E,u[E])});this._config.labels.callback=function(b,E){return E(f)}},Object.defineProperty(s.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),s.UINT16_ENCODING_DB_NULL=0,s.UINT16_ENCODING_UNMODIFIED=1,s.UINT16_ENCODING_ZERO=2,s.UINT16_ENCODING_MAX=65535,s.MINIMUM_NODE_WEIGHT=.01,s}();t.AnimatedServiceAdapter=l,function(s){(function(u){u.SourceArea="SourceArea",u.SourceHeight="SourceHeight",u.SourceColor="SourceColor",u.SourceCompareThreshold="SourceCompareThresholds",u.SourceCompareHeight="SourceCompareHeight"})(s.BufferIdentifier||(s.BufferIdentifier={})),function(u){u.DecodedArea="DecodedArea",u.ClampedArea="ClampedArea",u.Weight="Weight",u.DecodedColor="DecodedColor",u.DecodedEndColor="DecodedEndColor",u.HeightChange="HeightChange",u.Unmodified="Unmodified",u.Empty="Empty",u.DecodedHeight="DecodedHeight",u.DecodedCompareHeight="DecodedCompareHeight",u.NormalizedHeight="NormalizedHeight",u.BaseAreaScale="BaseArea",u.DeltaArea="DeltaArea",u.EndAreaScale="EndArea",u.BaseHeight="BaseHeight",u.DeltaHeight="DeltaHeight",u.EndHeight="EndHeight",u.DecodedBaseHeight="DecodedBaseHeight",u.DecodedDeltaHeight="DecodedDeltaHeight",u.DecodedEndHeight="DecodedEndHeight"}(s.BufferViewIdentifier||(s.BufferViewIdentifier={}))}(n=t.ServiceAdapter||(t.ServiceAdapter={}))},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceFormatHeader=t.BufferReader=t.BufferFlags=void 0,function(i){i[i.HEIGHTS=1]="HEIGHTS",i[i.HEIGHTS_COMPARE=2]="HEIGHTS_COMPARE",i[i.AREAS=4]="AREAS",i[i.COLORS=8]="COLORS",i[i.HIERARCHY=16]="HIERARCHY"}(t.BufferFlags||(t.BufferFlags={}));var n=function(){function i(h){this.data=h,this.offset=0}return i.prototype.getArray=function(h,g){var p=new g(this.data,this.offset,h);return this.offset+=g.BYTES_PER_ELEMENT*h,p},i.prototype.getValue=function(h){return this.getArray(1,h)[0]},i.prototype.addPadding=function(){this.offset+=4-this.offset%4},i.prototype.getByte=function(){return this.getValue(Uint8Array)},i.prototype.getShort=function(){return this.getValue(Uint16Array)},i.prototype.getFloat=function(){return this.getValue(Float32Array)},i.prototype.getInt=function(){return this.getValue(Int32Array)},i.prototype.getShortArray=function(h){return this.getArray(h,Uint16Array)},i.prototype.getByteArray=function(h){return this.getArray(h,Uint8Array)},i}();t.BufferReader=n;var o=function(){function i(h){this.numBuffers=h.getByte(),this.flags=h.getByte(),h.addPadding()}return i.prototype.hasFlag=function(h){return(this.flags&h)===h},i}();t.ServiceFormatHeader=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceBufferHeader=void 0;var n=function(){function o(i,h){h===void 0&&(h=0),this._offset=h,this._minimum=new Float32Array(i,this._offset,1)[0],this._offset+=1*Float32Array.BYTES_PER_ELEMENT,isFinite(this._minimum)||(this._minimum=0),this._maximum=new Float32Array(i,this._offset,1)[0],this._offset+=1*Float32Array.BYTES_PER_ELEMENT,this._length=new Int32Array(i,this._offset,1)[0],this._offset+=1*Int32Array.BYTES_PER_ELEMENT}return Object.defineProperty(o.prototype,"minimum",{get:function(){return this._minimum},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"maximum",{get:function(){return this._maximum},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"length",{get:function(){return this._length},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"offset",{get:function(){return this._offset},enumerable:!1,configurable:!0}),o}();t.ServiceBufferHeader=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenshotCreator=void 0;var n=r(0),o=r(0),i=n.auxiliaries.assert,h=function(){function g(p){this._context=p}return g.toDataURL=function(p,v,d){var c=document.createElement("canvas"),a=c.getContext("2d");return c.width=p.width,c.height=p.height,a.putImageData(p,0,0),c.toDataURL(v,d)},g.downloadDataURL=function(p,v){var d=new Image;d.src=p;var c=document.createElement("a");c.download=v,c.href=d.src,c.click()},g.downloadImage=function(p,v){var d=g.toDataURL(p);g.downloadDataURL(d,v)},g.prototype.captureDefaultFramebufferIntoBuffer=function(p,v){var d=this._context.gl;d.readBuffer(d.BACK),d.readPixels(p.x,p.y,p.width,p.height,d.RGBA,d.UNSIGNED_BYTE,v)},g.prototype.captureFramebufferIntoBuffer=function(p,v,d,c){var a=this._context.gl,l=p.texture(v);if(i(l!==void 0,"Framebuffer does not have given attachment "+v+"."),i(l.format===a.RGBA,"Unsupported texture format "+l.format+"."),i(l.type===a.UNSIGNED_BYTE||l.type===a.FLOAT||l.type===a.HALF_FLOAT,"Unsupported texture type "+l.type+"."),a.readBuffer(v),l.type===a.FLOAT||l.type===a.HALF_FLOAT){var s=new Float32Array(d.width*d.height*4);a.readPixels(d.x,d.y,d.width,d.height,a.RGBA,a.FLOAT,s),s.forEach(function(u,f){c[f]=255*u})}else l.type===a.UNSIGNED_BYTE&&a.readPixels(d.x,d.y,d.width,d.height,a.RGBA,a.UNSIGNED_BYTE,c)},g.prototype.flipImageDataVertically=function(p){for(var v=new Uint32Array(p.data.buffer),d=p.width,c=p.height,a=0;a<Math.floor(c/2);a++)for(var l=0;l<d;l++){var s=l+a*d,u=l+(c-a)*d,f=v[s];v[s]=v[u],v[u]=f}},g.prototype.capture=function(p,v,d){var c=this._context.gl,a=p.size;d===void 0&&(d={x:0,y:0,width:a[0],height:a[1]}),v===void 0&&(v=c.COLOR_ATTACHMENT0);var l=new ImageData(d.width,d.height),s=new Uint8Array(l.data.buffer);return p.bind(c.READ_FRAMEBUFFER),p instanceof o.DefaultFramebuffer?this.captureDefaultFramebufferIntoBuffer(d,s):p instanceof o.Framebuffer&&this.captureFramebufferIntoBuffer(p,v,d,s),p.unbind(c.READ_FRAMEBUFFER),this.flipImageDataVertically(l),l},g}();t.ScreenshotCreator=h},function(e,t,r){r(34),e.exports=r(35)},function(e,t,r){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(n){if(this===null)throw new TypeError('"this" is null or not defined');var o=Object(this),i=o.length>>>0;if(typeof n!="function")throw new TypeError("predicate must be a function");for(var h=arguments[1],g=0;g<i;){var p=o[g];if(n.call(h,p,g,o))return p;g++}},configurable:!0,writable:!0}),Array.prototype.forEach||(Array.prototype.forEach=function(n){var o,i;if(this===null)throw new TypeError("this is null or not defined");var h=Object(this),g=h.length>>>0;if(typeof n!="function")throw new TypeError(n+" is not a function");for(arguments.length>1&&(o=arguments[1]),i=0;i<g;){var p=void 0;i in h&&(p=h[i],n.call(o,p,i,h)),i++}}),Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(n){if(this===null)throw new TypeError("this is null or not defined");for(var o=Object(this),i=o.length>>>0,h=arguments[1],g=h>>0,p=g<0?Math.max(i+g,0):Math.min(g,i),v=arguments[2],d=v===void 0?i:v>>0,c=d<0?Math.max(i+d,0):Math.min(d,i);p<c;)o[p]=n,p++;return o}}),Uint8Array.prototype.fill||(Uint8Array.prototype.fill=Array.prototype.fill),Float32Array.prototype.fill||(Float32Array.prototype.fill=Array.prototype.fill),[Float32Array,Uint8Array,Int8Array,Uint32Array,Int32Array].forEach(function(n){n.prototype.slice||Object.defineProperty(n.prototype,"slice",{value:Array.prototype.slice}),n.prototype.filter||Object.defineProperty(n.prototype,"filter",{value:Array.prototype.filter}),n.prototype.map||Object.defineProperty(n.prototype,"map",{value:Array.prototype.map}),n.prototype.indexOf||Object.defineProperty(n.prototype,"indexOf",{value:Array.prototype.indexOf})})},function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(N,W,H,q){q===void 0&&(q=H),Object.defineProperty(N,q,{enumerable:!0,get:function(){return W[H]}})}:function(N,W,H,q){q===void 0&&(q=H),N[q]=W[H]}),o=this&&this.__exportStar||function(N,W){for(var H in N)H==="default"||Object.prototype.hasOwnProperty.call(W,H)||n(W,N,H)};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoCreator=t.ScreenshotCreator=t.AnimationData=t.Navigation=t.CSVData=t.MRHData=t.TestData=t.ServiceAdapter=t.ServiceData=t.JSONData=t.AnimatedServiceAdapter=t.AnimatedServiceData=t.GeometryCreation=t.Layout=t.NodeSort=t.AttributeBuffer=t.Topology=t.Visualization=t.RendererCapabilities=t.Renderer=t.ConfigurationAids=t.Configuration=t.AnimationRenderer=t.gloperate=void 0;var i=r(0);i.auxiliaries.logVerbosity(2),i.auxiliaries.assertions(!0),t.gloperate=i;var h=r(10);Object.defineProperty(t,"AnimationRenderer",{enumerable:!0,get:function(){return h.AnimationRenderer}});var g=r(2);Object.defineProperty(t,"Configuration",{enumerable:!0,get:function(){return g.Configuration}});var p=r(8);Object.defineProperty(t,"ConfigurationAids",{enumerable:!0,get:function(){return p.ConfigurationAids}});var v=r(21);Object.defineProperty(t,"Renderer",{enumerable:!0,get:function(){return v.Renderer}});var d=r(22);Object.defineProperty(t,"RendererCapabilities",{enumerable:!0,get:function(){return d.RendererCapabilities}});var c=r(63);Object.defineProperty(t,"Visualization",{enumerable:!0,get:function(){return c.Visualization}});var a=r(3);Object.defineProperty(t,"Topology",{enumerable:!0,get:function(){return a.Topology}});var l=r(1);Object.defineProperty(t,"AttributeBuffer",{enumerable:!0,get:function(){return l.AttributeBuffer}});var s=r(5);Object.defineProperty(t,"NodeSort",{enumerable:!0,get:function(){return s.NodeSort}});var u=r(9);Object.defineProperty(t,"Layout",{enumerable:!0,get:function(){return u.Layout}});var f=r(13);Object.defineProperty(t,"GeometryCreation",{enumerable:!0,get:function(){return f.GeometryCreation}});var m=r(83);Object.defineProperty(t,"AnimatedServiceData",{enumerable:!0,get:function(){return m.AnimatedServiceData}});var y=r(29);Object.defineProperty(t,"AnimatedServiceAdapter",{enumerable:!0,get:function(){return y.AnimatedServiceAdapter}});var b=r(84);Object.defineProperty(t,"JSONData",{enumerable:!0,get:function(){return b.JSONData}});var E=r(85);Object.defineProperty(t,"ServiceData",{enumerable:!0,get:function(){return E.ServiceData}});var x=r(14);Object.defineProperty(t,"ServiceAdapter",{enumerable:!0,get:function(){return x.ServiceAdapter}});var w=r(86);Object.defineProperty(t,"TestData",{enumerable:!0,get:function(){return w.TestData}});var S=r(90);Object.defineProperty(t,"MRHData",{enumerable:!0,get:function(){return S.MRHData}});var P=r(92);Object.defineProperty(t,"CSVData",{enumerable:!0,get:function(){return P.CSVData}});var A=r(11);Object.defineProperty(t,"Navigation",{enumerable:!0,get:function(){return A.Navigation}});var L=r(12);Object.defineProperty(t,"AnimationData",{enumerable:!0,get:function(){return L.AnimationData}});var k=r(32);Object.defineProperty(t,"ScreenshotCreator",{enumerable:!0,get:function(){return k.ScreenshotCreator}});var D=r(94);Object.defineProperty(t,"VideoCreator",{enumerable:!0,get:function(){return D.VideoCreator}}),o(r(95),t)},function(e,t,r){var n,o=this&&this.__extends||(n=function(l,s){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(u[m]=f[m])})(l,s)},function(l,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=l}n(l,s),l.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}),i=this&&this.__decorate||function(l,s,u,f){var m,y=arguments.length,b=y<3?s:f===null?f=Object.getOwnPropertyDescriptor(s,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(l,s,u,f);else for(var E=l.length-1;E>=0;E--)(m=l[E])&&(b=(y<3?m(b):y>3?m(s,u,b):m(s,u))||b);return y>3&&b&&Object.defineProperty(s,u,b),b};Object.defineProperty(t,"__esModule",{value:!0}),t.CuboidRenderPass=t.AnimatedCuboidRenderPass=void 0;var h,g=r(0),p=r(0),v=r(37),d=r(16),c=r(6),a=function(l){function s(u,f){var m=l.call(this)||this;return m._standardDerivatives=void 0,m._altered=Object.assign(new p.ChangeLookup,{any:!0,camera:!0,geometry:!0,colorTable:!0,colorTableLength:!0,nodeCount:!0,emphases:!0,layerIndex:!0,heightScale:!0,levitate:!0,outlineWidth:!0,emphasisOutlineWidth:!0,heightDuration:!0,colorDuration:!0,areaDuration:!0,heightEasing:!0,colorEasing:!0,areaEasing:!0,colorMode:!0,patternMode:!0,progressMode:!0}),m._outlineWidth=s.OUTLINE_WIDTH_DEFAULT,m._emphasisOutlineWidth=s.EMPHASIS_OUTLINE_WIDTH_DEFAULT,m._swapColorBuffers=!1,m._colorMode=d.ColorMode.VERTICAL,m._patternMode=d.ColorMode.UNDEFINED,m._mousePosition=[0,0],m._attachment=c.MultiRenderTarget.Attachment.Undefined,m._faceSequence=new Array,m._faceData=new Map,m.swapAreaBuffers=!1,m.swapHeightBuffers=!1,m.swapColorBuffers=!1,m._context=u,g.auxiliaries.assert(f>=0&&f<=s.CUBOID_LAYERS,"expected layer index to be in range [0, "+s.MINIMUM_CUBOID_HEIGHT+"], given "+f),m._layerIndex=f,m._drawRestricted=!m._context.isWebGL2&&!m._context.supportsDrawBuffers,m._program=new p.Program(u,"CuboidRenderProgram"),m._geometry=s.referenceGeometry(u),m._ditheringTexture=new g.Texture2D(m._context,"DitheringTexture"),m}return o(s,l),s.referenceGeometry=function(u){var f;s.GEOMETRY_BY_CONTEXT.has(u)?f=s.GEOMETRY_BY_CONTEXT.get(u):((f=new v.AnimatedCuboidGeometry(u,s.CUBOID_LAYERS,"CuboidGeometry")).initialize(),s.GEOMETRY_BY_CONTEXT.set(u,f),s.REFCOUNT_BY_GEOMETRY.set(f,0));var m=s.REFCOUNT_BY_GEOMETRY.get(f)+1;return s.REFCOUNT_BY_GEOMETRY.set(f,m),f},s.unreferenceGeometry=function(u){if(s.GEOMETRY_BY_CONTEXT.has(u)){var f=s.GEOMETRY_BY_CONTEXT.get(u),m=s.REFCOUNT_BY_GEOMETRY.get(f)-1;s.REFCOUNT_BY_GEOMETRY.set(f,m),m>0||(f.uninitialize(),s.GEOMETRY_BY_CONTEXT.delete(u),s.REFCOUNT_BY_GEOMETRY.delete(f))}},s.prototype.relink=function(){if(this._colorTable!==void 0){for(var u=0,f=this._program.shaders;u<f.length;u++){var m=f[u];m.replace("$ColorTableLength",String(this._colorTable.length/4)),m.compile()}this._program.attribute("a_vertex",this._geometry.vertexLocation),this._program.attribute("a_layout",this._geometry.layoutLocation),this._program.attribute("a_id",this._geometry.idLocation),this._program.attribute("a_areaBegin",this._geometry.areaBeginLocation),this._program.attribute("a_areaEnd",this._geometry.areaEndLocation),this._program.attribute("a_areaDelay",this._geometry.areaDelayLocation),this._program.attribute("a_colorBegin",this._geometry.colorBeginLocation),this._program.attribute("a_colorEnd",this._geometry.colorEndLocation),this._program.attribute("a_colorDelay",this._geometry.colorDelayLocation),this._program.attribute("a_emphasis",this._geometry.emphasisLocation),this._program.attribute("a_heightsBegin",this._geometry.heightBeginLocation),this._program.attribute("a_heightsEnd",this._geometry.heightEndLocation),this._program.attribute("a_heightDelay",this._geometry.heightDelayLocation),this._program.attribute("a_texCoord",this._geometry.texCoordLocation),this._program.link(),this._program.linked&&(this._drawRestricted&&(this._uAttachment=this._program.uniform("u_attachment")),this._uViewProjection=this._program.uniform("u_viewProjection"),this._uNdcOffset=this._program.uniform("u_ndcOffset"),this._uColorTable=this._program.uniform("u_colorTable"),this._uNodeCount=this._program.uniform("u_nodeCountSqrt"),this._uLayer=this._program.uniform("u_layer"),this._uFace=this._program.uniform("u_face"),this._uNormalAndLambert=this._program.uniform("u_normalAndLambert"),this._uHeightScale=this._program.uniform("u_heightScale"),this._uFloatingGap=this._program.uniform("u_floatingGap"),this._uOutlineWidth=this._program.uniform("u_outlineWidth"),this._uEmphasisOutlineWidth=this._program.uniform("u_emphasisOutlineWidth"),this._uTime=this._program.uniform("u_time"),this._uAreaDuration=this._program.uniform("u_areaDuration"),this._uHeightDuration=this._program.uniform("u_heightDuration"),this._uColorDuration=this._program.uniform("u_colorDuration"),this._uAreaEasing=this._program.uniform("u_areaEasing"),this._uHeightEasing=this._program.uniform("u_heightEasing"),this._uColorEasing=this._program.uniform("u_colorEasing"),this._uDitheringTexture=this._program.uniform("u_ditheringTexture"),this._uColorMode=this._program.uniform("u_colorMode"),this._uPatternMode=this._program.uniform("u_patternMode"),this._uProgressMode=this._program.uniform("u_progressMode"),this._uMousePosition=this._program.uniform("u_mousePosition"),this._uScreenSize=this._program.uniform("u_screenSize"))}},s.prototype.optimizeFaceSequence=function(){var u=this._camera.eye,f=this._camera.center,m=new Array,y=g.vec3.create();g.vec3.sub(y,u,f),g.vec3.normalize(y,y),u[1]>0&&m.push([h.Face.Top,Math.abs(g.vec3.dot(g.vec3.fromValues(0,1,0),y))]),u[2]>-1&&m.push([h.Face.Front,Math.abs(g.vec3.dot(g.vec3.fromValues(0,0,1),y))]),u[2]<1&&m.push([h.Face.Back,Math.abs(g.vec3.dot(g.vec3.fromValues(0,0,-1),y))]),u[0]>-1&&m.push([h.Face.Left,Math.abs(g.vec3.dot(g.vec3.fromValues(1,0,0),y))]),u[0]<1&&m.push([h.Face.Right,Math.abs(g.vec3.dot(g.vec3.fromValues(-1,0,0),y))]),m=m.sort(function(b,E){return E[1]-b[1]}),this._faceSequence=m.map(function(b){return b[0]})},s.prototype.initialize=function(){var u=this._context.gl;this._context.isWebGL1&&this._standardDerivatives===void 0&&(this._context.enable(["OES_standard_derivatives"]),this._standardDerivatives=this._context.standardDerivatives);var f=new p.Shader(this._context,u.VERTEX_SHADER,"animatedcuboid.vert");f.initialize(r(38),!1);var m=new p.Shader(this._context,u.FRAGMENT_SHADER,"animatedcuboid.frag");return m.initialize(r(39),!1),this._program.initialize([f,m],!1),this._faceData.set(h.Face.Top,[0,1,0,1]),this._faceData.set(h.Face.Bottom,[0,-1,0,.68]),this._faceData.set(h.Face.Front,[0,0,1,.88]),this._faceData.set(h.Face.Back,[0,0,-1,.88]),this._faceData.set(h.Face.Left,[1,0,0,.84]),this._faceData.set(h.Face.Right,[-1,0,0,.84]),this._ditheringTexture.initialize(1,1,u.RGB,u.RGB,u.UNSIGNED_BYTE),this._ditheringTexture.wrap(u.REPEAT,u.REPEAT,!0,!0),this._ditheringTexture.fetch("./assets/bayer16.png",!0),!0},s.prototype.uninitialize=function(){s.unreferenceGeometry(this._context),this._program.uninitialize(),this._uAttachment=void 0,this._uViewProjection=void 0,this._uNdcOffset=void 0,this._uColorTable=void 0,this._uNodeCount=void 0,this._uLayer=void 0,this._uFace=void 0,this._uNormalAndLambert=void 0,this._uHeightScale=void 0,this._uFloatingGap=void 0,this._uOutlineWidth=void 0,this._uEmphasisOutlineWidth=void 0,this._uTime=void 0,this._uAreaDuration=void 0,this._uHeightDuration=void 0,this._uColorDuration=void 0,this._uAreaEasing=void 0,this._uHeightEasing=void 0,this._uColorEasing=void 0,this._uDitheringTexture=void 0,this._uColorMode=void 0,this._uPatternMode=void 0,this._uProgressMode=void 0,this._uMousePosition=void 0,this._uScreenSize=void 0},s.prototype.update=function(u){var f=this._context.gl,m=!1;if(!this._program.initialized||!this._program.linked||this._altered.colorTableLength){if(this.relink(),!this._program.linked)return;m=!0}if(this._program.bind(),(m||this._altered.camera||this._camera.altered)&&(f.uniformMatrix4fv(this._uViewProjection,!1,this._camera.viewProjection),this.optimizeFaceSequence()),(m||this._colorTable)&&f.uniform4fv(this._uColorTable,this._colorTable),this._altered.geometry&&this._geometry.valid&&this._geometry.update(),(m||this._altered.nodeCount)&&f.uniform1f(this._uNodeCount,Math.sqrt(this._nodeCount)),(m||this._altered.heightScale)&&f.uniform1f(this._uHeightScale,this._heightScale/255),(m||this._altered.outlineWidth)&&f.uniform1f(this._uOutlineWidth,this._outlineWidth),m||this._altered.emphasisOutlineWidth){var y=window.devicePixelRatio;f.uniform1f(this._uEmphasisOutlineWidth,this._emphasisOutlineWidth*y)}this._target&&this._target.valid&&(y=window.devicePixelRatio,f.uniform2f(this._uFloatingGap,this._levitate*y/this._target.height,s.MINIMUM_CUBOID_HEIGHT*y/this._target.height)),f.uniform1f(this._uTime,u),f.uniform2iv(this._uMousePosition,this._mousePosition),(m||this._altered.areaDuration)&&f.uniform1f(this._uAreaDuration,this._areaDuration),(m||this._altered.heightDuration)&&f.uniform1f(this._uHeightDuration,this._heightDuration),(m||this._altered.colorDuration)&&f.uniform1f(this._uColorDuration,this._colorDuration),(m||this._altered.areaEasing)&&f.uniform1i(this._uAreaEasing,this._areaEasing),(m||this._altered.heightEasing)&&f.uniform1i(this._uHeightEasing,this._heightEasing),(m||this._altered.colorEasing)&&f.uniform1i(this._uColorEasing,this._colorEasing),(m||this._altered.colorMode)&&f.uniform1i(this._uColorMode,this._colorMode),(m||this._altered.patternMode)&&f.uniform1i(this._uPatternMode,this._patternMode),(m||this._altered.progressMode)&&f.uniform1i(this._uProgressMode,this._progressMode),m&&f.uniform1i(this._uDitheringTexture,0),this._altered.reset()},s.prototype.frame=function(){if(g.auxiliaries.assert(this._target&&this._target.valid,"valid target expected"),this._dispatch!==void 0){var u=this._context.gl,f=this._target.size;u.viewport(0,0,f[0],f[1]),u.enable(u.CULL_FACE),u.enable(u.DEPTH_TEST),u.enable(u.STENCIL_TEST),u.stencilFunc(u.ALWAYS,2,255),u.stencilOp(u.KEEP,u.KEEP,u.REPLACE),this._depthMask===!1&&(u.depthFunc(u.LEQUAL),u.depthMask(!1)),this._program.bind(),this._drawRestricted&&u.uniform1i(this._uAttachment,this._attachment),u.uniform2fv(this._uNdcOffset,this._ndcOffset),u.uniform1i(this._uLayer,this._layerIndex),u.uniform2iv(this._uScreenSize,f),this._geometry.bind(),this._target.bind(),this._ditheringTexture.bind(u.TEXTURE0);for(var m=0,y=this._faceSequence;m<y.length;m++){var b=y[m];if(u.uniform1i(this._uFace,b),u.uniform4fv(this._uNormalAndLambert,this._faceData.get(b)),this._geometry.valid)for(var E=0;E<this._dispatch.length;E+=2){var x=(b-1)*v.AnimatedCuboidGeometry.BYTES_PER_VERTEX*4,w=this._dispatch[E+0],S=this._dispatch[E+1];this._geometry.draw(this._layerIndex,w,x,S,this.swapAreaBuffers,this.swapHeightBuffers,this.swapColorBuffers)}}this._depthMask===!1&&(u.depthFunc(u.LESS),u.depthMask(!0)),u.disable(u.STENCIL_TEST),u.disable(u.DEPTH_TEST),u.disable(u.CULL_FACE)}},s.prototype.colorTableLengthAltered=function(){this._altered.alter("colorTableLength")},Object.defineProperty(s.prototype,"target",{set:function(u){this.assertInitialized(),this._target=u},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ndcOffset",{set:function(u){this.assertInitialized(),this._ndcOffset=u},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"camera",{set:function(u){this.assertInitialized(),this._camera!==u&&(this._camera=u,this._altered.alter("camera"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dispatch",{set:function(u){this.assertInitialized(),this._dispatch=u},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"layoutData",{set:function(u){this.assertInitialized(),this._layerIndex>0||(this._geometry.layout=u,this._altered.alter("geometry"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ids",{set:function(u){this.assertInitialized(),this._layerIndex>0||(this._geometry.ids=u,this._altered.alter("geometry"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"areas",{set:function(u){this.assertInitialized(),this._layerIndex>0||(u[0]&&this._geometry.areasBegin(u[0],void 0,1),u[1]&&this._geometry.areasEnd(u[1],void 0,1),this._altered.alter("geometry"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"areaEasing",{set:function(u){this.assertInitialized(),this._areaEasing=u,this._altered.alter("areaEasing")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"areaDelays",{set:function(u){this.assertInitialized(),this._geometry.areaDelays(u,this._layerIndex),this._altered.alter("geometry")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"areaDuration",{set:function(u){this.assertInitialized(),this._areaDuration=u,this._altered.alter("areaDuration")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"colors",{set:function(u){this.assertInitialized(),this._layerIndex>0||(u[0]&&this._geometry.colorsBegin(u[0],void 0,1),u[1]&&this._geometry.colorsEnd(u[1],void 0,1),this._altered.alter("geometry"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"colorEasing",{set:function(u){this.assertInitialized(),this._colorEasing=u,this._altered.alter("colorEasing")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"colorDelays",{set:function(u){this.assertInitialized(),this._geometry.colorDelays(u,this._layerIndex),this._altered.alter("geometry")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"colorDuration",{set:function(u){this.assertInitialized(),this._colorDuration=u,this._altered.alter("colorDuration")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"emphases",{set:function(u){this.assertInitialized(),this._layerIndex>0||(this._geometry.emphases=u,this._altered.alter("emphases"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"heights",{set:function(u){this.assertInitialized(),u[0]&&this._geometry.heightsBegin(u[0],this._layerIndex),u[1]&&this._geometry.heightsEnd(u[1],this._layerIndex),this._altered.alter("geometry")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"heightEasing",{set:function(u){this.assertInitialized(),this._heightEasing=u,this._altered.alter("heightEasing")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"heightDelays",{set:function(u){this.assertInitialized(),this._geometry.heightDelays(u,this._layerIndex),this._altered.alter("geometry")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"heightDuration",{set:function(u){this.assertInitialized(),this._heightDuration=u,this._altered.alter("heightDuration")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"colorTable",{set:function(u){this.assertInitialized(),this._colorTable=u,this._altered.alter("colorTable")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"nodeCount",{set:function(u){this.assertInitialized(),this._nodeCount!==u&&(this._nodeCount=u,this._altered.alter("nodeCount"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"outlineWidth",{set:function(u){this.assertInitialized(),this._outlineWidth!==u&&(this._outlineWidth=u===void 0?s.OUTLINE_WIDTH_DEFAULT:Math.max(0,u),this._altered.alter("outlineWidth"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"emphasisOutlineWidth",{set:function(u){this.assertInitialized(),this._emphasisOutlineWidth!==u&&(this._emphasisOutlineWidth=u===void 0?s.EMPHASIS_OUTLINE_WIDTH_DEFAULT:Math.max(0,u),this._altered.alter("emphasisOutlineWidth"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"heightScale",{set:function(u){this.assertInitialized(),this._heightScale!==u&&(this._heightScale=u===void 0?0:g.gl_matrix_extensions.clamp(u,0,1),this._altered.alter("heightScale"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"levitate",{set:function(u){this.assertInitialized(),this._levitate!==u&&(this._levitate=u===void 0?0:Math.max(0,u),this._altered.alter("levitate"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"attachment",{set:function(u){g.auxiliaries.logIf(u!==c.MultiRenderTarget.Attachment.Undefined&&!this._drawRestricted,g.auxiliaries.LogLevel.Debug,"expected WEBGL_draw_buffers to be unsupported"),this._attachment=u},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"depthMask",{set:function(u){this._depthMask=u},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"colorMode",{get:function(){return this._colorMode},set:function(u){this._colorMode=u,this._altered.alter("colorMode")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"patternMode",{get:function(){return this._patternMode},set:function(u){this._patternMode=u,this._altered.alter("patternMode")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"progressMode",{get:function(){return this._progressMode},set:function(u){this._progressMode=u,this._altered.alter("progressMode")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"mousePosition",{set:function(u){this._mousePosition=u},enumerable:!1,configurable:!0}),s.GEOMETRY_BY_CONTEXT=new Map,s.CUBOID_LAYERS=2,s.REFCOUNT_BY_GEOMETRY=new Map,s.MINIMUM_CUBOID_HEIGHT=4,s.OUTLINE_WIDTH_DEFAULT=.8,s.EMPHASIS_OUTLINE_WIDTH_DEFAULT=1.6,i([p.Initializable.assert_initialized()],s.prototype,"relink",null),i([p.Initializable.assert_initialized()],s.prototype,"optimizeFaceSequence",null),i([p.Initializable.initialize()],s.prototype,"initialize",null),i([p.Initializable.uninitialize()],s.prototype,"uninitialize",null),i([p.Initializable.assert_initialized()],s.prototype,"update",null),i([p.Initializable.assert_initialized()],s.prototype,"frame",null),s}(p.Initializable);t.AnimatedCuboidRenderPass=a,function(l){(function(s){s[s.Top=1]="Top",s[s.Bottom=2]="Bottom",s[s.Front=3]="Front",s[s.Back=4]="Back",s[s.Left=5]="Left",s[s.Right=6]="Right"})(l.Face||(l.Face={}))}(h=t.CuboidRenderPass||(t.CuboidRenderPass={}))},function(e,t,r){var n,o=this&&this.__extends||(n=function(v,d){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(c[l]=a[l])})(v,d)},function(v,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function c(){this.constructor=v}n(v,d),v.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}),i=this&&this.__decorate||function(v,d,c,a){var l,s=arguments.length,u=s<3?d:a===null?a=Object.getOwnPropertyDescriptor(d,c):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(v,d,c,a);else for(var f=v.length-1;f>=0;f--)(l=v[f])&&(u=(s<3?l(u):s>3?l(d,c,u):l(d,c))||u);return s>3&&u&&Object.defineProperty(d,c,u),u};Object.defineProperty(t,"__esModule",{value:!0}),t.AnimatedCuboidGeometry=void 0;var h=r(0),g=r(0),p=function(v){function d(c,a,l){var s=v.call(this,c,l)||this;s._areaOffsets=new Array,s._areaDelayOffsets=new Array,s._colorOffsets=new Array,s._colorDelayOffsets=new Array,s._heightOffsets=new Array,s._heightDelayOffsets=new Array,s._layers=Math.max(1,a),l=l!==void 0&&l!==""?l:"CuboidGeometry",s._vertices=d.referenceVerticesVBO(c),s._buffers.push(s._vertices),s._layout=new g.Buffer(c,l+"LayoutVBO"),s._buffers.push(s._layout),s._ids=new g.Buffer(c,l+"IdVBO"),s._buffers.push(s._ids),s._emphases=new g.Buffer(c,l+"EmphasisVBO"),s._buffers.push(s._emphases),s._areasBegin=new g.Buffer(c,l+"AreaBeginVBO"),s._buffers.push(s._areasBegin),s._areasEnd=new g.Buffer(c,l+"AreaEndVBO"),s._buffers.push(s._areasEnd),s._areaOffsets.length=a,s._areasDelay=new g.Buffer(c,l+"AreaDelaysVBO"),s._buffers.push(s._areasDelay),s._areaDelayOffsets.length=a,s._colorsBegin=new g.Buffer(c,l+"ColorBeginVBO"),s._buffers.push(s._colorsBegin),s._colorsEnd=new g.Buffer(c,l+"ColorEndVBO"),s._buffers.push(s._colorsEnd),s._colorOffsets.length=a,s._colorsDelay=new g.Buffer(c,l+"ColorDelaysVBO"),s._buffers.push(s._colorsDelay),s._colorDelayOffsets.length=a,s._heightsBegin=new g.Buffer(c,l+"HeightBeginVBO"),s._buffers.push(s._heightsBegin),s._heightsEnd=new g.Buffer(c,l+"HeightEndVBO"),s._buffers.push(s._heightsEnd),s._heightOffsets.length=a,s._heightsDelay=new g.Buffer(c,l+"HeightDelaysVBO"),s._buffers.push(s._heightsDelay),s._heightDelayOffsets.length=a;for(var u=0;u<a;++u)s._areaOffsets[u]=0,s._colorOffsets[u]=0,s._heightOffsets[u]=0;return s}return o(d,v),d.referenceVerticesVBO=function(c){var a;d.VERTICES_BY_CONTEXT.has(c)?a=d.VERTICES_BY_CONTEXT.get(c):(a=new g.Buffer(c,"CuboidVertexVBO"),d.VERTICES_BY_CONTEXT.set(c,a),d.REFCOUNT_BY_TEMPLATE.set(a,0));var l=d.REFCOUNT_BY_TEMPLATE.get(a)+1;return d.REFCOUNT_BY_TEMPLATE.set(a,l),a},d.unreferenceTemplateVBO=function(c){if(d.VERTICES_BY_CONTEXT.has(c)){var a=d.VERTICES_BY_CONTEXT.get(c),l=d.REFCOUNT_BY_TEMPLATE.get(a)-1;d.REFCOUNT_BY_TEMPLATE.set(a,l),l>0||(a.uninitialize(),d.VERTICES_BY_CONTEXT.delete(c),d.REFCOUNT_BY_TEMPLATE.delete(a))}},d.prototype.bindBuffers=function(c){var a=this.context.gl,l=this.context.gl2facade;this._vertices.attribEnable(this._vertexLocation,3,a.FLOAT,!1,24,0,!0,!1),l.vertexAttribDivisor(this._vertexLocation,0),this._vertices.attribEnable(this._texCoordLocation,3,a.FLOAT,!1,24,12,!0,!1),l.vertexAttribDivisor(this._texCoordLocation,0),this._layout.attribEnable(this._layoutLocation,4,a.FLOAT,!1,0,0,!0,!1),l.vertexAttribDivisor(this._layoutLocation,1),this._ids.attribEnable(this._idLocation,4,a.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._idLocation,1),this._emphases.attribEnable(this._emphasisLocation,1,a.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._emphasisLocation,1),this._areasBegin.attribEnable(this._areaBeginLocation,1,a.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._areaBeginLocation,1),this._areasEnd.attribEnable(this._areaEndLocation,1,a.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._areaEndLocation,1),this._areasDelay.attribEnable(this._areaDelayLocation,1,a.FLOAT,!1,0,0,!0,!1),l.vertexAttribDivisor(this._areaDelayLocation,1),this._colorsBegin.attribEnable(this._colorBeginLocation,1,a.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._colorBeginLocation,1),this._colorsEnd.attribEnable(this._colorEndLocation,1,a.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._colorEndLocation,1),this._colorsDelay.attribEnable(this._colorDelayLocation,1,a.FLOAT,!1,0,0,!0,!1),l.vertexAttribDivisor(this._colorDelayLocation,1),this._heightsBegin.attribEnable(this._heightBeginLocation,2,a.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._heightBeginLocation,1),this._heightsEnd.attribEnable(this._heightEndLocation,2,a.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._heightEndLocation,1),this._heightsDelay.attribEnable(this._heightDelayLocation,1,a.FLOAT,!1,0,0,!0,!1),l.vertexAttribDivisor(this._heightDelayLocation,1)},d.prototype.unbindBuffers=function(c){this._vertices.attribDisable(this._vertexLocation,!1,!1),this._vertices.attribDisable(this._texCoordLocation,!1,!1),this._layout.attribDisable(this._layoutLocation,!1,!1),this._ids.attribDisable(this._idLocation,!1,!1),this._emphases.attribDisable(this._emphasisLocation,!1,!1),this._areasBegin.attribDisable(this._areaBeginLocation,!1,!1),this._areasEnd.attribDisable(this._areaEndLocation,!1,!1),this._areasDelay.attribDisable(this._areaDelayLocation,!1,!1),this._colorsBegin.attribDisable(this._colorBeginLocation,!1,!1),this._colorsEnd.attribDisable(this._colorEndLocation,!1,!1),this._colorsDelay.attribDisable(this._colorDelayLocation,!1,!1),this._heightsBegin.attribDisable(this._heightBeginLocation,!1,!1),this._heightsEnd.attribDisable(this._heightEndLocation,!1,!1),this._heightsDelay.attribDisable(this._heightDelayLocation,!1,!1)},d.prototype.initialize=function(c,a,l,s,u,f,m,y,b,E,x,w,S,P){c===void 0&&(c=0),a===void 0&&(a=1),l===void 0&&(l=2),s===void 0&&(s=3),u===void 0&&(u=4),f===void 0&&(f=5),m===void 0&&(m=6),y===void 0&&(y=7),b===void 0&&(b=8),E===void 0&&(E=9),x===void 0&&(x=10),w===void 0&&(w=11),S===void 0&&(S=12),P===void 0&&(P=13),this._vertexLocation=c,this._texCoordLocation=a,this._idLocation=s,this._layoutLocation=l,this._emphasisLocation=u,this._areaBeginLocation=f,this._areaEndLocation=m,this._areaDelayLocation=y,this._colorBeginLocation=b,this._colorEndLocation=E,this._colorDelayLocation=x,this._heightBeginLocation=w,this._heightEndLocation=S,this._heightDelayLocation=P;var A=this.context.gl,L=v.prototype.initialize.call(this,[A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER]);return this._vertices.data(d.DATA,A.STATIC_DRAW),L&&this._vertices.valid},d.prototype.uninitialize=function(){d.unreferenceTemplateVBO(this.context),this._layout.uninitialize(),this._ids.uninitialize(),this._emphases.uninitialize(),this._areasBegin.uninitialize(),this._areasEnd.uninitialize(),this._colorsBegin.uninitialize(),this._colorsEnd.uninitialize(),this._heightsBegin.uninitialize(),this._heightsEnd.uninitialize(),v.prototype.uninitialize.call(this)},d.prototype.update=function(){this.bind()},d.prototype.draw=function(c,a,l,s,u,f,m){c===void 0&&(c=0),a===void 0&&(a=0),l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=!1),f===void 0&&(f=!1),m===void 0&&(m=!1);var y=this.context.gl,b=this.context.gl2facade,E=u?this._areaEndLocation:this._areaBeginLocation,x=u?this._areaBeginLocation:this._areaEndLocation,w=f?this._heightEndLocation:this._heightBeginLocation,S=f?this._heightBeginLocation:this._heightEndLocation,P=m?this._colorEndLocation:this._colorBeginLocation,A=m?this._colorBeginLocation:this._colorEndLocation;this._vertices.attribEnable(this._vertexLocation,3,y.FLOAT,!1,24,l,!0,!1),this._vertices.attribEnable(this._texCoordLocation,3,y.FLOAT,!1,24,12+l,!0,!1),this._ids.attribEnable(this._idLocation,4,y.UNSIGNED_BYTE,!1,4,4*a,!0,!1),this._layout.attribEnable(this._layoutLocation,4,y.FLOAT,!1,16,16*a,!0,!1),this._emphases.attribEnable(this._emphasisLocation,1,y.UNSIGNED_BYTE,!1,1,1*a,!0,!1),this._areasBegin.bytes>0?(this._areasBegin.attribEnable(E,1,y.UNSIGNED_BYTE,!1,1,1*a+this._areaOffsets[c],!0,!1),this._areasEnd.attribEnable(x,1,y.UNSIGNED_BYTE,!1,1,1*a+this._areaOffsets[c],!0,!1),this._areasDelay.attribEnable(this._areaDelayLocation,1,y.FLOAT,!1,4,4*a+this._areaDelayOffsets[c],!0,!1)):(this._areasBegin.attribDisable(E,!0,!1),y.vertexAttrib1f(E,255),this._areasEnd.attribDisable(x,!0,!1),y.vertexAttrib1f(x,255)),this._colorsBegin.bytes>0?(this._colorsBegin.attribEnable(P,1,y.UNSIGNED_BYTE,!1,1,1*a+this._colorOffsets[c],!0,!1),this._colorsEnd.attribEnable(A,1,y.UNSIGNED_BYTE,!1,1,1*a+this._colorOffsets[c],!0,!1),this._colorsDelay.attribEnable(this._colorDelayLocation,1,y.FLOAT,!1,4,4*a+this._colorDelayOffsets[c],!0,!1)):(this._colorsBegin.attribDisable(P,!0,!1),this._colorsEnd.attribDisable(A,!0,!1)),this._heightsBegin.bytes>0?(this._heightsBegin.attribEnable(w,2,y.UNSIGNED_BYTE,!1,2,2*a+this._heightOffsets[c],!0,!1),this._heightsEnd.attribEnable(S,2,y.UNSIGNED_BYTE,!1,2,2*a+this._heightOffsets[c],!0,!1),this._heightsDelay.attribEnable(this._heightDelayLocation,1,y.FLOAT,!1,4,4*a+this._heightDelayOffsets[c],!0,!1)):(this._heightsBegin.attribDisable(w,!0,!1),this._heightsEnd.attribDisable(S,!0,!1)),b.drawArraysInstanced(y.TRIANGLE_STRIP,0,4,s)},Object.defineProperty(d.prototype,"layout",{set:function(c){this._layout.data(c,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"ids",{set:function(c){this._ids.data(c,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),d.prototype.areasBegin=function(c,a,l){h.auxiliaries.assert(a===void 0||a>=0&&a<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+a),h.auxiliaries.assert(l===void 0||l<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+a);var s=this.context.gl,u=c.byteLength*(l||this._layers);this._areasBegin.bytes!==0&&this._areasBegin.bytes===u||a===void 0||this._areasBegin.data(u,s.STATIC_DRAW),a!==void 0?(this._areasBegin.subData(c.byteLength*a,c),this._areaOffsets[a]=c.byteLength*a):this._areasBegin.data(c,this.context.gl.STATIC_DRAW)},d.prototype.areasEnd=function(c,a,l){h.auxiliaries.assert(a===void 0||a>=0&&a<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+a),h.auxiliaries.assert(l===void 0||l<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+a);var s=this.context.gl,u=c.byteLength*(l||this._layers);this._areasEnd.bytes!==0&&this._areasEnd.bytes===u||a===void 0||this._areasEnd.data(u,s.STATIC_DRAW),a!==void 0?(this._areasEnd.subData(c.byteLength*a,c),this._areaOffsets[a]=c.byteLength*a):this._areasEnd.data(c,this.context.gl.STATIC_DRAW)},d.prototype.areaDelays=function(c,a){h.auxiliaries.assert(a===void 0||a>=0&&a<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+a);var l=this.context.gl,s=c.byteLength*this._layers;this._areasDelay.bytes!==0&&this._areasDelay.bytes===s||a===void 0||this._areasDelay.data(s,l.STATIC_DRAW),a!==void 0?(this._areasDelay.subData(c.byteLength*a,c),this._areaDelayOffsets[a]=c.byteLength*a):this._areasDelay.data(c,this.context.gl.STATIC_DRAW)},d.prototype.colorsBegin=function(c,a,l){h.auxiliaries.assert(a===void 0||a>=0&&a<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+a),h.auxiliaries.assert(l===void 0||l<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+a);var s=this.context.gl,u=c.byteLength*(l||this._layers);this._colorsBegin.bytes!==0&&this._colorsBegin.bytes===u||a===void 0||this._colorsBegin.data(u,s.STATIC_DRAW),a!==void 0?(this._colorsBegin.subData(c.byteLength*a,c),this._colorOffsets[a]=c.byteLength*a):this._colorsBegin.data(c,this.context.gl.STATIC_DRAW)},d.prototype.colorsEnd=function(c,a,l){h.auxiliaries.assert(a===void 0||a>=0&&a<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+a),h.auxiliaries.assert(l===void 0||l<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+a);var s=this.context.gl,u=c.byteLength*(l||this._layers);this._colorsEnd.bytes!==0&&this._colorsEnd.bytes===u||a===void 0||this._colorsEnd.data(u,s.STATIC_DRAW),a!==void 0?(this._colorsEnd.subData(c.byteLength*a,c),this._colorOffsets[a]=c.byteLength*a):this._colorsEnd.data(c,this.context.gl.STATIC_DRAW)},d.prototype.colorDelays=function(c,a){h.auxiliaries.assert(a===void 0||a>=0&&a<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+a);var l=this.context.gl,s=c.byteLength*this._layers;this._colorsDelay.bytes!==0&&this._colorsDelay.bytes===s||a===void 0||this._colorsDelay.data(s,l.STATIC_DRAW),a!==void 0?(this._colorsDelay.subData(c.byteLength*a,c),this._colorDelayOffsets[a]=c.byteLength*a):this._colorsDelay.data(c,this.context.gl.STATIC_DRAW)},Object.defineProperty(d.prototype,"emphases",{set:function(c){this._emphases.data(c,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),d.prototype.heightsBegin=function(c,a){h.auxiliaries.assert(a===void 0||a>=0&&a<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+a);var l=this.context.gl,s=c.byteLength*this._layers;this._heightsBegin.bytes!==0&&this._heightsBegin.bytes===s||a===void 0||this._heightsBegin.data(s,l.STATIC_DRAW),a!==void 0?(this._heightsBegin.subData(c.byteLength*a,c),this._heightOffsets[a]=c.byteLength*a):this._heightsBegin.data(c,this.context.gl.STATIC_DRAW)},d.prototype.heightsEnd=function(c,a){h.auxiliaries.assert(a===void 0||a>=0&&a<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+a);var l=this.context.gl,s=c.byteLength*this._layers;this._heightsEnd.bytes!==0&&this._heightsEnd.bytes===s||a===void 0||this._heightsEnd.data(s,l.STATIC_DRAW),a!==void 0?(this._heightsEnd.subData(c.byteLength*a,c),this._heightOffsets[a]=c.byteLength*a):this._heightsEnd.data(c,this.context.gl.STATIC_DRAW)},d.prototype.heightDelays=function(c,a){h.auxiliaries.assert(a===void 0||a>=0&&a<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+a);var l=this.context.gl,s=c.byteLength*this._layers;this._heightsDelay.bytes!==0&&this._heightsDelay.bytes===s||a===void 0||this._heightsDelay.data(s,l.STATIC_DRAW),a!==void 0?(this._heightsDelay.subData(c.byteLength*a,c),this._heightDelayOffsets[a]=c.byteLength*a):this._heightsDelay.data(c,this.context.gl.STATIC_DRAW)},Object.defineProperty(d.prototype,"layers",{get:function(){return this._layers},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"valid",{get:function(){var c=this._layout&&this._layout.valid,a=this._ids&&this._ids.valid,l=this._areasBegin&&this._areasBegin.valid,s=this._areasEnd&&this._areasEnd.valid,u=this._areasDelay&&this._areasDelay.valid,f=this._colorsBegin&&this._colorsBegin.valid,m=this._colorsEnd&&this._colorsEnd.valid,y=this._colorsDelay&&this._colorsDelay.valid,b=this._emphases&&this._emphases.valid,E=this._heightsBegin&&this._heightsBegin.valid,x=this._heightsEnd&&this._heightsEnd.valid,w=this._heightsDelay&&this._heightsDelay.valid;return this.initialized&&this._vertices.valid&&c&&a&&l&&s&&u&&f&&m&&y&&b&&E&&x&&w},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"vertexLocation",{get:function(){return this._vertexLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"texCoordLocation",{get:function(){return this._texCoordLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"layoutLocation",{get:function(){return this._layoutLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"idLocation",{get:function(){return this._idLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"emphasisLocation",{get:function(){return this._emphasisLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"areaBeginLocation",{get:function(){return this._areaBeginLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"areaEndLocation",{get:function(){return this._areaEndLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"areaDelayLocation",{get:function(){return this._areaDelayLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"colorBeginLocation",{get:function(){return this._colorBeginLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"colorEndLocation",{get:function(){return this._colorEndLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"colorDelayLocation",{get:function(){return this._colorDelayLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"heightBeginLocation",{get:function(){return this._heightBeginLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"heightEndLocation",{get:function(){return this._heightEndLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"heightDelayLocation",{get:function(){return this._heightDelayLocation},enumerable:!1,configurable:!0}),d.VERTICES_BY_CONTEXT=new Map,d.REFCOUNT_BY_TEMPLATE=new Map,d.DATA=new Float32Array([0,0,0,0,1,0,0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,0,0,0,0,0,0,1,0,0,1,0,0,0,0,1,0,0,1,1,0,1,1,0,1,0,0,1,0,0,1,1,0,1,1,0,1,0,1,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,0,0,1,0,1,0,0,1,0,0,1,1,0,1,1,0,1,0,0,1,0,0,1,1,0,1,1,0,1,0,1,1,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,1,0,1,0,0,1,0,0,1,1,0,1,1]),d.BYTES_PER_VERTEX=d.DATA.length/6,i([g.Initializable.assert_initialized()],d.prototype,"draw",null),d}(g.Geometry);t.AnimatedCuboidGeometry=p},function(e,t){e.exports=`//*****************************************************************************
// seerene(tm) - A framework for analyzing and visualizing complex software systems.
// Copyright (C) 2005 - 2019 for all source codes:
// seerene(tm) GmbH, Potsdam, Germany
//*****************************************************************************

#if __VERSION__ == 100
    #extension GL_EXT_draw_buffers : enable
#endif

precision highp float;
precision lowp int;


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
#else 
    #define varying out
#endif


// @todo this file will be included from webgl-operate soon

void ndcOffset(inout vec4 vertex, in vec2 offset) {
    vertex.xy = offset * vec2(vertex.w) + vertex.xy;
}



#if __VERSION__ == 100

attribute vec3  a_vertex;
attribute vec3  a_texCoord;
attribute vec4  a_layout; /* [ position: vec2, extent: vec2 ] */
attribute vec4  a_id; /* encoded uint32 id in byte4 */
attribute float a_emphasis;
attribute float a_areaBegin;
attribute float a_areaEnd;
attribute float a_areaDelay;
attribute float a_colorBegin;
attribute float a_colorEnd;
attribute float a_colorDelay;
attribute vec2  a_heightsBegin; /* [ bottom: float, top: float ] */
attribute vec2  a_heightsEnd; /* [ bottom: float, top: float ] */
attribute float a_heightDelay;

#else

/* Note: do not use layout location specifier, since they take precedence over CPU managed locations. */
in vec3  a_vertex;
in vec3  a_texCoord;
in vec4  a_layout; /* [ position: vec2, extent: vec2 ] */
in vec4  a_id; /* encoded uint32 id in byte4 */
in float a_emphasis; /* [ bottom: float, top: float ] */
in float a_areaBegin;
in float a_areaEnd;
in float a_areaDelay;
in float a_colorBegin;
in float a_colorEnd;
in float a_colorDelay;
in vec2  a_heightsBegin; /* [ bottom: float, top: float ] */
in vec2  a_heightsEnd;
in float a_heightDelay;

#endif


uniform mat4 u_viewProjection;
uniform vec2 u_ndcOffset;

uniform vec4 u_colorTable[$ColorTableLength];

uniform int u_layer;
uniform int u_face;

uniform vec4 u_normalAndLambert;

uniform float u_heightScale;
uniform vec2 u_floatingGap; /* [ target gap size, minimum remaining cuboid size ] */
uniform float u_outlineWidth;
uniform float u_emphasisOutlineWidth;

uniform float u_time;
uniform float u_areaDuration;
uniform float u_heightDuration;
uniform float u_colorDuration;
uniform int u_areaEasing;
uniform int u_heightEasing;
uniform int u_colorEasing;
uniform int u_progressMode;
uniform ivec2 u_screenSize;
uniform ivec2 u_mousePosition;
uniform int u_patternMode;


varying vec4 v_baseColorBegin;
varying vec4 v_baseColorEnd;
varying vec4 v_outlineColorBegin;
varying vec4 v_outlineColorEnd;
varying vec4 v_patternColorBegin;
varying vec4 v_patternColorEnd;

varying vec4 v_id;

varying vec3 v_uv;
varying vec2 v_texCoord2D;
varying vec3 v_texCoord3D;
varying vec4 v_worldPos;

varying float v_relativeHeight;
#if __VERSION__ == 100
varying float v_absoluteHeight;
varying float v_colorProgress;
varying vec2 v_direction;
varying float v_usePattern;
#else
flat varying float v_absoluteHeight;
flat varying float v_colorProgress;
flat varying vec2 v_direction;
flat varying float v_usePattern;
#endif


const float ONE_OVER_255 = 1.0 / 255.0;
const int FACE_INDEX_TOP = 1; /* see CuboidRenderPass.FaceIndex.Top */

const vec3 AMBIENT = vec3(0.0, 0.0, 0.0); /* @todo expose to API */
const float OUTLINE_LAMBERT_SCALE = 0.88; /* @todo expose to API */

const int EMPHASIS_COLOR_INDEX = 0;

const int POSITIVE_COLOR_INDEX = 1;
const int NEGATIVE_COLOR_INDEX = 2;

const float PROGRESS_WIDTH = 0.2;


float ease(in float progress, in int easing)
{
    if (easing == 0) return progress;
    if (easing == 1) return smoothstep(0.0, 1.0, progress);

    return 0.0;
}

vec4 calculateOutlineColor(in vec4 baseColor, in vec4 emphasisColor)
{
    vec4 outlineColor;
    outlineColor.rgb = mix(baseColor.rgb, emphasisColor.rgb, step(1.0, a_emphasis));

    /* The default outline (emphasis = 0.0) should be a little bit darker, when in outline mode (emphasis = 1.0) the
    outline should remain unchanged (except for face lambda), and when highlighting (emphasis = 2.0) the outline is
    lightened a little bit (invere darkening lambda). The mix is utilized to create this. */
    outlineColor.rgb *= mix(OUTLINE_LAMBERT_SCALE, (1.0 / OUTLINE_LAMBERT_SCALE), a_emphasis * 0.5);

    /* The outline should be darkened based on the face orientation. */
    outlineColor.rgb = mix(AMBIENT, outlineColor.rgb, u_normalAndLambert[3]);
    /* The outline width is encoded within the alpha channel of the outline (special if emphasized). */
    outlineColor[3] = mix(u_emphasisOutlineWidth, u_outlineWidth, step(0.5, abs(a_emphasis - 1.0)));

    return outlineColor;
}

float calculateProgress(in float timeProgress, in vec2 worldSpacePos, in mat4 viewProjection, in int progressMode)
{
    if (progressMode == 0)
    {
        return timeProgress;
    }
    if (progressMode == 1)
    {
        float progress = timeProgress * (1.0 + 2.0 * PROGRESS_WIDTH) - PROGRESS_WIDTH;
        progress = 1.0 - smoothstep(progress - PROGRESS_WIDTH, progress + PROGRESS_WIDTH, worldSpacePos.x * 0.5 + 0.5);

        return progress;
    }
    else if (progressMode == 2)
    {
        vec4 screenSpace = u_viewProjection * vec4(worldSpacePos.x, 0.0, worldSpacePos.y, 1.0);
        screenSpace = screenSpace / screenSpace.w * 0.5 + vec4(0.5);

        vec2 progress = vec2(u_mousePosition) / vec2(u_screenSize) * (1.0 + 2.0 * PROGRESS_WIDTH) - PROGRESS_WIDTH;
        progress = vec2(1.0) - smoothstep(progress - vec2(PROGRESS_WIDTH), progress + vec2(PROGRESS_WIDTH), screenSpace.xy);

        return progress.x;
    }

    return 0.0;
}

vec2 calculate2DTexCoords(in vec3 texCoords3D, in int face)
{
    if (face == 1 || face == 2)
    {
        return texCoords3D.xz;
    }
    if (face == 3)
    {
        return texCoords3D.xy;
    }
    if (face == 4)
    {
        return vec2(1.0 - texCoords3D.x, texCoords3D.y);
    }
    if (face == 5)
    {
        return vec2(1.0 - texCoords3D.z, texCoords3D.y);
    }
    if (face == 6)
    {
        return texCoords3D.zy;
    }

    return vec2(0.0);
}


/**
 * Transforms the cuboid vertices based on the associated face and height mapping. An earlier implementation of this
 * used the same geometry template and transformed it to either orientation. The current implementation uses a pre-set
 * vertex sequence/orientation and has to adjust the height only.
 * Appart from that, each cuboid face is moved to its position and adjusted to the provided height values. ID, color,
 * and extent along the y-axis are encoded per vertex (or even per face/cuboid) to reduce per-fragment processing.
 */
void main(void)
{
    /* Assuming that cuboids of no relevant height mapping should still be visible on top of their parent nodes, zero-
       height nodes are rendered when associated to the first cuboid layer. Note that this might be unwanted behavior,
       e.g., when multiple layers are used and the top-most layer, even if the height is zero, a relevant color mapping
       might be stacked over all other cuboids of lower layers. */
    if (u_layer > 0 &&
        a_heightsBegin[1] - a_heightsBegin[0] == 0.0 &&
        a_heightsEnd[1] - a_heightsEnd[0] == 0.0)
    {
        return;
    }

    /* Calculate the animations progress. */
    float areaScaleProgress = (u_time - a_areaDelay) / u_areaDuration;
    areaScaleProgress = calculateProgress(areaScaleProgress, a_layout.xy, u_viewProjection, u_progressMode);
    float heightProgress = (u_time - a_heightDelay) / u_heightDuration;
    heightProgress = calculateProgress(heightProgress, a_layout.xy, u_viewProjection, u_progressMode);
    float colorProgress = (u_time - a_colorDelay) / u_colorDuration;
    colorProgress = calculateProgress(colorProgress, a_layout.xy, u_viewProjection, u_progressMode);

    areaScaleProgress = ease(clamp(areaScaleProgress, 0.0, 1.0), u_areaEasing);
    heightProgress = ease(clamp(heightProgress, 0.0, 1.0), u_heightEasing);
    v_colorProgress = ease(clamp(colorProgress, 0.0, 1.0), u_colorEasing);

    /* Interpolate the height depending on the progress */
    vec2 rawHeights = mix(a_heightsBegin, a_heightsEnd, heightProgress);
    float height = (rawHeights[1] - rawHeights[0]) * u_heightScale;

    /* Compute the position and extend of the cuboid based on the face. */
    vec4 pos = vec4(a_layout[0], u_face == FACE_INDEX_TOP ?
        rawHeights[1] * u_heightScale : rawHeights[0] * u_heightScale, a_layout[1], 0.0);
    vec4 ext = vec4(a_layout[2], height, a_layout[3], 1.0);

    /* Area scaling */
    float areaScale = mix(a_areaBegin, a_areaEnd, areaScaleProgress);
    float shrinkage = 1.0 - areaScale * ONE_OVER_255;
    pos.x += ext.x * shrinkage * 0.5;
    pos.z += ext.z * shrinkage * 0.5;
    ext.x -= ext.x * shrinkage;
    ext.z -= ext.z * shrinkage;

    v_relativeHeight = u_face == FACE_INDEX_TOP ? 1.0 : a_vertex.y;
    v_absoluteHeight = height;

    /* Compute the final vertex position and pass through texture coordinates and layout data. */
    vec4 vertex = vec4(a_vertex, 1.0) * ext + pos;

    /* Calculate 2D and 3D texture coordinates. */
    v_texCoord2D = calculate2DTexCoords(a_texCoord, u_face);
    v_texCoord3D = a_texCoord;
    v_worldPos.xy = vertex.xz * vec2(0.5) + vec2(0.5);
    v_worldPos.zw = pos.xz;
    v_id = a_id * ONE_OVER_255;

    /* "Interpolate" the color indices. Since we don't want to interpolate the color and instead use
       different techniques to show the progress we just take the color start and end */
    float colorIndexBegin = abs(a_colorBegin - 32.0);
    float colorIndexEnd = abs(a_colorEnd - 32.0);
    float colorIndexDiff = colorIndexEnd - colorIndexBegin;

    v_direction = vec2(sign(a_heightsEnd.y - a_heightsBegin.y), sign(colorIndexDiff));

    float gap = 0.0;
    /* Only if floating cuboids enabled, vertices of lower part of lateral faces, and not for first layer. */
    if(u_floatingGap[0] > 0.0 && u_layer > 0 && a_vertex.y == 0.0 && u_face > 2) {

        /* Compute screen space position for incoming vertex and an offseted one. */
        vec4 pos0 = u_viewProjection * vertex;
        vec4 pos1 = u_viewProjection * vec4(vertex.x, vertex.y + ext.y, vertex.z, vertex.w);
        /* Vector pointing from pos1 to pos0 in NDC. */
        vec3 pos0_dash = (pos1.xyz / pos1.w) - (pos0.xyz / pos0.w);
        /* Length of pos0' in NDC is the basis for gap scale. */
        gap = u_floatingGap[0] / length(pos0_dash);
        vertex = mix(pos0, pos1, min(1.0 - u_floatingGap[1] / length(pos0_dash), gap));

    } else {
        vertex = u_viewProjection * vertex;
    }

    /* The y-extent provides world-space height of the cuboid that can be used for fragment-processing. */
    v_uv[0] = (v_texCoord2D.x - 0.5);
    v_uv[1] = height / mix(a_layout[2], a_layout[3], step(5.0, float(u_face)));
    /* Compute color and direction of arrow pattern for fragment processing. Also account for the
       levitation gap, so the arrow pattern does not squish or stretch. */
    v_uv[1] *= (1.0 - v_texCoord3D.y) * (1.0 - gap);
    v_uv[2] = v_uv[1];

    if(v_direction[1] > 0.0) {
        v_uv[2] = (1.0 - v_uv[2]);
    }

    v_usePattern = abs(colorIndexDiff);

    if (u_layer > 0)
    {
        v_baseColorBegin = mix(u_colorTable[NEGATIVE_COLOR_INDEX], u_colorTable[POSITIVE_COLOR_INDEX], sign(a_colorBegin - 32.0) * 0.5 + 0.5);
        v_baseColorEnd = mix(u_colorTable[NEGATIVE_COLOR_INDEX], u_colorTable[POSITIVE_COLOR_INDEX], sign(a_colorEnd - 32.0) * 0.5 + 0.5);
    }
    else
    {
        v_baseColorBegin = u_colorTable[int(colorIndexBegin)];
        v_baseColorEnd = u_colorTable[int(colorIndexEnd)];
    }

    /* Calculate the various colors we need for coloration. */
    vec4 emphasisColor = u_colorTable[EMPHASIS_COLOR_INDEX];

    v_baseColorBegin = mix(v_baseColorBegin, emphasisColor, step(2.0, a_emphasis));
    v_baseColorEnd = mix(v_baseColorEnd, emphasisColor, step(2.0, a_emphasis));

    v_outlineColorBegin = calculateOutlineColor(v_baseColorBegin, emphasisColor);
    v_outlineColorEnd = calculateOutlineColor(v_baseColorEnd, emphasisColor);

    v_patternColorBegin = vec4(v_baseColorBegin.rgb, 1.0);
    v_patternColorBegin.rgb *= mix(OUTLINE_LAMBERT_SCALE, (1.0 / OUTLINE_LAMBERT_SCALE), 0.5);
    v_patternColorBegin.rgb = mix(AMBIENT, v_patternColorBegin.rgb, u_normalAndLambert[3]);
    v_patternColorBegin.rgb *= mix(OUTLINE_LAMBERT_SCALE, 1.0, 0.5);

    v_patternColorEnd = vec4(v_outlineColorEnd.rgb, 1.0);
    v_patternColorEnd.rgb *= mix(OUTLINE_LAMBERT_SCALE, 1.0, a_emphasis * 0.5);

    v_baseColorBegin = mix(vec4(AMBIENT, 1.0), v_baseColorBegin, u_normalAndLambert[3]);
    v_baseColorEnd = mix(vec4(AMBIENT, 1.0), v_baseColorEnd, u_normalAndLambert[3]);

    ndcOffset(vertex, u_ndcOffset);
    gl_Position = vertex;
}
`},function(e,t){e.exports=`//*****************************************************************************
// seerene(tm) - A framework for analyzing and visualizing complex software systems.
// Copyright (C) 2005 - 2019 for all source codes:
// seerene(tm) GmbH, Potsdam, Germany
//*****************************************************************************

precision highp float;
precision lowp int;

#if __VERSION__ == 100

    #ifdef GL_EXT_draw_buffers
        #extension GL_EXT_draw_buffers : enable
        #define fragColor gl_FragData[0].rgba
        #define fragId gl_FragData[1].xyzw
    #else
        #define DRAW_RESTRICTED
        #define fragColor gl_FragColor.rgba
        #define fragId gl_FragColor.xyzw
        #define fragDepth gl_FragColor.xyz
    #endif

    #ifdef GL_OES_standard_derivatives
        #extension GL_OES_standard_derivatives : enable
        #define ANTIALIASED_CONTOUR
    #endif

#else
    layout(location = 0) out vec4 fragColor;
    layout(location = 1) out vec4 fragId;
#endif


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
    #define texture(sampler, coord) texture2D(sampler, coord)
#else
    #define varying in
#endif



uniform int u_face;
uniform int u_layer;
uniform int u_colorMode;
uniform int u_patternMode;
uniform int u_progressMode;
uniform float u_nodeCountSqrt;

uniform sampler2D u_ditheringTexture;

#ifdef DRAW_RESTRICTED
    
// @todo this file will be included from webgl-operate soon

const float one255ths = 1.0 / 255.0;

vec3 float24x1_to_uint8x3(const in float f) {
    vec3 uint8x3 = vec3(f, fract(f * 256.0), fract(f * 65536.0));
    return floor(uint8x3 * 256.0) * one255ths;
}

vec4 float24x1_to_uint8x4(const in float f) {
    vec4 uint8x4 = vec4(f, fract(f * 256.0), fract(f * 65536.0), fract(f * 16777216.0));
    return floor(uint8x4 * 256.0) * one255ths;
}

const vec3 premultUint8x3 = vec3(255.0 / 256.0, 255.0 / 65536.0, 255.0 / 16777216.0);
float uint8x3_to_float24x1(const in vec3 v) {
    return dot(v, premultUint8x3); // a1 * b1 + a2 * b2 + a3 * b3  ;)
}

const vec4 premultUint8x4 = vec4(255.0 / 256.0, 255.0 / 65536.0, 255.0 / 16777216.0, 255.0 / 4294967296.0);
float uint8x4_to_float24x1(const in vec4 v) {
    return dot(v, premultUint8x4); // a1 * b1 + a2 * b2 + a3 * b3 + a4 * b4  ;)
}

    uniform int u_attachment;
#endif


varying vec4 v_baseColorBegin;
varying vec4 v_baseColorEnd;
varying vec4 v_outlineColorBegin;
varying vec4 v_outlineColorEnd;
varying vec4 v_patternColorBegin;
varying vec4 v_patternColorEnd;

varying vec4 v_id;

varying vec3 v_uv;
varying vec2 v_texCoord2D;
varying vec3 v_texCoord3D;
varying vec4 v_worldPos;

varying float v_relativeHeight;
#if __VERSION__ == 100
varying float v_absoluteHeight;
varying float v_colorProgress;
varying vec2 v_direction;
varying float v_usePattern;
#else
flat varying float v_absoluteHeight;
flat varying float v_colorProgress;
flat varying vec2 v_direction;
flat varying float v_usePattern;
#endif

struct PatternConfig
{
    int mode;
    float progress;
    float inverse;
};

struct PatternData
{
    int face;
    float nodeCountSqrt;

    vec2 texCoord2D;
    vec3 texCoord3D;
    vec3 uv;
    vec4 worldPos;

    float relativeHeight;
    float absoluteHeight;
};

// taken from https://www.shadertoy.com/view/4ddXW4
float hash(float h) {
    return fract(sin(h) * 43758.5453123);
}

// taken from https://www.shadertoy.com/view/4ddXW4
float noise(vec3 x) {
    vec3 p = floor(x);
    vec3 f = fract(x);
    f = f * f * (3.0 - 2.0 * f);

    float n = p.x + p.y * 157.0 + 113.0 * p.z;
    return mix(
        mix(mix(hash(n + 0.0), hash(n + 1.0), f.x),
            mix(hash(n + 157.0), hash(n + 158.0), f.x), f.y),
        mix(mix(hash(n + 113.0), hash(n + 114.0), f.x),
            mix(hash(n + 270.0), hash(n + 271.0), f.x), f.y), f.z);
}

float calculateColorDistance(in PatternData data, in PatternConfig config)
{
    const float epsilon = 0.001;

    // Vertical
    if (config.mode == 0)
    {
        float regular = config.progress - data.relativeHeight;
        float reverse = config.progress - (1.0 - data.relativeHeight * 0.999);
        return mix(regular, reverse, config.inverse);
    }
    // Arrows
    if (config.mode == 1)
    {
        const float slices = 4.0;

        float arrow = 1.0;

        if (data.face > 2)
        {
            float d = abs(data.uv[0]) * slices;
            arrow = config.progress - mod(data.uv[2] * slices + d, 1.0);
        }
        else
        {
            float regular = config.progress - 1.0;
            float reverse = config.progress - 0.001;
            arrow = mix(regular, reverse, config.inverse);
        }

        return arrow;
    }
    // Full Arrows
    if (config.mode == 2)
    {
        const float slices = 4.0;
        const float halfSlices = slices / 2.0;

        float arrow = 1.0;

        if (data.face > 2)
        {
            float d = abs(data.uv[0]) * slices;
            arrow = config.progress - mod(data.uv[2] * slices + d, 1.0);
        }
        else
        {
            vec2 texCoord = data.texCoord2D * 2.0 - vec2(1.0);
            float d = abs(texCoord.x) * slices;
            float reverse = abs(texCoord.y) * slices + d;
            reverse = config.progress - mod(reverse * 0.5, 1.0);

            float diff = abs(texCoord.x ) - abs(texCoord.y);
            float regular = 1.0 - fract(abs(diff) * halfSlices);
            regular = config.progress - regular;

            arrow = mix(regular, reverse, config.inverse);
        }

        return arrow;
    }
    // Divided Arrows Static
    if (config.mode == 3)
    {
        const float slices = 4.0;
        const float halfSlices = slices / 2.0;

        float arrow = 1.0;
        float ratio = mix(0.5, 1.0 - 0.5, config.inverse);
        float topProgress = mix(max((config.progress - ratio) / (1.0 - ratio), 0.0), min(config.progress / ratio, 1.0), config.inverse);
        float sideProgress = mix(min(config.progress / ratio, 1.0), max((config.progress - ratio) / (1.0 - ratio), 0.0), config.inverse);

        if (data.face > 2)
        {
            float d = abs(data.uv[0]) * slices;
            arrow = sideProgress - mod(data.uv[2] * slices + d, 1.0);
        }
        else
        {
            vec2 texCoord = data.texCoord2D * 2.0 - vec2(1.0);
            float d = abs(texCoord.x) * slices;
            float reverse = abs(texCoord.y) * slices + d;
            reverse = topProgress - mod(reverse * 0.5, 1.0);

            float diff = abs(texCoord.x) - abs(texCoord.y);
            float regular = 1.0 - fract(abs(diff) * halfSlices);
            regular = topProgress - regular;

            arrow = mix(regular, reverse, config.inverse);
        }

        return arrow;
    }
    // Divided Arrows Dynamic
    if (config.mode == 4)
    {
        const float slices = 4.0;
        const float halfSlices = slices / 2.0;

        float arrow = 1.0;
        float ratio = mix(data.absoluteHeight, 1.0 - data.absoluteHeight, config.inverse);
        float topProgress = mix(max((config.progress - ratio) / (1.0 - ratio), 0.0), min(config.progress / ratio, 1.0), config.inverse);
        float sideProgress = mix(min(config.progress / ratio, 1.0), max((config.progress - ratio) / (1.0 - ratio), 0.0), config.inverse);

        if (data.face > 2)
        {
            float d = abs(data.uv[0]) * slices;
            arrow = sideProgress - mod(data.uv[2] * slices + d, 1.0);
        }
        else
        {
            vec2 texCoord = data.texCoord2D * 2.0 - vec2(1.0);
            float d = abs(texCoord.x) * slices;
            float reverse = abs(texCoord.y) * slices + d;
            reverse = topProgress - mod(reverse * 0.5, 1.0);

            float diff = abs(texCoord.x) - abs(texCoord.y);
            float regular = 1.0 - fract(abs(diff) * halfSlices);
            regular = topProgress - regular;

            arrow = mix(regular, reverse, config.inverse);
        }

        return arrow;
    }
    // Screenspace Dithering
    if (config.mode == 5)
    {
        float dither = texture(u_ditheringTexture, gl_FragCoord.xy / vec2(textureSize(u_ditheringTexture, 0))).r;
        dither = min(dither + 0.001, 1.0);

        return config.progress - dither;
    }
    // Pyramid
    if (config.mode == 6)
    {
        float x = data.texCoord3D.x * 2.0 - 1.0;
        float z = data.texCoord3D.z * 2.0 - 1.0;
        float y = 1.0 - data.texCoord3D.y;

        float ascendingCutOff =  min(y + config.progress - abs(x), y + config.progress - abs(z));
        float descendingCutOff = min(y - config.progress + 1.0 - abs(x), y - config.progress + 1.0 - abs(z));

        return mix(ascendingCutOff, -descendingCutOff, config.inverse);
    }
    // Noise
    if (config.mode == 7)
    {
        vec3 position = vec3(data.worldPos.x, data.uv[1], data.worldPos.y);
        float factor = data.nodeCountSqrt * 1.5;
        return config.progress - noise(position * vec3(factor, 1.0, factor));
    }
    // Double Noise
    if (config.mode == 8)
    {
        const float bandSize = 20.0;

        vec3 position = vec3(data.worldPos.x, data.uv[1], data.worldPos.y);
        float factor = data.nodeCountSqrt * 1.5;

        float coarseNoise = noise(position * vec3(factor, 1.0, factor));
        float fineNoise = noise(position * vec3(factor * 15.0, 1.0, factor * 15.0));

        float dist = coarseNoise - config.progress;
        float localDist = dist * bandSize;

        float inner = step(dist, 0.0);
        float band = step(localDist, 1.0) * (1.0 - step(fineNoise, localDist));

        return mix(band, 1.0, inner) * 2.0 - 1.0;
    }
    // Quads
    if (config.mode == 9)
    {
        vec4 texCoord = vec4(0.0);
        texCoord.xy = vec2(data.texCoord2D.x, data.uv[1]);
        texCoord.zw = data.texCoord2D;

        float factor = data.nodeCountSqrt;
        vec3 position = vec3(data.worldPos.z, float(data.face - 1) / 5.0, data.worldPos.w);
        float n = noise(position * factor);
        float nx = noise((position + vec3(0.1, 0.0, 0.0)) * factor);
        float ny = noise((position + vec3(0.0, 0.0, 0.1)) * factor);

        vec2 offset = vec2(nx - n, ny - n);

        float sideValue = texture(u_ditheringTexture, texCoord.xy + offset).r;
        float topValue = texture(u_ditheringTexture, texCoord.zw + offset).r;

        float cutOff = data.face > 2 ? sideValue : topValue;
        cutOff = fract(cutOff);

        return config.progress - min(cutOff + 0.001, 1.0);
    }

    return 0.0;
}


void main(void)
{
#ifdef DRAW_RESTRICTED
    if(u_attachment == 0) {
#endif

    /* Compute the actual outline of a cuboid face based on texture coordinates. */
    vec2 awidth = fwidth(v_texCoord2D) * v_outlineColorBegin[3];
    vec2 awidth2 = fwidth(v_uv.xz);

    vec4 ctest; /* Used for countour/ctest testing. */
    ctest.xy = step(v_texCoord2D - awidth.xy, vec2(0.0));
    ctest.zw = step(vec2(1.0), v_texCoord2D + awidth.xy);
    float outline = clamp(dot(ctest, vec4(1.0)), 0.0, 1.0);

    float inverse = step(v_direction.y, 0.0);

    PatternData patternData = PatternData(
        u_face,
        u_nodeCountSqrt,

        v_texCoord2D,
        v_texCoord3D,
        v_uv,
        v_worldPos,

        v_relativeHeight,
        v_absoluteHeight
    );

    PatternConfig patternConfig = PatternConfig(
        u_patternMode,
        0.5,
        inverse
    );

    PatternConfig colorConfig = PatternConfig(
        u_colorMode,
        v_colorProgress,
        inverse
    );

    float baseColorDecider = 0.0;
    if (u_patternMode != -1)
    {
        float colorDistance = calculateColorDistance(patternData, patternConfig);
        baseColorDecider = step(0.01, v_usePattern) * smoothstep(0.0, 0.5, v_colorProgress) * step(0.0, colorDistance);
    }

    float colorDistance = calculateColorDistance(patternData, colorConfig);
    float colorDecider = step(0.0, colorDistance);

    vec4 baseColorBegin = mix(v_baseColorBegin, v_patternColorBegin, baseColorDecider);
    vec4 baseColor = mix(baseColorBegin, v_baseColorEnd, colorDecider);
    vec4 outlineColor = mix(v_outlineColorBegin, v_outlineColorEnd, colorDecider);

    fragColor = mix(baseColor, vec4(outlineColor.rgb, 1.0), outline);

#ifdef DRAW_RESTRICTED
    } else if(u_attachment == 1) {
#endif

    fragId = v_id;

#ifdef DRAW_RESTRICTED
    } else if(u_attachment == 2) {
        fragDepth = float24x1_to_uint8x3(gl_FragCoord.z);
    }
#endif
}
`},function(e,t,r){var n,o=this&&this.__extends||(n=function(d,c){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(a[s]=l[s])})(d,c)},function(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function a(){this.constructor=d}n(d,c),d.prototype=c===null?Object.create(c):(a.prototype=c.prototype,new a)}),i=this&&this.__decorate||function(d,c,a,l){var s,u=arguments.length,f=u<3?c:l===null?l=Object.getOwnPropertyDescriptor(c,a):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(d,c,a,l);else for(var m=d.length-1;m>=0;m--)(s=d[m])&&(f=(u<3?s(f):u>3?s(c,a,f):s(c,a))||f);return u>3&&f&&Object.defineProperty(c,a,f),f};Object.defineProperty(t,"__esModule",{value:!0}),t.FXAAPass=void 0;var h=r(0),g=r(0),p=h.auxiliaries.assert,v=function(d){function c(a){var l=d.call(this)||this;return l._altered=Object.assign(new g.ChangeLookup,{any:!0,lumaThreshold:!0,reduceMultiplier:!0,reduceMinimum:!0,spanMaximum:!0}),l._textureSize=[0,0],l._lumaThreshold=c.DEFAULT_LUMA_THRESHOLD,l._reduceMultiplier=c.DEFAULT_REDUCE_MULTIPLIER,l._reduceMinimum=c.DEFAULT_REDUCE_MINIMUM,l._spanMaximum=c.DEFAULT_SPAN_MAXIMUM,l._ndcTriangleShared=!1,l._context=a,l}return o(c,d),c.prototype.initialize=function(a){var l=this._context.gl;a===void 0?this._ndcTriangle=new g.NdcFillingTriangle(this._context,"FXAATriangle"):(this._ndcTriangle=a,this._ndcTriangleShared=!0),this._ndcTriangle.initialized||this._ndcTriangle.initialize();var s=new g.Shader(this._context,l.VERTEX_SHADER,"fxaa.vert");s.initialize(r(41),!1);var u=new g.Shader(this._context,l.FRAGMENT_SHADER,"fxaa.frag");return u.initialize(r(42),!1),s.compile(),u.compile(),this._program=new g.Program(this._context,"FXAAProgram"),this._program.initialize([u,s],!1),this._program.attribute("a_vertex",this._ndcTriangle.vertexLocation),this._program.link(),this._uTextureSize=this._program.uniform("u_textureSize"),this._uLumaTreshold=this._program.uniform("u_lumaThreshold"),this._uReduceMultiplier=this._program.uniform("u_reduceMultiplier"),this._uReduceMinimum=this._program.uniform("u_reduceMinimum"),this._uSpanMaximum=this._program.uniform("u_spanMaximum"),!0},c.prototype.uninitialize=function(){this._program.uninitialize(),!this._ndcTriangleShared&&this._ndcTriangle.initialized&&this._ndcTriangle.uninitialize(),this._uTextureSize=void 0,this._uLumaTreshold=void 0,this._uReduceMultiplier=void 0,this._uReduceMinimum=void 0,this._uSpanMaximum=void 0},c.prototype.frame=function(){p(this._target!==void 0&&this._target.valid,"Expected valid target."),p(this._framebuffer!==void 0&&this._framebuffer.valid,"Expected valid framebuffer.");var a=this._context.gl,l=this._framebuffer.texture(this._readBuffer);this._target.bind(a.DRAW_FRAMEBUFFER),this._program.bind(),l.bind(a.TEXTURE0),l.size!==this._textureSize&&(this._textureSize=l.size,a.uniform2fv(this._uTextureSize,this._textureSize)),this._altered.lumaThreshold&&a.uniform1f(this._uLumaTreshold,this._lumaThreshold),this._altered.reduceMultiplier&&a.uniform1f(this._uReduceMultiplier,this._reduceMultiplier),this._altered.reduceMinimum&&a.uniform1f(this._uReduceMinimum,this._reduceMinimum),this._altered.spanMaximum&&a.uniform1f(this._uSpanMaximum,this._spanMaximum),this._ndcTriangle.bind(),this._ndcTriangle.draw(),this._ndcTriangle.unbind(),l.unbind(a.TEXTURE0),this._program.unbind(),this._target.unbind(a.DRAW_FRAMEBUFFER),this._altered.reset()},Object.defineProperty(c.prototype,"target",{set:function(a){this.assertInitialized(),this._target=a},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"framebuffer",{set:function(a){this.assertInitialized(),this._framebuffer=a},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"readBuffer",{set:function(a){this.assertInitialized(),this._readBuffer=a},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"lumaThreshold",{set:function(a){a!==this._lumaThreshold&&(this._lumaThreshold=a,this._altered.alter("lumaThreshold"))},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"reduceMultiplier",{set:function(a){a!==this._reduceMultiplier&&(this._reduceMultiplier=a,this._altered.alter("reduceMultiplier"))},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"reduceMinimum",{set:function(a){a!==this._reduceMinimum&&(this._reduceMinimum=a,this._altered.alter("reduceMinimum"))},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"spanMaximum",{set:function(a){a!==this._spanMaximum&&(this._spanMaximum=a,this._altered.alter("spanMaximum"))},enumerable:!1,configurable:!0}),c.DEFAULT_LUMA_THRESHOLD=.1,c.DEFAULT_REDUCE_MULTIPLIER=1/8,c.DEFAULT_REDUCE_MINIMUM=1/128,c.DEFAULT_SPAN_MAXIMUM=8,i([g.Initializable.initialize()],c.prototype,"initialize",null),i([g.Initializable.uninitialize()],c.prototype,"uninitialize",null),i([g.Initializable.assert_initialized()],c.prototype,"frame",null),c}(g.Initializable);t.FXAAPass=v},function(e,t){e.exports=`
precision lowp float;
precision lowp int;


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
#else 
    #define varying out
#endif


#if __VERSION__ == 100
  attribute vec2 a_vertex;
#else
  layout(location = 0) in vec2 a_vertex;
#endif


varying vec2 v_texCoords;


void main()
{
    v_texCoords = a_vertex * 0.5 + 0.5;
    gl_Position = vec4(a_vertex, 0.0, 1.0);
}
`},function(e,t){e.exports=`
precision lowp float;
precision lowp int;


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
    #define texture(sampler, coord) texture2D(sampler, coord)
#else
    #define varying in
#endif


#if __VERSION__ == 100
  #define fragColor gl_FragColor
#else
  layout(location = 0) out vec4 fragColor;
#endif

uniform vec2 u_textureSize;

uniform float u_lumaThreshold;
uniform float u_reduceMultiplier;
uniform float u_reduceMinimum;
uniform float u_spanMaximum;

uniform sampler2D u_texture;

varying vec2 v_texCoords;


// Adapted from https://www.geeks3d.com/20110405/fxaa-fast-approximate-anti-aliasing-demo-glsl-opengl-test-radeon-geforce/3/
void main()
{
  vec2 delta = 1.0 / u_textureSize;

  vec3 rgbM = texture(u_texture, v_texCoords).rgb;
  vec3 rgbNW = texture(u_texture, v_texCoords + delta * vec2(-1.0,  1.0)).rgb;
  vec3 rgbNE = texture(u_texture, v_texCoords + delta * vec2( 1.0,  1.0)).rgb;
  vec3 rgbSW = texture(u_texture, v_texCoords + delta * vec2(-1.0, -1.0)).rgb;
  vec3 rgbSE = texture(u_texture, v_texCoords + delta * vec2( 1.0, -1.0)).rgb;

  vec3 toLuma = vec3(0.299, 0.587, 0.114);

  float lumaM = dot(rgbM, toLuma);
  float lumaNW = dot(rgbNW, toLuma);
  float lumaNE = dot(rgbNE, toLuma);
  float lumaSW = dot(rgbSW, toLuma);
  float lumaSE = dot(rgbSE, toLuma);

  float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
  float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

  float applyFXAA = step(u_lumaThreshold, lumaMax - lumaMin);

  vec2 gradient = vec2(0.0);
  gradient.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
  gradient.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

  float reduce = max((lumaNW + lumaNE + lumaSW + lumaSE) * 0.25 * u_reduceMultiplier, u_reduceMinimum);
  float factor = 1.0 / (min(abs(gradient.x), abs(gradient.y)) + reduce);

  gradient = clamp(gradient * factor, vec2(0.0), vec2(u_spanMaximum)) * delta;

  vec3 rgbNegative = texture(u_texture, v_texCoords + gradient * (1.0 / 3.0 - 0.5)).rgb;
  vec3 rgbPositive = texture(u_texture, v_texCoords + gradient * (2.0 / 3.0 - 0.5)).rgb;

  vec3 twoSampled = (rgbNegative + rgbPositive) * 0.5;

  rgbNegative = texture(u_texture, v_texCoords + gradient * (0.0 / 3.0 - 0.5)).rgb;
  rgbPositive = texture(u_texture, v_texCoords + gradient * (3.0 / 3.0 - 0.5)).rgb;

  vec3 fourSampled = (rgbNegative + rgbPositive) * 0.25 + twoSampled * 0.5;
  float lumaFourSampled = dot(fourSampled, toLuma);

  vec3 color = (lumaFourSampled < lumaMin || lumaFourSampled > lumaMax) ? twoSampled : fourSampled;

  fragColor = vec4(mix(rgbM, color, applyFXAA), 1.0);
}
`},function(e,t,r){var n,o=this&&this.__extends||(n=function(f,m){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var E in b)Object.prototype.hasOwnProperty.call(b,E)&&(y[E]=b[E])})(f,m)},function(f,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function y(){this.constructor=f}n(f,m),f.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)});Object.defineProperty(t,"__esModule",{value:!0}),t.SeereneModifier=void 0;var i=r(0),h=r(0),g=i.gl_matrix_extensions.v2,p=i.gl_matrix_extensions.v3,v=i.gl_matrix_extensions.sign,d=i.gl_matrix_extensions.clamp,c=i.gl_matrix_extensions.clamp3,a=i.auxiliaries.DEG2RAD,l=i.auxiliaries.assert,s=function(){this.screen=i.vec2.create(),this.world=i.vec3.create()},u=function(f){function m(){var y=f!==null&&f.apply(this,arguments)||this;return y.initialPoints=[new s,new s],y.currentPoints=[new s,new s],y.initialEye=i.vec3.create(),y.initialCenter=i.vec3.create(),y.initialViewProjectionInverse=i.mat4.create(),y._xAxisScreenSpace=i.vec3.create(),y._maxAngles=[.6666*+Math.PI-Math.PI,60*a-Math.PI],y._minAngles=[.6666*-Math.PI-Math.PI,-Math.PI+1*a],y.referencePlane=[i.vec3.create(),i.vec3.create(),0],y}return o(m,f),Object.defineProperty(m.prototype,"valid",{get:function(){return this.initialPoints[0].world!==void 0},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"camera",{set:function(y){this._camera=y},enumerable:!1,configurable:!0}),m.prototype.needStart=function(){return this._maxAngles===void 0||this._minAngles===void 0},Object.defineProperty(m.prototype,"coordsAccess",{set:function(y){this._coordsAccess=y},enumerable:!1,configurable:!0}),m.rayY0SquareIntersection=function(y,b){var E=i.ray_math.rayPlaneIntersection(y,b);if(E!==void 0){var x=i.vec2.fromValues(E[0],E[2]);return i.ray_math.isPointWithinSquare(x,m.HALF_SQUARE_LENGTH)?E:void 0}},m.prototype.assert_valid=function(){},m.prototype.invalidate=function(){this.initialPoints[0].world=void 0,this.currentPoints[0].world=void 0,this.initialPoints[1].world=void 0,this.currentPoints[1].world=void 0},m.prototype.initiateTranslateConstraints=function(y){if(y)return this._maxNegativeTranslate=void 0,void(this._maxPositiveTranslate=void 0);var b=i.vec3.fromValues(-1,0,-1),E=i.vec3.fromValues(1,0,1);this._maxNegativeTranslate=i.vec3.sub(p(),b,this.initialCenter),this._maxPositiveTranslate=i.vec3.sub(p(),E,this.initialCenter)},m.prototype.initiateScaleConstraints=function(y){var b=i.vec3.sub(p(),this.initialEye,this.initialCenter),E=1/i.vec3.length(b);if(y)return this._minScale=this._camera.near*E-1,void(this._maxScale=this._camera.far*E-1);i.ray_math.rayPlaneIntersection(this.initialEye,this.initialCenter,[0,0,0],[0,1,0])&&(this._minScale=this._camera.near*m.MIN_NEAR_PLANE_FACTOR*E-1,this._maxScale=m.MAX_DISTANCE_TO_SQUARE*E-1)},m.prototype.initiateRotateConstraints=function(y){var b=i.vec3.normalize(p(),i.vec3.sub(p(),this.initialEye,this.initialCenter));this._xAxisScreenSpace=i.vec3.cross(p(),[0,1,0],b);var E=Math.acos(i.vec3.dot(b,[0,1,0]));if(this._maxAngles=[void 0,89.99*a-E],this._minAngles=[void 0,.01*a-E],!y){var x=i.vec2.normalize(g(),[b[0],b[2]]),w=Math.asin(i.vec2.dot(x,[1,0]));x[1]<0&&(w=v(w)*Math.PI-w),this._maxAngles=[.6666*+Math.PI-w,60*a-E],this._minAngles=[.6666*-Math.PI-w,1*a-E]}},m.prototype.initiate=function(y,b,E,x){E===void 0&&(E=[!1,!1,!1]),x===void 0&&(x=!1),this._override=x;var w=this._camera.viewProjectionInverse;return!!w&&(i.mat4.copy(this.initialViewProjectionInverse,w),i.vec3.copy(this.initialEye,this._camera.eye),i.vec3.copy(this.initialCenter,this._camera.center),i.vec2.copy(this.initialPoints[0].screen,y),this.initialPoints[0].world=this.coordsAt(y,!1),this.initialPoints[0].world===void 0?(this.invalidate(),!1):(this.initialPoints[1].screen=b===void 0?void 0:i.vec2.copy(g(),b),this.initialPoints[1].world=this.coordsAt(b,!1),this.referencePlane[0]=this.initialPoints[0].world,this.referencePlane[1]=i.vec3.fromValues(0,1,0),this.referencePlane[2]=i.vec3.length(this.initialPoints[0].world),l(this.initialCenter[1]===0,"camera center is expected to be on y = 0 (ground plane)"),E[0]&&this.initiateTranslateConstraints(x),E[1]&&this.initiateScaleConstraints(x),E[2]&&this.initiateRotateConstraints(x),!0))},m.prototype.update_positions=function(y,b){return this.assert_valid(),this.currentPoints[0].world=this.coordsAt(y),this._override&&this.currentPoints[0].world===void 0?(this.invalidate(),!1):(i.vec2.copy(this.currentPoints[0].screen,y),b===void 0||(this.currentPoints[1].world=this.coordsAt(b),this._override&&this.currentPoints[1].world===void 0?(this.invalidate(),!1):(this.currentPoints[1].screen=b===void 0?void 0:i.vec2.copy(g(),b),!0)))},m.prototype.translate=function(){this.assert_valid();var y=this.initialPoints[0].world,b=this.currentPoints[0].world;if(y&&b){var E=i.vec3.subtract(p(),y,b);this._maxNegativeTranslate&&this._maxPositiveTranslate&&c(E,E,this._maxNegativeTranslate,this._maxPositiveTranslate),this._camera.eye=i.vec3.add(p(),this.initialEye,E);var x=i.vec3.add(p(),this.initialCenter,E),w=i.ray_math.rayPlaneIntersection(this._camera.eye,x);w&&(this._camera.center=w)}},m.prototype.scale=function(y){var b;if(this.assert_valid(),l(this._minScale!==void 0&&this._maxScale!==void 0,"valid scale constraints expected"),y===void 0){var E=this.currentPoints[0].screen,x=this.initialPoints[0].screen;if(!x||!E)return;b=i.vec2.subtract(g(),x,E)[1]/window.devicePixelRatio}else b=-v(y)*m.SCALE_STEP_FACTOR;b=d(b*m.SCALE_FACTOR,this._minScale,this._maxScale);var w=this.initialPoints[0].world;if(w){var S=i.vec3.sub(p(),this.initialEye,w),P=i.vec3.sub(p(),this.initialCenter,w),A=i.vec3.add(p(),this.initialEye,i.vec3.scale(p(),S,b)),L=i.vec3.add(p(),this.initialCenter,i.vec3.scale(p(),P,b)),k=i.ray_math.rayPlaneIntersection(this._camera.eye,L);k&&(this._camera.center=this._override?k:c(p(),k,[-1,0,-1],[1,0,1]),this._camera.eye=i.vec3.add(p(),A,i.vec3.sub(p(),this._camera.center,k)))}},m.prototype.rotate=function(){this.assert_valid();var y=this.currentPoints[0].screen,b=this.initialPoints[0].screen;if(b&&y){var E=i.vec2.subtract(g(),b,y);i.vec2.scale(E,E,window.devicePixelRatio*m.ROTATE_FACTOR),this._minAngles[1]&&this._maxAngles[1]&&(E[1]=d(E[1],this._minAngles[1],this._maxAngles[1]));var x=this._override?this.initialCenter:c(p(),this.initialCenter,[-1,0,-1],[1,0,1]),w=i.mat4.translate(i.mat4.create(),i.mat4.create(),x);i.mat4.rotateY(w,w,E[0]),i.mat4.rotate(w,w,E[1],this._xAxisScreenSpace),i.mat4.translate(w,w,i.vec3.negate(p(),x)),this._camera.center=x;var S=i.vec3.transformMat4(p(),this.initialEye,w);S&&(this._camera.eye=S)}},m.prototype.coordsAt=function(y,b){if(b===void 0&&(b=!0),y!==void 0){var E=b?this.initialViewProjectionInverse:this._camera.viewProjectionInverse;if(b){l(this.referencePlane[0]!==void 0&&this.referencePlane[1]!==void 0,"valid reference plane expected for reference coordinate retrieval");var x=this._coordsAccess(y[0],y[1],0,E),w=this._coordsAccess(y[0],y[1],1,E);return i.ray_math.rayPlaneIntersection(x,w,this.referencePlane[0],this.referencePlane[1])}var S=this._coordsAccess(y[0],y[1],void 0,E);if(S!==void 0)return S;var P=this._coordsAccess(y[0],y[1],0,E),A=this._coordsAccess(y[0],y[1],1,E);return m.rayY0SquareIntersection(P,A)}},m.prototype.update=function(){},m.HALF_SQUARE_LENGTH=2,m.SCALE_FACTOR=.004,m.SCALE_STEP_FACTOR=16,m.ROTATE_FACTOR=.002,m.MAX_DISTANCE_TO_SQUARE=4,m.MIN_NEAR_PLANE_FACTOR=4,m}(h.CameraModifier);t.SeereneModifier=u},function(e,t,r){var n,o=this&&this.__extends||(n=function(p,v){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(d[a]=c[a])})(p,v)},function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function d(){this.constructor=p}n(p,v),p.prototype=v===null?Object.create(v):(d.prototype=v.prototype,new d)}),i=this&&this.__decorate||function(p,v,d,c){var a,l=arguments.length,s=l<3?v:c===null?c=Object.getOwnPropertyDescriptor(v,d):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(p,v,d,c);else for(var u=p.length-1;u>=0;u--)(a=p[u])&&(s=(l<3?a(s):l>3?a(v,d,s):a(v,d))||s);return l>3&&s&&Object.defineProperty(v,d,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.PointGeometry=void 0;var h=r(0),g=function(p){function v(d,c){var a=p.call(this,d,c)||this;return c=c!==void 0&&c!==""?c:"PointGeometry",a._vertices=new h.Buffer(d,c+"VertexVBO"),a._buffers.push(a._vertices),a._colors=new h.Buffer(d,c+"ColorVBO"),a._buffers.push(a._colors),a}return o(v,p),v.prototype.bindBuffers=function(d){var c=this.context.gl,a=this.context.gl2facade;this._vertices.attribEnable(this._vertexLocation,3,c.FLOAT,!1,0,0,!0,!1),a.vertexAttribDivisor(this._vertexLocation,0),this._colors.attribEnable(this._colorLocation,4,c.FLOAT,!1,0,0,!0,!1),a.vertexAttribDivisor(this._colorLocation,0)},v.prototype.unbindBuffers=function(d){this._vertices.attribDisable(this._vertexLocation,!1,!1),this._colors.attribDisable(this._colorLocation,!1,!1)},v.prototype.initialize=function(d,c){d===void 0&&(d=0),c===void 0&&(c=1),this._vertexLocation=d,this._colorLocation=c;var a=this.context.gl;return p.prototype.initialize.call(this,[a.ARRAY_BUFFER,a.ARRAY_BUFFER])&&this._vertices.valid},v.prototype.update=function(){this.bind()},v.prototype.draw=function(d){if(d===void 0&&(d=0),this._count){var c=this.context.gl;this._vertices.attribEnable(this._vertexLocation,3,c.FLOAT,!1,0,4*d,!0,!1),this._colors.attribEnable(this._colorLocation,4,c.FLOAT,!1,0,4*d,!0,!1),c.drawArrays(c.POINTS,0,this._count)}},Object.defineProperty(v.prototype,"vertices",{set:function(d){this._count=d.length/3,this._vertices.data(d,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"colors",{set:function(d){this._colors.data(d,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"valid",{get:function(){return this.initialized&&this._vertices.valid&&this._colors&&this._colors.valid},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"vertexLocation",{get:function(){return this._vertexLocation},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"colorLocation",{get:function(){return this._colorLocation},enumerable:!1,configurable:!0}),i([h.Initializable.assert_initialized()],v.prototype,"draw",null),v}(h.Geometry);t.PointGeometry=g},function(e,t){e.exports=`//*****************************************************************************
// seerene(tm) - A framework for analyzing and visualizing complex software systems.
// Copyright (C) 2005 - 2019 for all source codes:
// seerene(tm) GmbH, Potsdam, Germany
//*****************************************************************************

#if __VERSION__ == 100
    #extension GL_EXT_draw_buffers : enable
#endif

precision highp float;
precision lowp int;


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
#else 
    #define varying out
#endif


// @todo this file will be included from webgl-operate soon

void ndcOffset(inout vec4 vertex, in vec2 offset) {
    vertex.xy = offset * vec2(vertex.w) + vertex.xy;
}



#if __VERSION__ == 100
attribute vec3 a_vertex;
attribute vec4 a_color;
#else
/* Note: do not use layout location specifier, since they take precedence over CPU managed locations. */
in vec3 a_vertex;
in vec4 a_color;
#endif

uniform mat4 u_viewProjection;
uniform vec2 u_ndcOffset;
uniform float u_pointSize;

varying vec4 v_color;

void main(void)
{
    vec4 vertex = u_viewProjection * vec4(a_vertex, 1.0);

    v_color = a_color;

    ndcOffset(vertex, u_ndcOffset);
    gl_Position = vertex;
    gl_PointSize = u_pointSize;
}
`},function(e,t){e.exports=`//*****************************************************************************
// seerene(tm) - A framework for analyzing and visualizing complex software systems.
// Copyright (C) 2005 - 2019 for all source codes:
// seerene(tm) GmbH, Potsdam, Germany
//*****************************************************************************

precision highp float;
precision lowp int;

#if __VERSION__ == 100

    #ifdef GL_EXT_draw_buffers
        #extension GL_EXT_draw_buffers : enable
        #define fragColor gl_FragData[0].rgba
    #else
        #define DRAW_RESTRICTED
        #define fragColor gl_FragColor.rgba
    #endif
#else
    layout(location = 0) out vec4 fragColor;
#endif


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
    #define texture(sampler, coord) texture2D(sampler, coord)
#else
    #define varying in
#endif


varying vec4 v_color;

void main(void)
{
    // Make points round (instead of squares).
    // gl_PointCoord.st ranges from 0.0 to 1.0 across the point horizontally from left to right and
    // vertically from top to bottom.

    float dist = distance(gl_PointCoord, vec2(0.5, 0.5));
    float alpha = v_color.a - step(0.5, dist);

    fragColor = vec4(v_color.xyz, alpha);
}
`},function(e,t,r){var n,o=this&&this.__extends||(n=function(v,d){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(c[l]=a[l])})(v,d)},function(v,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function c(){this.constructor=v}n(v,d),v.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}),i=this&&this.__decorate||function(v,d,c,a){var l,s=arguments.length,u=s<3?d:a===null?a=Object.getOwnPropertyDescriptor(d,c):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(v,d,c,a);else for(var f=v.length-1;f>=0;f--)(l=v[f])&&(u=(s<3?l(u):s>3?l(d,c,u):l(d,c))||u);return s>3&&u&&Object.defineProperty(d,c,u),u};Object.defineProperty(t,"__esModule",{value:!0}),t.CuboidGeometry=void 0;var h=r(0),g=r(0),p=function(v){function d(c,a,l){var s=v.call(this,c,l)||this;s._areaScaleOffsets=new Array,s._colorOffsets=new Array,s._heightOffsets=new Array,s._layers=Math.max(1,a),l=l!==void 0&&l!==""?l:"CuboidGeometry",s._vertices=d.referenceVerticesVBO(c),s._buffers.push(s._vertices),s._layout=new g.Buffer(c,l+"LayoutVBO"),s._buffers.push(s._layout),s._ids=new g.Buffer(c,l+"IdVBO"),s._buffers.push(s._ids),s._emphases=new g.Buffer(c,l+"EmphasisVBO"),s._buffers.push(s._emphases),s._areaScales=new g.Buffer(c,l+"AreaScaleVBO"),s._buffers.push(s._areaScales),s._areaScaleOffsets.length=a,s._colors=new g.Buffer(c,l+"ColorVBO"),s._buffers.push(s._colors),s._colorOffsets.length=a,s._heights=new g.Buffer(c,l+"HeightVBO"),s._buffers.push(s._heights),s._heightOffsets.length=a;for(var u=0;u<a;++u)s._areaScaleOffsets[u]=0,s._colorOffsets[u]=0,s._heightOffsets[u]=0;return s}return o(d,v),d.referenceVerticesVBO=function(c){var a;d.VERTICES_BY_CONTEXT.has(c)?a=d.VERTICES_BY_CONTEXT.get(c):(a=new g.Buffer(c,"CuboidVertexVBO"),d.VERTICES_BY_CONTEXT.set(c,a),d.REFCOUNT_BY_TEMPLATE.set(a,0));var l=d.REFCOUNT_BY_TEMPLATE.get(a)+1;return d.REFCOUNT_BY_TEMPLATE.set(a,l),a},d.unreferenceTemplateVBO=function(c){if(d.VERTICES_BY_CONTEXT.has(c)){var a=d.VERTICES_BY_CONTEXT.get(c),l=d.REFCOUNT_BY_TEMPLATE.get(a)-1;d.REFCOUNT_BY_TEMPLATE.set(a,l),l>0||(a.uninitialize(),d.VERTICES_BY_CONTEXT.delete(c),d.REFCOUNT_BY_TEMPLATE.delete(a))}},d.prototype.bindBuffers=function(c){var a=this.context.gl,l=this.context.gl2facade;this._vertices.attribEnable(this._vertexLocation,3,a.FLOAT,!1,20,0,!0,!1),l.vertexAttribDivisor(this._vertexLocation,0),this._vertices.attribEnable(this._texCoordLocation,2,a.FLOAT,!1,20,12,!0,!1),l.vertexAttribDivisor(this._texCoordLocation,0),this._layout.attribEnable(this._layoutLocation,4,a.FLOAT,!1,0,0,!0,!1),l.vertexAttribDivisor(this._layoutLocation,1),this._ids.attribEnable(this._idLocation,4,a.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._idLocation,1),this._emphases.attribEnable(this._emphasisLocation,1,a.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._emphasisLocation,1),this._areaScales.attribEnable(this._areaScaleLocation,1,a.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._areaScaleLocation,1),this._colors.attribEnable(this._colorLocation,1,a.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._colorLocation,1),this._heights.attribEnable(this._heightLocation,2,a.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._heightLocation,1)},d.prototype.unbindBuffers=function(c){this._vertices.attribDisable(this._vertexLocation,!1,!1),this._vertices.attribDisable(this._texCoordLocation,!1,!1),this._layout.attribDisable(this._layoutLocation,!1,!1),this._ids.attribDisable(this._idLocation,!1,!1),this._emphases.attribDisable(this._emphasisLocation,!1,!1),this._areaScales.attribDisable(this._areaScaleLocation,!1,!1),this._colors.attribDisable(this._colorLocation,!1,!1),this._heights.attribDisable(this._heightLocation,!1,!1)},d.prototype.initialize=function(c,a,l,s,u,f,m,y){c===void 0&&(c=0),a===void 0&&(a=1),l===void 0&&(l=2),s===void 0&&(s=3),u===void 0&&(u=4),f===void 0&&(f=5),m===void 0&&(m=6),y===void 0&&(y=7),this._vertexLocation=c,this._texCoordLocation=a,this._idLocation=s,this._layoutLocation=l,this._emphasisLocation=u,this._areaScaleLocation=f,this._colorLocation=m,this._heightLocation=y;var b=this.context.gl,E=v.prototype.initialize.call(this,[b.ARRAY_BUFFER,b.ARRAY_BUFFER,b.ARRAY_BUFFER,b.ARRAY_BUFFER,b.ARRAY_BUFFER,b.ARRAY_BUFFER,b.ARRAY_BUFFER,b.ARRAY_BUFFER]);return this._vertices.data(d.DATA,b.STATIC_DRAW),E&&this._vertices.valid},d.prototype.uninitialize=function(){d.unreferenceTemplateVBO(this.context),this._layout.uninitialize(),this._ids.uninitialize(),this._emphases.uninitialize(),this._areaScales.uninitialize(),this._colors.uninitialize(),this._heights.uninitialize(),v.prototype.uninitialize.call(this)},d.prototype.update=function(){this.bind()},d.prototype.draw=function(c,a,l,s){c===void 0&&(c=0),a===void 0&&(a=0),l===void 0&&(l=0),s===void 0&&(s=0);var u=this.context.gl,f=this.context.gl2facade;this._vertices.attribEnable(this._vertexLocation,3,u.FLOAT,!1,20,l,!0,!1),this._vertices.attribEnable(this._texCoordLocation,2,u.FLOAT,!1,20,12+l,!0,!1),this._ids.attribEnable(this._idLocation,4,u.UNSIGNED_BYTE,!1,4,4*a,!0,!1),this._layout.attribEnable(this._layoutLocation,4,u.FLOAT,!1,16,16*a,!0,!1),this._emphases.attribEnable(this._emphasisLocation,1,u.UNSIGNED_BYTE,!1,1,1*a,!0,!1),this._areaScales.attribEnable(this._areaScaleLocation,1,u.UNSIGNED_BYTE,!1,1,1*a+this._areaScaleOffsets[c],!0,!1),this._colors.attribEnable(this._colorLocation,1,u.UNSIGNED_BYTE,!1,1,1*a+this._colorOffsets[c],!0,!1),this._heights.attribEnable(this._heightLocation,2,u.UNSIGNED_BYTE,!1,2,2*a+this._heightOffsets[c],!0,!1),f.drawArraysInstanced(u.TRIANGLE_STRIP,0,4,s)},Object.defineProperty(d.prototype,"layout",{set:function(c){this._layout.data(c,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"ids",{set:function(c){this._ids.data(c,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),d.prototype.areaScales=function(c,a,l){h.auxiliaries.assert(a===void 0||a>=0&&a<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+a),h.auxiliaries.assert(l===void 0||l<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+a);var s=this.context.gl,u=c.byteLength*(l||this._layers);this._areaScales.bytes!==0&&this._areaScales.bytes===u||a===void 0||this._areaScales.data(u,s.STATIC_DRAW),a!==void 0?(this._areaScales.subData(c.byteLength*a,c),this._areaScaleOffsets[a]=c.byteLength*a):this._areaScales.data(c,this.context.gl.STATIC_DRAW)},d.prototype.colors=function(c,a,l){h.auxiliaries.assert(a===void 0||a>=0&&a<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+a),h.auxiliaries.assert(l===void 0||l<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+a);var s=this.context.gl,u=c.byteLength*(l||this._layers);this._colors.bytes!==0&&this._colors.bytes===u||a===void 0||this._colors.data(u,s.STATIC_DRAW),a!==void 0?(this._colors.subData(c.byteLength*a,c),this._colorOffsets[a]=c.byteLength*a):this._colors.data(c,this.context.gl.STATIC_DRAW)},Object.defineProperty(d.prototype,"emphases",{set:function(c){this._emphases.data(c,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),d.prototype.heights=function(c,a){h.auxiliaries.assert(a===void 0||a>=0&&a<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+a);var l=this.context.gl,s=c.byteLength*this._layers;this._heights.bytes!==0&&this._heights.bytes===s||a===void 0||this._heights.data(s,l.STATIC_DRAW),a!==void 0?(this._heights.subData(c.byteLength*a,c),this._heightOffsets[a]=c.byteLength*a):this._heights.data(c,this.context.gl.STATIC_DRAW)},Object.defineProperty(d.prototype,"layers",{get:function(){return this._layers},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"valid",{get:function(){var c=this._layout&&this._layout.valid,a=this._ids&&this._ids.valid,l=this._areaScales&&this._areaScales.valid,s=this._colors&&this._colors.valid,u=this._emphases&&this._emphases.valid,f=this._heights&&this._heights.valid;return this.initialized&&this._vertices.valid&&c&&a&&l&&s&&u&&f},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"vertexLocation",{get:function(){return this._vertexLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"texCoordLocation",{get:function(){return this._texCoordLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"layoutLocation",{get:function(){return this._layoutLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"idLocation",{get:function(){return this._idLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"emphasisLocation",{get:function(){return this._emphasisLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"areaScaleLocation",{get:function(){return this._areaScaleLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"colorLocation",{get:function(){return this._colorLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"heightLocation",{get:function(){return this._heightLocation},enumerable:!1,configurable:!0}),d.VERTICES_BY_CONTEXT=new Map,d.REFCOUNT_BY_TEMPLATE=new Map,d.DATA=new Float32Array([0,0,0,0,0,0,0,1,0,1,1,0,0,1,0,1,0,1,1,1,0,0,0,0,0,1,0,0,1,0,0,0,1,0,1,1,0,1,1,1,0,0,1,0,0,1,0,1,1,0,0,1,1,0,1,1,1,1,1,1,0,0,0,0,0,0,1,0,0,1,1,0,0,1,0,1,1,0,1,1,1,0,0,0,0,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,0,0,0,0,0,0,0,1,1,0,0,1,0,0,1,0,1,1,1,1]),d.BYTES_PER_VERTEX=d.DATA.length/6,i([g.Initializable.assert_initialized()],d.prototype,"draw",null),d}(g.Geometry);t.CuboidGeometry=p},function(e,t){e.exports=`//*****************************************************************************
// seerene(tm) - A framework for analyzing and visualizing complex software systems.
// Copyright (C) 2005 - 2019 for all source codes:
// seerene(tm) GmbH, Potsdam, Germany
//*****************************************************************************

#if __VERSION__ == 100
    #extension GL_EXT_draw_buffers : enable
#endif

precision highp float;
precision lowp int;


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
#else 
    #define varying out
#endif


// @todo this file will be included from webgl-operate soon

void ndcOffset(inout vec4 vertex, in vec2 offset) {
    vertex.xy = offset * vec2(vertex.w) + vertex.xy;
}



#if __VERSION__ == 100

attribute vec3  a_vertex;
attribute vec4  a_layout; /* [ position: vec2, extent: vec2 ] */
attribute vec4  a_id; /* encoded uint32 id in byte4 */
attribute float a_areaScale;
attribute float a_color;
attribute float a_emphasis;
attribute vec2  a_heights; /* [ bottom: float, top: float ] */
attribute vec2  a_texCoord;

#else

/* Note: do not use layout location specifier, since they take precedence over CPU managed locations. */
in vec3  a_vertex;
in vec4  a_layout; /* [ position: vec2, extent: vec2 ] */
in vec4  a_id; /* encoded uint32 id in byte4 */
in float a_areaScale;
in float a_color;
in float a_emphasis;
in vec2  a_heights; /* [ bottom: float, top: float ] */
in vec2  a_texCoord;

#endif


uniform mat4 u_viewProjection;
uniform vec2 u_ndcOffset;

uniform vec4 u_colorTable[$ColorTableLength];

uniform int u_layer;
uniform int u_face;
uniform int u_arrows;

uniform vec4 u_normalAndLambert;

uniform float u_heightScale;
uniform vec2 u_floatingGap; /* [ target gap size, minimum remaining cuboid size ] */
uniform float u_outlineWidth;
uniform float u_emphasisOutlineWidth;


varying vec4 v_baseColor;
varying vec4 v_outlineColor;
varying vec4 v_id;

varying vec4 v_uv;
varying vec4 v_arrowColor;


const float ONE_OVER_255 = 1.0 / 255.0;
const int FACE_INDEX_TOP = 1; /* see CuboidRenderPass.FaceIndex.Top */

const vec3 AMBIENT = vec3(0.0, 0.0, 0.0); /* @todo expose to API */
const float OUTLINE_LAMBERT_SCALE = 0.88; /* @todo expose to API */

const int EMPHASIS_COLOR_INDEX = 0;

const int POSITIVE_COLOR_INDEX = 1;
const int NEGATIVE_COLOR_INDEX = 2;


/**
 * Transforms the cuboid vertices based on the associated face and height mapping. An earlier implementation of this
 * used the same geometry template and transformed it to either orientation. The current implementation uses a pre-set
 * vertex sequence/orientation and has to adjust the height only.
 * Appart from that, each cuboid face is moved to its position and adjusted to the provided height values. ID, color,
 * and extent along the y-axis are encoded per vertex (or even per face/cuboid) to reduce per-fragment processing.
 */
void main(void)
{
    vec4 emphasisColor = u_colorTable[EMPHASIS_COLOR_INDEX];

    float height = (a_heights[1] - a_heights[0]) * u_heightScale;
    /* Assuming that cuboids of no relevant height mapping should still be visible on top of their parent nodes, zero-
       height nodes are rendered when associated to the first cuboid layer. Note that this might be unwanted behavior,
       e.g., when multiple layers are used and tha top-most layer, even if the height is zero, a relevant color mapping
       might be stacked over all other cuboids of lower layers. */
    if (height <= 0.0 && u_layer > 0) {
        return;
    }

    /* Compute the position and extend of the cuboid based on the face. */
    vec4 pos = vec4(a_layout[0], u_face == FACE_INDEX_TOP ?
        a_heights[1] * u_heightScale : a_heights[0] * u_heightScale, a_layout[1], 0.0);
    vec4 ext = vec4(a_layout[2], height, a_layout[3], 1.0);

    /* Area scaling */
    float shrinkage = 1.0 - a_areaScale * ONE_OVER_255;
    pos.x += ext.x * shrinkage * 0.5;
    pos.z += ext.z * shrinkage * 0.5;
    ext.x -= ext.x * shrinkage;
    ext.z -= ext.z * shrinkage;

    /* Compute the final vertex position and pass through texture coordinates and layout data. */
    vec4 vertex = vec4(a_vertex, 1.0) * ext + pos;

    v_uv.st = a_texCoord.st;
    v_id = a_id * ONE_OVER_255;

    /* The y-extent provides world-space height of the cuboid that can be used for fragment-processing. */
    v_uv[2] = 1.0; //mix(a_layout[2], a_layout[3], step(5.0, float(u_face)));
    v_uv[3] = height / mix(a_layout[2], a_layout[3], step(5.0, float(u_face)));


    /* REVIEW AND SIMPLIFY THE FOLLOWING COLOR COMPUTATION (probably to many states) */

    /* If emphasis is < 2 use the color lookup, else apply outline color. */
    int colorIndex = int(abs(a_color - 32.0));
    v_baseColor = mix(u_colorTable[colorIndex], emphasisColor, step(2.0, a_emphasis));


    float gap = 0.0;
    /* Only if floating cuboids enabled, vertices of lower part of lateral faces, and not for first layer. */
    if(u_floatingGap[0] > 0.0 && u_layer > 0 && a_vertex.y == 0.0 && u_face > 2) {

        /* Compute screen space position for incoming vertex and an offseted one. */
        vec4 pos0 = u_viewProjection * vertex;
        vec4 pos1 = u_viewProjection * vec4(vertex.x, vertex.y + ext.y, vertex.z, vertex.w);
        /* Vector pointing from pos1 to pos0 in NDC. */
        vec3 pos0_dash = (pos1.xyz / pos1.w) - (pos0.xyz / pos0.w);
        /* Length of pos0' in NDC is the basis for gap scale. */
        gap = u_floatingGap[0] / length(pos0_dash);
        vertex = mix(pos0, pos1, min(1.0 - u_floatingGap[1] / length(pos0_dash), gap));

    } else {
        vertex = u_viewProjection * vertex;
    }


    /* Compute color and direction of arrow pattern for fragment processing. Also account for the
    levitation gap, so the arrow pattern does not squish or stretch. */
    float arrow = sign(a_color - 32.0);
    v_uv[2] *= (a_texCoord.x - 0.5);
    v_uv[3] *= (1.0 - a_texCoord.y) * (1.0 - gap);

    if(arrow > 0.0) {
        v_uv[3] = (1.0 - v_uv[3]);
    }


    if(u_arrows == 0 && u_layer > 0) {
        v_baseColor = mix(u_colorTable[POSITIVE_COLOR_INDEX], u_colorTable[NEGATIVE_COLOR_INDEX], arrow * 0.5 + 0.5);
    } else {
        v_baseColor = u_colorTable[colorIndex];
    }

    v_baseColor = mix(v_baseColor, emphasisColor, step(2.0, a_emphasis));

    v_outlineColor.rgb = mix(v_baseColor.rgb, emphasisColor.rgb, step(1.0, a_emphasis));

    /* The default outline (emphasis = 0.0) should be a little bit darker, when in outline mode (emphasis = 1.0) the
    outline should remain unchanged (except for face lambda), and when highlighting (emphasis = 2.0) the outline is
    lightened a little bit (invere darkening lambda). The mix is utilized to create this. */
    v_outlineColor.rgb *= mix(OUTLINE_LAMBERT_SCALE, (1.0 / OUTLINE_LAMBERT_SCALE), a_emphasis * 0.5);

    /* The outline should be darkened based on the face orientation. */
    v_outlineColor.rgb = mix(AMBIENT, v_outlineColor.rgb, u_normalAndLambert[3]);
    /* The outline width is encoded within the alpha channel of the outline (special if emphasized). */
    v_outlineColor[3] = mix(u_emphasisOutlineWidth, u_outlineWidth, step(0.5, abs(a_emphasis - 1.0)));


    v_baseColor = mix(vec4(AMBIENT, 1.0), v_baseColor, u_normalAndLambert[3]);


    v_arrowColor = vec4(v_outlineColor.rgb, 1.0);
    v_arrowColor.rgb *= mix(OUTLINE_LAMBERT_SCALE, 1.0, a_emphasis * 0.5);


    ndcOffset(vertex, u_ndcOffset);
    gl_Position = vertex;
}
`},function(e,t){e.exports=`//*****************************************************************************
// seerene(tm) - A framework for analyzing and visualizing complex software systems.
// Copyright (C) 2005 - 2019 for all source codes:
// seerene(tm) GmbH, Potsdam, Germany
//*****************************************************************************

precision highp float;
precision lowp int;

#if __VERSION__ == 100

    #ifdef GL_EXT_draw_buffers
        #extension GL_EXT_draw_buffers : enable
        #define fragColor gl_FragData[0].rgba
        #define fragId gl_FragData[1].xyzw
    #else
        #define DRAW_RESTRICTED
        #define fragColor gl_FragColor.rgba
        #define fragId gl_FragColor.xyzw
        #define fragDepth gl_FragColor.xyz
    #endif

    #ifdef GL_OES_standard_derivatives
        #extension GL_OES_standard_derivatives : enable
        #define ANTIALIASED_CONTOUR
    #endif

#else
    layout(location = 0) out vec4 fragColor;
    layout(location = 1) out vec4 fragId;
#endif


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
    #define texture(sampler, coord) texture2D(sampler, coord)
#else
    #define varying in
#endif



uniform int u_face;
uniform int u_layer;
uniform int u_arrows;

#ifdef DRAW_RESTRICTED
    
// @todo this file will be included from webgl-operate soon

const float one255ths = 1.0 / 255.0;

vec3 float24x1_to_uint8x3(const in float f) {
    vec3 uint8x3 = vec3(f, fract(f * 256.0), fract(f * 65536.0));
    return floor(uint8x3 * 256.0) * one255ths;
}

vec4 float24x1_to_uint8x4(const in float f) {
    vec4 uint8x4 = vec4(f, fract(f * 256.0), fract(f * 65536.0), fract(f * 16777216.0));
    return floor(uint8x4 * 256.0) * one255ths;
}

const vec3 premultUint8x3 = vec3(255.0 / 256.0, 255.0 / 65536.0, 255.0 / 16777216.0);
float uint8x3_to_float24x1(const in vec3 v) {
    return dot(v, premultUint8x3); // a1 * b1 + a2 * b2 + a3 * b3  ;)
}

const vec4 premultUint8x4 = vec4(255.0 / 256.0, 255.0 / 65536.0, 255.0 / 16777216.0, 255.0 / 4294967296.0);
float uint8x4_to_float24x1(const in vec4 v) {
    return dot(v, premultUint8x4); // a1 * b1 + a2 * b2 + a3 * b3 + a4 * b4  ;)
}

    uniform int u_attachment;
#endif


varying vec4 v_baseColor;
varying vec4 v_outlineColor;
varying vec4 v_arrowColor;

varying vec4 v_id;
varying vec4 v_uv;


void main(void)
{
#ifdef DRAW_RESTRICTED
    if(u_attachment == 0) {
#endif

    /* Compute the actual outline of a cuboid face based on texture coordinates. */
    vec2 awidth = fwidth(v_uv.st) * v_outlineColor[3];
    vec2 awidth2 = fwidth(v_uv.zw);

    vec4 ctest; /* Used for countour/ctest testing. */
    ctest.xy = step(v_uv.st - awidth.xy, vec2(0.0));
    ctest.zw = step(vec2(1.0), v_uv.st + awidth.xy);
    float outline = clamp(dot(ctest, vec4(1.0)), 0.0, 1.0);

    /* @todo optimize all this arrow pattern code. */
    float arrow = 0.0;
    if(u_arrows == 1 && u_face > 2 && u_layer > 0) {
        float d = abs(v_uv[2]) * 4.0;
        //outline = max(outline, step(1.0, mod(v_uv[3] * 4.0 + d, 2.0)));
        arrow = step(1.0, mod(v_uv[3] * 4.0 + d, 2.0));
        //outline = max(outline, step(1.0, mod(v_uv[3] * 250.0, 2.0)));
    } else {
        arrow = 0.0; //step(0.5, float(u_layer));
    }

    fragColor = mix(mix(v_baseColor, v_arrowColor, arrow), vec4(v_outlineColor.rgb, 1.0), outline);

#ifdef DRAW_RESTRICTED
    } else if(u_attachment == 1) {
#endif

    fragId = v_id;

#ifdef DRAW_RESTRICTED
    } else if(u_attachment == 2) {
        fragDepth = float24x1_to_uint8x3(gl_FragCoord.z);
    }
#endif
}
`},function(e,t,r){var n,o=this&&this.__extends||(n=function(p,v){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(d[a]=c[a])})(p,v)},function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function d(){this.constructor=p}n(p,v),p.prototype=v===null?Object.create(v):(d.prototype=v.prototype,new d)}),i=this&&this.__decorate||function(p,v,d,c){var a,l=arguments.length,s=l<3?v:c===null?c=Object.getOwnPropertyDescriptor(v,d):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(p,v,d,c);else for(var u=p.length-1;u>=0;u--)(a=p[u])&&(s=(l<3?a(s):l>3?a(v,d,s):a(v,d))||s);return l>3&&s&&Object.defineProperty(v,d,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.QuadGeometry=void 0;var h=r(0),g=function(p){function v(d,c){var a=p.call(this,d,c)||this;return c=c!==void 0&&c!==""?c:"QuadGeometry",a._vertices=new h.Buffer(d,c+"VertexVBO"),a._buffers.push(a._vertices),a._layout=new h.Buffer(d,c+"LayoutVBO"),a._buffers.push(a._layout),a._ids=new h.Buffer(d,c+"IdVBO"),a._buffers.push(a._ids),a._emphases=new h.Buffer(d,c+"EmphasisVBO"),a._buffers.push(a._emphases),a._colors=new h.Buffer(d,c+"ColorVBO"),a._buffers.push(a._colors),a}return o(v,p),v.prototype.bindBuffers=function(d){var c=this.context.gl,a=this.context.gl2facade;this._vertices.attribEnable(this._vertexLocation,2,c.FLOAT,!1,0,0,!0,!1),a.vertexAttribDivisor(this._vertexLocation,0),this._layout.attribEnable(this._layoutLocation,4,c.FLOAT,!1,0,0,!0,!1),a.vertexAttribDivisor(this._layoutLocation,1),this._ids.attribEnable(this._idLocation,4,c.UNSIGNED_BYTE,!1,0,0,!0,!1),a.vertexAttribDivisor(this._idLocation,1),this._emphases.attribEnable(this._emphasisLocation,1,c.UNSIGNED_BYTE,!1,0,0,!0,!1),a.vertexAttribDivisor(this._emphasisLocation,1),this._colors.attribEnable(this._colorLocation,1,c.UNSIGNED_BYTE,!1,0,0,!0,!1),a.vertexAttribDivisor(this._colorLocation,1)},v.prototype.unbindBuffers=function(d){this._vertices.attribDisable(this.vertexLocation,!1,!1),this._layout.attribDisable(this._layoutLocation,!1,!1),this._ids.attribDisable(this._idLocation,!1,!1),this._emphases.attribDisable(this._emphasisLocation,!1,!1),this._colors.attribDisable(this._colorLocation,!1,!1)},v.prototype.initialize=function(d,c,a,l,s){d===void 0&&(d=0),c===void 0&&(c=2),a===void 0&&(a=3),l===void 0&&(l=4),s===void 0&&(s=5),this._vertexLocation=d,this._idLocation=a,this._layoutLocation=c,this._colorLocation=s,this._emphasisLocation=l;var u=this.context.gl,f=p.prototype.initialize.call(this,[u.ARRAY_BUFFER,u.ARRAY_BUFFER,u.ARRAY_BUFFER,u.ARRAY_BUFFER,u.ARRAY_BUFFER]);return this._vertices.data(v.DATA,u.STATIC_DRAW),f&&this._vertices.valid},v.prototype.update=function(){this.bind()},v.prototype.draw=function(d,c){d===void 0&&(d=0),c===void 0&&(c=0);var a=this.context.gl,l=this.context.gl2facade;this._ids.attribEnable(this._idLocation,4,a.UNSIGNED_BYTE,!1,4,4*d,!0,!1),this._layout.attribEnable(this._layoutLocation,4,a.FLOAT,!1,16,16*d,!0,!1),this._colors.attribEnable(this._colorLocation,1,a.UNSIGNED_BYTE,!1,1,1*d,!0,!1),this._emphases.attribEnable(this._emphasisLocation,1,a.UNSIGNED_BYTE,!1,1,1*d,!0,!1),l.drawArraysInstanced(a.TRIANGLE_STRIP,0,4,c)},Object.defineProperty(v.prototype,"layout",{set:function(d){this._layout.data(d,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"ids",{set:function(d){this._ids.data(d,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"colors",{set:function(d){this._colors.data(d,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"emphases",{set:function(d){this._emphases.data(d,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"valid",{get:function(){var d=this._layout&&this._layout.valid,c=this._ids&&this._ids.valid,a=this._colors&&this._colors.valid,l=this._emphases&&this._emphases.valid;return this.initialized&&this._vertices.valid&&d&&c&&a&&l},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"vertexLocation",{get:function(){return this._vertexLocation},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"layoutLocation",{get:function(){return this._layoutLocation},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"idLocation",{get:function(){return this._idLocation},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"emphasisLocation",{get:function(){return this._emphasisLocation},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"colorLocation",{get:function(){return this._colorLocation},enumerable:!1,configurable:!0}),v.DATA=new Float32Array([0,0,0,1,1,0,1,1]),i([h.Initializable.assert_initialized()],v.prototype,"draw",null),v}(h.Geometry);t.QuadGeometry=g},function(e,t){e.exports=`//*****************************************************************************
// seerene(tm) - A framework for analyzing and visualizing complex software systems.
// Copyright (C) 2005 - 2019 for all source codes:
// seerene(tm) GmbH, Potsdam, Germany
//*****************************************************************************

#if __VERSION__ == 100
    #extension GL_EXT_draw_buffers : enable
#endif

precision highp float;
precision lowp int;


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
#else 
    #define varying out
#endif


// @todo this file will be included from webgl-operate soon

void ndcOffset(inout vec4 vertex, in vec2 offset) {
    vertex.xy = offset * vec2(vertex.w) + vertex.xy;
}



#if __VERSION__ == 100

attribute vec2 a_vertex;
attribute vec4 a_layout; /* [ position: vec2, extent: vec2 ] */
attribute vec4 a_id; /* encoded uint32 id in byte4 */
attribute float a_color; /* color index as unsigned byte */
attribute float a_emphasis; /* emphasis mode as unsigned byte */

#else

/* Note: do not use layout location specifier, since they take precedence over CPU managed locations. */
in vec2 a_vertex;
in vec4 a_layout; /* [ position: vec2, extent: vec2 ] */
in vec4 a_id; /* encoded uint32 id in byte4 */
in float a_color; /* color index as unsigned byte */
in float a_emphasis; /* emphasis mode as unsigned byte */

#endif


uniform mat4 u_viewProjection;
uniform vec2 u_ndcOffset;

uniform vec4 u_colorTable[$ColorTableLength];

uniform float u_outlineWidth;
uniform float u_emphasisOutlineWidth;


varying vec4 v_baseColor;
varying vec4 v_outlineColor;
varying vec4 v_id;

varying vec2 v_uv;
varying vec4 v_layout;


const float ONE_OVER_255 = 1.0 / 255.0;

const float OUTLINE_LAMBERT_SCALE = 0.88; /* @todo expose to API */

const int EMPHASIS_COLOR_INDEX = 0;


void main(void)
{
    vec4 emphasisColor = u_colorTable[EMPHASIS_COLOR_INDEX];

    vec4 pos = vec4(a_layout[0], 0.0, a_layout[1], 0.0);
    vec4 ext = vec4(a_layout[2], 0.0, a_layout[3], 1.0);

    vec4 vertex = vec4(a_vertex.x, 0.0, a_vertex.y, 1.0) * ext + pos;

    v_uv = vertex.xz;
    v_layout = a_layout;
    v_id = a_id * ONE_OVER_255;

    vertex = u_viewProjection * vertex;

    /* If emphasis is < 2 use the color lookup, else apply outline color. */
    v_baseColor = mix(u_colorTable[int(a_color)], emphasisColor, step(2.0, a_emphasis));
    v_outlineColor.rgb = mix(v_baseColor.rgb, emphasisColor.rgb, step(1.0, a_emphasis));

    /* The default outline (emphasis = 0.0) should be a little bit darker, when in outline mode (emphasis = 1.0) the
    outline should remain unchanged (except for face lambda), and when highlighting (emphasis = 2.0) the outline is
    lightened a little bit (invere darkening lambda). The mix is utilized to create this. */
    v_outlineColor.rgb *= mix(OUTLINE_LAMBERT_SCALE, (1.0 / OUTLINE_LAMBERT_SCALE), a_emphasis * 0.5);

    /* The outline width is encoded within the alpha channel of the outline (special if emphasized). */
    v_outlineColor[3] = mix(u_emphasisOutlineWidth, u_outlineWidth, step(0.5, abs(a_emphasis - 1.0)));

    ndcOffset(vertex, u_ndcOffset);
    gl_Position = vertex;
}
`},function(e,t){e.exports=`//*****************************************************************************
// seerene(tm) - A framework for analyzing and visualizing complex software systems.
// Copyright (C) 2005 - 2019 for all source codes:
// seerene(tm) GmbH, Potsdam, Germany
//*****************************************************************************

precision highp float;
precision lowp int;

#if __VERSION__ == 100

    #ifdef GL_EXT_draw_buffers
        #extension GL_EXT_draw_buffers : enable
        #define fragColor gl_FragData[0].rgba
        #define fragId gl_FragData[1].xyzw
    #else
        #define DRAW_RESTRICTED
        #define fragColor gl_FragColor.rgba
        #define fragId gl_FragColor.xyzw
        #define fragDepth gl_FragColor.xyz
    #endif

    #ifdef GL_OES_standard_derivatives
        #extension GL_OES_standard_derivatives : enable
        #define ANTIALIASED_CONTOUR
    #endif

#else
    layout(location = 0) out vec4 fragColor;
    layout(location = 1) out vec4 fragId;
#endif


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
    #define texture(sampler, coord) texture2D(sampler, coord)
#else
    #define varying in
#endif



#ifdef DRAW_RESTRICTED
    
// @todo this file will be included from webgl-operate soon

const float one255ths = 1.0 / 255.0;

vec3 float24x1_to_uint8x3(const in float f) {
    vec3 uint8x3 = vec3(f, fract(f * 256.0), fract(f * 65536.0));
    return floor(uint8x3 * 256.0) * one255ths;
}

vec4 float24x1_to_uint8x4(const in float f) {
    vec4 uint8x4 = vec4(f, fract(f * 256.0), fract(f * 65536.0), fract(f * 16777216.0));
    return floor(uint8x4 * 256.0) * one255ths;
}

const vec3 premultUint8x3 = vec3(255.0 / 256.0, 255.0 / 65536.0, 255.0 / 16777216.0);
float uint8x3_to_float24x1(const in vec3 v) {
    return dot(v, premultUint8x3); // a1 * b1 + a2 * b2 + a3 * b3  ;)
}

const vec4 premultUint8x4 = vec4(255.0 / 256.0, 255.0 / 65536.0, 255.0 / 16777216.0, 255.0 / 4294967296.0);
float uint8x4_to_float24x1(const in vec4 v) {
    return dot(v, premultUint8x4); // a1 * b1 + a2 * b2 + a3 * b3 + a4 * b4  ;)
}

    uniform int u_attachment;
#endif


varying vec4 v_baseColor;
varying vec4 v_outlineColor;
varying vec4 v_id;

varying mediump vec2 v_uv;
varying mediump vec4 v_layout;


void main(void)
{
#ifdef DRAW_RESTRICTED
    if(u_attachment == 0) {
#endif

    /* Compute the actual outline of a cuboid face based on texture coordinates. */
    vec2 awidth = fwidth(v_uv.st) * v_outlineColor[3];

    vec4 ctest; /* Used for countour/ctest testing. */
    ctest.xy = step((v_uv.st - v_layout.xy) - awidth.xy, vec2(0.0));
    ctest.zw = step(vec2(0.0), (v_uv.st - v_layout.xy) - v_layout.zw + awidth.xy);
    float outline = clamp(dot(ctest, vec4(1.0)), 0.0, 1.0);

    fragColor = mix(v_baseColor, vec4(v_outlineColor.rgb, 1.0), outline);

#ifdef DRAW_RESTRICTED
    } else if(u_attachment == 1) {
#endif

    fragId = v_id;

#ifdef DRAW_RESTRICTED
    } else if(u_attachment == 2) {
        fragDepth = float24x1_to_uint8x3(gl_FragCoord.z);
    }
#endif
}
`},function(e,t,r){var n,o=this&&this.__extends||(n=function(v,d){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(c[l]=a[l])})(v,d)},function(v,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function c(){this.constructor=v}n(v,d),v.prototype=d===null?Object.create(d):(c.prototype=d.prototype,new c)}),i=this&&this.__decorate||function(v,d,c,a){var l,s=arguments.length,u=s<3?d:a===null?a=Object.getOwnPropertyDescriptor(d,c):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(v,d,c,a);else for(var f=v.length-1;f>=0;f--)(l=v[f])&&(u=(s<3?l(u):s>3?l(d,c,u):l(d,c))||u);return s>3&&u&&Object.defineProperty(d,c,u),u};Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenAlignedQuadGeometry=void 0;var h=r(0),g=r(0).auxiliaries.assert,p=function(v){function d(c,a){var l=v.call(this,c,a)||this;return g(c.isWebGL2||c.supportsInstancedArrays,"expected extension 'ANGLE_instanced_arrays' to be supported"),a=a!==void 0&&a!==""?a:"ScreenAlignedQuadGeometry",l._vertices=new h.Buffer(c,a+"VertexVBO"),l._buffers.push(l._vertices),l._origins=new h.Buffer(c,a+"OriginVBO"),l._buffers.push(l._origins),l._extents=new h.Buffer(c,a+"ExtentVBO"),l._buffers.push(l._extents),l._offsets=new h.Buffer(c,a+"OffsetVBO"),l._buffers.push(l._offsets),l._pointyCorners=new h.Buffer(c,a+"PointyCornerVBO"),l._buffers.push(l._pointyCorners),l}return o(d,v),d.prototype.bindBuffers=function(c){var a=this.context.gl,l=this.context.gl2facade;this._vertices.attribEnable(this._vertexLocation,2,a.FLOAT,!1,8,0,!0,!1),l.vertexAttribDivisor(this._vertexLocation,0),this._origins.attribEnable(this._originLocation,3,a.FLOAT,!1,12,0,!0,!1),l.vertexAttribDivisor(this._originLocation,1),this._extents.attribEnable(this._extentLocation,2,a.FLOAT,!1,8,0,!0,!1),l.vertexAttribDivisor(this._extentLocation,1),this._offsets.attribEnable(this._offsetLocation,2,a.FLOAT,!1,8,0,!0,!1),l.vertexAttribDivisor(this._offsetLocation,1),this._pointyCorners.attribEnable(this._pointyCornerLocation,1,a.UNSIGNED_BYTE,!1,1,0,!0,!1),l.vertexAttribDivisor(this._pointyCornerLocation,1)},d.prototype.unbindBuffers=function(c){this._vertices.attribDisable(this._vertexLocation,!1,!1),this._origins.attribDisable(this._originLocation,!1,!1),this._extents.attribDisable(this._extentLocation,!1,!1),this._offsets.attribDisable(this._offsetLocation,!1,!1),this._pointyCorners.attribDisable(this._pointyCornerLocation,!1,!1)},d.prototype.initialize=function(c,a,l,s,u){c===void 0&&(c=0),a===void 0&&(a=1),l===void 0&&(l=2),s===void 0&&(s=3),u===void 0&&(u=4),this._vertexLocation=c,this._originLocation=a,this._extentLocation=l,this._offsetLocation=s,this._pointyCornerLocation=u;var f=this.context.gl,m=v.prototype.initialize.call(this,[f.ARRAY_BUFFER,f.ARRAY_BUFFER,f.ARRAY_BUFFER,f.ARRAY_BUFFER,f.ARRAY_BUFFER]);return this._vertices.data(d.VERTICES,f.STATIC_DRAW),m&&this._vertices.valid},d.prototype.updateData=function(c,a,l,s){this.bind(),this._count=c.length/3,this._origins.data(c,this.context.gl.STATIC_DRAW),this._extents.data(a,this.context.gl.STATIC_DRAW),this._offsets.data(l,this.context.gl.STATIC_DRAW),this._pointyCorners.data(s,this.context.gl.STATIC_DRAW)},d.prototype.update=function(){this.bind()},d.prototype.draw=function(c){if(c===void 0&&(c=0),this._count){var a=this.context.gl,l=this.context.gl2facade;this._vertices.attribEnable(this._vertexLocation,2,a.FLOAT,!1,8,0,!0,!1),this._origins.attribEnable(this._originLocation,3,a.FLOAT,!1,12,12*c,!0,!1),this._extents.attribEnable(this._extentLocation,2,a.FLOAT,!1,8,8*c,!0,!1),this._offsets.attribEnable(this._offsetLocation,2,a.FLOAT,!1,8,8*c,!0,!1),this._pointyCorners.attribEnable(this._pointyCornerLocation,1,a.UNSIGNED_BYTE,!1,1,1*c,!0,!1),l.drawArraysInstanced(a.TRIANGLE_STRIP,0,4,this._count)}},Object.defineProperty(d.prototype,"valid",{get:function(){return this.initialized&&this._vertices.valid&&this._origins&&this._origins.valid&&this._offsets&&this._offsets.valid&&this._extents&&this._extents.valid&&this._pointyCorners&&this._pointyCorners.valid},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"vertexLocation",{get:function(){return this._vertexLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"originLocation",{get:function(){return this._originLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"extentLocation",{get:function(){return this._extentLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"offsetLocation",{get:function(){return this._offsetLocation},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"pointyCornerLocation",{get:function(){return this._pointyCornerLocation},enumerable:!1,configurable:!0}),d.VERTICES=new Float32Array([0,0,0,1,1,0,1,1]),i([h.Initializable.assert_initialized()],d.prototype,"draw",null),d}(h.Geometry);t.ScreenAlignedQuadGeometry=p},function(e,t){e.exports=`//*****************************************************************************
// seerene(tm) - A framework for analyzing and visualizing complex software systems.
// Copyright (C) 2005 - 2019 for all source codes:
// seerene(tm) GmbH, Potsdam, Germany
//*****************************************************************************

precision highp float;
precision lowp int;


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
#else 
    #define varying out
#endif


// @todo this file will be included from webgl-operate soon

void ndcOffset(inout vec4 vertex, in vec2 offset) {
    vertex.xy = offset * vec2(vertex.w) + vertex.xy;
}



#if __VERSION__ == 100

#extension GL_EXT_draw_buffers : enable
attribute vec2 a_vertex;
attribute vec3 a_origin;
attribute vec2 a_extent;
attribute vec2 a_offset;
attribute float a_pointyCorner;

#else

in vec2 a_vertex;
in vec3 a_origin;
in vec2 a_extent;
in vec2 a_offset;
in float a_pointyCorner; // pointy corner number as 1: ll, 2: ul, 3: lr, 4: ur

#endif

uniform vec2 u_ndcOffset;
uniform mat4 u_viewProjection;
uniform float u_aspectRatio;

varying float v_radius;
varying vec2 v_uv; // values in range [0, v_extent]
varying vec2 v_extent;
varying float v_pointyCornerLeft; // 0 for right, 1 for left
varying float v_pointyCornerBottom; // 0 for top, 1 for bottom

/**
 * Returns accurate MOD when arguments are approximate integers.
 * Source: https://stackoverflow.com/a/36078859
 */
float modI(float a, float b) {
    float m = a - floor((a + 0.5) / b) * b;
    return floor(m + 0.5);
}

void main(void)
{
    v_pointyCornerLeft = step(a_pointyCorner, 2.0);
    v_pointyCornerBottom = modI(a_pointyCorner, 2.0);

    /* POSITIONING */
    /* quad data as flat array: [0, 0,  0, 1,  1, 0,  1, 1] (a_vertex), which translates to ll, lr, ul, ur corners.
     * 2-------4
     * |  \\    |
     * |    \\  |
     * 1-------3
     * The current vertex is calculated based on the current quad corners and the extent attributes.
     */

    vec2 extent = a_extent;
    vec2 offset = a_offset;

    // apply more extent to make space for rounded corners (see fragment shader for more information)
    float radius = extent.y * u_aspectRatio * 0.5;
    extent.x += radius;
    offset.x -= mix(radius, 0.0, step(a_pointyCorner, 2.0));

    v_extent = vec2(extent.x, extent.y * u_aspectRatio);
    v_uv = a_vertex * vec2(extent.x, extent.y * u_aspectRatio);
    v_radius = radius;

    vec4 origin = u_viewProjection * vec4(a_origin, 1.0);
    vec2 originNDC = vec2(origin.x / origin.w, origin.y / origin.w);
    vec4 vertex = vec4(originNDC + a_vertex * extent + offset, origin.z/origin.w, 1.0);

    ndcOffset(vertex, u_ndcOffset);
    gl_Position = vertex;
}
`},function(e,t){e.exports=`//*****************************************************************************
// seerene(tm) - A framework for analyzing and visualizing complex software systems.
// Copyright (C) 2005 - 2019 for all source codes:
// seerene(tm) GmbH, Potsdam, Germany
//*****************************************************************************

precision highp float;
precision lowp int;

#if __VERSION__ == 100
    #define fragColor gl_FragColor
#else
    layout(location = 0) out vec4 fragColor;
#endif


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
    #define texture(sampler, coord) texture2D(sampler, coord)
#else
    #define varying in
#endif


varying float v_radius;
varying vec2 v_uv; // values in range [0, v_extent]
varying vec2 v_extent;
varying float v_pointyCornerLeft; // 0 for right, 1 for left
varying float v_pointyCornerBottom; // 0 for top, 1 for bottom

const float ALPHA = 0.8;
const vec3 COLOR = vec3(1.0);

void main(void)
{
    /* Instead of rendering normal quads, we want to render each quad with rounded corners, so that the
     * quads have the shape of a 2D "pill". Moreover, there will be one corner that retains its pointy
     * shape (in summary, a quad will look like a very simplified speech bubble.)
     * To get the rounded sides of the pill, we will use 2 circles (one left, one right) with the radius
     * \`v_radius\`, which is half of the quads's vertical extent.
     * This code is optimized to avoid conditioned branching (if-else), and uses * and + instead of
     * && and ||, respectively.
     */

    // middle points of the circle we use to calculate the rounded corners
    vec2 mLeft =  vec2(v_radius);
    vec2 mRight = vec2(v_extent.x - v_radius, v_radius);

    // define where the borders start, so that we use the correct half of the circle
    float borderLeft =   step(v_uv.x, mLeft.x);
    float borderBottom = step(v_uv.y, mLeft.y);
    float borderRight =  step(mRight.x, v_uv.x);
    float borderTop =    step(mRight.y, v_uv.y);

    float alphaLeft =  step(v_radius, distance(v_uv, mLeft))  * borderLeft;
    float alphaRight = step(v_radius, distance(v_uv, mRight)) * borderRight;

    // If we combine both alphaLeft and alphaRight, we get the pill shape. However, we want one corner
    // to stay pointy, so we separate the alpha by the 4 border areas:
    float alphaLeftBottom =  alphaLeft  * borderBottom;
    float alphaLeftTop =     alphaLeft  * borderTop;
    float alphaRightBottom = alphaRight * borderBottom;
    float alphaRightTop =    alphaRight * borderTop;

    // don't apply the rounded corner where the pointy corner should be
    float pointyLeftBottom =         v_pointyCornerLeft  *        v_pointyCornerBottom;
    float pointyLeftTop =            v_pointyCornerLeft  * (1.0 - v_pointyCornerBottom);
    float pointyRightBottom = (1.0 - v_pointyCornerLeft) *        v_pointyCornerBottom;
    float pointyRightTop =    (1.0 - v_pointyCornerLeft) * (1.0 - v_pointyCornerBottom);

    // based on where the 3 rounded corners should be, we want to "cut away" certain fragments
    float shouldBeCutAway = sign(
          alphaLeftBottom  * (1.0 - pointyLeftBottom)
        + alphaLeftTop     * (1.0 - pointyLeftTop)
        + alphaRightBottom * (1.0 - pointyRightBottom)
        + alphaRightTop    * (1.0 - pointyRightTop));

    float alpha = mix(ALPHA, 0.0, shouldBeCutAway);
    fragColor = vec4(COLOR, alpha);
}
`},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var n=function(){function o(i){i===void 0&&(i=1),this._deltaTime=0,this._totalTime=0,this._paused=!1,this._pauseStart=0,this._timeMultiplier=1,this._timeMultiplier=i,this._updateCallback=function(){}}return o.prototype.pause=function(){this._paused||(this._pauseStart=window.performance.now(),this._paused=!0)},o.prototype.unpause=function(){if(this._paused){var i=window.performance.now()-this._pauseStart;this._lastUpdate&&(this._lastUpdate+=i),this._paused=!1}},Object.defineProperty(o.prototype,"isPaused",{get:function(){return this._paused},enumerable:!1,configurable:!0}),o.prototype.update=function(){if(this._paused)return 0;var i=window.performance.now();return this._deltaTime=this._lastUpdate?(i-this._lastUpdate)*this._timeMultiplier:0,this._totalTime+=this._deltaTime,this._lastUpdate=i,this._updateCallback(),this._deltaTime},o.prototype.updateFixed=function(i){if(!this._paused){var h=window.performance.now();this._deltaTime=i*this._timeMultiplier,this._totalTime+=this._deltaTime,this._lastUpdate=h,this._updateCallback()}},o.prototype.reset=function(){this.updateFixed(0),this.totalTime=0},Object.defineProperty(o.prototype,"deltaTime",{get:function(){return this._deltaTime},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"totalTime",{get:function(){return this._totalTime},set:function(i){this._totalTime=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"timeMultiplier",{get:function(){return this._timeMultiplier},set:function(i){this._timeMultiplier=i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"onUpdate",{set:function(i){this._updateCallback=i},enumerable:!1,configurable:!0}),o}();t.Timer=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeTransformations=void 0;var n=r(0),o=n.auxiliaries.assert,i=n.auxiliaries.log,h=n.auxiliaries.logIf,g=n.auxiliaries.LogLevel,p=r(1),v=r(7),d=r(3);(function(c){c.normalization_backup=function(a,l){var s,u=new Array(a.numberOfNodes);if(l.topology.format===d.Topology.InputFormat.Interleaved){var f=l.topology.edges,m=2*(a.numberOfNodes-1);h(f.length!==m,g.Warning,"expected an edgelist of size "+m+" instead of "+f.length),s=function(w){var S=2*(w-1);return o(S<f.length,"expected an index within the ranges of edges but got "+w),S<f.length?[f[S+0],f[S+1]]:[v.Node.INVALID_INDEX,v.Node.INVALID_INDEX]}}else{var y=l.topology.edges;m=a.numberOfNodes-1,h(y.length!==m,g.Warning,"expected an edgelist of size "+m+" instead of "+y.length),s=function(w){return o(w-1<y.length,"expected an index within the ranges of edges but got"+w),w-1<y.length?y[w-1]:[v.Node.INVALID_INDEX,v.Node.INVALID_INDEX]}}u[0]=0;for(var b=1;b<a.numberOfNodes;b++){var E=void 0,x=s(b);b+1<a.numberOfNodes?E=s(b+1)[0]===x[1]?a.innerNodeIndexById(x[1]):a.leafNodeIndexById(x[1]):E=a.leafNodeIndexById(x[1]),o(E!==void 0,"expected a valid index, given "+E+" for "+x[1]),u[b]=E}return u},c.renormalize=function(a,l){var s=new Float32Array(l.length);h(l.length!==a.length,g.Warning,"expected value buffer to be sized with the number of nodes but got "+a.length+" instead of "+l.length);for(var u=0;u<s.length;++u)s[l[u]]=a[u];return s},c.renormalize_using_intermediate_linearization=function(a,l,s){var u=new Float32Array(s.length);switch(u.fill(NaN),l.type){case p.AttributeBuffer.LinearizationMapping.IdMapping:o(!1,"Id-Mapping not yet implemented");break;case p.AttributeBuffer.LinearizationMapping.IndexMapping:for(var f=0;f<a.length;++f){var m=l.mapping[f];m!==void 0&&(u[s[m]]=a[f])}}return u},c.applyTransformations=function(a,l,s,u,f){for(var m=0,y=u;m<y.length;m++){var b=y[m];switch(b.type){case"normalize":c.applyNormalization(a,s,b);break;case"range-transform":c.applyRangeTransform(a,s,b);break;case"propagate-up":c.applyPropagation(a,s,b);break;case"fill-invalid":c.applyFill(a,s,b);break;case"mask":c.applyMask(a,s,b);break;case"clamp":c.applyClamp(a,s,b);break;case"threshold":c.applyThreshold(a,s,b);break;case"compare":c.applyCompare(a,s,b);break;case"transform":c.applyTransform(a,l,s,b,f);break;case"discretize":c.applyDiscretization(a,s,b);break;case"callback":c.applyCallback(a,s,b)}}return s},c.applyNormalization=function(a,l,s){if(a.numberOfLeafNodes!==0){var u=0,f=1;switch(s.operation){case"zero-to-max":var m;a.forEachLeafNode(function(x){var w=l[x.index];m=m===void 0?w:Math.max(m,w)}),o(m!==void 0,"Valid max expected"),m===void 0&&(m=1),u=0,f=1/m;break;case"min-to-max":var y,b;a.forEachLeafNode(function(x){var w=l[x.index];y=y===void 0?w:Math.max(y,w),b=b===void 0?w:Math.min(b,w)}),o(y!==void 0,"Valid max expected"),o(b!==void 0,"Valid min expected"),b===void 0&&(b=0),y===void 0&&(y=1),u=-b,f=1/(y-b);break;case"sign-agnostic-max":var E;a.forEachLeafNode(function(x){var w=Math.abs(l[x.index]);E=E===void 0?w:Math.max(E,w)}),o(E!==void 0,"Valid max expected"),E===void 0&&(E=1),u=0,f=1/E}l.forEach(function(x,w){l[w]=(l[w]+u)*f})}},c.applyRangeTransform=function(a,l,s){if(a.numberOfLeafNodes!==0&&s.sourceRange!==void 0&&s.targetRange!==void 0)for(var u=s.sourceRange,f=s.targetRange,m=-u[0],y=f[0],b=u[1]===u[0]?0:(f[1]-f[0])/(u[1]-u[0]),E=0;E<l.length;E++)l[E]<u[0]?l[E]=-1:l[E]=y+(l[E]+m)*b},c.applyPropagation=function(a,l,s){if(a.numberOfLeafNodes!==0)switch(s.operation){case"average":a.reverseParentsDo(function(u){var f=0,m=0;a.childrenDo(u,function(y){var b=l[y.index];f+=b,++m}),l[u.index]=m===0?0:f/m});break;case"sum":a.reverseParentsDo(function(u){var f=0;a.childrenDo(u,function(m){var y=l[m.index];f+=y}),l[u.index]=f});break;case"min":a.reverseParentsDo(function(u){var f;a.childrenDo(u,function(m){var y=l[m.index];f=f===void 0?y:Math.min(y,f)}),f===void 0&&(f=0),l[u.index]=f});break;case"max":a.reverseParentsDo(function(u){var f;a.childrenDo(u,function(m){var y=l[m.index];f=f===void 0?y:Math.max(y,f)}),f===void 0&&(f=0),l[u.index]=f});break;case"median":a.reverseParentsDo(function(u){var f=new Array;a.childrenDo(u,function(m){var y=l[m.index];f.push(y)}),f.sort(),f.length%2==0?l[u.index]=(f[f.length/2]+f[f.length/2])/2:l[u.index]=f[f.length/2]});break;case"closest-to-zero":a.reverseParentsDo(function(u){var f;a.childrenDo(u,function(m){var y=l[m.index];(f===void 0||Math.abs(y)<Math.abs(f))&&(f=y)}),f===void 0&&(f=0),l[u.index]=f});break;case"closest-to-infinity":a.reverseParentsDo(function(u){var f;a.childrenDo(u,function(m){var y=l[m.index];(f===void 0||Math.abs(y)>Math.abs(f))&&(f=y)}),f===void 0&&(f=0),l[u.index]=f});break;default:i(g.Warning,"Transformation type not recognized.")}},c.applyFill=function(a,l,s){var u=s.value,f="invalidValue"in s?s.invalidValue:void 0;a.nodesDo(function(m){l[m.index]===f&&(l[m.index]=u)})},c.applyClamp=function(a,l,s){var u,f;"range"in s?(u=s.range[0],f=s.range[0]):(u=s.min,f=s.max),o(u<=f,"Require valid min-max range."),a.nodesDo(function(m){var y=l[m.index];y!==void 0&&(l[m.index]=Math.min(f,Math.max(u,y)))})},c.applyMask=function(a,l,s){var u=s.value;a.nodesDo(function(f){l[f.index]=l[f.index]===u?1:0})},c.applyThreshold=function(a,l,s){var u=s.value;a.nodesDo(function(f){l[f.index]=l[f.index]>=u?1:0})},c.applyCompare=function(a,l,s){var u=s.value;a.nodesDo(function(f){l[f.index]=l[f.index]>u?1:l[f.index]<u?-1:0})},c.applyTransform=function(a,l,s,u,f){var m=u.operation,y=u.parameter,b=u.buffer,E=function(w){return y};if(b!==void 0){var x=p.AttributeBuffer.create(a,l,b,f);x!==void 0&&(E=function(w){return x[w.index]})}switch(m){case"min":a.nodesDo(function(w){s[w.index]=Math.min(s[w.index],E(w))});break;case"max":a.nodesDo(function(w){s[w.index]=Math.max(s[w.index],E(w))});break;case"add":a.nodesDo(function(w){s[w.index]=s[w.index]+E(w)});break;case"subtract":a.nodesDo(function(w){s[w.index]=s[w.index]-E(w)});break;case"multiply":a.nodesDo(function(w){s[w.index]=s[w.index]*E(w)});break;case"divide":a.nodesDo(function(w){s[w.index]=s[w.index]/E(w)});break;case"inverse":a.nodesDo(function(w){s[w.index]=1/s[w.index]});break;case"pow":a.nodesDo(function(w){s[w.index]=Math.pow(s[w.index],E(w))});break;case"nth-root":a.nodesDo(function(w){var S=1/E(w);s[w.index]=Math.pow(s[w.index],S)});break;case"log":y!==void 0&&y!==0?a.nodesDo(function(w){var S=Math.log(E(w));s[w.index]=Math.log(s[w.index])/S}):a.nodesDo(function(w){s[w.index]=Math.log(s[w.index])});break;case"square":a.nodesDo(function(w){s[w.index]=Math.pow(s[w.index],2)});break;case"square-root":a.nodesDo(function(w){s[w.index]=Math.sqrt(s[w.index])});break;case"as-multiplier":a.nodesDo(function(w){s[w.index]=Math.abs(s[w.index])});break;case"as-remainder":a.nodesDo(function(w){s[w.index]=1-Math.abs(s[w.index])});break;case"abs":a.nodesDo(function(w){s[w.index]=Math.abs(s[w.index])});break;case"compare":a.nodesDo(function(w){var S=s[w.index],P=E(w);s[w.index]=S<P?-1:S>P?1:0});break;default:return}},c.applyDiscretization=function(a,l,s){o(!1,"Implementation missing")},c.applyCallback=function(a,l,s){var u=s.operation;switch(s.iteration){case d.Topology.IterationDirection.TopDown:a.nodesDo(function(f){l[f.index]=u(l[f.index],f,l,a)});break;case d.Topology.IterationDirection.DepthFirst:a.reverseNodesDo(function(f){l[f.index]=u(l[f.index],f,l,a)});break;case d.Topology.IterationDirection.BottomUp:default:a.depthFirstDo(function(f){l[f.index]=u(l[f.index],f,l,a)})}}})(t.AttributeTransformations||(t.AttributeTransformations={}))},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Linearization=void 0;var n=function(){function o(){this._slices=[]}return o.prototype.clear=function(){this._slices=[]},o.prototype.slice=function(i){if(!(i<0||i>=this._slices.length))return this._slices[i]},o.prototype.startSlice=function(i){this._slices.push([i,i])},o.prototype.endSlice=function(i){this._slices[this._slices.length-1][1]=i},o.prototype.nextSlice=function(i){this.endSlice(i-1),this.startSlice(i)},o.prototype.addSliceByRange=function(i,h){this._slices.push([i,h])},o.prototype.addSliceByLength=function(i){if(this.length!==0){var h=this._slices[this._slices.length-1][1];this._slices.push([h+1,h+i])}else this._slices.push([0,i-1])},o.prototype.sliceDo=function(i,h){if(!(i<0||i>=this._slices.length)){var g=this._slices[i];h(g[0],g[1])}},o.prototype.slicesDo=function(i){for(var h=0,g=this._slices;h<g.length;h++){var p=g[h];i(p[0],p[1])}},Object.defineProperty(o.prototype,"slices",{get:function(){return this._slices},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"numberOfInnerNodes",{get:function(){return this._slices[this._slices.length-1][0]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"numberOfLeafNodes",{get:function(){return this.numberOfNodes-this.numberOfInnerNodes},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"numberOfNodes",{get:function(){return this._slices[this._slices.length-1][1]+1},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"length",{get:function(){return this._slices.length},enumerable:!1,configurable:!0}),o}();t.Linearization=n},function(e){e.exports=JSON.parse(`{"$schema":"http://json-schema.org/draft-06/schema#","title":"Treemap Configuration Schema","description":"JSON schema for a treemap configuration object, targeting the treemap typescript module.","type":"object","properties":{"topology":{"type":"object","properties":{"format":{"type":"string","enum":["interleaved","tupled"],"default":"interleaved"},"semantics":{"type":"string","enum":["parent-id-id","parent-index-id"],"default":"parent-id-id"},"edges":{"type":"array","items":{"anyOf":[{"type":"integer","minimum":0},{"type":"array","items":{"type":"integer","minimum":0},"minItems":2,"maxItems":2,"uniqueItems":true}]}}},"required":["edges"],"additionalProperties":false},"buffers":{"type":"array","items":{"type":"object","properties":{"identifier":{"type":"string"},"type":{"type":"string","enum":["numbers","uint8","uint16","int16","uint32","int32","float32","float64"]},"encoding":{"type":"string","enum":["base64","native"],"default":"native"},"data":{"anyOf":[{"type":"array","items":{"type":"number"}},{"type":"Uint8Array"},{"type":"Uint16Array"},{"type":"Int16Array"},{"type":"Uint32Array"},{"type":"Int32Array"},{"type":"Float32Array"},{"type":"Float64Array"}]},"linearization":{"anyOf":[{"type":"string","enum":["topology","identity"]},{"type":"object","properties":{"type":{"type":"string","enum":["id-mapping","index-mapping"]},"mapping":{"type":"array","items":{"type":"integer"}}},"required":["type","mapping"],"additionalProperties":false}],"default":"topology"}},"required":["identifier","type","data"],"additionalProperties":false}},"bufferViews":{"type":"array","items":{"type":"object","properties":{"identifier":{"type":"string"},"source":{"$ref":"/BufferReference"},"transformations":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"type":{"type":"string","enum":["propagate-up"]},"operation":{"type":"string","enum":["average","sum","min","max","median","closest-to-zero","closest-to-infinity"]},"weight":{"$ref":"/BufferReference"}},"required":["type","operation"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["fill-invalid"]},"value":{"type":"number"},"invalidValue":{"anyOf":[{"type":"number"},{"type":"null"}]}},"required":["type","value"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["mask"]},"value":{"type":"number"}},"required":["type","value"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["clamp"]},"min":{"type":"number"},"max":{"type":"number"}},"required":["type","min","max"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["clamp"]},"range":{"type":"array","items":{"type":"number"},"minItems":2,"maxItems":2}},"required":["type","range"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["range-transform"]},"sourceRange":{"type":"array","items":{"type":"number"},"minItems":2,"maxItems":2},"targetRange":{"type":"array","items":{"type":"number"},"minItems":2,"maxItems":2}},"required":["type","sourceRange","targetRange"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["normalize"]},"operation":{"type":"string","enum":["zero-to-max","min-to-max","sign-agnostic-max"]}},"required":["type","operation"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["threshold"]},"value":{"type":"number"}},"required":["type","value"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["compare"]},"value":{"type":"number"}},"required":["type","value"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["transform"]},"operation":{"type":"string","enum":["add","subtract","multiply","divide","inverse","pow","nth-root","log","square","square-root","as-multiplier","as-remainder","abs"]},"parameter":{"type":"number","default":0},"buffer":{"$ref":"/BufferReference"}},"required":["type","operation"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["discretize"]},"operation":{"type":"string","enum":["quantiles","quartiles"]}},"required":["type","operation"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["discretize"]},"percentiles":{"type":"array","items":{"type":"number"}}},"required":["type","percentiles"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["callback"]}},"required":["type","operation"],"additionalProperties":true}]}}},"required":["identifier","source"],"additionalProperties":false}},"colors":{"type":"array","items":{"type":"object","properties":{"identifier":{"type":"string"},"space":{"type":"string","enum":["rgb","hsl","lab","cmyk","hex"],"description":"The color space is based on supported webgl-operate color spaces.","default":"hex"},"value":{"oneOf":[{"type":"array","minItems":3,"maxItems":5,"items":{"type":"number","minimum":0,"maximum":1}},{"type":"string","pattern":"^(#|0x)?(([0-9a-f]{3}){1,2}|([0-9a-f]{4}){1,2})$"}]},"values":{"type":"array","minItems":2,"items":{"oneOf":[{"type":"array","minItems":3,"maxItems":5,"items":{"type":"number","minimum":0,"maximum":1}},{"type":"string","pattern":"^(#|0x)?(([0-9a-f]{3}){1,2}|([0-9a-f]{4}){1,2})$"}]}}},"required":["identifier","space"],"oneOf":[{"type":"object","required":["value"]},{"type":"object","required":["values"]}],"additionalProperties":false}},"layout":{"type":"object","properties":{"algorithm":{"type":"string","enum":["strip","snake","codecity"]},"weight":{"$ref":"/BufferReference"},"aspectRatio":{"type":"number","exclusiveMinimum":0,"default":1},"sort":{"type":"object","properties":{"algorithm":{"type":"string","enum":["ascending","descending","keep"],"default":"keep"},"key":{"anyOf":[{"type":"string","enum":["identity","weight"]},{"$ref":"/BufferReference"}],"default":"identity"}},"required":["algorithm"],"additionalProperties":false},"siblingMargin":{"type":"object","properties":{"type":{"type":"string","enum":["relative","absolute"],"default":"relative"},"value":{"anyOf":[{"$ref":"/BufferReference"},{"type":"number","minimum":0}],"default":0}},"required":["type","value"],"additionalProperties":false},"parentPadding":{"type":"object","properties":{"type":{"type":"string","enum":["relative","absolute","mixed"],"default":"relative"},"value":{"anyOf":[{"$ref":"/BufferReference"},{"type":"number","minimum":0},{"type":"array","items":{"type":"number","minimum":0},"minItems":1}],"default":0}},"required":["type","value"],"additionalProperties":false},"accessoryPadding":{"type":"object","properties":{"type":{"type":"string","enum":["relative","absolute"],"default":"absolute"},"direction":{"type":"string","enum":["top","left","bottom","right"],"default":"bottom"},"value":{"anyOf":[{"type":"number","minimum":0},{"type":"array","items":{"type":"number","minimum":0},"minItems":1}]},"relativeAreaThreshold":{"anyOf":[{"type":"number","minimum":0},{"type":"array","items":{"type":"number","minimum":0},"minItems":1}],"default":0},"targetAspectRatio":{"anyOf":[{"type":"number","minimum":0},{"type":"null"}],"default":null}},"required":["value"],"additionalProperties":false},"cascade":{"type":"boolean","default":false},"flattenDirectories":{"type":"boolean","description":"Flatten directories while computing the layout. Also known as 'directory pruning'.","default":false}},"required":["algorithm","weight"],"additionalProperties":false},"geometry":{"type":"object","properties":{"parentLayer":{"type":"object","properties":{"colorMap":{"$ref":"/ColorReference","default":"color:inner"},"showRoot":{"type":"boolean","default":false}},"additionalProperties":false},"leafLayers":{"type":"array","items":{"type":"object","properties":{"colorMap":{"$ref":"/ColorReference","default":"color:leaf"},"colorScheme":{"$ref":"/ColorScheme"},"height":{"$ref":"/BufferReference"},"colors":{"$ref":"/BufferReference"},"areaScale":{"$ref":"/BufferReference"}},"additionalProperties":false}},"aggregation":{"type":"object","properties":{"buffer":{"$ref":"/BufferReference"},"depthThreshold":{"type":"number","minimum":0,"default":1},"valueThreshold":{"type":"number","default":0}},"required":["buffer"],"additionalProperties":false},"auxiliary":{"$ref":"/ColorReference","default":"color:auxiliary"},"emphasis":{"type":"object","properties":{"outline":{"type":"array","items":{"type":"integer","minimum":0},"uniqueItems":true},"highlight":{"type":"array","items":{"type":"integer","minimum":0},"uniqueItems":true},"color":{"$ref":"/ColorReference","default":"color:emphasis"},"outlineWidth":{"type":"number","minimum":0,"description":"unit: device-independent pixel","default":1.6}},"additionalProperties":false},"heightScale":{"anyOf":[{"type":"string","enum":["SomethingInverseSqrt"]},{"type":"number"}],"default":0.125},"levitate":{"type":"number","minimum":0,"default":0,"description":"unit: device-independent pixel"},"outlineWidth":{"type":"number","minimum":0,"description":"unit: native pixel","default":0.8}},"required":["parentLayer"],"additionalProperties":false},"labels":{"type":"object","properties":{"names":{"$ref":"/BufferReference"},"additionallyLabelSet":{"type":"array","items":{"type":"number","minimum":0}},"innerNodeLayerRange":{"type":"array","items":{"type":"number","minimum":0},"minItems":2,"maxItems":2,"default":[1,2]},"numTopInnerNodes":{"type":"number","minimum":0,"default":0},"numTopWeightNodes":{"type":"number","minimum":0,"default":0},"numTopHeightNodes":{"type":"number","minimum":0,"default":0},"numTopColorNodes":{"type":"number","minimum":0,"default":0}},"required":[]},"animations":{"type":"array","items":{"type":"object","properties":{"layer":{"type":"number","minimum":0,"maximum":1,"default":0},"height":{"type":"object","properties":{"buffers":{"type":"array","items":{"$ref":"/BufferReference"},"minItems":2},"delaySpread":{"type":"number","minimum":0},"timestamps":{"type":"array","items":{"type":"number","minimum":0},"minItems":2},"easing":{"type":"string","enum":["linear","smoothstep"],"default":"linear"},"order":{"type":"string","enum":["synchronous","height","height-change","color","color-change"],"default":"synchronous"}},"required":["buffers","timestamps","easing","order"],"additionalProperties":false},"color":{"type":"object","properties":{"buffers":{"type":"array","items":{"$ref":"/BufferReference"},"minItems":2},"delaySpread":{"type":"number","minimum":0},"timestamps":{"type":"array","items":{"type":"number","minimum":0},"minItems":2},"easing":{"type":"string","enum":["linear","smoothstep"],"default":"linear"},"order":{"type":"string","enum":["synchronous","height","height-change","color","color-change"],"default":"synchronous"}},"required":["buffers","timestamps","easing","order"],"additionalProperties":false},"areaScale":{"type":"object","properties":{"buffers":{"type":"array","items":{"$ref":"/BufferReference"},"minItems":2},"delaySpread":{"type":"number","minimum":0},"timestamps":{"type":"array","items":{"type":"number","minimum":0},"minItems":2},"easing":{"type":"string","enum":["linear","smoothstep"],"default":"linear"},"order":{"type":"string","enum":["synchronous","height","height-change","color","color-change"],"default":"synchronous"}},"required":["buffers","timestamps","easing","order"],"additionalProperties":false}},"required":["layer"],"additionalProperties":false}}},"required":["topology","layout"],"additionalProperties":false}`)},function(e){e.exports=JSON.parse('{"id":"/BufferReference","type":"string","pattern":"^(buffer|bufferView):[_a-zA-Z][_a-zA-Z0-9\\\\-]*[_a-zA-Z0-9]+$","description":"Named identifier used to reference a buffer or buffer view throughout the treemap configuration."}')},function(e){e.exports=JSON.parse('{"id":"/ColorReference","type":"string","pattern":"^(color):[_a-zA-Z][_a-zA-Z0-9\\\\-]*[_a-zA-Z0-9]+$","description":"Named identifier used to reference a color throughout the treemap configuration."}')},function(e){e.exports=JSON.parse('{"id":"/ColorScheme","type":"object","properties":{"inverted":{"type":"boolean","default":false},"classBounds":{"type":"array","items":{"type":"number"}}}}')},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Visualization=void 0;var n=r(0),o=r(0),i=n.auxiliaries.assert,h=r(64),g=r(12),p=r(10),v=r(65),d=r(66),c=r(68),a=r(69),l=r(72),s=r(1),u=r(73),f=r(74),m=r(8),y=r(26),b=r(76),E=r(23),x=r(13),w=r(77),S=r(25),P=r(9),A=r(82),L=r(5),k=r(27),D=r(22),N=function(){function W(H){this._intermediaries=new w.IntermediateResults,this._labelsChanged=!1,this._bufferResolver=new u.BufferResolver(this._intermediaries.topology),this._geometry=new E.Geometry,this._animations=[new g.AnimationData,new g.AnimationData],this._skipLabeling=!1,this._skipInnerLabeling=!1,this._skipLeafLabeling=!1,this._renderer=D.RendererCapabilities.createRendererFromCapabilities(H,this),this._renderer.geometry=this._geometry,this._renderer instanceof p.AnimationRenderer&&(this._renderer.animations=this._animations)}return Object.defineProperty(W,"debug",{set:function(H){H&&n.auxiliaries.logVerbosity()<n.auxiliaries.LogLevel.Debug&&(n.auxiliaries.logVerbosity(n.auxiliaries.LogLevel.Debug),n.auxiliaries.log(n.auxiliaries.LogLevel.Debug,"changed log verbosity to "+n.auxiliaries.LogLevel.Debug+" (debug)")),y.DrawDispatch.debug=H,W._debug=H},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"debug",{set:function(H){W.debug=H},enumerable:!1,configurable:!0}),W.prototype.getNodeIndexFromId=function(H,q){var X=this._intermediaries.topology;return q?X.leafNodeIndexById(H):X.innerNodeIndexById(H)},W.prototype.resolveMetricBuffers=function(){var H=this._configuration;this._decodedAreas||(this._decodedAreas=this._bufferResolver.resolve("bufferView:DecodedArea",H,this._normalization)),this._decodedBaseHeights&&this._decodedDeltaHeights&&this._heightChange||(this._decodedBaseHeights=this._bufferResolver.resolve("bufferView:DecodedBaseHeight",H,this._normalization)||this._bufferResolver.resolve("bufferView:DecodedHeight",H,this._normalization),this._decodedDeltaHeights=this._bufferResolver.resolve("bufferView:DecodedDeltaHeight",H,this._normalization),this._heightChange=this._bufferResolver.resolve("bufferView:HeightChange",H,this._normalization))},W.prototype.applyInnerNodeColorMapping=function(H){var q="color-mapping inners";n.auxiliaries.logPerformanceStartIf(W._debug,q);var X=H.geometry,Y=H.altered.geometry;if(i(this._geometry.innerNodeColors!==void 0||Y.any,"expected any alteration when inner-node color mapping is yet to be defined"),Y.any||H.altered.topology){i(this._geometry!==void 0&&this._geometry.colorTable!==void 0,"expected color lookup-table to be specified (cached)");var J=this._intermediaries.topology;(H.altered.topology||Y.emphasis.any)&&(this._geometry.innerNodeEmphases=d.NodeEmphases.innerNodes(J,X.emphasis?new Set(X.emphasis.outline):void 0,X.emphasis?new Set(X.emphasis.highlight):void 0)),H.altered.topology&&(this._geometry.innerNodeColors=v.NodeColors.innerNodes(J,this._colorLUT.innerNodeColorOffset,this._colorLUT.innerNodeColorCount)),n.auxiliaries.logPerformanceStopIf(W._debug,q,void 0,k.PERF_LOG_INDENT)}else n.auxiliaries.logPerformanceStopIf(W._debug,q,"skipped",k.PERF_LOG_INDENT)},W.prototype.applyLeafNodeColorMapping=function(H){var q="color-mapping leafs";n.auxiliaries.logPerformanceStartIf(W._debug,q);var X=H.geometry,Y=H.altered.geometry;if(Y.any||H.altered.topology){if(i(this._geometry!==void 0&&this._geometry.colorTable!==void 0,"expected color lookup-table to be specified (cached)"),(X.leafLayers===void 0?0:X.leafLayers.length)===0)return this._intermediaries.aggregatedColors=void 0,this._intermediaries.colors=new Array(0),this._geometry.leafNodeColors[0]=x.GeometryCreation.defaultLeafNodeColors(this._intermediaries.topology,this._colorLUT.leafColorOffset),void n.auxiliaries.logPerformanceStopIf(W._debug,q,"defaulted",k.PERF_LOG_INDENT);if((H.altered.topology||Y.emphasis.any)&&(this._geometry.leafNodeEmphases=d.NodeEmphases.leafNodes(this._intermediaries.topology,X.emphasis?new Set(X.emphasis.outline):void 0,X.emphasis?new Set(X.emphasis.highlight):void 0)),!Y.colors&&this._intermediaries.colors!==void 0)return this._intermediaries.aggregatedColors===void 0&&(this._intermediaries.aggregatedColors=this._intermediaries.colors[0]),void n.auxiliaries.logPerformanceStopIf(W._debug,q,"skipped",k.PERF_LOG_INDENT);var J=this._bufferResolver.resolve(X.leafLayers[0].colors,H,this._normalization,this._bufferResolver.constBufferCallback(0));this._decodedColors=J;for(var ee=0;ee<1;++ee){var te=X.leafLayers[ee].colorScheme,ne=te!==void 0&&te.classBounds!==void 0?new Float32Array(te.classBounds):void 0,fe=te!==void 0&&te.inverted!==void 0&&te.inverted,_e=s.AttributeBuffer.range(J),ye=this._colorLUT.leafColorCount,re=this._colorLUT.leafColorOffset,be=ee===0?void 0:this._bufferResolver.resolve(X.leafLayers[1].colors,H,this._normalization,this._bufferResolver.constBufferCallback(0));this._geometry.leafNodeColors[ee]=x.GeometryCreation.createLeafNodeColors(this._intermediaries.topology,J,re,ye,_e,this._colorLUT.unmodifiedColorIndex,ne,fe,be),this._geometry.altered.alter("leafNodeColors")}this._intermediaries.aggregatedColors===void 0&&(this._intermediaries.aggregatedColors=J),n.auxiliaries.logPerformanceStopIf(W._debug,q,void 0,k.PERF_LOG_INDENT)}else n.auxiliaries.logPerformanceStopIf(W._debug,q,"skipped",k.PERF_LOG_INDENT)},W.prototype.createLayout=function(H,q,X,Y,J,ee,te){var ne=P.Layout.createLayout(H,q,X.layout,Y,J,ee,te);return X.layout.cascade!==void 0&&X.layout.cascade?A.LayoutCascade.applyCascade(H,ne):ne},W.prototype.updateLabels=function(){var H=this._intermediaries.innerNodeLabels,q=this._intermediaries.leafLabels;if(this._geometry!==void 0&&this._geometry.valid&&!this._skipLabeling&&q!==void 0&&H!==void 0){if(this._labelsChanged&&(this._renderer.updateLabels(H,q),this._renderer.updateLeafLabelBackgrounds(q),this._renderer.updatePoints(q)),this._renderer.camera.altered||this._labelsChanged){var X=a.AdaptiveLabelPlacement.adaptPositionToPreventOverlapGreedy(q,this._renderer.camera);X.visibility||X.positioning?(this._renderer.updateLeafLabelBackgrounds(q),this._renderer.updateLeafLabelPass()):this._renderer.frameSizeAltered()&&this._renderer.updateLeafLabelBackgrounds(q),X.visibility&&this._renderer.updatePoints(q)}this._labelsChanged&&(this._labelsChanged=!1)}},W.prototype.update=function(){var H=this;if(this._configuration===void 0||this._configuration.topology===void 0)return this._geometry.initialized&&this._geometry.uninitialize(),!0;var q=this._configuration,X=q.altered,Y=W._debug;if(!X.any)return!1;i(q.topology!==void 0,"Valid topology expected");var J=X.layout.sort;n.auxiliaries.logPerformanceStartIf(Y,"tree");var ee=this._intermediaries.topology;X.topology&&(n.auxiliaries.logIf(Y,n.auxiliaries.LogLevel.Debug,"vis topology changed |"),ee.initialize(q.topology.format,q.topology.semantics,q.topology.edges),this._intermediaries.aggregatedWeights=void 0,this._intermediaries.accessorySpaces=void 0,this._intermediaries.labelRects=void 0,this._intermediaries.labelPaddingSpaces=void 0,this._intermediaries.layout=void 0,this._intermediaries.prunedNodes=void 0,this._geometry.initialized&&this._geometry.uninitialize(),this._geometry.initialize(ee),J=!0),n.auxiliaries.logPerformanceStopIf(Y,"tree",void 0,k.PERF_LOG_INDENT),this._normalization=s.AttributeBuffer.createNormalization(ee,q),n.auxiliaries.logPerformanceStartIf(Y,"weights");var te=this._intermediaries.aggregatedWeights;(te===void 0||X.layout.weight)&&(te=this._intermediaries.aggregatedWeights=this._bufferResolver.resolve(q.layout.weight,q,this._normalization),this._intermediaries.layout=void 0,J=!0,this._decodedAreas=void 0),n.auxiliaries.logPerformanceStopIf(Y,"weights",void 0,k.PERF_LOG_INDENT),n.auxiliaries.logPerformanceStartIf(Y,"sort"),J&&(L.NodeSort.sortNodes(ee,this._normalization,te,q),this._intermediaries.layout=void 0),n.auxiliaries.logPerformanceStopIf(Y,"sort",void 0,k.PERF_LOG_INDENT),n.auxiliaries.logPerformanceStartIf(Y,"layout");var ne=this._intermediaries.layout,fe=this._intermediaries.accessorySpaces,_e=this._intermediaries.labelRects,ye=this._intermediaries.labelPaddingSpaces,re=this._intermediaries.prunedNodes;(ne===void 0||X.layout.any)&&(fe=this._intermediaries.accessorySpaces=new Array(ee.numberOfInnerNodes),_e=this._intermediaries.labelRects=new Array(ee.numberOfInnerNodes),ye=this._intermediaries.labelPaddingSpaces=new Array(ee.numberOfInnerNodes),re=this._intermediaries.prunedNodes=new Array(ee.numberOfNodes),ne=this._intermediaries.layout=this.createLayout(ee,te,q,fe,_e,ye,re),this._geometry.innerNodeLayouts=void 0,this._geometry.leafNodeLayouts=void 0),n.auxiliaries.logPerformanceStopIf(Y,"layout",void 0,k.PERF_LOG_INDENT),n.auxiliaries.logPerformanceStartIf(Y,"base geometry"),this._geometry.innerNodeIndices===void 0&&(this._geometry.innerNodeIndices=c.NodeIndices.innerNodes(ee)),this._geometry.leafNodeIndices===void 0&&(this._geometry.leafNodeIndices=c.NodeIndices.leafNodes(ee)),this._geometry.innerNodeLayouts===void 0&&(this._geometry.innerNodeLayouts=x.GeometryCreation.createParentLayoutBuffer(ee,ne,this._configuration.geometry)),this._geometry.leafNodeLayouts===void 0&&(this._geometry.leafNodeLayouts=x.GeometryCreation.createLeafLayoutBuffer(ee,ne,this._configuration.geometry));var be=q.geometry.leafLayers===void 0?0:q.geometry.leafLayers.length;if(this._geometry.leafNodeHeights.length=Math.max(be,1),this._geometry.leafNodeColors.length=1,this._geometry.leafNodeAreaScales.length=1,n.auxiliaries.logPerformanceStopIf(Y,"base geometry",void 0,k.PERF_LOG_INDENT),this._geometry.leafNodeAreaScales[0]===void 0){var Ae=this._bufferResolver.resolve(this._configuration.geometry.leafLayers[0].areaScale,q,this._normalization,this._bufferResolver.constBufferCallback(1));this._geometry.leafNodeAreaScales[0]=x.GeometryCreation.createLeafAreaScalesBuffer(ee,Ae)}n.auxiliaries.logPerformanceStartIf(Y,"color table");var pe=function(gt,Dr){switch(Dr){case o.Color.Space.CMYK:var st=gt.fill(1,gt.length,5);return new o.Color().fromCMYK(st[0],st[1],st[2],st[3],st[4]);case o.Color.Space.LAB:return st=gt.fill(1,gt.length,4),new o.Color().fromLAB(st[0],st[1],st[2],st[3]);case o.Color.Space.HSL:return st=gt.fill(1,gt.length,4),new o.Color().fromHSL(st[0],st[1],st[2],st[3]);case"hex":return new o.Color().fromHex(gt);default:case o.Color.Space.RGB:return st=gt.fill(1,gt.length,4),new o.Color().fromRGB(st[0],st[1],st[2],st[3])}},Pe=function(gt,Dr,st){if(gt===void 0||Dr===void 0)return st;var Nr=gt.find(function(Un){return Un.identifier===Dr.split(":")[1]});return Nr===void 0?st:Nr.value!==void 0?pe(Nr.value,Nr.space):function(Un,lc){for(var ra=new Array(Un.length),Vi=0;Vi<ra.length;++Vi)ra[Vi]=pe(Un[Vi],lc);return ra}(Nr.values,Nr.space)};if(q.altered.colors){var xe=Pe(q.colors,q.geometry.emphasis?q.geometry.emphasis.color:void 0,new o.Color),Re=Pe(q.colors,q.geometry.auxiliary,new o.Color),he=Pe(q.colors,q.geometry.parentLayer.colorMap,[new o.Color,new o.Color]),Se=Pe(q.colors,q.geometry.leafLayers[0].colorMap,[new o.Color,new o.Color]);this._colorLUT=new f.ColorTable(xe,Re,he,Se),this._geometry.colorTable&&this._geometry.colorTable.length===this._colorLUT.bits.length||(this._geometry.altered.alter("colorTableLength"),this._renderer.invalidate()),this._geometry.colorTable=this._colorLUT.bits}n.auxiliaries.logPerformanceStopIf(Y,"color table",void 0,k.PERF_LOG_INDENT),this.applyInnerNodeColorMapping(q),this.applyLeafNodeColorMapping(q),n.auxiliaries.logPerformanceStartIf(Y,"heights");var Ce=this._geometry.heightScale;if(Ce===void 0||X.geometry.heightScale){var Te=q.geometry.heightScale;Ce=Te!==void 0&&Te in m.ConfigurationAids.HeightScaleApproach?this._geometry.heightScale=m.ConfigurationAids.heightScale(ee,Te):this._geometry.heightScale=Te!==void 0?Te:m.ConfigurationAids.heightScale(ee,m.ConfigurationAids.HeightScaleApproach.SomethingInverseSqrt),this._geometry.altered.alter("heightScale")}q.altered.geometry.levitate&&(this._geometry.levitate=q.geometry.levitate,this._geometry.altered.alter("levitate")),q.altered.geometry.outlineWidth&&(this._geometry.outlineWidth=q.geometry.outlineWidth,this._geometry.altered.alter("outlineWidth")),q.geometry.emphasis&&q.altered.geometry.emphasis.outlineWidth&&(this._geometry.emphasisOutlineWidth=q.geometry.emphasis.outlineWidth,this._geometry.altered.alter("emphasisOutlineWidth"));var Ie=this._intermediaries.aggregatedHeights,Me=this._intermediaries.heights;if(be>0&&q.geometry.leafLayers!==void 0){if(X.geometry.heights||X.buffers||X.bufferViews||Ie===void 0||Me===void 0){this._intermediaries.aggregatedHeights=new Float32Array(ee.numberOfNodes),Ie=this._intermediaries.aggregatedHeights,this._intermediaries.heights=new Array(be),Me=this._intermediaries.heights;for(var Ue=void 0,Ne=function(gt){var Dr=q.geometry.leafLayers[gt];Me[gt]=Ye._bufferResolver.resolve(Dr.height!==void 0?Dr.height:"",q,Ye._normalization,Ye._bufferResolver.constBufferCallback());var st=x.GeometryCreation.createLayerHeightBuffer(ee,Me[gt],Ue,Ye._configuration.geometry);Ue=st,Ye._geometry.leafNodeHeights[gt]=st,ee.nodesDo(function(Nr){Ie[Nr.index]+=Me[gt][Nr.index]})},Ye=this,ke=0;ke<be;++ke)Ne(ke);this._decodedBaseHeights=void 0,this._decodedDeltaHeights=void 0,this._geometry.altered.alter("leafNodeHeights")}}else Ie=this._intermediaries.aggregatedHeights=void 0,Me=this._intermediaries.heights=new Array(0),this._geometry.leafNodeHeights[0]=x.GeometryCreation.createEmptyLayerHeightBuffer(ee);if(n.auxiliaries.logPerformanceStopIf(Y,"heights",void 0,k.PERF_LOG_INDENT),this._renderer instanceof p.AnimationRenderer){if(n.auxiliaries.logPerformanceStartIf(Y,"animation"),X.animations||X.geometry.heights||X.buffers||X.bufferViews)for(var He=this._colorLUT.leafColorCount,et=void 0,Le=0;Le<2;Le++){this._animations[Le].reset();var Ke=h.AnimationCreation.createAreaBuffers(Le,q,this._normalization,ee,this._bufferResolver),U=h.AnimationCreation.getAreaEasing(Le,q),C=h.AnimationCreation.getAreaDurations(Le,q),M=h.AnimationCreation.getAreaDelay(Le,q),z=h.AnimationCreation.getAreaDelaySpread(Le,q),V=h.AnimationCreation.getAreaOrder(Le,q),j=h.AnimationCreation.createHeightBuffers(Le,q,this._normalization,ee,this._bufferResolver,et),Z=h.AnimationCreation.getHeightEasing(Le,q),se=h.AnimationCreation.getHeightDurations(Le,q),de=h.AnimationCreation.getHeightDelay(Le,q),ve=h.AnimationCreation.getHeightDelaySpread(Le,q),Oe=h.AnimationCreation.getHeightOrder(Le,q),Fe=h.AnimationCreation.createColorBuffers(Le,q,this._normalization,ee,this._bufferResolver,this._colorLUT),It=h.AnimationCreation.getColorEasing(Le,q),Mt=h.AnimationCreation.getColorDurations(Le,q),xn=h.AnimationCreation.getColorDelay(Le,q),Jo=h.AnimationCreation.getColorDelaySpread(Le,q),Gi=h.AnimationCreation.getColorOrder(Le,q),ic=h.AnimationCreation.createDelayBuffers(ee,de,ve,He,se,Oe,j,Fe,Ke),oc=h.AnimationCreation.createDelayBuffers(ee,M,z,He,C,V,Ke,Fe,Ke),ac=h.AnimationCreation.createDelayBuffers(ee,xn,Jo,He,Mt,Gi,j,Fe,Ke);this._animations[Le].areas=Ke,this._animations[Le].areaEasing=h.AnimationCreation.convertEasing(U),this._animations[Le].areaDurations=C,this._animations[Le].areaDelays=oc,this._animations[Le].heights=j,this._animations[Le].heightEasing=h.AnimationCreation.convertEasing(Z),this._animations[Le].heightDurations=se,this._animations[Le].heightDelays=ic,this._animations[Le].colors=Fe,this._animations[Le].colorEasing=h.AnimationCreation.convertEasing(It),this._animations[Le].colorDurations=Mt,this._animations[Le].colorDelays=ac,et=this._geometry.leafNodeHeights[Le]}n.auxiliaries.logPerformanceStopIf(Y,"animation",void 0,k.PERF_LOG_INDENT)}n.auxiliaries.logPerformanceStartIf(Y,"filter");var zn=q.geometry.aggregation,_i=this._intermediaries.aggregationMask;if(X.geometry.aggregation||_i===void 0)if(zn!==void 0){var Fs=this._bufferResolver.resolve(zn.buffer,q,this._normalization,this._bufferResolver.constBufferCallback(1)),sc=zn.valueThreshold!==void 0?zn.valueThreshold:1,uc=zn.depthThreshold!==void 0?zn.depthThreshold:1;this._intermediaries.aggregationMask=l.Aggregation.createAggregationMask(ee,te,Fs,sc,uc,re),_i=this._intermediaries.aggregationMask,this._geometry.innerNodeDrawDispatch=void 0,this._geometry.leafNodeDrawDispatch=void 0}else this._intermediaries.aggregationMask=l.Aggregation.createEmptyAggregationMask(ee),_i=this._intermediaries.aggregationMask,this._geometry.innerNodeDrawDispatch=void 0,this._geometry.leafNodeDrawDispatch=void 0;if(n.auxiliaries.logPerformanceStopIf(Y,"filter",void 0,k.PERF_LOG_INDENT),n.auxiliaries.logPerformanceStartIf(Y,"draw dispatch setup"),(this._geometry.innerNodeDrawDispatch===void 0||X.geometry.parentLayer)&&(this._geometry.innerNodeDrawDispatch=b.DrawDispatchComputation.computeParentDrawDispatch(ee,_i,q.geometry.parentLayer.showRoot)),this._geometry.leafNodeDrawDispatch===void 0&&(this._geometry.leafNodeDrawDispatch=b.DrawDispatchComputation.computeLeafDrawDispatch(ee,_i)),n.auxiliaries.logPerformanceStopIf(Y,"draw dispatch setup",void 0,k.PERF_LOG_INDENT),n.auxiliaries.logPerformanceStartIf(Y,"label creation"),(this._intermediaries.leafLabels===void 0||this._intermediaries.innerNodeLabels===void 0||q.altered.labels)&&q.labels!==void 0)if(q.labels.names!==void 0){var ea=s.AttributeBuffer.create(ee,this._normalization,q.labels.names,q);ea!==void 0&&(this._intermediaries.leafLabels=S.LabelManagement.fillLeafLabelArrayByExplicitNames(ee,ea,this._geometry.heightScale,this._geometry.leafNodeLayouts,this._geometry.leafNodeHeights[this._geometry.leafLayerCount-1]),this._intermediaries.innerNodeLabels=S.LabelManagement.fillInnerNodeLabelArrayOnAccessoryByExplicitNames(ee,ea,this._intermediaries.accessorySpaces),this._labelsChanged=!0,this._renderer.invalidate())}else{var ta=S.LabelManagement.createLabelSelection(ee,te,Ie,this._intermediaries.aggregatedColors,new Uint8Array(ee.numberOfNodes),new Set,q.labels.innerNodeLayerRange,q.labels.numTopInnerNodes,q.labels.numTopWeightNodes,q.labels.numTopHeightNodes,q.labels.numTopColorNodes),js=q.labels.callback||this._nameRequestCallback;js&&js(ta,function(gt){gt.forEach(function(Dr,st,Nr){if(Dr!==void 0){var Un=Dr.replace(/\uff0f/g,"/");gt.set(st,Un)}}),H._intermediaries.innerNodeLabels=S.LabelManagement.fillInnerNodeLabelArrayOnAccessory(ee,gt,ta,H._intermediaries.accessorySpaces),H._intermediaries.leafLabels=S.LabelManagement.fillLeafLabelArray(ee,gt,ta,H._geometry.heightScale,H._geometry.leafNodeLayouts,H._geometry.leafNodeHeights[H._geometry.leafLayerCount-1]),H._labelsChanged=!0,H._renderer.initialized&&H._renderer.invalidate()})}return n.auxiliaries.logPerformanceStopIf(Y,"label creation",void 0,k.PERF_LOG_INDENT),q.altered.reset(),!0},W.prototype.prepare=function(){n.auxiliaries.logPerformanceStartIf(W._debug,"label placement"),this.updateLabels(),n.auxiliaries.logPerformanceStopIf(W._debug,"label placement",void 0,k.PERF_LOG_INDENT)},W.prototype.nodeIndexById=function(H){return this._intermediaries.topology.leafNodeIndexById(H)||this._intermediaries.topology.innerNodeIndexById(H)},W.prototype.decodedMetricDataDelta=function(H,q,X){X===void 0&&(X=!1);var Y=this.getNodeIndexFromId(H,q);if(Y!==void 0){this.resolveMetricBuffers();var J=this._decodedBaseHeights[Y],ee=this._decodedDeltaHeights&&this._decodedDeltaHeights[Y],te=this._heightChange&&this._heightChange[Y];return te===void 0||ee===void 0?ee=0:X&&te>0||!X&&te<=0?ee*=-1:J+=ee,{color:{value:this._decodedColors[Y]},area:{value:this._decodedAreas[Y]},height:{value:J,delta:ee}}}},W.prototype.decodedMetricDataCompareValue=function(H,q){var X=this.getNodeIndexFromId(H,q);if(X!==void 0){this.resolveMetricBuffers();var Y,J,ee=this._decodedBaseHeights&&this._decodedBaseHeights[X],te=this._decodedDeltaHeights&&this._decodedDeltaHeights[X],ne=this._heightChange&&this._heightChange[X];if(ee!==void 0)return ne===void 0||te===void 0?(Y=ee,J=ee):ne>0?(Y=ee+te,J=ee):(Y=ee,J=ee+te),{color:{value:this._decodedColors[X]},area:{value:this._decodedAreas[X]},height:{value:Y,compareValue:J}}}},Object.defineProperty(W.prototype,"renderer",{get:function(){return this._renderer},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"configuration",{get:function(){return this._configuration},set:function(H){this._configuration=H},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"skipLabeling",{set:function(H){this._skipLabeling=H,this._renderer.skipInnerLabelPass=H,this._renderer.skipLeafLabelPass=H,this._skipLabeling||(this.updateLabels(),this._renderer.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"skipInnerLabeling",{set:function(H){this._skipInnerLabeling=H,this._renderer.skipInnerLabelPass=H,this._skipInnerLabeling||(this.updateLabels(),this._renderer.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"skipLeafLabeling",{set:function(H){this._skipLeafLabeling=H,this._renderer.skipLeafLabelPass=H,this._skipLeafLabeling||(this.updateLabels(),this._renderer.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"nameRequest",{set:function(H){this._nameRequestCallback=H},enumerable:!1,configurable:!0}),W._debug=!1,W}();t.Visualization=N},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationCreation=void 0;var n=r(0),o=r(12),i=r(1),h=r(13),g=n.auxiliaries.assert,p=function(){function v(){}return v.findAreaAnimation=function(d,c){return c.animations.find(function(a){return a.layer===d&&a.areaScale!==void 0})},v.findHeightAnimation=function(d,c){return c.animations.find(function(a){return a.layer===d&&a.height!==void 0})},v.findColorAnimation=function(d,c){return c.animations.find(function(a){return a.layer===d&&a.color!==void 0})},v.isAreaAnimated=function(d,c){return c.animations.findIndex(function(a){return a.layer===d})!==-1},v.isHeightAnimated=function(d,c){return c.animations.findIndex(function(a){return a.layer===d})!==-1},v.isColorAnimated=function(d,c){return c.animations.findIndex(function(a){return a.layer===d})!==-1},v.createAreaBuffers=function(d,c,a,l,s){var u=v.findAreaAnimation(d,c),f=Array();u!==void 0?f=u.height.buffers:c.geometry.leafLayers!==void 0&&c.geometry.leafLayers[d]!==void 0&&c.geometry.leafLayers[d].areaScale!==void 0&&(f=[c.geometry.leafLayers[d].areaScale,c.geometry.leafLayers[d].areaScale]);for(var m=Array(),y=0,b=f;y<b.length;y++){var E=b[y],x=s.resolve(E,c,a,s.constBufferCallback());m.push(h.GeometryCreation.createLeafAreaScalesBuffer(l,x))}return m},v.createHeightBuffers=function(d,c,a,l,s,u){var f=v.findHeightAnimation(d,c),m=Array();f!==void 0?m=f.height.buffers:c.geometry.leafLayers!==void 0&&c.geometry.leafLayers[d]!==void 0&&c.geometry.leafLayers[d].height!==void 0&&(m=[c.geometry.leafLayers[d].height,c.geometry.leafLayers[d].height]);for(var y=Array(),b=0,E=m;b<E.length;b++){var x=E[b],w=s.resolve(x,c,a,s.constBufferCallback());y.push(h.GeometryCreation.createLayerHeightBuffer(l,w,u,c.geometry))}return y},v.createColorBuffers=function(d,c,a,l,s,u){var f=v.findColorAnimation(d,c),m=Array();if(f!==void 0)m=f.color.buffers;else{if(c.geometry.leafLayers===void 0||c.geometry.leafLayers[d]===void 0||c.geometry.leafLayers[d].colors===void 0){var y=h.GeometryCreation.defaultLeafNodeColors(l,u.leafColorOffset);return[y,y]}m=[c.geometry.leafLayers[d].colors,c.geometry.leafLayers[d].colors]}for(var b=c.geometry,E=b.leafLayers[d].colorScheme,x=E!==void 0&&E.classBounds!==void 0?new Float32Array(E.classBounds):void 0,w=E!==void 0&&E.inverted!==void 0&&E.inverted,S=u.leafColorCount,P=u.leafColorOffset,A=d===0?void 0:s.resolve(b.leafLayers[d].colors,c,a,s.constBufferCallback(0)),L=Array(),k=0,D=m;k<D.length;k++){var N=D[k],W=s.resolve(N,c,a,s.constBufferCallback(0)),H=i.AttributeBuffer.range(W);L.push(h.GeometryCreation.createLeafNodeColors(l,W,P,S,H,u.unmodifiedColorIndex,x,w,A))}return L},v.getAreaDelaySpread=function(d,c){var a=v.findAreaAnimation(d,c);return a===void 0?0:a.areaScale.delaySpread},v.getHeightDelaySpread=function(d,c){var a=v.findHeightAnimation(d,c);return a===void 0?0:a.height.delaySpread},v.getColorDelaySpread=function(d,c){var a=v.findColorAnimation(d,c);return a===void 0?0:a.color.delaySpread},v.getAreaDelay=function(d,c){var a=v.findAreaAnimation(d,c);return a===void 0?0:a.areaScale.timestamps[0]},v.getHeightDelay=function(d,c){var a=v.findHeightAnimation(d,c);return a===void 0?0:a.height.timestamps[0]},v.getColorDelay=function(d,c){var a=v.findColorAnimation(d,c);return a===void 0?0:a.color.timestamps[0]},v.getAreaDurations=function(d,c){var a=v.findAreaAnimation(d,c);if(a===void 0)return[1];for(var l=a.areaScale.timestamps,s=Array(l.length-1),u=0;u<s.length;u++)s[u]=l[u+1]-l[u];return s},v.getHeightDurations=function(d,c){var a=v.findHeightAnimation(d,c);if(a===void 0)return[1];for(var l=a.height.timestamps,s=Array(l.length-1),u=0;u<s.length;u++)s[u]=l[u+1]-l[u];return s},v.getColorDurations=function(d,c){var a=v.findColorAnimation(d,c);if(a===void 0)return[1];for(var l=a.color.timestamps,s=Array(l.length-1),u=0;u<s.length;u++)s[u]=l[u+1]-l[u];return s},v.getAreaEasing=function(d,c){var a=v.findAreaAnimation(d,c);return a===void 0?"linear":a.areaScale.easing},v.getHeightEasing=function(d,c){var a=v.findHeightAnimation(d,c);return a===void 0?"linear":a.height.easing},v.getColorEasing=function(d,c){var a=v.findColorAnimation(d,c);return a===void 0?"linear":a.color.easing},v.convertEasing=function(d){switch(d){case"linear":return o.AnimationData.Easing.LINEAR;case"smoothstep":return o.AnimationData.Easing.SMOOTHSTEP;default:return g(!1,"Easing conversion for this easing not implemented."),o.AnimationData.Easing.UNIMPLEMENTED}},v.getAreaOrder=function(d,c){var a=v.findAreaAnimation(d,c);return a===void 0?"synchronous":a.areaScale.order},v.getHeightOrder=function(d,c){var a=v.findHeightAnimation(d,c);return a===void 0?"synchronous":a.height.order},v.getColorOrder=function(d,c){var a=v.findColorAnimation(d,c);return a===void 0?"synchronous":a.color.order},v.createDelayBuffers=function(d,c,a,l,s,u,f,m,y){for(var b=new Array(s.length),E=0;E<b.length;E++)b[E]=new Float32Array(d.numberOfLeafNodes);return u==="synchronous"?(b.forEach(function(x,w){var S=s.slice(0,w).reduce(function(A,L){return A+L},0),P=c+(w===0?0:S);x.fill(P)}),b):(u==="height"?(g(f!==void 0,"Can not create delay buffer ordered by height without a height buffer"),g(f.length>0,"Height buffers have to contain at least 1 element")):u==="height-change"?(g(f!==void 0,"Can not create delay buffer ordered by height-change without a height buffer"),g(f.length>1,"Height buffers have to contain at least 2 elements")):u==="color"?(g(m!==void 0,"Can not create delay buffer ordered by color without a color buffer"),g(m.length>0,"Color buffers have to contain at least 1 element")):u==="color-change"&&(g(m!==void 0,"Can not create delay buffer ordered by color without a color buffer"),g(m.length>1,"Color buffers have to contain at least 2 elements")),b.forEach(function(x,w){var S=new Array;u==="height"?d.forEachLeafNode(function(N){for(var W=N.index-d.numberOfInnerNodes,H=-1/0,q=0,X=f;q<X.length;q++){var Y=X[q];H=Math.max(H,Y[2*W+1])}S.push({value:H,index:W})}):u==="height-change"?d.forEachLeafNode(function(N){for(var W=N.index-d.numberOfInnerNodes,H=1/0,q=-1/0,X=0,Y=f;X<Y.length;X++){var J=Y[X];H=Math.min(H,J[2*W+1]),q=Math.max(q,J[2*W+1])}S.push({value:q-H,index:W})}):u==="color"?d.forEachLeafNode(function(N){for(var W=N.index-d.numberOfInnerNodes,H=-1/0,q=0,X=m;q<X.length;q++){var Y=X[q];H=Math.max(H,Y[W])}S.push({value:H,index:W})}):u==="color-change"?d.forEachLeafNode(function(N){for(var W=N.index-d.numberOfInnerNodes,H=1/0,q=-1/0,X=0,Y=m;X<Y.length;X++){var J=Y[X];H=Math.min(H,J[W]),q=Math.max(q,J[W])}S.push({value:q-H,index:W})}):g(!1,"Unimplemented order."),S.sort(function(N,W){return W.value-N.value});var P=s.slice(0,w).reduce(function(N,W){return N+W},0),A=c+(w===0?0:P);if(l===void 0)S.forEach(function(N,W){var H=W/S.length*a;x[N.index]=A+H+a*w});else{var L=S[0].value,k=S[S.length-1].value,D=L-k;S.forEach(function(N){var W=Math.floor((L-N.value)/(D+.01)*l)*(a/l);x[N.index]=A+W+a*w})}}),b)},v}();t.AnimationCreation=p},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NodeColors=void 0;var n=function(){function o(){}return o.innerNodes=function(i,h,g){var p=new Uint8Array(i.numberOfInnerNodes);return i.forEachInnerNode(function(v){p[v.index]=h+v.depth%g}),p},o}();t.NodeColors=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NodeEmphases=void 0;var n=r(23),o=function(){function i(){}return i.innerNodes=function(h,g,p){var v=new Uint8Array(h.numberOfInnerNodes);return h.forEachInnerNode(function(d){p&&p.has(d.id)?v[d.index]=n.Geometry.Emphasis.Highlight:g&&g.has(d.id)?v[d.index]=n.Geometry.Emphasis.Outline:v[d.index]=n.Geometry.Emphasis.None}),v},i.leafNodes=function(h,g,p){var v=new Uint8Array(h.numberOfLeafNodes);return h.forEachLeafNode(function(d){var c=d.index-h.numberOfInnerNodes;p&&p.has(d.id)?v[c]=n.Geometry.Emphasis.Highlight:g&&g.has(d.id)?v[c]=n.Geometry.Emphasis.Outline:v[c]=n.Geometry.Emphasis.None}),v},i}();t.NodeEmphases=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ObjExport=void 0;var n=r(0),o=n.gl_matrix_extensions.v3,i=function(){function h(){}return h.inner=function(g,p,v,d){var c=g.innerNodeLayouts,a=h.SLICE_STENCIL_COMPENSATION*d,l=n.vec3.fromValues(c[4*p+0],a,c[4*p+1]),s=n.vec3.fromValues(c[4*p+2],0,c[4*p+3]),u=Array(l,n.vec3.add(o(),l,n.vec3.fromValues(s[0],s[1],0)),n.vec3.add(o(),l,s),n.vec3.add(o(),l,n.vec3.fromValues(0,s[1],s[2]))),f=h.VERTEX_PRECISION,m="g inner-"+p+" slice-"+d+`
`;return m+="v "+u[0][0].toFixed(f)+" "+u[0][1].toFixed(f)+" "+u[0][2].toFixed(f)+`
`,m+="v "+u[1][0].toFixed(f)+" "+u[1][1].toFixed(f)+" "+u[1][2].toFixed(f)+`
`,m+="v "+u[2][0].toFixed(f)+" "+u[2][1].toFixed(f)+" "+u[2][2].toFixed(f)+`
`,m+="v "+u[3][0].toFixed(f)+" "+u[3][1].toFixed(f)+" "+u[3][2].toFixed(f)+`
`,m+="f "+(v+0)+" "+(v+1)+" "+(v+2)+`
`,m+="f "+(v+2)+" "+(v+3)+" "+(v+0)+`
`},h.leaf=function(g,p,v,d){var c=g.leafNodeLayouts,a=g.leafNodeHeights[d],l=g.heightScale/255,s=n.vec3.fromValues(c[4*p+0],a[2*p+0]*l,c[4*p+1]),u=n.vec3.fromValues(c[4*p+2],(a[2*p+1]-a[2*p+0])*l,c[4*p+3]),f=Array(n.vec3.add(o(),s,n.vec3.fromValues(0,0,0)),n.vec3.add(o(),s,n.vec3.fromValues(u[0],0,0)),n.vec3.add(o(),s,n.vec3.fromValues(u[0],0,u[2])),n.vec3.add(o(),s,n.vec3.fromValues(0,0,u[2])),n.vec3.add(o(),s,n.vec3.fromValues(0,u[1],0)),n.vec3.add(o(),s,n.vec3.fromValues(u[0],u[1],0)),n.vec3.add(o(),s,n.vec3.fromValues(u[0],u[1],u[2])),n.vec3.add(o(),s,n.vec3.fromValues(0,u[1],u[2]))),m=h.VERTEX_PRECISION;if(u[1]<=0)return["",0];var y="g leaf-"+p+" layer-"+d+`
`;y+="v "+f[0][0].toFixed(m)+" "+f[0][1].toFixed(m)+" "+f[0][2].toFixed(m)+`
`,y+="v "+f[1][0].toFixed(m)+" "+f[1][1].toFixed(m)+" "+f[1][2].toFixed(m)+`
`,y+="v "+f[2][0].toFixed(m)+" "+f[2][1].toFixed(m)+" "+f[2][2].toFixed(m)+`
`,y+="v "+f[3][0].toFixed(m)+" "+f[3][1].toFixed(m)+" "+f[3][2].toFixed(m)+`
`,y+="v "+f[4][0].toFixed(m)+" "+f[4][1].toFixed(m)+" "+f[4][2].toFixed(m)+`
`,y+="v "+f[5][0].toFixed(m)+" "+f[5][1].toFixed(m)+" "+f[5][2].toFixed(m)+`
`,y+="v "+f[6][0].toFixed(m)+" "+f[6][1].toFixed(m)+" "+f[6][2].toFixed(m)+`
`,y+="v "+f[7][0].toFixed(m)+" "+f[7][1].toFixed(m)+" "+f[7][2].toFixed(m)+`
`;for(var b=v,E=0,x=[[5,6,4],[4,6,7],[1,5,0],[0,5,4],[3,7,2],[2,7,6],[2,6,1],[1,6,5],[0,4,3],[3,4,7]];E<x.length;E++){var w=x[E];y+="f "+(b+w[0])+" "+(b+w[1])+" "+(b+w[2])+`
`}return[y,h.VERTICES_PER_LEAF_NODE]},h.blob=function(g,p,v){n.auxiliaries.assert(g.valid,"expected geometry to be valid"),n.auxiliaries.assert(g.innerNodeDrawDispatch!==void 0,"expected geometry to have valid inner node draw dispatch"),n.auxiliaries.assert(g.leafNodeDrawDispatch!==void 0,"expected geometry to have valid leaf node draw dispatch");var d=g.innerNodeDrawDispatch,c=g.leafNodeDrawDispatch,a=p!==void 0&&p.length>0,l=new Array,s=0;if(a)for(var u=0,f=p;u<f.length;u++){var m=f[u];s=d.filteredCount(m),l=l.concat(d.filtered(m))}else s=d.unfilteredCount(),l=l.concat(d.unfiltered());var y=v!==void 0&&v.length>0,b=new Array(0),E=0;if(y)for(var x=0,w=v;x<w.length;x++)m=w[x],E+=c.filteredCount(m),b=b.concat(c.filtered(m));else E=c.unfilteredCount(),b=b.concat(c.unfiltered());for(var S=h.VERTICES_PER_INNER_NODE*s,P=h.VERTICES_PER_LEAF_NODE*g.leafLayerCount*E,A="# vertices "+S+`
# faces `+2*s+`
# objects `+s+`
`,L="# vertices "+P+`
# faces `+10*E+`
# objects `+E+`
`,k=1,D=d.slices!==void 0?d.slices:[0,0],N=D.length/2,W=function(ee){for(var te=N-D.findIndex(function(fe,_e){return fe<=l[ee]&&_e%2==0})/2,ne=l[ee];ne<l[ee]+l[ee+1];++ne)A+=H.inner(g,ne,k,te),k+=h.VERTICES_PER_INNER_NODE},H=this,q=0;q<l.length;q+=2)W(q);for(q=0;q<b.length;q+=2)for(var X=b[q];X<b[q]+b[q+1];++X)for(var Y=0;Y<g.leafLayerCount;++Y){var J=this.leaf(g,X,k,Y);L+=J[0],k+=J[1]}return new Blob([`# seerene(tm) treemap

# inner nodes `+s+(a?" (filtered)":"")+`
# leaf nodes `+E+(y?" (filtered)":"")+`
# vertices `+S+" (inner) + "+P+` (leaf)

`+A+`
`+L],{type:"text/plain"})},h.VERTICES_PER_INNER_NODE=4,h.VERTICES_PER_LEAF_NODE=8,h.SLICE_STENCIL_COMPENSATION=1e-4,h.VERTEX_PRECISION=8,h}();t.ObjExport=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NodeIndices=void 0;var n=r(0),o=function(){function i(){}return i.innerNodes=function(h){var g=new Uint8Array(4*h.numberOfInnerNodes);return h.forEachInnerNode(function(p){var v=p.index,d=n.vec4.create();n.gl_matrix_extensions.encode_uint32_to_rgba8(d,p.index),g[4*v+0]=d[0],g[4*v+1]=d[1],g[4*v+2]=d[2],g[4*v+3]=d[3]}),g},i.leafNodes=function(h){var g=new Uint8Array(4*h.numberOfLeafNodes),p=h.numberOfInnerNodes;return h.forEachLeafNode(function(v){var d=v.index-p,c=n.vec4.create();n.gl_matrix_extensions.encode_uint32_to_rgba8(c,v.index),g[4*d+0]=c[0],g[4*d+1]=c[1],g[4*d+2]=c[2],g[4*d+3]=c[3]}),g},i}();t.NodeIndices=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AdaptiveLabelPlacement=t.PenaltyFunction=void 0;var n,o=r(0),i=o.auxiliaries.assert,h=o.gl_matrix_extensions.v2,g=r(0),p=r(70),v=r(71),d=r(25),c=r(24);(function(l){l.leafLabelsTreemap=function(s,u,f,m){var y=0;switch(f){case c.RelativeLabelPosition.Type.UpperRight:y=0*m;break;case c.RelativeLabelPosition.Type.LowerRight:case c.RelativeLabelPosition.Type.UpperLeft:y=1*m;break;case c.RelativeLabelPosition.Type.LowerLeft:y=3*m;break;case c.RelativeLabelPosition.Type.Hidden:y=60*m;break;default:i(!1,"No valid relative position type, given "+f)}return 15*u+.3*y}})(n=t.PenaltyFunction||(t.PenaltyFunction={}));var a=function(){function l(){}return l.getNDCExtentForLeafLabel=function(s,u){i(u.width!==0&&u.height!==0,"camera viewport is invalid: "+u.width+" "+u.height);var f=s.label.extent[0]/u.width,m=s.label.extent[1]/u.height;return o.vec2.fromValues(f,m)},l.placementFor=function(s,u){var f=o.vec2.sub(h(),s.origin,u),m=!0,y=g.Label.Alignment.Left,b=g.Label.LineAnchor.Bottom;switch(s.position){case c.RelativeLabelPosition.Type.UpperRight:break;case c.RelativeLabelPosition.Type.LowerRight:b=g.Label.LineAnchor.Top;break;case c.RelativeLabelPosition.Type.UpperLeft:y=g.Label.Alignment.Right;break;case c.RelativeLabelPosition.Type.LowerLeft:b=g.Label.LineAnchor.Top,y=g.Label.Alignment.Right;break;case c.RelativeLabelPosition.Type.Hidden:m=!1;break;default:i(!1,"No valid type for relative label position, given"+f)}return{offset:f,alignment:y,lineAnchor:b,display:m}},l.createCollisionGraph=function(s,u){u||(u=o.vec2.fromValues(1,1));for(var f=[],m=0;m<s.length;m++){f.push([]);for(var y=0,b=s[m];y<b.length;y++)b[y],f[m].push([])}for(var E=new p.Index2D;!E.end(s);E.next(s))for(var x=E.element(f),w=E.element(s),S=new p.Index2D;!S.end(s);S.next(s))if(E.outer!==S.outer){var P=S.element(s);if(w.paddedOverlaps(P,u)){var A=w.paddedOverlapArea(P,u);x.push({index:S.outer,position:S.inner,overlapArea:A});var L=E.element(f).length;i(L>0,"Size expected to be greater than zero, given "+L.length)}}return f},l.computeLabelAreas=function(s,u,f){for(var m=[],y=0,b=s;y<b.length;y++){var E=b[y];m.push([]);for(var x=this.getNDCExtentForLeafLabel(E,f),w=0,S=u;w<S.length;w++){var P=S[w],A=c.RelativeLabelPosition.labelOrigin(P,E.pointLocation,x);m[m.length-1].push(new v.LabelArea(A,x,P))}}return m},l.getRandomInt=function(s){return Math.floor(Math.random()*Math.floor(s))},l.randomIndexExcept=function(s,u){var f=this.getRandomInt(u-1);return f===s?u-1:f},l.randomStartLabelAreas=function(s){for(var u=[],f=0,m=s;f<m.length;f++){var y=m[f];u.push(this.getRandomInt(y.length))}return u},l.computePenalty=function(s,u,f,m,y){if(s.extent[0]===0||s.extent[1]===0)return 0;for(var b=0,E=0,x=0,w=u;x<w.length;x++){var S=w[x];y[S.index]===S.position&&(b+=S.overlapArea,++E)}return m(E,b/=s.area(),s.position,f)},l.simulatedAnnealing=function(s,u,f,m){for(var y=[c.RelativeLabelPosition.Type.UpperRight,c.RelativeLabelPosition.Type.UpperLeft,c.RelativeLabelPosition.Type.LowerLeft,c.RelativeLabelPosition.Type.LowerRight,c.RelativeLabelPosition.Type.Hidden],b=this.computeLabelAreas(s,y,m),E=this.randomStartLabelAreas(b),x=this.createCollisionGraph(b,f),w=5*s.length,S=20*s.length,P=.91023922662,A=0,L=0,k=0;;){var D=this.getRandomInt(s.length),N=E[D],W=this.randomIndexExcept(N,b[D].length),H=this.computePenalty(b[D][N],x[D][N],s[D].priority,u,E)-this.computePenalty(b[D][W],x[D][W],s[D].priority,u,E),q=Math.exp(H/P),X=Math.max(0,Math.min(q,1)),Y=Math.random()<X;if((H>0||Y)&&(E[D]=W,++L),++k,L>w||k>S){if(L===0||A===50)break;P*=.9,L=0,k=0,++A}}for(var J=0;J<s.length;++J)s[J].placement=this.placementFor(b[J][E[J]],s[J].pointLocation)},l.greedy=function(s,u,f,m){for(var y=[],b=[c.RelativeLabelPosition.Type.UpperRight,c.RelativeLabelPosition.Type.UpperLeft,c.RelativeLabelPosition.Type.LowerLeft,c.RelativeLabelPosition.Type.LowerRight,c.RelativeLabelPosition.Type.Hidden],E=0,x=s;E<x.length;E++){for(var w=x[E],S=this.getNDCExtentForLeafLabel(w,m),P=Number.POSITIVE_INFINITY,A=new v.LabelArea(o.vec2.create(),o.vec2.create(),c.RelativeLabelPosition.Type.LowerLeft),L=0,k=b;L<k.length;L++){for(var D=k[L],N=c.RelativeLabelPosition.labelOrigin(D,w.pointLocation,S),W=new v.LabelArea(N,S,D),H=0,q=0,X=0,Y=y;X<Y.length;X++){var J=Y[X];H+=W.paddedOverlapArea(J,f),q+=W.paddedOverlaps(J,f)?1:0}var ee=u(q,H/=W.area(),D,w.priority);ee<P&&(P=ee,A=W)}w.placement=this.placementFor(A,w.pointLocation),y.push(A)}},l.prepareLeafLabels=function(s,u){for(var f=[],m=0,y=s;m<y.length;m++){var b=y[m];if(b){var E=o.vec4.fromValues(b.position[0],b.position[1],b.position[2],1);o.vec4.transformMat4(E,E,u.viewProjection);var x=E[3],w=o.vec2.fromValues(E[0]/x,E[1]/x);f.push({label:b,pointLocation:w,priority:9*b.position[1]+1,placement:{offset:o.vec2.create(),alignment:b.alignment,lineAnchor:b.lineAnchor,display:!0}})}}return f},l.applyNewPlacements=function(s){for(var u=!1,f=!1,m=0,y=s;m<y.length;m++){var b=y[m],E=b.label.alignment!==b.placement.alignment,x=b.label.lineAnchor!==b.placement.lineAnchor;b.label.alignment=b.placement.alignment,b.label.lineAnchor=b.placement.lineAnchor;var w=b.placement.display?d.LabelManagement.leafLabelColor[3]:0;b.label.color.fromRGB(b.label.color.r,b.label.color.g,b.label.color.b,w),u=!!u||b.label.color.altered,f=!!f||E||x}return{visibility:u,positioning:f}},l.adaptPositionToPreventOverlapGreedy=function(s,u){var f=this.prepareLeafLabels(s,u);f.sort(function(y,b){return b.priority-y.priority});var m=o.vec2.fromValues(1,1);return this.greedy(f,n.leafLabelsTreemap,m,u),this.applyNewPlacements(f)},l.adaptPositionToPreventOverlapSimulatedAnnealing=function(s,u){var f=this.prepareLeafLabels(s,u),m=o.vec2.fromValues(1,1);return this.simulatedAnnealing(f,n.leafLabelsTreemap,m,u),this.applyNewPlacements(f)},l}();t.AdaptiveLabelPlacement=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Index2D=void 0;var n=function(){function o(){this.outer=0,this.inner=0}return o.prototype.next=function(i){++this.inner,this.inner===i[this.outer].length&&(++this.outer,this.inner=0)},o.prototype.end=function(i){return this.outer===i.length},o.prototype.element=function(i){return i[this.outer][this.inner]},o}();t.Index2D=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.LabelArea=void 0;var n=r(0),o=n.gl_matrix_extensions.v2,i=r(24),h=function(){function g(p,v,d){this.origin=p,this.extent=v,this.position=d}return g.prototype.areBothPositionsHidden=function(p){return this.position===i.RelativeLabelPosition.Type.Hidden||p===i.RelativeLabelPosition.Type.Hidden},g.prototype.overlaps=function(p){if(this.areBothPositionsHidden(p.position))return!1;var v=n.vec2.add(o(),this.origin,this.extent),d=n.vec2.add(o(),p.origin,p.extent);return this.origin[0]<d[0]&&v[0]>p.origin[0]&&this.origin[1]<d[1]&&v[1]>p.origin[1]},g.prototype.paddedOverlaps=function(p,v){if(this.areBothPositionsHidden(p.position))return!1;var d=n.vec2.fromValues(v[0]+1,v[1]+1),c=n.vec2.sub(o(),this.origin,n.vec2.mul(o(),this.extent,v)),a=n.vec2.sub(o(),p.origin,n.vec2.mul(o(),p.extent,v)),l=n.vec2.add(o(),this.origin,n.vec2.mul(o(),this.extent,d)),s=n.vec2.add(o(),p.origin,n.vec2.mul(o(),p.extent,d));return c[0]<s[0]&&l[0]>a[0]&&c[1]<s[1]&&l[1]>a[1]},g.prototype.overlapArea=function(p){if(this.areBothPositionsHidden(p.position))return 0;var v=n.vec2.max(o(),this.origin,p.origin),d=n.vec2.min(o(),n.vec2.add(o(),this.origin,this.extent),n.vec2.add(o(),p.origin,p.extent));return Math.max(0,d[0]-v[0])*Math.max(0,d[1]-v[1])},g.prototype.paddedOverlapArea=function(p,v){if(this.areBothPositionsHidden(p.position))return 0;var d=n.vec2.max(o(),n.vec2.sub(o(),this.origin,n.vec2.mul(o(),this.extent,v)),n.vec2.sub(o(),p.origin,n.vec2.mul(o(),p.extent,v))),c=n.vec2.fromValues(v[0]+1,v[1]+1),a=n.vec2.min(o(),n.vec2.add(o(),this.origin,n.vec2.mul(o(),this.extent,c)),n.vec2.add(o(),p.origin,n.vec2.mul(o(),p.extent,c)));return Math.max(0,a[0]-d[0])*Math.max(0,a[1]-d[1])},g.prototype.area=function(){return this.extent[0]*this.extent[1]},g}();t.LabelArea=h},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Aggregation=void 0,function(n){n.createAggregationMask=function(o,i,h,g,p,v){var d=new Uint8Array(o.numberOfNodes),c=new Uint8Array(o.numberOfNodes);return o.forEachInnerNode(function(a){var l=p<a.depth;v&&(l=l&&!v[a.index]),c[a.index]=l?1:0}),o.forEachLeafNode(function(a){var l=i[a.index]>0&&(h===void 0||h[a.index]<g);c[a.index]=l?0:1}),o.reverseNodesDo(function(a){a.isRoot||(c[a.parent]&=c[a.index])}),o.nodesDo(function(a){a.isRoot?d[a.index]=0:d[a.index]=c[a.parent]}),d},n.createEmptyAggregationMask=function(o){var i=new Uint8Array(o.numberOfNodes);return i.fill(0,0,o.numberOfNodes),i}}(t.Aggregation||(t.Aggregation={}))},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.BufferResolver=void 0;var n=r(1),o=function(){function i(h){this._topology=h}return i.prototype.resolve=function(h,g,p,v){if(v&&(h===void 0||h===""))return v();var d=n.AttributeBuffer.create(this._topology,p,h,g);return v&&d===void 0?v():d},i.prototype.constBufferCallback=function(h){var g=this;return h===void 0&&(h=0),function(){var p=new Float32Array(g._topology.numberOfNodes);return p.fill(h),p}},i}();t.BufferResolver=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorTable=void 0;var n=function(){function o(i,h,g,p){this._emphasis=i.rgbaF32,this._auxiliary=new Float32Array(4*h.length);for(var v=0;v<h.length;++v)this._auxiliary.set(h[v].rgbaF32,4*v);for(this._inner=new Float32Array(4*g.length),v=0;v<g.length;++v)this._inner.set(g[v].rgbaF32,4*v);for(this._leaf=new Float32Array(4*p.length),v=0;v<p.length;++v)this._leaf.set(p[v].rgbaF32,4*v)}return Object.defineProperty(o.prototype,"innerNodeColorOffset",{get:function(){return this.auxiliaryColorCount},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"innerNodeColorCount",{get:function(){return this._inner.length/4},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"leafColorOffset",{get:function(){return this.innerNodeColorOffset+this.innerNodeColorCount},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"leafColorCount",{get:function(){return this._leaf.length/4},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"auxiliaryColorOffset",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"auxiliaryColorCount",{get:function(){return this._auxiliary.length/4+1},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"unmodifiedColorIndex",{get:function(){return this.innerNodeColorOffset},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"selectionColorIndex",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"bits",{get:function(){var i=new Float32Array(4*(this.auxiliaryColorCount+this.innerNodeColorCount+this.leafColorCount));return i.set(this._emphasis,0),i.set(this._auxiliary,4),i.set(this._inner,4*this.innerNodeColorOffset),i.set(this._leaf,4*this.leafColorOffset),i},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"length",{get:function(){return this.auxiliaryColorCount+this.leafColorCount+this.innerNodeColorCount},enumerable:!1,configurable:!0}),o}();t.ColorTable=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.IS_EDGE=t.IS_IE11=void 0,t.IS_IE11=typeof navigator=="undefined"?void 0:/MSIE 11/i.test(navigator.userAgent),t.IS_EDGE=typeof navigator=="undefined"?void 0:/Edge\/\d./i.test(navigator.userAgent)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.DrawDispatchComputation=void 0;var n=r(26),o=function(){function i(){}return i.computeParentDrawDispatch=function(h,g,p){var v=new n.DrawDispatch,d=new Uint32Array(h.numberOfInnerNodes);h.forEachInnerNode(function(f){return d[f.index]=f.id});for(var c=d.filter(function(f,m){return!g[m]}),a=h.linearization.slices,l=new Array,s=p===!1?1:0,u=a.length-2;u>=s;--u)l.push(a[u][0]),l.push(a[u][1]);return v.ids=d,v.slices=l,v.filter(0,c),v},i.computeLeafDrawDispatch=function(h,g){var p=new n.DrawDispatch,v=new Uint32Array(h.numberOfLeafNodes);h.forEachLeafNode(function(c){return v[c.index-h.numberOfInnerNodes]=c.id});var d=v.filter(function(c,a){return!g[a+h.numberOfInnerNodes]});return p.ids=v,p.filter(0,d),p},i}();t.DrawDispatchComputation=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.IntermediateResults=void 0;var n=r(3),o=function(){this.topology=new n.Topology};t.IntermediateResults=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeCityLayout=void 0;var n=r(4),o=function(){function i(){}return i.compute=function(h,g,p,v,d,c,a,l){var s=g[h.root.index];h.nodesDo(function(y){var b=g[y.index],E=Math.sqrt(b/s);v[y.index]=new n.Rect(0,0,E*p,E)});var u=new Array;u[h.root.index]=[0,0],h.reverseParentsDo(function(y){var b=0,E=0,x=b,w=E,S=i.Direction.Y;h.childrenDo(y,function(A){var L=v[A.index]=d.siblingMarginAfterCallback(v[A.index],v[y.index],v[y.index],A);switch(S){case i.Direction.X:b+L.width>=x&&(b=x,E=0,S=i.Direction.Y);break;default:case i.Direction.Y:E+L.height>=w&&(b=0,E=w,S=i.Direction.X)}switch(u[A.index]=[b,E],S){case i.Direction.X:b+=L.width,x=Math.max(x,b),w=Math.max(w,Math.max(E+L.height,L.top));break;default:case i.Direction.Y:E+=L.height,x=Math.max(x,Math.max(b+L.width,L.right)),w=Math.max(w,E)}});var P=d.parentPaddingCallback(new n.Rect(0,0,x,w),y,h,v,a,l);v[y.index]=d.accessoryPaddingCallback(P,y,h,v,c)}),h.nodesDo(function(y){var b=v[y.index],E=u[y.index];b.applyOffset(E[0],E[1]),h.childrenDo(y,function(x){var w=u[x.index];w[0]+=E[0],w[1]+=E[1]})});var f=v[h.root.index],m=new n.Rect(0,0,f.aspectRatio,1);m.centerAround([.5,.5]),h.reverseNodesDo(function(y){v[y.index]=v[y.index].map(f,m)})},i}();t.CodeCityLayout=o,function(i){(function(h){h[h.X=0]="X",h[h.Y=1]="Y"})(i.Direction||(i.Direction={}))}(o=t.CodeCityLayout||(t.CodeCityLayout={})),t.CodeCityLayout=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SnakeLayout=void 0;var n=r(80),o=r(7),i=r(4),h=function(){function g(){}return g.compute=function(p,v,d,c,a,l,s,u,f,m){c[p.root.index]=new i.Rect(0,0,d,1),c[p.root.index].centerAround([.5,.5]),p.forEachInnerNode(function(y){if(m){var b=p.node(y.firstChild);if(b.nextSibling===o.Node.INVALID_INDEX&&b.firstChild!==o.Node.INVALID_INDEX)return c[b.index]=c[y.index],c[y.index]=new i.Rect(0,0,0,0),void(f[y.index]=!0)}var E=a.accessoryPaddingCallback(c[y.index],y,p,c,l);E=a.parentPaddingCallback(E,y,p,c,s,u);var x=a.siblingMarginBeforeCallback(E,y,p,c,s,u),w=x.isReversed,S=w,P=new n.DirectionalRow(p,v,x,v[y.index],x.isVertical,S,w);p.childrenDo(y,function(A){var L=v[A.index];P.increasesAverageAspectRatio(L)&&(P.layoutNodes(c),P.next(x.isVertical)),P.insert(A,L)}),P.layoutNodes(c),p.childrenDo(y,function(A){c[A.index]=a.siblingMarginAfterCallback(c[A.index],x,E,A)})})},g}();t.SnakeLayout=h},function(e,t,r){var n,o=this&&this.__extends||(n=function(p,v){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,c){d.__proto__=c}||function(d,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(d[a]=c[a])})(p,v)},function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function d(){this.constructor=p}n(p,v),p.prototype=v===null?Object.create(v):(d.prototype=v.prototype,new d)});Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionalRow=void 0;var i=r(0).auxiliaries.assert,h=r(4),g=function(p){function v(d,c,a,l,s,u,f){var m=p.call(this,d,c,a,l,s)||this;return m._reverse=u,m._parentReverse=f,m}return o(v,p),Object.defineProperty(v.prototype,"reverse",{get:function(){return this._reverse},set:function(d){this._reverse=d},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"parentReverse",{get:function(){return this._parentReverse},set:function(d){this._parentReverse=d},enumerable:!1,configurable:!0}),v.prototype.layoutNodes=function(d){var c=this;if(this._firstChild!==void 0)if(this.isDisabled)this._tree.siblingsRangeDo(this._firstChild,this._lastChild,function(y){d[y.index]=new h.Rect(c._availableSpace.left,c._availableSpace.bottom,c._availableSpace.left,c._availableSpace.bottom)});else{var a=this.currentSpace,l=this._reverse?h.Rect.Orientation.DC:h.Rect.Orientation.CD;if(this._horizontal)if(this._parentReverse){var s=a.right;this._tree.siblingsRangeDo(this._firstChild,this._lastChild,function(y){var b=c._weights[y.index],E=a.width*b/c._childrenWeight,x=Math.max(s-E,a.left);d[y.index]=new h.Rect(x,a.bottom,s,a.top,l),i(c._availableSpace.comprises(d[y.index]),"Expect that child rect is within parent rect"),s=x})}else{var u=a.left;this._tree.siblingsRangeDo(this._firstChild,this._lastChild,function(y){var b=c._weights[y.index],E=a.width*b/c._childrenWeight,x=Math.min(u+E,a.right);d[y.index]=new h.Rect(u,a.bottom,x,a.top,l),i(c._availableSpace.comprises(d[y.index]),"Expect that child rect is within parent rect"),u=x})}else if(this._parentReverse){var f=a.top;this._tree.siblingsRangeDo(this._firstChild,this._lastChild,function(y){var b=c._weights[y.index],E=a.height*b/c._childrenWeight,x=Math.max(f-E,a.bottom);d[y.index]=new h.Rect(a.left,x,a.right,f,l),i(c._availableSpace.comprises(d[y.index]),"Expect that child rect is within parent rect"),f=x})}else{var m=a.bottom;this._tree.siblingsRangeDo(this._firstChild,this._lastChild,function(y){var b=c._weights[y.index],E=a.height*b/c._childrenWeight,x=Math.min(m+E,a.top);d[y.index]=new h.Rect(a.left,m,a.right,x,l),i(c._availableSpace.comprises(d[y.index]),"Expect that child rect is within parent rect"),m=x})}}},Object.defineProperty(v.prototype,"currentSpace",{get:function(){if(this.isDisabled)return this._availableSpace.truncateBottom(this._availableSpace.top);if(this._childrenWeight>=this._availableWeight||this._lastChild===void 0)return h.Rect.clone(this.availableSpace);var d=this._childrenWeight/this._availableWeight;if(this._horizontal){if(this._parentReverse){var c=this._availableSpace.top-d*this._availableSpace.height;return this._availableSpace.truncateBottom(c)}return c=this._availableSpace.bottom+d*this._availableSpace.height,this._availableSpace.truncateTop(c)}return this._parentReverse?(c=this._availableSpace.right-d*this._availableSpace.width,this._availableSpace.truncateLeft(c)):(c=this._availableSpace.left+d*this._availableSpace.width,this._availableSpace.truncateRight(c))},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"remainingSpace",{get:function(){if(this.isDisabled)return this._availableSpace.truncateBottom(this._availableSpace.top);var d=Math.min(this._childrenWeight/this._availableWeight,1);if(this._horizontal){if(this._parentReverse){var c=this._availableSpace.top-d*this._availableSpace.height;return this._availableSpace.truncateTop(c)}return c=this._availableSpace.bottom+d*this._availableSpace.height,this._availableSpace.truncateBottom(c)}return this._parentReverse?(c=this._availableSpace.right-d*this._availableSpace.width,this._availableSpace.truncateRight(c)):(c=this._availableSpace.left+d*this._availableSpace.width,this._availableSpace.truncateLeft(c))},enumerable:!1,configurable:!0}),v.prototype.next=function(d){p.prototype.next.call(this,d),this._reverse=!this._reverse},v}(r(28).Row);t.DirectionalRow=g},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.StripLayout=void 0;var n=r(7),o=r(4),i=r(28),h=function(){function g(){}return g.compute=function(p,v,d,c,a,l,s,u,f,m){c[p.root.index]=new o.Rect(0,0,d,1),c[p.root.index].centerAround([.5,.5]),p.forEachInnerNode(function(y){if(m){var b=p.node(y.firstChild);if(b.nextSibling===n.Node.INVALID_INDEX&&b.firstChild!==n.Node.INVALID_INDEX)return c[b.index]=c[y.index],c[y.index]=new o.Rect(0,0,0,0),void(f[y.index]=!0);f[y.index]=!1}var E=a.accessoryPaddingCallback(c[y.index],y,p,c,l);E=a.parentPaddingCallback(E,y,p,c,s,u);var x=a.siblingMarginBeforeCallback(E,y,p,c,s,u),w=new i.Row(p,v,x,v[y.index],E.isVertical);p.childrenDo(y,function(S){var P=v[S.index];w.increasesAverageAspectRatio(P)&&(w.layoutNodes(c),w.next(x.isVertical)),w.insert(S,P)}),w.layoutNodes(c),p.childrenDo(y,function(S){c[S.index]=a.siblingMarginAfterCallback(c[S.index],x,E,S)})})},g}();t.StripLayout=h},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutCascade=void 0;var n=r(4),o=function(){function i(){}return i.applyCascade=function(h,g){var p=new Array;return p.length=h.numberOfNodes,h.forEachLeafNode(function(v){p[v.index]=n.Rect.clone(g[v.index])}),h.reverseParentsDo(function(v){var d,c=g[v.index];if(h.childrenDo(v,function(f){var m=p[f.index];d===void 0?d=n.Rect.clone(m):d.enclose(m)}),d!==void 0){d.applyOffset(c.left-d.left,c.top-d.top);var a=d.left,l=d.bottom,s=a+d.width,u=l+d.height;p[v.index]=new n.Rect(a,l,s,u)}else p[v.index]=new n.Rect(0,0,0,0)}),p},i}();t.LayoutCascade=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AnimatedServiceData=void 0;var n=r(29),o=function(){function i(){}return i.fetchAsync=function(h,g,p,v,d,c){var a=function(l,s){return"fetching '"+l+"' failed ("+s.status+"): "+s.statusText};return new Promise(function(l,s){for(var u=[void 0,void 0,void 0,void 0],f=[new XMLHttpRequest,new XMLHttpRequest,new XMLHttpRequest,new XMLHttpRequest],m=[h,g,p,v],y=function(E){var x=f[E],w=m[E];x.open("GET",w,!0),x.responseType=E===3?"json":"arraybuffer",x.onload=function(){if(x.status<200||x.status>=300)s(a(w,x));else if(u[E]=x.response,E===3&&typeof x.response=="string"&&(u[E]=JSON.parse(x.response)),u[0]!==void 0&&u[1]!==void 0&&u[2]!==void 0&&u[3]!==void 0){var S=new n.AnimatedServiceAdapter;S.loadAll(u[0],u[1],u[2],u[3],d,c),l(S.config)}},x.onerror=function(){return s(a(w,x))},x.ontimeout=function(){return s(a(w,x))},x.send()},b=0;b<m.length;b++)y(b)})},i.fetchAsyncCombined=function(h,g){var p=function(v,d){return"fetching '"+v+"' failed ("+d.status+"): "+d.statusText};return new Promise(function(v,d){for(var c=[void 0,void 0],a=[new XMLHttpRequest,new XMLHttpRequest],l=[h,g],s=function(f){var m=a[f],y=l[f];m.open("GET",y,!0),m.responseType=f===1?"json":"arraybuffer",m.onload=function(){if(m.status<200||m.status>=300)d(p(y,m));else if(c[f]=m.response,f===1&&typeof m.response=="string"&&(c[f]=JSON.parse(m.response)),c[0]!==void 0&&c[1]!==void 0){var b=new n.AnimatedServiceAdapter;b.loadCombinedFormat(c[0]),b.loadNames(c[1]),v(b.config)}},m.onerror=function(){return d(p(y,m))},m.ontimeout=function(){return d(p(y,m))},m.send()},u=0;u<l.length;u++)s(u)})},i}();t.AnimatedServiceData=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONData=void 0;var n=r(2),o=function(){function i(){}return i.parseCommitHeader=function(h){var g=h.split(i.DELIMITER),p=new Map;return g.forEach(function(v,d){p.set(v,d)}),p},i.parseCommitData=function(h,g,p){for(var v=new Map,d=function(l){var s=l.split(i.DELIMITER),u=g.map(function(m){return Number(s[m])}),f=parseInt(s[p],10);v.set(f,u)},c=0,a=h;c<a.length;c++)d(a[c]);return v},i.convertAndPadCommitData=function(h,g){var p=h.values().next().value.length,v=new Array;return g.forEach(function(d,c){var a=h.get(c);a!==void 0?v.push(a):v.push(new Array(p).fill(0))}),v},i.fetchCommitsAsync=function(h,g){return new Promise(function(p,v){var d=new XMLHttpRequest;d.open("GET",h,!0),d.responseType="text",d.onload=function(){if(d.status<200||d.status>=300)v(i.FAILED(h,d));else{var c=d.response.split(`
`).slice(0,g);p(c)}},d.onerror=function(){return v(i.FAILED(h,d))},d.ontimeout=function(){return v(i.FAILED(h,d))},d.send()})},i.fetchCommitDataAsync=function(h,g){return new Promise(function(p,v){for(var d=new Array,c=0;c<g.length;++c)d.push(new XMLHttpRequest);var a=new Array(g.length).fill(""),l=function(s){var u=d[s];u.open("GET",h+"/"+g[0]+".metrics.csv",!0),u.responseType="text",u.onload=function(){u.status<200||u.status>=300?v(i.FAILED(h,u)):(a[s]=u.response,a.some(function(f){return f===""})||p(a))},u.onerror=function(){return v(i.FAILED(h,u))},u.ontimeout=function(){return v(i.FAILED(h,u))},u.send()};for(c=0;c<d.length;c++)l(c)})},i.fetchIdentitiesAsync=function(h){return new Promise(function(g,p){var v=new XMLHttpRequest;v.open("GET",h,!0),v.responseType="json",v.onload=function(){if(v.status<200||v.status>=300)p(i.FAILED(h,v));else{var d=v.response.identities;g(d)}},v.onerror=function(){return p(i.FAILED(h,v))},v.ontimeout=function(){return p(i.FAILED(h,v))},v.send()})},i.fetchAsync=function(h,g,p,v,d){return new Promise(function(c,a){var l,s;i.fetchCommitsAsync(h+"/"+g,v).then(function(u){return l=u,i.fetchIdentitiesAsync(h+"/"+p)}).then(function(u){s=u}).then(function(){return i.fetchCommitDataAsync(h,l)}).then(function(u){for(var f=function(b){var E=b.split(`
`),x=i.parseCommitHeader(E[0]),w=new Array;x.forEach(function(A,L){d.includes(L)&&w.push(A)});var S=x.get("identity");S===void 0&&a("Could not find identity row in commit."),E=E.slice(1);var P=i.parseCommitData(E.slice(1),w,S);i.convertAndPadCommitData(P,s)},m=0,y=u;m<y.length;m++)f(y[m])}),c(new n.Configuration)})},i.DELIMITER=";",i.FAILED=function(h,g){return"fetching '"+h+"' failed ("+g.status+"): "+g.statusText},i}();t.JSONData=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceData=void 0;var n=r(14),o=function(){function i(){}return i.fetchAsync=function(h,g,p,v,d,c){var a=function(l,s){return"fetching '"+l+"' failed ("+s.status+"): "+s.statusText};return new Promise(function(l,s){for(var u=[void 0,void 0,void 0,void 0],f=[new XMLHttpRequest,new XMLHttpRequest,new XMLHttpRequest,new XMLHttpRequest],m=[h,g,p,v],y=function(E){var x=f[E],w=m[E];x.open("GET",w,!0),x.responseType=E===3?"json":"arraybuffer",x.onload=function(){if(x.status<200||x.status>=300)s(a(w,x));else if(u[E]=x.response,E===3&&typeof x.response=="string"&&(u[E]=JSON.parse(x.response)),u[0]!==void 0&&u[1]!==void 0&&u[2]!==void 0&&u[3]!==void 0){var S=new n.ServiceAdapter;S.loadAll(u[0],u[1],u[2],u[3],d,c),l(S.config)}},x.onerror=function(){return s(a(w,x))},x.ontimeout=function(){return s(a(w,x))},x.send()},b=0;b<m.length;b++)y(b)})},i.fetchAsyncCombined=function(h,g){var p=function(v,d){return"fetching '"+v+"' failed ("+d.status+"): "+d.statusText};return new Promise(function(v,d){for(var c=[void 0,void 0],a=[new XMLHttpRequest,new XMLHttpRequest],l=[h,g],s=function(f){var m=a[f],y=l[f];m.open("GET",y,!0),m.responseType=f===1?"json":"arraybuffer",m.onload=function(){if(m.status<200||m.status>=300)d(p(y,m));else if(c[f]=m.response,f===1&&typeof m.response=="string"&&(c[f]=JSON.parse(m.response)),c[0]!==void 0&&c[1]!==void 0){var b=new n.ServiceAdapter;b.loadCombinedFormat(c[0]),b.loadNames(c[1]),v(b.config)}},m.onerror=function(){return d(p(y,m))},m.ontimeout=function(){return d(p(y,m))},m.send()},u=0;u<l.length;u++)s(u)})},i}();t.ServiceData=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.TestData=void 0;var n=r(0),o=r(87),i=r(14),h=function(){function g(){}return g.config=function(p){var v=new i.ServiceAdapter;return v.loadAll(o.decode(p.values[0].response),o.decode(p.values[1].response),o.decode(p.heights.response),p.labels[0].response,p.heights.include_hierarchy,p.heights.compare),v.config},g.fetchAsync=function(p){var v=function(d,c){return"fetching '"+d+"' failed ("+c.status+"): "+c.statusText};return new Promise(function(d,c){var a=new XMLHttpRequest;a.open("GET",p,!0),a.onload=function(){if(a.status<200||a.status>=300)c(v(p,a));else{var l=a.responseText;if(n.properties.validate(l,g.SCHEMA.properties,[])){var s=JSON.parse(l);d(g.config(s))}}},a.onerror=function(){return c(v(p,a))},a.ontimeout=function(){return c(v(p,a))},a.send()})},g.SCHEMA=r(89),g}();t.TestData=h},function(e,t,r){var n,o=r(88);(n||(n={})).decode=function(i){return o.decode(i)},e.exports=n},function(e,t){(function(){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),o=0;o<r.length;o++)n[r.charCodeAt(o)]=o;t.encode=function(i){var h,g=new Uint8Array(i),p=g.length,v="";for(h=0;h<p;h+=3)v+=r[g[h]>>2],v+=r[(3&g[h])<<4|g[h+1]>>4],v+=r[(15&g[h+1])<<2|g[h+2]>>6],v+=r[63&g[h+2]];return p%3==2?v=v.substring(0,v.length-1)+"=":p%3==1&&(v=v.substring(0,v.length-2)+"=="),v},t.decode=function(i){var h,g,p,v,d,c=.75*i.length,a=i.length,l=0;i[i.length-1]==="="&&(c--,i[i.length-2]==="="&&c--);var s=new ArrayBuffer(c),u=new Uint8Array(s);for(h=0;h<a;h+=4)g=n[i.charCodeAt(h)],p=n[i.charCodeAt(h+1)],v=n[i.charCodeAt(h+2)],d=n[i.charCodeAt(h+3)],u[l++]=g<<2|p>>4,u[l++]=(15&p)<<4|v>>2,u[l++]=(3&v)<<6|63&d;return s}})()},function(e){e.exports=JSON.parse('{"title":"Treemap Test Data Schema","description":"JSON schema for a softwaremap test data, as used in the treemap typescript module.","type":"object","properties":{"api":{"type":"string","enum":["v2"]},"topic":{"type":"number"},"analyses":{"type":"number"},"apps":{"type":"number"},"tags":{"type":"object","properties":{"selection_mode":{"type":"number"},"untagged_selected":{"type":"boolean"},"bitmask":{"type":"number"}}},"values":{"type":"array","items":{"type":"object","properties":{"metric":{"type":"number"},"response":{"type":"string"}},"required":["metric","response"],"additionalProperties":false}},"heights":{"type":"object","properties":{"metric":{"type":"number"},"include_hierarchy":{"type":"boolean"},"mark_unmodified_items":{"type":"boolean"},"compare":{"type":"boolean"},"response":{"type":"string"}},"required":["metric","include_hierarchy","mark_unmodified_items","compare","response"],"additionalProperties":false},"labels":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string"},"ids":{"type":"array","items":{"type":"number"}},"response":{"type":"object"}},"required":["metric","ids","response"],"additionalProperties":false}}},"required":["api","values","heights","labels"],"additionalProperties":false}')},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.MRHData=void 0;var n=r(0),o=r(2),i=r(5),h=r(3),g=function(){function p(){}return p.createConfigAnimation=function(v,d,c,a){var l,s,u,f,m,y,b,E,x=new o.Configuration,w=new h.Topology;w.initialize(h.Topology.InputFormat.Interleaved,!((l=a==null?void 0:a.topology)===null||l===void 0)&&l.semantics?(s=a==null?void 0:a.topology)===null||s===void 0?void 0:s.semantics:h.Topology.InputSemantics.ParentIndexId,v.edges);var S=new h.Topology;S.initialize(h.Topology.InputFormat.Interleaved,!((u=a==null?void 0:a.topology)===null||u===void 0)&&u.semantics?(f=a==null?void 0:a.topology)===null||f===void 0?void 0:f.semantics:h.Topology.InputSemantics.ParentIndexId,d.edges);var P=new Array,A=new Array,L=new Array,k=new h.Topology;k.initialize(h.Topology.InputFormat.Interleaved,!((m=a==null?void 0:a.topology)===null||m===void 0)&&m.semantics?(y=a==null?void 0:a.topology)===null||y===void 0?void 0:y.semantics:h.Topology.InputSemantics.ParentIndexId,c.edges);for(var D=new Array,N=new Array,W=new Array,H=0,q=[[d.weights,P,S],[d.heights,A,S],[d.colors,L,S],[c.weights,D,k],[c.heights,N,k],[c.colors,W,k]];H<q.length;H++){var X=q[H],Y=X[0],J=X[1],ee=X[2];J.length=w.numberOfNodes,J.fill(-1);for(var te=0,ne=ee.nodes;te<ne.length;te++){var fe=ne[te],_e=fe.id,ye=fe.index in ee.topologyIndexToEdgeIndexMap?ee.topologyIndexToEdgeIndexMap[fe.index]:void 0;if(ye!==void 0){var re=void 0;(re=fe.isLeaf?w.leafNodeIndexById(_e):w.innerNodeIndexById(_e))!==void 0&&(re=re in w.topologyIndexToEdgeIndexMap?w.topologyIndexToEdgeIndexMap[re]:void 0)!==void 0&&(J[re]=Y[ye])}}}if(x.topology={edges:v.edges,semantics:!((b=a==null?void 0:a.topology)===null||b===void 0)&&b.semantics?(E=a==null?void 0:a.topology)===null||E===void 0?void 0:E.semantics:h.Topology.InputSemantics.ParentIndexId,format:h.Topology.InputFormat.Interleaved},x.buffers=[{identifier:"mrh-weights",type:"numbers",data:v.weights,linearization:"topology"},{identifier:"mrh-heights",type:"numbers",data:v.heights,linearization:"topology"},{identifier:"mrh-colors",type:"numbers",data:v.colors,linearization:"topology"},{identifier:"prev-weights",type:"numbers",data:P,linearization:"topology"},{identifier:"prev-heights",type:"numbers",data:A,linearization:"topology"},{identifier:"prev-colors",type:"numbers",data:L,linearization:"topology"},{identifier:"next-weights",type:"numbers",data:D,linearization:"topology"},{identifier:"next-heights",type:"numbers",data:N,linearization:"topology"},{identifier:"next-colors",type:"numbers",data:W,linearization:"topology"}],x.bufferViews=[{identifier:"weights",source:"buffer:mrh-weights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"propagate-up",operation:"sum"}]},{identifier:"heights-normalized",source:"buffer:mrh-heights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]},{identifier:"colors-normalized",source:"buffer:mrh-colors",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]},{identifier:"prev-weights",source:"buffer:prev-weights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"propagate-up",operation:"sum"}]},{identifier:"prev-weights-ratio",source:"bufferView:prev-weights",transformations:[{type:"transform",operation:"divide",buffer:"bufferView:weights"}]},{identifier:"prev-heights-normalized",source:"buffer:prev-heights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]},{identifier:"prev-colors-normalized",source:"buffer:prev-colors",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]},{identifier:"next-weights",source:"buffer:next-weights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"propagate-up",operation:"sum"}]},{identifier:"next-weights-ratio",source:"bufferView:next-weights",transformations:[{type:"transform",operation:"divide",buffer:"bufferView:weights"}]},{identifier:"next-heights-normalized",source:"buffer:next-heights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]},{identifier:"next-colors-normalized",source:"buffer:next-colors",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]}],x.colors=[{identifier:"emphasis",space:"hex",value:"#00b0ff"},{identifier:"auxiliary",space:"hex",values:["#00aa5e","#71237c"]},{identifier:"inner",space:"hex",values:["#e8eaee","#eef0f4"]},{identifier:"leaf",space:"hex",values:["#4575b4","#91bfdb","#e0f3f8","#ffffbf","#fee090","#fc8d59","#d73027"]}],x.layout={algorithm:"snake",weight:"bufferView:weights",sort:{key:"bufferView:weights",algorithm:i.NodeSort.Algorithm.Descending},parentPadding:{type:"absolute",value:.002},siblingMargin:{type:"relative",value:.001},accessoryPadding:{type:"absolute",direction:"bottom",value:[.02,.01,.01,.01,.01,.01],relativeAreaThreshold:.4,targetAspectRatio:8}},x.geometry={parentLayer:{showRoot:!1},leafLayers:[{colorMap:"color:leaf",height:"bufferView:heights-normalized",colors:"bufferView:colors-normalized"}],emphasis:{outline:new Array,highlight:new Array},heightScale:.5},x.animations=[{layer:0,height:{buffers:["bufferView:prev-heights-normalized","bufferView:next-heights-normalized"],delaySpread:2e3,timestamps:[0,4e3],easing:"linear",order:"color"},color:{buffers:["bufferView:prev-colors-normalized","bufferView:next-colors-normalized"],delaySpread:2e3,timestamps:[0,4e3],easing:"smoothstep",order:"color"},areaScale:{buffers:["bufferView:prev-weights-ratio","bufferView:next-weights-ratio"],delaySpread:2e3,timestamps:[0,4e3],easing:"smoothstep",order:"color"}}],v.labels){var be=new Map;Object.keys(v.labels).forEach(function(Ae){if(v.labels!==void 0){var pe=parseInt(Ae,10),Pe=v.labels[pe];be.set(pe,Pe)}}),x.labels={innerNodeLayerRange:[1,3],numTopInnerNodes:4,callback:function(Ae,pe){return pe(be)}}}else x.labels={};return x},p.createConfig=function(v){var d=new o.Configuration;if(d.topology={edges:v.edges,semantics:h.Topology.InputSemantics.ParentIndexId,format:h.Topology.InputFormat.Interleaved},d.buffers=[{identifier:"source-weights",type:"numbers",data:v.weights,linearization:"topology"},{identifier:"source-heights",type:"numbers",data:v.heights,linearization:"topology"},{identifier:"source-colors",type:"numbers",data:v.colors,linearization:"topology"}],d.bufferViews=[{identifier:"weights",source:"buffer:source-weights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"propagate-up",operation:"sum"}]},{identifier:"heights-normalized",source:"buffer:source-heights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]},{identifier:"colors-normalized",source:"buffer:source-colors",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]}],d.colors=[{identifier:"emphasis",space:"hex",value:"#00b0ff"},{identifier:"auxiliary",space:"hex",values:["#00aa5e","#71237c"]},{identifier:"inner",space:"hex",values:["#e8eaee","#eef0f4"]},{identifier:"leaf",space:"hex",values:["#4575b4","#91bfdb","#e0f3f8","#ffffbf","#fee090","#fc8d59","#d73027"]}],d.layout={algorithm:"snake",weight:"bufferView:weights",sort:{key:"bufferView:weights",algorithm:i.NodeSort.Algorithm.Descending},parentPadding:{type:"absolute",value:.002},siblingMargin:{type:"relative",value:.001},accessoryPadding:{type:"absolute",direction:"bottom",value:[.02,.01,.01,.01,.01,.01],relativeAreaThreshold:.4,targetAspectRatio:8}},d.geometry={parentLayer:{showRoot:!1},leafLayers:[{colorMap:"color:leaf",height:"bufferView:heights-normalized",colors:"bufferView:colors-normalized"}],emphasis:{outline:new Array,highlight:new Array},heightScale:.2},v.labels){var c=new Map;Object.keys(v.labels).forEach(function(a){if(v.labels!==void 0){var l=parseInt(a,10),s=v.labels[l];c.set(l,s)}}),d.labels={innerNodeLayerRange:[1,3],numTopInnerNodes:4,callback:function(a,l){return l(c)}}}else d.labels={};return d},p.fetchAsyncAnimation=function(v,d,c){var a=function(l,s){return"fetching '"+l+"' failed ("+s.status+"): "+s.statusText};return new Promise(function(l,s){var u=[v,d,c].map(function(f){return new Promise(function(m,y){var b=new XMLHttpRequest;b.open("GET",f,!0),b.responseType="json",b.onload=function(){if(b.status<200||b.status>=300)y(a(f,b));else{var E=b.response;if(typeof b.response=="string"&&(E=JSON.parse(b.response)),!n.properties.validate(E,p.SCHEMA.properties,[]))return y(function(x){return"validating JSON in '"+x+"' failed."}(f)),void console.log("Validation error");m(E)}},b.onerror=function(){return y(a(f,b))},b.ontimeout=function(){return y(a(f,b))},b.send()})});Promise.all(u).then(function(f){var m=p.createConfigAnimation(f[0],f[1],f[2]);l(m)})})},p.fetchAsync=function(v){var d=function(c,a){return"fetching '"+c+"' failed ("+a.status+"): "+a.statusText};return new Promise(function(c,a){return new Promise(function(l,s){var u=new XMLHttpRequest;u.open("GET",v,!0),u.responseType="json",u.onload=function(){if(u.status<200||u.status>=300)s(d(v,u));else{var f=u.response;if(typeof u.response=="string"&&(f=JSON.parse(u.response)),!n.properties.validate(f,p.SCHEMA.properties,[]))return s(function(m){return"validating JSON in '"+m+"' failed."}(v)),void console.log("Validation error");l(f)}},u.onerror=function(){return s(d(v,u))},u.ontimeout=function(){return s(d(v,u))},u.send()}).then(function(l){var s=p.createConfig(l);c(s)})})},p.SCHEMA=r(91),p}();t.MRHData=g},function(e){e.exports=JSON.parse('{"title":"Treemap MRH Data Schema","description":"JSON schema for a softwaremap MRH data, as used in the treemap typescript module for TASAM.","type":"object","properties":{"edges":{"type":"array","items":{"type":"number"}},"weights":{"type":"array","items":{"type":"number"}},"heights":{"type":"array","items":{"type":"number"}},"colors":{"type":"array","items":{"type":"number"}}},"required":["edges","weights","heights","colors"],"additionalProperties":false}')},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.CSVData=void 0;var n=r(93),o=r(2),i=r(3),h=r(5),g=function(){},p=function(){function v(){}return v.initialize=function(d,c){d.id_column="ids",d.parent_column="parents",c.colors=[{identifier:"emphasis",space:"hex",value:"#00b0ff"},{identifier:"auxiliary",space:"hex",values:["#00aa5e","#71237c"]},{identifier:"inner",space:"hex",values:["#e8eaee","#eef0f4"]},{identifier:"leaf",space:"hex",values:["#4575b4","#91bfdb","#e0f3f8","#ffffbf","#fee090","#fc8d59","#d73027"]}],c.layout={algorithm:"snake",weight:"bufferView:weights",sort:{key:"bufferView:weights",algorithm:h.NodeSort.Algorithm.Keep},parentPadding:{type:"relative",value:.05},siblingMargin:{type:"relative",value:.05},accessoryPadding:{type:"absolute",direction:"bottom",value:[0,.02,.01,0],relativeAreaThreshold:.4,targetAspectRatio:8}},c.geometry={parentLayer:{showRoot:!0},leafLayers:[{colorMap:"color:leaf",height:"bufferView:heights-normalized",colors:"bufferView:colors-normalized"}],emphasis:{outline:new Array,highlight:new Array},heightScale:.5},c.labels={innerNodeLayerRange:[1,2],numTopInnerNodes:50,numTopWeightNodes:50,numTopHeightNodes:50,numTopColorNodes:50}},v.parseHeader=function(d,c,a){for(;d.length>=1&&d[0].startsWith("#");){var l=d.shift().substring(1).trim().split("=").map(function(f){return f.trim()}),s=l[0],u=l[1];s=="ids"?c.id_column=u:s=="parents"?c.parent_column=u:s=="weights"?c.weight_column=u:s=="heights"?c.height_column=u:s=="colors"?c.color_column=u:s=="labels"?c.label_column=u:console.log("Unparsed header",s,"=",u)}},v.parsePapaparseResult=function(d,c,a){for(var l,s=function(k,D){if(k.meta.fields.indexOf(D)<0)return new Uint32Array(k.data.length);var N=k.data.map(function(W){return W[D]?W[D]:0});return Uint32Array.from(N)},u=function(k,D){if(k.meta.fields.indexOf(D)<0)return new Float32Array(k.data.length);var N=k.data.map(function(W){return W[D]?W[D]:-1});return Float32Array.from([0].concat(N))},f=s(d,c.id_column),m=s(d,c.parent_column),y=u(d,c.weight_column),b=u(d,c.height_column),E=u(d,c.color_column),x=function(k,D){return k.meta.fields.indexOf(D)<0?new Array(k.data.length):k.data.map(function(N){return N[D]?N[D]:""})}(d,c.label_column),w=new Array,S=0;S<f.length;S++){var P=f[S],A=m[S];w.push(A),w.push(P)}if(a.topology={edges:w,semantics:i.Topology.InputSemantics.ParentIdId,format:i.Topology.InputFormat.Interleaved},a.buffers=[{identifier:"source-weights",type:"numbers",data:y,linearization:"topology"},{identifier:"source-heights",type:"numbers",data:b,linearization:"topology"},{identifier:"source-colors",type:"numbers",data:E,linearization:"topology"}],a.bufferViews=[{identifier:"weights",source:"buffer:source-weights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"propagate-up",operation:"sum"}]},{identifier:"heights-normalized",source:"buffer:source-heights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]},{identifier:"colors-normalized",source:"buffer:source-colors",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]}],l=c.label_column,d.meta.fields.indexOf(l)>=0){var L=new Map;for(S=0;S<x.length;++S)L.set(f[S],x[S]);a.labels.callback=function(k,D){return D(L)}}a.altered.alter("any")},v.fetchAsync=function(d){return new Promise(function(c,a){var l=new XMLHttpRequest;l.open("GET",d,!0),l.responseType="text",l.onload=function(){l.status<200||l.status>=300?a(v.FAILED(d,l)):v.loadAsync(l.response).then(function(s){return c(s)})},l.onerror=function(){return a(v.FAILED(d,l))},l.ontimeout=function(){return a(v.FAILED(d,l))},l.send()})},v.loadAsync=function(d){return new Promise(function(c,a){var l=new o.Configuration,s=new g;v.initialize(s,l);var u=d.split(`
`);v.parseHeader(u,s,l);var f=u.join(`
`);n.parse(f,{error:function(m){return a(m)},complete:function(m){v.parsePapaparseResult(m,s,l),c(l)},delimiter:v.CSV_FIELD_DELIMITER,quoteChar:'"',escapeChar:'"',header:!0,comments:"#",skipEmptyLines:!0})})},v.CSV_FIELD_DELIMITER=";",v.FAILED=function(d,c){return"fetching '"+d+"' failed ("+c.status+"): "+c.statusText},v}();t.CSVData=p},function(e,t,r){var n,o,i;/* @license
Papa Parse
v5.3.2
https://github.com/mholt/PapaParse
License: MIT
*/o=[],(i=typeof(n=function h(){var g=typeof self!="undefined"?self:typeof window!="undefined"?window:g!==void 0?g:{},p=!g.document&&!!g.postMessage,v=p&&/blob:/i.test((g.location||{}).protocol),d={},c=0,a={parse:function(D,N){var W=(N=N||{}).dynamicTyping||!1;if(k(W)&&(N.dynamicTypingFunction=W,W={}),N.dynamicTyping=W,N.transform=!!k(N.transform)&&N.transform,N.worker&&a.WORKERS_SUPPORTED){var H=function(){if(!a.WORKERS_SUPPORTED)return!1;var X,Y,J=(X=g.URL||g.webkitURL||null,Y=h.toString(),a.BLOB_URL||(a.BLOB_URL=X.createObjectURL(new Blob(["(",Y,")();"],{type:"text/javascript"})))),ee=new g.Worker(J);return ee.onmessage=w,ee.id=c++,d[ee.id]=ee}();return H.userStep=N.step,H.userChunk=N.chunk,H.userComplete=N.complete,H.userError=N.error,N.step=k(N.step),N.chunk=k(N.chunk),N.complete=k(N.complete),N.error=k(N.error),delete N.worker,void H.postMessage({input:D,config:N,workerId:H.id})}var q=null;return a.NODE_STREAM_INPUT,typeof D=="string"?q=N.download?new u(N):new m(N):D.readable===!0&&k(D.read)&&k(D.on)?q=new y(N):(g.File&&D instanceof File||D instanceof Object)&&(q=new f(N)),q.stream(D)},unparse:function(D,N){var W=!1,H=!0,q=",",X=`\r
`,Y='"',J=Y+Y,ee=!1,te=null,ne=!1;(function(){if(typeof N=="object"){if(typeof N.delimiter!="string"||a.BAD_DELIMITERS.filter(function(re){return N.delimiter.indexOf(re)!==-1}).length||(q=N.delimiter),(typeof N.quotes=="boolean"||typeof N.quotes=="function"||Array.isArray(N.quotes))&&(W=N.quotes),typeof N.skipEmptyLines!="boolean"&&typeof N.skipEmptyLines!="string"||(ee=N.skipEmptyLines),typeof N.newline=="string"&&(X=N.newline),typeof N.quoteChar=="string"&&(Y=N.quoteChar),typeof N.header=="boolean"&&(H=N.header),Array.isArray(N.columns)){if(N.columns.length===0)throw new Error("Option columns is empty");te=N.columns}N.escapeChar!==void 0&&(J=N.escapeChar+Y),(typeof N.escapeFormulae=="boolean"||N.escapeFormulae instanceof RegExp)&&(ne=N.escapeFormulae instanceof RegExp?N.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var fe=new RegExp(E(Y),"g");if(typeof D=="string"&&(D=JSON.parse(D)),Array.isArray(D)){if(!D.length||Array.isArray(D[0]))return _e(null,D,ee);if(typeof D[0]=="object")return _e(te||Object.keys(D[0]),D,ee)}else if(typeof D=="object")return typeof D.data=="string"&&(D.data=JSON.parse(D.data)),Array.isArray(D.data)&&(D.fields||(D.fields=D.meta&&D.meta.fields||te),D.fields||(D.fields=Array.isArray(D.data[0])?D.fields:typeof D.data[0]=="object"?Object.keys(D.data[0]):[]),Array.isArray(D.data[0])||typeof D.data[0]=="object"||(D.data=[D.data])),_e(D.fields||[],D.data||[],ee);throw new Error("Unable to serialize unrecognized input");function _e(re,be,Ae){var pe="";typeof re=="string"&&(re=JSON.parse(re)),typeof be=="string"&&(be=JSON.parse(be));var Pe=Array.isArray(re)&&0<re.length,xe=!Array.isArray(be[0]);if(Pe&&H){for(var Re=0;Re<re.length;Re++)0<Re&&(pe+=q),pe+=ye(re[Re],Re);0<be.length&&(pe+=X)}for(var he=0;he<be.length;he++){var Se=Pe?re.length:be[he].length,Ce=!1,Te=Pe?Object.keys(be[he]).length===0:be[he].length===0;if(Ae&&!Pe&&(Ce=Ae==="greedy"?be[he].join("").trim()==="":be[he].length===1&&be[he][0].length===0),Ae==="greedy"&&Pe){for(var Ie=[],Me=0;Me<Se;Me++){var Ue=xe?re[Me]:Me;Ie.push(be[he][Ue])}Ce=Ie.join("").trim()===""}if(!Ce){for(var Ne=0;Ne<Se;Ne++){0<Ne&&!Te&&(pe+=q);var Ye=Pe&&xe?re[Ne]:Ne;pe+=ye(be[he][Ye],Ne)}he<be.length-1&&(!Ae||0<Se&&!Te)&&(pe+=X)}}return pe}function ye(re,be){if(re==null)return"";if(re.constructor===Date)return JSON.stringify(re).slice(1,25);var Ae=!1;ne&&typeof re=="string"&&ne.test(re)&&(re="'"+re,Ae=!0);var pe=re.toString().replace(fe,J);return(Ae=Ae||W===!0||typeof W=="function"&&W(re,be)||Array.isArray(W)&&W[be]||function(Pe,xe){for(var Re=0;Re<xe.length;Re++)if(-1<Pe.indexOf(xe[Re]))return!0;return!1}(pe,a.BAD_DELIMITERS)||-1<pe.indexOf(q)||pe.charAt(0)===" "||pe.charAt(pe.length-1)===" ")?Y+pe+Y:pe}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!p&&!!g.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=x,a.ParserHandle=b,a.NetworkStreamer=u,a.FileStreamer=f,a.StringStreamer=m,a.ReadableStreamStreamer=y,g.jQuery){var l=g.jQuery;l.fn.parse=function(D){var N=D.config||{},W=[];return this.each(function(X){if(l(this).prop("tagName").toUpperCase()!=="INPUT"||l(this).attr("type").toLowerCase()!=="file"||!g.FileReader||!this.files||this.files.length===0)return!0;for(var Y=0;Y<this.files.length;Y++)W.push({file:this.files[Y],inputElem:this,instanceConfig:l.extend({},N)})}),H(),this;function H(){if(W.length!==0){var X,Y,J,ee=W[0];if(k(D.before)){var te=D.before(ee.file,ee.inputElem);if(typeof te=="object"){if(te.action==="abort")return X=ee.file,Y=ee.inputElem,J=te.reason,void(k(D.error)&&D.error({name:"AbortError"},X,Y,J));if(te.action==="skip")return void q();typeof te.config=="object"&&(ee.instanceConfig=l.extend(ee.instanceConfig,te.config))}else if(te==="skip")return void q()}var ne=ee.instanceConfig.complete;ee.instanceConfig.complete=function(fe){k(ne)&&ne(fe,ee.file,ee.inputElem),q()},a.parse(ee.file,ee.instanceConfig)}else k(D.complete)&&D.complete()}function q(){W.splice(0,1),H()}}}function s(D){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(N){var W=A(N);W.chunkSize=parseInt(W.chunkSize),N.step||N.chunk||(W.chunkSize=null),this._handle=new b(W),(this._handle.streamer=this)._config=W}.call(this,D),this.parseChunk=function(N,W){if(this.isFirstChunk&&k(this._config.beforeFirstChunk)){var H=this._config.beforeFirstChunk(N);H!==void 0&&(N=H)}this.isFirstChunk=!1,this._halted=!1;var q=this._partialLine+N;this._partialLine="";var X=this._handle.parse(q,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Y=X.meta.cursor;this._finished||(this._partialLine=q.substring(Y-this._baseIndex),this._baseIndex=Y),X&&X.data&&(this._rowCount+=X.data.length);var J=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(v)g.postMessage({results:X,workerId:a.WORKER_ID,finished:J});else if(k(this._config.chunk)&&!W){if(this._config.chunk(X,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);X=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(X.data),this._completeResults.errors=this._completeResults.errors.concat(X.errors),this._completeResults.meta=X.meta),this._completed||!J||!k(this._config.complete)||X&&X.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),J||X&&X.meta.paused||this._nextChunk(),X}this._halted=!0},this._sendError=function(N){k(this._config.error)?this._config.error(N):v&&this._config.error&&g.postMessage({workerId:a.WORKER_ID,error:N,finished:!1})}}function u(D){var N;(D=D||{}).chunkSize||(D.chunkSize=a.RemoteChunkSize),s.call(this,D),this._nextChunk=p?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(W){this._input=W,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(N=new XMLHttpRequest,this._config.withCredentials&&(N.withCredentials=this._config.withCredentials),p||(N.onload=L(this._chunkLoaded,this),N.onerror=L(this._chunkError,this)),N.open(this._config.downloadRequestBody?"POST":"GET",this._input,!p),this._config.downloadRequestHeaders){var W=this._config.downloadRequestHeaders;for(var H in W)N.setRequestHeader(H,W[H])}if(this._config.chunkSize){var q=this._start+this._config.chunkSize-1;N.setRequestHeader("Range","bytes="+this._start+"-"+q)}try{N.send(this._config.downloadRequestBody)}catch(X){this._chunkError(X.message)}p&&N.status===0&&this._chunkError()}},this._chunkLoaded=function(){N.readyState===4&&(N.status<200||400<=N.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:N.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(W){var H=W.getResponseHeader("Content-Range");return H===null?-1:parseInt(H.substring(H.lastIndexOf("/")+1))}(N),this.parseChunk(N.responseText)))},this._chunkError=function(W){var H=N.statusText||W;this._sendError(new Error(H))}}function f(D){var N,W;(D=D||{}).chunkSize||(D.chunkSize=a.LocalChunkSize),s.call(this,D);var H=typeof FileReader!="undefined";this.stream=function(q){this._input=q,W=q.slice||q.webkitSlice||q.mozSlice,H?((N=new FileReader).onload=L(this._chunkLoaded,this),N.onerror=L(this._chunkError,this)):N=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var q=this._input;if(this._config.chunkSize){var X=Math.min(this._start+this._config.chunkSize,this._input.size);q=W.call(q,this._start,X)}var Y=N.readAsText(q,this._config.encoding);H||this._chunkLoaded({target:{result:Y}})},this._chunkLoaded=function(q){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(q.target.result)},this._chunkError=function(){this._sendError(N.error)}}function m(D){var N;s.call(this,D=D||{}),this.stream=function(W){return N=W,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var W,H=this._config.chunkSize;return H?(W=N.substring(0,H),N=N.substring(H)):(W=N,N=""),this._finished=!N,this.parseChunk(W)}}}function y(D){s.call(this,D=D||{});var N=[],W=!0,H=!1;this.pause=function(){s.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){s.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(q){this._input=q,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){H&&N.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),N.length?this.parseChunk(N.shift()):W=!0},this._streamData=L(function(q){try{N.push(typeof q=="string"?q:q.toString(this._config.encoding)),W&&(W=!1,this._checkIsFinished(),this.parseChunk(N.shift()))}catch(X){this._streamError(X)}},this),this._streamError=L(function(q){this._streamCleanUp(),this._sendError(q)},this),this._streamEnd=L(function(){this._streamCleanUp(),H=!0,this._streamData("")},this),this._streamCleanUp=L(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(D){var N,W,H,q=Math.pow(2,53),X=-q,Y=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,J=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,ee=this,te=0,ne=0,fe=!1,_e=!1,ye=[],re={data:[],errors:[],meta:{}};if(k(D.step)){var be=D.step;D.step=function(he){if(re=he,Pe())pe();else{if(pe(),re.data.length===0)return;te+=he.data.length,D.preview&&te>D.preview?W.abort():(re.data=re.data[0],be(re,ee))}}}function Ae(he){return D.skipEmptyLines==="greedy"?he.join("").trim()==="":he.length===1&&he[0].length===0}function pe(){return re&&H&&(Re("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),H=!1),D.skipEmptyLines&&(re.data=re.data.filter(function(he){return!Ae(he)})),Pe()&&function(){if(re)if(Array.isArray(re.data[0])){for(var he=0;Pe()&&he<re.data.length;he++)re.data[he].forEach(Se);re.data.splice(0,1)}else re.data.forEach(Se);function Se(Ce,Te){k(D.transformHeader)&&(Ce=D.transformHeader(Ce,Te)),ye.push(Ce)}}(),function(){if(!re||!D.header&&!D.dynamicTyping&&!D.transform)return re;function he(Ce,Te){var Ie,Me=D.header?{}:[];for(Ie=0;Ie<Ce.length;Ie++){var Ue=Ie,Ne=Ce[Ie];D.header&&(Ue=Ie>=ye.length?"__parsed_extra":ye[Ie]),D.transform&&(Ne=D.transform(Ne,Ue)),Ne=xe(Ue,Ne),Ue==="__parsed_extra"?(Me[Ue]=Me[Ue]||[],Me[Ue].push(Ne)):Me[Ue]=Ne}return D.header&&(Ie>ye.length?Re("FieldMismatch","TooManyFields","Too many fields: expected "+ye.length+" fields but parsed "+Ie,ne+Te):Ie<ye.length&&Re("FieldMismatch","TooFewFields","Too few fields: expected "+ye.length+" fields but parsed "+Ie,ne+Te)),Me}var Se=1;return!re.data.length||Array.isArray(re.data[0])?(re.data=re.data.map(he),Se=re.data.length):re.data=he(re.data,0),D.header&&re.meta&&(re.meta.fields=ye),ne+=Se,re}()}function Pe(){return D.header&&ye.length===0}function xe(he,Se){return Ce=he,D.dynamicTypingFunction&&D.dynamicTyping[Ce]===void 0&&(D.dynamicTyping[Ce]=D.dynamicTypingFunction(Ce)),(D.dynamicTyping[Ce]||D.dynamicTyping)===!0?Se==="true"||Se==="TRUE"||Se!=="false"&&Se!=="FALSE"&&(function(Te){if(Y.test(Te)){var Ie=parseFloat(Te);if(X<Ie&&Ie<q)return!0}return!1}(Se)?parseFloat(Se):J.test(Se)?new Date(Se):Se===""?null:Se):Se;var Ce}function Re(he,Se,Ce,Te){var Ie={type:he,code:Se,message:Ce};Te!==void 0&&(Ie.row=Te),re.errors.push(Ie)}this.parse=function(he,Se,Ce){var Te=D.quoteChar||'"';if(D.newline||(D.newline=function(Ue,Ne){Ue=Ue.substring(0,1048576);var Ye=new RegExp(E(Ne)+"([^]*?)"+E(Ne),"gm"),ke=(Ue=Ue.replace(Ye,"")).split("\r"),He=Ue.split(`
`),et=1<He.length&&He[0].length<ke[0].length;if(ke.length===1||et)return`
`;for(var Le=0,Ke=0;Ke<ke.length;Ke++)ke[Ke][0]===`
`&&Le++;return Le>=ke.length/2?`\r
`:"\r"}(he,Te)),H=!1,D.delimiter)k(D.delimiter)&&(D.delimiter=D.delimiter(he),re.meta.delimiter=D.delimiter);else{var Ie=function(Ue,Ne,Ye,ke,He){var et,Le,Ke,U;He=He||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var C=0;C<He.length;C++){var M=He[C],z=0,V=0,j=0;Ke=void 0;for(var Z=new x({comments:ke,delimiter:M,newline:Ne,preview:10}).parse(Ue),se=0;se<Z.data.length;se++)if(Ye&&Ae(Z.data[se]))j++;else{var de=Z.data[se].length;V+=de,Ke!==void 0?0<de&&(z+=Math.abs(de-Ke),Ke=de):Ke=de}0<Z.data.length&&(V/=Z.data.length-j),(Le===void 0||z<=Le)&&(U===void 0||U<V)&&1.99<V&&(Le=z,et=M,U=V)}return{successful:!!(D.delimiter=et),bestDelimiter:et}}(he,D.newline,D.skipEmptyLines,D.comments,D.delimitersToGuess);Ie.successful?D.delimiter=Ie.bestDelimiter:(H=!0,D.delimiter=a.DefaultDelimiter),re.meta.delimiter=D.delimiter}var Me=A(D);return D.preview&&D.header&&Me.preview++,N=he,W=new x(Me),re=W.parse(N,Se,Ce),pe(),fe?{meta:{paused:!0}}:re||{meta:{paused:!1}}},this.paused=function(){return fe},this.pause=function(){fe=!0,W.abort(),N=k(D.chunk)?"":N.substring(W.getCharIndex())},this.resume=function(){ee.streamer._halted?(fe=!1,ee.streamer.parseChunk(N,!0)):setTimeout(ee.resume,3)},this.aborted=function(){return _e},this.abort=function(){_e=!0,W.abort(),re.meta.aborted=!0,k(D.complete)&&D.complete(re),N=""}}function E(D){return D.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(D){var N,W=(D=D||{}).delimiter,H=D.newline,q=D.comments,X=D.step,Y=D.preview,J=D.fastMode,ee=N=D.quoteChar===void 0||D.quoteChar===null?'"':D.quoteChar;if(D.escapeChar!==void 0&&(ee=D.escapeChar),(typeof W!="string"||-1<a.BAD_DELIMITERS.indexOf(W))&&(W=","),q===W)throw new Error("Comment character same as delimiter");q===!0?q="#":(typeof q!="string"||-1<a.BAD_DELIMITERS.indexOf(q))&&(q=!1),H!==`
`&&H!=="\r"&&H!==`\r
`&&(H=`
`);var te=0,ne=!1;this.parse=function(fe,_e,ye){if(typeof fe!="string")throw new Error("Input must be a string");var re=fe.length,be=W.length,Ae=H.length,pe=q.length,Pe=k(X),xe=[],Re=[],he=[],Se=te=0;if(!fe)return U();if(J||J!==!1&&fe.indexOf(N)===-1){for(var Ce=fe.split(H),Te=0;Te<Ce.length;Te++){if(he=Ce[Te],te+=he.length,Te!==Ce.length-1)te+=H.length;else if(ye)return U();if(!q||he.substring(0,pe)!==q){if(Pe){if(xe=[],He(he.split(W)),C(),ne)return U()}else He(he.split(W));if(Y&&Y<=Te)return xe=xe.slice(0,Y),U(!0)}}return U()}for(var Ie=fe.indexOf(W,te),Me=fe.indexOf(H,te),Ue=new RegExp(E(ee)+E(N),"g"),Ne=fe.indexOf(N,te);;)if(fe[te]!==N)if(q&&he.length===0&&fe.substring(te,te+pe)===q){if(Me===-1)return U();te=Me+Ae,Me=fe.indexOf(H,te),Ie=fe.indexOf(W,te)}else if(Ie!==-1&&(Ie<Me||Me===-1))he.push(fe.substring(te,Ie)),te=Ie+be,Ie=fe.indexOf(W,te);else{if(Me===-1)break;if(he.push(fe.substring(te,Me)),Ke(Me+Ae),Pe&&(C(),ne))return U();if(Y&&xe.length>=Y)return U(!0)}else for(Ne=te,te++;;){if((Ne=fe.indexOf(N,Ne+1))===-1)return ye||Re.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:xe.length,index:te}),Le();if(Ne===re-1)return Le(fe.substring(te,Ne).replace(Ue,N));if(N!==ee||fe[Ne+1]!==ee){if(N===ee||Ne===0||fe[Ne-1]!==ee){Ie!==-1&&Ie<Ne+1&&(Ie=fe.indexOf(W,Ne+1)),Me!==-1&&Me<Ne+1&&(Me=fe.indexOf(H,Ne+1));var Ye=et(Me===-1?Ie:Math.min(Ie,Me));if(fe.substr(Ne+1+Ye,be)===W){he.push(fe.substring(te,Ne).replace(Ue,N)),fe[te=Ne+1+Ye+be]!==N&&(Ne=fe.indexOf(N,te)),Ie=fe.indexOf(W,te),Me=fe.indexOf(H,te);break}var ke=et(Me);if(fe.substring(Ne+1+ke,Ne+1+ke+Ae)===H){if(he.push(fe.substring(te,Ne).replace(Ue,N)),Ke(Ne+1+ke+Ae),Ie=fe.indexOf(W,te),Ne=fe.indexOf(N,te),Pe&&(C(),ne))return U();if(Y&&xe.length>=Y)return U(!0);break}Re.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:xe.length,index:te}),Ne++}}else Ne++}return Le();function He(M){xe.push(M),Se=te}function et(M){var z=0;if(M!==-1){var V=fe.substring(Ne+1,M);V&&V.trim()===""&&(z=V.length)}return z}function Le(M){return ye||(M===void 0&&(M=fe.substring(te)),he.push(M),te=re,He(he),Pe&&C()),U()}function Ke(M){te=M,He(he),he=[],Me=fe.indexOf(H,te)}function U(M){return{data:xe,errors:Re,meta:{delimiter:W,linebreak:H,aborted:ne,truncated:!!M,cursor:Se+(_e||0)}}}function C(){X(U()),xe=[],Re=[]}},this.abort=function(){ne=!0},this.getCharIndex=function(){return te}}function w(D){var N=D.data,W=d[N.workerId],H=!1;if(N.error)W.userError(N.error,N.file);else if(N.results&&N.results.data){var q={abort:function(){H=!0,S(N.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:P,resume:P};if(k(W.userStep)){for(var X=0;X<N.results.data.length&&(W.userStep({data:N.results.data[X],errors:N.results.errors,meta:N.results.meta},q),!H);X++);delete N.results}else k(W.userChunk)&&(W.userChunk(N.results,q,N.file),delete N.results)}N.finished&&!H&&S(N.workerId,N.results)}function S(D,N){var W=d[D];k(W.userComplete)&&W.userComplete(N),W.terminate(),delete d[D]}function P(){throw new Error("Not implemented.")}function A(D){if(typeof D!="object"||D===null)return D;var N=Array.isArray(D)?[]:{};for(var W in D)N[W]=A(D[W]);return N}function L(D,N){return function(){D.apply(N,arguments)}}function k(D){return typeof D=="function"}return v&&(g.onmessage=function(D){var N=D.data;if(a.WORKER_ID===void 0&&N&&(a.WORKER_ID=N.workerId),typeof N.input=="string")g.postMessage({workerId:a.WORKER_ID,results:a.parse(N.input,N.config),finished:!0});else if(g.File&&N.input instanceof File||N.input instanceof Object){var W=a.parse(N.input,N.config);W&&g.postMessage({workerId:a.WORKER_ID,results:W,finished:!0})}}),(u.prototype=Object.create(s.prototype)).constructor=u,(f.prototype=Object.create(s.prototype)).constructor=f,(m.prototype=Object.create(m.prototype)).constructor=m,(y.prototype=Object.create(s.prototype)).constructor=y,a})=="function"?n.apply(t,o):n)===void 0||(e.exports=i)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.VideoCreator=void 0;var n=r(0),o=r(32),i=n.auxiliaries.assert,h=function(){function g(p){this._context=p,this._screenshotCreator=new o.ScreenshotCreator(this._context),this._images=new Array}return g.downloadVideo=function(p){var v=window.URL.createObjectURL(p),d=document.createElement("a");d.download="video.webm",d.href=v,d.click(),window.URL.revokeObjectURL(v)},g.prototype.start=function(p,v){this._fps=p,this._rect=v,this._images.length=0},g.prototype.addFrame=function(p,v){i(this._fps!==void 0,"Video creator needs to be started before adding a frame.");var d=this._screenshotCreator.capture(p,v,this._rect);this._images.push(d)},g.prototype.end=function(){return i(this._fps!==void 0,"Video creator needs to be started before ending it."),this._fps=void 0,this._images},g}();t.VideoCreator=h},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=void 0;var n=r(0),o=r(0);t.initialize=function(i,h,g){g===void 0&&(g=new o.Color().fromHex("fafafa"));var p=i instanceof HTMLCanvasElement?i:document.getElementById(i),v=!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime);navigator.appVersion.indexOf("Mac")!==-1&&v&&(p.dataset.msqrdP="no-WEBGL_draw_buffers",console.warn("detected Chrome on MacOS, disabling WEBGL_draw_buffers"));var d=new o.Canvas(p,h||{alpha:!1,antialias:!1,depth:!1,failIfMajorPerformanceCaveat:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,stencil:!1});return new n.viewer.EventBlocker(d.element).block("contextmenu"),d.clearColor=g,d.framePrecision=o.Wizard.Precision.byte,d.controller.multiFrameNumber=64,d.context.gl.clearColor(g.r,g.g,g.b,g.a),d.context.gl.clear(d.context.gl.COLOR_BUFFER_BIT),d}}]);function Tj(e){const t={name:"/",children:[]};return e.forEach(r=>{const n=r.filename.replace("./","").split("/");n.reduce((o,i)=>{if(!o.children.find(h=>h.name===i)){const h={name:i,children:[]};i===n[n.length-1]&&(h.metrics=r),o.children.push(h)}return o.children.find(h=>h.name===i)},t)}),console.log(t),t.children.length===1?t.children[0]:t}function xj(e,t={weights:"loc",heights:"nof",colors:"dc"}){const r=new sl.Configuration,n=[],o=new Map,i=[0],h=[0],g=[0];function p(v,d=0){const c=n.length+1;o.set(c,v.name),n.push([d,c]),v.metrics?(i.push(v.metrics[t.weights]),h.push(v.metrics[t.heights]),g.push(v.metrics[t.colors])):(i.push(0),h.push(0),g.push(0)),v.children.forEach(a=>{p(a,c)})}return p(e),console.log("names",o),console.log("edges",n),console.log("weights",i),console.log("heights",h),console.log("colors",g),r.colors=[{identifier:"emphasis",space:"hex",value:"#00b0ff"},{identifier:"auxiliary",space:"hex",values:["#00aa5e","#71237c"]},{identifier:"inner",space:"hex",values:["#e8eaee","#eef0f4"]},{identifier:"leaf",space:"hex",values:["#4575b4","#91bfdb","#e0f3f8","#ffffbf","#fee090","#fc8d59","#d73027"]}],r.layout={algorithm:"snake",weight:"bufferView:weights",sort:{key:"bufferView:weights",algorithm:sl.NodeSort.Algorithm.Keep},parentPadding:{type:"relative",value:.05},siblingMargin:{type:"relative",value:.05},accessoryPadding:{type:"absolute",direction:"bottom",value:[0,.02,.01,0],relativeAreaThreshold:.4,targetAspectRatio:8}},r.geometry={parentLayer:{showRoot:!0},leafLayers:[{colorMap:"color:leaf",height:"bufferView:heights-normalized",colors:"bufferView:colors-normalized"}],emphasis:{outline:new Array,highlight:new Array},heightScale:.5},r.labels={innerNodeLayerRange:[0,4],numTopInnerNodes:6,numTopWeightNodes:6,numTopHeightNodes:6,numTopColorNodes:6},r.labels.callback=(v,d)=>d(o),r.altered.alter("labels"),r.topology={edges:n,format:"tupled"},r.buffers=[{identifier:"source-weights",type:"numbers",data:i,linearization:"topology"},{identifier:"source-heights",type:"numbers",data:h,linearization:"topology"},{identifier:"source-colors",type:"numbers",data:g,linearization:"topology"}],r.bufferViews=[{identifier:"weights",source:"buffer:source-weights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"propagate-up",operation:"sum"}]},{identifier:"heights-normalized",source:"buffer:source-heights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]},{identifier:"colors-normalized",source:"buffer:source-colors",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]}],console.log("Config",JSON.stringify(r,null,2)),r}function wj({header:e,rows:t}){const r=Tj(t),[n,o]=le.exports.useState(xj(r)),[i,h]=le.exports.useState(new sl.Visualization);let g;le.exports.useEffect(()=>{window.SeereneConstants={STATIC_DIRECTORY:"/github-software-analytics-embedding/assets"},g=sl.initialize("canvasElement"),g.renderer=i.renderer,console.log("cfg:",n),p()},[]);function p(){if(console.log("loadConfig"),n&&i&&g)i.configuration=n,console.log("Visualization:",i),console.log("Config:",i.configuration),console.log("Canvas:",g),g.controller.update();else throw Error("Visualization or config not initialized")}return Ct(Wo,{fixed:!0,children:[ge("div",{id:"labelContainer",className:"label-overlay"}),ge("canvas",{id:"canvasElement",width:"1400",height:"700"})]})}function Aj({header:e,rows:t,size:r}){const n=t.reduce((o,i)=>o+i.loc,0);return ge(Wo,{children:Ct(Xo,{direction:"row",spacing:2,children:[ge(Zc,{label:`${t.length} files`,variant:"outlined"}),ge(Zc,{label:`${n} lines of code`,variant:"outlined"}),ge(Zc,{label:`${M1(r)} of metrics stored`,variant:"outlined"})]})})}function Sj(){return ge(Wo,{children:Ct(Xo,{spacing:2,mb:4,children:[ge(gn,{variant:"h4",children:"No Metrics found :("}),ge(gn,{children:"There are no metrics for this commit on the repository."})]})})}var fp={},fE={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(fE);var dE={},Pj=dr($C);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Pj})(dE);var Oj=dr(d2),Rj=fE.exports;Object.defineProperty(fp,"__esModule",{value:!0});var hE=fp.default=void 0;Ij(le.exports);var Lj=Rj(dE),Cj=Oj;function pE(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(pE=function(n){return n?r:t})(e)}function Ij(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=pE(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var h=o?Object.getOwnPropertyDescriptor(e,i):null;h&&(h.get||h.set)?Object.defineProperty(n,i,h):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}var Mj=(0,Lj.default)((0,Cj.jsx)("path",{d:"M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"}),"GitHub");hE=fp.default=Mj;function _E({breadcrumbs:e}){return ge(yb,{m:2,children:Ct(Xo,{direction:"row",spacing:1,children:[ge(ii,{to:"/",children:ge(hE,{})}),ge(KI,{separator:"\u203A","aria-label":"breadcrumb",children:e})]})})}function Dj({owner:e,repo:t,commitSHA:r,branch:n}){const[o,i]=le.exports.useState(),[h,g]=le.exports.useState(),[p,v]=le.exports.useState(!0),[d,c]=le.exports.useState(!1),a=[ge(gn,{color:"text.secondary",children:e},"1"),ge(gn,{color:"text.secondary",children:ge(Pi,{component:ii,to:`/${e}/${t}/`,children:t})},"2"),ge(gn,{color:"text.primary",children:n||r},"3")];return le.exports.useEffect(()=>{async function l(){if(!(!e||!t)){if(!r){if(!n)return;r=await WB(e,t,n)}try{const[s]=await qB(e,t,r),u=bD(s.content);console.log("parsedData:",u),i(u),g(s.size)}catch(s){console.error(s),c(!0)}finally{v(!1)}}}l()},[]),ge(el,{elevation:2,children:Ct(Xo,{spacing:2,children:[ge(_E,{breadcrumbs:a}),p&&ge(yM,{}),d&&ge(Sj,{}),o&&ge(wj,Qe({},o)),o&&h&&ge(Aj,Qe({size:h},o)),o&&ge(ED,Qe({},o))]})})}function l0(){const{owner:e,repo:t,commitSHA:r,branch:n}=wy();return ge(yb,{mb:8,children:ge(Dj,{owner:e,repo:t,commitSHA:r,branch:n})})}function Nj({owner:e,repo:t}){const[r,n]=le.exports.useState(),[o,i]=le.exports.useState();le.exports.useEffect(()=>{async function g(){const p=await YB(e,t);console.log(p),i(p);const v=await XB(e,t);console.log(v),n(v)}g()},[]);const h=[ge(gn,{color:"text.secondary",children:e},"1"),ge(gn,{color:"text.secondary",children:ge(Pi,{component:ii,to:`/${e}/${t}/`,children:t})},"2")];return Ct(Wo,{children:[ge(_E,{breadcrumbs:h}),Ct(Xo,{spacing:4,children:[ge(dd,{component:el,children:Ct(cd,{sx:{minWidth:650},"aria-label":"simple table",children:[ge(hd,{children:ge(go,{children:ge(mo,{children:"Branches"})})}),ge(fd,{children:o&&o.data.map(g=>ge(go,{sx:{"&:last-child td, &:last-child th":{border:0}},children:ge(mo,{component:"th",scope:"row",children:ge(Pi,{component:ii,to:`/${e}/${t}/branches/${g.name}`,children:g.name})})},g.name))})]})}),ge(dd,{component:el,children:Ct(cd,{sx:{minWidth:650},"aria-label":"simple table",children:[ge(hd,{children:ge(go,{children:ge(mo,{children:"Commits"})})}),ge(fd,{children:r&&r.data.map(g=>ge(go,{sx:{"&:last-child td, &:last-child th":{border:0}},children:ge(mo,{component:"th",scope:"row",children:ge(Pi,{underline:"hover",component:ii,to:`/${e}/${t}/${g.ref.split("/").pop()}`,children:g.ref})})},g.ref))})]})})]})]})}function kj(){const{owner:e,repo:t}=wy();return e&&t?ge(Nj,{owner:e,repo:t}):Ct("div",{children:[ge("h1",{className:"title",children:"Oops."}),ge("h2",{className:"subtitle",children:"Repository not found"})]})}function Bj(){return Ct(Wo,{children:[ge(gn,{variant:"h4",my:4,children:"Treemap Metrics Viewer"}),Ct(Xo,{spacing:2,children:[ge(Pi,{component:ii,to:"/hpicgs/github-software-analytics-embedding/",children:"hpicgs/github-software-analytics-embedding/"}),ge(Pi,{component:ii,to:"/Jasperhino/vscode/",children:"Jasperhino/vscode"}),ge(Pi,{component:ii,to:"/Jasperhino/webgl-operate/",children:"Jasperhino/webgl-operate"})]})]})}function Fj(){return Ct("div",{children:[ge("h1",{className:"title",children:"404"}),ge("h2",{className:"subtitle",children:"Page not found"})]})}function jj(){return Ct("div",{className:"App",children:[ge(sM,{}),ge(Wo,{maxWidth:"xl",children:Ct($P,{children:[ge(eo,{path:"/:owner/:repo/:commitSHA",element:ge(l0,{})}),ge(eo,{path:"/:owner/:repo/branches/:branch",element:ge(l0,{})}),ge(eo,{path:"/:owner/:repo",element:ge(kj,{})}),ge(eo,{path:"/",element:ge(Bj,{})}),ge(eo,{path:"*",element:ge(Fj,{})})]})})]})}const zj=document.getElementById("root"),Uj=yy(zj);Uj.render(ge(XP,{basename:"/github-software-analytics-embedding/",children:ge(jj,{})}));
