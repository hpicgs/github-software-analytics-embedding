(function(Pt){typeof define=="function"&&define.amd?define(Pt):Pt()})(function(){"use strict";var zk=Object.defineProperty,Uk=Object.defineProperties;var Gk=Object.getOwnPropertyDescriptors;var wl=Object.getOwnPropertySymbols;var Zb=Object.prototype.hasOwnProperty,Qb=Object.prototype.propertyIsEnumerable;var Kb=(Pt,kt,ft)=>kt in Pt?zk(Pt,kt,{enumerable:!0,configurable:!0,writable:!0,value:ft}):Pt[kt]=ft,Qe=(Pt,kt)=>{for(var ft in kt||(kt={}))Zb.call(kt,ft)&&Kb(Pt,ft,kt[ft]);if(wl)for(var ft of wl(kt))Qb.call(kt,ft)&&Kb(Pt,ft,kt[ft]);return Pt},xr=(Pt,kt)=>Uk(Pt,Gk(kt));var Fo=(Pt,kt)=>{var ft={};for(var Mr in Pt)Zb.call(Pt,Mr)&&kt.indexOf(Mr)<0&&(ft[Mr]=Pt[Mr]);if(Pt!=null&&wl)for(var Mr of wl(Pt))kt.indexOf(Mr)<0&&Qb.call(Pt,Mr)&&(ft[Mr]=Pt[Mr]);return ft};function Pt(e,t){return t.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in e)){var a=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,a.get?a:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(e)}var kt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function ft(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),t}var Mr={exports:{}},wr={},ve={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jo=Symbol.for("react.element"),Jb=Symbol.for("react.portal"),e1=Symbol.for("react.fragment"),t1=Symbol.for("react.strict_mode"),r1=Symbol.for("react.profiler"),n1=Symbol.for("react.provider"),i1=Symbol.for("react.context"),o1=Symbol.for("react.forward_ref"),a1=Symbol.for("react.suspense"),s1=Symbol.for("react.memo"),u1=Symbol.for("react.lazy"),Ed=Symbol.iterator;function l1(e){return e===null||typeof e!="object"?null:(e=Ed&&e[Ed]||e["@@iterator"],typeof e=="function"?e:null)}var Td={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xd=Object.assign,wd={};function Di(e,t,r){this.props=e,this.context=t,this.refs=wd,this.updater=r||Td}Di.prototype.isReactComponent={},Di.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},Di.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ad(){}Ad.prototype=Di.prototype;function Al(e,t,r){this.props=e,this.context=t,this.refs=wd,this.updater=r||Td}var Sl=Al.prototype=new Ad;Sl.constructor=Al,xd(Sl,Di.prototype),Sl.isPureReactComponent=!0;var Sd=Array.isArray,Pd=Object.prototype.hasOwnProperty,Pl={current:null},Od={key:!0,ref:!0,__self:!0,__source:!0};function Rd(e,t,r){var n,a={},i=null,d=null;if(t!=null)for(n in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(i=""+t.key),t)Pd.call(t,n)&&!Od.hasOwnProperty(n)&&(a[n]=t[n]);var m=arguments.length-2;if(m===1)a.children=r;else if(1<m){for(var _=Array(m),v=0;v<m;v++)_[v]=arguments[v+2];a.children=_}if(e&&e.defaultProps)for(n in m=e.defaultProps,m)a[n]===void 0&&(a[n]=m[n]);return{$$typeof:jo,type:e,key:i,ref:d,props:a,_owner:Pl.current}}function c1(e,t){return{$$typeof:jo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ol(e){return typeof e=="object"&&e!==null&&e.$$typeof===jo}function f1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ld=/\/+/g;function Rl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?f1(""+e.key):t.toString(36)}function fs(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(i){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case jo:case Jb:d=!0}}if(d)return d=e,a=a(d),e=n===""?"."+Rl(d,0):n,Sd(a)?(r="",e!=null&&(r=e.replace(Ld,"$&/")+"/"),fs(a,t,r,"",function(v){return v})):a!=null&&(Ol(a)&&(a=c1(a,r+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(Ld,"$&/")+"/")+e)),t.push(a)),1;if(d=0,n=n===""?".":n+":",Sd(e))for(var m=0;m<e.length;m++){i=e[m];var _=n+Rl(i,m);d+=fs(i,t,r,_,a)}else if(_=l1(e),typeof _=="function")for(e=_.call(e),m=0;!(i=e.next()).done;)i=i.value,_=n+Rl(i,m++),d+=fs(i,t,r,_,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function hs(e,t,r){if(e==null)return e;var n=[],a=0;return fs(e,n,"","",function(i){return t.call(r,i,a++)}),n}function h1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var sr={current:null},ds={transition:null},d1={ReactCurrentDispatcher:sr,ReactCurrentBatchConfig:ds,ReactCurrentOwner:Pl};Je.Children={map:hs,forEach:function(e,t,r){hs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return hs(e,function(){t++}),t},toArray:function(e){return hs(e,function(t){return t})||[]},only:function(e){if(!Ol(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},Je.Component=Di,Je.Fragment=e1,Je.Profiler=r1,Je.PureComponent=Al,Je.StrictMode=t1,Je.Suspense=a1,Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d1,Je.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=xd({},e.props),a=e.key,i=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,d=Pl.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(_ in t)Pd.call(t,_)&&!Od.hasOwnProperty(_)&&(n[_]=t[_]===void 0&&m!==void 0?m[_]:t[_])}var _=arguments.length-2;if(_===1)n.children=r;else if(1<_){m=Array(_);for(var v=0;v<_;v++)m[v]=arguments[v+2];n.children=m}return{$$typeof:jo,type:e.type,key:a,ref:i,props:n,_owner:d}},Je.createContext=function(e){return e={$$typeof:i1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:n1,_context:e},e.Consumer=e},Je.createElement=Rd,Je.createFactory=function(e){var t=Rd.bind(null,e);return t.type=e,t},Je.createRef=function(){return{current:null}},Je.forwardRef=function(e){return{$$typeof:o1,render:e}},Je.isValidElement=Ol,Je.lazy=function(e){return{$$typeof:u1,_payload:{_status:-1,_result:e},_init:h1}},Je.memo=function(e,t){return{$$typeof:s1,type:e,compare:t===void 0?null:t}},Je.startTransition=function(e){var t=ds.transition;ds.transition={};try{e()}finally{ds.transition=t}},Je.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Je.useCallback=function(e,t){return sr.current.useCallback(e,t)},Je.useContext=function(e){return sr.current.useContext(e)},Je.useDebugValue=function(){},Je.useDeferredValue=function(e){return sr.current.useDeferredValue(e)},Je.useEffect=function(e,t){return sr.current.useEffect(e,t)},Je.useId=function(){return sr.current.useId()},Je.useImperativeHandle=function(e,t,r){return sr.current.useImperativeHandle(e,t,r)},Je.useInsertionEffect=function(e,t){return sr.current.useInsertionEffect(e,t)},Je.useLayoutEffect=function(e,t){return sr.current.useLayoutEffect(e,t)},Je.useMemo=function(e,t){return sr.current.useMemo(e,t)},Je.useReducer=function(e,t,r){return sr.current.useReducer(e,t,r)},Je.useRef=function(e){return sr.current.useRef(e)},Je.useState=function(e){return sr.current.useState(e)},Je.useSyncExternalStore=function(e,t,r){return sr.current.useSyncExternalStore(e,t,r)},Je.useTransition=function(){return sr.current.useTransition()},Je.version="18.1.0",ve.exports=Je;var Ni=ve.exports,ki=Object.freeze(Pt({__proto__:null,[Symbol.toStringTag]:"Module",default:Ni},[ve.exports])),Cd={exports:{}},Id={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,J){var ee=Y.length;Y.push(J);e:for(;0<ee;){var te=ee-1>>>1,ne=Y[te];if(0<a(ne,J))Y[te]=J,Y[ee]=ne,ee=te;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var J=Y[0],ee=Y.pop();if(ee!==J){Y[0]=ee;e:for(var te=0,ne=Y.length,ce=ne>>>1;te<ce;){var pe=2*(te+1)-1,me=Y[pe],re=pe+1,ye=Y[re];if(0>a(me,ee))re<ne&&0>a(ye,me)?(Y[te]=ye,Y[re]=ee,te=re):(Y[te]=me,Y[pe]=ee,te=pe);else if(re<ne&&0>a(ye,ee))Y[te]=ye,Y[re]=ee,te=re;else break e}}return J}function a(Y,J){var ee=Y.sortIndex-J.sortIndex;return ee!==0?ee:Y.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var d=Date,m=d.now();e.unstable_now=function(){return d.now()-m}}var _=[],v=[],h=1,c=null,o=3,l=!1,s=!1,u=!1,f=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(Y){for(var J=r(v);J!==null;){if(J.callback===null)n(v);else if(J.startTime<=Y)n(v),J.sortIndex=J.expirationTime,t(_,J);else break;J=r(v)}}function E(Y){if(u=!1,b(Y),!s)if(r(_)!==null)s=!0,q(x);else{var J=r(v);J!==null&&X(E,J.startTime-Y)}}function x(Y,J){s=!1,u&&(u=!1,g(O),O=-1),l=!0;var ee=o;try{for(b(J),c=r(_);c!==null&&(!(c.expirationTime>J)||Y&&!k());){var te=c.callback;if(typeof te=="function"){c.callback=null,o=c.priorityLevel;var ne=te(c.expirationTime<=J);J=e.unstable_now(),typeof ne=="function"?c.callback=ne:c===r(_)&&n(_),b(J)}else n(_);c=r(_)}if(c!==null)var ce=!0;else{var pe=r(v);pe!==null&&X(E,pe.startTime-J),ce=!1}return ce}finally{c=null,o=ee,l=!1}}var w=!1,S=null,O=-1,A=5,L=-1;function k(){return!(e.unstable_now()-L<A)}function D(){if(S!==null){var Y=e.unstable_now();L=Y;var J=!0;try{J=S(!0,Y)}finally{J?N():(w=!1,S=null)}}else w=!1}var N;if(typeof y=="function")N=function(){y(D)};else if(typeof MessageChannel!="undefined"){var $=new MessageChannel,H=$.port2;$.port1.onmessage=D,N=function(){H.postMessage(null)}}else N=function(){f(D,0)};function q(Y){S=Y,w||(w=!0,N())}function X(Y,J){O=f(function(){Y(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){s||l||(s=!0,q(x))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return o},e.unstable_getFirstCallbackNode=function(){return r(_)},e.unstable_next=function(Y){switch(o){case 1:case 2:case 3:var J=3;break;default:J=o}var ee=o;o=J;try{return Y()}finally{o=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,J){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ee=o;o=Y;try{return J()}finally{o=ee}},e.unstable_scheduleCallback=function(Y,J,ee){var te=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?te+ee:te):ee=te,Y){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ee+ne,Y={id:h++,callback:J,priorityLevel:Y,startTime:ee,expirationTime:ne,sortIndex:-1},ee>te?(Y.sortIndex=ee,t(v,Y),r(_)===null&&Y===r(v)&&(u?(g(O),O=-1):u=!0,X(E,ee-te))):(Y.sortIndex=ne,t(_,Y),s||l||(s=!0,q(x))),Y},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(Y){var J=o;return function(){var ee=o;o=J;try{return Y.apply(this,arguments)}finally{o=ee}}}})(Id),Cd.exports=Id;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md=ve.exports,Ar=Cd.exports;function Te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dd=new Set,zo={};function fi(e,t){Bi(e,t),Bi(e+"Capture",t)}function Bi(e,t){for(zo[e]=t,e=0;e<t.length;e++)Dd.add(t[e])}var bn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Ll=Object.prototype.hasOwnProperty,p1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nd={},kd={};function _1(e){return Ll.call(kd,e)?!0:Ll.call(Nd,e)?!1:p1.test(e)?kd[e]=!0:(Nd[e]=!0,!1)}function g1(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function m1(e,t,r,n){if(t===null||typeof t=="undefined"||g1(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ur(e,t,r,n,a,i,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=d}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yt[e]=new ur(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yt[t]=new ur(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yt[e]=new ur(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yt[e]=new ur(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yt[e]=new ur(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Yt[e]=new ur(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Yt[e]=new ur(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Yt[e]=new ur(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Yt[e]=new ur(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cl=/[\-:]([a-z])/g;function Il(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cl,Il);Yt[t]=new ur(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cl,Il);Yt[t]=new ur(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cl,Il);Yt[t]=new ur(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Yt[e]=new ur(e,1,!1,e.toLowerCase(),null,!1,!1)}),Yt.xlinkHref=new ur("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Yt[e]=new ur(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ml(e,t,r,n){var a=Yt.hasOwnProperty(t)?Yt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(m1(t,r,a,n)&&(r=null),n||a===null?_1(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var En=Md.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ps=Symbol.for("react.element"),Fi=Symbol.for("react.portal"),ji=Symbol.for("react.fragment"),Dl=Symbol.for("react.strict_mode"),Nl=Symbol.for("react.profiler"),Bd=Symbol.for("react.provider"),Fd=Symbol.for("react.context"),kl=Symbol.for("react.forward_ref"),Bl=Symbol.for("react.suspense"),Fl=Symbol.for("react.suspense_list"),jl=Symbol.for("react.memo"),Fn=Symbol.for("react.lazy"),jd=Symbol.for("react.offscreen"),zd=Symbol.iterator;function Uo(e){return e===null||typeof e!="object"?null:(e=zd&&e[zd]||e["@@iterator"],typeof e=="function"?e:null)}var Tt=Object.assign,zl;function Go(e){if(zl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);zl=t&&t[1]||""}return`
`+zl+e}var Ul=!1;function Gl(e,t){if(!e||Ul)return"";Ul=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var n=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){n=v}e.call(t.prototype)}else{try{throw Error()}catch(v){n=v}e()}}catch(v){if(v&&n&&typeof v.stack=="string"){for(var a=v.stack.split(`
`),i=n.stack.split(`
`),d=a.length-1,m=i.length-1;1<=d&&0<=m&&a[d]!==i[m];)m--;for(;1<=d&&0<=m;d--,m--)if(a[d]!==i[m]){if(d!==1||m!==1)do if(d--,m--,0>m||a[d]!==i[m]){var _=`
`+a[d].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=d&&0<=m);break}}}finally{Ul=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Go(e):""}function v1(e){switch(e.tag){case 5:return Go(e.type);case 16:return Go("Lazy");case 13:return Go("Suspense");case 19:return Go("SuspenseList");case 0:case 2:case 15:return e=Gl(e.type,!1),e;case 11:return e=Gl(e.type.render,!1),e;case 1:return e=Gl(e.type,!0),e;default:return""}}function Vl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ji:return"Fragment";case Fi:return"Portal";case Nl:return"Profiler";case Dl:return"StrictMode";case Bl:return"Suspense";case Fl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fd:return(e.displayName||"Context")+".Consumer";case Bd:return(e._context.displayName||"Context")+".Provider";case kl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jl:return t=e.displayName||null,t!==null?t:Vl(e.type)||"Memo";case Fn:t=e._payload,e=e._init;try{return Vl(e(t))}catch{}}return null}function y1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vl(t);case 8:return t===Dl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ud(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function b1(e){var t=Ud(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(d){n=""+d,i.call(this,d)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(d){n=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _s(e){e._valueTracker||(e._valueTracker=b1(e))}function Gd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ud(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function gs(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hl(e,t){var r=t.checked;return Tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function Vd(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=jn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hd(e,t){t=t.checked,t!=null&&Ml(e,"checked",t,!1)}function Wl(e,t){Hd(e,t);var r=jn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$l(e,t.type,r):t.hasOwnProperty("defaultValue")&&$l(e,t.type,jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wd(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function $l(e,t,r){(t!=="number"||gs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Vo=Array.isArray;function zi(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+jn(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ql(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Te(91));return Tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $d(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Te(92));if(Vo(r)){if(1<r.length)throw Error(Te(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:jn(r)}}function qd(e,t){var r=jn(t.value),n=jn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Xd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ms,Kd=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ms=ms||document.createElement("div"),ms.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ms.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ho(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E1=["Webkit","ms","Moz","O"];Object.keys(Wo).forEach(function(e){E1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wo[t]=Wo[e]})});function Zd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Wo.hasOwnProperty(e)&&Wo[e]?(""+t).trim():t+"px"}function Qd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Zd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var T1=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yl(e,t){if(t){if(T1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Te(62))}}function Kl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zl=null;function Ql(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jl=null,Ui=null,Gi=null;function Jd(e){if(e=da(e)){if(typeof Jl!="function")throw Error(Te(280));var t=e.stateNode;t&&(t=zs(t),Jl(e.stateNode,e.type,t))}}function ep(e){Ui?Gi?Gi.push(e):Gi=[e]:Ui=e}function tp(){if(Ui){var e=Ui,t=Gi;if(Gi=Ui=null,Jd(e),t)for(e=0;e<t.length;e++)Jd(t[e])}}function rp(e,t){return e(t)}function np(){}var ec=!1;function ip(e,t,r){if(ec)return e(t,r);ec=!0;try{return rp(e,t,r)}finally{ec=!1,(Ui!==null||Gi!==null)&&(np(),tp())}}function $o(e,t){var r=e.stateNode;if(r===null)return null;var n=zs(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Te(231,t,typeof r));return r}var tc=!1;if(bn)try{var qo={};Object.defineProperty(qo,"passive",{get:function(){tc=!0}}),window.addEventListener("test",qo,qo),window.removeEventListener("test",qo,qo)}catch{tc=!1}function x1(e,t,r,n,a,i,d,m,_){var v=Array.prototype.slice.call(arguments,3);try{t.apply(r,v)}catch(h){this.onError(h)}}var Xo=!1,vs=null,ys=!1,rc=null,w1={onError:function(e){Xo=!0,vs=e}};function A1(e,t,r,n,a,i,d,m,_){Xo=!1,vs=null,x1.apply(w1,arguments)}function S1(e,t,r,n,a,i,d,m,_){if(A1.apply(this,arguments),Xo){if(Xo){var v=vs;Xo=!1,vs=null}else throw Error(Te(198));ys||(ys=!0,rc=v)}}function hi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function op(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ap(e){if(hi(e)!==e)throw Error(Te(188))}function P1(e){var t=e.alternate;if(!t){if(t=hi(e),t===null)throw Error(Te(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return ap(a),e;if(i===n)return ap(a),t;i=i.sibling}throw Error(Te(188))}if(r.return!==n.return)r=a,n=i;else{for(var d=!1,m=a.child;m;){if(m===r){d=!0,r=a,n=i;break}if(m===n){d=!0,n=a,r=i;break}m=m.sibling}if(!d){for(m=i.child;m;){if(m===r){d=!0,r=i,n=a;break}if(m===n){d=!0,n=i,r=a;break}m=m.sibling}if(!d)throw Error(Te(189))}}if(r.alternate!==n)throw Error(Te(190))}if(r.tag!==3)throw Error(Te(188));return r.stateNode.current===r?e:t}function sp(e){return e=P1(e),e!==null?up(e):null}function up(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=up(e);if(t!==null)return t;e=e.sibling}return null}var lp=Ar.unstable_scheduleCallback,cp=Ar.unstable_cancelCallback,O1=Ar.unstable_shouldYield,R1=Ar.unstable_requestPaint,Ct=Ar.unstable_now,L1=Ar.unstable_getCurrentPriorityLevel,nc=Ar.unstable_ImmediatePriority,fp=Ar.unstable_UserBlockingPriority,bs=Ar.unstable_NormalPriority,C1=Ar.unstable_LowPriority,hp=Ar.unstable_IdlePriority,Es=null,on=null;function I1(e){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Es,e,void 0,(e.current.flags&128)===128)}catch{}}var $r=Math.clz32?Math.clz32:N1,M1=Math.log,D1=Math.LN2;function N1(e){return e>>>=0,e===0?32:31-(M1(e)/D1|0)|0}var Ts=64,xs=4194304;function Yo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ws(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,d=r&268435455;if(d!==0){var m=d&~a;m!==0?n=Yo(m):(i&=d,i!==0&&(n=Yo(i)))}else d=r&~a,d!==0?n=Yo(d):i!==0&&(n=Yo(i));if(n===0)return 0;if(t!==0&&t!==n&&(t&a)===0&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if((n&4)!==0&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-$r(t),a=1<<r,n|=e[r],t&=~a;return n}function k1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B1(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var d=31-$r(i),m=1<<d,_=a[d];_===-1?((m&r)===0||(m&n)!==0)&&(a[d]=k1(m,t)):_<=t&&(e.expiredLanes|=m),i&=~m}}function ic(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dp(){var e=Ts;return Ts<<=1,(Ts&4194240)===0&&(Ts=64),e}function oc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ko(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$r(t),e[t]=r}function F1(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-$r(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function ac(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-$r(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var lt=0;function pp(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var _p,sc,gp,mp,vp,uc=!1,As=[],zn=null,Un=null,Gn=null,Zo=new Map,Qo=new Map,Vn=[],j1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yp(e,t){switch(e){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":Zo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qo.delete(t.pointerId)}}function Jo(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=da(t),t!==null&&sc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function z1(e,t,r,n,a){switch(t){case"focusin":return zn=Jo(zn,e,t,r,n,a),!0;case"dragenter":return Un=Jo(Un,e,t,r,n,a),!0;case"mouseover":return Gn=Jo(Gn,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Zo.set(i,Jo(Zo.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Qo.set(i,Jo(Qo.get(i)||null,e,t,r,n,a)),!0}return!1}function bp(e){var t=di(e.target);if(t!==null){var r=hi(t);if(r!==null){if(t=r.tag,t===13){if(t=op(r),t!==null){e.blockedOn=t,vp(e.priority,function(){gp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ss(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=cc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Zl=n,r.target.dispatchEvent(n),Zl=null}else return t=da(r),t!==null&&sc(t),e.blockedOn=r,!1;t.shift()}return!0}function Ep(e,t,r){Ss(e)&&r.delete(t)}function U1(){uc=!1,zn!==null&&Ss(zn)&&(zn=null),Un!==null&&Ss(Un)&&(Un=null),Gn!==null&&Ss(Gn)&&(Gn=null),Zo.forEach(Ep),Qo.forEach(Ep)}function ea(e,t){e.blockedOn===t&&(e.blockedOn=null,uc||(uc=!0,Ar.unstable_scheduleCallback(Ar.unstable_NormalPriority,U1)))}function ta(e){function t(a){return ea(a,e)}if(0<As.length){ea(As[0],e);for(var r=1;r<As.length;r++){var n=As[r];n.blockedOn===e&&(n.blockedOn=null)}}for(zn!==null&&ea(zn,e),Un!==null&&ea(Un,e),Gn!==null&&ea(Gn,e),Zo.forEach(t),Qo.forEach(t),r=0;r<Vn.length;r++)n=Vn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Vn.length&&(r=Vn[0],r.blockedOn===null);)bp(r),r.blockedOn===null&&Vn.shift()}var Vi=En.ReactCurrentBatchConfig,Ps=!0;function G1(e,t,r,n){var a=lt,i=Vi.transition;Vi.transition=null;try{lt=1,lc(e,t,r,n)}finally{lt=a,Vi.transition=i}}function V1(e,t,r,n){var a=lt,i=Vi.transition;Vi.transition=null;try{lt=4,lc(e,t,r,n)}finally{lt=a,Vi.transition=i}}function lc(e,t,r,n){if(Ps){var a=cc(e,t,r,n);if(a===null)Pc(e,t,n,Os,r),yp(e,n);else if(z1(a,e,t,r,n))n.stopPropagation();else if(yp(e,n),t&4&&-1<j1.indexOf(e)){for(;a!==null;){var i=da(a);if(i!==null&&_p(i),i=cc(e,t,r,n),i===null&&Pc(e,t,n,Os,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Pc(e,t,n,null,r)}}var Os=null;function cc(e,t,r,n){if(Os=null,e=Ql(n),e=di(e),e!==null)if(t=hi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=op(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Os=e,null}function Tp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(L1()){case nc:return 1;case fp:return 4;case bs:case C1:return 16;case hp:return 536870912;default:return 16}default:return 16}}var Hn=null,fc=null,Rs=null;function xp(){if(Rs)return Rs;var e,t=fc,r=t.length,n,a="value"in Hn?Hn.value:Hn.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var d=r-e;for(n=1;n<=d&&t[r-n]===a[i-n];n++);return Rs=a.slice(e,1<n?1-n:void 0)}function Ls(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cs(){return!0}function wp(){return!1}function Sr(e){function t(r,n,a,i,d){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=d,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(r=e[m],this[m]=r?r(i):i[m]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cs:wp,this.isPropagationStopped=wp,this}return Tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),t}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hc=Sr(Hi),ra=Tt({},Hi,{view:0,detail:0}),H1=Sr(ra),dc,pc,na,Is=Tt({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==na&&(na&&e.type==="mousemove"?(dc=e.screenX-na.screenX,pc=e.screenY-na.screenY):pc=dc=0,na=e),dc)},movementY:function(e){return"movementY"in e?e.movementY:pc}}),Ap=Sr(Is),W1=Tt({},Is,{dataTransfer:0}),$1=Sr(W1),q1=Tt({},ra,{relatedTarget:0}),_c=Sr(q1),X1=Tt({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Y1=Sr(X1),K1=Tt({},Hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Z1=Sr(K1),Q1=Tt({},Hi,{data:0}),Sp=Sr(Q1),J1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tE[e])?!!t[e]:!1}function gc(){return rE}var nE=Tt({},ra,{key:function(e){if(e.key){var t=J1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ls(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gc,charCode:function(e){return e.type==="keypress"?Ls(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ls(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iE=Sr(nE),oE=Tt({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pp=Sr(oE),aE=Tt({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gc}),sE=Sr(aE),uE=Tt({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),lE=Sr(uE),cE=Tt({},Is,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fE=Sr(cE),hE=[9,13,27,32],mc=bn&&"CompositionEvent"in window,ia=null;bn&&"documentMode"in document&&(ia=document.documentMode);var dE=bn&&"TextEvent"in window&&!ia,Op=bn&&(!mc||ia&&8<ia&&11>=ia),Rp=String.fromCharCode(32),Lp=!1;function Cp(e,t){switch(e){case"keyup":return hE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ip(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wi=!1;function pE(e,t){switch(e){case"compositionend":return Ip(t);case"keypress":return t.which!==32?null:(Lp=!0,Rp);case"textInput":return e=t.data,e===Rp&&Lp?null:e;default:return null}}function _E(e,t){if(Wi)return e==="compositionend"||!mc&&Cp(e,t)?(e=xp(),Rs=fc=Hn=null,Wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Op&&t.locale!=="ko"?null:t.data;default:return null}}var gE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gE[e.type]:t==="textarea"}function Dp(e,t,r,n){ep(n),t=Bs(t,"onChange"),0<t.length&&(r=new hc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var oa=null,aa=null;function mE(e){Qp(e,0)}function Ms(e){var t=Ki(e);if(Gd(t))return e}function vE(e,t){if(e==="change")return t}var Np=!1;if(bn){var vc;if(bn){var yc="oninput"in document;if(!yc){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),yc=typeof kp.oninput=="function"}vc=yc}else vc=!1;Np=vc&&(!document.documentMode||9<document.documentMode)}function Bp(){oa&&(oa.detachEvent("onpropertychange",Fp),aa=oa=null)}function Fp(e){if(e.propertyName==="value"&&Ms(aa)){var t=[];Dp(t,aa,e,Ql(e)),ip(mE,t)}}function yE(e,t,r){e==="focusin"?(Bp(),oa=t,aa=r,oa.attachEvent("onpropertychange",Fp)):e==="focusout"&&Bp()}function bE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ms(aa)}function EE(e,t){if(e==="click")return Ms(t)}function TE(e,t){if(e==="input"||e==="change")return Ms(t)}function xE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qr=typeof Object.is=="function"?Object.is:xE;function sa(e,t){if(qr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Ll.call(t,a)||!qr(e[a],t[a]))return!1}return!0}function jp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zp(e,t){var r=jp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jp(r)}}function Up(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Up(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gp(){for(var e=window,t=gs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=gs(e.document)}return t}function bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wE(e){var t=Gp(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Up(r.ownerDocument.documentElement,r)){if(n!==null&&bc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=zp(r,i);var d=zp(r,n);a&&d&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var AE=bn&&"documentMode"in document&&11>=document.documentMode,$i=null,Ec=null,ua=null,Tc=!1;function Vp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Tc||$i==null||$i!==gs(n)||(n=$i,"selectionStart"in n&&bc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ua&&sa(ua,n)||(ua=n,n=Bs(Ec,"onSelect"),0<n.length&&(t=new hc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=$i)))}function Ds(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var qi={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionend:Ds("Transition","TransitionEnd")},xc={},Hp={};bn&&(Hp=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function Ns(e){if(xc[e])return xc[e];if(!qi[e])return e;var t=qi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Hp)return xc[e]=t[r];return e}var Wp=Ns("animationend"),$p=Ns("animationiteration"),qp=Ns("animationstart"),Xp=Ns("transitionend"),Yp=new Map,Kp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wn(e,t){Yp.set(e,t),fi(t,[e])}for(var wc=0;wc<Kp.length;wc++){var Ac=Kp[wc],SE=Ac.toLowerCase(),PE=Ac[0].toUpperCase()+Ac.slice(1);Wn(SE,"on"+PE)}Wn(Wp,"onAnimationEnd"),Wn($p,"onAnimationIteration"),Wn(qp,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(Xp,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var la="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OE=new Set("cancel close invalid load scroll toggle".split(" ").concat(la));function Zp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,S1(n,t,void 0,e),e.currentTarget=null}function Qp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var d=n.length-1;0<=d;d--){var m=n[d],_=m.instance,v=m.currentTarget;if(m=m.listener,_!==i&&a.isPropagationStopped())break e;Zp(a,m,v),i=_}else for(d=0;d<n.length;d++){if(m=n[d],_=m.instance,v=m.currentTarget,m=m.listener,_!==i&&a.isPropagationStopped())break e;Zp(a,m,v),i=_}}}if(ys)throw e=rc,ys=!1,rc=null,e}function gt(e,t){var r=t[Mc];r===void 0&&(r=t[Mc]=new Set);var n=e+"__bubble";r.has(n)||(Jp(t,e,2,!1),r.add(n))}function Sc(e,t,r){var n=0;t&&(n|=4),Jp(r,e,n,t)}var ks="_reactListening"+Math.random().toString(36).slice(2);function ca(e){if(!e[ks]){e[ks]=!0,Dd.forEach(function(r){r!=="selectionchange"&&(OE.has(r)||Sc(r,!1,e),Sc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ks]||(t[ks]=!0,Sc("selectionchange",!1,t))}}function Jp(e,t,r,n){switch(Tp(t)){case 1:var a=G1;break;case 4:a=V1;break;default:a=lc}r=a.bind(null,t,r,e),a=void 0,!tc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Pc(e,t,r,n,a){var i=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var d=n.tag;if(d===3||d===4){var m=n.stateNode.containerInfo;if(m===a||m.nodeType===8&&m.parentNode===a)break;if(d===4)for(d=n.return;d!==null;){var _=d.tag;if((_===3||_===4)&&(_=d.stateNode.containerInfo,_===a||_.nodeType===8&&_.parentNode===a))return;d=d.return}for(;m!==null;){if(d=di(m),d===null)return;if(_=d.tag,_===5||_===6){n=i=d;continue e}m=m.parentNode}}n=n.return}ip(function(){var v=i,h=Ql(r),c=[];e:{var o=Yp.get(e);if(o!==void 0){var l=hc,s=e;switch(e){case"keypress":if(Ls(r)===0)break e;case"keydown":case"keyup":l=iE;break;case"focusin":s="focus",l=_c;break;case"focusout":s="blur",l=_c;break;case"beforeblur":case"afterblur":l=_c;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Ap;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=$1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=sE;break;case Wp:case $p:case qp:l=Y1;break;case Xp:l=lE;break;case"scroll":l=H1;break;case"wheel":l=fE;break;case"copy":case"cut":case"paste":l=Z1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pp}var u=(t&4)!==0,f=!u&&e==="scroll",g=u?o!==null?o+"Capture":null:o;u=[];for(var y=v,b;y!==null;){b=y;var E=b.stateNode;if(b.tag===5&&E!==null&&(b=E,g!==null&&(E=$o(y,g),E!=null&&u.push(fa(y,E,b)))),f)break;y=y.return}0<u.length&&(o=new l(o,s,null,r,h),c.push({event:o,listeners:u}))}}if((t&7)===0){e:{if(o=e==="mouseover"||e==="pointerover",l=e==="mouseout"||e==="pointerout",o&&r!==Zl&&(s=r.relatedTarget||r.fromElement)&&(di(s)||s[xn]))break e;if((l||o)&&(o=h.window===h?h:(o=h.ownerDocument)?o.defaultView||o.parentWindow:window,l?(s=r.relatedTarget||r.toElement,l=v,s=s?di(s):null,s!==null&&(f=hi(s),s!==f||s.tag!==5&&s.tag!==6)&&(s=null)):(l=null,s=v),l!==s)){if(u=Ap,E="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(u=Pp,E="onPointerLeave",g="onPointerEnter",y="pointer"),f=l==null?o:Ki(l),b=s==null?o:Ki(s),o=new u(E,y+"leave",l,r,h),o.target=f,o.relatedTarget=b,E=null,di(h)===v&&(u=new u(g,y+"enter",s,r,h),u.target=b,u.relatedTarget=f,E=u),f=E,l&&s)t:{for(u=l,g=s,y=0,b=u;b;b=Xi(b))y++;for(b=0,E=g;E;E=Xi(E))b++;for(;0<y-b;)u=Xi(u),y--;for(;0<b-y;)g=Xi(g),b--;for(;y--;){if(u===g||g!==null&&u===g.alternate)break t;u=Xi(u),g=Xi(g)}u=null}else u=null;l!==null&&e_(c,o,l,u,!1),s!==null&&f!==null&&e_(c,f,s,u,!0)}}e:{if(o=v?Ki(v):window,l=o.nodeName&&o.nodeName.toLowerCase(),l==="select"||l==="input"&&o.type==="file")var x=vE;else if(Mp(o))if(Np)x=TE;else{x=bE;var w=yE}else(l=o.nodeName)&&l.toLowerCase()==="input"&&(o.type==="checkbox"||o.type==="radio")&&(x=EE);if(x&&(x=x(e,v))){Dp(c,x,r,h);break e}w&&w(e,o,v),e==="focusout"&&(w=o._wrapperState)&&w.controlled&&o.type==="number"&&$l(o,"number",o.value)}switch(w=v?Ki(v):window,e){case"focusin":(Mp(w)||w.contentEditable==="true")&&($i=w,Ec=v,ua=null);break;case"focusout":ua=Ec=$i=null;break;case"mousedown":Tc=!0;break;case"contextmenu":case"mouseup":case"dragend":Tc=!1,Vp(c,r,h);break;case"selectionchange":if(AE)break;case"keydown":case"keyup":Vp(c,r,h)}var S;if(mc)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Wi?Cp(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(Op&&r.locale!=="ko"&&(Wi||O!=="onCompositionStart"?O==="onCompositionEnd"&&Wi&&(S=xp()):(Hn=h,fc="value"in Hn?Hn.value:Hn.textContent,Wi=!0)),w=Bs(v,O),0<w.length&&(O=new Sp(O,e,null,r,h),c.push({event:O,listeners:w}),S?O.data=S:(S=Ip(r),S!==null&&(O.data=S)))),(S=dE?pE(e,r):_E(e,r))&&(v=Bs(v,"onBeforeInput"),0<v.length&&(h=new Sp("onBeforeInput","beforeinput",null,r,h),c.push({event:h,listeners:v}),h.data=S))}Qp(c,t)})}function fa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bs(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=$o(e,r),i!=null&&n.unshift(fa(e,i,a)),i=$o(e,t),i!=null&&n.push(fa(e,i,a))),e=e.return}return n}function Xi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function e_(e,t,r,n,a){for(var i=t._reactName,d=[];r!==null&&r!==n;){var m=r,_=m.alternate,v=m.stateNode;if(_!==null&&_===n)break;m.tag===5&&v!==null&&(m=v,a?(_=$o(r,i),_!=null&&d.unshift(fa(r,_,m))):a||(_=$o(r,i),_!=null&&d.push(fa(r,_,m)))),r=r.return}d.length!==0&&e.push({event:t,listeners:d})}var RE=/\r\n?/g,LE=/\u0000|\uFFFD/g;function t_(e){return(typeof e=="string"?e:""+e).replace(RE,`
`).replace(LE,"")}function Fs(e,t,r){if(t=t_(t),t_(e)!==t&&r)throw Error(Te(425))}function js(){}var Oc=null,Rc=null;function Lc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cc=typeof setTimeout=="function"?setTimeout:void 0,CE=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,IE=typeof queueMicrotask=="function"?queueMicrotask:typeof r_!="undefined"?function(e){return r_.resolve(null).then(e).catch(ME)}:Cc;function ME(e){setTimeout(function(){throw e})}function Ic(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),ta(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);ta(t)}function Tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function n_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Yi=Math.random().toString(36).slice(2),an="__reactFiber$"+Yi,ha="__reactProps$"+Yi,xn="__reactContainer$"+Yi,Mc="__reactEvents$"+Yi,DE="__reactListeners$"+Yi,NE="__reactHandles$"+Yi;function di(e){var t=e[an];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xn]||r[an]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=n_(e);e!==null;){if(r=e[an])return r;e=n_(e)}return t}e=r,r=e.parentNode}return null}function da(e){return e=e[an]||e[xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ki(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Te(33))}function zs(e){return e[ha]||null}var Dc=[],Zi=-1;function $n(e){return{current:e}}function mt(e){0>Zi||(e.current=Dc[Zi],Dc[Zi]=null,Zi--)}function _t(e,t){Zi++,Dc[Zi]=e.current,e.current=t}var qn={},Qt=$n(qn),hr=$n(!1),pi=qn;function Qi(e,t){var r=e.type.contextTypes;if(!r)return qn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function dr(e){return e=e.childContextTypes,e!=null}function Us(){mt(hr),mt(Qt)}function i_(e,t,r){if(Qt.current!==qn)throw Error(Te(168));_t(Qt,t),_t(hr,r)}function o_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Te(108,y1(e)||"Unknown",a));return Tt({},r,n)}function Gs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qn,pi=Qt.current,_t(Qt,e),_t(hr,hr.current),!0}function a_(e,t,r){var n=e.stateNode;if(!n)throw Error(Te(169));r?(e=o_(e,t,pi),n.__reactInternalMemoizedMergedChildContext=e,mt(hr),mt(Qt),_t(Qt,e)):mt(hr),_t(hr,r)}var wn=null,Vs=!1,Nc=!1;function s_(e){wn===null?wn=[e]:wn.push(e)}function kE(e){Vs=!0,s_(e)}function Xn(){if(!Nc&&wn!==null){Nc=!0;var e=0,t=lt;try{var r=wn;for(lt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}wn=null,Vs=!1}catch(a){throw wn!==null&&(wn=wn.slice(e+1)),lp(nc,Xn),a}finally{lt=t,Nc=!1}}return null}var BE=En.ReactCurrentBatchConfig;function Xr(e,t){if(e&&e.defaultProps){t=Tt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var Hs=$n(null),Ws=null,Ji=null,kc=null;function Bc(){kc=Ji=Ws=null}function Fc(e){var t=Hs.current;mt(Hs),e._currentValue=t}function jc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function eo(e,t){Ws=e,kc=Ji=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(_r=!0),e.firstContext=null)}function Dr(e){var t=e._currentValue;if(kc!==e)if(e={context:e,memoizedValue:t,next:null},Ji===null){if(Ws===null)throw Error(Te(308));Ji=e,Ws.dependencies={lanes:0,firstContext:e}}else Ji=Ji.next=e;return t}var Yr=null,Yn=!1;function zc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function An(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kn(e,t){var r=e.updateQueue;r!==null&&(r=r.shared,xg(e)?(e=r.interleaved,e===null?(t.next=t,Yr===null?Yr=[r]:Yr.push(r)):(t.next=e.next,e.next=t),r.interleaved=t):(e=r.pending,e===null?t.next=t:(t.next=e.next,e.next=t),r.pending=t))}function $s(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ac(e,r)}}function l_(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var d={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=d:i=i.next=d,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function qs(e,t,r,n){var a=e.updateQueue;Yn=!1;var i=a.firstBaseUpdate,d=a.lastBaseUpdate,m=a.shared.pending;if(m!==null){a.shared.pending=null;var _=m,v=_.next;_.next=null,d===null?i=v:d.next=v,d=_;var h=e.alternate;h!==null&&(h=h.updateQueue,m=h.lastBaseUpdate,m!==d&&(m===null?h.firstBaseUpdate=v:m.next=v,h.lastBaseUpdate=_))}if(i!==null){var c=a.baseState;d=0,h=v=_=null,m=i;do{var o=m.lane,l=m.eventTime;if((n&o)===o){h!==null&&(h=h.next={eventTime:l,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var s=e,u=m;switch(o=t,l=r,u.tag){case 1:if(s=u.payload,typeof s=="function"){c=s.call(l,c,o);break e}c=s;break e;case 3:s.flags=s.flags&-65537|128;case 0:if(s=u.payload,o=typeof s=="function"?s.call(l,c,o):s,o==null)break e;c=Tt({},c,o);break e;case 2:Yn=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,o=a.effects,o===null?a.effects=[m]:o.push(m))}else l={eventTime:l,lane:o,tag:m.tag,payload:m.payload,callback:m.callback,next:null},h===null?(v=h=l,_=c):h=h.next=l,d|=o;if(m=m.next,m===null){if(m=a.shared.pending,m===null)break;o=m,m=o.next,o.next=null,a.lastBaseUpdate=o,a.shared.pending=null}}while(1);if(h===null&&(_=c),a.baseState=_,a.firstBaseUpdate=v,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do d|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);yi|=d,e.lanes=d,e.memoizedState=c}}function c_(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Te(191,a));a.call(n)}}}var f_=new Md.Component().refs;function Uc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Tt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Xs={isMounted:function(e){return(e=e._reactInternals)?hi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=cr(),a=ei(e),i=An(n,a);i.payload=t,r!=null&&(i.callback=r),Kn(e,i),t=jr(e,a,n),t!==null&&$s(t,e,a)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=cr(),a=ei(e),i=An(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),Kn(e,i),t=jr(e,a,n),t!==null&&$s(t,e,a)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=cr(),n=ei(e),a=An(r,n);a.tag=2,t!=null&&(a.callback=t),Kn(e,a),t=jr(e,n,r),t!==null&&$s(t,e,n)}};function h_(e,t,r,n,a,i,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,d):t.prototype&&t.prototype.isPureReactComponent?!sa(r,n)||!sa(a,i):!0}function d_(e,t,r){var n=!1,a=qn,i=t.contextType;return typeof i=="object"&&i!==null?i=Dr(i):(a=dr(t)?pi:Qt.current,n=t.contextTypes,i=(n=n!=null)?Qi(e,a):qn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xs,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function p_(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Xs.enqueueReplaceState(t,t.state,null)}function Gc(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs=f_,zc(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Dr(i):(i=dr(t)?pi:Qt.current,a.context=Qi(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Uc(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Xs.enqueueReplaceState(a,a.state,null),qs(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}var to=[],ro=0,Ys=null,Ks=0,Nr=[],kr=0,_i=null,Sn=1,Pn="";function gi(e,t){to[ro++]=Ks,to[ro++]=Ys,Ys=e,Ks=t}function __(e,t,r){Nr[kr++]=Sn,Nr[kr++]=Pn,Nr[kr++]=_i,_i=e;var n=Sn;e=Pn;var a=32-$r(n)-1;n&=~(1<<a),r+=1;var i=32-$r(t)+a;if(30<i){var d=a-a%5;i=(n&(1<<d)-1).toString(32),n>>=d,a-=d,Sn=1<<32-$r(t)+a|r<<a|n,Pn=i+e}else Sn=1<<i|r<<a|n,Pn=e}function Vc(e){e.return!==null&&(gi(e,1),__(e,1,0))}function Hc(e){for(;e===Ys;)Ys=to[--ro],to[ro]=null,Ks=to[--ro],to[ro]=null;for(;e===_i;)_i=Nr[--kr],Nr[kr]=null,Pn=Nr[--kr],Nr[kr]=null,Sn=Nr[--kr],Nr[kr]=null}var Pr=null,pr=null,bt=!1,Kr=null;function g_(e,t){var r=zr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function m_(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pr=e,pr=Tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pr=e,pr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=_i!==null?{id:Sn,overflow:Pn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=zr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Pr=e,pr=null,!0):!1;default:return!1}}function Wc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $c(e){if(bt){var t=pr;if(t){var r=t;if(!m_(e,t)){if(Wc(e))throw Error(Te(418));t=Tn(r.nextSibling);var n=Pr;t&&m_(e,t)?g_(n,r):(e.flags=e.flags&-4097|2,bt=!1,Pr=e)}}else{if(Wc(e))throw Error(Te(418));e.flags=e.flags&-4097|2,bt=!1,Pr=e}}}function v_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pr=e}function pa(e){if(e!==Pr)return!1;if(!bt)return v_(e),bt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Lc(e.type,e.memoizedProps)),t&&(t=pr)){if(Wc(e)){for(e=pr;e;)e=Tn(e.nextSibling);throw Error(Te(418))}for(;t;)g_(e,t),t=Tn(t.nextSibling)}if(v_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){pr=Tn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}pr=null}}else pr=Pr?Tn(e.stateNode.nextSibling):null;return!0}function no(){pr=Pr=null,bt=!1}function qc(e){Kr===null?Kr=[e]:Kr.push(e)}function _a(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Te(309));var n=r.stateNode}if(!n)throw Error(Te(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(d){var m=a.refs;m===f_&&(m=a.refs={}),d===null?delete m[i]:m[i]=d},t._stringRef=i,t)}if(typeof e!="string")throw Error(Te(284));if(!r._owner)throw Error(Te(290,e))}return e}function Zs(e,t){throw e=Object.prototype.toString.call(t),Error(Te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function y_(e){var t=e._init;return t(e._payload)}function b_(e){function t(g,y){if(e){var b=g.deletions;b===null?(g.deletions=[y],g.flags|=16):b.push(y)}}function r(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function a(g,y){return g=ri(g,y),g.index=0,g.sibling=null,g}function i(g,y,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<y?(g.flags|=2,y):b):(g.flags|=2,y)):(g.flags|=1048576,y)}function d(g){return e&&g.alternate===null&&(g.flags|=2),g}function m(g,y,b,E){return y===null||y.tag!==6?(y=Rf(b,g.mode,E),y.return=g,y):(y=a(y,b),y.return=g,y)}function _(g,y,b,E){var x=b.type;return x===ji?h(g,y,b.props.children,E,b.key):y!==null&&(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Fn&&y_(x)===y.type)?(E=a(y,b.props),E.ref=_a(g,y,b),E.return=g,E):(E=vu(b.type,b.key,b.props,null,g.mode,E),E.ref=_a(g,y,b),E.return=g,E)}function v(g,y,b,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Lf(b,g.mode,E),y.return=g,y):(y=a(y,b.children||[]),y.return=g,y)}function h(g,y,b,E,x){return y===null||y.tag!==7?(y=xi(b,g.mode,E,x),y.return=g,y):(y=a(y,b),y.return=g,y)}function c(g,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Rf(""+y,g.mode,b),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ps:return b=vu(y.type,y.key,y.props,null,g.mode,b),b.ref=_a(g,null,y),b.return=g,b;case Fi:return y=Lf(y,g.mode,b),y.return=g,y;case Fn:var E=y._init;return c(g,E(y._payload),b)}if(Vo(y)||Uo(y))return y=xi(y,g.mode,b,null),y.return=g,y;Zs(g,y)}return null}function o(g,y,b,E){var x=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return x!==null?null:m(g,y,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ps:return b.key===x?_(g,y,b,E):null;case Fi:return b.key===x?v(g,y,b,E):null;case Fn:return x=b._init,o(g,y,x(b._payload),E)}if(Vo(b)||Uo(b))return x!==null?null:h(g,y,b,E,null);Zs(g,b)}return null}function l(g,y,b,E,x){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(b)||null,m(y,g,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ps:return g=g.get(E.key===null?b:E.key)||null,_(y,g,E,x);case Fi:return g=g.get(E.key===null?b:E.key)||null,v(y,g,E,x);case Fn:var w=E._init;return l(g,y,b,w(E._payload),x)}if(Vo(E)||Uo(E))return g=g.get(b)||null,h(y,g,E,x,null);Zs(y,E)}return null}function s(g,y,b,E){for(var x=null,w=null,S=y,O=y=0,A=null;S!==null&&O<b.length;O++){S.index>O?(A=S,S=null):A=S.sibling;var L=o(g,S,b[O],E);if(L===null){S===null&&(S=A);break}e&&S&&L.alternate===null&&t(g,S),y=i(L,y,O),w===null?x=L:w.sibling=L,w=L,S=A}if(O===b.length)return r(g,S),bt&&gi(g,O),x;if(S===null){for(;O<b.length;O++)S=c(g,b[O],E),S!==null&&(y=i(S,y,O),w===null?x=S:w.sibling=S,w=S);return bt&&gi(g,O),x}for(S=n(g,S);O<b.length;O++)A=l(S,g,O,b[O],E),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?O:A.key),y=i(A,y,O),w===null?x=A:w.sibling=A,w=A);return e&&S.forEach(function(k){return t(g,k)}),bt&&gi(g,O),x}function u(g,y,b,E){var x=Uo(b);if(typeof x!="function")throw Error(Te(150));if(b=x.call(b),b==null)throw Error(Te(151));for(var w=x=null,S=y,O=y=0,A=null,L=b.next();S!==null&&!L.done;O++,L=b.next()){S.index>O?(A=S,S=null):A=S.sibling;var k=o(g,S,L.value,E);if(k===null){S===null&&(S=A);break}e&&S&&k.alternate===null&&t(g,S),y=i(k,y,O),w===null?x=k:w.sibling=k,w=k,S=A}if(L.done)return r(g,S),bt&&gi(g,O),x;if(S===null){for(;!L.done;O++,L=b.next())L=c(g,L.value,E),L!==null&&(y=i(L,y,O),w===null?x=L:w.sibling=L,w=L);return bt&&gi(g,O),x}for(S=n(g,S);!L.done;O++,L=b.next())L=l(S,g,O,L.value,E),L!==null&&(e&&L.alternate!==null&&S.delete(L.key===null?O:L.key),y=i(L,y,O),w===null?x=L:w.sibling=L,w=L);return e&&S.forEach(function(D){return t(g,D)}),bt&&gi(g,O),x}function f(g,y,b,E){if(typeof b=="object"&&b!==null&&b.type===ji&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ps:e:{for(var x=b.key,w=y;w!==null;){if(w.key===x){if(x=b.type,x===ji){if(w.tag===7){r(g,w.sibling),y=a(w,b.props.children),y.return=g,g=y;break e}}else if(w.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Fn&&y_(x)===w.type){r(g,w.sibling),y=a(w,b.props),y.ref=_a(g,w,b),y.return=g,g=y;break e}r(g,w);break}else t(g,w);w=w.sibling}b.type===ji?(y=xi(b.props.children,g.mode,E,b.key),y.return=g,g=y):(E=vu(b.type,b.key,b.props,null,g.mode,E),E.ref=_a(g,y,b),E.return=g,g=E)}return d(g);case Fi:e:{for(w=b.key;y!==null;){if(y.key===w)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(g,y.sibling),y=a(y,b.children||[]),y.return=g,g=y;break e}else{r(g,y);break}else t(g,y);y=y.sibling}y=Lf(b,g.mode,E),y.return=g,g=y}return d(g);case Fn:return w=b._init,f(g,y,w(b._payload),E)}if(Vo(b))return s(g,y,b,E);if(Uo(b))return u(g,y,b,E);Zs(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(g,y.sibling),y=a(y,b),y.return=g,g=y):(r(g,y),y=Rf(b,g.mode,E),y.return=g,g=y),d(g)):r(g,y)}return f}var io=b_(!0),E_=b_(!1),ga={},sn=$n(ga),ma=$n(ga),va=$n(ga);function mi(e){if(e===ga)throw Error(Te(174));return e}function Xc(e,t){switch(_t(va,t),_t(ma,e),_t(sn,ga),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xl(t,e)}mt(sn),_t(sn,t)}function oo(){mt(sn),mt(ma),mt(va)}function T_(e){mi(va.current);var t=mi(sn.current),r=Xl(t,e.type);t!==r&&(_t(ma,e),_t(sn,r))}function Yc(e){ma.current===e&&(mt(sn),mt(ma))}var xt=$n(0);function Qs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kc=[];function Zc(){for(var e=0;e<Kc.length;e++)Kc[e]._workInProgressVersionPrimary=null;Kc.length=0}var Js=En.ReactCurrentDispatcher,Qc=En.ReactCurrentBatchConfig,vi=0,wt=null,jt=null,Wt=null,eu=!1,ya=!1,ba=0,FE=0;function Jt(){throw Error(Te(321))}function Jc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!qr(e[r],t[r]))return!1;return!0}function ef(e,t,r,n,a,i){if(vi=i,wt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Js.current=e===null||e.memoizedState===null?GE:VE,e=r(n,a),ya){i=0;do{if(ya=!1,ba=0,25<=i)throw Error(Te(301));i+=1,Wt=jt=null,t.updateQueue=null,Js.current=HE,e=r(n,a)}while(ya)}if(Js.current=nu,t=jt!==null&&jt.next!==null,vi=0,Wt=jt=wt=null,eu=!1,t)throw Error(Te(300));return e}function tf(){var e=ba!==0;return ba=0,e}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?wt.memoizedState=Wt=e:Wt=Wt.next=e,Wt}function Br(){if(jt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=jt.next;var t=Wt===null?wt.memoizedState:Wt.next;if(t!==null)Wt=t,jt=e;else{if(e===null)throw Error(Te(310));jt=e,e={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Wt===null?wt.memoizedState=Wt=e:Wt=Wt.next=e}return Wt}function Ea(e,t){return typeof t=="function"?t(e):t}function rf(e){var t=Br(),r=t.queue;if(r===null)throw Error(Te(311));r.lastRenderedReducer=e;var n=jt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var d=a.next;a.next=i.next,i.next=d}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var m=d=null,_=null,v=i;do{var h=v.lane;if((vi&h)===h)_!==null&&(_=_.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),n=v.hasEagerState?v.eagerState:e(n,v.action);else{var c={lane:h,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};_===null?(m=_=c,d=n):_=_.next=c,wt.lanes|=h,yi|=h}v=v.next}while(v!==null&&v!==i);_===null?d=n:_.next=m,qr(n,t.memoizedState)||(_r=!0),t.memoizedState=n,t.baseState=d,t.baseQueue=_,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,wt.lanes|=i,yi|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function nf(e){var t=Br(),r=t.queue;if(r===null)throw Error(Te(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var d=a=a.next;do i=e(i,d.action),d=d.next;while(d!==a);qr(i,t.memoizedState)||(_r=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function x_(){}function w_(e,t){var r=wt,n=Br(),a=t(),i=!qr(n.memoizedState,a);if(i&&(n.memoizedState=a,_r=!0),n=n.queue,of(P_.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Wt!==null&&Wt.memoizedState.tag&1){if(r.flags|=2048,Ta(9,S_.bind(null,r,n,a,t),void 0,null),zt===null)throw Error(Te(349));(vi&30)!==0||A_(r,t,a)}return a}function A_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=wt.updateQueue,t===null?(t={lastEffect:null,stores:null},wt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function S_(e,t,r,n){t.value=r,t.getSnapshot=n,O_(t)&&jr(e,1,-1)}function P_(e,t,r){return r(function(){O_(t)&&jr(e,1,-1)})}function O_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qr(e,r)}catch{return!0}}function R_(e){var t=un();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:e},t.queue=e,e=e.dispatch=UE.bind(null,wt,e),[t.memoizedState,e]}function Ta(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=wt.updateQueue,t===null?(t={lastEffect:null,stores:null},wt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function L_(){return Br().memoizedState}function tu(e,t,r,n){var a=un();wt.flags|=e,a.memoizedState=Ta(1|t,r,void 0,n===void 0?null:n)}function ru(e,t,r,n){var a=Br();n=n===void 0?null:n;var i=void 0;if(jt!==null){var d=jt.memoizedState;if(i=d.destroy,n!==null&&Jc(n,d.deps)){a.memoizedState=Ta(t,r,i,n);return}}wt.flags|=e,a.memoizedState=Ta(1|t,r,i,n)}function C_(e,t){return tu(8390656,8,e,t)}function of(e,t){return ru(2048,8,e,t)}function I_(e,t){return ru(4,2,e,t)}function M_(e,t){return ru(4,4,e,t)}function D_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function N_(e,t,r){return r=r!=null?r.concat([e]):null,ru(4,4,D_.bind(null,t,e),r)}function af(){}function k_(e,t){var r=Br();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Jc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function B_(e,t){var r=Br();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Jc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function F_(e,t,r){return(vi&21)===0?(e.baseState&&(e.baseState=!1,_r=!0),e.memoizedState=r):(qr(r,t)||(r=dp(),wt.lanes|=r,yi|=r,e.baseState=!0),t)}function jE(e,t){var r=lt;lt=r!==0&&4>r?r:4,e(!0);var n=Qc.transition;Qc.transition={};try{e(!1),t()}finally{lt=r,Qc.transition=n}}function j_(){return Br().memoizedState}function zE(e,t,r){var n=ei(e);r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},z_(e)?U_(t,r):(G_(e,t,r),r=cr(),e=jr(e,n,r),e!==null&&V_(e,t,n))}function UE(e,t,r){var n=ei(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(z_(e))U_(t,a);else{G_(e,t,a);var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var d=t.lastRenderedState,m=i(d,r);if(a.hasEagerState=!0,a.eagerState=m,qr(m,d))return}catch{}finally{}r=cr(),e=jr(e,n,r),e!==null&&V_(e,t,n)}}function z_(e){var t=e.alternate;return e===wt||t!==null&&t===wt}function U_(e,t){ya=eu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function G_(e,t,r){xg(e)?(e=t.interleaved,e===null?(r.next=r,Yr===null?Yr=[t]:Yr.push(t)):(r.next=e.next,e.next=r),t.interleaved=r):(e=t.pending,e===null?r.next=r:(r.next=e.next,e.next=r),t.pending=r)}function V_(e,t,r){if((r&4194240)!==0){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ac(e,r)}}var nu={readContext:Dr,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},GE={readContext:Dr,useCallback:function(e,t){return un().memoizedState=[e,t===void 0?null:t],e},useContext:Dr,useEffect:C_,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,tu(4194308,4,D_.bind(null,t,e),r)},useLayoutEffect:function(e,t){return tu(4194308,4,e,t)},useInsertionEffect:function(e,t){return tu(4,2,e,t)},useMemo:function(e,t){var r=un();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=un();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=zE.bind(null,wt,e),[n.memoizedState,e]},useRef:function(e){var t=un();return e={current:e},t.memoizedState=e},useState:R_,useDebugValue:af,useDeferredValue:function(e){return un().memoizedState=e},useTransition:function(){var e=R_(!1),t=e[0];return e=jE.bind(null,e[1]),un().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=wt,a=un();if(bt){if(r===void 0)throw Error(Te(407));r=r()}else{if(r=t(),zt===null)throw Error(Te(349));(vi&30)!==0||A_(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,C_(P_.bind(null,n,i,e),[e]),n.flags|=2048,Ta(9,S_.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=un(),t=zt.identifierPrefix;if(bt){var r=Pn,n=Sn;r=(n&~(1<<32-$r(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ba++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=FE++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},VE={readContext:Dr,useCallback:k_,useContext:Dr,useEffect:of,useImperativeHandle:N_,useInsertionEffect:I_,useLayoutEffect:M_,useMemo:B_,useReducer:rf,useRef:L_,useState:function(){return rf(Ea)},useDebugValue:af,useDeferredValue:function(e){var t=Br();return F_(t,jt.memoizedState,e)},useTransition:function(){var e=rf(Ea)[0],t=Br().memoizedState;return[e,t]},useMutableSource:x_,useSyncExternalStore:w_,useId:j_,unstable_isNewReconciler:!1},HE={readContext:Dr,useCallback:k_,useContext:Dr,useEffect:of,useImperativeHandle:N_,useInsertionEffect:I_,useLayoutEffect:M_,useMemo:B_,useReducer:nf,useRef:L_,useState:function(){return nf(Ea)},useDebugValue:af,useDeferredValue:function(e){var t=Br();return jt===null?t.memoizedState=e:F_(t,jt.memoizedState,e)},useTransition:function(){var e=nf(Ea)[0],t=Br().memoizedState;return[e,t]},useMutableSource:x_,useSyncExternalStore:w_,useId:j_,unstable_isNewReconciler:!1};function sf(e,t){try{var r="",n=t;do r+=v1(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a}}function uf(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var WE=typeof WeakMap=="function"?WeakMap:Map;function H_(e,t,r){r=An(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){fu||(fu=!0,Ef=n),uf(e,t)},r}function W_(e,t,r){r=An(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){uf(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){uf(e,t),typeof n!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),r}function $_(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new WE;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=iT.bind(null,e,t,r),t.then(e,e))}function q_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function X_(e,t,r,n,a){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=An(-1,1),t.tag=2,Kn(r,t))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var Y_,lf,K_,Z_;Y_=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},lf=function(){},K_=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,mi(sn.current);var i=null;switch(r){case"input":a=Hl(e,a),n=Hl(e,n),i=[];break;case"select":a=Tt({},a,{value:void 0}),n=Tt({},n,{value:void 0}),i=[];break;case"textarea":a=ql(e,a),n=ql(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=js)}Yl(r,n);var d;r=null;for(v in a)if(!n.hasOwnProperty(v)&&a.hasOwnProperty(v)&&a[v]!=null)if(v==="style"){var m=a[v];for(d in m)m.hasOwnProperty(d)&&(r||(r={}),r[d]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(zo.hasOwnProperty(v)?i||(i=[]):(i=i||[]).push(v,null));for(v in n){var _=n[v];if(m=a!=null?a[v]:void 0,n.hasOwnProperty(v)&&_!==m&&(_!=null||m!=null))if(v==="style")if(m){for(d in m)!m.hasOwnProperty(d)||_&&_.hasOwnProperty(d)||(r||(r={}),r[d]="");for(d in _)_.hasOwnProperty(d)&&m[d]!==_[d]&&(r||(r={}),r[d]=_[d])}else r||(i||(i=[]),i.push(v,r)),r=_;else v==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,m=m?m.__html:void 0,_!=null&&m!==_&&(i=i||[]).push(v,_)):v==="children"?typeof _!="string"&&typeof _!="number"||(i=i||[]).push(v,""+_):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(zo.hasOwnProperty(v)?(_!=null&&v==="onScroll"&&gt("scroll",e),i||m===_||(i=[])):(i=i||[]).push(v,_))}r&&(i=i||[]).push("style",r);var v=i;(t.updateQueue=v)&&(t.flags|=4)}},Z_=function(e,t,r,n){r!==n&&(t.flags|=4)};function xa(e,t){if(!bt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function er(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function $E(e,t,r){var n=t.pendingProps;switch(Hc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(t),null;case 1:return dr(t.type)&&Us(),er(t),null;case 3:return n=t.stateNode,oo(),mt(hr),mt(Qt),Zc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(pa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Kr!==null&&(wf(Kr),Kr=null))),lf(e,t),er(t),null;case 5:Yc(t);var a=mi(va.current);if(r=t.type,e!==null&&t.stateNode!=null)K_(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Te(166));return er(t),null}if(e=mi(sn.current),pa(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[an]=t,n[ha]=i,e=(t.mode&1)!==0,r){case"dialog":gt("cancel",n),gt("close",n);break;case"iframe":case"object":case"embed":gt("load",n);break;case"video":case"audio":for(a=0;a<la.length;a++)gt(la[a],n);break;case"source":gt("error",n);break;case"img":case"image":case"link":gt("error",n),gt("load",n);break;case"details":gt("toggle",n);break;case"input":Vd(n,i),gt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},gt("invalid",n);break;case"textarea":$d(n,i),gt("invalid",n)}Yl(r,i),a=null;for(var d in i)if(i.hasOwnProperty(d)){var m=i[d];d==="children"?typeof m=="string"?n.textContent!==m&&(i.suppressHydrationWarning!==!0&&Fs(n.textContent,m,e),a=["children",m]):typeof m=="number"&&n.textContent!==""+m&&(i.suppressHydrationWarning!==!0&&Fs(n.textContent,m,e),a=["children",""+m]):zo.hasOwnProperty(d)&&m!=null&&d==="onScroll"&&gt("scroll",n)}switch(r){case"input":_s(n),Wd(n,i,!0);break;case"textarea":_s(n),Xd(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=js)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=d.createElement(r,{is:n.is}):(e=d.createElement(r),r==="select"&&(d=e,n.multiple?d.multiple=!0:n.size&&(d.size=n.size))):e=d.createElementNS(e,r),e[an]=t,e[ha]=n,Y_(e,t,!1,!1),t.stateNode=e;e:{switch(d=Kl(r,n),r){case"dialog":gt("cancel",e),gt("close",e),a=n;break;case"iframe":case"object":case"embed":gt("load",e),a=n;break;case"video":case"audio":for(a=0;a<la.length;a++)gt(la[a],e);a=n;break;case"source":gt("error",e),a=n;break;case"img":case"image":case"link":gt("error",e),gt("load",e),a=n;break;case"details":gt("toggle",e),a=n;break;case"input":Vd(e,n),a=Hl(e,n),gt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Tt({},n,{value:void 0}),gt("invalid",e);break;case"textarea":$d(e,n),a=ql(e,n),gt("invalid",e);break;default:a=n}Yl(r,a),m=a;for(i in m)if(m.hasOwnProperty(i)){var _=m[i];i==="style"?Qd(e,_):i==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&Kd(e,_)):i==="children"?typeof _=="string"?(r!=="textarea"||_!=="")&&Ho(e,_):typeof _=="number"&&Ho(e,""+_):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zo.hasOwnProperty(i)?_!=null&&i==="onScroll"&&gt("scroll",e):_!=null&&Ml(e,i,_,d))}switch(r){case"input":_s(e),Wd(e,n,!1);break;case"textarea":_s(e),Xd(e);break;case"option":n.value!=null&&e.setAttribute("value",""+jn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?zi(e,!!n.multiple,i,!1):n.defaultValue!=null&&zi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=js)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return er(t),null;case 6:if(e&&t.stateNode!=null)Z_(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Te(166));if(r=mi(va.current),mi(sn.current),pa(t)){if(n=t.stateNode,r=t.memoizedProps,n[an]=t,(i=n.nodeValue!==r)&&(e=Pr,e!==null))switch(e.tag){case 3:Fs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fs(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[an]=t,t.stateNode=n}return er(t),null;case 13:if(mt(xt),n=t.memoizedState,bt&&pr!==null&&(t.mode&1)!==0&&(t.flags&128)===0){for(n=pr;n;)n=Tn(n.nextSibling);return no(),t.flags|=98560,t}if(n!==null&&n.dehydrated!==null){if(n=pa(t),e===null){if(!n)throw Error(Te(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Te(317));n[an]=t}else no(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;return er(t),null}return Kr!==null&&(wf(Kr),Kr=null),(t.flags&128)!==0?(t.lanes=r,t):(n=n!==null,r=!1,e===null?pa(t):r=e.memoizedState!==null,n!==r&&n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(xt.current&1)!==0?Ut===0&&(Ut=3):Pf())),t.updateQueue!==null&&(t.flags|=4),er(t),null);case 4:return oo(),lf(e,t),e===null&&ca(t.stateNode.containerInfo),er(t),null;case 10:return Fc(t.type._context),er(t),null;case 17:return dr(t.type)&&Us(),er(t),null;case 19:if(mt(xt),i=t.memoizedState,i===null)return er(t),null;if(n=(t.flags&128)!==0,d=i.rendering,d===null)if(n)xa(i,!1);else{if(Ut!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Qs(e),d!==null){for(t.flags|=128,xa(i,!1),n=d.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,d=i.alternate,d===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,e=d.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return _t(xt,xt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ct()>uo&&(t.flags|=128,n=!0,xa(i,!1),t.lanes=4194304)}else{if(!n)if(e=Qs(d),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),xa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!d.alternate&&!bt)return er(t),null}else 2*Ct()-i.renderingStartTime>uo&&r!==1073741824&&(t.flags|=128,n=!0,xa(i,!1),t.lanes=4194304);i.isBackwards?(d.sibling=t.child,t.child=d):(r=i.last,r!==null?r.sibling=d:t.child=d,i.last=d)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ct(),t.sibling=null,r=xt.current,_t(xt,n?r&1|2:r&1),t):(er(t),null);case 22:case 23:return Sf(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&(t.mode&1)!==0?(Or&1073741824)!==0&&(er(t),t.subtreeFlags&6&&(t.flags|=8192)):er(t),null;case 24:return null;case 25:return null}throw Error(Te(156,t.tag))}var qE=En.ReactCurrentOwner,_r=!1;function lr(e,t,r,n){t.child=e===null?E_(t,null,r,n):io(t,e.child,r,n)}function Q_(e,t,r,n,a){r=r.render;var i=t.ref;return eo(t,a),n=ef(e,t,r,n,i,a),r=tf(),e!==null&&!_r?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,On(e,t,a)):(bt&&r&&Vc(t),t.flags|=1,lr(e,t,n,a),t.child)}function J_(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Of(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,eg(e,t,i,n,a)):(e=vu(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,(e.lanes&a)===0){var d=i.memoizedProps;if(r=r.compare,r=r!==null?r:sa,r(d,n)&&e.ref===t.ref)return On(e,t,a)}return t.flags|=1,e=ri(i,n),e.ref=t.ref,e.return=t,t.child=e}function eg(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(sa(i,n)&&e.ref===t.ref)if(_r=!1,t.pendingProps=n=i,(e.lanes&a)!==0)(e.flags&131072)!==0&&(_r=!0);else return t.lanes=e.lanes,On(e,t,a)}return cf(e,t,r,n,a)}function tg(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(so,Or),Or|=r;else if((r&1073741824)!==0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,_t(so,Or),Or|=n;else return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_t(so,Or),Or|=e,null;else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,_t(so,Or),Or|=n;return lr(e,t,a,r),t.child}function rg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function cf(e,t,r,n,a){var i=dr(r)?pi:Qt.current;return i=Qi(t,i),eo(t,a),r=ef(e,t,r,n,i,a),n=tf(),e!==null&&!_r?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,On(e,t,a)):(bt&&n&&Vc(t),t.flags|=1,lr(e,t,r,a),t.child)}function ng(e,t,r,n,a){if(dr(r)){var i=!0;Gs(t)}else i=!1;if(eo(t,a),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),d_(t,r,n),Gc(t,r,n,a),n=!0;else if(e===null){var d=t.stateNode,m=t.memoizedProps;d.props=m;var _=d.context,v=r.contextType;typeof v=="object"&&v!==null?v=Dr(v):(v=dr(r)?pi:Qt.current,v=Qi(t,v));var h=r.getDerivedStateFromProps,c=typeof h=="function"||typeof d.getSnapshotBeforeUpdate=="function";c||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==n||_!==v)&&p_(t,d,n,v),Yn=!1;var o=t.memoizedState;d.state=o,qs(t,n,d,a),_=t.memoizedState,m!==n||o!==_||hr.current||Yn?(typeof h=="function"&&(Uc(t,r,h,n),_=t.memoizedState),(m=Yn||h_(t,r,m,n,o,_,v))?(c||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=_),d.props=n,d.state=_,d.context=v,n=m):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{d=t.stateNode,u_(e,t),m=t.memoizedProps,v=t.type===t.elementType?m:Xr(t.type,m),d.props=v,c=t.pendingProps,o=d.context,_=r.contextType,typeof _=="object"&&_!==null?_=Dr(_):(_=dr(r)?pi:Qt.current,_=Qi(t,_));var l=r.getDerivedStateFromProps;(h=typeof l=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==c||o!==_)&&p_(t,d,n,_),Yn=!1,o=t.memoizedState,d.state=o,qs(t,n,d,a);var s=t.memoizedState;m!==c||o!==s||hr.current||Yn?(typeof l=="function"&&(Uc(t,r,l,n),s=t.memoizedState),(v=Yn||h_(t,r,v,n,o,s,_)||!1)?(h||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(n,s,_),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(n,s,_)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&o===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&o===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=s),d.props=n,d.state=s,d.context=_,n=v):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&o===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&o===e.memoizedState||(t.flags|=1024),n=!1)}return ff(e,t,r,n,i,a)}function ff(e,t,r,n,a,i){rg(e,t);var d=(t.flags&128)!==0;if(!n&&!d)return a&&a_(t,r,!1),On(e,t,i);n=t.stateNode,qE.current=t;var m=d&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&d?(t.child=io(t,e.child,null,i),t.child=io(t,null,m,i)):lr(e,t,m,i),t.memoizedState=n.state,a&&a_(t,r,!0),t.child}function ig(e){var t=e.stateNode;t.pendingContext?i_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&i_(e,t.context,!1),Xc(e,t.containerInfo)}function og(e,t,r,n,a){return no(),qc(a),t.flags|=256,lr(e,t,r,n),t.child}var iu={dehydrated:null,treeContext:null,retryLane:0};function ou(e){return{baseLanes:e,cachePool:null,transitions:null}}function ag(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function sg(e,t,r){var n=t.pendingProps,a=xt.current,i=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(a&2)!==0),m?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),_t(xt,a&1),e===null)return $c(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},(n&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=a):i=yu(a,n,0,null),e=xi(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ou(r),t.memoizedState=iu,e):hf(t,a));if(a=e.memoizedState,a!==null){if(m=a.dehydrated,m!==null){if(d)return t.flags&256?(t.flags&=-257,au(e,t,r,Error(Te(422)))):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=yu({mode:"visible",children:n.children},a,0,null),i=xi(i,a,r,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,(t.mode&1)!==0&&io(t,e.child,null,r),t.child.memoizedState=ou(r),t.memoizedState=iu,i);if((t.mode&1)===0)t=au(e,t,r,null);else if(m.data==="$!")t=au(e,t,r,Error(Te(419)));else if(n=(r&e.childLanes)!==0,_r||n){if(n=zt,n!==null){switch(r&-r){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}n=(i&(n.suspendedLanes|r))!==0?0:i,n!==0&&n!==a.retryLane&&(a.retryLane=n,jr(e,n,-1))}Pf(),t=au(e,t,r,Error(Te(421)))}else m.data==="$?"?(t.flags|=128,t.child=e.child,t=oT.bind(null,e),m._reactRetry=t,t=null):(r=a.treeContext,pr=Tn(m.nextSibling),Pr=t,bt=!0,Kr=null,r!==null&&(Nr[kr++]=Sn,Nr[kr++]=Pn,Nr[kr++]=_i,Sn=r.id,Pn=r.overflow,_i=t),t=hf(t,t.pendingProps.children),t.flags|=4096);return t}return i?(n=lg(e,t,n.children,n.fallback,r),i=t.child,a=e.child.memoizedState,i.memoizedState=a===null?ou(r):ag(a,r),i.childLanes=e.childLanes&~r,t.memoizedState=iu,n):(r=ug(e,t,n.children,r),t.memoizedState=null,r)}return i?(n=lg(e,t,n.children,n.fallback,r),i=t.child,a=e.child.memoizedState,i.memoizedState=a===null?ou(r):ag(a,r),i.childLanes=e.childLanes&~r,t.memoizedState=iu,n):(r=ug(e,t,n.children,r),t.memoizedState=null,r)}function hf(e,t){return t=yu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ug(e,t,r,n){var a=e.child;return e=a.sibling,r=ri(a,{mode:"visible",children:r}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r}function lg(e,t,r,n,a){var i=t.mode;e=e.child;var d=e.sibling,m={mode:"hidden",children:r};return(i&1)===0&&t.child!==e?(r=t.child,r.childLanes=0,r.pendingProps=m,t.deletions=null):(r=ri(e,m),r.subtreeFlags=e.subtreeFlags&14680064),d!==null?n=ri(d,n):(n=xi(n,i,a,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function au(e,t,r,n){return n!==null&&qc(n),io(t,e.child,null,r),e=hf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cg(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),jc(e.return,t,r)}function df(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function fg(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(lr(e,t,n.children,r),n=xt.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cg(e,r,t);else if(e.tag===19)cg(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(_t(xt,n),(t.mode&1)===0)t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Qs(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),df(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Qs(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}df(t,!0,r,null,i);break;case"together":df(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function On(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),yi|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(Te(153));if(t.child!==null){for(e=t.child,r=ri(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ri(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function XE(e,t,r){switch(t.tag){case 3:ig(t),no();break;case 5:T_(t);break;case 1:dr(t.type)&&Gs(t);break;case 4:Xc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;_t(Hs,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(_t(xt,xt.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?sg(e,t,r):(_t(xt,xt.current&1),e=On(e,t,r),e!==null?e.sibling:null);_t(xt,xt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&128)!==0){if(n)return fg(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),_t(xt,xt.current),n)break;return null;case 22:case 23:return t.lanes=0,tg(e,t,r)}return On(e,t,r)}function YE(e,t){switch(Hc(t),t.tag){case 1:return dr(t.type)&&Us(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oo(),mt(hr),mt(Qt),Zc(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Yc(t),null;case 13:if(mt(xt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Te(340));no()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return mt(xt),null;case 4:return oo(),null;case 10:return Fc(t.type._context),null;case 22:case 23:return Sf(),null;case 24:return null;default:return null}}var su=!1,tr=!1,KE=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function ao(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ot(e,t,n)}else r.current=null}function pf(e,t,r){try{r()}catch(n){Ot(e,t,n)}}var hg=!1;function ZE(e,t){if(Oc=Ps,e=Gp(),bc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var d=0,m=-1,_=-1,v=0,h=0,c=e,o=null;t:for(;;){for(var l;c!==r||a!==0&&c.nodeType!==3||(m=d+a),c!==i||n!==0&&c.nodeType!==3||(_=d+n),c.nodeType===3&&(d+=c.nodeValue.length),(l=c.firstChild)!==null;)o=c,c=l;for(;;){if(c===e)break t;if(o===r&&++v===a&&(m=d),o===i&&++h===n&&(_=d),(l=c.nextSibling)!==null)break;c=o,o=c.parentNode}c=l}r=m===-1||_===-1?null:{start:m,end:_}}else r=null}r=r||{start:0,end:0}}else r=null;for(Rc={focusedElem:e,selectionRange:r},Ps=!1,Ne=t;Ne!==null;)if(t=Ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ne=e;else for(;Ne!==null;){t=Ne;try{var s=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(s!==null){var u=s.memoizedProps,f=s.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?u:Xr(t.type,u),f);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;if(b.nodeType===1)b.textContent="";else if(b.nodeType===9){var E=b.body;E!=null&&(E.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(Te(163))}}catch(x){Ot(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,Ne=e;break}Ne=t.return}return s=hg,hg=!1,s}function wa(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&pf(t,r,i)}a=a.next}while(a!==n)}}function uu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function _f(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function dg(e){var t=e.alternate;t!==null&&(e.alternate=null,dg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[an],delete t[ha],delete t[Mc],delete t[DE],delete t[NE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pg(e){return e.tag===5||e.tag===3||e.tag===4}function _g(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=js));else if(n!==4&&(e=e.child,e!==null))for(gf(e,t,r),e=e.sibling;e!==null;)gf(e,t,r),e=e.sibling}function mf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(mf(e,t,r),e=e.sibling;e!==null;)mf(e,t,r),e=e.sibling}var Kt=null,Zr=!1;function Zn(e,t,r){for(r=r.child;r!==null;)gg(e,t,r),r=r.sibling}function gg(e,t,r){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Es,r)}catch{}switch(r.tag){case 5:tr||ao(r,t);case 6:var n=Kt,a=Zr;Kt=null,Zn(e,t,r),Kt=n,Zr=a,Kt!==null&&(Zr?(e=Kt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Kt.removeChild(r.stateNode));break;case 18:Kt!==null&&(Zr?(e=Kt,r=r.stateNode,e.nodeType===8?Ic(e.parentNode,r):e.nodeType===1&&Ic(e,r),ta(e)):Ic(Kt,r.stateNode));break;case 4:n=Kt,a=Zr,Kt=r.stateNode.containerInfo,Zr=!0,Zn(e,t,r),Kt=n,Zr=a;break;case 0:case 11:case 14:case 15:if(!tr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,d=i.destroy;i=i.tag,d!==void 0&&((i&2)!==0||(i&4)!==0)&&pf(r,t,d),a=a.next}while(a!==n)}Zn(e,t,r);break;case 1:if(!tr&&(ao(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(m){Ot(r,t,m)}Zn(e,t,r);break;case 21:Zn(e,t,r);break;case 22:r.mode&1?(tr=(n=tr)||r.memoizedState!==null,Zn(e,t,r),tr=n):Zn(e,t,r);break;default:Zn(e,t,r)}}function mg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new KE),t.forEach(function(n){var a=aT.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Qr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,d=t,m=d;e:for(;m!==null;){switch(m.tag){case 5:Kt=m.stateNode,Zr=!1;break e;case 3:Kt=m.stateNode.containerInfo,Zr=!0;break e;case 4:Kt=m.stateNode.containerInfo,Zr=!0;break e}m=m.return}if(Kt===null)throw Error(Te(160));gg(i,d,a),Kt=null,Zr=!1;var _=a.alternate;_!==null&&(_.return=null),a.return=null}catch(v){Ot(a,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vg(t,e),t=t.sibling}function vg(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qr(t,e),ln(e),n&4){try{wa(3,e,e.return),uu(3,e)}catch(s){Ot(e,e.return,s)}try{wa(5,e,e.return)}catch(s){Ot(e,e.return,s)}}break;case 1:Qr(t,e),ln(e),n&512&&r!==null&&ao(r,r.return);break;case 5:if(Qr(t,e),ln(e),n&512&&r!==null&&ao(r,r.return),e.flags&32){var a=e.stateNode;try{Ho(a,"")}catch(s){Ot(e,e.return,s)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,d=r!==null?r.memoizedProps:i,m=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{m==="input"&&i.type==="radio"&&i.name!=null&&Hd(a,i),Kl(m,d);var v=Kl(m,i);for(d=0;d<_.length;d+=2){var h=_[d],c=_[d+1];h==="style"?Qd(a,c):h==="dangerouslySetInnerHTML"?Kd(a,c):h==="children"?Ho(a,c):Ml(a,h,c,v)}switch(m){case"input":Wl(a,i);break;case"textarea":qd(a,i);break;case"select":var o=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var l=i.value;l!=null?zi(a,!!i.multiple,l,!1):o!==!!i.multiple&&(i.defaultValue!=null?zi(a,!!i.multiple,i.defaultValue,!0):zi(a,!!i.multiple,i.multiple?[]:"",!1))}a[ha]=i}catch(s){Ot(e,e.return,s)}}break;case 6:if(Qr(t,e),ln(e),n&4){if(e.stateNode===null)throw Error(Te(162));v=e.stateNode,h=e.memoizedProps;try{v.nodeValue=h}catch(s){Ot(e,e.return,s)}}break;case 3:if(Qr(t,e),ln(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ta(t.containerInfo)}catch(s){Ot(e,e.return,s)}break;case 4:Qr(t,e),ln(e);break;case 13:Qr(t,e),ln(e),v=e.child,v.flags&8192&&v.memoizedState!==null&&(v.alternate===null||v.alternate.memoizedState===null)&&(bf=Ct()),n&4&&mg(e);break;case 22:if(v=r!==null&&r.memoizedState!==null,e.mode&1?(tr=(h=tr)||v,Qr(t,e),tr=h):Qr(t,e),ln(e),n&8192){h=e.memoizedState!==null;e:for(c=null,o=e;;){if(o.tag===5){if(c===null){c=o;try{a=o.stateNode,h?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(m=o.stateNode,_=o.memoizedProps.style,d=_!=null&&_.hasOwnProperty("display")?_.display:null,m.style.display=Zd("display",d))}catch(s){Ot(e,e.return,s)}}}else if(o.tag===6){if(c===null)try{o.stateNode.nodeValue=h?"":o.memoizedProps}catch(s){Ot(e,e.return,s)}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===e)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}if(h&&!v&&(e.mode&1)!==0)for(Ne=e,e=e.child;e!==null;){for(v=Ne=e;Ne!==null;){switch(h=Ne,c=h.child,h.tag){case 0:case 11:case 14:case 15:wa(4,h,h.return);break;case 1:if(ao(h,h.return),i=h.stateNode,typeof i.componentWillUnmount=="function"){o=h,l=h.return;try{a=o,i.props=a.memoizedProps,i.state=a.memoizedState,i.componentWillUnmount()}catch(s){Ot(o,l,s)}}break;case 5:ao(h,h.return);break;case 22:if(h.memoizedState!==null){Eg(v);continue}}c!==null?(c.return=h,Ne=c):Eg(v)}e=e.sibling}}break;case 19:Qr(t,e),ln(e),n&4&&mg(e);break;case 21:break;default:Qr(t,e),ln(e)}}function ln(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(pg(r)){var n=r;break e}r=r.return}throw Error(Te(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Ho(a,""),n.flags&=-33);var i=_g(e);mf(e,i,a);break;case 3:case 4:var d=n.stateNode.containerInfo,m=_g(e);gf(e,m,d);break;default:throw Error(Te(161))}}catch(_){Ot(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function QE(e,t,r){Ne=e,yg(e)}function yg(e,t,r){for(var n=(e.mode&1)!==0;Ne!==null;){var a=Ne,i=a.child;if(a.tag===22&&n){var d=a.memoizedState!==null||su;if(!d){var m=a.alternate,_=m!==null&&m.memoizedState!==null||tr;m=su;var v=tr;if(su=d,(tr=_)&&!v)for(Ne=a;Ne!==null;)d=Ne,_=d.child,d.tag===22&&d.memoizedState!==null?Tg(a):_!==null?(_.return=d,Ne=_):Tg(a);for(;i!==null;)Ne=i,yg(i),i=i.sibling;Ne=a,su=m,tr=v}bg(e)}else(a.subtreeFlags&8772)!==0&&i!==null?(i.return=a,Ne=i):bg(e)}}function bg(e){for(;Ne!==null;){var t=Ne;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:tr||uu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!tr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Xr(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&c_(t,i,n);break;case 3:var d=t.updateQueue;if(d!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}c_(t,d,r)}break;case 5:var m=t.stateNode;if(r===null&&t.flags&4){r=m;var _=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&r.focus();break;case"img":_.src&&(r.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var h=v.memoizedState;if(h!==null){var c=h.dehydrated;c!==null&&ta(c)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(Te(163))}tr||t.flags&512&&_f(t)}catch(o){Ot(t,t.return,o)}}if(t===e){Ne=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ne=r;break}Ne=t.return}}function Eg(e){for(;Ne!==null;){var t=Ne;if(t===e){Ne=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ne=r;break}Ne=t.return}}function Tg(e){for(;Ne!==null;){var t=Ne;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{uu(4,t)}catch(_){Ot(t,r,_)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(_){Ot(t,a,_)}}var i=t.return;try{_f(t)}catch(_){Ot(t,i,_)}break;case 5:var d=t.return;try{_f(t)}catch(_){Ot(t,d,_)}}}catch(_){Ot(t,t.return,_)}if(t===e){Ne=null;break}var m=t.sibling;if(m!==null){m.return=t.return,Ne=m;break}Ne=t.return}}var JE=Math.ceil,lu=En.ReactCurrentDispatcher,vf=En.ReactCurrentOwner,Fr=En.ReactCurrentBatchConfig,rt=0,zt=null,Bt=null,Zt=0,Or=0,so=$n(0),Ut=0,Aa=null,yi=0,cu=0,yf=0,Sa=null,gr=null,bf=0,uo=1/0,Rn=null,fu=!1,Ef=null,Qn=null,hu=!1,Jn=null,du=0,Pa=0,Tf=null,pu=-1,_u=0;function cr(){return(rt&6)!==0?Ct():pu!==-1?pu:pu=Ct()}function ei(e){return(e.mode&1)===0?1:(rt&2)!==0&&Zt!==0?Zt&-Zt:BE.transition!==null?(_u===0&&(_u=dp()),_u):(e=lt,e!==0||(e=window.event,e=e===void 0?16:Tp(e.type)),e)}function jr(e,t,r){if(50<Pa)throw Pa=0,Tf=null,Error(Te(185));var n=gu(e,t);return n===null?null:(Ko(n,t,r),((rt&2)===0||n!==zt)&&(n===zt&&((rt&2)===0&&(cu|=t),Ut===4&&ti(n,Zt)),mr(n,r),t===1&&rt===0&&(e.mode&1)===0&&(uo=Ct()+500,Vs&&Xn())),n)}function gu(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function xg(e){return(zt!==null||Yr!==null)&&(e.mode&1)!==0&&(rt&2)===0}function mr(e,t){var r=e.callbackNode;B1(e,t);var n=ws(e,e===zt?Zt:0);if(n===0)r!==null&&cp(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&cp(r),t===1)e.tag===0?kE(Ag.bind(null,e)):s_(Ag.bind(null,e)),IE(function(){rt===0&&Xn()}),r=null;else{switch(pp(n)){case 1:r=nc;break;case 4:r=fp;break;case 16:r=bs;break;case 536870912:r=hp;break;default:r=bs}r=Mg(r,wg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function wg(e,t){if(pu=-1,_u=0,(rt&6)!==0)throw Error(Te(327));var r=e.callbackNode;if(lo()&&e.callbackNode!==r)return null;var n=ws(e,e===zt?Zt:0);if(n===0)return null;if((n&30)!==0||(n&e.expiredLanes)!==0||t)t=mu(e,n);else{t=n;var a=rt;rt|=2;var i=Pg();(zt!==e||Zt!==t)&&(Rn=null,uo=Ct()+500,Ei(e,t));do try{rT();break}catch(m){Sg(e,m)}while(1);Bc(),lu.current=i,rt=a,Bt!==null?t=0:(zt=null,Zt=0,t=Ut)}if(t!==0){if(t===2&&(a=ic(e),a!==0&&(n=a,t=xf(e,a))),t===1)throw r=Aa,Ei(e,0),ti(e,n),mr(e,Ct()),r;if(t===6)ti(e,n);else{if(a=e.current.alternate,(n&30)===0&&!eT(a)&&(t=mu(e,n),t===2&&(i=ic(e),i!==0&&(n=i,t=xf(e,i))),t===1))throw r=Aa,Ei(e,0),ti(e,n),mr(e,Ct()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Te(345));case 2:Ti(e,gr,Rn);break;case 3:if(ti(e,n),(n&130023424)===n&&(t=bf+500-Ct(),10<t)){if(ws(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){cr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Cc(Ti.bind(null,e,gr,Rn),t);break}Ti(e,gr,Rn);break;case 4:if(ti(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var d=31-$r(n);i=1<<d,d=t[d],d>a&&(a=d),n&=~i}if(n=a,n=Ct()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*JE(n/1960))-n,10<n){e.timeoutHandle=Cc(Ti.bind(null,e,gr,Rn),n);break}Ti(e,gr,Rn);break;case 5:Ti(e,gr,Rn);break;default:throw Error(Te(329))}}}return mr(e,Ct()),e.callbackNode===r?wg.bind(null,e):null}function xf(e,t){var r=Sa;return e.current.memoizedState.isDehydrated&&(Ei(e,t).flags|=256),e=mu(e,t),e!==2&&(t=gr,gr=r,t!==null&&wf(t)),e}function wf(e){gr===null?gr=e:gr.push.apply(gr,e)}function eT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!qr(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ti(e,t){for(t&=~yf,t&=~cu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-$r(t),n=1<<r;e[r]=-1,t&=~n}}function Ag(e){if((rt&6)!==0)throw Error(Te(327));lo();var t=ws(e,0);if((t&1)===0)return mr(e,Ct()),null;var r=mu(e,t);if(e.tag!==0&&r===2){var n=ic(e);n!==0&&(t=n,r=xf(e,n))}if(r===1)throw r=Aa,Ei(e,0),ti(e,t),mr(e,Ct()),r;if(r===6)throw Error(Te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ti(e,gr,Rn),mr(e,Ct()),null}function Af(e,t){var r=rt;rt|=1;try{return e(t)}finally{rt=r,rt===0&&(uo=Ct()+500,Vs&&Xn())}}function bi(e){Jn!==null&&Jn.tag===0&&(rt&6)===0&&lo();var t=rt;rt|=1;var r=Fr.transition,n=lt;try{if(Fr.transition=null,lt=1,e)return e()}finally{lt=n,Fr.transition=r,rt=t,(rt&6)===0&&Xn()}}function Sf(){Or=so.current,mt(so)}function Ei(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,CE(r)),Bt!==null)for(r=Bt.return;r!==null;){var n=r;switch(Hc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Us();break;case 3:oo(),mt(hr),mt(Qt),Zc();break;case 5:Yc(n);break;case 4:oo();break;case 13:mt(xt);break;case 19:mt(xt);break;case 10:Fc(n.type._context);break;case 22:case 23:Sf()}r=r.return}if(zt=e,Bt=e=ri(e.current,null),Zt=Or=t,Ut=0,Aa=null,yf=cu=yi=0,gr=Sa=null,Yr!==null){for(t=0;t<Yr.length;t++)if(r=Yr[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var d=i.next;i.next=a,n.next=d}r.pending=n}Yr=null}return e}function Sg(e,t){do{var r=Bt;try{if(Bc(),Js.current=nu,eu){for(var n=wt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}eu=!1}if(vi=0,Wt=jt=wt=null,ya=!1,ba=0,vf.current=null,r===null||r.return===null){Ut=1,Aa=t,Bt=null;break}e:{var i=e,d=r.return,m=r,_=t;if(t=Zt,m.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var v=_,h=m,c=h.tag;if((h.mode&1)===0&&(c===0||c===11||c===15)){var o=h.alternate;o?(h.updateQueue=o.updateQueue,h.memoizedState=o.memoizedState,h.lanes=o.lanes):(h.updateQueue=null,h.memoizedState=null)}var l=q_(d);if(l!==null){l.flags&=-257,X_(l,d,m,i,t),l.mode&1&&$_(i,v,t),t=l,_=v;var s=t.updateQueue;if(s===null){var u=new Set;u.add(_),t.updateQueue=u}else s.add(_);break e}else{if((t&1)===0){$_(i,v,t),Pf();break e}_=Error(Te(426))}}else if(bt&&m.mode&1){var f=q_(d);if(f!==null){(f.flags&65536)===0&&(f.flags|=256),X_(f,d,m,i,t),qc(_);break e}}i=_,Ut!==4&&(Ut=2),Sa===null?Sa=[i]:Sa.push(i),_=sf(_,m),m=d;do{switch(m.tag){case 3:m.flags|=65536,t&=-t,m.lanes|=t;var g=H_(m,_,t);l_(m,g);break e;case 1:i=_;var y=m.type,b=m.stateNode;if((m.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Qn===null||!Qn.has(b)))){m.flags|=65536,t&=-t,m.lanes|=t;var E=W_(m,i,t);l_(m,E);break e}}m=m.return}while(m!==null)}Rg(r)}catch(x){t=x,Bt===r&&r!==null&&(Bt=r=r.return);continue}break}while(1)}function Pg(){var e=lu.current;return lu.current=nu,e===null?nu:e}function Pf(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),zt===null||(yi&268435455)===0&&(cu&268435455)===0||ti(zt,Zt)}function mu(e,t){var r=rt;rt|=2;var n=Pg();(zt!==e||Zt!==t)&&(Rn=null,Ei(e,t));do try{tT();break}catch(a){Sg(e,a)}while(1);if(Bc(),rt=r,lu.current=n,Bt!==null)throw Error(Te(261));return zt=null,Zt=0,Ut}function tT(){for(;Bt!==null;)Og(Bt)}function rT(){for(;Bt!==null&&!O1();)Og(Bt)}function Og(e){var t=Ig(e.alternate,e,Or);e.memoizedProps=e.pendingProps,t===null?Rg(e):Bt=t,vf.current=null}function Rg(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=$E(r,t,Or),r!==null){Bt=r;return}}else{if(r=YE(r,t),r!==null){r.flags&=32767,Bt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ut=6,Bt=null;return}}if(t=t.sibling,t!==null){Bt=t;return}Bt=t=e}while(t!==null);Ut===0&&(Ut=5)}function Ti(e,t,r){var n=lt,a=Fr.transition;try{Fr.transition=null,lt=1,nT(e,t,r,n)}finally{Fr.transition=a,lt=n}return null}function nT(e,t,r,n){do lo();while(Jn!==null);if((rt&6)!==0)throw Error(Te(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Te(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(F1(e,i),e===zt&&(Bt=zt=null,Zt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||hu||(hu=!0,Mg(bs,function(){return lo(),null})),i=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||i){i=Fr.transition,Fr.transition=null;var d=lt;lt=1;var m=rt;rt|=4,vf.current=null,ZE(e,r),vg(r,e),wE(Rc),Ps=!!Oc,Rc=Oc=null,e.current=r,QE(r),R1(),rt=m,lt=d,Fr.transition=i}else e.current=r;if(hu&&(hu=!1,Jn=e,du=a),i=e.pendingLanes,i===0&&(Qn=null),I1(r.stateNode),mr(e,Ct()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(fu)throw fu=!1,e=Ef,Ef=null,e;return(du&1)!==0&&e.tag!==0&&lo(),i=e.pendingLanes,(i&1)!==0?e===Tf?Pa++:(Pa=0,Tf=e):Pa=0,Xn(),null}function lo(){if(Jn!==null){var e=pp(du),t=Fr.transition,r=lt;try{if(Fr.transition=null,lt=16>e?16:e,Jn===null)var n=!1;else{if(e=Jn,Jn=null,du=0,(rt&6)!==0)throw Error(Te(331));var a=rt;for(rt|=4,Ne=e.current;Ne!==null;){var i=Ne,d=i.child;if((Ne.flags&16)!==0){var m=i.deletions;if(m!==null){for(var _=0;_<m.length;_++){var v=m[_];for(Ne=v;Ne!==null;){var h=Ne;switch(h.tag){case 0:case 11:case 15:wa(8,h,i)}var c=h.child;if(c!==null)c.return=h,Ne=c;else for(;Ne!==null;){h=Ne;var o=h.sibling,l=h.return;if(dg(h),h===v){Ne=null;break}if(o!==null){o.return=l,Ne=o;break}Ne=l}}}var s=i.alternate;if(s!==null){var u=s.child;if(u!==null){s.child=null;do{var f=u.sibling;u.sibling=null,u=f}while(u!==null)}}Ne=i}}if((i.subtreeFlags&2064)!==0&&d!==null)d.return=i,Ne=d;else e:for(;Ne!==null;){if(i=Ne,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:wa(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Ne=g;break e}Ne=i.return}}var y=e.current;for(Ne=y;Ne!==null;){d=Ne;var b=d.child;if((d.subtreeFlags&2064)!==0&&b!==null)b.return=d,Ne=b;else e:for(d=y;Ne!==null;){if(m=Ne,(m.flags&2048)!==0)try{switch(m.tag){case 0:case 11:case 15:uu(9,m)}}catch(x){Ot(m,m.return,x)}if(m===d){Ne=null;break e}var E=m.sibling;if(E!==null){E.return=m.return,Ne=E;break e}Ne=m.return}}if(rt=a,Xn(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Es,e)}catch{}n=!0}return n}finally{lt=r,Fr.transition=t}}return!1}function Lg(e,t,r){t=sf(r,t),t=H_(e,t,1),Kn(e,t),t=cr(),e=gu(e,1),e!==null&&(Ko(e,1,t),mr(e,t))}function Ot(e,t,r){if(e.tag===3)Lg(e,e,r);else for(;t!==null;){if(t.tag===3){Lg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qn===null||!Qn.has(n))){e=sf(r,e),e=W_(t,e,1),Kn(t,e),e=cr(),t=gu(t,1),t!==null&&(Ko(t,1,e),mr(t,e));break}}t=t.return}}function iT(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=cr(),e.pingedLanes|=e.suspendedLanes&r,zt===e&&(Zt&r)===r&&(Ut===4||Ut===3&&(Zt&130023424)===Zt&&500>Ct()-bf?Ei(e,0):yf|=r),mr(e,t)}function Cg(e,t){t===0&&((e.mode&1)===0?t=1:(t=xs,xs<<=1,(xs&130023424)===0&&(xs=4194304)));var r=cr();e=gu(e,t),e!==null&&(Ko(e,t,r),mr(e,r))}function oT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Cg(e,r)}function aT(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Te(314))}n!==null&&n.delete(t),Cg(e,r)}var Ig;Ig=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||hr.current)_r=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return _r=!1,XE(e,t,r);_r=(e.flags&131072)!==0}else _r=!1,bt&&(t.flags&1048576)!==0&&__(t,Ks,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var a=Qi(t,Qt.current);eo(t,r),a=ef(null,t,n,e,a,r);var i=tf();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dr(n)?(i=!0,Gs(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,zc(t),a.updater=Xs,t.stateNode=a,a._reactInternals=t,Gc(t,n,e,r),t=ff(null,t,n,!0,i,r)):(t.tag=0,bt&&i&&Vc(t),lr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=uT(n),e=Xr(n,e),a){case 0:t=cf(null,t,n,e,r);break e;case 1:t=ng(null,t,n,e,r);break e;case 11:t=Q_(null,t,n,e,r);break e;case 14:t=J_(null,t,n,Xr(n.type,e),r);break e}throw Error(Te(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xr(n,a),cf(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xr(n,a),ng(e,t,n,a,r);case 3:e:{if(ig(t),e===null)throw Error(Te(387));n=t.pendingProps,i=t.memoizedState,a=i.element,u_(e,t),qs(t,n,null,r);var d=t.memoizedState;if(n=d.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Error(Te(423)),t=og(e,t,n,r,a);break e}else if(n!==a){a=Error(Te(424)),t=og(e,t,n,r,a);break e}else for(pr=Tn(t.stateNode.containerInfo.firstChild),Pr=t,bt=!0,Kr=null,r=E_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(no(),n===a){t=On(e,t,r);break e}lr(e,t,n,r)}t=t.child}return t;case 5:return T_(t),e===null&&$c(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,d=a.children,Lc(n,a)?d=null:i!==null&&Lc(n,i)&&(t.flags|=32),rg(e,t),lr(e,t,d,r),t.child;case 6:return e===null&&$c(t),null;case 13:return sg(e,t,r);case 4:return Xc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=io(t,null,n,r):lr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xr(n,a),Q_(e,t,n,a,r);case 7:return lr(e,t,t.pendingProps,r),t.child;case 8:return lr(e,t,t.pendingProps.children,r),t.child;case 12:return lr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,d=a.value,_t(Hs,n._currentValue),n._currentValue=d,i!==null)if(qr(i.value,d)){if(i.children===a.children&&!hr.current){t=On(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var m=i.dependencies;if(m!==null){d=i.child;for(var _=m.firstContext;_!==null;){if(_.context===n){if(i.tag===1){_=An(-1,r&-r),_.tag=2;var v=i.updateQueue;if(v!==null){v=v.shared;var h=v.pending;h===null?_.next=_:(_.next=h.next,h.next=_),v.pending=_}}i.lanes|=r,_=i.alternate,_!==null&&(_.lanes|=r),jc(i.return,r,t),m.lanes|=r;break}_=_.next}}else if(i.tag===10)d=i.type===t.type?null:i.child;else if(i.tag===18){if(d=i.return,d===null)throw Error(Te(341));d.lanes|=r,m=d.alternate,m!==null&&(m.lanes|=r),jc(d,r,t),d=i.sibling}else d=i.child;if(d!==null)d.return=i;else for(d=i;d!==null;){if(d===t){d=null;break}if(i=d.sibling,i!==null){i.return=d.return,d=i;break}d=d.return}i=d}lr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,eo(t,r),a=Dr(a),n=n(a),t.flags|=1,lr(e,t,n,r),t.child;case 14:return n=t.type,a=Xr(n,t.pendingProps),a=Xr(n.type,a),J_(e,t,n,a,r);case 15:return eg(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xr(n,a),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,dr(n)?(e=!0,Gs(t)):e=!1,eo(t,r),d_(t,n,a),Gc(t,n,a,r),ff(null,t,n,!0,e,r);case 19:return fg(e,t,r);case 22:return tg(e,t,r)}throw Error(Te(156,t.tag))};function Mg(e,t){return lp(e,t)}function sT(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,r,n){return new sT(e,t,r,n)}function Of(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uT(e){if(typeof e=="function")return Of(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kl)return 11;if(e===jl)return 14}return 2}function ri(e,t){var r=e.alternate;return r===null?(r=zr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function vu(e,t,r,n,a,i){var d=2;if(n=e,typeof e=="function")Of(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case ji:return xi(r.children,a,i,t);case Dl:d=8,a|=8;break;case Nl:return e=zr(12,r,t,a|2),e.elementType=Nl,e.lanes=i,e;case Bl:return e=zr(13,r,t,a),e.elementType=Bl,e.lanes=i,e;case Fl:return e=zr(19,r,t,a),e.elementType=Fl,e.lanes=i,e;case jd:return yu(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bd:d=10;break e;case Fd:d=9;break e;case kl:d=11;break e;case jl:d=14;break e;case Fn:d=16,n=null;break e}throw Error(Te(130,e==null?e:typeof e,""))}return t=zr(d,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function xi(e,t,r,n){return e=zr(7,e,n,t),e.lanes=r,e}function yu(e,t,r,n){return e=zr(22,e,n,t),e.elementType=jd,e.lanes=r,e.stateNode={},e}function Rf(e,t,r){return e=zr(6,e,null,t),e.lanes=r,e}function Lf(e,t,r){return t=zr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lT(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oc(0),this.expirationTimes=oc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oc(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Cf(e,t,r,n,a,i,d,m,_){return e=new lT(e,t,r,m,_),t===1?(t=1,i===!0&&(t|=8)):t=0,i=zr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zc(i),e}function cT(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Dg(e){if(!e)return qn;e=e._reactInternals;e:{if(hi(e)!==e||e.tag!==1)throw Error(Te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Te(171))}if(e.tag===1){var r=e.type;if(dr(r))return o_(e,r,t)}return t}function Ng(e,t,r,n,a,i,d,m,_){return e=Cf(r,n,!0,e,a,i,d,m,_),e.context=Dg(null),r=e.current,n=cr(),a=ei(r),i=An(n,a),i.callback=t!=null?t:null,Kn(r,i),e.current.lanes=a,Ko(e,a,n),mr(e,n),e}function bu(e,t,r,n){var a=t.current,i=cr(),d=ei(a);return r=Dg(r),t.context===null?t.context=r:t.pendingContext=r,t=An(i,d),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),Kn(a,t),e=jr(a,d,i),e!==null&&$s(e,a,d),d}function Eu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function If(e,t){kg(e,t),(e=e.alternate)&&kg(e,t)}function fT(){return null}var Bg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mf(e){this._internalRoot=e}Tu.prototype.render=Mf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Te(409));bu(e,t,null,null)},Tu.prototype.unmount=Mf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bi(function(){bu(null,e,null,null)}),t[xn]=null}};function Tu(e){this._internalRoot=e}Tu.prototype.unstable_scheduleHydration=function(e){if(e){var t=mp();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Vn.length&&t!==0&&t<Vn[r].priority;r++);Vn.splice(r,0,e),r===0&&bp(e)}};function Df(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fg(){}function hT(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var v=Eu(d);i.call(v)}}var d=Ng(t,n,e,0,null,!1,!1,"",Fg);return e._reactRootContainer=d,e[xn]=d.current,ca(e.nodeType===8?e.parentNode:e),bi(),d}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var m=n;n=function(){var v=Eu(_);m.call(v)}}var _=Cf(e,0,!1,null,null,!1,!1,"",Fg);return e._reactRootContainer=_,e[xn]=_.current,ca(e.nodeType===8?e.parentNode:e),bi(function(){bu(t,_,r,n)}),_}function wu(e,t,r,n,a){var i=r._reactRootContainer;if(i){var d=i;if(typeof a=="function"){var m=a;a=function(){var _=Eu(d);m.call(_)}}bu(t,d,e,a)}else d=hT(r,t,e,a,n);return Eu(d)}_p=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Yo(t.pendingLanes);r!==0&&(ac(t,r|1),mr(t,Ct()),(rt&6)===0&&(uo=Ct()+500,Xn()))}break;case 13:var n=cr();bi(function(){return jr(e,1,n)}),If(e,1)}},sc=function(e){if(e.tag===13){var t=cr();jr(e,134217728,t),If(e,134217728)}},gp=function(e){if(e.tag===13){var t=cr(),r=ei(e);jr(e,r,t),If(e,r)}},mp=function(){return lt},vp=function(e,t){var r=lt;try{return lt=e,t()}finally{lt=r}},Jl=function(e,t,r){switch(t){case"input":if(Wl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=zs(n);if(!a)throw Error(Te(90));Gd(n),Wl(n,a)}}}break;case"textarea":qd(e,r);break;case"select":t=r.value,t!=null&&zi(e,!!r.multiple,t,!1)}},rp=Af,np=bi;var dT={usingClientEntryPoint:!1,Events:[da,Ki,zs,ep,tp,Af]},Oa={findFiberByHostInstance:di,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},pT={bundleType:Oa.bundleType,version:Oa.version,rendererPackageName:Oa.rendererPackageName,rendererConfig:Oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:En.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sp(e),e===null?null:e.stateNode},findFiberByHostInstance:Oa.findFiberByHostInstance||fT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{Es=Au.inject(pT),on=Au}catch{}}wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dT,wr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Df(t))throw Error(Te(200));return cT(e,t,null,r)},wr.createRoot=function(e,t){if(!Df(e))throw Error(Te(299));var r=!1,n="",a=Bg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Cf(e,1,!1,null,null,r,!1,n,a),e[xn]=t.current,ca(e.nodeType===8?e.parentNode:e),new Mf(t)},wr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Te(188)):(e=Object.keys(e).join(","),Error(Te(268,e)));return e=sp(t),e=e===null?null:e.stateNode,e},wr.flushSync=function(e){return bi(e)},wr.hydrate=function(e,t,r){if(!xu(t))throw Error(Te(200));return wu(null,e,t,!0,r)},wr.hydrateRoot=function(e,t,r){if(!Df(e))throw Error(Te(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",d=Bg;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),t=Ng(t,null,e,1,r!=null?r:null,a,!1,i,d),e[xn]=t.current,ca(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Tu(t)},wr.render=function(e,t,r){if(!xu(t))throw Error(Te(200));return wu(null,e,t,!1,r)},wr.unmountComponentAtNode=function(e){if(!xu(e))throw Error(Te(40));return e._reactRootContainer?(bi(function(){wu(null,null,e,!1,function(){e._reactRootContainer=null,e[xn]=null})}),!0):!1},wr.unstable_batchedUpdates=Af,wr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!xu(r))throw Error(Te(200));if(e==null||e._reactInternals===void 0)throw Error(Te(38));return wu(e,t,r,!1,n)},wr.version="18.1.0-next-22edb9f77-20220426";function jg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jg)}catch(e){console.error(e)}}jg(),Mr.exports=wr;var zg,_T=Mr.exports;zg=_T.createRoot;var Ug={exports:{}};/* @license
Papa Parse
v5.3.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(r,n){e.exports=n()})(kt,function r(){var n=typeof self!="undefined"?self:typeof window!="undefined"?window:n!==void 0?n:{},a=!n.document&&!!n.postMessage,i=a&&/blob:/i.test((n.location||{}).protocol),d={},m=0,_={parse:function(O,A){var L=(A=A||{}).dynamicTyping||!1;if(S(L)&&(A.dynamicTypingFunction=L,L={}),A.dynamicTyping=L,A.transform=!!S(A.transform)&&A.transform,A.worker&&_.WORKERS_SUPPORTED){var k=function(){if(!_.WORKERS_SUPPORTED)return!1;var N=(H=n.URL||n.webkitURL||null,q=r.toString(),_.BLOB_URL||(_.BLOB_URL=H.createObjectURL(new Blob(["(",q,")();"],{type:"text/javascript"})))),$=new n.Worker(N),H,q;return $.onmessage=y,$.id=m++,d[$.id]=$}();return k.userStep=A.step,k.userChunk=A.chunk,k.userComplete=A.complete,k.userError=A.error,A.step=S(A.step),A.chunk=S(A.chunk),A.complete=S(A.complete),A.error=S(A.error),delete A.worker,void k.postMessage({input:O,config:A,workerId:k.id})}var D=null;return _.NODE_STREAM_INPUT,typeof O=="string"?D=A.download?new c(A):new l(A):O.readable===!0&&S(O.read)&&S(O.on)?D=new s(A):(n.File&&O instanceof File||O instanceof Object)&&(D=new o(A)),D.stream(O)},unparse:function(O,A){var L=!1,k=!0,D=",",N=`\r
`,$='"',H=$+$,q=!1,X=null,Y=!1;(function(){if(typeof A=="object"){if(typeof A.delimiter!="string"||_.BAD_DELIMITERS.filter(function(ne){return A.delimiter.indexOf(ne)!==-1}).length||(D=A.delimiter),(typeof A.quotes=="boolean"||typeof A.quotes=="function"||Array.isArray(A.quotes))&&(L=A.quotes),typeof A.skipEmptyLines!="boolean"&&typeof A.skipEmptyLines!="string"||(q=A.skipEmptyLines),typeof A.newline=="string"&&(N=A.newline),typeof A.quoteChar=="string"&&($=A.quoteChar),typeof A.header=="boolean"&&(k=A.header),Array.isArray(A.columns)){if(A.columns.length===0)throw new Error("Option columns is empty");X=A.columns}A.escapeChar!==void 0&&(H=A.escapeChar+$),(typeof A.escapeFormulae=="boolean"||A.escapeFormulae instanceof RegExp)&&(Y=A.escapeFormulae instanceof RegExp?A.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var J=new RegExp(f($),"g");if(typeof O=="string"&&(O=JSON.parse(O)),Array.isArray(O)){if(!O.length||Array.isArray(O[0]))return ee(null,O,q);if(typeof O[0]=="object")return ee(X||Object.keys(O[0]),O,q)}else if(typeof O=="object")return typeof O.data=="string"&&(O.data=JSON.parse(O.data)),Array.isArray(O.data)&&(O.fields||(O.fields=O.meta&&O.meta.fields||X),O.fields||(O.fields=Array.isArray(O.data[0])?O.fields:typeof O.data[0]=="object"?Object.keys(O.data[0]):[]),Array.isArray(O.data[0])||typeof O.data[0]=="object"||(O.data=[O.data])),ee(O.fields||[],O.data||[],q);throw new Error("Unable to serialize unrecognized input");function ee(ne,ce,pe){var me="";typeof ne=="string"&&(ne=JSON.parse(ne)),typeof ce=="string"&&(ce=JSON.parse(ce));var re=Array.isArray(ne)&&0<ne.length,ye=!Array.isArray(ce[0]);if(re&&k){for(var we=0;we<ne.length;we++)0<we&&(me+=D),me+=te(ne[we],we);0<ce.length&&(me+=N)}for(var de=0;de<ce.length;de++){var Se=re?ne.length:ce[de].length,xe=!1,Oe=re?Object.keys(ce[de]).length===0:ce[de].length===0;if(pe&&!re&&(xe=pe==="greedy"?ce[de].join("").trim()==="":ce[de].length===1&&ce[de][0].length===0),pe==="greedy"&&re){for(var he=[],Ae=0;Ae<Se;Ae++){var Le=ye?ne[Ae]:Ae;he.push(ce[de][Le])}xe=he.join("").trim()===""}if(!xe){for(var Ee=0;Ee<Se;Ee++){0<Ee&&!Oe&&(me+=D);var Ce=re&&ye?ne[Ee]:Ee;me+=te(ce[de][Ce],Ee)}de<ce.length-1&&(!pe||0<Se&&!Oe)&&(me+=N)}}return me}function te(ne,ce){if(ne==null)return"";if(ne.constructor===Date)return JSON.stringify(ne).slice(1,25);var pe=!1;Y&&typeof ne=="string"&&Y.test(ne)&&(ne="'"+ne,pe=!0);var me=ne.toString().replace(J,H);return(pe=pe||L===!0||typeof L=="function"&&L(ne,ce)||Array.isArray(L)&&L[ce]||function(re,ye){for(var we=0;we<ye.length;we++)if(-1<re.indexOf(ye[we]))return!0;return!1}(me,_.BAD_DELIMITERS)||-1<me.indexOf(D)||me.charAt(0)===" "||me.charAt(me.length-1)===" ")?$+me+$:me}}};if(_.RECORD_SEP=String.fromCharCode(30),_.UNIT_SEP=String.fromCharCode(31),_.BYTE_ORDER_MARK="\uFEFF",_.BAD_DELIMITERS=["\r",`
`,'"',_.BYTE_ORDER_MARK],_.WORKERS_SUPPORTED=!a&&!!n.Worker,_.NODE_STREAM_INPUT=1,_.LocalChunkSize=10485760,_.RemoteChunkSize=5242880,_.DefaultDelimiter=",",_.Parser=g,_.ParserHandle=u,_.NetworkStreamer=c,_.FileStreamer=o,_.StringStreamer=l,_.ReadableStreamStreamer=s,n.jQuery){var v=n.jQuery;v.fn.parse=function(O){var A=O.config||{},L=[];return this.each(function(N){if(!(v(this).prop("tagName").toUpperCase()==="INPUT"&&v(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var $=0;$<this.files.length;$++)L.push({file:this.files[$],inputElem:this,instanceConfig:v.extend({},A)})}),k(),this;function k(){if(L.length!==0){var N,$,H,q,X=L[0];if(S(O.before)){var Y=O.before(X.file,X.inputElem);if(typeof Y=="object"){if(Y.action==="abort")return N="AbortError",$=X.file,H=X.inputElem,q=Y.reason,void(S(O.error)&&O.error({name:N},$,H,q));if(Y.action==="skip")return void D();typeof Y.config=="object"&&(X.instanceConfig=v.extend(X.instanceConfig,Y.config))}else if(Y==="skip")return void D()}var J=X.instanceConfig.complete;X.instanceConfig.complete=function(ee){S(J)&&J(ee,X.file,X.inputElem),D()},_.parse(X.file,X.instanceConfig)}else S(O.complete)&&O.complete()}function D(){L.splice(0,1),k()}}}function h(O){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(A){var L=x(A);L.chunkSize=parseInt(L.chunkSize),A.step||A.chunk||(L.chunkSize=null),this._handle=new u(L),(this._handle.streamer=this)._config=L}.call(this,O),this.parseChunk=function(A,L){if(this.isFirstChunk&&S(this._config.beforeFirstChunk)){var k=this._config.beforeFirstChunk(A);k!==void 0&&(A=k)}this.isFirstChunk=!1,this._halted=!1;var D=this._partialLine+A;this._partialLine="";var N=this._handle.parse(D,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var $=N.meta.cursor;this._finished||(this._partialLine=D.substring($-this._baseIndex),this._baseIndex=$),N&&N.data&&(this._rowCount+=N.data.length);var H=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)n.postMessage({results:N,workerId:_.WORKER_ID,finished:H});else if(S(this._config.chunk)&&!L){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);N=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!H||!S(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),H||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(A){S(this._config.error)?this._config.error(A):i&&this._config.error&&n.postMessage({workerId:_.WORKER_ID,error:A,finished:!1})}}function c(O){var A;(O=O||{}).chunkSize||(O.chunkSize=_.RemoteChunkSize),h.call(this,O),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(L){this._input=L,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(A=new XMLHttpRequest,this._config.withCredentials&&(A.withCredentials=this._config.withCredentials),a||(A.onload=w(this._chunkLoaded,this),A.onerror=w(this._chunkError,this)),A.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var L=this._config.downloadRequestHeaders;for(var k in L)A.setRequestHeader(k,L[k])}if(this._config.chunkSize){var D=this._start+this._config.chunkSize-1;A.setRequestHeader("Range","bytes="+this._start+"-"+D)}try{A.send(this._config.downloadRequestBody)}catch(N){this._chunkError(N.message)}a&&A.status===0&&this._chunkError()}},this._chunkLoaded=function(){A.readyState===4&&(A.status<200||400<=A.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:A.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(L){var k=L.getResponseHeader("Content-Range");return k===null?-1:parseInt(k.substring(k.lastIndexOf("/")+1))}(A),this.parseChunk(A.responseText)))},this._chunkError=function(L){var k=A.statusText||L;this._sendError(new Error(k))}}function o(O){var A,L;(O=O||{}).chunkSize||(O.chunkSize=_.LocalChunkSize),h.call(this,O);var k=typeof FileReader!="undefined";this.stream=function(D){this._input=D,L=D.slice||D.webkitSlice||D.mozSlice,k?((A=new FileReader).onload=w(this._chunkLoaded,this),A.onerror=w(this._chunkError,this)):A=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var D=this._input;if(this._config.chunkSize){var N=Math.min(this._start+this._config.chunkSize,this._input.size);D=L.call(D,this._start,N)}var $=A.readAsText(D,this._config.encoding);k||this._chunkLoaded({target:{result:$}})},this._chunkLoaded=function(D){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(D.target.result)},this._chunkError=function(){this._sendError(A.error)}}function l(O){var A;h.call(this,O=O||{}),this.stream=function(L){return A=L,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var L,k=this._config.chunkSize;return k?(L=A.substring(0,k),A=A.substring(k)):(L=A,A=""),this._finished=!A,this.parseChunk(L)}}}function s(O){h.call(this,O=O||{});var A=[],L=!0,k=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(D){this._input=D,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){k&&A.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),A.length?this.parseChunk(A.shift()):L=!0},this._streamData=w(function(D){try{A.push(typeof D=="string"?D:D.toString(this._config.encoding)),L&&(L=!1,this._checkIsFinished(),this.parseChunk(A.shift()))}catch(N){this._streamError(N)}},this),this._streamError=w(function(D){this._streamCleanUp(),this._sendError(D)},this),this._streamEnd=w(function(){this._streamCleanUp(),k=!0,this._streamData("")},this),this._streamCleanUp=w(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function u(O){var A,L,k,D=Math.pow(2,53),N=-D,$=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,H=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,q=this,X=0,Y=0,J=!1,ee=!1,te=[],ne={data:[],errors:[],meta:{}};if(S(O.step)){var ce=O.step;O.step=function(de){if(ne=de,re())me();else{if(me(),ne.data.length===0)return;X+=de.data.length,O.preview&&X>O.preview?L.abort():(ne.data=ne.data[0],ce(ne,q))}}}function pe(de){return O.skipEmptyLines==="greedy"?de.join("").trim()==="":de.length===1&&de[0].length===0}function me(){return ne&&k&&(we("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+_.DefaultDelimiter+"'"),k=!1),O.skipEmptyLines&&(ne.data=ne.data.filter(function(de){return!pe(de)})),re()&&function(){if(!ne)return;function de(xe,Oe){S(O.transformHeader)&&(xe=O.transformHeader(xe,Oe)),te.push(xe)}if(Array.isArray(ne.data[0])){for(var Se=0;re()&&Se<ne.data.length;Se++)ne.data[Se].forEach(de);ne.data.splice(0,1)}else ne.data.forEach(de)}(),function(){if(!ne||!O.header&&!O.dynamicTyping&&!O.transform)return ne;function de(xe,Oe){var he,Ae=O.header?{}:[];for(he=0;he<xe.length;he++){var Le=he,Ee=xe[he];O.header&&(Le=he>=te.length?"__parsed_extra":te[he]),O.transform&&(Ee=O.transform(Ee,Le)),Ee=ye(Le,Ee),Le==="__parsed_extra"?(Ae[Le]=Ae[Le]||[],Ae[Le].push(Ee)):Ae[Le]=Ee}return O.header&&(he>te.length?we("FieldMismatch","TooManyFields","Too many fields: expected "+te.length+" fields but parsed "+he,Y+Oe):he<te.length&&we("FieldMismatch","TooFewFields","Too few fields: expected "+te.length+" fields but parsed "+he,Y+Oe)),Ae}var Se=1;return!ne.data.length||Array.isArray(ne.data[0])?(ne.data=ne.data.map(de),Se=ne.data.length):ne.data=de(ne.data,0),O.header&&ne.meta&&(ne.meta.fields=te),Y+=Se,ne}()}function re(){return O.header&&te.length===0}function ye(de,Se){return xe=de,O.dynamicTypingFunction&&O.dynamicTyping[xe]===void 0&&(O.dynamicTyping[xe]=O.dynamicTypingFunction(xe)),(O.dynamicTyping[xe]||O.dynamicTyping)===!0?Se==="true"||Se==="TRUE"||Se!=="false"&&Se!=="FALSE"&&(function(Oe){if($.test(Oe)){var he=parseFloat(Oe);if(N<he&&he<D)return!0}return!1}(Se)?parseFloat(Se):H.test(Se)?new Date(Se):Se===""?null:Se):Se;var xe}function we(de,Se,xe,Oe){var he={type:de,code:Se,message:xe};Oe!==void 0&&(he.row=Oe),ne.errors.push(he)}this.parse=function(de,Se,xe){var Oe=O.quoteChar||'"';if(O.newline||(O.newline=function(Le,Ee){Le=Le.substring(0,1048576);var Ce=new RegExp(f(Ee)+"([^]*?)"+f(Ee),"gm"),Ie=(Le=Le.replace(Ce,"")).split("\r"),je=Le.split(`
`),Me=1<je.length&&je[0].length<Ie[0].length;if(Ie.length===1||Me)return`
`;for(var Ye=0,De=0;De<Ie.length;De++)Ie[De][0]===`
`&&Ye++;return Ye>=Ie.length/2?`\r
`:"\r"}(de,Oe)),k=!1,O.delimiter)S(O.delimiter)&&(O.delimiter=O.delimiter(de),ne.meta.delimiter=O.delimiter);else{var he=function(Le,Ee,Ce,Ie,je){var Me,Ye,De,He;je=je||[",","	","|",";",_.RECORD_SEP,_.UNIT_SEP];for(var tt=0;tt<je.length;tt++){var Re=je[tt],Ke=0,U=0,C=0;De=void 0;for(var M=new g({comments:Ie,delimiter:Re,newline:Ee,preview:10}).parse(Le),z=0;z<M.data.length;z++)if(Ce&&pe(M.data[z]))C++;else{var V=M.data[z].length;U+=V,De!==void 0?0<V&&(Ke+=Math.abs(V-De),De=V):De=V}0<M.data.length&&(U/=M.data.length-C),(Ye===void 0||Ke<=Ye)&&(He===void 0||He<U)&&1.99<U&&(Ye=Ke,Me=Re,He=U)}return{successful:!!(O.delimiter=Me),bestDelimiter:Me}}(de,O.newline,O.skipEmptyLines,O.comments,O.delimitersToGuess);he.successful?O.delimiter=he.bestDelimiter:(k=!0,O.delimiter=_.DefaultDelimiter),ne.meta.delimiter=O.delimiter}var Ae=x(O);return O.preview&&O.header&&Ae.preview++,A=de,L=new g(Ae),ne=L.parse(A,Se,xe),me(),J?{meta:{paused:!0}}:ne||{meta:{paused:!1}}},this.paused=function(){return J},this.pause=function(){J=!0,L.abort(),A=S(O.chunk)?"":A.substring(L.getCharIndex())},this.resume=function(){q.streamer._halted?(J=!1,q.streamer.parseChunk(A,!0)):setTimeout(q.resume,3)},this.aborted=function(){return ee},this.abort=function(){ee=!0,L.abort(),ne.meta.aborted=!0,S(O.complete)&&O.complete(ne),A=""}}function f(O){return O.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(O){var A,L=(O=O||{}).delimiter,k=O.newline,D=O.comments,N=O.step,$=O.preview,H=O.fastMode,q=A=O.quoteChar===void 0||O.quoteChar===null?'"':O.quoteChar;if(O.escapeChar!==void 0&&(q=O.escapeChar),(typeof L!="string"||-1<_.BAD_DELIMITERS.indexOf(L))&&(L=","),D===L)throw new Error("Comment character same as delimiter");D===!0?D="#":(typeof D!="string"||-1<_.BAD_DELIMITERS.indexOf(D))&&(D=!1),k!==`
`&&k!=="\r"&&k!==`\r
`&&(k=`
`);var X=0,Y=!1;this.parse=function(J,ee,te){if(typeof J!="string")throw new Error("Input must be a string");var ne=J.length,ce=L.length,pe=k.length,me=D.length,re=S(N),ye=[],we=[],de=[],Se=X=0;if(!J)return He();if(H||H!==!1&&J.indexOf(A)===-1){for(var xe=J.split(k),Oe=0;Oe<xe.length;Oe++){if(de=xe[Oe],X+=de.length,Oe!==xe.length-1)X+=k.length;else if(te)return He();if(!D||de.substring(0,me)!==D){if(re){if(ye=[],je(de.split(L)),tt(),Y)return He()}else je(de.split(L));if($&&$<=Oe)return ye=ye.slice(0,$),He(!0)}}return He()}for(var he=J.indexOf(L,X),Ae=J.indexOf(k,X),Le=new RegExp(f(q)+f(A),"g"),Ee=J.indexOf(A,X);;)if(J[X]!==A)if(D&&de.length===0&&J.substring(X,X+me)===D){if(Ae===-1)return He();X=Ae+pe,Ae=J.indexOf(k,X),he=J.indexOf(L,X)}else if(he!==-1&&(he<Ae||Ae===-1))de.push(J.substring(X,he)),X=he+ce,he=J.indexOf(L,X);else{if(Ae===-1)break;if(de.push(J.substring(X,Ae)),De(Ae+pe),re&&(tt(),Y))return He();if($&&ye.length>=$)return He(!0)}else for(Ee=X,X++;;){if((Ee=J.indexOf(A,Ee+1))===-1)return te||we.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ye.length,index:X}),Ye();if(Ee===ne-1)return Ye(J.substring(X,Ee).replace(Le,A));if(A!==q||J[Ee+1]!==q){if(A===q||Ee===0||J[Ee-1]!==q){he!==-1&&he<Ee+1&&(he=J.indexOf(L,Ee+1)),Ae!==-1&&Ae<Ee+1&&(Ae=J.indexOf(k,Ee+1));var Ce=Me(Ae===-1?he:Math.min(he,Ae));if(J.substr(Ee+1+Ce,ce)===L){de.push(J.substring(X,Ee).replace(Le,A)),J[X=Ee+1+Ce+ce]!==A&&(Ee=J.indexOf(A,X)),he=J.indexOf(L,X),Ae=J.indexOf(k,X);break}var Ie=Me(Ae);if(J.substring(Ee+1+Ie,Ee+1+Ie+pe)===k){if(de.push(J.substring(X,Ee).replace(Le,A)),De(Ee+1+Ie+pe),he=J.indexOf(L,X),Ee=J.indexOf(A,X),re&&(tt(),Y))return He();if($&&ye.length>=$)return He(!0);break}we.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ye.length,index:X}),Ee++}}else Ee++}return Ye();function je(Re){ye.push(Re),Se=X}function Me(Re){var Ke=0;if(Re!==-1){var U=J.substring(Ee+1,Re);U&&U.trim()===""&&(Ke=U.length)}return Ke}function Ye(Re){return te||(Re===void 0&&(Re=J.substring(X)),de.push(Re),X=ne,je(de),re&&tt()),He()}function De(Re){X=Re,je(de),de=[],Ae=J.indexOf(k,X)}function He(Re){return{data:ye,errors:we,meta:{delimiter:L,linebreak:k,aborted:Y,truncated:!!Re,cursor:Se+(ee||0)}}}function tt(){N(He()),ye=[],we=[]}},this.abort=function(){Y=!0},this.getCharIndex=function(){return X}}function y(O){var A=O.data,L=d[A.workerId],k=!1;if(A.error)L.userError(A.error,A.file);else if(A.results&&A.results.data){var D={abort:function(){k=!0,b(A.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:E,resume:E};if(S(L.userStep)){for(var N=0;N<A.results.data.length&&(L.userStep({data:A.results.data[N],errors:A.results.errors,meta:A.results.meta},D),!k);N++);delete A.results}else S(L.userChunk)&&(L.userChunk(A.results,D,A.file),delete A.results)}A.finished&&!k&&b(A.workerId,A.results)}function b(O,A){var L=d[O];S(L.userComplete)&&L.userComplete(A),L.terminate(),delete d[O]}function E(){throw new Error("Not implemented.")}function x(O){if(typeof O!="object"||O===null)return O;var A=Array.isArray(O)?[]:{};for(var L in O)A[L]=x(O[L]);return A}function w(O,A){return function(){O.apply(A,arguments)}}function S(O){return typeof O=="function"}return i&&(n.onmessage=function(O){var A=O.data;if(_.WORKER_ID===void 0&&A&&(_.WORKER_ID=A.workerId),typeof A.input=="string")n.postMessage({workerId:_.WORKER_ID,results:_.parse(A.input,A.config),finished:!0});else if(n.File&&A.input instanceof File||A.input instanceof Object){var L=_.parse(A.input,A.config);L&&n.postMessage({workerId:_.WORKER_ID,results:L,finished:!0})}}),(c.prototype=Object.create(h.prototype)).constructor=c,(o.prototype=Object.create(h.prototype)).constructor=o,(l.prototype=Object.create(l.prototype)).constructor=l,(s.prototype=Object.create(h.prototype)).constructor=s,_})})(Ug);var gT=Ug.exports;function mT(e){const t=gT.parse(e,{header:!0,skipEmptyLines:!0,dynamicTyping:!0});return{header:t.meta.fields,rows:t.data}}var Ra={black:"#000",white:"#fff"},co={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},fo={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ho={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},po={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},_o={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},La={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},vT={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Fe(){return Fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fe.apply(this,arguments)}function Gt(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Gg(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var yT=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,bT=Gg(function(e){return yT.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function ET(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function TT(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var xT=function(){function e(r){var n=this;this._insertTag=function(a){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,i),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(TT(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var i=ET(a);try{i.insertRule(n,i.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}(),rr="-ms-",Su="-moz-",ot="-webkit-",Vg="comm",Nf="rule",kf="decl",wT="@import",Hg="@keyframes",AT=Math.abs,Pu=String.fromCharCode,ST=Object.assign;function PT(e,t){return(((t<<2^vr(e,0))<<2^vr(e,1))<<2^vr(e,2))<<2^vr(e,3)}function Wg(e){return e.trim()}function OT(e,t){return(e=t.exec(e))?e[0]:e}function at(e,t,r){return e.replace(t,r)}function Bf(e,t){return e.indexOf(t)}function vr(e,t){return e.charCodeAt(t)|0}function Ca(e,t,r){return e.slice(t,r)}function cn(e){return e.length}function Ff(e){return e.length}function Ou(e,t){return t.push(e),e}function RT(e,t){return e.map(t).join("")}var Ru=1,go=1,$g=0,yr=0,Ft=0,mo="";function Lu(e,t,r,n,a,i,d){return{value:e,root:t,parent:r,type:n,props:a,children:i,line:Ru,column:go,length:d,return:""}}function Ia(e,t){return ST(Lu("",null,null,"",null,null,0),e,{length:-e.length},t)}function LT(){return Ft}function CT(){return Ft=yr>0?vr(mo,--yr):0,go--,Ft===10&&(go=1,Ru--),Ft}function Rr(){return Ft=yr<$g?vr(mo,yr++):0,go++,Ft===10&&(go=1,Ru++),Ft}function fn(){return vr(mo,yr)}function Cu(){return yr}function Ma(e,t){return Ca(mo,e,t)}function Da(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qg(e){return Ru=go=1,$g=cn(mo=e),yr=0,[]}function Xg(e){return mo="",e}function Iu(e){return Wg(Ma(yr-1,jf(e===91?e+2:e===40?e+1:e)))}function IT(e){for(;(Ft=fn())&&Ft<33;)Rr();return Da(e)>2||Da(Ft)>3?"":" "}function MT(e,t){for(;--t&&Rr()&&!(Ft<48||Ft>102||Ft>57&&Ft<65||Ft>70&&Ft<97););return Ma(e,Cu()+(t<6&&fn()==32&&Rr()==32))}function jf(e){for(;Rr();)switch(Ft){case e:return yr;case 34:case 39:e!==34&&e!==39&&jf(Ft);break;case 40:e===41&&jf(e);break;case 92:Rr();break}return yr}function DT(e,t){for(;Rr()&&e+Ft!==47+10;)if(e+Ft===42+42&&fn()===47)break;return"/*"+Ma(t,yr-1)+"*"+Pu(e===47?e:Rr())}function NT(e){for(;!Da(fn());)Rr();return Ma(e,yr)}function kT(e){return Xg(Mu("",null,null,null,[""],e=qg(e),0,[0],e))}function Mu(e,t,r,n,a,i,d,m,_){for(var v=0,h=0,c=d,o=0,l=0,s=0,u=1,f=1,g=1,y=0,b="",E=a,x=i,w=n,S=b;f;)switch(s=y,y=Rr()){case 40:if(s!=108&&S.charCodeAt(c-1)==58){Bf(S+=at(Iu(y),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:S+=Iu(y);break;case 9:case 10:case 13:case 32:S+=IT(s);break;case 92:S+=MT(Cu()-1,7);continue;case 47:switch(fn()){case 42:case 47:Ou(BT(DT(Rr(),Cu()),t,r),_);break;default:S+="/"}break;case 123*u:m[v++]=cn(S)*g;case 125*u:case 59:case 0:switch(y){case 0:case 125:f=0;case 59+h:l>0&&cn(S)-c&&Ou(l>32?Kg(S+";",n,r,c-1):Kg(at(S," ","")+";",n,r,c-2),_);break;case 59:S+=";";default:if(Ou(w=Yg(S,t,r,v,h,a,m,b,E=[],x=[],c),i),y===123)if(h===0)Mu(S,t,w,w,E,i,c,m,x);else switch(o){case 100:case 109:case 115:Mu(e,w,w,n&&Ou(Yg(e,w,w,0,0,a,m,b,a,E=[],c),x),a,x,c,m,n?E:x);break;default:Mu(S,w,w,w,[""],x,0,m,x)}}v=h=l=0,u=g=1,b=S="",c=d;break;case 58:c=1+cn(S),l=s;default:if(u<1){if(y==123)--u;else if(y==125&&u++==0&&CT()==125)continue}switch(S+=Pu(y),y*u){case 38:g=h>0?1:(S+="\f",-1);break;case 44:m[v++]=(cn(S)-1)*g,g=1;break;case 64:fn()===45&&(S+=Iu(Rr())),o=fn(),h=c=cn(b=S+=NT(Cu())),y++;break;case 45:s===45&&cn(S)==2&&(u=0)}}return i}function Yg(e,t,r,n,a,i,d,m,_,v,h){for(var c=a-1,o=a===0?i:[""],l=Ff(o),s=0,u=0,f=0;s<n;++s)for(var g=0,y=Ca(e,c+1,c=AT(u=d[s])),b=e;g<l;++g)(b=Wg(u>0?o[g]+" "+y:at(y,/&\f/g,o[g])))&&(_[f++]=b);return Lu(e,t,r,a===0?Nf:m,_,v,h)}function BT(e,t,r){return Lu(e,t,r,Vg,Pu(LT()),Ca(e,2,-2),0)}function Kg(e,t,r,n){return Lu(e,t,r,kf,Ca(e,0,n),Ca(e,n+1,-1),n)}function Zg(e,t){switch(PT(e,t)){case 5103:return ot+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ot+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ot+e+Su+e+rr+e+e;case 6828:case 4268:return ot+e+rr+e+e;case 6165:return ot+e+rr+"flex-"+e+e;case 5187:return ot+e+at(e,/(\w+).+(:[^]+)/,ot+"box-$1$2"+rr+"flex-$1$2")+e;case 5443:return ot+e+rr+"flex-item-"+at(e,/flex-|-self/,"")+e;case 4675:return ot+e+rr+"flex-line-pack"+at(e,/align-content|flex-|-self/,"")+e;case 5548:return ot+e+rr+at(e,"shrink","negative")+e;case 5292:return ot+e+rr+at(e,"basis","preferred-size")+e;case 6060:return ot+"box-"+at(e,"-grow","")+ot+e+rr+at(e,"grow","positive")+e;case 4554:return ot+at(e,/([^-])(transform)/g,"$1"+ot+"$2")+e;case 6187:return at(at(at(e,/(zoom-|grab)/,ot+"$1"),/(image-set)/,ot+"$1"),e,"")+e;case 5495:case 3959:return at(e,/(image-set\([^]*)/,ot+"$1$`$1");case 4968:return at(at(e,/(.+:)(flex-)?(.*)/,ot+"box-pack:$3"+rr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ot+e+e;case 4095:case 3583:case 4068:case 2532:return at(e,/(.+)-inline(.+)/,ot+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(cn(e)-1-t>6)switch(vr(e,t+1)){case 109:if(vr(e,t+4)!==45)break;case 102:return at(e,/(.+:)(.+)-([^]+)/,"$1"+ot+"$2-$3$1"+Su+(vr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Bf(e,"stretch")?Zg(at(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(vr(e,t+1)!==115)break;case 6444:switch(vr(e,cn(e)-3-(~Bf(e,"!important")&&10))){case 107:return at(e,":",":"+ot)+e;case 101:return at(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ot+(vr(e,14)===45?"inline-":"")+"box$3$1"+ot+"$2$3$1"+rr+"$2box$3")+e}break;case 5936:switch(vr(e,t+11)){case 114:return ot+e+rr+at(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ot+e+rr+at(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ot+e+rr+at(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ot+e+rr+e+e}return e}function vo(e,t){for(var r="",n=Ff(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function FT(e,t,r,n){switch(e.type){case wT:case kf:return e.return=e.return||e.value;case Vg:return"";case Hg:return e.return=e.value+"{"+vo(e.children,n)+"}";case Nf:e.value=e.props.join(",")}return cn(r=vo(e.children,n))?e.return=e.value+"{"+r+"}":""}function jT(e){var t=Ff(e);return function(r,n,a,i){for(var d="",m=0;m<t;m++)d+=e[m](r,n,a,i)||"";return d}}function zT(e){return function(t){t.root||(t=t.return)&&e(t)}}function UT(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case kf:e.return=Zg(e.value,e.length);break;case Hg:return vo([Ia(e,{value:at(e.value,"@","@"+ot)})],n);case Nf:if(e.length)return RT(e.props,function(a){switch(OT(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return vo([Ia(e,{props:[at(a,/:(read-\w+)/,":"+Su+"$1")]})],n);case"::placeholder":return vo([Ia(e,{props:[at(a,/:(plac\w+)/,":"+ot+"input-$1")]}),Ia(e,{props:[at(a,/:(plac\w+)/,":"+Su+"$1")]}),Ia(e,{props:[at(a,/:(plac\w+)/,rr+"input-$1")]})],n)}return""})}}var GT=function(t,r,n){for(var a=0,i=0;a=i,i=fn(),a===38&&i===12&&(r[n]=1),!Da(i);)Rr();return Ma(t,yr)},VT=function(t,r){var n=-1,a=44;do switch(Da(a)){case 0:a===38&&fn()===12&&(r[n]=1),t[n]+=GT(yr-1,r,n);break;case 2:t[n]+=Iu(a);break;case 4:if(a===44){t[++n]=fn()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=Pu(a)}while(a=Rr());return t},HT=function(t,r){return Xg(VT(qg(t),r))},Qg=new WeakMap,WT=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,a=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!Qg.get(n))&&!a){Qg.set(t,!0);for(var i=[],d=HT(r,i),m=n.props,_=0,v=0;_<d.length;_++)for(var h=0;h<m.length;h++,v++)t.props[v]=i[_]?d[_].replace(/&\f/g,m[h]):m[h]+" "+d[_]}}},$T=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}},qT=[UT],XT=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(u){var f=u.getAttribute("data-emotion");f.indexOf(" ")!==-1&&(document.head.appendChild(u),u.setAttribute("data-s",""))})}var a=t.stylisPlugins||qT,i={},d,m=[];d=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(u){for(var f=u.getAttribute("data-emotion").split(" "),g=1;g<f.length;g++)i[f[g]]=!0;m.push(u)});var _,v=[WT,$T];{var h,c=[FT,zT(function(u){h.insert(u)})],o=jT(v.concat(a,c)),l=function(f){return vo(kT(f),o)};_=function(f,g,y,b){h=y,l(f?f+"{"+g.styles+"}":g.styles),b&&(s.inserted[g.name]=!0)}}var s={key:r,sheet:new xT({key:r,container:d,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:_};return s.sheet.hydrate(m),s},Jg={exports:{}},ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $t=typeof Symbol=="function"&&Symbol.for,zf=$t?Symbol.for("react.element"):60103,Uf=$t?Symbol.for("react.portal"):60106,Du=$t?Symbol.for("react.fragment"):60107,Nu=$t?Symbol.for("react.strict_mode"):60108,ku=$t?Symbol.for("react.profiler"):60114,Bu=$t?Symbol.for("react.provider"):60109,Fu=$t?Symbol.for("react.context"):60110,Gf=$t?Symbol.for("react.async_mode"):60111,ju=$t?Symbol.for("react.concurrent_mode"):60111,zu=$t?Symbol.for("react.forward_ref"):60112,Uu=$t?Symbol.for("react.suspense"):60113,YT=$t?Symbol.for("react.suspense_list"):60120,Gu=$t?Symbol.for("react.memo"):60115,Vu=$t?Symbol.for("react.lazy"):60116,KT=$t?Symbol.for("react.block"):60121,ZT=$t?Symbol.for("react.fundamental"):60117,QT=$t?Symbol.for("react.responder"):60118,JT=$t?Symbol.for("react.scope"):60119;function Lr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case zf:switch(e=e.type,e){case Gf:case ju:case Du:case ku:case Nu:case Uu:return e;default:switch(e=e&&e.$$typeof,e){case Fu:case zu:case Vu:case Gu:case Bu:return e;default:return t}}case Uf:return t}}}function em(e){return Lr(e)===ju}ct.AsyncMode=Gf,ct.ConcurrentMode=ju,ct.ContextConsumer=Fu,ct.ContextProvider=Bu,ct.Element=zf,ct.ForwardRef=zu,ct.Fragment=Du,ct.Lazy=Vu,ct.Memo=Gu,ct.Portal=Uf,ct.Profiler=ku,ct.StrictMode=Nu,ct.Suspense=Uu,ct.isAsyncMode=function(e){return em(e)||Lr(e)===Gf},ct.isConcurrentMode=em,ct.isContextConsumer=function(e){return Lr(e)===Fu},ct.isContextProvider=function(e){return Lr(e)===Bu},ct.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===zf},ct.isForwardRef=function(e){return Lr(e)===zu},ct.isFragment=function(e){return Lr(e)===Du},ct.isLazy=function(e){return Lr(e)===Vu},ct.isMemo=function(e){return Lr(e)===Gu},ct.isPortal=function(e){return Lr(e)===Uf},ct.isProfiler=function(e){return Lr(e)===ku},ct.isStrictMode=function(e){return Lr(e)===Nu},ct.isSuspense=function(e){return Lr(e)===Uu},ct.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Du||e===ju||e===ku||e===Nu||e===Uu||e===YT||typeof e=="object"&&e!==null&&(e.$$typeof===Vu||e.$$typeof===Gu||e.$$typeof===Bu||e.$$typeof===Fu||e.$$typeof===zu||e.$$typeof===ZT||e.$$typeof===QT||e.$$typeof===JT||e.$$typeof===KT)},ct.typeOf=Lr,Jg.exports=ct;var tm=Jg.exports,ex={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},tx={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},rm={};rm[tm.ForwardRef]=ex,rm[tm.Memo]=tx;var rx=!0;function nx(e,t,r){var n="";return r.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):n+=a+" "}),n}var nm=function(t,r,n){var a=t.key+"-"+r.name;(n===!1||rx===!1)&&t.registered[a]===void 0&&(t.registered[a]=r.styles)},ix=function(t,r,n){nm(t,r,n);var a=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var i=r;do t.insert(r===i?"."+a:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function ox(e){for(var t=0,r,n=0,a=e.length;a>=4;++n,a-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var ax={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},sx=/[A-Z]|^ms/g,ux=/_EMO_([^_]+?)_([^]*?)_EMO_/g,im=function(t){return t.charCodeAt(1)===45},om=function(t){return t!=null&&typeof t!="boolean"},Vf=Gg(function(e){return im(e)?e:e.replace(sx,"-$&").toLowerCase()}),am=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(ux,function(n,a,i){return hn={name:a,styles:i,next:hn},a})}return ax[t]!==1&&!im(t)&&typeof r=="number"&&r!==0?r+"px":r},Zk="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Na(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return hn={name:r.name,styles:r.styles,next:hn},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)hn={name:n.name,styles:n.styles,next:hn},n=n.next;var a=r.styles+";";return a}return lx(e,t,r)}case"function":{if(e!==void 0){var i=hn,d=r(e);return hn=i,Na(e,t,d)}break}}if(t==null)return r;var m=t[r];return m!==void 0?m:r}function lx(e,t,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=Na(e,t,r[a])+";";else for(var i in r){var d=r[i];if(typeof d!="object")t!=null&&t[d]!==void 0?n+=i+"{"+t[d]+"}":om(d)&&(n+=Vf(i)+":"+am(i,d)+";");else if(Array.isArray(d)&&typeof d[0]=="string"&&(t==null||t[d[0]]===void 0))for(var m=0;m<d.length;m++)om(d[m])&&(n+=Vf(i)+":"+am(i,d[m])+";");else{var _=Na(e,t,d);switch(i){case"animation":case"animationName":{n+=Vf(i)+":"+_+";";break}default:n+=i+"{"+_+"}"}}}return n}var sm=/label:\s*([^\s;\n{]+)\s*(;|$)/g,hn,um=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var a=!0,i="";hn=void 0;var d=t[0];d==null||d.raw===void 0?(a=!1,i+=Na(n,r,d)):i+=d[0];for(var m=1;m<t.length;m++)i+=Na(n,r,t[m]),a&&(i+=d[m]);sm.lastIndex=0;for(var _="",v;(v=sm.exec(i))!==null;)_+="-"+v[1];var h=ox(i)+_;return{name:h,styles:i,next:hn}},lm=ve.exports.createContext(typeof HTMLElement!="undefined"?XT({key:"css"}):null);lm.Provider;var cx=function(t){return ve.exports.forwardRef(function(r,n){var a=ve.exports.useContext(lm);return t(r,a,n)})},fx=ve.exports.createContext({});ki["useInsertionEffect"]&&ki["useInsertionEffect"],ki["useInsertionEffect"]?ki["useInsertionEffect"]:ve.exports.useLayoutEffect;function Hu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return um(t)}var yo=function(){var t=Hu.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},hx=bT,dx=function(t){return t!=="theme"},cm=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?hx:dx},fm=function(t,r,n){var a;if(r){var i=r.shouldForwardProp;a=t.__emotion_forwardProp&&i?function(d){return t.__emotion_forwardProp(d)&&i(d)}:i}return typeof a!="function"&&n&&(a=t.__emotion_forwardProp),a},px=ki["useInsertionEffect"]?ki["useInsertionEffect"]:function(t){t()};function _x(e){px(e)}var gx=function(t){var r=t.cache,n=t.serialized,a=t.isStringTag;return nm(r,n,a),_x(function(){return ix(r,n,a)}),null},mx=function e(t,r){var n=t.__emotion_real===t,a=n&&t.__emotion_base||t,i,d;r!==void 0&&(i=r.label,d=r.target);var m=fm(t,r,n),_=m||cm(a),v=!_("as");return function(){var h=arguments,c=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(i!==void 0&&c.push("label:"+i+";"),h[0]==null||h[0].raw===void 0)c.push.apply(c,h);else{c.push(h[0][0]);for(var o=h.length,l=1;l<o;l++)c.push(h[l],h[0][l])}var s=cx(function(u,f,g){var y=v&&u.as||a,b="",E=[],x=u;if(u.theme==null){x={};for(var w in u)x[w]=u[w];x.theme=ve.exports.useContext(fx)}typeof u.className=="string"?b=nx(f.registered,E,u.className):u.className!=null&&(b=u.className+" ");var S=um(c.concat(E),f.registered,x);b+=f.key+"-"+S.name,d!==void 0&&(b+=" "+d);var O=v&&m===void 0?cm(y):_,A={};for(var L in u)v&&L==="as"||O(L)&&(A[L]=u[L]);return A.className=b,A.ref=g,ve.exports.createElement(ve.exports.Fragment,null,ve.exports.createElement(gx,{cache:f,serialized:S,isStringTag:typeof y=="string"}),ve.exports.createElement(y,A))});return s.displayName=i!==void 0?i:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",s.defaultProps=t.defaultProps,s.__emotion_real=s,s.__emotion_base=a,s.__emotion_styles=c,s.__emotion_forwardProp=m,Object.defineProperty(s,"toString",{value:function(){return"."+d}}),s.withComponent=function(u,f){return e(u,Fe({},r,f,{shouldForwardProp:fm(s,f,!0)})).apply(void 0,c)},s}},vx=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Hf=mx.bind();vx.forEach(function(e){Hf[e]=Hf(e)});var yx=Hf,Wf={exports:{}},Wu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx=ve.exports,Ex=Symbol.for("react.element"),Tx=Symbol.for("react.fragment"),xx=Object.prototype.hasOwnProperty,wx=bx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ax={key:!0,ref:!0,__self:!0,__source:!0};function hm(e,t,r){var n,a={},i=null,d=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(d=t.ref);for(n in t)xx.call(t,n)&&!Ax.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Ex,type:e,key:i,ref:d,props:a,_owner:wx.current}}Wu.Fragment=Tx,Wu.jsx=hm,Wu.jsxs=hm,Wf.exports=Wu;const Ge=Wf.exports.jsx,Ln=Wf.exports.jsxs;/** @license MUI v5.8.0
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function dm(e,t){return yx(e,t)}function Rt(){return Rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rt.apply(this,arguments)}function ka(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function dn(e,t,r={clone:!0}){const n=r.clone?Rt({},e):e;return ka(e)&&ka(t)&&Object.keys(t).forEach(a=>{a!=="__proto__"&&(ka(t[a])&&a in e&&ka(e[a])?n[a]=dn(e[a],t[a],r):n[a]=t[a])}),n}function Ba(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function ze(e){if(typeof e!="string")throw new Error(Ba(7));return e.charAt(0).toUpperCase()+e.slice(1)}function pm(e,t){typeof e=="function"?e(t):e&&(e.current=t)}var Sx=typeof window!="undefined"?ve.exports.useLayoutEffect:ve.exports.useEffect;function $u(e){const t=ve.exports.useRef(e);return Sx(()=>{t.current=e}),ve.exports.useCallback((...r)=>(0,t.current)(...r),[])}function qu(e,t){return ve.exports.useMemo(()=>e==null&&t==null?null:r=>{pm(e,r),pm(t,r)},[e,t])}let Xu=!0,$f=!1,_m;const Px={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Ox(e){const{type:t,tagName:r}=e;return!!(r==="INPUT"&&Px[t]&&!e.readOnly||r==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function Rx(e){e.metaKey||e.altKey||e.ctrlKey||(Xu=!0)}function qf(){Xu=!1}function Lx(){this.visibilityState==="hidden"&&$f&&(Xu=!0)}function Cx(e){e.addEventListener("keydown",Rx,!0),e.addEventListener("mousedown",qf,!0),e.addEventListener("pointerdown",qf,!0),e.addEventListener("touchstart",qf,!0),e.addEventListener("visibilitychange",Lx,!0)}function Ix(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return Xu||Ox(t)}function Mx(){const e=ve.exports.useCallback(a=>{a!=null&&Cx(a.ownerDocument)},[]),t=ve.exports.useRef(!1);function r(){return t.current?($f=!0,window.clearTimeout(_m),_m=window.setTimeout(()=>{$f=!1},100),t.current=!1,!0):!1}function n(a){return Ix(a)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:n,onBlur:r,ref:e}}function Dx(e,t){const r=Rt({},t);return Object.keys(e).forEach(n=>{r[n]===void 0&&(r[n]=e[n])}),r}function br(e,t,r){const n={};return Object.keys(e).forEach(a=>{n[a]=e[a].reduce((i,d)=>(d&&(r&&r[d]&&i.push(r[d]),i.push(t(d))),i),[]).join(" ")}),n}const gm=e=>e;var mm=(()=>{let e=gm;return{configure(t){e=t},generate(t){return e(t)},reset(){e=gm}}})();const Nx={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function fr(e,t,r="Mui"){const n=Nx[t];return n?`${r}-${n}`:`${mm.generate(e)}-${t}`}function Er(e,t,r="Mui"){const n={};return t.forEach(a=>{n[a]=fr(e,a,r)}),n}function Fa(e,t){return t?dn(e,t,{clone:!1}):e}const Xf={xs:0,sm:600,md:900,lg:1200,xl:1536},vm={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Xf[e]}px)`};function pn(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const i=n.breakpoints||vm;return t.reduce((d,m,_)=>(d[i.up(i.keys[_])]=r(t[_]),d),{})}if(typeof t=="object"){const i=n.breakpoints||vm;return Object.keys(t).reduce((d,m)=>{if(Object.keys(i.values||Xf).indexOf(m)!==-1){const _=i.up(m);d[_]=r(t[m],m)}else{const _=m;d[_]=t[_]}return d},{})}return r(t)}function kx(e={}){var t;return(e==null||(t=e.keys)==null?void 0:t.reduce((n,a)=>{const i=e.up(a);return n[i]={},n},{}))||{}}function Bx(e,t){return e.reduce((r,n)=>{const a=r[n];return(!a||Object.keys(a).length===0)&&delete r[n],r},t)}function Fx(e,t){if(typeof e!="object")return{};const r={},n=Object.keys(t);return Array.isArray(e)?n.forEach((a,i)=>{i<e.length&&(r[a]=!0)}):n.forEach(a=>{e[a]!=null&&(r[a]=!0)}),r}function Yf({values:e,breakpoints:t,base:r}){const n=r||Fx(e,t),a=Object.keys(n);if(a.length===0)return e;let i;return a.reduce((d,m,_)=>(Array.isArray(e)?(d[m]=e[_]!=null?e[_]:e[i],i=_):typeof e=="object"?(d[m]=e[m]!=null?e[m]:e[i],i=m):d[m]=e,d),{})}function Kf(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((a,i)=>a&&a[i]?a[i]:null,e);if(n!=null)return n}return t.split(".").reduce((n,a)=>n&&n[a]!=null?n[a]:null,e)}function ym(e,t,r,n=r){let a;return typeof e=="function"?a=e(r):Array.isArray(e)?a=e[r]||n:a=Kf(e,r)||n,t&&(a=t(a)),a}function ke(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:a}=e,i=d=>{if(d[t]==null)return null;const m=d[t],_=d.theme,v=Kf(_,n)||{};return pn(d,m,c=>{let o=ym(v,a,c);return c===o&&typeof c=="string"&&(o=ym(v,a,`${t}${c==="default"?"":ze(c)}`,c)),r===!1?o:{[r]:o}})};return i.propTypes={},i.filterProps=[t],i}function ni(...e){const t=e.reduce((n,a)=>(a.filterProps.forEach(i=>{n[i]=a}),n),{}),r=n=>Object.keys(n).reduce((a,i)=>t[i]?Fa(a,t[i](n)):a,{});return r.propTypes={},r.filterProps=e.reduce((n,a)=>n.concat(a.filterProps),[]),r}function jx(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const zx={m:"margin",p:"padding"},Ux={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},bm={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Gx=jx(e=>{if(e.length>2)if(bm[e])e=bm[e];else return[e];const[t,r]=e.split(""),n=zx[t],a=Ux[r]||"";return Array.isArray(a)?a.map(i=>n+i):[n+a]}),Vx=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Hx=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Em=[...Vx,...Hx];function ja(e,t,r,n){var a;const i=(a=Kf(e,t,!1))!=null?a:r;return typeof i=="number"?d=>typeof d=="string"?d:i*d:Array.isArray(i)?d=>typeof d=="string"?d:i[d]:typeof i=="function"?i:()=>{}}function Zf(e){return ja(e,"spacing",8)}function bo(e,t){if(typeof t=="string"||t==null)return t;const r=Math.abs(t),n=e(r);return t>=0?n:typeof n=="number"?-n:`-${n}`}function Wx(e,t){return r=>e.reduce((n,a)=>(n[a]=bo(t,r),n),{})}function $x(e,t,r,n){if(t.indexOf(r)===-1)return null;const a=Gx(r),i=Wx(a,n),d=e[r];return pn(e,d,i)}function qx(e,t){const r=Zf(e.theme);return Object.keys(e).map(n=>$x(e,t,n,r)).reduce(Fa,{})}function Yu(e){return qx(e,Em)}Yu.propTypes={},Yu.filterProps=Em;function za(e){return typeof e!="number"?e:`${e}px solid`}const Xx=ke({prop:"border",themeKey:"borders",transform:za}),Yx=ke({prop:"borderTop",themeKey:"borders",transform:za}),Kx=ke({prop:"borderRight",themeKey:"borders",transform:za}),Zx=ke({prop:"borderBottom",themeKey:"borders",transform:za}),Qx=ke({prop:"borderLeft",themeKey:"borders",transform:za}),Jx=ke({prop:"borderColor",themeKey:"palette"}),ew=ke({prop:"borderTopColor",themeKey:"palette"}),tw=ke({prop:"borderRightColor",themeKey:"palette"}),rw=ke({prop:"borderBottomColor",themeKey:"palette"}),nw=ke({prop:"borderLeftColor",themeKey:"palette"}),Qf=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=ja(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:bo(t,n)});return pn(e,e.borderRadius,r)}return null};Qf.propTypes={},Qf.filterProps=["borderRadius"];var Tm=ni(Xx,Yx,Kx,Zx,Qx,Jx,ew,tw,rw,nw,Qf);const iw=ke({prop:"displayPrint",cssProperty:!1,transform:e=>({"@media print":{display:e}})}),ow=ke({prop:"display"}),aw=ke({prop:"overflow"}),sw=ke({prop:"textOverflow"}),uw=ke({prop:"visibility"}),lw=ke({prop:"whiteSpace"});var xm=ni(iw,ow,aw,sw,uw,lw);const cw=ke({prop:"flexBasis"}),fw=ke({prop:"flexDirection"}),hw=ke({prop:"flexWrap"}),dw=ke({prop:"justifyContent"}),pw=ke({prop:"alignItems"}),_w=ke({prop:"alignContent"}),gw=ke({prop:"order"}),mw=ke({prop:"flex"}),vw=ke({prop:"flexGrow"}),yw=ke({prop:"flexShrink"}),bw=ke({prop:"alignSelf"}),Ew=ke({prop:"justifyItems"}),Tw=ke({prop:"justifySelf"});var wm=ni(cw,fw,hw,dw,pw,_w,gw,mw,vw,yw,bw,Ew,Tw);const Jf=e=>{if(e.gap!==void 0&&e.gap!==null){const t=ja(e.theme,"spacing",8),r=n=>({gap:bo(t,n)});return pn(e,e.gap,r)}return null};Jf.propTypes={},Jf.filterProps=["gap"];const eh=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=ja(e.theme,"spacing",8),r=n=>({columnGap:bo(t,n)});return pn(e,e.columnGap,r)}return null};eh.propTypes={},eh.filterProps=["columnGap"];const th=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=ja(e.theme,"spacing",8),r=n=>({rowGap:bo(t,n)});return pn(e,e.rowGap,r)}return null};th.propTypes={},th.filterProps=["rowGap"];const xw=ke({prop:"gridColumn"}),ww=ke({prop:"gridRow"}),Aw=ke({prop:"gridAutoFlow"}),Sw=ke({prop:"gridAutoColumns"}),Pw=ke({prop:"gridAutoRows"}),Ow=ke({prop:"gridTemplateColumns"}),Rw=ke({prop:"gridTemplateRows"}),Lw=ke({prop:"gridTemplateAreas"}),Cw=ke({prop:"gridArea"});var Am=ni(Jf,eh,th,xw,ww,Aw,Sw,Pw,Ow,Rw,Lw,Cw);const Iw=ke({prop:"color",themeKey:"palette"}),Mw=ke({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),Dw=ke({prop:"backgroundColor",themeKey:"palette"});var Sm=ni(Iw,Mw,Dw);const Nw=ke({prop:"position"}),kw=ke({prop:"zIndex",themeKey:"zIndex"}),Bw=ke({prop:"top"}),Fw=ke({prop:"right"}),jw=ke({prop:"bottom"}),zw=ke({prop:"left"});var Pm=ni(Nw,kw,Bw,Fw,jw,zw),Om=ke({prop:"boxShadow",themeKey:"shadows"});function ii(e){return e<=1&&e!==0?`${e*100}%`:e}const Uw=ke({prop:"width",transform:ii}),Rm=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var n,a,i;return{maxWidth:((n=e.theme)==null||(a=n.breakpoints)==null||(i=a.values)==null?void 0:i[r])||Xf[r]||ii(r)}};return pn(e,e.maxWidth,t)}return null};Rm.filterProps=["maxWidth"];const Gw=ke({prop:"minWidth",transform:ii}),Vw=ke({prop:"height",transform:ii}),Hw=ke({prop:"maxHeight",transform:ii}),Ww=ke({prop:"minHeight",transform:ii});ke({prop:"size",cssProperty:"width",transform:ii}),ke({prop:"size",cssProperty:"height",transform:ii});const $w=ke({prop:"boxSizing"});var Lm=ni(Uw,Rm,Gw,Vw,Hw,Ww,$w);const qw=ke({prop:"fontFamily",themeKey:"typography"}),Xw=ke({prop:"fontSize",themeKey:"typography"}),Yw=ke({prop:"fontStyle",themeKey:"typography"}),Kw=ke({prop:"fontWeight",themeKey:"typography"}),Zw=ke({prop:"letterSpacing"}),Qw=ke({prop:"textTransform"}),Jw=ke({prop:"lineHeight"}),eA=ke({prop:"textAlign"}),tA=ke({prop:"typography",cssProperty:!1,themeKey:"typography"});var Cm=ni(tA,qw,Xw,Yw,Kw,Zw,Jw,eA,Qw);const Im={borders:Tm.filterProps,display:xm.filterProps,flexbox:wm.filterProps,grid:Am.filterProps,positions:Pm.filterProps,palette:Sm.filterProps,shadows:Om.filterProps,sizing:Lm.filterProps,spacing:Yu.filterProps,typography:Cm.filterProps},Mm={borders:Tm,display:xm,flexbox:wm,grid:Am,positions:Pm,palette:Sm,shadows:Om,sizing:Lm,spacing:Yu,typography:Cm},rA=Object.keys(Im).reduce((e,t)=>(Im[t].forEach(r=>{e[r]=Mm[t]}),e),{});function nA(...e){const t=e.reduce((n,a)=>n.concat(Object.keys(a)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function iA(e,t){return typeof e=="function"?e(t):e}function oA(e=Mm){const t=Object.keys(e).reduce((a,i)=>(e[i].filterProps.forEach(d=>{a[d]=e[i]}),a),{});function r(a,i,d){const m={[a]:i,theme:d},_=t[a];return _?_(m):{[a]:i}}function n(a){const{sx:i,theme:d={}}=a||{};if(!i)return null;function m(_){let v=_;if(typeof _=="function")v=_(d);else if(typeof _!="object")return _;if(!v)return null;const h=kx(d.breakpoints),c=Object.keys(h);let o=h;return Object.keys(v).forEach(l=>{const s=iA(v[l],d);if(s!=null)if(typeof s=="object")if(t[l])o=Fa(o,r(l,s,d));else{const u=pn({theme:d},s,f=>({[l]:f}));nA(u,s)?o[l]=n({sx:s,theme:d}):o=Fa(o,u)}else o=Fa(o,r(l,s,d))}),Bx(c,o)}return Array.isArray(i)?i.map(m):m(i)}return n}const Dm=oA();Dm.filterProps=["sx"];var Nm=Dm;function _n(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}const aA=["sx"],sA=e=>{const t={systemProps:{},otherProps:{}};return Object.keys(e).forEach(r=>{rA[r]?t.systemProps[r]=e[r]:t.otherProps[r]=e[r]}),t};function rh(e){const{sx:t}=e,r=_n(e,aA),{systemProps:n,otherProps:a}=sA(r);let i;return Array.isArray(t)?i=[n,...t]:typeof t=="function"?i=(...d)=>{const m=t(...d);return ka(m)?Rt({},n,m):n}:i=Rt({},n,t),Rt({},a,{sx:i})}function km(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=km(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function st(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=km(t))&&(n&&(n+=" "),n+=r);return n}const uA=["values","unit","step"],lA=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>Rt({},r,{[n.key]:n.val}),{})};function cA(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=e,a=_n(e,uA),i=lA(t),d=Object.keys(i);function m(o){return`@media (min-width:${typeof t[o]=="number"?t[o]:o}${r})`}function _(o){return`@media (max-width:${(typeof t[o]=="number"?t[o]:o)-n/100}${r})`}function v(o,l){const s=d.indexOf(l);return`@media (min-width:${typeof t[o]=="number"?t[o]:o}${r}) and (max-width:${(s!==-1&&typeof t[d[s]]=="number"?t[d[s]]:l)-n/100}${r})`}function h(o){return d.indexOf(o)+1<d.length?v(o,d[d.indexOf(o)+1]):m(o)}function c(o){const l=d.indexOf(o);return l===0?m(d[1]):l===d.length-1?_(d[l]):v(o,d[d.indexOf(o)+1]).replace("@media","@media not all and")}return Rt({keys:d,values:i,up:m,down:_,between:v,only:h,not:c,unit:r},a)}var fA={borderRadius:4};function hA(e=8){if(e.mui)return e;const t=Zf({spacing:e}),r=(...n)=>(n.length===0?[1]:n).map(i=>{const d=t(i);return typeof d=="number"?`${d}px`:d}).join(" ");return r.mui=!0,r}const dA=["breakpoints","palette","spacing","shape"];function Ku(e={},...t){const{breakpoints:r={},palette:n={},spacing:a,shape:i={}}=e,d=_n(e,dA),m=cA(r),_=hA(a);let v=dn({breakpoints:m,direction:"ltr",components:{},palette:Rt({mode:"light"},n),spacing:_,shape:Rt({},fA,i)},d);return v=t.reduce((h,c)=>dn(h,c),v),v}var pA=ve.exports.createContext(null);function _A(){return ve.exports.useContext(pA)}function gA(e){return Object.keys(e).length===0}function mA(e=null){const t=_A();return!t||gA(t)?e:t}const vA=Ku();function nh(e=vA){return mA(e)}const yA=["className","component"];function bA(e={}){const{defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:n,styleFunctionSx:a=Nm}=e,i=dm("div")(a);return ve.exports.forwardRef(function(_,v){const h=nh(t),c=rh(_),{className:o,component:l="div"}=c,s=_n(c,yA);return Ge(i,Rt({as:l,ref:v,className:st(o,n?n(r):r),theme:h},s))})}const EA=["variant"];function Bm(e){return e.length===0}function Fm(e){const{variant:t}=e,r=_n(e,EA);let n=t||"";return Object.keys(r).sort().forEach(a=>{a==="color"?n+=Bm(n)?e[a]:ze(e[a]):n+=`${Bm(n)?a:ze(a)}${ze(e[a].toString())}`}),n}const TA=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],xA=["theme"],wA=["theme"];function Ua(e){return Object.keys(e).length===0}const AA=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,SA=(e,t)=>{let r=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(r=t.components[e].variants);const n={};return r.forEach(a=>{const i=Fm(a.props);n[i]=a.style}),n},PA=(e,t,r,n)=>{var a,i;const{ownerState:d={}}=e,m=[],_=r==null||(a=r.components)==null||(i=a[n])==null?void 0:i.variants;return _&&_.forEach(v=>{let h=!0;Object.keys(v.props).forEach(c=>{d[c]!==v.props[c]&&e[c]!==v.props[c]&&(h=!1)}),h&&m.push(t[Fm(v.props)])}),m};function Zu(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const OA=Ku();function jm(e={}){const{defaultTheme:t=OA,rootShouldForwardProp:r=Zu,slotShouldForwardProp:n=Zu,styleFunctionSx:a=Nm}=e;return(i,d={})=>{const{name:m,slot:_,skipVariantsResolver:v,skipSx:h,overridesResolver:c}=d,o=_n(d,TA),l=v!==void 0?v:_&&_!=="Root"||!1,s=h||!1;let u,f=Zu;_==="Root"?f=r:_&&(f=n);const g=dm(i,Rt({shouldForwardProp:f,label:u},o)),y=(b,...E)=>{const x=E?E.map(A=>typeof A=="function"&&A.__emotion_real!==A?L=>{let{theme:k}=L,D=_n(L,xA);return A(Rt({theme:Ua(k)?t:k},D))}:A):[];let w=b;m&&c&&x.push(A=>{const L=Ua(A.theme)?t:A.theme,k=AA(m,L);if(k){const D={};return Object.entries(k).forEach(([N,$])=>{D[N]=typeof $=="function"?$(Rt({},A,{theme:L})):$}),c(A,D)}return null}),m&&!l&&x.push(A=>{const L=Ua(A.theme)?t:A.theme;return PA(A,SA(m,L),L,m)}),s||x.push(A=>{const L=Ua(A.theme)?t:A.theme;return a(Rt({},A,{theme:L}))});const S=x.length-E.length;if(Array.isArray(b)&&S>0){const A=new Array(S).fill("");w=[...b,...A],w.raw=[...b.raw,...A]}else typeof b=="function"&&b.__emotion_real!==b&&(w=A=>{let{theme:L}=A,k=_n(A,wA);return b(Rt({theme:Ua(L)?t:L},k))});return g(w,...x)};return g.withConfig&&(y.withConfig=g.withConfig),y}}var RA=jm();function LA(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:Dx(t.components[r].defaultProps,n)}function zm({props:e,name:t,defaultTheme:r}){const n=nh(r);return LA({theme:n,name:t,props:e})}function ih(e,t=0,r=1){return Math.min(Math.max(t,e),r)}function CA(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,a)=>a<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function wi(e){if(e.type)return e;if(e.charAt(0)==="#")return wi(CA(e));const t=e.indexOf("("),r=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(Ba(9,e));let n=e.substring(t+1,e.length-1),a;if(r==="color"){if(n=n.split(" "),a=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(a)===-1)throw new Error(Ba(10,a))}else n=n.split(",");return n=n.map(i=>parseFloat(i)),{type:r,values:n,colorSpace:a}}function Qu(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.indexOf("rgb")!==-1?n=n.map((a,i)=>i<3?parseInt(a,10):a):t.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function IA(e){e=wi(e);const{values:t}=e,r=t[0],n=t[1]/100,a=t[2]/100,i=n*Math.min(a,1-a),d=(v,h=(v+r/30)%12)=>a-i*Math.max(Math.min(h-3,9-h,1),-1);let m="rgb";const _=[Math.round(d(0)*255),Math.round(d(8)*255),Math.round(d(4)*255)];return e.type==="hsla"&&(m+="a",_.push(t[3])),Qu({type:m,values:_})}function Um(e){e=wi(e);let t=e.type==="hsl"?wi(IA(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function MA(e,t){const r=Um(e),n=Um(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function nr(e,t){return e=wi(e),t=ih(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Qu(e)}function oh(e,t){if(e=wi(e),t=ih(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]*=1-t;return Qu(e)}function ah(e,t){if(e=wi(e),t=ih(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Qu(e)}const DA=["className","component","disableGutters","fixed","maxWidth","classes"],NA=Ku(),kA=RA("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${ze(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),BA=e=>zm({props:e,name:"MuiContainer",defaultTheme:NA}),FA=(e,t)=>{const r=_=>fr(t,_),{classes:n,fixed:a,disableGutters:i,maxWidth:d}=e,m={root:["root",d&&`maxWidth${ze(String(d))}`,a&&"fixed",i&&"disableGutters"]};return br(m,r,n)};function jA(e={}){const{createStyledComponent:t=kA,useThemeProps:r=BA,componentName:n="MuiContainer"}=e,a=t(({theme:d,ownerState:m})=>Rt({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!m.disableGutters&&{paddingLeft:d.spacing(2),paddingRight:d.spacing(2),[d.breakpoints.up("sm")]:{paddingLeft:d.spacing(3),paddingRight:d.spacing(3)}}),({theme:d,ownerState:m})=>m.fixed&&Object.keys(d.breakpoints.values).reduce((_,v)=>{const h=v,c=d.breakpoints.values[h];return c!==0&&(_[d.breakpoints.up(h)]={maxWidth:`${c}${d.breakpoints.unit}`}),_},{}),({theme:d,ownerState:m})=>Rt({},m.maxWidth==="xs"&&{[d.breakpoints.up("xs")]:{maxWidth:Math.max(d.breakpoints.values.xs,444)}},m.maxWidth&&m.maxWidth!=="xs"&&{[d.breakpoints.up(m.maxWidth)]:{maxWidth:`${d.breakpoints.values[m.maxWidth]}${d.breakpoints.unit}`}}));return ve.exports.forwardRef(function(m,_){const v=r(m),{className:h,component:c="div",disableGutters:o=!1,fixed:l=!1,maxWidth:s="lg"}=v,u=_n(v,DA),f=Rt({},v,{component:c,disableGutters:o,fixed:l,maxWidth:s}),g=FA(f,n);return Ge(a,Rt({as:c,ownerState:f,className:st(g.root,h),ref:_},u))})}function zA(e,t){return Fe({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const UA=["mode","contrastThreshold","tonalOffset"],Gm={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ra.white,default:Ra.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},sh={text:{primary:Ra.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ra.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Vm(e,t,r,n){const a=n.light||n,i=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=ah(e.main,a):t==="dark"&&(e.dark=oh(e.main,i)))}function GA(e="light"){return e==="dark"?{main:ho[200],light:ho[50],dark:ho[400]}:{main:ho[700],light:ho[400],dark:ho[800]}}function VA(e="light"){return e==="dark"?{main:fo[200],light:fo[50],dark:fo[400]}:{main:fo[500],light:fo[300],dark:fo[700]}}function HA(e="light"){return e==="dark"?{main:co[500],light:co[300],dark:co[700]}:{main:co[700],light:co[400],dark:co[800]}}function WA(e="light"){return e==="dark"?{main:po[400],light:po[300],dark:po[700]}:{main:po[700],light:po[500],dark:po[900]}}function $A(e="light"){return e==="dark"?{main:_o[400],light:_o[300],dark:_o[700]}:{main:_o[800],light:_o[500],dark:_o[900]}}function qA(e="light"){return e==="dark"?{main:La[400],light:La[300],dark:La[700]}:{main:"#ed6c02",light:La[500],dark:La[900]}}function XA(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2}=e,a=Gt(e,UA),i=e.primary||GA(t),d=e.secondary||VA(t),m=e.error||HA(t),_=e.info||WA(t),v=e.success||$A(t),h=e.warning||qA(t);function c(u){return MA(u,sh.text.primary)>=r?sh.text.primary:Gm.text.primary}const o=({color:u,name:f,mainShade:g=500,lightShade:y=300,darkShade:b=700})=>{if(u=Fe({},u),!u.main&&u[g]&&(u.main=u[g]),!u.hasOwnProperty("main"))throw new Error(Ba(11,f?` (${f})`:"",g));if(typeof u.main!="string")throw new Error(Ba(12,f?` (${f})`:"",JSON.stringify(u.main)));return Vm(u,"light",y,n),Vm(u,"dark",b,n),u.contrastText||(u.contrastText=c(u.main)),u},l={dark:sh,light:Gm};return dn(Fe({common:Fe({},Ra),mode:t,primary:o({color:i,name:"primary"}),secondary:o({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:o({color:m,name:"error"}),warning:o({color:h,name:"warning"}),info:o({color:_,name:"info"}),success:o({color:v,name:"success"}),grey:vT,contrastThreshold:r,getContrastText:c,augmentColor:o,tonalOffset:n},l[t]),a)}const YA=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function KA(e){return Math.round(e*1e5)/1e5}const Hm={textTransform:"uppercase"},Wm='"Roboto", "Helvetica", "Arial", sans-serif';function ZA(e,t){const r=typeof t=="function"?t(e):t,{fontFamily:n=Wm,fontSize:a=14,fontWeightLight:i=300,fontWeightRegular:d=400,fontWeightMedium:m=500,fontWeightBold:_=700,htmlFontSize:v=16,allVariants:h,pxToRem:c}=r,o=Gt(r,YA),l=a/14,s=c||(g=>`${g/v*l}rem`),u=(g,y,b,E,x)=>Fe({fontFamily:n,fontWeight:g,fontSize:s(y),lineHeight:b},n===Wm?{letterSpacing:`${KA(E/y)}em`}:{},x,h),f={h1:u(i,96,1.167,-1.5),h2:u(i,60,1.2,-.5),h3:u(d,48,1.167,0),h4:u(d,34,1.235,.25),h5:u(d,24,1.334,0),h6:u(m,20,1.6,.15),subtitle1:u(d,16,1.75,.15),subtitle2:u(m,14,1.57,.1),body1:u(d,16,1.5,.15),body2:u(d,14,1.43,.15),button:u(m,14,1.75,.4,Hm),caption:u(d,12,1.66,.4),overline:u(d,12,2.66,1,Hm)};return dn(Fe({htmlFontSize:v,pxToRem:s,fontFamily:n,fontSize:a,fontWeightLight:i,fontWeightRegular:d,fontWeightMedium:m,fontWeightBold:_},f),o,{clone:!1})}const QA=.2,JA=.14,eS=.12;function Et(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${QA})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${JA})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${eS})`].join(",")}var tS=["none",Et(0,2,1,-1,0,1,1,0,0,1,3,0),Et(0,3,1,-2,0,2,2,0,0,1,5,0),Et(0,3,3,-2,0,3,4,0,0,1,8,0),Et(0,2,4,-1,0,4,5,0,0,1,10,0),Et(0,3,5,-1,0,5,8,0,0,1,14,0),Et(0,3,5,-1,0,6,10,0,0,1,18,0),Et(0,4,5,-2,0,7,10,1,0,2,16,1),Et(0,5,5,-3,0,8,10,1,0,3,14,2),Et(0,5,6,-3,0,9,12,1,0,3,16,2),Et(0,6,6,-3,0,10,14,1,0,4,18,3),Et(0,6,7,-4,0,11,15,1,0,4,20,3),Et(0,7,8,-4,0,12,17,2,0,5,22,4),Et(0,7,8,-4,0,13,19,2,0,5,24,4),Et(0,7,9,-4,0,14,21,2,0,5,26,4),Et(0,8,9,-5,0,15,22,2,0,6,28,5),Et(0,8,10,-5,0,16,24,2,0,6,30,5),Et(0,8,11,-5,0,17,26,2,0,6,32,5),Et(0,9,11,-5,0,18,28,2,0,7,34,6),Et(0,9,12,-6,0,19,29,2,0,7,36,6),Et(0,10,13,-6,0,20,31,3,0,8,38,7),Et(0,10,13,-6,0,21,33,3,0,8,40,7),Et(0,10,14,-6,0,22,35,3,0,8,42,7),Et(0,11,14,-7,0,23,36,3,0,9,44,8),Et(0,11,15,-7,0,24,38,3,0,9,46,8)];const rS=["duration","easing","delay"],nS={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},iS={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function $m(e){return`${Math.round(e)}ms`}function oS(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function aS(e){const t=Fe({},nS,e.easing),r=Fe({},iS,e.duration);return Fe({getAutoHeightDuration:oS,create:(a=["all"],i={})=>{const{duration:d=r.standard,easing:m=t.easeInOut,delay:_=0}=i;return Gt(i,rS),(Array.isArray(a)?a:[a]).map(v=>`${v} ${typeof d=="string"?d:$m(d)} ${m} ${typeof _=="string"?_:$m(_)}`).join(",")}},e,{easing:t,duration:r})}var sS={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};const uS=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function qm(e={},...t){const{mixins:r={},palette:n={},transitions:a={},typography:i={}}=e,d=Gt(e,uS),m=XA(n),_=Ku(e);let v=dn(_,{mixins:zA(_.breakpoints,r),palette:m,shadows:tS.slice(),typography:ZA(m,i),transitions:aS(a),zIndex:Fe({},sS)});return v=dn(v,d),v=t.reduce((h,c)=>dn(h,c),v),v}var uh=qm();function lS(){return nh(uh)}function ir({props:e,name:t}){return zm({props:e,name:t,defaultTheme:uh})}var It=jm({defaultTheme:uh,rootShouldForwardProp:e=>Zu(e)&&e!=="classes"});function cS(e){return fr("MuiPaper",e)}Er("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const fS=["className","component","elevation","square","variant"],Xm=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},hS=e=>{const{square:t,elevation:r,variant:n,classes:a}=e,i={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${r}`]};return br(i,cS,a)},dS=It("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(({theme:e,ownerState:t})=>{var r;return Fe({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&Fe({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${nr("#fff",Xm(t.elevation))}, ${nr("#fff",Xm(t.elevation))})`},e.vars&&{backgroundImage:(r=e.vars.overlays)==null?void 0:r[t.elevation]}))});var pS=ve.exports.forwardRef(function(t,r){const n=ir({props:t,name:"MuiPaper"}),{className:a,component:i="div",elevation:d=1,square:m=!1,variant:_="elevation"}=n,v=Gt(n,fS),h=Fe({},n,{component:i,elevation:d,square:m,variant:_}),c=hS(h);return Ge(dS,Fe({as:i,ownerState:h,className:st(c.root,a),ref:r},v))});function _S(e){return fr("MuiSvgIcon",e)}Er("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const gS=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],mS=e=>{const{color:t,fontSize:r,classes:n}=e,a={root:["root",t!=="inherit"&&`color${ze(t)}`,`fontSize${ze(r)}`]};return br(a,_S,n)},vS=It("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${ze(r.color)}`],t[`fontSize${ze(r.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var r,n,a,i,d,m,_,v,h,c,o,l,s,u,f,g,y;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(r=e.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(a=e.transitions)==null||(i=a.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((d=e.typography)==null||(m=d.pxToRem)==null?void 0:m.call(d,20))||"1.25rem",medium:((_=e.typography)==null||(v=_.pxToRem)==null?void 0:v.call(_,24))||"1.5rem",large:((h=e.typography)==null||(c=h.pxToRem)==null?void 0:c.call(h,35))||"2.1875"}[t.fontSize],color:(o=(l=(e.vars||e).palette)==null||(s=l[t.color])==null?void 0:s.main)!=null?o:{action:(u=(e.vars||e).palette)==null||(f=u.action)==null?void 0:f.active,disabled:(g=(e.vars||e).palette)==null||(y=g.action)==null?void 0:y.disabled,inherit:void 0}[t.color]}}),Ym=ve.exports.forwardRef(function(t,r){const n=ir({props:t,name:"MuiSvgIcon"}),{children:a,className:i,color:d="inherit",component:m="svg",fontSize:_="medium",htmlColor:v,inheritViewBox:h=!1,titleAccess:c,viewBox:o="0 0 24 24"}=n,l=Gt(n,gS),s=Fe({},n,{color:d,component:m,fontSize:_,instanceFontSize:t.fontSize,inheritViewBox:h,viewBox:o}),u={};h||(u.viewBox=o);const f=mS(s);return Ln(vS,Fe({as:m,className:st(f.root,i),ownerState:s,focusable:"false",color:v,"aria-hidden":c?void 0:!0,role:c?"img":void 0,ref:r},u,l,{children:[a,c?Ge("title",{children:c}):null]}))});Ym.muiName="SvgIcon";var Km=Ym;function yS(e,t){const r=(n,a)=>Ge(Km,Fe({"data-testid":`${t}Icon`,ref:a},n,{children:e}));return r.muiName=Km.muiName,ve.exports.memo(ve.exports.forwardRef(r))}function lh(e,t){return lh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lh(e,t)}function bS(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,lh(e,t)}var Zm=Ni.createContext(null);function ES(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ch(e,t){var r=function(i){return t&&ve.exports.isValidElement(i)?t(i):i},n=Object.create(null);return e&&ve.exports.Children.map(e,function(a){return a}).forEach(function(a){n[a.key]=r(a)}),n}function TS(e,t){e=e||{},t=t||{};function r(h){return h in t?t[h]:e[h]}var n=Object.create(null),a=[];for(var i in e)i in t?a.length&&(n[i]=a,a=[]):a.push(i);var d,m={};for(var _ in t){if(n[_])for(d=0;d<n[_].length;d++){var v=n[_][d];m[n[_][d]]=r(v)}m[_]=r(_)}for(d=0;d<a.length;d++)m[a[d]]=r(a[d]);return m}function Ai(e,t,r){return r[t]!=null?r[t]:e.props[t]}function xS(e,t){return ch(e.children,function(r){return ve.exports.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Ai(r,"appear",e),enter:Ai(r,"enter",e),exit:Ai(r,"exit",e)})})}function wS(e,t,r){var n=ch(e.children),a=TS(t,n);return Object.keys(a).forEach(function(i){var d=a[i];if(!!ve.exports.isValidElement(d)){var m=i in t,_=i in n,v=t[i],h=ve.exports.isValidElement(v)&&!v.props.in;_&&(!m||h)?a[i]=ve.exports.cloneElement(d,{onExited:r.bind(null,d),in:!0,exit:Ai(d,"exit",e),enter:Ai(d,"enter",e)}):!_&&m&&!h?a[i]=ve.exports.cloneElement(d,{in:!1}):_&&m&&ve.exports.isValidElement(v)&&(a[i]=ve.exports.cloneElement(d,{onExited:r.bind(null,d),in:v.props.in,exit:Ai(d,"exit",e),enter:Ai(d,"enter",e)}))}}),a}var AS=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},SS={component:"div",childFactory:function(t){return t}},fh=function(e){bS(t,e);function t(n,a){var i;i=e.call(this,n,a)||this;var d=i.handleExited.bind(ES(i));return i.state={contextValue:{isMounting:!0},handleExited:d,firstRender:!0},i}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(a,i){var d=i.children,m=i.handleExited,_=i.firstRender;return{children:_?xS(a,m):wS(a,d,m),firstRender:!1}},r.handleExited=function(a,i){var d=ch(this.props.children);a.key in d||(a.props.onExited&&a.props.onExited(i),this.mounted&&this.setState(function(m){var _=Rt({},m.children);return delete _[a.key],{children:_}}))},r.render=function(){var a=this.props,i=a.component,d=a.childFactory,m=_n(a,["component","childFactory"]),_=this.state.contextValue,v=AS(this.state.children).map(d);return delete m.appear,delete m.enter,delete m.exit,i===null?Ni.createElement(Zm.Provider,{value:_},v):Ni.createElement(Zm.Provider,{value:_},Ni.createElement(i,m,v))},t}(Ni.Component);fh.propTypes={},fh.defaultProps=SS;var PS=fh;function OS(e){const{className:t,classes:r,pulsate:n=!1,rippleX:a,rippleY:i,rippleSize:d,in:m,onExited:_,timeout:v}=e,[h,c]=ve.exports.useState(!1),o=st(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),l={width:d,height:d,top:-(d/2)+i,left:-(d/2)+a},s=st(r.child,h&&r.childLeaving,n&&r.childPulsate);return!m&&!h&&c(!0),ve.exports.useEffect(()=>{if(!m&&_!=null){const u=setTimeout(_,v);return()=>{clearTimeout(u)}}},[_,m,v]),Ge("span",{className:o,style:l,children:Ge("span",{className:s})})}var Ur=Er("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);const RS=["center","classes","className"];let Ju=e=>e,Qm,Jm,e0,t0;const hh=550,LS=80,CS=yo(Qm||(Qm=Ju`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),IS=yo(Jm||(Jm=Ju`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),MS=yo(e0||(e0=Ju`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),DS=It("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),NS=It(OS,{name:"MuiTouchRipple",slot:"Ripple"})(t0||(t0=Ju`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ur.rippleVisible,CS,hh,({theme:e})=>e.transitions.easing.easeInOut,Ur.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,Ur.child,Ur.childLeaving,IS,hh,({theme:e})=>e.transitions.easing.easeInOut,Ur.childPulsate,MS,({theme:e})=>e.transitions.easing.easeInOut);var kS=ve.exports.forwardRef(function(t,r){const n=ir({props:t,name:"MuiTouchRipple"}),{center:a=!1,classes:i={},className:d}=n,m=Gt(n,RS),[_,v]=ve.exports.useState([]),h=ve.exports.useRef(0),c=ve.exports.useRef(null);ve.exports.useEffect(()=>{c.current&&(c.current(),c.current=null)},[_]);const o=ve.exports.useRef(!1),l=ve.exports.useRef(null),s=ve.exports.useRef(null),u=ve.exports.useRef(null);ve.exports.useEffect(()=>()=>{clearTimeout(l.current)},[]);const f=ve.exports.useCallback(E=>{const{pulsate:x,rippleX:w,rippleY:S,rippleSize:O,cb:A}=E;v(L=>[...L,Ge(NS,{classes:{ripple:st(i.ripple,Ur.ripple),rippleVisible:st(i.rippleVisible,Ur.rippleVisible),ripplePulsate:st(i.ripplePulsate,Ur.ripplePulsate),child:st(i.child,Ur.child),childLeaving:st(i.childLeaving,Ur.childLeaving),childPulsate:st(i.childPulsate,Ur.childPulsate)},timeout:hh,pulsate:x,rippleX:w,rippleY:S,rippleSize:O},h.current)]),h.current+=1,c.current=A},[i]),g=ve.exports.useCallback((E={},x={},w)=>{const{pulsate:S=!1,center:O=a||x.pulsate,fakeElement:A=!1}=x;if((E==null?void 0:E.type)==="mousedown"&&o.current){o.current=!1;return}(E==null?void 0:E.type)==="touchstart"&&(o.current=!0);const L=A?null:u.current,k=L?L.getBoundingClientRect():{width:0,height:0,left:0,top:0};let D,N,$;if(O||E===void 0||E.clientX===0&&E.clientY===0||!E.clientX&&!E.touches)D=Math.round(k.width/2),N=Math.round(k.height/2);else{const{clientX:H,clientY:q}=E.touches?E.touches[0]:E;D=Math.round(H-k.left),N=Math.round(q-k.top)}if(O)$=Math.sqrt((2*k.width**2+k.height**2)/3),$%2===0&&($+=1);else{const H=Math.max(Math.abs((L?L.clientWidth:0)-D),D)*2+2,q=Math.max(Math.abs((L?L.clientHeight:0)-N),N)*2+2;$=Math.sqrt(H**2+q**2)}E!=null&&E.touches?s.current===null&&(s.current=()=>{f({pulsate:S,rippleX:D,rippleY:N,rippleSize:$,cb:w})},l.current=setTimeout(()=>{s.current&&(s.current(),s.current=null)},LS)):f({pulsate:S,rippleX:D,rippleY:N,rippleSize:$,cb:w})},[a,f]),y=ve.exports.useCallback(()=>{g({},{pulsate:!0})},[g]),b=ve.exports.useCallback((E,x)=>{if(clearTimeout(l.current),(E==null?void 0:E.type)==="touchend"&&s.current){s.current(),s.current=null,l.current=setTimeout(()=>{b(E,x)});return}s.current=null,v(w=>w.length>0?w.slice(1):w),c.current=x},[]);return ve.exports.useImperativeHandle(r,()=>({pulsate:y,start:g,stop:b}),[y,g,b]),Ge(DS,Fe({className:st(i.root,Ur.root,d),ref:u},m,{children:Ge(PS,{component:null,exit:!0,children:_})}))});function BS(e){return fr("MuiButtonBase",e)}var FS=Er("MuiButtonBase",["root","disabled","focusVisible"]);const jS=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],zS=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:a}=e,d=br({root:["root",t&&"disabled",r&&"focusVisible"]},BS,a);return r&&n&&(d.root+=` ${n}`),d},US=It("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${FS.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}});var r0=ve.exports.forwardRef(function(t,r){const n=ir({props:t,name:"MuiButtonBase"}),{action:a,centerRipple:i=!1,children:d,className:m,component:_="button",disabled:v=!1,disableRipple:h=!1,disableTouchRipple:c=!1,focusRipple:o=!1,LinkComponent:l="a",onBlur:s,onClick:u,onContextMenu:f,onDragLeave:g,onFocus:y,onFocusVisible:b,onKeyDown:E,onKeyUp:x,onMouseDown:w,onMouseLeave:S,onMouseUp:O,onTouchEnd:A,onTouchMove:L,onTouchStart:k,tabIndex:D=0,TouchRippleProps:N,touchRippleRef:$,type:H}=n,q=Gt(n,jS),X=ve.exports.useRef(null),Y=ve.exports.useRef(null),J=qu(Y,$),{isFocusVisibleRef:ee,onFocus:te,onBlur:ne,ref:ce}=Mx(),[pe,me]=ve.exports.useState(!1);v&&pe&&me(!1),ve.exports.useImperativeHandle(a,()=>({focusVisible:()=>{me(!0),X.current.focus()}}),[]);const[re,ye]=ve.exports.useState(!1);ve.exports.useEffect(()=>{ye(!0)},[]);const we=re&&!h&&!v;ve.exports.useEffect(()=>{pe&&o&&!h&&re&&Y.current.pulsate()},[h,o,pe,re]);function de(z,V,j=c){return $u(Z=>(V&&V(Z),!j&&Y.current&&Y.current[z](Z),!0))}const Se=de("start",w),xe=de("stop",f),Oe=de("stop",g),he=de("stop",O),Ae=de("stop",z=>{pe&&z.preventDefault(),S&&S(z)}),Le=de("start",k),Ee=de("stop",A),Ce=de("stop",L),Ie=de("stop",z=>{ne(z),ee.current===!1&&me(!1),s&&s(z)},!1),je=$u(z=>{X.current||(X.current=z.currentTarget),te(z),ee.current===!0&&(me(!0),b&&b(z)),y&&y(z)}),Me=()=>{const z=X.current;return _&&_!=="button"&&!(z.tagName==="A"&&z.href)},Ye=ve.exports.useRef(!1),De=$u(z=>{o&&!Ye.current&&pe&&Y.current&&z.key===" "&&(Ye.current=!0,Y.current.stop(z,()=>{Y.current.start(z)})),z.target===z.currentTarget&&Me()&&z.key===" "&&z.preventDefault(),E&&E(z),z.target===z.currentTarget&&Me()&&z.key==="Enter"&&!v&&(z.preventDefault(),u&&u(z))}),He=$u(z=>{o&&z.key===" "&&Y.current&&pe&&!z.defaultPrevented&&(Ye.current=!1,Y.current.stop(z,()=>{Y.current.pulsate(z)})),x&&x(z),u&&z.target===z.currentTarget&&Me()&&z.key===" "&&!z.defaultPrevented&&u(z)});let tt=_;tt==="button"&&(q.href||q.to)&&(tt=l);const Re={};tt==="button"?(Re.type=H===void 0?"button":H,Re.disabled=v):(!q.href&&!q.to&&(Re.role="button"),v&&(Re["aria-disabled"]=v));const Ke=qu(ce,X),U=qu(r,Ke),C=Fe({},n,{centerRipple:i,component:_,disabled:v,disableRipple:h,disableTouchRipple:c,focusRipple:o,tabIndex:D,focusVisible:pe}),M=zS(C);return Ln(US,Fe({as:tt,className:st(M.root,m),ownerState:C,onBlur:Ie,onClick:u,onContextMenu:xe,onFocus:je,onKeyDown:De,onKeyUp:He,onMouseDown:Se,onMouseLeave:Ae,onMouseUp:he,onDragLeave:Oe,onTouchEnd:Ee,onTouchMove:Ce,onTouchStart:Le,ref:U,tabIndex:v?-1:D,type:H},Re,q,{children:[d,we?Ge(kS,Fe({ref:J,center:i},N)):null]}))});function GS(e){return fr("MuiTypography",e)}Er("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const VS=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],HS=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:a,variant:i,classes:d}=e,m={root:["root",i,e.align!=="inherit"&&`align${ze(t)}`,r&&"gutterBottom",n&&"noWrap",a&&"paragraph"]};return br(m,GS,d)},WS=It("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${ze(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>Fe({margin:0},t.variant&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),n0={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},$S={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},qS=e=>$S[e]||e;var i0=ve.exports.forwardRef(function(t,r){const n=ir({props:t,name:"MuiTypography"}),a=qS(n.color),i=rh(Fe({},n,{color:a})),{align:d="inherit",className:m,component:_,gutterBottom:v=!1,noWrap:h=!1,paragraph:c=!1,variant:o="body1",variantMapping:l=n0}=i,s=Gt(i,VS),u=Fe({},i,{align:d,color:a,className:m,component:_,gutterBottom:v,noWrap:h,paragraph:c,variant:o,variantMapping:l}),f=_||(c?"p":l[o]||n0[o])||"span",g=HS(u);return Ge(WS,Fe({as:f,ref:r,ownerState:u,className:st(g.root,m)},s))}),XS=yS(Ge("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function YS(e){return fr("MuiChip",e)}var nt=Er("MuiChip",["root","sizeSmall","sizeMedium","colorPrimary","colorSecondary","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","focusVisible"]);const KS=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"],ZS=e=>{const{classes:t,disabled:r,size:n,color:a,onDelete:i,clickable:d,variant:m}=e,_={root:["root",m,r&&"disabled",`size${ze(n)}`,`color${ze(a)}`,d&&"clickable",d&&`clickableColor${ze(a)}`,i&&"deletable",i&&`deletableColor${ze(a)}`,`${m}${ze(a)}`],label:["label",`label${ze(n)}`],avatar:["avatar",`avatar${ze(n)}`,`avatarColor${ze(a)}`],icon:["icon",`icon${ze(n)}`,`iconColor${ze(a)}`],deleteIcon:["deleteIcon",`deleteIcon${ze(n)}`,`deleteIconColor${ze(a)}`,`deleteIconOutlinedColor${ze(a)}`]};return br(_,YS,t)},QS=It("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{color:n,clickable:a,onDelete:i,size:d,variant:m}=r;return[{[`& .${nt.avatar}`]:t.avatar},{[`& .${nt.avatar}`]:t[`avatar${ze(d)}`]},{[`& .${nt.avatar}`]:t[`avatarColor${ze(n)}`]},{[`& .${nt.icon}`]:t.icon},{[`& .${nt.icon}`]:t[`icon${ze(d)}`]},{[`& .${nt.icon}`]:t[`iconColor${ze(n)}`]},{[`& .${nt.deleteIcon}`]:t.deleteIcon},{[`& .${nt.deleteIcon}`]:t[`deleteIcon${ze(d)}`]},{[`& .${nt.deleteIcon}`]:t[`deleteIconColor${ze(n)}`]},{[`& .${nt.deleteIcon}`]:t[`deleteIconOutlinedColor${ze(n)}`]},t.root,t[`size${ze(d)}`],t[`color${ze(n)}`],a&&t.clickable,a&&n!=="default"&&t[`clickableColor${ze(n)})`],i&&t.deletable,i&&n!=="default"&&t[`deletableColor${ze(n)}`],t[m],m==="outlined"&&t[`outlined${ze(n)}`]]}})(({theme:e,ownerState:t})=>{const r=nr(e.palette.text.primary,.26),n=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return Fe({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${nt.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${nt.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:n,fontSize:e.typography.pxToRem(12)},[`& .${nt.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${nt.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${nt.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${nt.icon}`]:Fe({color:e.vars?e.vars.palette.Chip.defaultIconColor:n,marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.color!=="default"&&{color:"inherit"}),[`& .${nt.deleteIcon}`]:Fe({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:r,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:nr(r,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:nr(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${nt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity+e.vars.palette.action.focusOpacity}))`:nr(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${nt.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>Fe({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity+e.vars.palette.action.hoverOpacity}))`:nr(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${nt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity+e.vars.palette.action.focusOpacity}))`:nr(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${nt.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>Fe({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${nt.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${nt.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${nt.avatar}`]:{marginLeft:4},[`& .${nt.avatarSmall}`]:{marginLeft:2},[`& .${nt.icon}`]:{marginLeft:4},[`& .${nt.iconSmall}`]:{marginLeft:2},[`& .${nt.deleteIcon}`]:{marginRight:5},[`& .${nt.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:nr(e.palette[t.color].main,.7)}`,[`&.${nt.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:nr(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${nt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:nr(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${nt.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:nr(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),JS=It("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:r}=e,{size:n}=r;return[t.label,t[`label${ze(n)}`]]}})(({ownerState:e})=>Fe({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.size==="small"&&{paddingLeft:8,paddingRight:8}));function o0(e){return e.key==="Backspace"||e.key==="Delete"}var dh=ve.exports.forwardRef(function(t,r){const n=ir({props:t,name:"MuiChip"}),{avatar:a,className:i,clickable:d,color:m="default",component:_,deleteIcon:v,disabled:h=!1,icon:c,label:o,onClick:l,onDelete:s,onKeyDown:u,onKeyUp:f,size:g="medium",variant:y="filled"}=n,b=Gt(n,KS),E=ve.exports.useRef(null),x=qu(E,r),w=Y=>{Y.stopPropagation(),s&&s(Y)},S=Y=>{Y.currentTarget===Y.target&&o0(Y)&&Y.preventDefault(),u&&u(Y)},O=Y=>{Y.currentTarget===Y.target&&(s&&o0(Y)?s(Y):Y.key==="Escape"&&E.current&&E.current.blur()),f&&f(Y)},A=d!==!1&&l?!0:d,L=g==="small",k=A||s?r0:_||"div",D=Fe({},n,{component:k,disabled:h,size:g,color:m,onDelete:!!s,clickable:A,variant:y}),N=ZS(D),$=k===r0?Fe({component:_||"div",focusVisibleClassName:N.focusVisible},s&&{disableRipple:!0}):{};let H=null;if(s){const Y=st(m!=="default"&&(y==="outlined"?N[`deleteIconOutlinedColor${ze(m)}`]:N[`deleteIconColor${ze(m)}`]),L&&N.deleteIconSmall);H=v&&ve.exports.isValidElement(v)?ve.exports.cloneElement(v,{className:st(v.props.className,N.deleteIcon,Y),onClick:w}):Ge(XS,{className:st(N.deleteIcon,Y),onClick:w})}let q=null;a&&ve.exports.isValidElement(a)&&(q=ve.exports.cloneElement(a,{className:st(N.avatar,a.props.className)}));let X=null;return c&&ve.exports.isValidElement(c)&&(X=ve.exports.cloneElement(c,{className:st(N.icon,c.props.className)})),Ln(QS,Fe({as:k,className:st(N.root,i),disabled:A&&h?!0:void 0,onClick:l,onKeyDown:S,onKeyUp:O,ref:x,ownerState:D},$,b,{children:[q||X,Ge(JS,{className:st(N.label),ownerState:D,children:o}),H]}))});const eP=qm();var tP=bA({defaultTheme:eP,defaultClassName:"MuiBox-root",generateClassName:mm.generate});function rP(e){return fr("MuiCard",e)}Er("MuiCard",["root"]);const nP=["className","raised"],iP=e=>{const{classes:t}=e;return br({root:["root"]},rP,t)},oP=It(pS,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"}));var aP=ve.exports.forwardRef(function(t,r){const n=ir({props:t,name:"MuiCard"}),{className:a,raised:i=!1}=n,d=Gt(n,nP),m=Fe({},n,{raised:i}),_=iP(m);return Ge(oP,Fe({className:st(_.root,a),elevation:i?8:void 0,ref:r,ownerState:m},d))}),sP=jA({createStyledComponent:It("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${ze(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>ir({props:e,name:"MuiContainer"})});function uP(e){return fr("MuiLinearProgress",e)}Er("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const lP=["className","color","value","valueBuffer","variant"];let Eo=e=>e,a0,s0,u0,l0,c0,f0;const ph=4,cP=yo(a0||(a0=Eo`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),fP=yo(s0||(s0=Eo`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),hP=yo(u0||(u0=Eo`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),dP=e=>{const{classes:t,variant:r,color:n}=e,a={root:["root",`color${ze(n)}`,r],dashed:["dashed",`dashedColor${ze(n)}`],bar1:["bar",`barColor${ze(n)}`,(r==="indeterminate"||r==="query")&&"bar1Indeterminate",r==="determinate"&&"bar1Determinate",r==="buffer"&&"bar1Buffer"],bar2:["bar",r!=="buffer"&&`barColor${ze(n)}`,r==="buffer"&&`color${ze(n)}`,(r==="indeterminate"||r==="query")&&"bar2Indeterminate",r==="buffer"&&"bar2Buffer"]};return br(a,uP,t)},_h=(e,t)=>t==="inherit"?"currentColor":e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?ah(e.palette[t].main,.62):oh(e.palette[t].main,.5),pP=It("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${ze(r.color)}`],t[r.variant]]}})(({ownerState:e,theme:t})=>Fe({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:_h(t,e.color)},e.color==="inherit"&&e.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},e.variant==="buffer"&&{backgroundColor:"transparent"},e.variant==="query"&&{transform:"rotate(180deg)"})),_P=It("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.dashed,t[`dashedColor${ze(r.color)}`]]}})(({ownerState:e,theme:t})=>{const r=_h(t,e.color);return Fe({position:"absolute",marginTop:0,height:"100%",width:"100%"},e.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${r} 0%, ${r} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},Hu(l0||(l0=Eo`
    animation: ${0} 3s infinite linear;
  `),hP)),gP=It("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t[`barColor${ze(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&t.bar1Indeterminate,r.variant==="determinate"&&t.bar1Determinate,r.variant==="buffer"&&t.bar1Buffer]}})(({ownerState:e,theme:t})=>Fe({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.variant==="determinate"&&{transition:`transform .${ph}s linear`},e.variant==="buffer"&&{zIndex:1,transition:`transform .${ph}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&Hu(c0||(c0=Eo`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),cP)),mP=It("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t[`barColor${ze(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&t.bar2Indeterminate,r.variant==="buffer"&&t.bar2Buffer]}})(({ownerState:e,theme:t})=>Fe({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},e.variant!=="buffer"&&{backgroundColor:e.color==="inherit"?"currentColor":(t.vars||t).palette[e.color].main},e.color==="inherit"&&{opacity:.3},e.variant==="buffer"&&{backgroundColor:_h(t,e.color),transition:`transform .${ph}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&Hu(f0||(f0=Eo`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),fP));var vP=ve.exports.forwardRef(function(t,r){const n=ir({props:t,name:"MuiLinearProgress"}),{className:a,color:i="primary",value:d,valueBuffer:m,variant:_="indeterminate"}=n,v=Gt(n,lP),h=Fe({},n,{color:i,variant:_}),c=dP(h),o=lS(),l={},s={bar1:{},bar2:{}};if((_==="determinate"||_==="buffer")&&d!==void 0){l["aria-valuenow"]=Math.round(d),l["aria-valuemin"]=0,l["aria-valuemax"]=100;let u=d-100;o.direction==="rtl"&&(u=-u),s.bar1.transform=`translateX(${u}%)`}if(_==="buffer"&&m!==void 0){let u=(m||0)-100;o.direction==="rtl"&&(u=-u),s.bar2.transform=`translateX(${u}%)`}return Ln(pP,Fe({className:st(c.root,a),ownerState:h,role:"progressbar"},l,{ref:r},v,{children:[_==="buffer"?Ge(_P,{className:c.dashed,ownerState:h}):null,Ge(gP,{className:c.bar1,ownerState:h,style:s.bar1}),_==="determinate"?null:Ge(mP,{className:c.bar2,ownerState:h,style:s.bar2})]}))});const yP=["component","direction","spacing","divider","children"];function bP(e,t){const r=ve.exports.Children.toArray(e).filter(Boolean);return r.reduce((n,a,i)=>(n.push(a),i<r.length-1&&n.push(ve.exports.cloneElement(t,{key:`separator-${i}`})),n),[])}const EP=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],TP=({ownerState:e,theme:t})=>{let r=Fe({display:"flex"},pn({theme:t},Yf({values:e.direction,breakpoints:t.breakpoints.values}),n=>({flexDirection:n})));if(e.spacing){const n=Zf(t),a=Object.keys(t.breakpoints.values).reduce((_,v)=>((typeof e.spacing=="object"&&e.spacing[v]!=null||typeof e.direction=="object"&&e.direction[v]!=null)&&(_[v]=!0),_),{}),i=Yf({values:e.direction,base:a}),d=Yf({values:e.spacing,base:a});r=dn(r,pn({theme:t},d,(_,v)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${EP(v?i[v]:e.direction)}`]:bo(n,_)}})))}return r},xP=It("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>[t.root]})(TP);var gh=ve.exports.forwardRef(function(t,r){const n=ir({props:t,name:"MuiStack"}),a=rh(n),{component:i="div",direction:d="column",spacing:m=0,divider:_,children:v}=a,h=Gt(a,yP);return Ge(xP,Fe({as:i,ownerState:{direction:d,spacing:m},ref:r},h,{children:_?bP(v,_):v}))}),h0=ve.exports.createContext();function wP(e){return fr("MuiTable",e)}Er("MuiTable",["root","stickyHeader"]);const AP=["className","component","padding","size","stickyHeader"],SP=e=>{const{classes:t,stickyHeader:r}=e;return br({root:["root",r&&"stickyHeader"]},wP,t)},PP=It("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>Fe({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Fe({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),d0="table";var OP=ve.exports.forwardRef(function(t,r){const n=ir({props:t,name:"MuiTable"}),{className:a,component:i=d0,padding:d="normal",size:m="medium",stickyHeader:_=!1}=n,v=Gt(n,AP),h=Fe({},n,{component:i,padding:d,size:m,stickyHeader:_}),c=SP(h),o=ve.exports.useMemo(()=>({padding:d,size:m,stickyHeader:_}),[d,m,_]);return Ge(h0.Provider,{value:o,children:Ge(PP,Fe({as:i,role:i===d0?null:"table",ref:r,className:st(c.root,a),ownerState:h},v))})}),el=ve.exports.createContext();function RP(e){return fr("MuiTableBody",e)}Er("MuiTableBody",["root"]);const LP=["className","component"],CP=e=>{const{classes:t}=e;return br({root:["root"]},RP,t)},IP=It("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),MP={variant:"body"},p0="tbody";var DP=ve.exports.forwardRef(function(t,r){const n=ir({props:t,name:"MuiTableBody"}),{className:a,component:i=p0}=n,d=Gt(n,LP),m=Fe({},n,{component:i}),_=CP(m);return Ge(el.Provider,{value:MP,children:Ge(IP,Fe({className:st(_.root,a),as:i,ref:r,role:i===p0?null:"rowgroup",ownerState:m},d))})});function NP(e){return fr("MuiTableCell",e)}var kP=Er("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]);const BP=["align","className","component","padding","scope","size","sortDirection","variant"],FP=e=>{const{classes:t,variant:r,align:n,padding:a,size:i,stickyHeader:d}=e,m={root:["root",r,d&&"stickyHeader",n!=="inherit"&&`align${ze(n)}`,a!=="normal"&&`padding${ze(a)}`,`size${ze(i)}`]};return br(m,NP,t)},jP=It("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${ze(r.size)}`],r.padding!=="normal"&&t[`padding${ze(r.padding)}`],r.align!=="inherit"&&t[`align${ze(r.align)}`],r.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>Fe({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?ah(nr(e.palette.divider,1),.88):oh(nr(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${kP.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}));var _0=ve.exports.forwardRef(function(t,r){const n=ir({props:t,name:"MuiTableCell"}),{align:a="inherit",className:i,component:d,padding:m,scope:_,size:v,sortDirection:h,variant:c}=n,o=Gt(n,BP),l=ve.exports.useContext(h0),s=ve.exports.useContext(el),u=s&&s.variant==="head";let f;d?f=d:f=u?"th":"td";let g=_;!g&&u&&(g="col");const y=c||s&&s.variant,b=Fe({},n,{align:a,component:f,padding:m||(l&&l.padding?l.padding:"normal"),size:v||(l&&l.size?l.size:"medium"),sortDirection:h,stickyHeader:y==="head"&&l&&l.stickyHeader,variant:y}),E=FP(b);let x=null;return h&&(x=h==="asc"?"ascending":"descending"),Ge(jP,Fe({as:f,ref:r,className:st(E.root,i),"aria-sort":x,scope:g,ownerState:b},o))});function zP(e){return fr("MuiTableContainer",e)}Er("MuiTableContainer",["root"]);const UP=["className","component"],GP=e=>{const{classes:t}=e;return br({root:["root"]},zP,t)},VP=It("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"});var HP=ve.exports.forwardRef(function(t,r){const n=ir({props:t,name:"MuiTableContainer"}),{className:a,component:i="div"}=n,d=Gt(n,UP),m=Fe({},n,{component:i}),_=GP(m);return Ge(VP,Fe({ref:r,as:i,className:st(_.root,a),ownerState:m},d))});function WP(e){return fr("MuiTableHead",e)}Er("MuiTableHead",["root"]);const $P=["className","component"],qP=e=>{const{classes:t}=e;return br({root:["root"]},WP,t)},XP=It("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),YP={variant:"head"},g0="thead";var KP=ve.exports.forwardRef(function(t,r){const n=ir({props:t,name:"MuiTableHead"}),{className:a,component:i=g0}=n,d=Gt(n,$P),m=Fe({},n,{component:i}),_=qP(m);return Ge(el.Provider,{value:YP,children:Ge(XP,Fe({as:i,className:st(_.root,a),ref:r,role:i===g0?null:"rowgroup",ownerState:m},d))})});function ZP(e){return fr("MuiTableRow",e)}var m0=Er("MuiTableRow",["root","selected","hover","head","footer"]);const QP=["className","component","hover","selected"],JP=e=>{const{classes:t,selected:r,hover:n,head:a,footer:i}=e;return br({root:["root",r&&"selected",n&&"hover",a&&"head",i&&"footer"]},ZP,t)},eO=It("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.head&&t.head,r.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${m0.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${m0.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:nr(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:nr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),v0="tr";var y0=ve.exports.forwardRef(function(t,r){const n=ir({props:t,name:"MuiTableRow"}),{className:a,component:i=v0,hover:d=!1,selected:m=!1}=n,_=Gt(n,QP),v=ve.exports.useContext(el),h=Fe({},n,{component:i,hover:d,selected:m,head:v&&v.variant==="head",footer:v&&v.variant==="footer"}),c=JP(h);return Ge(eO,Fe({as:i,ref:r,className:st(c.root,a),role:i===v0?null:"row",ownerState:h},_))});function tO({header:e,rows:t}){return Ge(HP,{component:aP,children:Ln(OP,{sx:{minWidth:650},size:"small","aria-label":"a metrics table",children:[Ge(KP,{children:Ge(y0,{children:e.map(r=>Ge(_0,{children:r},r))})}),Ge(DP,{children:t.map(r=>Ge(y0,{sx:{"&:last-child td, &:last-child th":{border:0}},children:e.map(n=>Ge(_0,{component:"th",scope:"row",children:r[n]},n+r.filename))},r.filename))})]})})}function Cn(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&"version"in process?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}var rO=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",getUserAgent:Cn}),tl={exports:{}},nO=b0;function b0(e,t,r,n){if(typeof r!="function")throw new Error("method for before hook must be a function");return n||(n={}),Array.isArray(t)?t.reverse().reduce(function(a,i){return b0.bind(null,e,i,a,n)},r)():Promise.resolve().then(function(){return e.registry[t]?e.registry[t].reduce(function(a,i){return i.hook.bind(null,a,n)},r)():r(n)})}var iO=oO;function oO(e,t,r,n){var a=n;e.registry[r]||(e.registry[r]=[]),t==="before"&&(n=function(i,d){return Promise.resolve().then(a.bind(null,d)).then(i.bind(null,d))}),t==="after"&&(n=function(i,d){var m;return Promise.resolve().then(i.bind(null,d)).then(function(_){return m=_,a(m,d)}).then(function(){return m})}),t==="error"&&(n=function(i,d){return Promise.resolve().then(i.bind(null,d)).catch(function(m){return a(m,d)})}),e.registry[r].push({hook:n,orig:a})}var aO=sO;function sO(e,t,r){if(!!e.registry[t]){var n=e.registry[t].map(function(a){return a.orig}).indexOf(r);n!==-1&&e.registry[t].splice(n,1)}}var E0=nO,uO=iO,lO=aO,T0=Function.bind,x0=T0.bind(T0);function w0(e,t,r){var n=x0(lO,null).apply(null,r?[t,r]:[t]);e.api={remove:n},e.remove=n,["before","error","after","wrap"].forEach(function(a){var i=r?[t,a,r]:[t,a];e[a]=e.api[a]=x0(uO,null).apply(null,i)})}function cO(){var e="h",t={registry:{}},r=E0.bind(null,t,e);return w0(r,t,e),r}function A0(){var e={registry:{}},t=E0.bind(null,e);return w0(t,e),t}var S0=!1;function To(){return S0||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),S0=!0),A0()}To.Singular=cO.bind(),To.Collection=A0.bind(),tl.exports=To,tl.exports.Hook=To,tl.exports.Singular=To.Singular;var fO=tl.exports.Collection=To.Collection;/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function P0(e){return Object.prototype.toString.call(e)==="[object Object]"}function O0(e){var t,r;return P0(e)===!1?!1:(t=e.constructor,t===void 0?!0:(r=t.prototype,!(P0(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}function hO(e){return e?Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{}):{}}function R0(e,t){const r=Object.assign({},e);return Object.keys(t).forEach(n=>{O0(t[n])?n in e?r[n]=R0(e[n],t[n]):Object.assign(r,{[n]:t[n]}):Object.assign(r,{[n]:t[n]})}),r}function L0(e){for(const t in e)e[t]===void 0&&delete e[t];return e}function mh(e,t,r){if(typeof t=="string"){let[a,i]=t.split(" ");r=Object.assign(i?{method:a,url:i}:{url:a},r)}else r=Object.assign({},t);r.headers=hO(r.headers),L0(r),L0(r.headers);const n=R0(e||{},r);return e&&e.mediaType.previews.length&&(n.mediaType.previews=e.mediaType.previews.filter(a=>!n.mediaType.previews.includes(a)).concat(n.mediaType.previews)),n.mediaType.previews=n.mediaType.previews.map(a=>a.replace(/-preview/,"")),n}function dO(e,t){const r=/\?/.test(e)?"&":"?",n=Object.keys(t);return n.length===0?e:e+r+n.map(a=>a==="q"?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${a}=${encodeURIComponent(t[a])}`).join("&")}const pO=/\{[^}]+\}/g;function _O(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function gO(e){const t=e.match(pO);return t?t.map(_O).reduce((r,n)=>r.concat(n),[]):[]}function C0(e,t){return Object.keys(e).filter(r=>!t.includes(r)).reduce((r,n)=>(r[n]=e[n],r),{})}function I0(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t}).join("")}function xo(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function Ga(e,t,r){return t=e==="+"||e==="#"?I0(t):xo(t),r?xo(r)+"="+t:t}function wo(e){return e!=null}function vh(e){return e===";"||e==="&"||e==="?"}function mO(e,t,r,n){var a=e[r],i=[];if(wo(a)&&a!=="")if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")a=a.toString(),n&&n!=="*"&&(a=a.substring(0,parseInt(n,10))),i.push(Ga(t,a,vh(t)?r:""));else if(n==="*")Array.isArray(a)?a.filter(wo).forEach(function(d){i.push(Ga(t,d,vh(t)?r:""))}):Object.keys(a).forEach(function(d){wo(a[d])&&i.push(Ga(t,a[d],d))});else{const d=[];Array.isArray(a)?a.filter(wo).forEach(function(m){d.push(Ga(t,m))}):Object.keys(a).forEach(function(m){wo(a[m])&&(d.push(xo(m)),d.push(Ga(t,a[m].toString())))}),vh(t)?i.push(xo(r)+"="+d.join(",")):d.length!==0&&i.push(d.join(","))}else t===";"?wo(a)&&i.push(xo(r)):a===""&&(t==="&"||t==="?")?i.push(xo(r)+"="):a===""&&i.push("");return i}function vO(e){return{expand:yO.bind(null,e)}}function yO(e,t){var r=["+","#",".","/",";","?","&"];return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(n,a,i){if(a){let m="";const _=[];if(r.indexOf(a.charAt(0))!==-1&&(m=a.charAt(0),a=a.substr(1)),a.split(/,/g).forEach(function(v){var h=/([^:\*]*)(?::(\d+)|(\*))?/.exec(v);_.push(mO(t,m,h[1],h[2]||h[3]))}),m&&m!=="+"){var d=",";return m==="?"?d="&":m!=="#"&&(d=m),(_.length!==0?m:"")+_.join(d)}else return _.join(",")}else return I0(i)})}function M0(e){let t=e.method.toUpperCase(),r=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),n=Object.assign({},e.headers),a,i=C0(e,["method","baseUrl","url","headers","request","mediaType"]);const d=gO(r);r=vO(r).expand(i),/^http/.test(r)||(r=e.baseUrl+r);const m=Object.keys(e).filter(h=>d.includes(h)).concat("baseUrl"),_=C0(i,m);if(!/application\/octet-stream/i.test(n.accept)&&(e.mediaType.format&&(n.accept=n.accept.split(/,/).map(h=>h.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),e.mediaType.previews.length)){const h=n.accept.match(/[\w-]+(?=-preview)/g)||[];n.accept=h.concat(e.mediaType.previews).map(c=>{const o=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${c}-preview${o}`}).join(",")}return["GET","HEAD"].includes(t)?r=dO(r,_):"data"in _?a=_.data:Object.keys(_).length?a=_:n["content-length"]=0,!n["content-type"]&&typeof a!="undefined"&&(n["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(t)&&typeof a=="undefined"&&(a=""),Object.assign({method:t,url:r,headers:n},typeof a!="undefined"?{body:a}:null,e.request?{request:e.request}:null)}function bO(e,t,r){return M0(mh(e,t,r))}function D0(e,t){const r=mh(e,t),n=bO.bind(null,r);return Object.assign(n,{DEFAULTS:r,defaults:D0.bind(null,r),merge:mh.bind(null,r),parse:M0})}const EO=`octokit-endpoint.js/6.0.12 ${Cn()}`,TO=D0(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":EO},mediaType:{format:"",previews:[]}});var or=typeof globalThis!="undefined"&&globalThis||typeof self!="undefined"&&self||typeof or!="undefined"&&or,Tr={searchParams:"URLSearchParams"in or,iterable:"Symbol"in or&&"iterator"in Symbol,blob:"FileReader"in or&&"Blob"in or&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in or,arrayBuffer:"ArrayBuffer"in or};function xO(e){return e&&DataView.prototype.isPrototypeOf(e)}if(Tr.arrayBuffer)var wO=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],AO=ArrayBuffer.isView||function(e){return e&&wO.indexOf(Object.prototype.toString.call(e))>-1};function Va(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function yh(e){return typeof e!="string"&&(e=String(e)),e}function bh(e){var t={next:function(){var r=e.shift();return{done:r===void 0,value:r}}};return Tr.iterable&&(t[Symbol.iterator]=function(){return t}),t}function Vt(e){this.map={},e instanceof Vt?e.forEach(function(t,r){this.append(r,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}Vt.prototype.append=function(e,t){e=Va(e),t=yh(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},Vt.prototype.delete=function(e){delete this.map[Va(e)]},Vt.prototype.get=function(e){return e=Va(e),this.has(e)?this.map[e]:null},Vt.prototype.has=function(e){return this.map.hasOwnProperty(Va(e))},Vt.prototype.set=function(e,t){this.map[Va(e)]=yh(t)},Vt.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},Vt.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),bh(e)},Vt.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),bh(e)},Vt.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),bh(e)},Tr.iterable&&(Vt.prototype[Symbol.iterator]=Vt.prototype.entries);function Eh(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function N0(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function SO(e){var t=new FileReader,r=N0(t);return t.readAsArrayBuffer(e),r}function PO(e){var t=new FileReader,r=N0(t);return t.readAsText(e),r}function OO(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function k0(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function B0(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:Tr.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Tr.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Tr.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Tr.arrayBuffer&&Tr.blob&&xO(e)?(this._bodyArrayBuffer=k0(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Tr.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||AO(e))?this._bodyArrayBuffer=k0(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Tr.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Tr.blob&&(this.blob=function(){var e=Eh(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=Eh(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(SO)}),this.text=function(){var e=Eh(this);if(e)return e;if(this._bodyBlob)return PO(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(OO(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Tr.formData&&(this.formData=function(){return this.text().then(CO)}),this.json=function(){return this.text().then(JSON.parse)},this}var RO=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function LO(e){var t=e.toUpperCase();return RO.indexOf(t)>-1?t:e}function Si(e,t){if(!(this instanceof Si))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var r=t.body;if(e instanceof Si){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Vt(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!r&&e._bodyInit!=null&&(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new Vt(t.headers)),this.method=LO(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),(this.method==="GET"||this.method==="HEAD")&&(t.cache==="no-store"||t.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var a=/\?/;this.url+=(a.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Si.prototype.clone=function(){return new Si(this,{body:this._bodyInit})};function CO(e){var t=new FormData;return e.trim().split("&").forEach(function(r){if(r){var n=r.split("="),a=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(a),decodeURIComponent(i))}}),t}function IO(e){var t=new Vt,r=e.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map(function(n){return n.indexOf(`
`)===0?n.substr(1,n.length):n}).forEach(function(n){var a=n.split(":"),i=a.shift().trim();if(i){var d=a.join(":").trim();t.append(i,d)}}),t}B0.call(Si.prototype);function gn(e,t){if(!(this instanceof gn))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new Vt(t.headers),this.url=t.url||"",this._initBody(e)}B0.call(gn.prototype),gn.prototype.clone=function(){return new gn(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Vt(this.headers),url:this.url})},gn.error=function(){var e=new gn(null,{status:0,statusText:""});return e.type="error",e};var MO=[301,302,303,307,308];gn.redirect=function(e,t){if(MO.indexOf(t)===-1)throw new RangeError("Invalid status code");return new gn(null,{status:t,headers:{location:e}})};var Pi=or.DOMException;try{new Pi}catch{Pi=function(t,r){this.message=t,this.name=r;var n=Error(t);this.stack=n.stack},Pi.prototype=Object.create(Error.prototype),Pi.prototype.constructor=Pi}function F0(e,t){return new Promise(function(r,n){var a=new Si(e,t);if(a.signal&&a.signal.aborted)return n(new Pi("Aborted","AbortError"));var i=new XMLHttpRequest;function d(){i.abort()}i.onload=function(){var _={status:i.status,statusText:i.statusText,headers:IO(i.getAllResponseHeaders()||"")};_.url="responseURL"in i?i.responseURL:_.headers.get("X-Request-URL");var v="response"in i?i.response:i.responseText;setTimeout(function(){r(new gn(v,_))},0)},i.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},i.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},i.onabort=function(){setTimeout(function(){n(new Pi("Aborted","AbortError"))},0)};function m(_){try{return _===""&&or.location.href?or.location.href:_}catch{return _}}i.open(a.method,m(a.url),!0),a.credentials==="include"?i.withCredentials=!0:a.credentials==="omit"&&(i.withCredentials=!1),"responseType"in i&&(Tr.blob?i.responseType="blob":Tr.arrayBuffer&&a.headers.get("Content-Type")&&a.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(i.responseType="arraybuffer")),t&&typeof t.headers=="object"&&!(t.headers instanceof Vt)?Object.getOwnPropertyNames(t.headers).forEach(function(_){i.setRequestHeader(_,yh(t.headers[_]))}):a.headers.forEach(function(_,v){i.setRequestHeader(v,_)}),a.signal&&(a.signal.addEventListener("abort",d),i.onreadystatechange=function(){i.readyState===4&&a.signal.removeEventListener("abort",d)}),i.send(typeof a._bodyInit=="undefined"?null:a._bodyInit)})}F0.polyfill=!0,or.fetch||(or.fetch=F0,or.Headers=Vt,or.Request=Si,or.Response=gn);var DO=self.fetch.bind(self);class Th extends Error{constructor(t){super(t);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var xh={exports:{}},NO=j0;function j0(e,t){if(e&&t)return j0(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),a=0;a<n.length;a++)n[a]=arguments[a];var i=e.apply(this,n),d=n[n.length-1];return typeof i=="function"&&i!==d&&Object.keys(d).forEach(function(m){i[m]=d[m]}),i}}var z0=NO;xh.exports=z0(rl),xh.exports.strict=z0(U0),rl.proto=rl(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return rl(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return U0(this)},configurable:!0})});function rl(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function U0(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}var G0=xh.exports;const kO=G0(e=>console.warn(e)),BO=G0(e=>console.warn(e));class Ao extends Error{constructor(t,r,n){super(t);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=r;let a;"headers"in n&&typeof n.headers!="undefined"&&(a=n.headers),"response"in n&&(this.response=n.response,a=n.response.headers);const i=Object.assign({},n.request);n.request.headers.authorization&&(i.headers=Object.assign({},n.request.headers,{authorization:n.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),i.url=i.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=i,Object.defineProperty(this,"code",{get(){return kO(new Th("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),r}}),Object.defineProperty(this,"headers",{get(){return BO(new Th("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),a||{}}})}}var FO=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",RequestError:Ao});const jO="5.6.3";function zO(e){return e.arrayBuffer()}function V0(e){const t=e.request&&e.request.log?e.request.log:console;(O0(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let r={},n,a;return(e.request&&e.request.fetch||DO)(e.url,Object.assign({method:e.method,body:e.body,headers:e.headers,redirect:e.redirect},e.request)).then(async d=>{a=d.url,n=d.status;for(const m of d.headers)r[m[0]]=m[1];if("deprecation"in r){const m=r.link&&r.link.match(/<([^>]+)>; rel="deprecation"/),_=m&&m.pop();t.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${r.sunset}${_?`. See ${_}`:""}`)}if(!(n===204||n===205)){if(e.method==="HEAD"){if(n<400)return;throw new Ao(d.statusText,n,{response:{url:a,status:n,headers:r,data:void 0},request:e})}if(n===304)throw new Ao("Not modified",n,{response:{url:a,status:n,headers:r,data:await wh(d)},request:e});if(n>=400){const m=await wh(d);throw new Ao(UO(m),n,{response:{url:a,status:n,headers:r,data:m},request:e})}return wh(d)}}).then(d=>({status:n,url:a,headers:r,data:d})).catch(d=>{throw d instanceof Ao?d:new Ao(d.message,500,{request:e})})}async function wh(e){const t=e.headers.get("content-type");return/application\/json/.test(t)?e.json():!t||/^text\/|charset=utf-8$/.test(t)?e.text():zO(e)}function UO(e){return typeof e=="string"?e:"message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}`:e.message:`Unknown error: ${JSON.stringify(e)}`}function Ah(e,t){const r=e.defaults(t);return Object.assign(function(a,i){const d=r.merge(a,i);if(!d.request||!d.request.hook)return V0(r.parse(d));const m=(_,v)=>V0(r.parse(r.merge(_,v)));return Object.assign(m,{endpoint:r,defaults:Ah.bind(null,r)}),d.request.hook(m,d)},{endpoint:r,defaults:Ah.bind(null,r)})}const In=Ah(TO,{headers:{"user-agent":`octokit-request.js/${jO} ${Cn()}`}});var GO=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",request:In});const VO="4.8.0";function HO(e){return`Request failed due to following response errors:
`+e.errors.map(t=>` - ${t.message}`).join(`
`)}class WO extends Error{constructor(t,r,n){super(HO(n));this.request=t,this.headers=r,this.response=n,this.name="GraphqlResponseError",this.errors=n.errors,this.data=n.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}const $O=["method","baseUrl","url","headers","request","query","mediaType"],qO=["query","method","url"],H0=/\/api\/v3\/?$/;function XO(e,t,r){if(r){if(typeof t=="string"&&"query"in r)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const d in r)if(!!qO.includes(d))return Promise.reject(new Error(`[@octokit/graphql] "${d}" cannot be used as variable name`))}const n=typeof t=="string"?Object.assign({query:t},r):t,a=Object.keys(n).reduce((d,m)=>$O.includes(m)?(d[m]=n[m],d):(d.variables||(d.variables={}),d.variables[m]=n[m],d),{}),i=n.baseUrl||e.endpoint.DEFAULTS.baseUrl;return H0.test(i)&&(a.url=i.replace(H0,"/api/graphql")),e(a).then(d=>{if(d.data.errors){const m={};for(const _ of Object.keys(d.headers))m[_]=d.headers[_];throw new WO(a,m,d.data)}return d.data.data})}function Sh(e,t){const r=e.defaults(t);return Object.assign((a,i)=>XO(r,a,i),{defaults:Sh.bind(null,r),endpoint:In.endpoint})}Sh(In,{headers:{"user-agent":`octokit-graphql.js/${VO} ${Cn()}`},method:"POST",url:"/graphql"});function YO(e){return Sh(e,{method:"POST",url:"/graphql"})}const KO=/^v1\./,ZO=/^ghs_/,QO=/^ghu_/;async function JO(e){const t=e.split(/\./).length===3,r=KO.test(e)||ZO.test(e),n=QO.test(e);return{type:"token",token:e,tokenType:t?"app":r?"installation":n?"user-to-server":"oauth"}}function e2(e){return e.split(/\./).length===3?`bearer ${e}`:`token ${e}`}async function t2(e,t,r,n){const a=t.endpoint.merge(r,n);return a.headers.authorization=e2(e),t(a)}const r2=function(t){if(!t)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof t!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return t=t.replace(/^(token|bearer) +/i,""),Object.assign(JO.bind(null,t),{hook:t2.bind(null,t)})},W0="3.6.0";class nl{constructor(t={}){const r=new fO,n={baseUrl:In.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:r.bind(null,"request")}),mediaType:{previews:[],format:""}};if(n.headers["user-agent"]=[t.userAgent,`octokit-core.js/${W0} ${Cn()}`].filter(Boolean).join(" "),t.baseUrl&&(n.baseUrl=t.baseUrl),t.previews&&(n.mediaType.previews=t.previews),t.timeZone&&(n.headers["time-zone"]=t.timeZone),this.request=In.defaults(n),this.graphql=YO(this.request).defaults(n),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},t.log),this.hook=r,t.authStrategy){const i=t,{authStrategy:d}=i,m=Fo(i,["authStrategy"]),_=d(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:m},t.auth));r.wrap("request",_.hook),this.auth=_}else if(!t.auth)this.auth=async()=>({type:"unauthenticated"});else{const d=r2(t.auth);r.wrap("request",d.hook),this.auth=d}this.constructor.plugins.forEach(d=>{Object.assign(this,d(this,t))})}static defaults(t){return class extends this{constructor(...n){const a=n[0]||{};if(typeof t=="function"){super(t(a));return}super(Object.assign({},t,a,a.userAgent&&t.userAgent?{userAgent:`${a.userAgent} ${t.userAgent}`}:null))}}}static plugin(...t){var r;const n=this.plugins;return r=class extends this{},r.plugins=n.concat(t.filter(i=>!n.includes(i))),r}}nl.VERSION=W0,nl.plugins=[];var n2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Octokit:nl});const i2="2.21.0";function o2(e){if(!e.data)return xr(Qe({},e),{data:[]});if(!("total_count"in e.data&&!("url"in e.data)))return e;const r=e.data.incomplete_results,n=e.data.repository_selection,a=e.data.total_count;delete e.data.incomplete_results,delete e.data.repository_selection,delete e.data.total_count;const i=Object.keys(e.data)[0],d=e.data[i];return e.data=d,typeof r!="undefined"&&(e.data.incomplete_results=r),typeof n!="undefined"&&(e.data.repository_selection=n),e.data.total_count=a,e}function Ph(e,t,r){const n=typeof t=="function"?t.endpoint(r):e.request.endpoint(t,r),a=typeof t=="function"?t:e.request,i=n.method,d=n.headers;let m=n.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!m)return{done:!0};try{const _=await a({method:i,url:m,headers:d}),v=o2(_);return m=((v.headers.link||"").match(/<([^>]+)>;\s*rel="next"/)||[])[1],{value:v}}catch(_){if(_.status!==409)throw _;return m="",{value:{status:200,headers:{},data:[]}}}}})}}function $0(e,t,r,n){return typeof r=="function"&&(n=r,r=void 0),q0(e,[],Ph(e,t,r)[Symbol.asyncIterator](),n)}function q0(e,t,r,n){return r.next().then(a=>{if(a.done)return t;let i=!1;function d(){i=!0}return t=t.concat(n?n(a.value,d):a.value.data),i?t:q0(e,t,r,n)})}const a2=Object.assign($0,{iterator:Ph}),X0=["GET /app/hook/deliveries","GET /app/installations","GET /applications/grants","GET /authorizations","GET /enterprises/{enterprise}/actions/permissions/organizations","GET /enterprises/{enterprise}/actions/runner-groups","GET /enterprises/{enterprise}/actions/runner-groups/{runner_group_id}/organizations","GET /enterprises/{enterprise}/actions/runner-groups/{runner_group_id}/runners","GET /enterprises/{enterprise}/actions/runners","GET /enterprises/{enterprise}/audit-log","GET /enterprises/{enterprise}/secret-scanning/alerts","GET /enterprises/{enterprise}/settings/billing/advanced-security","GET /events","GET /gists","GET /gists/public","GET /gists/starred","GET /gists/{gist_id}/comments","GET /gists/{gist_id}/commits","GET /gists/{gist_id}/forks","GET /installation/repositories","GET /issues","GET /licenses","GET /marketplace_listing/plans","GET /marketplace_listing/plans/{plan_id}/accounts","GET /marketplace_listing/stubbed/plans","GET /marketplace_listing/stubbed/plans/{plan_id}/accounts","GET /networks/{owner}/{repo}/events","GET /notifications","GET /organizations","GET /orgs/{org_id}/codespaces","GET /orgs/{org}/actions/cache/usage-by-repository","GET /orgs/{org}/actions/permissions/repositories","GET /orgs/{org}/actions/runner-groups","GET /orgs/{org}/actions/runner-groups/{runner_group_id}/repositories","GET /orgs/{org}/actions/runner-groups/{runner_group_id}/runners","GET /orgs/{org}/actions/runners","GET /orgs/{org}/actions/secrets","GET /orgs/{org}/actions/secrets/{secret_name}/repositories","GET /orgs/{org}/audit-log","GET /orgs/{org}/blocks","GET /orgs/{org}/code-scanning/alerts","GET /orgs/{org}/credential-authorizations","GET /orgs/{org}/dependabot/secrets","GET /orgs/{org}/dependabot/secrets/{secret_name}/repositories","GET /orgs/{org}/events","GET /orgs/{org}/external-groups","GET /orgs/{org}/failed_invitations","GET /orgs/{org}/hooks","GET /orgs/{org}/hooks/{hook_id}/deliveries","GET /orgs/{org}/installations","GET /orgs/{org}/invitations","GET /orgs/{org}/invitations/{invitation_id}/teams","GET /orgs/{org}/issues","GET /orgs/{org}/members","GET /orgs/{org}/migrations","GET /orgs/{org}/migrations/{migration_id}/repositories","GET /orgs/{org}/outside_collaborators","GET /orgs/{org}/packages","GET /orgs/{org}/packages/{package_type}/{package_name}/versions","GET /orgs/{org}/projects","GET /orgs/{org}/public_members","GET /orgs/{org}/repos","GET /orgs/{org}/secret-scanning/alerts","GET /orgs/{org}/settings/billing/advanced-security","GET /orgs/{org}/team-sync/groups","GET /orgs/{org}/teams","GET /orgs/{org}/teams/{team_slug}/discussions","GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments","GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions","GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions","GET /orgs/{org}/teams/{team_slug}/invitations","GET /orgs/{org}/teams/{team_slug}/members","GET /orgs/{org}/teams/{team_slug}/projects","GET /orgs/{org}/teams/{team_slug}/repos","GET /orgs/{org}/teams/{team_slug}/teams","GET /projects/columns/{column_id}/cards","GET /projects/{project_id}/collaborators","GET /projects/{project_id}/columns","GET /repos/{owner}/{repo}/actions/artifacts","GET /repos/{owner}/{repo}/actions/caches","GET /repos/{owner}/{repo}/actions/runners","GET /repos/{owner}/{repo}/actions/runs","GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts","GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs","GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs","GET /repos/{owner}/{repo}/actions/secrets","GET /repos/{owner}/{repo}/actions/workflows","GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs","GET /repos/{owner}/{repo}/assignees","GET /repos/{owner}/{repo}/branches","GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations","GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs","GET /repos/{owner}/{repo}/code-scanning/alerts","GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances","GET /repos/{owner}/{repo}/code-scanning/analyses","GET /repos/{owner}/{repo}/codespaces","GET /repos/{owner}/{repo}/codespaces/devcontainers","GET /repos/{owner}/{repo}/codespaces/secrets","GET /repos/{owner}/{repo}/collaborators","GET /repos/{owner}/{repo}/comments","GET /repos/{owner}/{repo}/comments/{comment_id}/reactions","GET /repos/{owner}/{repo}/commits","GET /repos/{owner}/{repo}/commits/{commit_sha}/comments","GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls","GET /repos/{owner}/{repo}/commits/{ref}/check-runs","GET /repos/{owner}/{repo}/commits/{ref}/check-suites","GET /repos/{owner}/{repo}/commits/{ref}/status","GET /repos/{owner}/{repo}/commits/{ref}/statuses","GET /repos/{owner}/{repo}/contributors","GET /repos/{owner}/{repo}/dependabot/secrets","GET /repos/{owner}/{repo}/deployments","GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses","GET /repos/{owner}/{repo}/environments","GET /repos/{owner}/{repo}/events","GET /repos/{owner}/{repo}/forks","GET /repos/{owner}/{repo}/git/matching-refs/{ref}","GET /repos/{owner}/{repo}/hooks","GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries","GET /repos/{owner}/{repo}/invitations","GET /repos/{owner}/{repo}/issues","GET /repos/{owner}/{repo}/issues/comments","GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions","GET /repos/{owner}/{repo}/issues/events","GET /repos/{owner}/{repo}/issues/{issue_number}/comments","GET /repos/{owner}/{repo}/issues/{issue_number}/events","GET /repos/{owner}/{repo}/issues/{issue_number}/labels","GET /repos/{owner}/{repo}/issues/{issue_number}/reactions","GET /repos/{owner}/{repo}/issues/{issue_number}/timeline","GET /repos/{owner}/{repo}/keys","GET /repos/{owner}/{repo}/labels","GET /repos/{owner}/{repo}/milestones","GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels","GET /repos/{owner}/{repo}/notifications","GET /repos/{owner}/{repo}/pages/builds","GET /repos/{owner}/{repo}/projects","GET /repos/{owner}/{repo}/pulls","GET /repos/{owner}/{repo}/pulls/comments","GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions","GET /repos/{owner}/{repo}/pulls/{pull_number}/comments","GET /repos/{owner}/{repo}/pulls/{pull_number}/commits","GET /repos/{owner}/{repo}/pulls/{pull_number}/files","GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers","GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews","GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments","GET /repos/{owner}/{repo}/releases","GET /repos/{owner}/{repo}/releases/{release_id}/assets","GET /repos/{owner}/{repo}/releases/{release_id}/reactions","GET /repos/{owner}/{repo}/secret-scanning/alerts","GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}/locations","GET /repos/{owner}/{repo}/stargazers","GET /repos/{owner}/{repo}/subscribers","GET /repos/{owner}/{repo}/tags","GET /repos/{owner}/{repo}/teams","GET /repos/{owner}/{repo}/topics","GET /repositories","GET /repositories/{repository_id}/environments/{environment_name}/secrets","GET /search/code","GET /search/commits","GET /search/issues","GET /search/labels","GET /search/repositories","GET /search/topics","GET /search/users","GET /teams/{team_id}/discussions","GET /teams/{team_id}/discussions/{discussion_number}/comments","GET /teams/{team_id}/discussions/{discussion_number}/comments/{comment_number}/reactions","GET /teams/{team_id}/discussions/{discussion_number}/reactions","GET /teams/{team_id}/invitations","GET /teams/{team_id}/members","GET /teams/{team_id}/projects","GET /teams/{team_id}/repos","GET /teams/{team_id}/teams","GET /user/blocks","GET /user/codespaces","GET /user/codespaces/secrets","GET /user/emails","GET /user/followers","GET /user/following","GET /user/gpg_keys","GET /user/installations","GET /user/installations/{installation_id}/repositories","GET /user/issues","GET /user/keys","GET /user/marketplace_purchases","GET /user/marketplace_purchases/stubbed","GET /user/memberships/orgs","GET /user/migrations","GET /user/migrations/{migration_id}/repositories","GET /user/orgs","GET /user/packages","GET /user/packages/{package_type}/{package_name}/versions","GET /user/public_emails","GET /user/repos","GET /user/repository_invitations","GET /user/starred","GET /user/subscriptions","GET /user/teams","GET /users","GET /users/{username}/events","GET /users/{username}/events/orgs/{org}","GET /users/{username}/events/public","GET /users/{username}/followers","GET /users/{username}/following","GET /users/{username}/gists","GET /users/{username}/gpg_keys","GET /users/{username}/keys","GET /users/{username}/orgs","GET /users/{username}/packages","GET /users/{username}/projects","GET /users/{username}/received_events","GET /users/{username}/received_events/public","GET /users/{username}/repos","GET /users/{username}/starred","GET /users/{username}/subscriptions"];function s2(e){return typeof e=="string"?X0.includes(e):!1}function Oh(e){return{paginate:Object.assign($0.bind(null,e),{iterator:Ph.bind(null,e)})}}Oh.VERSION=i2;var u2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",composePaginateRest:a2,isPaginatingEndpoint:s2,paginateRest:Oh,paginatingEndpoints:X0});const l2={actions:{addCustomLabelsToSelfHostedRunnerForOrg:["POST /orgs/{org}/actions/runners/{runner_id}/labels"],addCustomLabelsToSelfHostedRunnerForRepo:["POST /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],approveWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/approve"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createOrUpdateEnvironmentSecret:["PUT /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteActionsCacheById:["DELETE /repos/{owner}/{repo}/actions/caches/{cache_id}"],deleteActionsCacheByKey:["DELETE /repos/{owner}/{repo}/actions/caches{?key,ref}"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteEnvironmentSecret:["DELETE /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunAttemptLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],getActionsCacheList:["GET /repos/{owner}/{repo}/actions/caches"],getActionsCacheUsage:["GET /repos/{owner}/{repo}/actions/cache/usage"],getActionsCacheUsageByRepoForOrg:["GET /orgs/{org}/actions/cache/usage-by-repository"],getActionsCacheUsageForEnterprise:["GET /enterprises/{enterprise}/actions/cache/usage"],getActionsCacheUsageForOrg:["GET /orgs/{org}/actions/cache/usage"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getEnvironmentPublicKey:["GET /repositories/{repository_id}/environments/{environment_name}/secrets/public-key"],getEnvironmentSecret:["GET /repositories/{repository_id}/environments/{environment_name}/secrets/{secret_name}"],getGithubActionsDefaultWorkflowPermissionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/workflow"],getGithubActionsDefaultWorkflowPermissionsOrganization:["GET /orgs/{org}/actions/permissions/workflow"],getGithubActionsDefaultWorkflowPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/workflow"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getPendingDeploymentsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getReviewsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/approvals"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowAccessToRepository:["GET /repos/{owner}/{repo}/actions/permissions/access"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listEnvironmentSecrets:["GET /repositories/{repository_id}/environments/{environment_name}/secrets"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listJobsForWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs"],listLabelsForSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}/labels"],listLabelsForSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunJobForWorkflowRun:["POST /repos/{owner}/{repo}/actions/jobs/{job_id}/rerun"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],reRunWorkflowFailedJobs:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun-failed-jobs"],removeAllCustomLabelsFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels"],removeAllCustomLabelsFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],removeCustomLabelFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels/{name}"],removeCustomLabelFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels/{name}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],reviewPendingDeploymentsForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],setActionsOidcCustomIssuerPolicyForEnterprise:["PUT /enterprises/{enterprise}/actions/oidc/customization/issuer"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setCustomLabelsForSelfHostedRunnerForOrg:["PUT /orgs/{org}/actions/runners/{runner_id}/labels"],setCustomLabelsForSelfHostedRunnerForRepo:["PUT /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],setGithubActionsDefaultWorkflowPermissionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/workflow"],setGithubActionsDefaultWorkflowPermissionsOrganization:["PUT /orgs/{org}/actions/permissions/workflow"],setGithubActionsDefaultWorkflowPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/workflow"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"],setWorkflowAccessToRepository:["PUT /repos/{owner}/{repo}/actions/permissions/access"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","addRepoToInstallationForAuthenticatedUser"]}],addRepoToInstallationForAuthenticatedUser:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],getWebhookDelivery:["GET /app/hook/deliveries/{delivery_id}"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],listWebhookDeliveries:["GET /app/hook/deliveries"],redeliverWebhookDelivery:["POST /app/hook/deliveries/{delivery_id}/attempts"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","removeRepoFromInstallationForAuthenticatedUser"]}],removeRepoFromInstallationForAuthenticatedUser:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubAdvancedSecurityBillingGhe:["GET /enterprises/{enterprise}/settings/billing/advanced-security"],getGithubAdvancedSecurityBillingOrg:["GET /orgs/{org}/settings/billing/advanced-security"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestRun:["POST /repos/{owner}/{repo}/check-runs/{check_run_id}/rerequest"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],listAlertInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listAlertsForOrg:["GET /orgs/{org}/code-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances",{},{renamed:["codeScanning","listAlertInstances"]}],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct"],getConductCode:["GET /codes_of_conduct/{key}"]},codespaces:{addRepositoryForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],codespaceMachinesForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/machines"],createForAuthenticatedUser:["POST /user/codespaces"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],createOrUpdateSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}"],createWithPrForAuthenticatedUser:["POST /repos/{owner}/{repo}/pulls/{pull_number}/codespaces"],createWithRepoForAuthenticatedUser:["POST /repos/{owner}/{repo}/codespaces"],deleteForAuthenticatedUser:["DELETE /user/codespaces/{codespace_name}"],deleteFromOrganization:["DELETE /orgs/{org}/members/{username}/codespaces/{codespace_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],deleteSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}"],exportForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/exports"],getExportDetailsForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/exports/{export_id}"],getForAuthenticatedUser:["GET /user/codespaces/{codespace_name}"],getPublicKeyForAuthenticatedUser:["GET /user/codespaces/secrets/public-key"],getRepoPublicKey:["GET /repos/{owner}/{repo}/codespaces/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],getSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}"],listDevcontainersInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/devcontainers"],listForAuthenticatedUser:["GET /user/codespaces"],listInOrganization:["GET /orgs/{org_id}/codespaces"],listInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces"],listRepoSecrets:["GET /repos/{owner}/{repo}/codespaces/secrets"],listRepositoriesForSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}/repositories"],listSecretsForAuthenticatedUser:["GET /user/codespaces/secrets"],removeRepositoryForSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],repoMachinesForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/machines"],setRepositoriesForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories"],startForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/start"],stopForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/stop"],stopInOrganization:["POST /orgs/{org}/members/{username}/codespaces/{codespace_name}/stop"],updateForAuthenticatedUser:["PATCH /user/codespaces/{codespace_name}"]},dependabot:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],getOrgPublicKey:["GET /orgs/{org}/dependabot/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}"],getRepoPublicKey:["GET /repos/{owner}/{repo}/dependabot/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],listOrgSecrets:["GET /orgs/{org}/dependabot/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/dependabot/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories"]},dependencyGraph:{createRepositorySnapshot:["POST /repos/{owner}/{repo}/dependency-graph/snapshots"],diffRange:["GET /repos/{owner}/{repo}/dependency-graph/compare/{basehead}"]},emojis:{get:["GET /emojis"]},enterpriseAdmin:{addCustomLabelsToSelfHostedRunnerForEnterprise:["POST /enterprises/{enterprise}/actions/runners/{runner_id}/labels"],disableSelectedOrganizationGithubActionsEnterprise:["DELETE /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],enableSelectedOrganizationGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],getAllowedActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/selected-actions"],getGithubActionsPermissionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions"],getServerStatistics:["GET /enterprise-installation/{enterprise_or_org}/server-statistics"],listLabelsForSelfHostedRunnerForEnterprise:["GET /enterprises/{enterprise}/actions/runners/{runner_id}/labels"],listSelectedOrganizationsEnabledGithubActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/organizations"],removeAllCustomLabelsFromSelfHostedRunnerForEnterprise:["DELETE /enterprises/{enterprise}/actions/runners/{runner_id}/labels"],removeCustomLabelFromSelfHostedRunnerForEnterprise:["DELETE /enterprises/{enterprise}/actions/runners/{runner_id}/labels/{name}"],setAllowedActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/selected-actions"],setCustomLabelsForSelfHostedRunnerForEnterprise:["PUT /enterprises/{enterprise}/actions/runners/{runner_id}/labels"],setGithubActionsPermissionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions"],setSelectedOrganizationsEnabledGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline"],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{cancelImport:["DELETE /repos/{owner}/{repo}/import"],deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive"],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive"],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive"],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive"],getCommitAuthors:["GET /repos/{owner}/{repo}/import/authors"],getImportStatus:["GET /repos/{owner}/{repo}/import"],getLargeFiles:["GET /repos/{owner}/{repo}/import/large_files"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}"],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}"],listForAuthenticatedUser:["GET /user/migrations"],listForOrg:["GET /orgs/{org}/migrations"],listReposForAuthenticatedUser:["GET /user/migrations/{migration_id}/repositories"],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories"],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{},{renamed:["migrations","listReposForAuthenticatedUser"]}],mapCommitAuthor:["PATCH /repos/{owner}/{repo}/import/authors/{author_id}"],setLfsPreference:["PATCH /repos/{owner}/{repo}/import/lfs"],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],startImport:["PUT /repos/{owner}/{repo}/import"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock"],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock"],updateImport:["PATCH /repos/{owner}/{repo}/import"]},orgs:{blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createWebhook:["POST /orgs/{org}/hooks"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],get:["GET /orgs/{org}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listBlockedUsers:["GET /orgs/{org}/blocks"],listCustomRoles:["GET /organizations/{organization_id}/custom_roles"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listWebhookDeliveries:["GET /orgs/{org}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByOrg"]}],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByAuthenticatedUser"]}],getAllPackageVersionsForPackageOwnedByAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],listPackagesForAuthenticatedUser:["GET /user/packages"],listPackagesForOrganization:["GET /orgs/{org}/packages"],listPackagesForUser:["GET /users/{username}/packages"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForUser:["POST /users/{username}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForUser:["POST /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}"],createCard:["POST /projects/columns/{column_id}/cards"],createColumn:["POST /projects/{project_id}/columns"],createForAuthenticatedUser:["POST /user/projects"],createForOrg:["POST /orgs/{org}/projects"],createForRepo:["POST /repos/{owner}/{repo}/projects"],delete:["DELETE /projects/{project_id}"],deleteCard:["DELETE /projects/columns/cards/{card_id}"],deleteColumn:["DELETE /projects/columns/{column_id}"],get:["GET /projects/{project_id}"],getCard:["GET /projects/columns/cards/{card_id}"],getColumn:["GET /projects/columns/{column_id}"],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission"],listCards:["GET /projects/columns/{column_id}/cards"],listCollaborators:["GET /projects/{project_id}/collaborators"],listColumns:["GET /projects/{project_id}/columns"],listForOrg:["GET /orgs/{org}/projects"],listForRepo:["GET /repos/{owner}/{repo}/projects"],listForUser:["GET /users/{username}/projects"],moveCard:["POST /projects/columns/cards/{card_id}/moves"],moveColumn:["POST /projects/columns/{column_id}/moves"],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}"],update:["PATCH /projects/{project_id}"],updateCard:["PATCH /projects/columns/cards/{card_id}"],updateColumn:["PATCH /projects/columns/{column_id}"]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch"],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions"],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions"],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],createForRelease:["POST /repos/{owner}/{repo}/releases/{release_id}/reactions"],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}"],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}"],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}"],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}"],deleteForRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}/reactions/{reaction_id}"],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}"],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}"],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions"],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions"],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],listForRelease:["GET /repos/{owner}/{repo}/releases/{release_id}/reactions"],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}",{},{renamed:["repos","acceptInvitationForAuthenticatedUser"]}],acceptInvitationForAuthenticatedUser:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts"],codeownersErrors:["GET /repos/{owner}/{repo}/codeowners/errors"],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],compareCommitsWithBasehead:["GET /repos/{owner}/{repo}/compare/{basehead}"],createAutolink:["POST /repos/{owner}/{repo}/autolinks"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateEnvironment:["PUT /repos/{owner}/{repo}/environments/{environment_name}"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createPagesSite:["POST /repos/{owner}/{repo}/pages"],createRelease:["POST /repos/{owner}/{repo}/releases"],createTagProtection:["POST /repos/{owner}/{repo}/tags/protection"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate"],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}",{},{renamed:["repos","declineInvitationForAuthenticatedUser"]}],declineInvitationForAuthenticatedUser:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteAnEnvironment:["DELETE /repos/{owner}/{repo}/environments/{environment_name}"],deleteAutolink:["DELETE /repos/{owner}/{repo}/autolinks/{autolink_id}"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages"],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteTagProtection:["DELETE /repos/{owner}/{repo}/tags/protection/{tag_protection_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes"],disableLfsForRepo:["DELETE /repos/{owner}/{repo}/lfs"],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts"],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes"],enableLfsForRepo:["PUT /repos/{owner}/{repo}/lfs"],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts"],generateReleaseNotes:["POST /repos/{owner}/{repo}/releases/generate-notes"],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllEnvironments:["GET /repos/{owner}/{repo}/environments"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics"],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getAutolink:["GET /repos/{owner}/{repo}/autolinks/{autolink_id}"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getEnvironment:["GET /repos/{owner}/{repo}/environments/{environment_name}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getPagesHealthCheck:["GET /repos/{owner}/{repo}/pages/health"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getReadmeInDirectory:["GET /repos/{owner}/{repo}/readme/{dir}"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}"],listAutolinks:["GET /repos/{owner}/{repo}/autolinks"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head"],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls"],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTagProtection:["GET /repos/{owner}/{repo}/tags/protection"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhookDeliveries:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],mergeUpstream:["POST /repos/{owner}/{repo}/merge-upstream"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics"],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits"],issuesAndPullRequests:["GET /search/issues"],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics"],users:["GET /search/users"]},secretScanning:{getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/secret-scanning/alerts"],listAlertsForOrg:["GET /orgs/{org}/secret-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],listLocationsForAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}/locations"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}"],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}"],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects"],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails",{},{renamed:["users","addEmailForAuthenticatedUser"]}],addEmailForAuthenticatedUser:["POST /user/emails"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys",{},{renamed:["users","createGpgKeyForAuthenticatedUser"]}],createGpgKeyForAuthenticatedUser:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys",{},{renamed:["users","createPublicSshKeyForAuthenticatedUser"]}],createPublicSshKeyForAuthenticatedUser:["POST /user/keys"],deleteEmailForAuthenticated:["DELETE /user/emails",{},{renamed:["users","deleteEmailForAuthenticatedUser"]}],deleteEmailForAuthenticatedUser:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","deleteGpgKeyForAuthenticatedUser"]}],deleteGpgKeyForAuthenticatedUser:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}",{},{renamed:["users","deletePublicSshKeyForAuthenticatedUser"]}],deletePublicSshKeyForAuthenticatedUser:["DELETE /user/keys/{key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","getGpgKeyForAuthenticatedUser"]}],getGpgKeyForAuthenticatedUser:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}",{},{renamed:["users","getPublicSshKeyForAuthenticatedUser"]}],getPublicSshKeyForAuthenticatedUser:["GET /user/keys/{key_id}"],list:["GET /users"],listBlockedByAuthenticated:["GET /user/blocks",{},{renamed:["users","listBlockedByAuthenticatedUser"]}],listBlockedByAuthenticatedUser:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails",{},{renamed:["users","listEmailsForAuthenticatedUser"]}],listEmailsForAuthenticatedUser:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following",{},{renamed:["users","listFollowedByAuthenticatedUser"]}],listFollowedByAuthenticatedUser:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys",{},{renamed:["users","listGpgKeysForAuthenticatedUser"]}],listGpgKeysForAuthenticatedUser:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails",{},{renamed:["users","listPublicEmailsForAuthenticatedUser"]}],listPublicEmailsForAuthenticatedUser:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys",{},{renamed:["users","listPublicSshKeysForAuthenticatedUser"]}],listPublicSshKeysForAuthenticatedUser:["GET /user/keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility",{},{renamed:["users","setPrimaryEmailVisibilityForAuthenticatedUser"]}],setPrimaryEmailVisibilityForAuthenticatedUser:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},c2="5.16.0";function f2(e,t){const r={};for(const[n,a]of Object.entries(t))for(const[i,d]of Object.entries(a)){const[m,_,v]=d,[h,c]=m.split(/ /),o=Object.assign({method:h,url:c},_);r[n]||(r[n]={});const l=r[n];if(v){l[i]=h2(e,n,i,o,v);continue}l[i]=e.request.defaults(o)}return r}function h2(e,t,r,n,a){const i=e.request.defaults(n);function d(...m){let _=i.endpoint.merge(...m);if(a.mapToData)return _=Object.assign({},_,{data:_[a.mapToData],[a.mapToData]:void 0}),i(_);if(a.renamed){const[v,h]=a.renamed;e.log.warn(`octokit.${t}.${r}() has been renamed to octokit.${v}.${h}()`)}if(a.deprecated&&e.log.warn(a.deprecated),a.renamedParameters){const v=i.endpoint.merge(...m);for(const[h,c]of Object.entries(a.renamedParameters))h in v&&(e.log.warn(`"${h}" parameter is deprecated for "octokit.${t}.${r}()". Use "${c}" instead`),c in v||(v[c]=v[h]),delete v[h]);return i(v)}return i(...m)}return Object.assign(d,i)}function Y0(e){return{rest:f2(e,l2)}}Y0.VERSION=c2;var K0={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(kt,function(){var r=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof kt!="undefined"?kt:typeof self!="undefined"?self:{};function n(z){return z&&z.default||z}var a=function(z,V,j={}){var Z,se,fe;for(Z in V)fe=V[Z],j[Z]=(se=z[Z])!=null?se:fe;return j},i=function(z,V,j={}){var Z,se;for(Z in z)se=z[Z],V[Z]!==void 0&&(j[Z]=se);return j},d={load:a,overwrite:i},m;m=class{constructor(V,j){this.incr=V,this.decr=j,this._first=null,this._last=null,this.length=0}push(V){var j;this.length++,typeof this.incr=="function"&&this.incr(),j={value:V,prev:this._last,next:null},this._last!=null?(this._last.next=j,this._last=j):this._first=this._last=j}shift(){var V;if(this._first!=null)return this.length--,typeof this.decr=="function"&&this.decr(),V=this._first.value,(this._first=this._first.next)!=null?this._first.prev=null:this._last=null,V}first(){if(this._first!=null)return this._first.value}getArray(){var V,j,Z;for(V=this._first,Z=[];V!=null;)Z.push((j=V,V=V.next,j.value));return Z}forEachShift(V){var j;for(j=this.shift();j!=null;)V(j),j=this.shift()}debug(){var V,j,Z,se,fe;for(V=this._first,fe=[];V!=null;)fe.push((j=V,V=V.next,{value:j.value,prev:(Z=j.prev)!=null?Z.value:void 0,next:(se=j.next)!=null?se.value:void 0}));return fe}};var _=m,v;v=class{constructor(V){if(this.instance=V,this._events={},this.instance.on!=null||this.instance.once!=null||this.instance.removeAllListeners!=null)throw new Error("An Emitter already exists for this object");this.instance.on=(j,Z)=>this._addListener(j,"many",Z),this.instance.once=(j,Z)=>this._addListener(j,"once",Z),this.instance.removeAllListeners=(j=null)=>j!=null?delete this._events[j]:this._events={}}_addListener(V,j,Z){var se;return(se=this._events)[V]==null&&(se[V]=[]),this._events[V].push({cb:Z,status:j}),this.instance}listenerCount(V){return this._events[V]!=null?this._events[V].length:0}async trigger(V,...j){var Z,se;try{return V!=="debug"&&this.trigger("debug",`Event triggered: ${V}`,j),this._events[V]==null?void 0:(this._events[V]=this._events[V].filter(function(fe){return fe.status!=="none"}),se=this._events[V].map(async fe=>{var ge,Pe;if(fe.status!=="none"){fe.status==="once"&&(fe.status="none");try{return Pe=typeof fe.cb=="function"?fe.cb(...j):void 0,typeof(Pe!=null?Pe.then:void 0)=="function"?await Pe:Pe}catch(Be){return ge=Be,this.trigger("error",ge),null}}}),(await Promise.all(se)).find(function(fe){return fe!=null}))}catch(fe){return Z=fe,this.trigger("error",Z),null}}};var h=v,c,o,l;c=_,o=h,l=class{constructor(V){this.Events=new o(this),this._length=0,this._lists=function(){var j,Z,se;for(se=[],j=1,Z=V;1<=Z?j<=Z:j>=Z;1<=Z?++j:--j)se.push(new c(()=>this.incr(),()=>this.decr()));return se}.call(this)}incr(){if(this._length++===0)return this.Events.trigger("leftzero")}decr(){if(--this._length===0)return this.Events.trigger("zero")}push(V){return this._lists[V.options.priority].push(V)}queued(V){return V!=null?this._lists[V].length:this._length}shiftAll(V){return this._lists.forEach(function(j){return j.forEachShift(V)})}getFirst(V=this._lists){var j,Z,se;for(j=0,Z=V.length;j<Z;j++)if(se=V[j],se.length>0)return se;return[]}shiftLastFrom(V){return this.getFirst(this._lists.slice(V).reverse()).shift()}};var s=l,u;u=class extends Error{};var f=u,g,y,b,E,x;E=10,y=5,x=d,g=f,b=class{constructor(V,j,Z,se,fe,ge,Pe,Be){this.task=V,this.args=j,this.rejectOnDrop=fe,this.Events=ge,this._states=Pe,this.Promise=Be,this.options=x.load(Z,se),this.options.priority=this._sanitizePriority(this.options.priority),this.options.id===se.id&&(this.options.id=`${this.options.id}-${this._randomIndex()}`),this.promise=new this.Promise((Mt,Dt)=>{this._resolve=Mt,this._reject=Dt}),this.retryCount=0}_sanitizePriority(V){var j;return j=~~V!==V?y:V,j<0?0:j>E-1?E-1:j}_randomIndex(){return Math.random().toString(36).slice(2)}doDrop({error:V,message:j="This job has been dropped by Bottleneck"}={}){return this._states.remove(this.options.id)?(this.rejectOnDrop&&this._reject(V!=null?V:new g(j)),this.Events.trigger("dropped",{args:this.args,options:this.options,task:this.task,promise:this.promise}),!0):!1}_assertStatus(V){var j;if(j=this._states.jobStatus(this.options.id),!(j===V||V==="DONE"&&j===null))throw new g(`Invalid job status ${j}, expected ${V}. Please open an issue at https://github.com/SGrondin/bottleneck/issues`)}doReceive(){return this._states.start(this.options.id),this.Events.trigger("received",{args:this.args,options:this.options})}doQueue(V,j){return this._assertStatus("RECEIVED"),this._states.next(this.options.id),this.Events.trigger("queued",{args:this.args,options:this.options,reachedHWM:V,blocked:j})}doRun(){return this.retryCount===0?(this._assertStatus("QUEUED"),this._states.next(this.options.id)):this._assertStatus("EXECUTING"),this.Events.trigger("scheduled",{args:this.args,options:this.options})}async doExecute(V,j,Z,se){var fe,ge,Pe;this.retryCount===0?(this._assertStatus("RUNNING"),this._states.next(this.options.id)):this._assertStatus("EXECUTING"),ge={args:this.args,options:this.options,retryCount:this.retryCount},this.Events.trigger("executing",ge);try{if(Pe=await(V!=null?V.schedule(this.options,this.task,...this.args):this.task(...this.args)),j())return this.doDone(ge),await se(this.options,ge),this._assertStatus("DONE"),this._resolve(Pe)}catch(Be){return fe=Be,this._onFailure(fe,ge,j,Z,se)}}doExpire(V,j,Z){var se,fe;return this._states.jobStatus(this.options.id==="RUNNING")&&this._states.next(this.options.id),this._assertStatus("EXECUTING"),fe={args:this.args,options:this.options,retryCount:this.retryCount},se=new g(`This job timed out after ${this.options.expiration} ms.`),this._onFailure(se,fe,V,j,Z)}async _onFailure(V,j,Z,se,fe){var ge,Pe;if(Z())return ge=await this.Events.trigger("failed",V,j),ge!=null?(Pe=~~ge,this.Events.trigger("retry",`Retrying ${this.options.id} after ${Pe} ms`,j),this.retryCount++,se(Pe)):(this.doDone(j),await fe(this.options,j),this._assertStatus("DONE"),this._reject(V))}doDone(V){return this._assertStatus("EXECUTING"),this._states.next(this.options.id),this.Events.trigger("done",V)}};var w=b,S,O,A;A=d,S=f,O=class{constructor(V,j,Z){this.instance=V,this.storeOptions=j,this.clientId=this.instance._randomIndex(),A.load(Z,Z,this),this._nextRequest=this._lastReservoirRefresh=this._lastReservoirIncrease=Date.now(),this._running=0,this._done=0,this._unblockTime=0,this.ready=this.Promise.resolve(),this.clients={},this._startHeartbeat()}_startHeartbeat(){var V;return this.heartbeat==null&&(this.storeOptions.reservoirRefreshInterval!=null&&this.storeOptions.reservoirRefreshAmount!=null||this.storeOptions.reservoirIncreaseInterval!=null&&this.storeOptions.reservoirIncreaseAmount!=null)?typeof(V=this.heartbeat=setInterval(()=>{var j,Z,se,fe,ge;if(fe=Date.now(),this.storeOptions.reservoirRefreshInterval!=null&&fe>=this._lastReservoirRefresh+this.storeOptions.reservoirRefreshInterval&&(this._lastReservoirRefresh=fe,this.storeOptions.reservoir=this.storeOptions.reservoirRefreshAmount,this.instance._drainAll(this.computeCapacity())),this.storeOptions.reservoirIncreaseInterval!=null&&fe>=this._lastReservoirIncrease+this.storeOptions.reservoirIncreaseInterval&&({reservoirIncreaseAmount:j,reservoirIncreaseMaximum:se,reservoir:ge}=this.storeOptions,this._lastReservoirIncrease=fe,Z=se!=null?Math.min(j,se-ge):j,Z>0))return this.storeOptions.reservoir+=Z,this.instance._drainAll(this.computeCapacity())},this.heartbeatInterval)).unref=="function"?V.unref():void 0:clearInterval(this.heartbeat)}async __publish__(V){return await this.yieldLoop(),this.instance.Events.trigger("message",V.toString())}async __disconnect__(V){return await this.yieldLoop(),clearInterval(this.heartbeat),this.Promise.resolve()}yieldLoop(V=0){return new this.Promise(function(j,Z){return setTimeout(j,V)})}computePenalty(){var V;return(V=this.storeOptions.penalty)!=null?V:15*this.storeOptions.minTime||5e3}async __updateSettings__(V){return await this.yieldLoop(),A.overwrite(V,V,this.storeOptions),this._startHeartbeat(),this.instance._drainAll(this.computeCapacity()),!0}async __running__(){return await this.yieldLoop(),this._running}async __queued__(){return await this.yieldLoop(),this.instance.queued()}async __done__(){return await this.yieldLoop(),this._done}async __groupCheck__(V){return await this.yieldLoop(),this._nextRequest+this.timeout<V}computeCapacity(){var V,j;return{maxConcurrent:V,reservoir:j}=this.storeOptions,V!=null&&j!=null?Math.min(V-this._running,j):V!=null?V-this._running:j!=null?j:null}conditionsCheck(V){var j;return j=this.computeCapacity(),j==null||V<=j}async __incrementReservoir__(V){var j;return await this.yieldLoop(),j=this.storeOptions.reservoir+=V,this.instance._drainAll(this.computeCapacity()),j}async __currentReservoir__(){return await this.yieldLoop(),this.storeOptions.reservoir}isBlocked(V){return this._unblockTime>=V}check(V,j){return this.conditionsCheck(V)&&this._nextRequest-j<=0}async __check__(V){var j;return await this.yieldLoop(),j=Date.now(),this.check(V,j)}async __register__(V,j,Z){var se,fe;return await this.yieldLoop(),se=Date.now(),this.conditionsCheck(j)?(this._running+=j,this.storeOptions.reservoir!=null&&(this.storeOptions.reservoir-=j),fe=Math.max(this._nextRequest-se,0),this._nextRequest=se+fe+this.storeOptions.minTime,{success:!0,wait:fe,reservoir:this.storeOptions.reservoir}):{success:!1}}strategyIsBlock(){return this.storeOptions.strategy===3}async __submit__(V,j){var Z,se,fe;if(await this.yieldLoop(),this.storeOptions.maxConcurrent!=null&&j>this.storeOptions.maxConcurrent)throw new S(`Impossible to add a job having a weight of ${j} to a limiter having a maxConcurrent setting of ${this.storeOptions.maxConcurrent}`);return se=Date.now(),fe=this.storeOptions.highWater!=null&&V===this.storeOptions.highWater&&!this.check(j,se),Z=this.strategyIsBlock()&&(fe||this.isBlocked(se)),Z&&(this._unblockTime=se+this.computePenalty(),this._nextRequest=this._unblockTime+this.storeOptions.minTime,this.instance._dropAllQueued()),{reachedHWM:fe,blocked:Z,strategy:this.storeOptions.strategy}}async __free__(V,j){return await this.yieldLoop(),this._running-=j,this._done+=j,this.instance._drainAll(this.computeCapacity()),{running:this._running}}};var L=O,k,D;k=f,D=class{constructor(V){this.status=V,this._jobs={},this.counts=this.status.map(function(){return 0})}next(V){var j,Z;if(j=this._jobs[V],Z=j+1,j!=null&&Z<this.status.length)return this.counts[j]--,this.counts[Z]++,this._jobs[V]++;if(j!=null)return this.counts[j]--,delete this._jobs[V]}start(V){var j;return j=0,this._jobs[V]=j,this.counts[j]++}remove(V){var j;return j=this._jobs[V],j!=null&&(this.counts[j]--,delete this._jobs[V]),j!=null}jobStatus(V){var j;return(j=this.status[this._jobs[V]])!=null?j:null}statusJobs(V){var j,Z,se,fe,ge;if(V!=null){if(Z=this.status.indexOf(V),Z<0)throw new k(`status must be one of ${this.status.join(", ")}`);se=this._jobs,fe=[];for(j in se)ge=se[j],ge===Z&&fe.push(j);return fe}else return Object.keys(this._jobs)}statusCounts(){return this.counts.reduce((V,j,Z)=>(V[this.status[Z]]=j,V),{})}};var N=D,$,H;$=_,H=class{constructor(V,j){this.schedule=this.schedule.bind(this),this.name=V,this.Promise=j,this._running=0,this._queue=new $}isEmpty(){return this._queue.length===0}async _tryToRun(){var V,j,Z,se,fe,ge,Pe;if(this._running<1&&this._queue.length>0)return this._running++,{task:Pe,args:V,resolve:fe,reject:se}=this._queue.shift(),j=await async function(){try{return ge=await Pe(...V),function(){return fe(ge)}}catch(Be){return Z=Be,function(){return se(Z)}}}(),this._running--,this._tryToRun(),j()}schedule(V,...j){var Z,se,fe;return fe=se=null,Z=new this.Promise(function(ge,Pe){return fe=ge,se=Pe}),this._queue.push({task:V,args:j,resolve:fe,reject:se}),this._tryToRun(),Z}};var q=H,X="2.19.5",Y={version:X},J=Object.freeze({version:X,default:Y}),ee=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),te=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),ne=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),ce,pe,me,re,ye,we;we=d,ce=h,re=ee,me=te,ye=ne,pe=function(){class z{constructor(j={}){this.deleteKey=this.deleteKey.bind(this),this.limiterOptions=j,we.load(this.limiterOptions,this.defaults,this),this.Events=new ce(this),this.instances={},this.Bottleneck=C,this._startAutoCleanup(),this.sharedConnection=this.connection!=null,this.connection==null&&(this.limiterOptions.datastore==="redis"?this.connection=new re(Object.assign({},this.limiterOptions,{Events:this.Events})):this.limiterOptions.datastore==="ioredis"&&(this.connection=new me(Object.assign({},this.limiterOptions,{Events:this.Events}))))}key(j=""){var Z;return(Z=this.instances[j])!=null?Z:(()=>{var se;return se=this.instances[j]=new this.Bottleneck(Object.assign(this.limiterOptions,{id:`${this.id}-${j}`,timeout:this.timeout,connection:this.connection})),this.Events.trigger("created",se,j),se})()}async deleteKey(j=""){var Z,se;return se=this.instances[j],this.connection&&(Z=await this.connection.__runCommand__(["del",...ye.allKeys(`${this.id}-${j}`)])),se!=null&&(delete this.instances[j],await se.disconnect()),se!=null||Z>0}limiters(){var j,Z,se,fe;Z=this.instances,se=[];for(j in Z)fe=Z[j],se.push({key:j,limiter:fe});return se}keys(){return Object.keys(this.instances)}async clusterKeys(){var j,Z,se,fe,ge,Pe,Be,Mt,Dt;if(this.connection==null)return this.Promise.resolve(this.keys());for(Pe=[],j=null,Dt=`b_${this.id}-`.length,Z=9;j!==0;)for([Mt,se]=await this.connection.__runCommand__(["scan",j!=null?j:0,"match",`b_${this.id}-*_settings`,"count",1e4]),j=~~Mt,fe=0,Be=se.length;fe<Be;fe++)ge=se[fe],Pe.push(ge.slice(Dt,-Z));return Pe}_startAutoCleanup(){var j;return clearInterval(this.interval),typeof(j=this.interval=setInterval(async()=>{var Z,se,fe,ge,Pe,Be;Pe=Date.now(),fe=this.instances,ge=[];for(se in fe){Be=fe[se];try{await Be._store.__groupCheck__(Pe)?ge.push(this.deleteKey(se)):ge.push(void 0)}catch(Mt){Z=Mt,ge.push(Be.Events.trigger("error",Z))}}return ge},this.timeout/2)).unref=="function"?j.unref():void 0}updateSettings(j={}){if(we.overwrite(j,this.defaults,this),we.overwrite(j,j,this.limiterOptions),j.timeout!=null)return this._startAutoCleanup()}disconnect(j=!0){var Z;if(!this.sharedConnection)return(Z=this.connection)!=null?Z.disconnect(j):void 0}}return z.prototype.defaults={timeout:1e3*60*5,connection:null,Promise,id:"group-key"},z}.call(r);var de=pe,Se,xe,Oe;Oe=d,xe=h,Se=function(){class z{constructor(j={}){this.options=j,Oe.load(this.options,this.defaults,this),this.Events=new xe(this),this._arr=[],this._resetPromise(),this._lastFlush=Date.now()}_resetPromise(){return this._promise=new this.Promise((j,Z)=>this._resolve=j)}_flush(){return clearTimeout(this._timeout),this._lastFlush=Date.now(),this._resolve(),this.Events.trigger("batch",this._arr),this._arr=[],this._resetPromise()}add(j){var Z;return this._arr.push(j),Z=this._promise,this._arr.length===this.maxSize?this._flush():this.maxTime!=null&&this._arr.length===1&&(this._timeout=setTimeout(()=>this._flush(),this.maxTime)),Z}}return z.prototype.defaults={maxTime:null,maxSize:null,Promise},z}.call(r);var he=Se,Ae=()=>console.log("You must import the full version of Bottleneck in order to use this feature."),Le=n(J),Ee,Ce,Ie,je,Me,Ye,De,He,tt,Re,Ke,U=[].splice;Ye=10,Ce=5,Ke=d,De=s,je=w,Me=L,He=Ae,Ie=h,tt=N,Re=q,Ee=function(){class z{constructor(j={},...Z){var se,fe;this._addToQueue=this._addToQueue.bind(this),this._validateOptions(j,Z),Ke.load(j,this.instanceDefaults,this),this._queues=new De(Ye),this._scheduled={},this._states=new tt(["RECEIVED","QUEUED","RUNNING","EXECUTING"].concat(this.trackDoneStatus?["DONE"]:[])),this._limiter=null,this.Events=new Ie(this),this._submitLock=new Re("submit",this.Promise),this._registerLock=new Re("register",this.Promise),fe=Ke.load(j,this.storeDefaults,{}),this._store=function(){if(this.datastore==="redis"||this.datastore==="ioredis"||this.connection!=null)return se=Ke.load(j,this.redisStoreDefaults,{}),new He(this,fe,se);if(this.datastore==="local")return se=Ke.load(j,this.localStoreDefaults,{}),new Me(this,fe,se);throw new z.prototype.BottleneckError(`Invalid datastore type: ${this.datastore}`)}.call(this),this._queues.on("leftzero",()=>{var ge;return(ge=this._store.heartbeat)!=null&&typeof ge.ref=="function"?ge.ref():void 0}),this._queues.on("zero",()=>{var ge;return(ge=this._store.heartbeat)!=null&&typeof ge.unref=="function"?ge.unref():void 0})}_validateOptions(j,Z){if(!(j!=null&&typeof j=="object"&&Z.length===0))throw new z.prototype.BottleneckError("Bottleneck v2 takes a single object argument. Refer to https://github.com/SGrondin/bottleneck#upgrading-to-v2 if you're upgrading from Bottleneck v1.")}ready(){return this._store.ready}clients(){return this._store.clients}channel(){return`b_${this.id}`}channel_client(){return`b_${this.id}_${this._store.clientId}`}publish(j){return this._store.__publish__(j)}disconnect(j=!0){return this._store.__disconnect__(j)}chain(j){return this._limiter=j,this}queued(j){return this._queues.queued(j)}clusterQueued(){return this._store.__queued__()}empty(){return this.queued()===0&&this._submitLock.isEmpty()}running(){return this._store.__running__()}done(){return this._store.__done__()}jobStatus(j){return this._states.jobStatus(j)}jobs(j){return this._states.statusJobs(j)}counts(){return this._states.statusCounts()}_randomIndex(){return Math.random().toString(36).slice(2)}check(j=1){return this._store.__check__(j)}_clearGlobalState(j){return this._scheduled[j]!=null?(clearTimeout(this._scheduled[j].expiration),delete this._scheduled[j],!0):!1}async _free(j,Z,se,fe){var ge,Pe;try{if({running:Pe}=await this._store.__free__(j,se.weight),this.Events.trigger("debug",`Freed ${se.id}`,fe),Pe===0&&this.empty())return this.Events.trigger("idle")}catch(Be){return ge=Be,this.Events.trigger("error",ge)}}_run(j,Z,se){var fe,ge,Pe;return Z.doRun(),fe=this._clearGlobalState.bind(this,j),Pe=this._run.bind(this,j,Z),ge=this._free.bind(this,j,Z),this._scheduled[j]={timeout:setTimeout(()=>Z.doExecute(this._limiter,fe,Pe,ge),se),expiration:Z.options.expiration!=null?setTimeout(function(){return Z.doExpire(fe,Pe,ge)},se+Z.options.expiration):void 0,job:Z}}_drainOne(j){return this._registerLock.schedule(()=>{var Z,se,fe,ge,Pe;return this.queued()===0?this.Promise.resolve(null):(Pe=this._queues.getFirst(),{options:ge,args:Z}=fe=Pe.first(),j!=null&&ge.weight>j?this.Promise.resolve(null):(this.Events.trigger("debug",`Draining ${ge.id}`,{args:Z,options:ge}),se=this._randomIndex(),this._store.__register__(se,ge.weight,ge.expiration).then(({success:Be,wait:Mt,reservoir:Dt})=>{var kn;return this.Events.trigger("debug",`Drained ${ge.id}`,{success:Be,args:Z,options:ge}),Be?(Pe.shift(),kn=this.empty(),kn&&this.Events.trigger("empty"),Dt===0&&this.Events.trigger("depleted",kn),this._run(se,fe,Mt),this.Promise.resolve(ge.weight)):this.Promise.resolve(null)})))})}_drainAll(j,Z=0){return this._drainOne(j).then(se=>{var fe;return se!=null?(fe=j!=null?j-se:j,this._drainAll(fe,Z+se)):this.Promise.resolve(Z)}).catch(se=>this.Events.trigger("error",se))}_dropAllQueued(j){return this._queues.shiftAll(function(Z){return Z.doDrop({message:j})})}stop(j={}){var Z,se;return j=Ke.load(j,this.stopDefaults),se=fe=>{var ge;return ge=()=>{var Pe;return Pe=this._states.counts,Pe[0]+Pe[1]+Pe[2]+Pe[3]===fe},new this.Promise((Pe,Be)=>ge()?Pe():this.on("done",()=>{if(ge())return this.removeAllListeners("done"),Pe()}))},Z=j.dropWaitingJobs?(this._run=function(fe,ge){return ge.doDrop({message:j.dropErrorMessage})},this._drainOne=()=>this.Promise.resolve(null),this._registerLock.schedule(()=>this._submitLock.schedule(()=>{var fe,ge,Pe;ge=this._scheduled;for(fe in ge)Pe=ge[fe],this.jobStatus(Pe.job.options.id)==="RUNNING"&&(clearTimeout(Pe.timeout),clearTimeout(Pe.expiration),Pe.job.doDrop({message:j.dropErrorMessage}));return this._dropAllQueued(j.dropErrorMessage),se(0)}))):this.schedule({priority:Ye-1,weight:0},()=>se(1)),this._receive=function(fe){return fe._reject(new z.prototype.BottleneckError(j.enqueueErrorMessage))},this.stop=()=>this.Promise.reject(new z.prototype.BottleneckError("stop() has already been called")),Z}async _addToQueue(j){var Z,se,fe,ge,Pe,Be,Mt;({args:Z,options:ge}=j);try{({reachedHWM:Pe,blocked:se,strategy:Mt}=await this._store.__submit__(this.queued(),ge.weight))}catch(Dt){return fe=Dt,this.Events.trigger("debug",`Could not queue ${ge.id}`,{args:Z,options:ge,error:fe}),j.doDrop({error:fe}),!1}return se?(j.doDrop(),!0):Pe&&(Be=Mt===z.prototype.strategy.LEAK?this._queues.shiftLastFrom(ge.priority):Mt===z.prototype.strategy.OVERFLOW_PRIORITY?this._queues.shiftLastFrom(ge.priority+1):Mt===z.prototype.strategy.OVERFLOW?j:void 0,Be!=null&&Be.doDrop(),Be==null||Mt===z.prototype.strategy.OVERFLOW)?(Be==null&&j.doDrop(),Pe):(j.doQueue(Pe,se),this._queues.push(j),await this._drainAll(),Pe)}_receive(j){return this._states.jobStatus(j.options.id)!=null?(j._reject(new z.prototype.BottleneckError(`A job with the same id already exists (id=${j.options.id})`)),!1):(j.doReceive(),this._submitLock.schedule(this._addToQueue,j))}submit(...j){var Z,se,fe,ge,Pe,Be,Mt;return typeof j[0]=="function"?(Pe=j,[se,...j]=Pe,[Z]=U.call(j,-1),ge=Ke.load({},this.jobDefaults)):(Be=j,[ge,se,...j]=Be,[Z]=U.call(j,-1),ge=Ke.load(ge,this.jobDefaults)),Mt=(...Dt)=>new this.Promise(function(kn,os){return se(...Dt,function(...ko){return(ko[0]!=null?os:kn)(ko)})}),fe=new je(Mt,j,ge,this.jobDefaults,this.rejectOnDrop,this.Events,this._states,this.Promise),fe.promise.then(function(Dt){return typeof Z=="function"?Z(...Dt):void 0}).catch(function(Dt){return Array.isArray(Dt)?typeof Z=="function"?Z(...Dt):void 0:typeof Z=="function"?Z(Dt):void 0}),this._receive(fe)}schedule(...j){var Z,se,fe;return typeof j[0]=="function"?([fe,...j]=j,se={}):[se,fe,...j]=j,Z=new je(fe,j,se,this.jobDefaults,this.rejectOnDrop,this.Events,this._states,this.Promise),this._receive(Z),Z.promise}wrap(j){var Z,se;return Z=this.schedule.bind(this),se=function(...fe){return Z(j.bind(this),...fe)},se.withOptions=function(fe,...ge){return Z(fe,j,...ge)},se}async updateSettings(j={}){return await this._store.__updateSettings__(Ke.overwrite(j,this.storeDefaults)),Ke.overwrite(j,this.instanceDefaults,this),this}currentReservoir(){return this._store.__currentReservoir__()}incrementReservoir(j=0){return this._store.__incrementReservoir__(j)}}return z.default=z,z.Events=Ie,z.version=z.prototype.version=Le.version,z.strategy=z.prototype.strategy={LEAK:1,OVERFLOW:2,OVERFLOW_PRIORITY:4,BLOCK:3},z.BottleneckError=z.prototype.BottleneckError=f,z.Group=z.prototype.Group=de,z.RedisConnection=z.prototype.RedisConnection=ee,z.IORedisConnection=z.prototype.IORedisConnection=te,z.Batcher=z.prototype.Batcher=he,z.prototype.jobDefaults={priority:Ce,weight:1,expiration:null,id:"<no-id>"},z.prototype.storeDefaults={maxConcurrent:null,minTime:0,highWater:null,strategy:z.prototype.strategy.LEAK,penalty:null,reservoir:null,reservoirRefreshInterval:null,reservoirRefreshAmount:null,reservoirIncreaseInterval:null,reservoirIncreaseAmount:null,reservoirIncreaseMaximum:null},z.prototype.localStoreDefaults={Promise,timeout:null,heartbeatInterval:250},z.prototype.redisStoreDefaults={Promise,timeout:null,heartbeatInterval:5e3,clientTimeout:1e4,Redis:null,clientOptions:{},clusterNodes:null,clearDatastore:!1,connection:null},z.prototype.instanceDefaults={datastore:"local",connection:null,id:"<no-id>",rejectOnDrop:!0,trackDoneStatus:!1,Promise},z.prototype.stopDefaults={enqueueErrorMessage:"This limiter has been stopped and cannot accept new jobs.",dropWaitingJobs:!0,dropErrorMessage:"This limiter has been stopped."},z}.call(r);var C=Ee,M=C;return M})})(K0);var Z0=K0.exports;async function d2(e,t,r,n){if(!r.request||!r.request.request)throw r;if(r.status>=400&&!t.doNotRetry.includes(r.status)){const a=n.request.retries!=null?n.request.retries:t.retries,i=Math.pow((n.request.retryCount||0)+1,2);throw e.retry.retryRequest(r,a,i)}throw r}async function p2(e,t,r){const n=new Z0;return n.on("failed",function(a,i){const d=~~a.request.request.retries,m=~~a.request.request.retryAfter;if(r.request.retryCount=i.retryCount+1,d>i.retryCount)return m*e.retryAfterBaseValue}),n.schedule(t,r)}const _2="3.0.9";function Q0(e,t){const r=Object.assign({enabled:!0,retryAfterBaseValue:1e3,doNotRetry:[400,401,403,404,422],retries:3},t.retry);return r.enabled&&(e.hook.error("request",d2.bind(null,e,r)),e.hook.wrap("request",p2.bind(null,r))),{retry:{retryRequest:(n,a,i)=>(n.request.request=Object.assign({},n.request.request,{retries:a,retryAfter:i}),n)}}}Q0.VERSION=_2;const g2="3.7.0",Rh=()=>Promise.resolve();function m2(e,t,r){return e.retryLimiter.schedule(v2,e,t,r)}async function v2(e,t,r){const n=r.method!=="GET"&&r.method!=="HEAD",{pathname:a}=new URL(r.url,"http://github.test"),i=r.method==="GET"&&a.startsWith("/search/"),d=a.startsWith("/graphql"),_=~~r.request.retryCount>0?{priority:0,weight:0}:{};e.clustering&&(_.expiration=1e3*60),(n||d)&&await e.write.key(e.id).schedule(_,Rh),n&&e.triggersNotification(a)&&await e.notifications.key(e.id).schedule(_,Rh),i&&await e.search.key(e.id).schedule(_,Rh);const v=e.global.key(e.id).schedule(_,t,r);if(d){const h=await v;if(h.data.errors!=null&&h.data.errors.some(c=>c.type==="RATE_LIMITED"))throw Object.assign(new Error("GraphQL Rate Limit Exceeded"),{response:h,data:h.data})}return v}var y2=["/orgs/{org}/invitations","/orgs/{org}/invitations/{invitation_id}","/orgs/{org}/teams/{team_slug}/discussions","/orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments","/repos/{owner}/{repo}/collaborators/{username}","/repos/{owner}/{repo}/commits/{commit_sha}/comments","/repos/{owner}/{repo}/issues","/repos/{owner}/{repo}/issues/{issue_number}/comments","/repos/{owner}/{repo}/pulls","/repos/{owner}/{repo}/pulls/{pull_number}/comments","/repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies","/repos/{owner}/{repo}/pulls/{pull_number}/merge","/repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers","/repos/{owner}/{repo}/pulls/{pull_number}/reviews","/repos/{owner}/{repo}/releases","/teams/{team_id}/discussions","/teams/{team_id}/discussions/{discussion_number}/comments"];function b2(e){const r=`^(?:${e.map(n=>n.split("/").map(a=>a.startsWith("{")?"(?:.+?)":a).join("/")).map(n=>`(?:${n})`).join("|")})[^/]*$`;return new RegExp(r,"i")}const J0=b2(y2),ev=J0.test.bind(J0),So={},E2=function(e,t){So.global=new e.Group(Qe({id:"octokit-global",maxConcurrent:10},t)),So.search=new e.Group(Qe({id:"octokit-search",maxConcurrent:1,minTime:2e3},t)),So.write=new e.Group(Qe({id:"octokit-write",maxConcurrent:1,minTime:1e3},t)),So.notifications=new e.Group(Qe({id:"octokit-notifications",maxConcurrent:1,minTime:3e3},t))};function Lh(e,t){const{enabled:r=!0,Bottleneck:n=Z0,id:a="no-id",timeout:i=1e3*60*2,connection:d}=t.throttle||{};if(!r)return{};const m={connection:d,timeout:i};So.global==null&&E2(n,m);const _=Object.assign(Qe({clustering:d!=null,triggersNotification:ev,minimumSecondaryRateRetryAfter:5,retryAfterBaseValue:1e3,retryLimiter:new n,id:a},So),t.throttle),v=typeof _.onAbuseLimit=="function"&&_.onAbuseLimit;if(typeof(v?_.onAbuseLimit:_.onSecondaryRateLimit)!="function"||typeof _.onRateLimit!="function")throw new Error(`octokit/plugin-throttling error:
        You must pass the onSecondaryRateLimit and onRateLimit error handlers.
        See https://github.com/octokit/rest.js#throttling

        const octokit = new Octokit({
          throttle: {
            onSecondaryRateLimit: (retryAfter, options) => {/* ... */},
            onRateLimit: (retryAfter, options) => {/* ... */}
          }
        })
    `);const h={},c=new n.Events(h);return h.on("secondary-limit",v?function(...o){return e.log.warn("[@octokit/plugin-throttling] `onAbuseLimit()` is deprecated and will be removed in a future release of `@octokit/plugin-throttling`, please use the `onSecondaryRateLimit` handler instead"),_.onAbuseLimit(...o)}:_.onSecondaryRateLimit),h.on("rate-limit",_.onRateLimit),h.on("error",o=>e.log.warn("Error in throttling-plugin limit handler",o)),_.retryLimiter.on("failed",async function(o,l){const s=l.args[l.args.length-1],{pathname:u}=new URL(s.url,"http://github.test");if(!(u.startsWith("/graphql")&&o.status!==401||o.status===403))return;const g=~~s.request.retryCount;s.request.retryCount=g;const{wantRetry:y,retryAfter:b=0}=await async function(){if(/\bsecondary rate\b/i.test(o.message)){const E=Math.max(~~o.response.headers["retry-after"],_.minimumSecondaryRateRetryAfter);return{wantRetry:await c.trigger("secondary-limit",E,s,e),retryAfter:E}}if(o.response.headers!=null&&o.response.headers["x-ratelimit-remaining"]==="0"){const E=new Date(~~o.response.headers["x-ratelimit-reset"]*1e3).getTime(),x=Math.max(Math.ceil((E-Date.now())/1e3),0);return{wantRetry:await c.trigger("rate-limit",x,s,e),retryAfter:x}}return{}}();if(y)return s.request.retryCount++,b*_.retryAfterBaseValue}),e.hook.wrap("request",m2.bind(null,_)),{}}Lh.VERSION=g2,Lh.triggersNotification=ev;var Ch={},tv=ft(n2),il=function(t){return btoa(t)},Cr={};function T2(e){const t=e.clientType||"oauth-app",r=e.baseUrl||"https://github.com",n={clientType:t,allowSignup:e.allowSignup!==!1,clientId:e.clientId,login:e.login||null,redirectUrl:e.redirectUrl||null,state:e.state||Math.random().toString(36).substr(2),url:""};if(t==="oauth-app"){const a="scopes"in e?e.scopes:[];n.scopes=typeof a=="string"?a.split(/[,\s]+/).filter(Boolean):a}return n.url=x2(`${r}/login/oauth/authorize`,n),n}function x2(e,t){const r={allowSignup:"allow_signup",clientId:"client_id",login:"login",redirectUrl:"redirect_uri",scopes:"scope",state:"state"};let n=e;return Object.keys(r).filter(a=>t[a]!==null).filter(a=>a!=="scopes"?!0:t.clientType==="github-app"?!1:!Array.isArray(t[a])||t[a].length>0).map(a=>[r[a],`${t[a]}`]).forEach(([a,i],d)=>{n+=d===0?"?":"&",n+=`${a}=${encodeURIComponent(i)}`}),n}var w2=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",oauthAuthorizationUrl:T2}),A2=ft(w2),S2=ft(GO),P2=ft(FO);Object.defineProperty(Cr,"__esModule",{value:!0});function O2(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var R2=A2,mn=S2,L2=P2,Ha=O2(il);const C2="1.2.6";function rv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rv(Object(r),!0).forEach(function(n){I2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M2(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function nv(e,t){if(e==null)return{};var r=M2(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function iv(e){const t=e.endpoint.DEFAULTS;return/^https:\/\/(api\.)?github\.com$/.test(t.baseUrl)?"https://github.com":t.baseUrl.replace("/api/v3","")}async function ol(e,t,r){const n=ar({baseUrl:iv(e),headers:{accept:"application/json"}},r),a=await e(t,n);if("error"in a.data){const i=new L2.RequestError(`${a.data.error_description} (${a.data.error}, ${a.data.error_uri})`,400,{request:e.endpoint.merge(t,n),headers:a.headers});throw i.response=a,i}return a}const D2=["request"];function N2(e){let{request:t=mn.request}=e,r=nv(e,D2);const n=iv(t);return R2.oauthAuthorizationUrl(ar(ar({},r),{},{baseUrl:n}))}async function k2(e){const t=e.request||mn.request,r=await ol(t,"POST /login/oauth/access_token",{client_id:e.clientId,client_secret:e.clientSecret,code:e.code,redirect_uri:e.redirectUrl}),n={clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:r.data.access_token,scopes:r.data.scope.split(/\s+/).filter(Boolean)};if(e.clientType==="github-app"){if("refresh_token"in r.data){const a=new Date(r.headers.date).getTime();n.refreshToken=r.data.refresh_token,n.expiresAt=ov(a,r.data.expires_in),n.refreshTokenExpiresAt=ov(a,r.data.refresh_token_expires_in)}delete n.scopes}return ar(ar({},r),{},{authentication:n})}function ov(e,t){return new Date(e+t*1e3).toISOString()}async function B2(e){const t=e.request||mn.request,r={client_id:e.clientId};return"scopes"in e&&Array.isArray(e.scopes)&&(r.scope=e.scopes.join(" ")),ol(t,"POST /login/device/code",r)}async function F2(e){const t=e.request||mn.request,r=await ol(t,"POST /login/oauth/access_token",{client_id:e.clientId,device_code:e.code,grant_type:"urn:ietf:params:oauth:grant-type:device_code"}),n={clientType:e.clientType,clientId:e.clientId,token:r.data.access_token,scopes:r.data.scope.split(/\s+/).filter(Boolean)};if("clientSecret"in e&&(n.clientSecret=e.clientSecret),e.clientType==="github-app"){if("refresh_token"in r.data){const a=new Date(r.headers.date).getTime();n.refreshToken=r.data.refresh_token,n.expiresAt=av(a,r.data.expires_in),n.refreshTokenExpiresAt=av(a,r.data.refresh_token_expires_in)}delete n.scopes}return ar(ar({},r),{},{authentication:n})}function av(e,t){return new Date(e+t*1e3).toISOString()}async function j2(e){const r=await(e.request||mn.request)("POST /applications/{client_id}/token",{headers:{authorization:`basic ${Ha(`${e.clientId}:${e.clientSecret}`)}`},client_id:e.clientId,access_token:e.token}),n={clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:e.token,scopes:r.data.scopes};return r.data.expires_at&&(n.expiresAt=r.data.expires_at),e.clientType==="github-app"&&delete n.scopes,ar(ar({},r),{},{authentication:n})}async function z2(e){const t=e.request||mn.request,r=await ol(t,"POST /login/oauth/access_token",{client_id:e.clientId,client_secret:e.clientSecret,grant_type:"refresh_token",refresh_token:e.refreshToken}),n=new Date(r.headers.date).getTime(),a={clientType:"github-app",clientId:e.clientId,clientSecret:e.clientSecret,token:r.data.access_token,refreshToken:r.data.refresh_token,expiresAt:sv(n,r.data.expires_in),refreshTokenExpiresAt:sv(n,r.data.refresh_token_expires_in)};return ar(ar({},r),{},{authentication:a})}function sv(e,t){return new Date(e+t*1e3).toISOString()}const U2=["request","clientType","clientId","clientSecret","token"];async function G2(e){const{request:t,clientType:r,clientId:n,clientSecret:a,token:i}=e,d=nv(e,U2),m=await(t||mn.request)("POST /applications/{client_id}/token/scoped",ar({headers:{authorization:`basic ${Ha(`${n}:${a}`)}`},client_id:n,access_token:i},d)),_=Object.assign({clientType:r,clientId:n,clientSecret:a,token:m.data.token},m.data.expires_at?{expiresAt:m.data.expires_at}:{});return ar(ar({},m),{},{authentication:_})}async function V2(e){const t=e.request||mn.request,r=Ha(`${e.clientId}:${e.clientSecret}`),n=await t("PATCH /applications/{client_id}/token",{headers:{authorization:`basic ${r}`},client_id:e.clientId,access_token:e.token}),a={clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:n.data.token,scopes:n.data.scopes};return n.data.expires_at&&(a.expiresAt=n.data.expires_at),e.clientType==="github-app"&&delete a.scopes,ar(ar({},n),{},{authentication:a})}async function H2(e){const t=e.request||mn.request,r=Ha(`${e.clientId}:${e.clientSecret}`);return t("DELETE /applications/{client_id}/token",{headers:{authorization:`basic ${r}`},client_id:e.clientId,access_token:e.token})}async function W2(e){const t=e.request||mn.request,r=Ha(`${e.clientId}:${e.clientSecret}`);return t("DELETE /applications/{client_id}/grant",{headers:{authorization:`basic ${r}`},client_id:e.clientId,access_token:e.token})}Cr.VERSION=C2;var $2=Cr.checkToken=j2,q2=Cr.createDeviceCode=B2,X2=Cr.deleteAuthorization=W2,Y2=Cr.deleteToken=H2,uv=Cr.exchangeDeviceCode=F2,K2=Cr.exchangeWebFlowCode=k2;Cr.getWebFlowAuthorizationUrl=N2;var Z2=Cr.refreshToken=z2,Q2=Cr.resetToken=V2;Cr.scopeToken=G2;async function lv(e,t){const r=J2(e,t.auth);if(r)return r;const{data:n}=await q2({clientType:e.clientType,clientId:e.clientId,request:t.request||e.request,scopes:t.auth.scopes||e.scopes});await e.onVerification(n);const a=await Ih(t.request||e.request,e.clientId,e.clientType,n);return e.authentication=a,a}function J2(e,t){if(t.refresh===!0||!e.authentication)return!1;if(e.clientType==="github-app")return e.authentication;const r=e.authentication,n=("scopes"in t&&t.scopes||e.scopes).join(" "),a=r.scopes.join(" ");return n===a?r:!1}async function cv(e){await new Promise(t=>setTimeout(t,e*1e3))}async function Ih(e,t,r,n){try{const a={clientId:t,request:e,code:n.device_code},{authentication:i}=r==="oauth-app"?await uv(xr(Qe({},a),{clientType:"oauth-app"})):await uv(xr(Qe({},a),{clientType:"github-app"}));return Qe({type:"token",tokenType:"oauth"},i)}catch(a){if(!a.response)throw a;const i=a.response.data.error;if(i==="authorization_pending")return await cv(n.interval),Ih(e,t,r,n);if(i==="slow_down")return await cv(n.interval+5),Ih(e,t,r,n);throw a}}async function eR(e,t){return lv(e,{auth:t})}async function tR(e,t,r,n){let a=t.endpoint.merge(r,n);if(/\/login\/(oauth\/access_token|device\/code)$/.test(a.url))return t(a);const{token:i}=await lv(e,{request:t,auth:{type:"oauth"}});return a.headers.authorization=`token ${i}`,t(a)}const rR="3.1.2";function nR(e){const t=e.request||In.defaults({headers:{"user-agent":`octokit-auth-oauth-device.js/${rR} ${Cn()}`}}),i=e,{request:r=t}=i,n=Fo(i,["request"]),a=e.clientType==="github-app"?xr(Qe({},n),{clientType:"github-app",request:r}):xr(Qe({},n),{clientType:"oauth-app",request:r,scopes:e.scopes||[]});if(!e.clientId)throw new Error('[@octokit/auth-oauth-device] "clientId" option must be set (https://github.com/octokit/auth-oauth-device.js#usage)');if(!e.onVerification)throw new Error('[@octokit/auth-oauth-device] "onVerification" option must be a function (https://github.com/octokit/auth-oauth-device.js#usage)');return Object.assign(eR.bind(null,a),{hook:tR.bind(null,a)})}const fv="1.3.0";async function hv(e){if("code"in e.strategyOptions){const{authentication:t}=await K2(xr(Qe({clientId:e.clientId,clientSecret:e.clientSecret,clientType:e.clientType},e.strategyOptions),{request:e.request}));return Qe({type:"token",tokenType:"oauth"},t)}if("onVerification"in e.strategyOptions){const r=await nR(xr(Qe({clientType:e.clientType,clientId:e.clientId},e.strategyOptions),{request:e.request}))({type:"oauth"});return Qe({clientSecret:e.clientSecret},r)}if("token"in e.strategyOptions)return Qe({type:"token",tokenType:"oauth",clientId:e.clientId,clientSecret:e.clientSecret,clientType:e.clientType},e.strategyOptions);throw new Error("[@octokit/auth-oauth-user] Invalid strategy options")}async function Mh(e,t={}){if(e.authentication||(e.authentication=e.clientType==="oauth-app"?await hv(e):await hv(e)),e.authentication.invalid)throw new Error("[@octokit/auth-oauth-user] Token is invalid");const r=e.authentication;if("expiresAt"in r&&(t.type==="refresh"||new Date(r.expiresAt)<new Date)){const{authentication:n}=await Z2({clientType:"github-app",clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:r.refreshToken,request:e.request});e.authentication=Qe({tokenType:"oauth",type:"token"},n)}if(t.type==="refresh"){if(e.clientType==="oauth-app")throw new Error("[@octokit/auth-oauth-user] OAuth Apps do not support expiring tokens");if(!r.hasOwnProperty("expiresAt"))throw new Error("[@octokit/auth-oauth-user] Refresh token missing")}if(t.type==="check"||t.type==="reset"){const n=t.type==="check"?$2:Q2;try{const{authentication:a}=await n({clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:e.authentication.token,request:e.request});return e.authentication=Qe({tokenType:"oauth",type:"token"},a),e.authentication}catch(a){throw a.status===404&&(a.message="[@octokit/auth-oauth-user] Token is invalid",e.authentication.invalid=!0),a}}if(t.type==="delete"||t.type==="deleteAuthorization"){const n=t.type==="delete"?Y2:X2;try{await n({clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:e.authentication.token,request:e.request})}catch(a){if(a.status!==404)throw a}return e.authentication.invalid=!0,e.authentication}return e.authentication}const iR=/\/applications\/[^/]+\/(token|grant)s?/;function al(e){return e&&iR.test(e)}async function oR(e,t,r,n={}){const a=t.endpoint.merge(r,n);if(/\/login\/(oauth\/access_token|device\/code)$/.test(a.url))return t(a);if(al(a.url)){const d=il(`${e.clientId}:${e.clientSecret}`);return a.headers.authorization=`basic ${d}`,t(a)}const{token:i}=e.clientType==="oauth-app"?await Mh(xr(Qe({},e),{request:t})):await Mh(xr(Qe({},e),{request:t}));return a.headers.authorization="token "+i,t(a)}function Po(i){var d=i,{clientId:e,clientSecret:t,clientType:r="oauth-app",request:n=In.defaults({headers:{"user-agent":`octokit-auth-oauth-app.js/${fv} ${Cn()}`}})}=d,a=Fo(d,["clientId","clientSecret","clientType","request"]);const m=Object.assign({clientType:r,clientId:e,clientSecret:t,strategyOptions:a,request:n});return Object.assign(Mh.bind(null,m),{hook:oR.bind(null,m)})}Po.VERSION=fv;var aR=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",createOAuthUserAuth:Po,requiresBasicAuth:al});async function sR(e,t){if(t.type==="oauth-app")return{type:"oauth-app",clientId:e.clientId,clientSecret:e.clientSecret,clientType:e.clientType,headers:{authorization:`basic ${il(`${e.clientId}:${e.clientSecret}`)}`}};if("factory"in t){const a=Qe(Qe({},t),e),{type:i}=a,d=Fo(a,["type"]);return t.factory(d)}const r=Qe({clientId:e.clientId,clientSecret:e.clientSecret,request:e.request},t);return(e.clientType==="oauth-app"?await Po(xr(Qe({},r),{clientType:e.clientType})):await Po(xr(Qe({},r),{clientType:e.clientType})))()}async function uR(e,t,r,n){let a=t.endpoint.merge(r,n);if(/\/login\/(oauth\/access_token|device\/code)$/.test(a.url))return t(a);if(e.clientType==="github-app"&&!al(a.url))throw new Error(`[@octokit/auth-oauth-app] GitHub Apps cannot use their client ID/secret for basic authentication for endpoints other than "/applications/{client_id}/**". "${a.method} ${a.url}" is not supported.`);const i=il(`${e.clientId}:${e.clientSecret}`);a.headers.authorization=`basic ${i}`;try{return await t(a)}catch(d){throw d.status!==401||(d.message=`[@octokit/auth-oauth-app] "${a.method} ${a.url}" does not support clientId/clientSecret basic authentication.`),d}}const lR="4.3.1";function dv(e){const t=Object.assign({request:In.defaults({headers:{"user-agent":`octokit-auth-oauth-app.js/${lR} ${Cn()}`}}),clientType:"oauth-app"},e);return Object.assign(sR.bind(null,t),{hook:uR.bind(null,t)})}var cR=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",createOAuthAppAuth:dv,createOAuthUserAuth:Po});function pv(e){const t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let n=0,a=e.length;n<a;n++)r[n]=e.charCodeAt(n);return t}function fR(e){const t=e.trim().split(`
`).slice(1,-1).join(""),r=atob(t);return pv(r)}function hR(e,t){return`${gv(e)}.${gv(t)}`}function dR(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,a=0;a<n;a++)t+=String.fromCharCode(r[a]);return _v(btoa(t))}function _v(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gv(e){return _v(btoa(JSON.stringify(e)))}const pR=async({privateKey:e,payload:t})=>{if(/BEGIN RSA PRIVATE KEY/.test(e))throw new Error("[universal-github-app-jwt] Private Key is in PKCS#1 format, but only PKCS#8 is supported. See https://github.com/gr2m/universal-github-app-jwt#readme");const r={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},n={alg:"RS256",typ:"JWT"},a=fR(e),i=await crypto.subtle.importKey("pkcs8",a,r,!1,["sign"]),d=hR(n,t),m=pv(d),_=await crypto.subtle.sign(r.name,i,m),v=dR(_);return`${d}.${v}`};async function _R({id:e,privateKey:t,now:r=Math.floor(Date.now()/1e3)}){const n=r-30,a=n+60*10,d=await pR({privateKey:t,payload:{iat:n,exp:a,iss:e}});return{appId:e,expiration:a,token:d}}var gR=it;it.Node=Oi,it.create=it;function it(e){var t=this;if(t instanceof it||(t=new it),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(a){t.push(a)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}it.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},it.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},it.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},it.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)vR(this,arguments[e]);return this.length},it.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)yR(this,arguments[e]);return this.length},it.prototype.pop=function(){if(!!this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},it.prototype.shift=function(){if(!!this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},it.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next},it.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev},it.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value},it.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value},it.prototype.map=function(e,t){t=t||this;for(var r=new it,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r},it.prototype.mapReverse=function(e,t){t=t||this;for(var r=new it,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r},it.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var a=0;n!==null;a++)r=e(r,n.value,a),n=n.next;return r},it.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var a=this.length-1;n!==null;a--)r=e(r,n.value,a),n=n.prev;return r},it.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e},it.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e},it.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new it;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,a=this.head;a!==null&&n<e;n++)a=a.next;for(;a!==null&&n<t;n++,a=a.next)r.push(a.value);return r},it.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new it;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,a=this.tail;a!==null&&n>t;n--)a=a.prev;for(;a!==null&&n>e;n--,a=a.prev)r.push(a.value);return r},it.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,a=this.head;a!==null&&n<e;n++)a=a.next;for(var i=[],n=0;a&&n<t;n++)i.push(a.value),a=this.removeNode(a);a===null&&(a=this.tail),a!==this.head&&a!==this.tail&&(a=a.prev);for(var n=0;n<r.length;n++)a=mR(this,a,r[n]);return i},it.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function mR(e,t,r){var n=t===e.head?new Oi(r,null,t,e):new Oi(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function vR(e,t){e.tail=new Oi(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function yR(e,t){e.head=new Oi(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Oi(e,t,r,n){if(!(this instanceof Oi))return new Oi(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{require("./iterator.js")(it)}catch{}const bR=gR,Ri=Symbol("max"),Mn=Symbol("length"),Oo=Symbol("lengthCalculator"),Wa=Symbol("allowStale"),Li=Symbol("maxAge"),Dn=Symbol("dispose"),mv=Symbol("noDisposeOnSet"),qt=Symbol("lruList"),Jr=Symbol("cache"),vv=Symbol("updateAgeOnGet"),Dh=()=>1;class ER{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Ri]=t.max||1/0;const r=t.length||Dh;if(this[Oo]=typeof r!="function"?Dh:r,this[Wa]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Li]=t.maxAge||0,this[Dn]=t.dispose,this[mv]=t.noDisposeOnSet||!1,this[vv]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Ri]=t||1/0,$a(this)}get max(){return this[Ri]}set allowStale(t){this[Wa]=!!t}get allowStale(){return this[Wa]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Li]=t,$a(this)}get maxAge(){return this[Li]}set lengthCalculator(t){typeof t!="function"&&(t=Dh),t!==this[Oo]&&(this[Oo]=t,this[Mn]=0,this[qt].forEach(r=>{r.length=this[Oo](r.value,r.key),this[Mn]+=r.length})),$a(this)}get lengthCalculator(){return this[Oo]}get length(){return this[Mn]}get itemCount(){return this[qt].length}rforEach(t,r){r=r||this;for(let n=this[qt].tail;n!==null;){const a=n.prev;yv(this,t,n,r),n=a}}forEach(t,r){r=r||this;for(let n=this[qt].head;n!==null;){const a=n.next;yv(this,t,n,r),n=a}}keys(){return this[qt].toArray().map(t=>t.key)}values(){return this[qt].toArray().map(t=>t.value)}reset(){this[Dn]&&this[qt]&&this[qt].length&&this[qt].forEach(t=>this[Dn](t.key,t.value)),this[Jr]=new Map,this[qt]=new bR,this[Mn]=0}dump(){return this[qt].map(t=>sl(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[qt]}set(t,r,n){if(n=n||this[Li],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const a=n?Date.now():0,i=this[Oo](r,t);if(this[Jr].has(t)){if(i>this[Ri])return Ro(this,this[Jr].get(t)),!1;const _=this[Jr].get(t).value;return this[Dn]&&(this[mv]||this[Dn](t,_.value)),_.now=a,_.maxAge=n,_.value=r,this[Mn]+=i-_.length,_.length=i,this.get(t),$a(this),!0}const d=new TR(t,r,i,a,n);return d.length>this[Ri]?(this[Dn]&&this[Dn](t,r),!1):(this[Mn]+=d.length,this[qt].unshift(d),this[Jr].set(t,this[qt].head),$a(this),!0)}has(t){if(!this[Jr].has(t))return!1;const r=this[Jr].get(t).value;return!sl(this,r)}get(t){return Nh(this,t,!0)}peek(t){return Nh(this,t,!1)}pop(){const t=this[qt].tail;return t?(Ro(this,t),t.value):null}del(t){Ro(this,this[Jr].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const a=t[n],i=a.e||0;if(i===0)this.set(a.k,a.v);else{const d=i-r;d>0&&this.set(a.k,a.v,d)}}}prune(){this[Jr].forEach((t,r)=>Nh(this,r,!1))}}const Nh=(e,t,r)=>{const n=e[Jr].get(t);if(n){const a=n.value;if(sl(e,a)){if(Ro(e,n),!e[Wa])return}else r&&(e[vv]&&(n.value.now=Date.now()),e[qt].unshiftNode(n));return a.value}},sl=(e,t)=>{if(!t||!t.maxAge&&!e[Li])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[Li]&&r>e[Li]},$a=e=>{if(e[Mn]>e[Ri])for(let t=e[qt].tail;e[Mn]>e[Ri]&&t!==null;){const r=t.prev;Ro(e,t),t=r}},Ro=(e,t)=>{if(t){const r=t.value;e[Dn]&&e[Dn](r.key,r.value),e[Mn]-=r.length,e[Jr].delete(r.key),e[qt].removeNode(t)}};class TR{constructor(t,r,n,a,i){this.key=t,this.value=r,this.length=n,this.now=a,this.maxAge=i||0}}const yv=(e,t,r,n)=>{let a=r.value;sl(e,a)&&(Ro(e,r),e[Wa]||(a=void 0)),a&&t.call(n,a.value,a.key,e)};var xR=ER;async function ul({appId:e,privateKey:t,timeDifference:r}){try{const n=await _R({id:+e,privateKey:t,now:r&&Math.floor(Date.now()/1e3)+r});return{type:"app",token:n.token,appId:n.appId,expiresAt:new Date(n.expiration*1e3).toISOString()}}catch(n){throw t==="-----BEGIN RSA PRIVATE KEY-----"?new Error("The 'privateKey` option contains only the first line '-----BEGIN RSA PRIVATE KEY-----'. If you are setting it using a `.env` file, make sure it is set on a single line with newlines replaced by '\n'"):n}}function wR(){return new xR({max:15e3,maxAge:1e3*60*59})}async function AR(e,t){const r=bv(t),n=await e.get(r);if(!n)return;const[a,i,d,m,_,v]=n.split("|"),h=t.permissions||_.split(/,/).reduce((c,o)=>(/!$/.test(o)?c[o.slice(0,-1)]="write":c[o]="read",c),{});return{token:a,createdAt:i,expiresAt:d,permissions:h,repositoryIds:t.repositoryIds,repositoryNames:t.repositoryNames,singleFileName:v,repositorySelection:m}}async function SR(e,t,r){const n=bv(t),a=t.permissions?"":Object.keys(r.permissions).map(d=>`${d}${r.permissions[d]==="write"?"!":""}`).join(","),i=[r.token,r.createdAt,r.expiresAt,r.repositorySelection,a,r.singleFileName].join("|");await e.set(n,i)}function bv({installationId:e,permissions:t={},repositoryIds:r=[],repositoryNames:n=[]}){const a=Object.keys(t).sort().map(m=>t[m]==="read"?m:`${m}!`).join(","),i=r.sort().join(","),d=n.join(",");return[e,i,d,a].filter(Boolean).join("|")}function Ev({installationId:e,token:t,createdAt:r,expiresAt:n,repositorySelection:a,permissions:i,repositoryIds:d,repositoryNames:m,singleFileName:_}){return Object.assign({type:"token",tokenType:"installation",token:t,installationId:e,permissions:i,createdAt:r,expiresAt:n,repositorySelection:a},d?{repositoryIds:d}:null,m?{repositoryNames:m}:null,_?{singleFileName:_}:null)}async function Tv(e,t,r){const n=Number(t.installationId||e.installationId);if(!n)throw new Error("[@octokit/auth-app] installationId option is required for installation authentication.");if(t.factory){const y=Qe(Qe({},e),t),{type:b,factory:E,oauthApp:x}=y,w=Fo(y,["type","factory","oauthApp"]);return E(w)}const a=Object.assign({installationId:n},t);if(!t.refresh){const b=await AR(e.cache,a);if(b){const{token:E,createdAt:x,expiresAt:w,permissions:S,repositoryIds:O,repositoryNames:A,singleFileName:L,repositorySelection:k}=b;return Ev({installationId:n,token:E,createdAt:x,expiresAt:w,permissions:S,repositorySelection:k,repositoryIds:O,repositoryNames:A,singleFileName:L})}}const i=await ul(e),d=r||e.request,{data:{token:m,expires_at:_,repositories:v,permissions:h,repository_selection:c,single_file:o}}=await d("POST /app/installations/{installation_id}/access_tokens",{installation_id:n,repository_ids:t.repositoryIds,repositories:t.repositoryNames,permissions:t.permissions,mediaType:{previews:["machine-man"]},headers:{authorization:`bearer ${i.token}`}}),l=h||{},s=c||"all",u=v?v.map(b=>b.id):void 0,f=v?v.map(b=>b.name):void 0,g=new Date().toISOString();return await SR(e.cache,a,{token:m,createdAt:g,expiresAt:_,repositorySelection:s,permissions:l,repositoryIds:u,repositoryNames:f,singleFileName:o}),Ev({installationId:n,token:m,createdAt:g,expiresAt:_,repositorySelection:s,permissions:l,repositoryIds:u,repositoryNames:f,singleFileName:o})}async function PR(e,t){switch(t.type){case"app":return ul(e);case"oauth":e.log.warn(new Th('[@octokit/auth-app] {type: "oauth"} is deprecated. Use {type: "oauth-app"} instead'));case"oauth-app":return e.oauthApp({type:"oauth-app"});case"installation":return Tv(e,xr(Qe({},t),{type:"installation"}));case"oauth-user":return e.oauthApp(t);default:throw new Error(`Invalid auth type: ${t.type}`)}}const OR=["/app","/app/hook/config","/app/hook/deliveries","/app/hook/deliveries/{delivery_id}","/app/hook/deliveries/{delivery_id}/attempts","/app/installations","/app/installations/{installation_id}","/app/installations/{installation_id}/access_tokens","/app/installations/{installation_id}/suspended","/marketplace_listing/accounts/{account_id}","/marketplace_listing/plan","/marketplace_listing/plans","/marketplace_listing/plans/{plan_id}/accounts","/marketplace_listing/stubbed/accounts/{account_id}","/marketplace_listing/stubbed/plan","/marketplace_listing/stubbed/plans","/marketplace_listing/stubbed/plans/{plan_id}/accounts","/orgs/{org}/installation","/repos/{owner}/{repo}/installation","/users/{username}/installation"];function RR(e){const r=`^(?:${e.map(n=>n.split("/").map(a=>a.startsWith("{")?"(?:.+?)":a).join("/")).map(n=>`(?:${n})`).join("|")})[^/]*$`;return new RegExp(r,"i")}const LR=RR(OR);function CR(e){return!!e&&LR.test(e)}const IR=5*1e3;function MR(e){return!(e.message.match(/'Expiration time' claim \('exp'\) must be a numeric value representing the future time at which the assertion expires/)||e.message.match(/'Issued at' claim \('iat'\) must be an Integer representing the time that the assertion was issued/))}async function DR(e,t,r,n){const a=t.endpoint.merge(r,n),i=a.url;if(/\/login\/oauth\/access_token$/.test(i))return t(a);if(CR(i.replace(t.endpoint.DEFAULTS.baseUrl,""))){const{token:_}=await ul(e);a.headers.authorization=`bearer ${_}`;let v;try{v=await t(a)}catch(h){if(MR(h)||typeof h.response.headers.date=="undefined")throw h;const c=Math.floor((Date.parse(h.response.headers.date)-Date.parse(new Date().toString()))/1e3);e.log.warn(h.message),e.log.warn(`[@octokit/auth-app] GitHub API time and system time are different by ${c} seconds. Retrying request with the difference accounted for.`);const{token:o}=await ul(xr(Qe({},e),{timeDifference:c}));return a.headers.authorization=`bearer ${o}`,t(a)}return v}if(al(i)){const _=await e.oauthApp({type:"oauth-app"});return a.headers.authorization=_.headers.authorization,t(a)}const{token:d,createdAt:m}=await Tv(e,{},t);return a.headers.authorization=`token ${d}`,xv(e,t,a,m)}async function xv(e,t,r,n,a=0){const i=+new Date-+new Date(n);try{return await t(r)}catch(d){if(d.status!==401)throw d;if(i>=IR)throw a>0&&(d.message=`After ${a} retries within ${i/1e3}s of creating the installation access token, the response remains 401. At this point, the cause may be an authentication problem or a system outage. Please check https://www.githubstatus.com for status information`),d;++a;const m=a*1e3;return e.log.warn(`[@octokit/auth-app] Retrying after 401 response to account for token replication delay (retry: ${a}, wait: ${m/1e3}s)`),await new Promise(_=>setTimeout(_,m)),xv(e,t,r,n,a)}}const NR="3.6.1";function kR(e){if(!e.appId)throw new Error("[@octokit/auth-app] appId option is required");if(!e.privateKey)throw new Error("[@octokit/auth-app] privateKey option is required");if("installationId"in e&&!e.installationId)throw new Error("[@octokit/auth-app] installationId is set to a falsy value");const t=Object.assign({warn:console.warn.bind(console)},e.log),r=e.request||In.defaults({headers:{"user-agent":`octokit-auth-app.js/${NR} ${Cn()}`}}),n=Object.assign({request:r,cache:wR()},e,e.installationId?{installationId:Number(e.installationId)}:{},{log:t,oauthApp:dv({clientType:"github-app",clientId:e.clientId||"",clientSecret:e.clientSecret||"",request:r})});return Object.assign(PR.bind(null,n),{hook:DR.bind(null,n)})}var BR=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",createAppAuth:kR,createOAuthUserAuth:Po}),FR=ft(BR),Lo={},jR=ft(cR),zR=ft(rO),UR=ft(aR);async function GR(e){return{type:"unauthenticated",reason:e}}function VR(e){return e.status!==403||!e.response?!1:e.response.headers["x-ratelimit-remaining"]==="0"}const HR=/\babuse\b/i;function WR(e){return e.status!==403?!1:HR.test(e.message)}async function $R(e,t,r,n){const a=t.endpoint.merge(r,n);return t(a).catch(i=>{throw i.status===404?(i.message=`Not found. May be due to lack of authentication. Reason: ${e}`,i):VR(i)?(i.message=`API rate limit exceeded. This maybe caused by the lack of authentication. Reason: ${e}`,i):WR(i)?(i.message=`You have triggered an abuse detection mechanism. This maybe caused by the lack of authentication. Reason: ${e}`,i):i.status===401?(i.message=`Unauthorized. "${a.method} ${a.url}" failed most likely due to lack of authentication. Reason: ${e}`,i):(i.status>=400&&i.status<500&&(i.message=i.message.replace(/\.?$/,`. May be caused by lack of authentication (${e}).`)),i)})}const qR=function(t){if(!t||!t.reason)throw new Error("[@octokit/auth-unauthenticated] No reason passed to createUnauthenticatedAuth");return Object.assign(GR.bind(null,t.reason),{hook:$R.bind(null,t.reason)})};var XR=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",createUnauthenticatedAuth:qR}),wv=ft(XR);/*! fromentries. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var YR=function(t){return[...t].reduce((r,[n,a])=>(r[n]=a,r),{})};Object.defineProperty(Lo,"__esModule",{value:!0});function KR(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var Av=jR,ZR=tv,QR=zR,qa=UR,vn=Cr,kh=wv,JR=KR(YR);function Sv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sv(Object(r),!0).forEach(function(n){eL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eL(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Pv="3.6.3";function Ov(e,t,r){if(Array.isArray(t)){for(const n of t)Ov(e,n,r);return}e.eventHandlers[t]||(e.eventHandlers[t]=[]),e.eventHandlers[t].push(r)}const tL=ZR.Octokit.defaults({userAgent:`octokit-oauth-app.js/${Pv} ${QR.getUserAgent()}`});async function Nn(e,t){const{name:r,action:n}=t;if(e.eventHandlers[`${r}.${n}`])for(const a of e.eventHandlers[`${r}.${n}`])await a(t);if(e.eventHandlers[r])for(const a of e.eventHandlers[r])await a(t)}async function rL(e,t){return e.octokit.auth(ht(ht({type:"oauth-user"},t),{},{async factory(r){const n=new e.Octokit({authStrategy:qa.createOAuthUserAuth,auth:r}),a=await n.auth({type:"get"});return await Nn(e,{name:"token",action:"created",token:a.token,scopes:a.scopes,authentication:a,octokit:n}),n}}))}function nL(e,t){const r=ht(ht({clientId:e.clientId,request:e.octokit.request},t),{},{allowSignup:t.allowSignup||e.allowSignup,scopes:t.scopes||e.defaultScopes});return vn.getWebFlowAuthorizationUrl(ht({clientType:e.clientType},r))}async function iL(e,t){const r=await e.octokit.auth(ht({type:"oauth-user"},t));return await Nn(e,{name:"token",action:"created",token:r.token,scopes:r.scopes,authentication:r,octokit:new e.Octokit({authStrategy:Av.createOAuthUserAuth,auth:{clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:r.token,scopes:r.scopes,refreshToken:r.refreshToken,expiresAt:r.expiresAt,refreshTokenExpiresAt:r.refreshTokenExpiresAt}})}),{authentication:r}}async function oL(e,t){const r=await vn.checkToken(ht({clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,request:e.octokit.request},t));return Object.assign(r.authentication,{type:"token",tokenType:"oauth"}),r}async function aL(e,t){const r=ht({clientId:e.clientId,clientSecret:e.clientSecret,request:e.octokit.request},t);if(e.clientType==="oauth-app"){const i=await vn.resetToken(ht({clientType:"oauth-app"},r)),d=Object.assign(i.authentication,{type:"token",tokenType:"oauth"});return await Nn(e,{name:"token",action:"reset",token:i.authentication.token,scopes:i.authentication.scopes||void 0,authentication:d,octokit:new e.Octokit({authStrategy:qa.createOAuthUserAuth,auth:{clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:i.authentication.token,scopes:i.authentication.scopes}})}),ht(ht({},i),{},{authentication:d})}const n=await vn.resetToken(ht({clientType:"github-app"},r)),a=Object.assign(n.authentication,{type:"token",tokenType:"oauth"});return await Nn(e,{name:"token",action:"reset",token:n.authentication.token,authentication:a,octokit:new e.Octokit({authStrategy:qa.createOAuthUserAuth,auth:{clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:n.authentication.token}})}),ht(ht({},n),{},{authentication:a})}async function sL(e,t){if(e.clientType==="oauth-app")throw new Error("[@octokit/oauth-app] app.refreshToken() is not supported for OAuth Apps");const r=await vn.refreshToken({clientType:"github-app",clientId:e.clientId,clientSecret:e.clientSecret,request:e.octokit.request,refreshToken:t.refreshToken}),n=Object.assign(r.authentication,{type:"token",tokenType:"oauth"});return await Nn(e,{name:"token",action:"refreshed",token:r.authentication.token,authentication:n,octokit:new e.Octokit({authStrategy:qa.createOAuthUserAuth,auth:{clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:r.authentication.token}})}),ht(ht({},r),{},{authentication:n})}async function uL(e,t){if(e.clientType==="oauth-app")throw new Error("[@octokit/oauth-app] app.scopeToken() is not supported for OAuth Apps");const r=await vn.scopeToken(ht({clientType:"github-app",clientId:e.clientId,clientSecret:e.clientSecret,request:e.octokit.request},t)),n=Object.assign(r.authentication,{type:"token",tokenType:"oauth"});return await Nn(e,{name:"token",action:"scoped",token:r.authentication.token,authentication:n,octokit:new e.Octokit({authStrategy:qa.createOAuthUserAuth,auth:{clientType:e.clientType,clientId:e.clientId,clientSecret:e.clientSecret,token:r.authentication.token}})}),ht(ht({},r),{},{authentication:n})}async function lL(e,t){const r=ht({clientId:e.clientId,clientSecret:e.clientSecret,request:e.octokit.request},t),n=e.clientType==="oauth-app"?await vn.deleteToken(ht({clientType:"oauth-app"},r)):await vn.deleteToken(ht({clientType:"github-app"},r));return await Nn(e,{name:"token",action:"deleted",token:t.token,octokit:new e.Octokit({authStrategy:kh.createUnauthenticatedAuth,auth:{reason:'Handling "token.deleted" event. The access for the token has been revoked.'}})}),n}async function cL(e,t){const r=ht({clientId:e.clientId,clientSecret:e.clientSecret,request:e.octokit.request},t),n=e.clientType==="oauth-app"?await vn.deleteAuthorization(ht({clientType:"oauth-app"},r)):await vn.deleteAuthorization(ht({clientType:"github-app"},r));return await Nn(e,{name:"token",action:"deleted",token:t.token,octokit:new e.Octokit({authStrategy:kh.createUnauthenticatedAuth,auth:{reason:'Handling "token.deleted" event. The access for the token has been revoked.'}})}),await Nn(e,{name:"authorization",action:"deleted",token:t.token,octokit:new e.Octokit({authStrategy:kh.createUnauthenticatedAuth,auth:{reason:'Handling "authorization.deleted" event. The access for the app has been revoked.'}})}),n}function Rv(e){const{method:t,url:r,headers:n}=e;async function a(){return await new Promise((d,m)=>{let _=[];e.on("error",m).on("data",v=>_.push(v)).on("end",()=>d(Buffer.concat(_).toString()))})}return{method:t,url:r,headers:n,text:a}}function Lv(e,t){t.writeHead(e.status,e.headers),t.end(e.text)}function Bh(e){return{status:404,headers:{"content-type":"application/json"},text:JSON.stringify({error:`Unknown route: ${e.method} ${e.url}`})}}async function Fh(e,{pathPrefix:t="/api/github/oauth"},r){if(r.method==="OPTIONS")return{status:200,headers:{"access-control-allow-origin":"*","access-control-allow-methods":"*","access-control-allow-headers":"Content-Type, User-Agent, Authorization"}};const{pathname:n}=new URL(r.url,"http://localhost"),a=[r.method,n].join(" "),i={getLogin:`GET ${t}/login`,getCallback:`GET ${t}/callback`,createToken:`POST ${t}/token`,getToken:`GET ${t}/token`,patchToken:`PATCH ${t}/token`,patchRefreshToken:`PATCH ${t}/refresh-token`,scopeToken:`POST ${t}/token/scoped`,deleteToken:`DELETE ${t}/token`,deleteGrant:`DELETE ${t}/grant`};if(!Object.values(i).includes(a))return null;let d;try{const f=await r.text();d=f?JSON.parse(f):{}}catch{return{status:400,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify({error:"[@octokit/oauth-app] request error"})}}const{searchParams:m}=new URL(r.url,"http://localhost"),_=JR(m),v=r.headers;try{var h;if(a===i.getLogin){const{url:g}=e.getWebFlowAuthorizationUrl({state:_.state,scopes:_.scopes?_.scopes.split(","):void 0,allowSignup:_.allowSignup!=="false",redirectUrl:_.redirectUrl});return{status:302,headers:{location:g}}}if(a===i.getCallback){if(_.error)throw new Error(`[@octokit/oauth-app] ${_.error} ${_.error_description}`);if(!_.code)throw new Error('[@octokit/oauth-app] "code" parameter is required');const{authentication:{token:g}}=await e.createToken({code:_.code});return{status:200,headers:{"content-type":"text/html"},text:`<h1>Token created successfull</h1>
    
<p>Your token is: <strong>${g}</strong>. Copy it now as it cannot be shown again.</p>`}}if(a===i.createToken){const{code:g,redirectUrl:y}=d;if(!g)throw new Error('[@octokit/oauth-app] "code" parameter is required');const b=await e.createToken({code:g,redirectUrl:y});return delete b.authentication.clientSecret,{status:201,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(b)}}if(a===i.getToken){var c;const g=(c=v.authorization)===null||c===void 0?void 0:c.substr(6);if(!g)throw new Error('[@octokit/oauth-app] "Authorization" header is required');const y=await e.checkToken({token:g});return delete y.authentication.clientSecret,{status:200,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(y)}}if(a===i.patchToken){var o;const g=(o=v.authorization)===null||o===void 0?void 0:o.substr(6);if(!g)throw new Error('[@octokit/oauth-app] "Authorization" header is required');const y=await e.resetToken({token:g});return delete y.authentication.clientSecret,{status:200,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(y)}}if(a===i.patchRefreshToken){var l;if(!((l=v.authorization)===null||l===void 0?void 0:l.substr(6)))throw new Error('[@octokit/oauth-app] "Authorization" header is required');const{refreshToken:y}=d;if(!y)throw new Error("[@octokit/oauth-app] refreshToken must be sent in request body");const b=await e.refreshToken({refreshToken:y});return delete b.authentication.clientSecret,{status:200,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(b)}}if(a===i.scopeToken){var s;const g=(s=v.authorization)===null||s===void 0?void 0:s.substr(6);if(!g)throw new Error('[@octokit/oauth-app] "Authorization" header is required');const y=await e.scopeToken(ht({token:g},d));return delete y.authentication.clientSecret,{status:200,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify(y)}}if(a===i.deleteToken){var u;const g=(u=v.authorization)===null||u===void 0?void 0:u.substr(6);if(!g)throw new Error('[@octokit/oauth-app] "Authorization" header is required');return await e.deleteToken({token:g}),{status:204,headers:{"access-control-allow-origin":"*"}}}const f=(h=v.authorization)===null||h===void 0?void 0:h.substr(6);if(!f)throw new Error('[@octokit/oauth-app] "Authorization" header is required');return await e.deleteAuthorization({token:f}),{status:204,headers:{"access-control-allow-origin":"*"}}}catch(f){return{status:400,headers:{"content-type":"application/json","access-control-allow-origin":"*"},text:JSON.stringify({error:f.message})}}}function fL(e,t){const r=Rv(e),n=Bh(r);Lv(n,t)}function hL(e,{pathPrefix:t,onUnhandledRequest:r=fL}={}){return async function(n,a,i){const d=Rv(n),m=await Fh(e,{pathPrefix:t},d);m?Lv(m,a):typeof i=="function"?i():r(n,a)}}function Cv(e){const t=Object.fromEntries(e.headers.entries());return{method:e.method,url:e.url,headers:t,text:()=>e.text()}}function Iv(e){return new Response(e.text,{status:e.status,headers:e.headers})}async function dL(e){const t=Cv(e),r=Bh(t);return Iv(r)}function pL(e,{pathPrefix:t,onUnhandledRequest:r=dL}={}){return async function(n){const a=Cv(n),i=await Fh(e,{pathPrefix:t},a);return i?Iv(i):await r(n)}}function Mv(e){const{method:t}=e.requestContext.http;let r=e.rawPath;const{stage:n}=e.requestContext;r.startsWith("/"+n)&&(r=r.substring(n.length+1)),e.rawQueryString&&(r+="?"+e.rawQueryString);const a=e.headers;return{method:t,url:r,headers:a,text:async()=>e.body||""}}function Dv(e){return{statusCode:e.status,headers:e.headers,body:e.text}}async function _L(e){const t=Mv(e),r=Bh(t);return Dv(r)}function gL(e,{pathPrefix:t,onUnhandledRequest:r=_L}={}){return async function(n){const a=Mv(n),i=await Fh(e,{pathPrefix:t},a);return i?Dv(i):r(n)}}class Nv{constructor(t){const r=t.Octokit||tL;this.type=t.clientType||"oauth-app";const n=new r({authStrategy:Av.createOAuthAppAuth,auth:{clientType:this.type,clientId:t.clientId,clientSecret:t.clientSecret}}),a={clientType:this.type,clientId:t.clientId,clientSecret:t.clientSecret,defaultScopes:t.defaultScopes||[],allowSignup:t.allowSignup,baseUrl:t.baseUrl,log:t.log,Octokit:r,octokit:n,eventHandlers:{}};this.on=Ov.bind(null,a),this.octokit=n,this.getUserOctokit=rL.bind(null,a),this.getWebFlowAuthorizationUrl=nL.bind(null,a),this.createToken=iL.bind(null,a),this.checkToken=oL.bind(null,a),this.resetToken=aL.bind(null,a),this.refreshToken=sL.bind(null,a),this.scopeToken=uL.bind(null,a),this.deleteToken=lL.bind(null,a),this.deleteAuthorization=cL.bind(null,a)}static defaults(t){return class extends this{constructor(...n){super(ht(ht({},t),n[0]))}}}}Nv.VERSION=Pv;var mL=Lo.OAuthApp=Nv;Lo.createAWSLambdaAPIGatewayV2Handler=gL,Lo.createCloudflareHandler=pL,Lo.createNodeMiddleware=hL;var vL=(e,t=1,r)=>{if(r=Qe({indent:" ",includeEmptyLines:!1},r),typeof e!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if(typeof t!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if(typeof r.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(t===0)return e;const n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))},yL={},bL=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yL}),EL=ft(bL);const kv=EL,Bv=/\s+at.*(?:\(|\s)(.*)\)?/,TL=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,xL=typeof kv.homedir=="undefined"?"":kv.homedir();var wL=(e,t)=>(t=Object.assign({pretty:!1},t),e.replace(/\\/g,"/").split(`
`).filter(r=>{const n=r.match(Bv);if(n===null||!n[1])return!0;const a=n[1];return a.includes(".app/Contents/Resources/electron.asar")||a.includes(".app/Contents/Resources/default_app.asar")?!1:!TL.test(a)}).filter(r=>r.trim()!=="").map(r=>t.pretty?r.replace(Bv,(n,a)=>n.replace(a,a.replace(xL,"~"))):r).join(`
`));const AL=vL,SL=wL,PL=e=>e.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,"");class OL extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError(`Expected input to be an Array, got ${typeof t}`);t=[...t].map(n=>n instanceof Error?n:n!==null&&typeof n=="object"?Object.assign(new Error(n.message),n):new Error(n));let r=t.map(n=>typeof n.stack=="string"?PL(SL(n.stack)):String(n)).join(`
`);r=`
`+AL(r,4);super(r);this.name="AggregateError",Object.defineProperty(this,"_errors",{value:t})}*[Symbol.iterator](){for(const t of this._errors)yield t}}var Co=OL;const jh=new TextEncoder;async function RL(e,t){const r=await crypto.subtle.sign("HMAC",await jv(e),jh.encode(t));return CL(r)}async function Fv(e,t,r){return await crypto.subtle.verify("HMAC",await jv(e),LL(r),jh.encode(t))}function LL(e){const r=e.match(/[\dA-F]{2}/gi).map(function(n){return parseInt(n,16)});return new Uint8Array(r)}function CL(e){return Array.prototype.map.call(new Uint8Array(e),t=>t.toString(16).padStart(2,"0")).join("")}async function jv(e){return crypto.subtle.importKey("raw",jh.encode(e),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"])}const zh=e=>Qe({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e),zv=["branch_protection_rule","branch_protection_rule.created","branch_protection_rule.deleted","branch_protection_rule.edited","check_run","check_run.completed","check_run.created","check_run.requested_action","check_run.rerequested","check_suite","check_suite.completed","check_suite.requested","check_suite.rerequested","code_scanning_alert","code_scanning_alert.appeared_in_branch","code_scanning_alert.closed_by_user","code_scanning_alert.created","code_scanning_alert.fixed","code_scanning_alert.reopened","code_scanning_alert.reopened_by_user","commit_comment","commit_comment.created","create","delete","deploy_key","deploy_key.created","deploy_key.deleted","deployment","deployment.created","deployment_status","deployment_status.created","discussion","discussion.answered","discussion.category_changed","discussion.created","discussion.deleted","discussion.edited","discussion.labeled","discussion.locked","discussion.pinned","discussion.transferred","discussion.unanswered","discussion.unlabeled","discussion.unlocked","discussion.unpinned","discussion_comment","discussion_comment.created","discussion_comment.deleted","discussion_comment.edited","fork","github_app_authorization","github_app_authorization.revoked","gollum","installation","installation.created","installation.deleted","installation.new_permissions_accepted","installation.suspend","installation.unsuspend","installation_repositories","installation_repositories.added","installation_repositories.removed","issue_comment","issue_comment.created","issue_comment.deleted","issue_comment.edited","issues","issues.assigned","issues.closed","issues.deleted","issues.demilestoned","issues.edited","issues.labeled","issues.locked","issues.milestoned","issues.opened","issues.pinned","issues.reopened","issues.transferred","issues.unassigned","issues.unlabeled","issues.unlocked","issues.unpinned","label","label.created","label.deleted","label.edited","marketplace_purchase","marketplace_purchase.cancelled","marketplace_purchase.changed","marketplace_purchase.pending_change","marketplace_purchase.pending_change_cancelled","marketplace_purchase.purchased","member","member.added","member.edited","member.removed","membership","membership.added","membership.removed","meta","meta.deleted","milestone","milestone.closed","milestone.created","milestone.deleted","milestone.edited","milestone.opened","org_block","org_block.blocked","org_block.unblocked","organization","organization.deleted","organization.member_added","organization.member_invited","organization.member_removed","organization.renamed","package","package.published","package.updated","page_build","ping","project","project.closed","project.created","project.deleted","project.edited","project.reopened","project_card","project_card.converted","project_card.created","project_card.deleted","project_card.edited","project_card.moved","project_column","project_column.created","project_column.deleted","project_column.edited","project_column.moved","projects_v2_item","projects_v2_item.archived","projects_v2_item.converted","projects_v2_item.created","projects_v2_item.deleted","projects_v2_item.edited","projects_v2_item.reordered","projects_v2_item.restored","public","pull_request","pull_request.assigned","pull_request.auto_merge_disabled","pull_request.auto_merge_enabled","pull_request.closed","pull_request.converted_to_draft","pull_request.edited","pull_request.labeled","pull_request.locked","pull_request.opened","pull_request.ready_for_review","pull_request.reopened","pull_request.review_request_removed","pull_request.review_requested","pull_request.synchronize","pull_request.unassigned","pull_request.unlabeled","pull_request.unlocked","pull_request_review","pull_request_review.dismissed","pull_request_review.edited","pull_request_review.submitted","pull_request_review_comment","pull_request_review_comment.created","pull_request_review_comment.deleted","pull_request_review_comment.edited","pull_request_review_thread","pull_request_review_thread.resolved","pull_request_review_thread.unresolved","push","release","release.created","release.deleted","release.edited","release.prereleased","release.published","release.released","release.unpublished","repository","repository.archived","repository.created","repository.deleted","repository.edited","repository.privatized","repository.publicized","repository.renamed","repository.transferred","repository.unarchived","repository_dispatch","repository_import","repository_vulnerability_alert","repository_vulnerability_alert.create","repository_vulnerability_alert.dismiss","repository_vulnerability_alert.reopen","repository_vulnerability_alert.resolve","secret_scanning_alert","secret_scanning_alert.created","secret_scanning_alert.reopened","secret_scanning_alert.resolved","security_advisory","security_advisory.performed","security_advisory.published","security_advisory.updated","security_advisory.withdrawn","sponsorship","sponsorship.cancelled","sponsorship.created","sponsorship.edited","sponsorship.pending_cancellation","sponsorship.pending_tier_change","sponsorship.tier_changed","star","star.created","star.deleted","status","team","team.added_to_repository","team.created","team.deleted","team.edited","team.removed_from_repository","team_add","watch","watch.started","workflow_dispatch","workflow_job","workflow_job.completed","workflow_job.in_progress","workflow_job.queued","workflow_run","workflow_run.completed","workflow_run.requested"];function Uh(e,t,r){e.hooks[t]||(e.hooks[t]=[]),e.hooks[t].push(r)}function Uv(e,t,r){if(Array.isArray(t)){t.forEach(n=>Uv(e,n,r));return}if(["*","error"].includes(t)){const n=t==="*"?"any":t,a=`Using the "${t}" event with the regular Webhooks.on() function is not supported. Please use the Webhooks.on${n.charAt(0).toUpperCase()+n.slice(1)}() method instead`;throw new Error(a)}zv.includes(t)||e.log.warn(`"${t}" is not a known webhook name (https://developer.github.com/v3/activity/events/types/)`),Uh(e,t,r)}function IL(e,t){Uh(e,"*",t)}function ML(e,t){Uh(e,"error",t)}function Gv(e,t){let r;try{r=e(t)}catch(n){console.log('FATAL: Error occurred in "error" event handler'),console.log(n)}r&&r.catch&&r.catch(n=>{console.log('FATAL: Error occurred in "error" event handler'),console.log(n)})}function DL(e,t,r){const n=[e.hooks[r],e.hooks["*"]];return t&&n.unshift(e.hooks[`${r}.${t}`]),[].concat(...n.filter(Boolean))}function NL(e,t){const r=e.hooks.error||[];if(t instanceof Error){const d=Object.assign(new Co([t]),{event:t,errors:[t]});return r.forEach(m=>Gv(m,d)),Promise.reject(d)}if(!t||!t.name)throw new Co(["Event name not passed"]);if(!t.payload)throw new Co(["Event payload not passed"]);const n=DL(e,"action"in t.payload?t.payload.action:null,t.name);if(n.length===0)return Promise.resolve();const a=[],i=n.map(d=>{let m=Promise.resolve(t);return e.transform&&(m=m.then(e.transform)),m.then(_=>d(_)).catch(_=>a.push(Object.assign(_,{event:t})))});return Promise.all(i).then(()=>{if(a.length===0)return;const d=new Co(a);throw Object.assign(d,{event:t,errors:a}),r.forEach(m=>Gv(m,d)),d})}function Vv(e,t,r){if(Array.isArray(t)){t.forEach(n=>Vv(e,n,r));return}if(!!e.hooks[t]){for(let n=e.hooks[t].length-1;n>=0;n--)if(e.hooks[t][n]===r){e.hooks[t].splice(n,1);return}}}function Hv(e){const t={hooks:{},log:zh(e&&e.log)};return e&&e.transform&&(t.transform=e.transform),{on:Uv.bind(null,t),onAny:IL.bind(null,t),onError:ML.bind(null,t),removeListener:Vv.bind(null,t),receive:NL.bind(null,t)}}function Gh(e){return JSON.stringify(e).replace(/[^\\]\\u[\da-f]{4}/g,r=>r.substr(0,3)+r.substr(3).toUpperCase())}async function kL(e,t){return RL(e,typeof t=="string"?t:Gh(t))}async function BL(e,t,r){return Fv(e,typeof t=="string"?t:Gh(t),r)}async function FL(e,t){if(!await Fv(e.secret,typeof t.payload=="object"?Gh(t.payload):t.payload,t.signature)){const n=new Error("[@octokit/webhooks] signature does not match event payload and secret");return e.eventHandler.receive(Object.assign(n,{event:t,status:400}))}return e.eventHandler.receive({id:t.id,name:t.name,payload:typeof t.payload=="string"?JSON.parse(t.payload):t.payload})}const jL=["x-github-event","x-hub-signature-256","x-github-delivery"];function zL(e){return jL.filter(t=>!(t in e.headers))}function UL(e){return e.body?Promise.resolve(e.body):new Promise((t,r)=>{let n="";e.setEncoding("utf8"),e.on("error",a=>r(new Co([a]))),e.on("data",a=>n+=a),e.on("end",()=>{try{t(JSON.parse(n))}catch(a){a.message="Invalid JSON",a.status=400,r(new Co([a]))}})})}async function GL(e,t,r,n,a){let i;try{i=new URL(r.url,"http://localhost").pathname}catch{n.writeHead(422,{"content-type":"application/json"}),n.end(JSON.stringify({error:`Request URL could not be parsed: ${r.url}`}));return}const d=r.method!=="POST"||i!==t.path,m=typeof a=="function";if(d)return m?a():t.onUnhandledRequest(r,n);const _=zL(r).join(", ");if(_){n.writeHead(400,{"content-type":"application/json"}),n.end(JSON.stringify({error:`Required headers missing: ${_}`}));return}const v=r.headers["x-github-event"],h=r.headers["x-hub-signature-256"],c=r.headers["x-github-delivery"];t.log.debug(`${v} event received (id: ${c})`);let o=!1;const l=setTimeout(()=>{o=!0,n.statusCode=202,n.end(`still processing
`)},9e3).unref();try{const s=await UL(r);if(await e.verifyAndReceive({id:c,name:v,payload:s,signature:h}),clearTimeout(l),o)return;n.end(`ok
`)}catch(s){if(clearTimeout(l),o)return;const u=Array.from(s)[0].status;n.statusCode=typeof u!="undefined"?u:500,n.end(String(s))}}function VL(e,t){t.writeHead(404,{"content-type":"application/json"}),t.end(JSON.stringify({error:`Unknown route: ${e.method} ${e.url}`}))}function HL(e,{path:t="/api/github/webhooks",onUnhandledRequest:r=VL,log:n=zh()}={}){return GL.bind(null,e,{path:t,onUnhandledRequest:r,log:n})}class WL{constructor(t){if(!t||!t.secret)throw new Error("[@octokit/webhooks] options.secret required");const r={eventHandler:Hv(t),secret:t.secret,hooks:{},log:zh(t.log)};this.sign=kL.bind(null,t.secret),this.verify=BL.bind(null,t.secret),this.on=r.eventHandler.on,this.onAny=r.eventHandler.onAny,this.onError=r.eventHandler.onError,this.removeListener=r.eventHandler.removeListener,this.receive=r.eventHandler.receive,this.verifyAndReceive=FL.bind(null,r)}}var $L=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Webhooks:WL,createEventHandler:Hv,createNodeMiddleware:HL,emitterEventNames:zv}),qL=ft($L),XL=ft(u2);Object.defineProperty(Ch,"__esModule",{value:!0});var YL=tv,Vh=FR,Wv=Lo,KL=wv,$v=qL,qv=XL;function Xv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xv(Object(r),!0).forEach(function(n){ZL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hh(e){var t;if(typeof Symbol!="undefined"&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),t==null&&Symbol.iterator&&(t=e[Symbol.iterator])),t==null&&(t=e["@@asyncIterator"]),t==null&&(t=e["@@iterator"]),t==null)throw new TypeError("Object is not async iterable");return t.call(e)}function Yv(e){this.wrapped=e}function Xa(e){var t,r;function n(d,m){return new Promise(function(_,v){var h={key:d,arg:m,resolve:_,reject:v,next:null};r?r=r.next=h:(t=r=h,a(d,m))})}function a(d,m){try{var _=e[d](m),v=_.value,h=v instanceof Yv;Promise.resolve(h?v.wrapped:v).then(function(c){if(h){a(d==="return"?"return":"next",c);return}i(_.done?"return":"normal",c)},function(c){a("throw",c)})}catch(c){i("throw",c)}}function i(d,m){switch(d){case"return":t.resolve({value:m,done:!0});break;case"throw":t.reject(m);break;default:t.resolve({value:m,done:!1});break}t=t.next,t?a(t.key,t.arg):r=null}this._invoke=n,typeof e.return!="function"&&(this.return=void 0)}Xa.prototype[typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Xa.prototype.next=function(e){return this._invoke("next",e)},Xa.prototype.throw=function(e){return this._invoke("throw",e)},Xa.prototype.return=function(e){return this._invoke("return",e)};function Wh(e){return function(){return new Xa(e.apply(this,arguments))}}function oi(e){return new Yv(e)}function ZL(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const QL="12.0.7";function JL(e,t){return new $v.Webhooks({secret:t.secret,transform:async r=>{if(!("installation"in r.payload)||typeof r.payload.installation!="object"){const i=new e.constructor({authStrategy:KL.createUnauthenticatedAuth,auth:{reason:'"installation" key missing in webhook event payload'}});return Xt(Xt({},r),{},{octokit:i})}const n=r.payload.installation.id,a=await e.auth({type:"installation",installationId:n,factory(i){return new i.octokit.constructor(Xt(Xt({},i.octokitOptions),{},{authStrategy:Vh.createAppAuth},{auth:Xt(Xt({},i),{},{installationId:n})}))}});return Xt(Xt({},r),{},{octokit:a})}})}async function Kv(e,t){return e.octokit.auth({type:"installation",installationId:t,factory(r){const n=Xt(Xt({},r.octokitOptions),{},{authStrategy:Vh.createAppAuth},{auth:Xt(Xt({},r),{},{installationId:t})});return new r.octokit.constructor(n)}})}function eC(e){return Object.assign(tC.bind(null,e),{iterator:Zv.bind(null,e)})}async function tC(e,t){const r=Zv(e)[Symbol.asyncIterator]();let n=await r.next();for(;!n.done;)await t(n.value),n=await r.next()}function Zv(e){return{[Symbol.asyncIterator](){return Wh(function*(){const t=qv.composePaginateRest.iterator(e.octokit,"GET /app/installations");var r=!1,n=!1,a;try{for(var i=Hh(t),d;r=!(d=yield oi(i.next())).done;r=!1){const{data:m}=d.value;for(const _ of m)yield{octokit:yield oi(Kv(e,_.id)),installation:_}}}catch(m){n=!0,a=m}finally{try{r&&i.return!=null&&(yield oi(i.return()))}finally{if(n)throw a}}})()}}}function rC(e){return Object.assign(nC.bind(null,e),{iterator:Qv.bind(null,e)})}async function nC(e,t,r){const n=Qv(e,r?t:void 0)[Symbol.asyncIterator]();let a=await n.next();for(;!a.done;)r?await r(a.value):await t(a.value),a=await n.next()}function iC(e,t){return{[Symbol.asyncIterator](){return Wh(function*(){yield{octokit:yield oi(e.getInstallationOctokit(t))}})()}}}function Qv(e,t){return{[Symbol.asyncIterator](){return Wh(function*(){const r=t?iC(e,t.installationId):e.eachInstallation.iterator();var n=!1,a=!1,i;try{for(var d=Hh(r),m;n=!(m=yield oi(d.next())).done;n=!1){const{octokit:l}=m.value,s=qv.composePaginateRest.iterator(l,"GET /installation/repositories");var _=!1,v=!1,h;try{for(var c=Hh(s),o;_=!(o=yield oi(c.next())).done;_=!1){const{data:u}=o.value;for(const f of u)yield{octokit:l,repository:f}}}catch(u){v=!0,h=u}finally{try{_&&c.return!=null&&(yield oi(c.return()))}finally{if(v)throw h}}}}catch(l){a=!0,i=l}finally{try{n&&d.return!=null&&(yield oi(d.return()))}finally{if(a)throw i}}})()}}}function oC(e,t){t.writeHead(404,{"content-type":"application/json"}),t.end(JSON.stringify({error:`Unknown route: ${e.method} ${e.url}`}))}function Jv(){}function aC(e,t={}){const r=Object.assign({debug:Jv,info:Jv,warn:console.warn.bind(console),error:console.error.bind(console)},t.log),n=Xt(Xt({onUnhandledRequest:oC,pathPrefix:"/api/github"},t),{},{log:r}),a=$v.createNodeMiddleware(e.webhooks,{path:n.pathPrefix+"/webhooks",log:r,onUnhandledRequest:n.onUnhandledRequest}),i=Wv.createNodeMiddleware(e.oauth,{pathPrefix:n.pathPrefix+"/oauth",onUnhandledRequest:n.onUnhandledRequest});return sC.bind(null,n,{webhooksMiddleware:a,oauthMiddleware:i})}async function sC(e,{webhooksMiddleware:t,oauthMiddleware:r},n,a,i){const{pathname:d}=new URL(n.url,"http://localhost");return d===`${e.pathPrefix}/webhooks`?t(n,a,i):d.startsWith(`${e.pathPrefix}/oauth/`)?r(n,a,i):typeof i=="function"?i():e.onUnhandledRequest(n,a)}class ey{constructor(t){const r=t.Octokit||YL.Octokit,n=Object.assign({appId:t.appId,privateKey:t.privateKey},t.oauth?{clientId:t.oauth.clientId,clientSecret:t.oauth.clientSecret}:{});this.octokit=new r({authStrategy:Vh.createAppAuth,auth:n,log:t.log}),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},t.log),t.webhooks?this.webhooks=JL(this.octokit,t.webhooks):Object.defineProperty(this,"webhooks",{get(){throw new Error("[@octokit/app] webhooks option not set")}}),t.oauth?this.oauth=new Wv.OAuthApp(Xt(Xt({},t.oauth),{},{clientType:"github-app",Octokit:r})):Object.defineProperty(this,"oauth",{get(){throw new Error("[@octokit/app] oauth.clientId / oauth.clientSecret options are not set")}}),this.getInstallationOctokit=Kv.bind(null,this),this.eachInstallation=eC(this),this.eachRepository=rC(this)}static defaults(t){return class extends this{constructor(...n){super(Xt(Xt({},t),n[0]))}}}}ey.VERSION=QL;var uC=Ch.App=ey;Ch.createNodeMiddleware=aC;const lC="1.8.1",$h=nl.plugin(Y0,Oh,Q0,Lh).defaults({userAgent:`octokit.js/${lC}`,throttle:{onRateLimit:cC,onAbuseLimit:fC}});function cC(e,t,r){if(r.log.warn(`Request quota exhausted for request ${t.method} ${t.url}`),t.request.retryCount===0)return r.log.info(`Retrying after ${e} seconds!`),!0}function fC(e,t,r){if(r.log.warn(`Abuse detected for request ${t.method} ${t.url}`),t.request.retryCount===0)return r.log.info(`Retrying after ${e} seconds!`),!0}uC.defaults({Octokit:$h}),mL.defaults({Octokit:$h});var ty={},ll={};ll.byteLength=pC,ll.toByteArray=gC,ll.fromByteArray=yC;for(var yn=[],Gr=[],hC=typeof Uint8Array!="undefined"?Uint8Array:Array,qh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Io=0,dC=qh.length;Io<dC;++Io)yn[Io]=qh[Io],Gr[qh.charCodeAt(Io)]=Io;Gr["-".charCodeAt(0)]=62,Gr["_".charCodeAt(0)]=63;function ry(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function pC(e){var t=ry(e),r=t[0],n=t[1];return(r+n)*3/4-n}function _C(e,t,r){return(t+r)*3/4-r}function gC(e){var t,r=ry(e),n=r[0],a=r[1],i=new hC(_C(e,n,a)),d=0,m=a>0?n-4:n,_;for(_=0;_<m;_+=4)t=Gr[e.charCodeAt(_)]<<18|Gr[e.charCodeAt(_+1)]<<12|Gr[e.charCodeAt(_+2)]<<6|Gr[e.charCodeAt(_+3)],i[d++]=t>>16&255,i[d++]=t>>8&255,i[d++]=t&255;return a===2&&(t=Gr[e.charCodeAt(_)]<<2|Gr[e.charCodeAt(_+1)]>>4,i[d++]=t&255),a===1&&(t=Gr[e.charCodeAt(_)]<<10|Gr[e.charCodeAt(_+1)]<<4|Gr[e.charCodeAt(_+2)]>>2,i[d++]=t>>8&255,i[d++]=t&255),i}function mC(e){return yn[e>>18&63]+yn[e>>12&63]+yn[e>>6&63]+yn[e&63]}function vC(e,t,r){for(var n,a=[],i=t;i<r;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),a.push(mC(n));return a.join("")}function yC(e){for(var t,r=e.length,n=r%3,a=[],i=16383,d=0,m=r-n;d<m;d+=i)a.push(vC(e,d,d+i>m?m:d+i));return n===1?(t=e[r-1],a.push(yn[t>>2]+yn[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],a.push(yn[t>>10]+yn[t>>4&63]+yn[t<<2&63]+"=")),a.join("")}var Xh={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Xh.read=function(e,t,r,n,a){var i,d,m=a*8-n-1,_=(1<<m)-1,v=_>>1,h=-7,c=r?a-1:0,o=r?-1:1,l=e[t+c];for(c+=o,i=l&(1<<-h)-1,l>>=-h,h+=m;h>0;i=i*256+e[t+c],c+=o,h-=8);for(d=i&(1<<-h)-1,i>>=-h,h+=n;h>0;d=d*256+e[t+c],c+=o,h-=8);if(i===0)i=1-v;else{if(i===_)return d?NaN:(l?-1:1)*(1/0);d=d+Math.pow(2,n),i=i-v}return(l?-1:1)*d*Math.pow(2,i-n)},Xh.write=function(e,t,r,n,a,i){var d,m,_,v=i*8-a-1,h=(1<<v)-1,c=h>>1,o=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:i-1,s=n?1:-1,u=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(m=isNaN(t)?1:0,d=h):(d=Math.floor(Math.log(t)/Math.LN2),t*(_=Math.pow(2,-d))<1&&(d--,_*=2),d+c>=1?t+=o/_:t+=o*Math.pow(2,1-c),t*_>=2&&(d++,_/=2),d+c>=h?(m=0,d=h):d+c>=1?(m=(t*_-1)*Math.pow(2,a),d=d+c):(m=t*Math.pow(2,c-1)*Math.pow(2,a),d=0));a>=8;e[r+l]=m&255,l+=s,m/=256,a-=8);for(d=d<<a|m,v+=a;v>0;e[r+l]=d&255,l+=s,d/=256,v-=8);e[r+l-s]|=u*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=ll,r=Xh,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=m,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50;const a=2147483647;e.kMaxLength=a,m.TYPED_ARRAY_SUPPORT=i(),!m.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const U=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(U,C),U.foo()===42}catch{return!1}}Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(!!m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(!!m.isBuffer(this))return this.byteOffset}});function d(U){if(U>a)throw new RangeError('The value "'+U+'" is invalid for option "size"');const C=new Uint8Array(U);return Object.setPrototypeOf(C,m.prototype),C}function m(U,C,M){if(typeof U=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(U)}return _(U,C,M)}m.poolSize=8192;function _(U,C,M){if(typeof U=="string")return o(U,C);if(ArrayBuffer.isView(U))return s(U);if(U==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(De(U,ArrayBuffer)||U&&De(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(De(U,SharedArrayBuffer)||U&&De(U.buffer,SharedArrayBuffer)))return u(U,C,M);if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const z=U.valueOf&&U.valueOf();if(z!=null&&z!==U)return m.from(z,C,M);const V=f(U);if(V)return V;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return m.from(U[Symbol.toPrimitive]("string"),C,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}m.from=function(U,C,M){return _(U,C,M)},Object.setPrototypeOf(m.prototype,Uint8Array.prototype),Object.setPrototypeOf(m,Uint8Array);function v(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function h(U,C,M){return v(U),U<=0?d(U):C!==void 0?typeof M=="string"?d(U).fill(C,M):d(U).fill(C):d(U)}m.alloc=function(U,C,M){return h(U,C,M)};function c(U){return v(U),d(U<0?0:g(U)|0)}m.allocUnsafe=function(U){return c(U)},m.allocUnsafeSlow=function(U){return c(U)};function o(U,C){if((typeof C!="string"||C==="")&&(C="utf8"),!m.isEncoding(C))throw new TypeError("Unknown encoding: "+C);const M=b(U,C)|0;let z=d(M);const V=z.write(U,C);return V!==M&&(z=z.slice(0,V)),z}function l(U){const C=U.length<0?0:g(U.length)|0,M=d(C);for(let z=0;z<C;z+=1)M[z]=U[z]&255;return M}function s(U){if(De(U,Uint8Array)){const C=new Uint8Array(U);return u(C.buffer,C.byteOffset,C.byteLength)}return l(U)}function u(U,C,M){if(C<0||U.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<C+(M||0))throw new RangeError('"length" is outside of buffer bounds');let z;return C===void 0&&M===void 0?z=new Uint8Array(U):M===void 0?z=new Uint8Array(U,C):z=new Uint8Array(U,C,M),Object.setPrototypeOf(z,m.prototype),z}function f(U){if(m.isBuffer(U)){const C=g(U.length)|0,M=d(C);return M.length===0||U.copy(M,0,0,C),M}if(U.length!==void 0)return typeof U.length!="number"||He(U.length)?d(0):l(U);if(U.type==="Buffer"&&Array.isArray(U.data))return l(U.data)}function g(U){if(U>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return U|0}function y(U){return+U!=U&&(U=0),m.alloc(+U)}m.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==m.prototype},m.compare=function(C,M){if(De(C,Uint8Array)&&(C=m.from(C,C.offset,C.byteLength)),De(M,Uint8Array)&&(M=m.from(M,M.offset,M.byteLength)),!m.isBuffer(C)||!m.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===M)return 0;let z=C.length,V=M.length;for(let j=0,Z=Math.min(z,V);j<Z;++j)if(C[j]!==M[j]){z=C[j],V=M[j];break}return z<V?-1:V<z?1:0},m.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(C,M){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return m.alloc(0);let z;if(M===void 0)for(M=0,z=0;z<C.length;++z)M+=C[z].length;const V=m.allocUnsafe(M);let j=0;for(z=0;z<C.length;++z){let Z=C[z];if(De(Z,Uint8Array))j+Z.length>V.length?(m.isBuffer(Z)||(Z=m.from(Z)),Z.copy(V,j)):Uint8Array.prototype.set.call(V,Z,j);else if(m.isBuffer(Z))Z.copy(V,j);else throw new TypeError('"list" argument must be an Array of Buffers');j+=Z.length}return V};function b(U,C){if(m.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||De(U,ArrayBuffer))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);const M=U.length,z=arguments.length>2&&arguments[2]===!0;if(!z&&M===0)return 0;let V=!1;for(;;)switch(C){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return Ce(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M*2;case"hex":return M>>>1;case"base64":return Me(U).length;default:if(V)return z?-1:Ce(U).length;C=(""+C).toLowerCase(),V=!0}}m.byteLength=b;function E(U,C,M){let z=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0,C>>>=0,M<=C))return"";for(U||(U="utf8");;)switch(U){case"hex":return J(this,C,M);case"utf8":case"utf-8":return $(this,C,M);case"ascii":return X(this,C,M);case"latin1":case"binary":return Y(this,C,M);case"base64":return N(this,C,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,C,M);default:if(z)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),z=!0}}m.prototype._isBuffer=!0;function x(U,C,M){const z=U[C];U[C]=U[M],U[M]=z}m.prototype.swap16=function(){const C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<C;M+=2)x(this,M,M+1);return this},m.prototype.swap32=function(){const C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<C;M+=4)x(this,M,M+3),x(this,M+1,M+2);return this},m.prototype.swap64=function(){const C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<C;M+=8)x(this,M,M+7),x(this,M+1,M+6),x(this,M+2,M+5),x(this,M+3,M+4);return this},m.prototype.toString=function(){const C=this.length;return C===0?"":arguments.length===0?$(this,0,C):E.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(C){if(!m.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:m.compare(this,C)===0},m.prototype.inspect=function(){let C="";const M=e.INSPECT_MAX_BYTES;return C=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(C+=" ... "),"<Buffer "+C+">"},n&&(m.prototype[n]=m.prototype.inspect),m.prototype.compare=function(C,M,z,V,j){if(De(C,Uint8Array)&&(C=m.from(C,C.offset,C.byteLength)),!m.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(M===void 0&&(M=0),z===void 0&&(z=C?C.length:0),V===void 0&&(V=0),j===void 0&&(j=this.length),M<0||z>C.length||V<0||j>this.length)throw new RangeError("out of range index");if(V>=j&&M>=z)return 0;if(V>=j)return-1;if(M>=z)return 1;if(M>>>=0,z>>>=0,V>>>=0,j>>>=0,this===C)return 0;let Z=j-V,se=z-M;const fe=Math.min(Z,se),ge=this.slice(V,j),Pe=C.slice(M,z);for(let Be=0;Be<fe;++Be)if(ge[Be]!==Pe[Be]){Z=ge[Be],se=Pe[Be];break}return Z<se?-1:se<Z?1:0};function w(U,C,M,z,V){if(U.length===0)return-1;if(typeof M=="string"?(z=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,He(M)&&(M=V?0:U.length-1),M<0&&(M=U.length+M),M>=U.length){if(V)return-1;M=U.length-1}else if(M<0)if(V)M=0;else return-1;if(typeof C=="string"&&(C=m.from(C,z)),m.isBuffer(C))return C.length===0?-1:S(U,C,M,z,V);if(typeof C=="number")return C=C&255,typeof Uint8Array.prototype.indexOf=="function"?V?Uint8Array.prototype.indexOf.call(U,C,M):Uint8Array.prototype.lastIndexOf.call(U,C,M):S(U,[C],M,z,V);throw new TypeError("val must be string, number or Buffer")}function S(U,C,M,z,V){let j=1,Z=U.length,se=C.length;if(z!==void 0&&(z=String(z).toLowerCase(),z==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if(U.length<2||C.length<2)return-1;j=2,Z/=2,se/=2,M/=2}function fe(Pe,Be){return j===1?Pe[Be]:Pe.readUInt16BE(Be*j)}let ge;if(V){let Pe=-1;for(ge=M;ge<Z;ge++)if(fe(U,ge)===fe(C,Pe===-1?0:ge-Pe)){if(Pe===-1&&(Pe=ge),ge-Pe+1===se)return Pe*j}else Pe!==-1&&(ge-=ge-Pe),Pe=-1}else for(M+se>Z&&(M=Z-se),ge=M;ge>=0;ge--){let Pe=!0;for(let Be=0;Be<se;Be++)if(fe(U,ge+Be)!==fe(C,Be)){Pe=!1;break}if(Pe)return ge}return-1}m.prototype.includes=function(C,M,z){return this.indexOf(C,M,z)!==-1},m.prototype.indexOf=function(C,M,z){return w(this,C,M,z,!0)},m.prototype.lastIndexOf=function(C,M,z){return w(this,C,M,z,!1)};function O(U,C,M,z){M=Number(M)||0;const V=U.length-M;z?(z=Number(z),z>V&&(z=V)):z=V;const j=C.length;z>j/2&&(z=j/2);let Z;for(Z=0;Z<z;++Z){const se=parseInt(C.substr(Z*2,2),16);if(He(se))return Z;U[M+Z]=se}return Z}function A(U,C,M,z){return Ye(Ce(C,U.length-M),U,M,z)}function L(U,C,M,z){return Ye(Ie(C),U,M,z)}function k(U,C,M,z){return Ye(Me(C),U,M,z)}function D(U,C,M,z){return Ye(je(C,U.length-M),U,M,z)}m.prototype.write=function(C,M,z,V){if(M===void 0)V="utf8",z=this.length,M=0;else if(z===void 0&&typeof M=="string")V=M,z=this.length,M=0;else if(isFinite(M))M=M>>>0,isFinite(z)?(z=z>>>0,V===void 0&&(V="utf8")):(V=z,z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const j=this.length-M;if((z===void 0||z>j)&&(z=j),C.length>0&&(z<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");V||(V="utf8");let Z=!1;for(;;)switch(V){case"hex":return O(this,C,M,z);case"utf8":case"utf-8":return A(this,C,M,z);case"ascii":case"latin1":case"binary":return L(this,C,M,z);case"base64":return k(this,C,M,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,C,M,z);default:if(Z)throw new TypeError("Unknown encoding: "+V);V=(""+V).toLowerCase(),Z=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(U,C,M){return C===0&&M===U.length?t.fromByteArray(U):t.fromByteArray(U.slice(C,M))}function $(U,C,M){M=Math.min(U.length,M);const z=[];let V=C;for(;V<M;){const j=U[V];let Z=null,se=j>239?4:j>223?3:j>191?2:1;if(V+se<=M){let fe,ge,Pe,Be;switch(se){case 1:j<128&&(Z=j);break;case 2:fe=U[V+1],(fe&192)===128&&(Be=(j&31)<<6|fe&63,Be>127&&(Z=Be));break;case 3:fe=U[V+1],ge=U[V+2],(fe&192)===128&&(ge&192)===128&&(Be=(j&15)<<12|(fe&63)<<6|ge&63,Be>2047&&(Be<55296||Be>57343)&&(Z=Be));break;case 4:fe=U[V+1],ge=U[V+2],Pe=U[V+3],(fe&192)===128&&(ge&192)===128&&(Pe&192)===128&&(Be=(j&15)<<18|(fe&63)<<12|(ge&63)<<6|Pe&63,Be>65535&&Be<1114112&&(Z=Be))}}Z===null?(Z=65533,se=1):Z>65535&&(Z-=65536,z.push(Z>>>10&1023|55296),Z=56320|Z&1023),z.push(Z),V+=se}return q(z)}const H=4096;function q(U){const C=U.length;if(C<=H)return String.fromCharCode.apply(String,U);let M="",z=0;for(;z<C;)M+=String.fromCharCode.apply(String,U.slice(z,z+=H));return M}function X(U,C,M){let z="";M=Math.min(U.length,M);for(let V=C;V<M;++V)z+=String.fromCharCode(U[V]&127);return z}function Y(U,C,M){let z="";M=Math.min(U.length,M);for(let V=C;V<M;++V)z+=String.fromCharCode(U[V]);return z}function J(U,C,M){const z=U.length;(!C||C<0)&&(C=0),(!M||M<0||M>z)&&(M=z);let V="";for(let j=C;j<M;++j)V+=tt[U[j]];return V}function ee(U,C,M){const z=U.slice(C,M);let V="";for(let j=0;j<z.length-1;j+=2)V+=String.fromCharCode(z[j]+z[j+1]*256);return V}m.prototype.slice=function(C,M){const z=this.length;C=~~C,M=M===void 0?z:~~M,C<0?(C+=z,C<0&&(C=0)):C>z&&(C=z),M<0?(M+=z,M<0&&(M=0)):M>z&&(M=z),M<C&&(M=C);const V=this.subarray(C,M);return Object.setPrototypeOf(V,m.prototype),V};function te(U,C,M){if(U%1!==0||U<0)throw new RangeError("offset is not uint");if(U+C>M)throw new RangeError("Trying to access beyond buffer length")}m.prototype.readUintLE=m.prototype.readUIntLE=function(C,M,z){C=C>>>0,M=M>>>0,z||te(C,M,this.length);let V=this[C],j=1,Z=0;for(;++Z<M&&(j*=256);)V+=this[C+Z]*j;return V},m.prototype.readUintBE=m.prototype.readUIntBE=function(C,M,z){C=C>>>0,M=M>>>0,z||te(C,M,this.length);let V=this[C+--M],j=1;for(;M>0&&(j*=256);)V+=this[C+--M]*j;return V},m.prototype.readUint8=m.prototype.readUInt8=function(C,M){return C=C>>>0,M||te(C,1,this.length),this[C]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(C,M){return C=C>>>0,M||te(C,2,this.length),this[C]|this[C+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(C,M){return C=C>>>0,M||te(C,2,this.length),this[C]<<8|this[C+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(C,M){return C=C>>>0,M||te(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(C,M){return C=C>>>0,M||te(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},m.prototype.readBigUInt64LE=Re(function(C){C=C>>>0,he(C,"offset");const M=this[C],z=this[C+7];(M===void 0||z===void 0)&&Ae(C,this.length-8);const V=M+this[++C]*2**8+this[++C]*2**16+this[++C]*2**24,j=this[++C]+this[++C]*2**8+this[++C]*2**16+z*2**24;return BigInt(V)+(BigInt(j)<<BigInt(32))}),m.prototype.readBigUInt64BE=Re(function(C){C=C>>>0,he(C,"offset");const M=this[C],z=this[C+7];(M===void 0||z===void 0)&&Ae(C,this.length-8);const V=M*2**24+this[++C]*2**16+this[++C]*2**8+this[++C],j=this[++C]*2**24+this[++C]*2**16+this[++C]*2**8+z;return(BigInt(V)<<BigInt(32))+BigInt(j)}),m.prototype.readIntLE=function(C,M,z){C=C>>>0,M=M>>>0,z||te(C,M,this.length);let V=this[C],j=1,Z=0;for(;++Z<M&&(j*=256);)V+=this[C+Z]*j;return j*=128,V>=j&&(V-=Math.pow(2,8*M)),V},m.prototype.readIntBE=function(C,M,z){C=C>>>0,M=M>>>0,z||te(C,M,this.length);let V=M,j=1,Z=this[C+--V];for(;V>0&&(j*=256);)Z+=this[C+--V]*j;return j*=128,Z>=j&&(Z-=Math.pow(2,8*M)),Z},m.prototype.readInt8=function(C,M){return C=C>>>0,M||te(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},m.prototype.readInt16LE=function(C,M){C=C>>>0,M||te(C,2,this.length);const z=this[C]|this[C+1]<<8;return z&32768?z|4294901760:z},m.prototype.readInt16BE=function(C,M){C=C>>>0,M||te(C,2,this.length);const z=this[C+1]|this[C]<<8;return z&32768?z|4294901760:z},m.prototype.readInt32LE=function(C,M){return C=C>>>0,M||te(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},m.prototype.readInt32BE=function(C,M){return C=C>>>0,M||te(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},m.prototype.readBigInt64LE=Re(function(C){C=C>>>0,he(C,"offset");const M=this[C],z=this[C+7];(M===void 0||z===void 0)&&Ae(C,this.length-8);const V=this[C+4]+this[C+5]*2**8+this[C+6]*2**16+(z<<24);return(BigInt(V)<<BigInt(32))+BigInt(M+this[++C]*2**8+this[++C]*2**16+this[++C]*2**24)}),m.prototype.readBigInt64BE=Re(function(C){C=C>>>0,he(C,"offset");const M=this[C],z=this[C+7];(M===void 0||z===void 0)&&Ae(C,this.length-8);const V=(M<<24)+this[++C]*2**16+this[++C]*2**8+this[++C];return(BigInt(V)<<BigInt(32))+BigInt(this[++C]*2**24+this[++C]*2**16+this[++C]*2**8+z)}),m.prototype.readFloatLE=function(C,M){return C=C>>>0,M||te(C,4,this.length),r.read(this,C,!0,23,4)},m.prototype.readFloatBE=function(C,M){return C=C>>>0,M||te(C,4,this.length),r.read(this,C,!1,23,4)},m.prototype.readDoubleLE=function(C,M){return C=C>>>0,M||te(C,8,this.length),r.read(this,C,!0,52,8)},m.prototype.readDoubleBE=function(C,M){return C=C>>>0,M||te(C,8,this.length),r.read(this,C,!1,52,8)};function ne(U,C,M,z,V,j){if(!m.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>V||C<j)throw new RangeError('"value" argument is out of bounds');if(M+z>U.length)throw new RangeError("Index out of range")}m.prototype.writeUintLE=m.prototype.writeUIntLE=function(C,M,z,V){if(C=+C,M=M>>>0,z=z>>>0,!V){const se=Math.pow(2,8*z)-1;ne(this,C,M,z,se,0)}let j=1,Z=0;for(this[M]=C&255;++Z<z&&(j*=256);)this[M+Z]=C/j&255;return M+z},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(C,M,z,V){if(C=+C,M=M>>>0,z=z>>>0,!V){const se=Math.pow(2,8*z)-1;ne(this,C,M,z,se,0)}let j=z-1,Z=1;for(this[M+j]=C&255;--j>=0&&(Z*=256);)this[M+j]=C/Z&255;return M+z},m.prototype.writeUint8=m.prototype.writeUInt8=function(C,M,z){return C=+C,M=M>>>0,z||ne(this,C,M,1,255,0),this[M]=C&255,M+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(C,M,z){return C=+C,M=M>>>0,z||ne(this,C,M,2,65535,0),this[M]=C&255,this[M+1]=C>>>8,M+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(C,M,z){return C=+C,M=M>>>0,z||ne(this,C,M,2,65535,0),this[M]=C>>>8,this[M+1]=C&255,M+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(C,M,z){return C=+C,M=M>>>0,z||ne(this,C,M,4,4294967295,0),this[M+3]=C>>>24,this[M+2]=C>>>16,this[M+1]=C>>>8,this[M]=C&255,M+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(C,M,z){return C=+C,M=M>>>0,z||ne(this,C,M,4,4294967295,0),this[M]=C>>>24,this[M+1]=C>>>16,this[M+2]=C>>>8,this[M+3]=C&255,M+4};function ce(U,C,M,z,V){Oe(C,z,V,U,M,7);let j=Number(C&BigInt(4294967295));U[M++]=j,j=j>>8,U[M++]=j,j=j>>8,U[M++]=j,j=j>>8,U[M++]=j;let Z=Number(C>>BigInt(32)&BigInt(4294967295));return U[M++]=Z,Z=Z>>8,U[M++]=Z,Z=Z>>8,U[M++]=Z,Z=Z>>8,U[M++]=Z,M}function pe(U,C,M,z,V){Oe(C,z,V,U,M,7);let j=Number(C&BigInt(4294967295));U[M+7]=j,j=j>>8,U[M+6]=j,j=j>>8,U[M+5]=j,j=j>>8,U[M+4]=j;let Z=Number(C>>BigInt(32)&BigInt(4294967295));return U[M+3]=Z,Z=Z>>8,U[M+2]=Z,Z=Z>>8,U[M+1]=Z,Z=Z>>8,U[M]=Z,M+8}m.prototype.writeBigUInt64LE=Re(function(C,M=0){return ce(this,C,M,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeBigUInt64BE=Re(function(C,M=0){return pe(this,C,M,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeIntLE=function(C,M,z,V){if(C=+C,M=M>>>0,!V){const fe=Math.pow(2,8*z-1);ne(this,C,M,z,fe-1,-fe)}let j=0,Z=1,se=0;for(this[M]=C&255;++j<z&&(Z*=256);)C<0&&se===0&&this[M+j-1]!==0&&(se=1),this[M+j]=(C/Z>>0)-se&255;return M+z},m.prototype.writeIntBE=function(C,M,z,V){if(C=+C,M=M>>>0,!V){const fe=Math.pow(2,8*z-1);ne(this,C,M,z,fe-1,-fe)}let j=z-1,Z=1,se=0;for(this[M+j]=C&255;--j>=0&&(Z*=256);)C<0&&se===0&&this[M+j+1]!==0&&(se=1),this[M+j]=(C/Z>>0)-se&255;return M+z},m.prototype.writeInt8=function(C,M,z){return C=+C,M=M>>>0,z||ne(this,C,M,1,127,-128),C<0&&(C=255+C+1),this[M]=C&255,M+1},m.prototype.writeInt16LE=function(C,M,z){return C=+C,M=M>>>0,z||ne(this,C,M,2,32767,-32768),this[M]=C&255,this[M+1]=C>>>8,M+2},m.prototype.writeInt16BE=function(C,M,z){return C=+C,M=M>>>0,z||ne(this,C,M,2,32767,-32768),this[M]=C>>>8,this[M+1]=C&255,M+2},m.prototype.writeInt32LE=function(C,M,z){return C=+C,M=M>>>0,z||ne(this,C,M,4,2147483647,-2147483648),this[M]=C&255,this[M+1]=C>>>8,this[M+2]=C>>>16,this[M+3]=C>>>24,M+4},m.prototype.writeInt32BE=function(C,M,z){return C=+C,M=M>>>0,z||ne(this,C,M,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[M]=C>>>24,this[M+1]=C>>>16,this[M+2]=C>>>8,this[M+3]=C&255,M+4},m.prototype.writeBigInt64LE=Re(function(C,M=0){return ce(this,C,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),m.prototype.writeBigInt64BE=Re(function(C,M=0){return pe(this,C,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function me(U,C,M,z,V,j){if(M+z>U.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function re(U,C,M,z,V){return C=+C,M=M>>>0,V||me(U,C,M,4),r.write(U,C,M,z,23,4),M+4}m.prototype.writeFloatLE=function(C,M,z){return re(this,C,M,!0,z)},m.prototype.writeFloatBE=function(C,M,z){return re(this,C,M,!1,z)};function ye(U,C,M,z,V){return C=+C,M=M>>>0,V||me(U,C,M,8),r.write(U,C,M,z,52,8),M+8}m.prototype.writeDoubleLE=function(C,M,z){return ye(this,C,M,!0,z)},m.prototype.writeDoubleBE=function(C,M,z){return ye(this,C,M,!1,z)},m.prototype.copy=function(C,M,z,V){if(!m.isBuffer(C))throw new TypeError("argument should be a Buffer");if(z||(z=0),!V&&V!==0&&(V=this.length),M>=C.length&&(M=C.length),M||(M=0),V>0&&V<z&&(V=z),V===z||C.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("sourceEnd out of bounds");V>this.length&&(V=this.length),C.length-M<V-z&&(V=C.length-M+z);const j=V-z;return this===C&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(M,z,V):Uint8Array.prototype.set.call(C,this.subarray(z,V),M),j},m.prototype.fill=function(C,M,z,V){if(typeof C=="string"){if(typeof M=="string"?(V=M,M=0,z=this.length):typeof z=="string"&&(V=z,z=this.length),V!==void 0&&typeof V!="string")throw new TypeError("encoding must be a string");if(typeof V=="string"&&!m.isEncoding(V))throw new TypeError("Unknown encoding: "+V);if(C.length===1){const Z=C.charCodeAt(0);(V==="utf8"&&Z<128||V==="latin1")&&(C=Z)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(M<0||this.length<M||this.length<z)throw new RangeError("Out of range index");if(z<=M)return this;M=M>>>0,z=z===void 0?this.length:z>>>0,C||(C=0);let j;if(typeof C=="number")for(j=M;j<z;++j)this[j]=C;else{const Z=m.isBuffer(C)?C:m.from(C,V),se=Z.length;if(se===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(j=0;j<z-M;++j)this[j+M]=Z[j%se]}return this};const we={};function de(U,C,M){we[U]=class extends M{constructor(){super();Object.defineProperty(this,"message",{value:C.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${U}]`,this.stack,delete this.name}get code(){return U}set code(V){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:V,writable:!0})}toString(){return`${this.name} [${U}]: ${this.message}`}}}de("ERR_BUFFER_OUT_OF_BOUNDS",function(U){return U?`${U} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),de("ERR_INVALID_ARG_TYPE",function(U,C){return`The "${U}" argument must be of type number. Received type ${typeof C}`},TypeError),de("ERR_OUT_OF_RANGE",function(U,C,M){let z=`The value of "${U}" is out of range.`,V=M;return Number.isInteger(M)&&Math.abs(M)>2**32?V=Se(String(M)):typeof M=="bigint"&&(V=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(V=Se(V)),V+="n"),z+=` It must be ${C}. Received ${V}`,z},RangeError);function Se(U){let C="",M=U.length;const z=U[0]==="-"?1:0;for(;M>=z+4;M-=3)C=`_${U.slice(M-3,M)}${C}`;return`${U.slice(0,M)}${C}`}function xe(U,C,M){he(C,"offset"),(U[C]===void 0||U[C+M]===void 0)&&Ae(C,U.length-(M+1))}function Oe(U,C,M,z,V,j){if(U>M||U<C){const Z=typeof C=="bigint"?"n":"";let se;throw j>3?C===0||C===BigInt(0)?se=`>= 0${Z} and < 2${Z} ** ${(j+1)*8}${Z}`:se=`>= -(2${Z} ** ${(j+1)*8-1}${Z}) and < 2 ** ${(j+1)*8-1}${Z}`:se=`>= ${C}${Z} and <= ${M}${Z}`,new we.ERR_OUT_OF_RANGE("value",se,U)}xe(z,V,j)}function he(U,C){if(typeof U!="number")throw new we.ERR_INVALID_ARG_TYPE(C,"number",U)}function Ae(U,C,M){throw Math.floor(U)!==U?(he(U,M),new we.ERR_OUT_OF_RANGE(M||"offset","an integer",U)):C<0?new we.ERR_BUFFER_OUT_OF_BOUNDS:new we.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${C}`,U)}const Le=/[^+/0-9A-Za-z-_]/g;function Ee(U){if(U=U.split("=")[0],U=U.trim().replace(Le,""),U.length<2)return"";for(;U.length%4!==0;)U=U+"=";return U}function Ce(U,C){C=C||1/0;let M;const z=U.length;let V=null;const j=[];for(let Z=0;Z<z;++Z){if(M=U.charCodeAt(Z),M>55295&&M<57344){if(!V){if(M>56319){(C-=3)>-1&&j.push(239,191,189);continue}else if(Z+1===z){(C-=3)>-1&&j.push(239,191,189);continue}V=M;continue}if(M<56320){(C-=3)>-1&&j.push(239,191,189),V=M;continue}M=(V-55296<<10|M-56320)+65536}else V&&(C-=3)>-1&&j.push(239,191,189);if(V=null,M<128){if((C-=1)<0)break;j.push(M)}else if(M<2048){if((C-=2)<0)break;j.push(M>>6|192,M&63|128)}else if(M<65536){if((C-=3)<0)break;j.push(M>>12|224,M>>6&63|128,M&63|128)}else if(M<1114112){if((C-=4)<0)break;j.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw new Error("Invalid code point")}return j}function Ie(U){const C=[];for(let M=0;M<U.length;++M)C.push(U.charCodeAt(M)&255);return C}function je(U,C){let M,z,V;const j=[];for(let Z=0;Z<U.length&&!((C-=2)<0);++Z)M=U.charCodeAt(Z),z=M>>8,V=M%256,j.push(V),j.push(z);return j}function Me(U){return t.toByteArray(Ee(U))}function Ye(U,C,M,z){let V;for(V=0;V<z&&!(V+M>=C.length||V>=U.length);++V)C[V+M]=U[V];return V}function De(U,C){return U instanceof C||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===C.name}function He(U){return U!==U}const tt=function(){const U="0123456789abcdef",C=new Array(256);for(let M=0;M<16;++M){const z=M*16;for(let V=0;V<16;++V)C[z+V]=U[M]+U[V]}return C}();function Re(U){return typeof BigInt=="undefined"?Ke:U}function Ke(){throw new Error("BigInt not supported")}})(ty);const bC=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],EC=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],TC=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],xC=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],ny=(e,t,r)=>{let n=e;return typeof t=="string"||Array.isArray(t)?n=e.toLocaleString(t,r):(t===!0||r!==void 0)&&(n=e.toLocaleString(void 0,r)),n};function iy(e,t){if(!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);t=Qe({bits:!1,binary:!1},t);const r=t.bits?t.binary?xC:TC:t.binary?EC:bC;if(t.signed&&e===0)return` 0 ${r[0]}`;const n=e<0,a=n?"-":t.signed?"+":"";n&&(e=-e);let i;if(t.minimumFractionDigits!==void 0&&(i={minimumFractionDigits:t.minimumFractionDigits}),t.maximumFractionDigits!==void 0&&(i=Qe({maximumFractionDigits:t.maximumFractionDigits},i)),e<1){const v=ny(e,t.locale,i);return a+v+" "+r[0]}const d=Math.min(Math.floor(t.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),r.length-1);e/=(t.binary?1024:1e3)**d,i||(e=e.toPrecision(3));const m=ny(Number(e),t.locale,i),_=r[d];return a+m+" "+_}const cl=new $h;async function wC(e,t,r){return(await cl.rest.git.getRef({owner:e,repo:t,ref:`heads/${r}`})).data.object.sha}async function AC(e,t,r,n=["metrics.csv"]){const i=(await cl.rest.git.getRef({owner:e,repo:t,ref:`metrics/${r}`})).data.object.sha,d=await cl.rest.git.getTree({owner:e,repo:t,tree_sha:i});return d.data.tree.map(m=>{console.log(m.path,iy(m.size))}),await Promise.all(n.map(async m=>{const _=d.data.tree.find(o=>o.path==m),v=_==null?void 0:_.sha;if(!v)return console.warn(`${m} not found in tree object`),{content:"",size:0};const h=await cl.rest.git.getBlob({owner:e,repo:t,file_sha:v}),c=ty.Buffer.from(h.data.content,"base64").toString();return c?(console.log(c),{content:c,size:h.data.size}):(console.warn(`${m} not found in blob object`),{content:"",size:0})}))}/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var Yh=function(e,t){return Yh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},Yh(e,t)};function et(e,t){Yh(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Ya(e){return typeof e=="function"}var oy=!1,Vr={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;""+t.stack}oy=e},get useDeprecatedSynchronousErrorHandling(){return oy}};function Mo(e){setTimeout(function(){throw e})}var fl={closed:!0,next:function(e){},error:function(e){if(Vr.useDeprecatedSynchronousErrorHandling)throw e;Mo(e)},complete:function(){}},en=Array.isArray||function(e){return e&&typeof e.length=="number"};function ay(e){return e!==null&&typeof e=="object"}function sy(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(t,r){return r+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}sy.prototype=Object.create(Error.prototype);var Ka=sy,Ht=function(){function e(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return e.prototype.unsubscribe=function(){var t=!1,r;if(!this.closed){var n=this,a=n._parent,i=n._parents,d=n._unsubscribe,m=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var _=-1,v=i?i.length:0;a;)a.remove(this),a=++_<v&&i[_]||null;if(Ya(d))try{d.call(this)}catch(c){t=!0,r=c instanceof Ka?uy(c.errors):[c]}if(en(m))for(_=-1,v=m.length;++_<v;){var h=m[_];if(ay(h))try{h.unsubscribe()}catch(c){t=!0,r=r||[],c instanceof Ka?r=r.concat(uy(c.errors)):r.push(c)}}if(t)throw new Ka(r)}},e.prototype.add=function(t){var r=t;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){var n=r;r=new e,r._subscriptions=[n]}break;default:{if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}}if(r._addParent(this)){var a=this._subscriptions;a?a.push(r):this._subscriptions=[r]}return r},e.prototype.remove=function(t){var r=this._subscriptions;if(r){var n=r.indexOf(t);n!==-1&&r.splice(n,1)}},e.prototype._addParent=function(t){var r=this,n=r._parent,a=r._parents;if(n===t)return!1;if(n)if(a){if(a.indexOf(t)===-1)return a.push(t),!0}else return this._parents=[t],!0;else return this._parent=t,!0;return!1},e.EMPTY=function(t){return t.closed=!0,t}(new e),e}();function uy(e){return e.reduce(function(t,r){return t.concat(r instanceof Ka?r.errors:r)},[])}var hl=typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),Ir=function(e){et(t,e);function t(r,n,a){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=fl;break;case 1:if(!r){i.destination=fl;break}if(typeof r=="object"){r instanceof t?(i.syncErrorThrowable=r.syncErrorThrowable,i.destination=r,r.add(i)):(i.syncErrorThrowable=!0,i.destination=new ly(i,r));break}default:i.syncErrorThrowable=!0,i.destination=new ly(i,r,n,a);break}return i}return t.prototype[hl]=function(){return this},t.create=function(r,n,a){var i=new t(r,n,a);return i.syncErrorThrowable=!1,i},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var r=this,n=r._parent,a=r._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=n,this._parents=a,this},t}(Ht),ly=function(e){et(t,e);function t(r,n,a,i){var d=e.call(this)||this;d._parentSubscriber=r;var m,_=d;return Ya(n)?m=n:n&&(m=n.next,a=n.error,i=n.complete,n!==fl&&(_=Object.create(n),Ya(_.unsubscribe)&&d.add(_.unsubscribe.bind(_)),_.unsubscribe=d.unsubscribe.bind(d))),d._context=_,d._next=m,d._error=a,d._complete=i,d}return t.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!Vr.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},t.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,a=Vr.useDeprecatedSynchronousErrorHandling;if(this._error)!a||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)a?(n.syncErrorValue=r,n.syncErrorThrown=!0):Mo(r),this.unsubscribe();else{if(this.unsubscribe(),a)throw r;Mo(r)}}},t.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var a=function(){return r._complete.call(r._context)};!Vr.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(a),this.unsubscribe()):(this.__tryOrSetError(n,a),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(a){if(this.unsubscribe(),Vr.useDeprecatedSynchronousErrorHandling)throw a;Mo(a)}},t.prototype.__tryOrSetError=function(r,n,a){if(!Vr.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,a)}catch(i){return Vr.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=i,r.syncErrorThrown=!0,!0):(Mo(i),!0)}return!1},t.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},t}(Ir);function Kh(e){for(;e;){var t=e,r=t.closed,n=t.destination,a=t.isStopped;if(r||a)return!1;n&&n instanceof Ir?e=n:e=null}return!0}function SC(e,t,r){if(e){if(e instanceof Ir)return e;if(e[hl])return e[hl]()}return!e&&!t&&!r?new Ir(fl):new Ir(e,t,r)}var Do=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Zh(){}function PC(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return cy(e)}function cy(e){return e?e.length===1?e[0]:function(r){return e.reduce(function(n,a){return a(n)},r)}:Zh}var Ze=function(){function e(t){this._isScalar=!1,t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var a=this.operator,i=SC(t,r,n);if(a?i.add(a.call(i,this.source)):i.add(this.source||Vr.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),Vr.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){Vr.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),Kh(t)?t.error(r):console.warn(r)}},e.prototype.forEach=function(t,r){var n=this;return r=fy(r),new r(function(a,i){var d;d=n.subscribe(function(m){try{t(m)}catch(_){i(_),d&&d.unsubscribe()}},i,a)})},e.prototype._subscribe=function(t){var r=this.source;return r&&r.subscribe(t)},e.prototype[Do]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.length===0?this:cy(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=fy(t),new t(function(n,a){var i;r.subscribe(function(d){return i=d},function(d){return a(d)},function(){return n(i)})})},e.create=function(t){return new e(t)},e}();function fy(e){if(e||(e=Vr.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function hy(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}hy.prototype=Object.create(Error.prototype);var ai=hy,dy=function(e){et(t,e);function t(r,n){var a=e.call(this)||this;return a.subject=r,a.subscriber=n,a.closed=!1,a}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var a=n.indexOf(this.subscriber);a!==-1&&n.splice(a,1)}}},t}(Ht),py=function(e){et(t,e);function t(r){var n=e.call(this,r)||this;return n.destination=r,n}return t}(Ir),Za=function(e){et(t,e);function t(){var r=e.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype[hl]=function(){return new py(this)},t.prototype.lift=function(r){var n=new _y(this,this);return n.operator=r,n},t.prototype.next=function(r){if(this.closed)throw new ai;if(!this.isStopped)for(var n=this.observers,a=n.length,i=n.slice(),d=0;d<a;d++)i[d].next(r)},t.prototype.error=function(r){if(this.closed)throw new ai;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,a=n.length,i=n.slice(),d=0;d<a;d++)i[d].error(r);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new ai;this.isStopped=!0;for(var r=this.observers,n=r.length,a=r.slice(),i=0;i<n;i++)a[i].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(r){if(this.closed)throw new ai;return e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){if(this.closed)throw new ai;return this.hasError?(r.error(this.thrownError),Ht.EMPTY):this.isStopped?(r.complete(),Ht.EMPTY):(this.observers.push(r),new dy(this,r))},t.prototype.asObservable=function(){var r=new Ze;return r.source=this,r},t.create=function(r,n){return new _y(r,n)},t}(Ze),_y=function(e){et(t,e);function t(r,n){var a=e.call(this)||this;return a.destination=r,a.source=n,a}return t.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},t.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},t.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},t.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):Ht.EMPTY},t}(Za);function OC(){return function(t){return t.lift(new RC(t))}}var RC=function(){function e(t){this.connectable=t}return e.prototype.call=function(t,r){var n=this.connectable;n._refCount++;var a=new LC(t,n),i=r.subscribe(a);return a.closed||(a.connection=n.connect()),i},e}(),LC=function(e){et(t,e);function t(r,n){var a=e.call(this,r)||this;return a.connectable=n,a}return t.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var a=this.connection,i=r._connection;this.connection=null,i&&(!a||i===a)&&i.unsubscribe()},t}(Ir),gy=function(e){et(t,e);function t(r,n){var a=e.call(this)||this;return a.source=r,a.subjectFactory=n,a._refCount=0,a._isComplete=!1,a}return t.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},t.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new Ht,r.add(this.source.subscribe(new CC(this.getSubject(),this))),r.closed?(this._connection=null,r=Ht.EMPTY):this._connection=r),r},t.prototype.refCount=function(){return OC()(this)},t}(Ze),Qa=gy.prototype;Qa._subscribe,Qa._isComplete,Qa.getSubject,Qa.connect,Qa.refCount;var CC=function(e){et(t,e);function t(r,n){var a=e.call(this,r)||this;return a.connectable=n,a}return t.prototype._error=function(r){this._unsubscribe(),e.prototype._error.call(this,r)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},t}(py),IC=function(e){et(t,e);function t(r,n,a){var i=e.call(this)||this;return i.key=r,i.groupSubject=n,i.refCountSubscription=a,i}return t.prototype._subscribe=function(r){var n=new Ht,a=this,i=a.refCountSubscription,d=a.groupSubject;return i&&!i.closed&&n.add(new MC(i)),n.add(d.subscribe(r)),n},t}(Ze),MC=function(e){et(t,e);function t(r){var n=e.call(this)||this;return n.parent=r,r.count++,n}return t.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(e.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},t}(Ht),DC=function(e){et(t,e);function t(r){var n=e.call(this)||this;return n._value=r,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(r){var n=e.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ai;return this._value},t.prototype.next=function(r){e.prototype.next.call(this,this._value=r)},t}(Za),NC=function(e){et(t,e);function t(r,n){return e.call(this)||this}return t.prototype.schedule=function(r,n){return this},t}(Ht),Ja=function(e){et(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.scheduler=r,a.work=n,a.pending=!1,a}return t.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var a=this.id,i=this.scheduler;return a!=null&&(this.id=this.recycleAsyncId(i,a,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this},t.prototype.requestAsyncId=function(r,n,a){return a===void 0&&(a=0),setInterval(r.flush.bind(r,this),a)},t.prototype.recycleAsyncId=function(r,n,a){if(a===void 0&&(a=0),a!==null&&this.delay===a&&this.pending===!1)return n;clearInterval(n)},t.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var a=this._execute(r,n);if(a)return a;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(r,n){var a=!1,i=void 0;try{this.work(r)}catch(d){a=!0,i=!!d&&d||new Error(d)}if(a)return this.unsubscribe(),i},t.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,a=n.actions,i=a.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,i!==-1&&a.splice(i,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},t}(NC),kC=function(e){et(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.scheduler=r,a.work=n,a}return t.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?e.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},t.prototype.execute=function(r,n){return n>0||this.closed?e.prototype.execute.call(this,r,n):this._execute(r,n)},t.prototype.requestAsyncId=function(r,n,a){return a===void 0&&(a=0),a!==null&&a>0||a===null&&this.delay>0?e.prototype.requestAsyncId.call(this,r,n,a):r.flush(this)},t}(Ja),Qh=function(){function e(t,r){r===void 0&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(t,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,t).schedule(n,r)},e.now=function(){return Date.now()},e}(),es=function(e){et(t,e);function t(r,n){n===void 0&&(n=Qh.now);var a=e.call(this,r,function(){return t.delegate&&t.delegate!==a?t.delegate.now():n()})||this;return a.actions=[],a.active=!1,a.scheduled=void 0,a}return t.prototype.schedule=function(r,n,a){return n===void 0&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(r,n,a):e.prototype.schedule.call(this,r,n,a)},t.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var a;this.active=!0;do if(a=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,a){for(;r=n.shift();)r.unsubscribe();throw a}},t}(Qh),BC=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(es),my=new BC(kC),Ci=new Ze(function(e){return e.complete()});function dl(e){return e?FC(e):Ci}function FC(e){return new Ze(function(t){return e.schedule(function(){return t.complete()})})}function si(e){return e&&typeof e.schedule=="function"}var vy=function(e){return function(t){for(var r=0,n=e.length;r<n&&!t.closed;r++)t.next(e[r]);t.closed||t.complete()}};function Ii(e,t){return t?new Ze(function(r){var n=new Ht,a=0;return n.add(t.schedule(function(){if(a===e.length){r.complete();return}r.next(e[a++]),r.closed||n.add(this.schedule())})),n}):new Ze(vy(e))}function jC(e){var t=new Ze(function(r){r.next(e),r.complete()});return t._isScalar=!0,t.value=e,t}function Jh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];switch(si(r)?e.pop():r=void 0,e.length){case 0:return dl(r);case 1:return r?Ii(e,r):jC(e[0]);default:return Ii(e,r)}}function yy(e,t){return t?new Ze(function(r){return t.schedule(zC,0,{error:e,subscriber:r})}):new Ze(function(r){return r.error(e)})}function zC(e){var t=e.error,r=e.subscriber;r.error(t)}var pl=function(){function e(t,r,n){this.kind=t,this.value=r,this.error=n,this.hasValue=t==="N"}return e.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},e.prototype.do=function(t,r,n){var a=this.kind;switch(a){case"N":return t&&t(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},e.prototype.accept=function(t,r,n){return t&&typeof t.next=="function"?this.observe(t):this.do(t,r,n)},e.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return Jh(this.value);case"E":return yy(this.error);case"C":return dl()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return typeof t!="undefined"?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),UC=function(e){et(t,e);function t(r,n,a){a===void 0&&(a=0);var i=e.call(this,r)||this;return i.scheduler=n,i.delay=a,i}return t.dispatch=function(r){var n=r.notification,a=r.destination;n.observe(a),this.unsubscribe()},t.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(t.dispatch,this.delay,new GC(r,this.destination)))},t.prototype._next=function(r){this.scheduleMessage(pl.createNext(r))},t.prototype._error=function(r){this.scheduleMessage(pl.createError(r)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(pl.createComplete()),this.unsubscribe()},t}(Ir),GC=function(){function e(t,r){this.notification=t,this.destination=r}return e}(),VC=function(e){et(t,e);function t(r,n,a){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=a,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=r<1?1:r,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return t.prototype.nextInfiniteTimeWindow=function(r){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift(),e.prototype.next.call(this,r)},t.prototype.nextTimeWindow=function(r){this._events.push(new HC(this._getNow(),r)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,r)},t.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,a=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,d=a.length,m;if(this.closed)throw new ai;if(this.isStopped||this.hasError?m=Ht.EMPTY:(this.observers.push(r),m=new dy(this,r)),i&&r.add(r=new UC(r,i)),n)for(var _=0;_<d&&!r.closed;_++)r.next(a[_]);else for(var _=0;_<d&&!r.closed;_++)r.next(a[_].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),m},t.prototype._getNow=function(){return(this.scheduler||my).now()},t.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,a=this._windowTime,i=this._events,d=i.length,m=0;m<d&&!(r-i[m].time<a);)m++;return d>n&&(m=Math.max(m,d-n)),m>0&&i.splice(0,m),i},t}(Za),HC=function(){function e(t,r){this.time=t,this.value=r}return e}(),ts=function(e){et(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return t.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),Ht.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),Ht.EMPTY):e.prototype._subscribe.call(this,r)},t.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},t.prototype.error=function(r){this.hasCompleted||e.prototype.error.call(this,r)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(Za),WC=1,ed={};function $C(e){var t=ed[e];t&&t()}var by={setImmediate:function(e){var t=WC++;return ed[t]=e,Promise.resolve().then(function(){return $C(t)}),t},clearImmediate:function(e){delete ed[e]}},qC=function(e){et(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.scheduler=r,a.work=n,a}return t.prototype.requestAsyncId=function(r,n,a){return a===void 0&&(a=0),a!==null&&a>0?e.prototype.requestAsyncId.call(this,r,n,a):(r.actions.push(this),r.scheduled||(r.scheduled=by.setImmediate(r.flush.bind(r,null))))},t.prototype.recycleAsyncId=function(r,n,a){if(a===void 0&&(a=0),a!==null&&a>0||a===null&&this.delay>0)return e.prototype.recycleAsyncId.call(this,r,n,a);r.actions.length===0&&(by.clearImmediate(n),r.scheduled=void 0)},t}(Ja),XC=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,a,i=-1,d=n.length;r=r||n.shift();do if(a=r.execute(r.state,r.delay))break;while(++i<d&&(r=n.shift()));if(this.active=!1,a){for(;++i<d&&(r=n.shift());)r.unsubscribe();throw a}},t}(es),YC=new XC(qC),_l=new es(Ja),KC=function(e){et(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.scheduler=r,a.work=n,a}return t.prototype.requestAsyncId=function(r,n,a){return a===void 0&&(a=0),a!==null&&a>0?e.prototype.requestAsyncId.call(this,r,n,a):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},t.prototype.recycleAsyncId=function(r,n,a){if(a===void 0&&(a=0),a!==null&&a>0||a===null&&this.delay>0)return e.prototype.recycleAsyncId.call(this,r,n,a);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},t}(Ja),ZC=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,a,i=-1,d=n.length;r=r||n.shift();do if(a=r.execute(r.state,r.delay))break;while(++i<d&&(r=n.shift()));if(this.active=!1,a){for(;++i<d&&(r=n.shift());)r.unsubscribe();throw a}},t}(es),QC=new ZC(KC),JC=function(e){et(t,e);function t(r,n){r===void 0&&(r=Ey),n===void 0&&(n=Number.POSITIVE_INFINITY);var a=e.call(this,r,function(){return a.frame})||this;return a.maxFrames=n,a.frame=0,a.index=-1,a}return t.prototype.flush=function(){for(var r=this,n=r.actions,a=r.maxFrames,i,d;(d=n[0])&&d.delay<=a&&(n.shift(),this.frame=d.delay,!(i=d.execute(d.state,d.delay))););if(i){for(;d=n.shift();)d.unsubscribe();throw i}},t.frameTimeFactor=10,t}(es),Ey=function(e){et(t,e);function t(r,n,a){a===void 0&&(a=r.index+=1);var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.index=a,i.active=!0,i.index=r.index=a,i}return t.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var a=new t(this.scheduler,this.work);return this.add(a),a.schedule(r,n)},t.prototype.requestAsyncId=function(r,n,a){a===void 0&&(a=0),this.delay=r.frame+a;var i=r.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(r,n,a){},t.prototype._execute=function(r,n){if(this.active===!0)return e.prototype._execute.call(this,r,n)},t.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},t}(Ja);function gl(e){return e}function eI(e){return!!e&&(e instanceof Ze||typeof e.lift=="function"&&typeof e.subscribe=="function")}function Ty(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Ty.prototype=Object.create(Error.prototype);var tI=Ty;function xy(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}xy.prototype=Object.create(Error.prototype);var rI=xy;function wy(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}wy.prototype=Object.create(Error.prototype);var nI=wy;function No(e,t){return function(n){if(typeof e!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new iI(e,t))}}var iI=function(){function e(t,r){this.project=t,this.thisArg=r}return e.prototype.call=function(t,r){return r.subscribe(new oI(t,this.project,this.thisArg))},e}(),oI=function(e){et(t,e);function t(r,n,a){var i=e.call(this,r)||this;return i.project=n,i.count=0,i.thisArg=a||i,i}return t.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(a){this.destination.error(a);return}this.destination.next(n)},t}(Ir);function Ay(e,t,r){if(t)if(si(t))r=t;else return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return Ay(e,r).apply(void 0,n).pipe(No(function(i){return en(i)?t.apply(void 0,i):t(i)}))};return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var i=this,d,m={context:i,subject:d,callbackFunc:e,scheduler:r};return new Ze(function(_){if(r){var h={args:n,subscriber:_,params:m};return r.schedule(aI,0,h)}else{if(!d){d=new ts;var v=function(){for(var c=[],o=0;o<arguments.length;o++)c[o]=arguments[o];d.next(c.length<=1?c[0]:c),d.complete()};try{e.apply(i,n.concat([v]))}catch(c){Kh(d)?d.error(c):console.warn(c)}}return d.subscribe(_)}})}}function aI(e){var t=this,r=e.args,n=e.subscriber,a=e.params,i=a.callbackFunc,d=a.context,m=a.scheduler,_=a.subject;if(!_){_=a.subject=new ts;var v=function(){for(var h=[],c=0;c<arguments.length;c++)h[c]=arguments[c];var o=h.length<=1?h[0]:h;t.add(m.schedule(sI,0,{value:o,subject:_}))};try{i.apply(d,r.concat([v]))}catch(h){_.error(h)}}this.add(_.subscribe(n))}function sI(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function Sy(e,t,r){if(t)if(si(t))r=t;else return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return Sy(e,r).apply(void 0,n).pipe(No(function(i){return en(i)?t.apply(void 0,i):t(i)}))};return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var i={subject:void 0,args:n,callbackFunc:e,scheduler:r,context:this};return new Ze(function(d){var m=i.context,_=i.subject;if(r)return r.schedule(uI,0,{params:i,subscriber:d,context:m});if(!_){_=i.subject=new ts;var v=function(){for(var h=[],c=0;c<arguments.length;c++)h[c]=arguments[c];var o=h.shift();if(o){_.error(o);return}_.next(h.length<=1?h[0]:h),_.complete()};try{e.apply(m,n.concat([v]))}catch(h){Kh(_)?_.error(h):console.warn(h)}}return _.subscribe(d)})}}function uI(e){var t=this,r=e.params,n=e.subscriber,a=e.context,i=r.callbackFunc,d=r.args,m=r.scheduler,_=r.subject;if(!_){_=r.subject=new ts;var v=function(){for(var h=[],c=0;c<arguments.length;c++)h[c]=arguments[c];var o=h.shift();if(o)t.add(m.schedule(Py,0,{err:o,subject:_}));else{var l=h.length<=1?h[0]:h;t.add(m.schedule(lI,0,{value:l,subject:_}))}};try{i.apply(a,d.concat([v]))}catch(h){this.add(m.schedule(Py,0,{err:h,subject:_}))}}this.add(_.subscribe(n))}function lI(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function Py(e){var t=e.err,r=e.subject;r.error(t)}var rs=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.notifyNext=function(r,n,a,i,d){this.destination.next(n)},t.prototype.notifyError=function(r,n){this.destination.error(r)},t.prototype.notifyComplete=function(r){this.destination.complete()},t}(Ir),Oy=function(e){et(t,e);function t(r,n,a){var i=e.call(this)||this;return i.parent=r,i.outerValue=n,i.outerIndex=a,i.index=0,i}return t.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},t.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(Ir),Ry=function(e){return function(t){return e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,Mo),t}};function cI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ui=cI(),Ly=function(e){return function(t){var r=e[ui]();do{var n=r.next();if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}while(!0);return typeof r.return=="function"&&t.add(function(){r.return&&r.return()}),t}},Cy=function(e){return function(t){var r=e[Do]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(t)}},Iy=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function My(e){return!!e&&typeof e.subscribe!="function"&&typeof e.then=="function"}var Dy=function(e){if(e instanceof Ze)return function(n){if(e._isScalar){n.next(e.value),n.complete();return}else return e.subscribe(n)};if(!!e&&typeof e[Do]=="function")return Cy(e);if(Iy(e))return vy(e);if(My(e))return Ry(e);if(!!e&&typeof e[ui]=="function")return Ly(e);var t=ay(e)?"an invalid object":"'"+e+"'",r="You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function ns(e,t,r,n,a){if(a===void 0&&(a=new Oy(e,r,n)),!a.closed)return Dy(t)(a)}var Ny={};function fI(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=null,n=null;return si(e[e.length-1])&&(n=e.pop()),typeof e[e.length-1]=="function"&&(r=e.pop()),e.length===1&&en(e[0])&&(e=e[0]),Ii(e,n).lift(new hI(r))}var hI=function(){function e(t){this.resultSelector=t}return e.prototype.call=function(t,r){return r.subscribe(new dI(t,this.resultSelector))},e}(),dI=function(e){et(t,e);function t(r,n){var a=e.call(this,r)||this;return a.resultSelector=n,a.active=0,a.values=[],a.observables=[],a}return t.prototype._next=function(r){this.values.push(Ny),this.observables.push(r)},t.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var a=0;a<n;a++){var i=r[a];this.add(ns(this,i,i,a))}}},t.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},t.prototype.notifyNext=function(r,n,a,i,d){var m=this.values,_=m[a],v=this.toRespond?_===Ny?--this.toRespond:this.toRespond:0;m[a]=n,v===0&&(this.resultSelector?this._tryResultSelector(m):this.destination.next(m.slice()))},t.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(a){this.destination.error(a);return}this.destination.next(n)},t}(rs);function pI(e){return e&&typeof e[Do]=="function"}function _I(e){return e&&typeof e[ui]=="function"}function gI(e,t){return t?new Ze(function(r){var n=new Ht;return n.add(t.schedule(function(){return e.then(function(a){n.add(t.schedule(function(){r.next(a),n.add(t.schedule(function(){return r.complete()}))}))},function(a){n.add(t.schedule(function(){return r.error(a)}))})})),n}):new Ze(Ry(e))}function mI(e,t){if(!e)throw new Error("Iterable cannot be null");return t?new Ze(function(r){var n=new Ht,a;return n.add(function(){a&&typeof a.return=="function"&&a.return()}),n.add(t.schedule(function(){a=e[ui](),n.add(t.schedule(function(){if(!r.closed){var i,d;try{var m=a.next();i=m.value,d=m.done}catch(_){r.error(_);return}d?r.complete():(r.next(i),this.schedule())}}))})),n}):new Ze(Ly(e))}function vI(e,t){return t?new Ze(function(r){var n=new Ht;return n.add(t.schedule(function(){var a=e[Do]();n.add(a.subscribe({next:function(i){n.add(t.schedule(function(){return r.next(i)}))},error:function(i){n.add(t.schedule(function(){return r.error(i)}))},complete:function(){n.add(t.schedule(function(){return r.complete()}))}}))})),n}):new Ze(Cy(e))}function is(e,t){if(!t)return e instanceof Ze?e:new Ze(Dy(e));if(e!=null){if(pI(e))return vI(e,t);if(My(e))return gI(e,t);if(Iy(e))return Ii(e,t);if(_I(e)||typeof e=="string")return mI(e,t)}throw new TypeError((e!==null&&typeof e||e)+" is not observable")}function ky(e,t,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof t=="function"?function(n){return n.pipe(ky(function(a,i){return is(e(a,i)).pipe(No(function(d,m){return t(a,d,i,m)}))},r))}:(typeof t=="number"&&(r=t),function(n){return n.lift(new yI(e,r))})}var yI=function(){function e(t,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=r}return e.prototype.call=function(t,r){return r.subscribe(new bI(t,this.project,this.concurrent))},e}(),bI=function(e){et(t,e);function t(r,n,a){a===void 0&&(a=Number.POSITIVE_INFINITY);var i=e.call(this,r)||this;return i.project=n,i.concurrent=a,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return t.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},t.prototype._tryNext=function(r){var n,a=this.index++;try{n=this.project(r,a)}catch(i){this.destination.error(i);return}this.active++,this._innerSub(n,r,a)},t.prototype._innerSub=function(r,n,a){var i=new Oy(this,void 0,void 0),d=this.destination;d.add(i),ns(this,r,n,a,i)},t.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(r,n,a,i,d){this.destination.next(n)},t.prototype.notifyComplete=function(r){var n=this.buffer;this.remove(r),this.active--,n.length>0?this._next(n.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},t}(rs);function By(e){return e===void 0&&(e=Number.POSITIVE_INFINITY),ky(gl,e)}function EI(){return By(1)}function TI(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return EI()(Jh.apply(void 0,e))}function Fy(e){return new Ze(function(t){var r;try{r=e()}catch(a){t.error(a);return}var n=r?is(r):dl();return n.subscribe(t)})}function jy(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r;return typeof e[e.length-1]=="function"&&(r=e.pop()),e.length===1&&en(e[0])&&(e=e[0]),e.length===0?Ci:r?jy(e).pipe(No(function(n){return r.apply(void 0,n)})):new Ze(function(n){return new xI(n,e)})}var xI=function(e){et(t,e);function t(r,n){var a=e.call(this,r)||this;a.sources=n,a.completed=0,a.haveValues=0;var i=n.length;a.values=new Array(i);for(var d=0;d<i;d++){var m=n[d],_=ns(a,m,null,d);_&&a.add(_)}return a}return t.prototype.notifyNext=function(r,n,a,i,d){this.values[a]=n,d._hasValue||(d._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(r){var n=this,a=n.destination,i=n.haveValues,d=n.values,m=d.length;if(!r._hasValue){a.complete();return}this.completed++,this.completed===m&&(i===m&&a.next(d),a.complete())},t}(rs);function zy(e,t,r,n){return Ya(r)&&(n=r,r=void 0),n?zy(e,t,r).pipe(No(function(a){return en(a)?n.apply(void 0,a):n(a)})):new Ze(function(a){function i(d){arguments.length>1?a.next(Array.prototype.slice.call(arguments)):a.next(d)}Uy(e,t,i,a,r)})}function Uy(e,t,r,n,a){var i;if(SI(e)){var d=e;e.addEventListener(t,r,a),i=function(){return d.removeEventListener(t,r,a)}}else if(AI(e)){var m=e;e.on(t,r),i=function(){return m.off(t,r)}}else if(wI(e)){var _=e;e.addListener(t,r),i=function(){return _.removeListener(t,r)}}else if(e&&e.length)for(var v=0,h=e.length;v<h;v++)Uy(e[v],t,r,n,a);else throw new TypeError("Invalid event target");n.add(i)}function wI(e){return e&&typeof e.addListener=="function"&&typeof e.removeListener=="function"}function AI(e){return e&&typeof e.on=="function"&&typeof e.off=="function"}function SI(e){return e&&typeof e.addEventListener=="function"&&typeof e.removeEventListener=="function"}function Gy(e,t,r){return r?Gy(e,t).pipe(No(function(n){return en(n)?r.apply(void 0,n):r(n)})):new Ze(function(n){var a=function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];return n.next(d.length===1?d[0]:d)},i;try{i=e(a)}catch(d){n.error(d);return}if(!!Ya(t))return function(){return t(a,i)}})}function PI(e,t,r,n,a){var i,d;if(arguments.length==1){var m=e;d=m.initialState,t=m.condition,r=m.iterate,i=m.resultSelector||gl,a=m.scheduler}else n===void 0||si(n)?(d=e,i=gl,a=n):(d=e,i=n);return new Ze(function(_){var v=d;if(a)return a.schedule(OI,0,{subscriber:_,iterate:r,condition:t,resultSelector:i,state:v});do{if(t){var h=void 0;try{h=t(v)}catch(o){_.error(o);return}if(!h){_.complete();break}}var c=void 0;try{c=i(v)}catch(o){_.error(o);return}if(_.next(c),_.closed)break;try{v=r(v)}catch(o){_.error(o);return}}while(!0)})}function OI(e){var t=e.subscriber,r=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(i){t.error(i);return}else e.needIterate=!0;if(r){var n=void 0;try{n=r(e.state)}catch(i){t.error(i);return}if(!n){t.complete();return}if(t.closed)return}var a;try{a=e.resultSelector(e.state)}catch(i){t.error(i);return}if(!t.closed&&(t.next(a),!t.closed))return this.schedule(e)}}function RI(e,t,r){return t===void 0&&(t=Ci),r===void 0&&(r=Ci),Fy(function(){return e()?t:r})}function td(e){return!en(e)&&e-parseFloat(e)+1>=0}function LI(e,t){return e===void 0&&(e=0),t===void 0&&(t=_l),(!td(e)||e<0)&&(e=0),(!t||typeof t.schedule!="function")&&(t=_l),new Ze(function(r){return r.add(t.schedule(CI,e,{subscriber:r,counter:0,period:e})),r})}function CI(e){var t=e.subscriber,r=e.counter,n=e.period;t.next(r),this.schedule({subscriber:t,counter:r+1,period:n},n)}function II(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return si(a)?(n=e.pop(),e.length>1&&typeof e[e.length-1]=="number"&&(r=e.pop())):typeof a=="number"&&(r=e.pop()),n===null&&e.length===1&&e[0]instanceof Ze?e[0]:By(r)(Ii(e,n))}var Vy=new Ze(Zh);function MI(){return Vy}function rd(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===0)return Ci;var r=e[0],n=e.slice(1);return e.length===1&&en(r)?rd.apply(void 0,r):new Ze(function(a){var i=function(){return a.add(rd.apply(void 0,n).subscribe(a))};return is(r).subscribe({next:function(d){a.next(d)},error:i,complete:i})})}function DI(e,t){return t?new Ze(function(r){var n=Object.keys(e),a=new Ht;return a.add(t.schedule(NI,0,{keys:n,index:0,subscriber:r,subscription:a,obj:e})),a}):new Ze(function(r){for(var n=Object.keys(e),a=0;a<n.length&&!r.closed;a++){var i=n[a];e.hasOwnProperty(i)&&r.next([i,e[i]])}r.complete()})}function NI(e){var t=e.keys,r=e.index,n=e.subscriber,a=e.subscription,i=e.obj;if(!n.closed)if(r<t.length){var d=t[r];n.next([d,i[d]]),a.add(this.schedule({keys:t,index:r+1,subscriber:n,subscription:a,obj:i}))}else n.complete()}function kI(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===1)if(en(e[0]))e=e[0];else return e[0];return Ii(e,void 0).lift(new BI)}var BI=function(){function e(){}return e.prototype.call=function(t,r){return r.subscribe(new FI(t))},e}(),FI=function(e){et(t,e);function t(r){var n=e.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return t.prototype._next=function(r){this.observables.push(r)},t.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var a=0;a<n&&!this.hasFirst;a++){var i=r[a],d=ns(this,i,i,a);this.subscriptions&&this.subscriptions.push(d),this.add(d)}this.observables=null}},t.prototype.notifyNext=function(r,n,a,i,d){if(!this.hasFirst){this.hasFirst=!0;for(var m=0;m<this.subscriptions.length;m++)if(m!==a){var _=this.subscriptions[m];_.unsubscribe(),this.remove(_)}this.subscriptions=null}this.destination.next(n)},t}(rs);function jI(e,t,r){return e===void 0&&(e=0),new Ze(function(n){t===void 0&&(t=e,e=0);var a=0,i=e;if(r)return r.schedule(zI,0,{index:a,count:t,start:e,subscriber:n});do{if(a++>=t){n.complete();break}if(n.next(i++),n.closed)break}while(!0)})}function zI(e){var t=e.start,r=e.index,n=e.count,a=e.subscriber;if(r>=n){a.complete();return}a.next(t),!a.closed&&(e.index=r+1,e.start=t+1,this.schedule(e))}function UI(e,t,r){e===void 0&&(e=0);var n=-1;return td(t)?n=Number(t)<1&&1||Number(t):si(t)&&(r=t),si(r)||(r=_l),new Ze(function(a){var i=td(e)?e:+e-r.now();return r.schedule(GI,i,{index:0,period:n,subscriber:a})})}function GI(e){var t=e.index,r=e.period,n=e.subscriber;if(n.next(t),!n.closed){if(r===-1)return n.complete();e.index=t+1,this.schedule(e,r)}}function VI(e,t){return new Ze(function(r){var n;try{n=e()}catch(m){r.error(m);return}var a;try{a=t(n)}catch(m){r.error(m);return}var i=a?is(a):Ci,d=i.subscribe(r);return function(){d.unsubscribe(),n&&n.unsubscribe()}})}function HI(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return typeof r=="function"&&e.pop(),Ii(e,void 0).lift(new WI(r))}var WI=function(){function e(t){this.resultSelector=t}return e.prototype.call=function(t,r){return r.subscribe(new $I(t,this.resultSelector))},e}(),$I=function(e){et(t,e);function t(r,n,a){a===void 0&&(a=Object.create(null));var i=e.call(this,r)||this;return i.iterators=[],i.active=0,i.resultSelector=typeof n=="function"?n:null,i.values=a,i}return t.prototype._next=function(r){var n=this.iterators;en(r)?n.push(new XI(r)):typeof r[ui]=="function"?n.push(new qI(r[ui]())):n.push(new YI(this.destination,this,r))},t.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var a=0;a<n;a++){var i=r[a];if(i.stillUnsubscribed){var d=this.destination;d.add(i.subscribe(i,a))}else this.active--}},t.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},t.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,a=this.destination,i=0;i<n;i++){var d=r[i];if(typeof d.hasValue=="function"&&!d.hasValue())return}for(var m=!1,_=[],i=0;i<n;i++){var d=r[i],v=d.next();if(d.hasCompleted()&&(m=!0),v.done){a.complete();return}_.push(v.value)}this.resultSelector?this._tryresultSelector(_):a.next(_),m&&a.complete()},t.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(a){this.destination.error(a);return}this.destination.next(n)},t}(Ir),qI=function(){function e(t){this.iterator=t,this.nextResult=t.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},e.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},e}(),XI=function(){function e(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return e.prototype[ui]=function(){return this},e.prototype.next=function(t){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),YI=function(e){et(t,e);function t(r,n,a){var i=e.call(this,r)||this;return i.parent=n,i.observable=a,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return t.prototype[ui]=function(){return this},t.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(r,n,a,i,d){this.buffer.push(n),this.parent.checkIterators()},t.prototype.subscribe=function(r,n){return ns(this,this.observable,this,n)},t}(rs),KI=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Observable:Ze,ConnectableObservable:gy,GroupedObservable:IC,observable:Do,Subject:Za,BehaviorSubject:DC,ReplaySubject:VC,AsyncSubject:ts,asapScheduler:YC,asyncScheduler:_l,queueScheduler:my,animationFrameScheduler:QC,VirtualTimeScheduler:JC,VirtualAction:Ey,Scheduler:Qh,Subscription:Ht,Subscriber:Ir,Notification:pl,pipe:PC,noop:Zh,identity:gl,isObservable:eI,ArgumentOutOfRangeError:tI,EmptyError:rI,ObjectUnsubscribedError:ai,UnsubscriptionError:Ka,TimeoutError:nI,bindCallback:Ay,bindNodeCallback:Sy,combineLatest:fI,concat:TI,defer:Fy,empty:dl,forkJoin:jy,from:is,fromEvent:zy,fromEventPattern:Gy,generate:PI,iif:RI,interval:LI,merge:II,never:MI,of:Jh,onErrorResumeNext:rd,pairs:DI,race:kI,range:jI,throwError:yy,timer:UI,using:VI,zip:HI,EMPTY:Ci,NEVER:Vy,config:Vr}),ZI=ft(KI),ml=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(n,a,i){r.o(n,a)||Object.defineProperty(n,a,{enumerable:!0,get:i})},r.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,a){if(1&a&&(n=r(n)),8&a||4&a&&typeof n=="object"&&n&&n.__esModule)return n;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&a&&typeof n!="string")for(var d in n)r.d(i,d,function(m){return n[m]}.bind(null,d));return i},r.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(a,"a",a),a},r.o=function(n,a){return Object.prototype.hasOwnProperty.call(n,a)},r.p="",r(r.s=33)}([function(e,t,r){e.exports=function(n){var a={};function i(d){if(a[d])return a[d].exports;var m=a[d]={i:d,l:!1,exports:{}};return n[d].call(m.exports,m,m.exports,i),m.l=!0,m.exports}return i.m=n,i.c=a,i.d=function(d,m,_){i.o(d,m)||Object.defineProperty(d,m,{enumerable:!0,get:_})},i.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},i.t=function(d,m){if(1&m&&(d=i(d)),8&m||4&m&&typeof d=="object"&&d&&d.__esModule)return d;var _=Object.create(null);if(i.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:d}),2&m&&typeof d!="string")for(var v in d)i.d(_,v,function(h){return d[h]}.bind(null,v));return _},i.n=function(d){var m=d&&d.__esModule?function(){return d.default}:function(){return d};return i.d(m,"a",m),m},i.o=function(d,m){return Object.prototype.hasOwnProperty.call(d,m)},i.p="",i(i.s=79)}([function(n,a,i){var d,m=this&&this.__spreadArrays||function(){for(var v=0,h=0,c=arguments.length;h<c;h++)v+=arguments[h].length;var o=Array(v),l=0;for(h=0;h<c;h++)for(var s=arguments[h],u=0,f=s.length;u<f;u++,l++)o[l]=s[u];return o},_=i(3);(function(v){var h,c=2;v.logVerbosity=function(x){return x!==void 0&&(c=Math.max(-1,x)),c},function(x){x[x.Debug=3]="Debug",x[x.Info=2]="Info",x[x.Warning=1]="Warning",x[x.Error=0]="Error"}(h=v.LogLevel||(v.LogLevel={}));var o=function(x,w){if(!x)throw new EvalError(w)},l=function(x,w){};function s(x){for(var w=[],S=1;S<arguments.length;S++)w[S-1]=arguments[S];x>c||console.log.apply(console,m(["["+x+"]"],w))}function u(x){var w=x+"-start";v.assert(performance.getEntriesByName(x).length===0,"expected mark identifier to not already exists, given "+x),v.assert(performance.getEntriesByName(w).length===0,"expected mark identifier to not already exists, given "+w),performance.mark(w)}function f(x,w,S){S===void 0&&(S=0);var O=x+"-start",A=x+"-end";v.assert(performance.getEntriesByName(x).length===0,"expected mark identifier to not already exists, given "+x),v.assert(performance.getEntriesByName(A).length===0,"expected mark identifier to not already exists, given "+A),performance.mark(A),performance.measure(x,O,A);var L=performance.getEntriesByName(x)[0];performance.clearMarks(O),performance.clearMarks(A),performance.clearMeasures(x);var k=w===void 0||w.length===0?0:2,D=Math.max(k,S-x.length-(w?w.length:0)-1),N=E(L.duration);s(h.Debug,""+x+" ".repeat(D)+(w||"")+" | "+N)}v.assert=o,v.assertions=function(x){return x!==void 0&&(v.assert=x?o:l),v.assert!==l},v.log=s,v.logIf=function(x,w){for(var S=[],O=2;O<arguments.length;O++)S[O-2]=arguments[O];x&&s.apply(void 0,m([w],S))},v.logPerformanceStart=u,v.logPerformanceStartIf=function(x,w){x&&u(w)},v.logPerformanceStop=f,v.logPerformanceStopIf=function(x,w,S,O){O===void 0&&(O=0),x&&f(w,S,O)},v.rand=function(x,w){return x===void 0&&(x=0),w===void 0&&(w=1),Math.random()*(w-x)+x},v.isPowerOfTwo=function(x){return Number.isInteger(x)&&Number.isInteger(Math.log2(x))},v.upperPowerOfTwo=function(x){return--x,x|=x>>1,x|=x>>2,x|=x>>4,x|=x>>8,x|=x>>16,++x};var g=["","Ki","Mi","Gi","Ti","Pi","Ei","Zi","Yi"];v.prettyPrintBytes=function(x){var w=x>0?Math.floor(Math.log(x)/Math.log(1024)):0,S=x/Math.pow(1024,w);return""+(w>0?S.toFixed(3):S)+g[w]+"B"};var y=["ms","ns","\u03BCs","ms","s"],b=[0,1e6,1e3,1,.001];function E(x){var w=x>0?Math.max(1,Math.floor(Math.log(10*x)/Math.log(1e3))+3):0;return w=_.clamp(w,0,4),""+(x*b[w]).toFixed(3)+y[w]}v.prettyPrintMilliseconds=E,v.bitInBitfield=function(x,w){return w!==void 0&&(x&w)===w},v.RAD2DEG=57.29577951308232,v.DEG2RAD=.017453292519943295,v.GETsearch=function(){return window.location.search},v.GETparameter=function(x){var w=new RegExp(x+"=([^&]+)"),S=window.location.search.match(w);if(S)return S[1]},v.PATH_SEPARATOR="/",v.dirname=function(x){return x.includes(v.PATH_SEPARATOR)===!1?"":x.substr(0,x.lastIndexOf(v.PATH_SEPARATOR)).trimLeft()},v.basename=function(x){return x.includes(v.PATH_SEPARATOR)===!1?x:x.substr(x.lastIndexOf(v.PATH_SEPARATOR)+1).trimRight()}})(d||(d={})),n.exports=d},function(n,a,i){i.r(a),i.d(a,"glMatrix",function(){return d}),i.d(a,"mat2",function(){return m}),i.d(a,"mat2d",function(){return _}),i.d(a,"mat3",function(){return v}),i.d(a,"mat4",function(){return h}),i.d(a,"quat",function(){return l}),i.d(a,"quat2",function(){return s}),i.d(a,"vec2",function(){return u}),i.d(a,"vec3",function(){return c}),i.d(a,"vec4",function(){return o});var d={};i.r(d),i.d(d,"EPSILON",function(){return f}),i.d(d,"ARRAY_TYPE",function(){return g}),i.d(d,"RANDOM",function(){return y}),i.d(d,"setMatrixArrayType",function(){return b}),i.d(d,"toRadian",function(){return x}),i.d(d,"equals",function(){return w});var m={};i.r(m),i.d(m,"create",function(){return S}),i.d(m,"clone",function(){return O}),i.d(m,"copy",function(){return A}),i.d(m,"identity",function(){return L}),i.d(m,"fromValues",function(){return k}),i.d(m,"set",function(){return D}),i.d(m,"transpose",function(){return N}),i.d(m,"invert",function(){return $}),i.d(m,"adjoint",function(){return H}),i.d(m,"determinant",function(){return q}),i.d(m,"multiply",function(){return X}),i.d(m,"rotate",function(){return Y}),i.d(m,"scale",function(){return J}),i.d(m,"fromRotation",function(){return ee}),i.d(m,"fromScaling",function(){return te}),i.d(m,"str",function(){return ne}),i.d(m,"frob",function(){return ce}),i.d(m,"LDU",function(){return pe}),i.d(m,"add",function(){return me}),i.d(m,"subtract",function(){return re}),i.d(m,"exactEquals",function(){return ye}),i.d(m,"equals",function(){return we}),i.d(m,"multiplyScalar",function(){return de}),i.d(m,"multiplyScalarAndAdd",function(){return Se}),i.d(m,"mul",function(){return xe}),i.d(m,"sub",function(){return Oe});var _={};i.r(_),i.d(_,"create",function(){return he}),i.d(_,"clone",function(){return Ae}),i.d(_,"copy",function(){return Le}),i.d(_,"identity",function(){return Ee}),i.d(_,"fromValues",function(){return Ce}),i.d(_,"set",function(){return Ie}),i.d(_,"invert",function(){return je}),i.d(_,"determinant",function(){return Me}),i.d(_,"multiply",function(){return Ye}),i.d(_,"rotate",function(){return De}),i.d(_,"scale",function(){return He}),i.d(_,"translate",function(){return tt}),i.d(_,"fromRotation",function(){return Re}),i.d(_,"fromScaling",function(){return Ke}),i.d(_,"fromTranslation",function(){return U}),i.d(_,"str",function(){return C}),i.d(_,"frob",function(){return M}),i.d(_,"add",function(){return z}),i.d(_,"subtract",function(){return V}),i.d(_,"multiplyScalar",function(){return j}),i.d(_,"multiplyScalarAndAdd",function(){return Z}),i.d(_,"exactEquals",function(){return se}),i.d(_,"equals",function(){return fe}),i.d(_,"mul",function(){return ge}),i.d(_,"sub",function(){return Pe});var v={};i.r(v),i.d(v,"create",function(){return Be}),i.d(v,"fromMat4",function(){return Mt}),i.d(v,"clone",function(){return Dt}),i.d(v,"copy",function(){return kn}),i.d(v,"fromValues",function(){return os}),i.d(v,"set",function(){return ko}),i.d(v,"identity",function(){return nd}),i.d(v,"transpose",function(){return id}),i.d(v,"invert",function(){return od}),i.d(v,"adjoint",function(){return li}),i.d(v,"determinant",function(){return Mi}),i.d(v,"multiply",function(){return vl}),i.d(v,"translate",function(){return ad}),i.d(v,"rotate",function(){return sd}),i.d(v,"scale",function(){return as}),i.d(v,"fromTranslation",function(){return ss}),i.d(v,"fromRotation",function(){return yl}),i.d(v,"fromScaling",function(){return vt}),i.d(v,"fromMat2d",function(){return Hr}),i.d(v,"fromQuat",function(){return ut}),i.d(v,"normalFromMat4",function(){return Wr}),i.d(v,"projection",function(){return ci}),i.d(v,"str",function(){return ud}),i.d(v,"frob",function(){return us}),i.d(v,"add",function(){return Bo}),i.d(v,"subtract",function(){return Hy}),i.d(v,"multiplyScalar",function(){return aM}),i.d(v,"multiplyScalarAndAdd",function(){return sM}),i.d(v,"exactEquals",function(){return uM}),i.d(v,"equals",function(){return lM}),i.d(v,"mul",function(){return cM}),i.d(v,"sub",function(){return fM});var h={};i.r(h),i.d(h,"create",function(){return hM}),i.d(h,"clone",function(){return dM}),i.d(h,"copy",function(){return pM}),i.d(h,"fromValues",function(){return _M}),i.d(h,"set",function(){return gM}),i.d(h,"identity",function(){return Wy}),i.d(h,"transpose",function(){return mM}),i.d(h,"invert",function(){return vM}),i.d(h,"adjoint",function(){return yM}),i.d(h,"determinant",function(){return bM}),i.d(h,"multiply",function(){return $y}),i.d(h,"translate",function(){return EM}),i.d(h,"scale",function(){return TM}),i.d(h,"rotate",function(){return xM}),i.d(h,"rotateX",function(){return wM}),i.d(h,"rotateY",function(){return AM}),i.d(h,"rotateZ",function(){return SM}),i.d(h,"fromTranslation",function(){return PM}),i.d(h,"fromScaling",function(){return OM}),i.d(h,"fromRotation",function(){return RM}),i.d(h,"fromXRotation",function(){return LM}),i.d(h,"fromYRotation",function(){return CM}),i.d(h,"fromZRotation",function(){return IM}),i.d(h,"fromRotationTranslation",function(){return qy}),i.d(h,"fromQuat2",function(){return MM}),i.d(h,"getTranslation",function(){return Xy}),i.d(h,"getScaling",function(){return Yy}),i.d(h,"getRotation",function(){return Ky}),i.d(h,"fromRotationTranslationScale",function(){return DM}),i.d(h,"fromRotationTranslationScaleOrigin",function(){return NM}),i.d(h,"fromQuat",function(){return kM}),i.d(h,"frustum",function(){return BM}),i.d(h,"perspective",function(){return FM}),i.d(h,"perspectiveFromFieldOfView",function(){return jM}),i.d(h,"ortho",function(){return zM}),i.d(h,"lookAt",function(){return UM}),i.d(h,"targetTo",function(){return GM}),i.d(h,"str",function(){return VM}),i.d(h,"frob",function(){return HM}),i.d(h,"add",function(){return WM}),i.d(h,"subtract",function(){return Zy}),i.d(h,"multiplyScalar",function(){return $M}),i.d(h,"multiplyScalarAndAdd",function(){return qM}),i.d(h,"exactEquals",function(){return XM}),i.d(h,"equals",function(){return YM}),i.d(h,"mul",function(){return KM}),i.d(h,"sub",function(){return ZM});var c={};i.r(c),i.d(c,"create",function(){return ld}),i.d(c,"clone",function(){return QM}),i.d(c,"length",function(){return Qy}),i.d(c,"fromValues",function(){return cd}),i.d(c,"copy",function(){return JM}),i.d(c,"set",function(){return eD}),i.d(c,"add",function(){return tD}),i.d(c,"subtract",function(){return Jy}),i.d(c,"multiply",function(){return eb}),i.d(c,"divide",function(){return tb}),i.d(c,"ceil",function(){return rD}),i.d(c,"floor",function(){return nD}),i.d(c,"min",function(){return iD}),i.d(c,"max",function(){return oD}),i.d(c,"round",function(){return aD}),i.d(c,"scale",function(){return sD}),i.d(c,"scaleAndAdd",function(){return uD}),i.d(c,"distance",function(){return rb}),i.d(c,"squaredDistance",function(){return nb}),i.d(c,"squaredLength",function(){return ib}),i.d(c,"negate",function(){return lD}),i.d(c,"inverse",function(){return cD}),i.d(c,"normalize",function(){return ob}),i.d(c,"dot",function(){return fd}),i.d(c,"cross",function(){return bl}),i.d(c,"lerp",function(){return fD}),i.d(c,"hermite",function(){return hD}),i.d(c,"bezier",function(){return dD}),i.d(c,"random",function(){return pD}),i.d(c,"transformMat4",function(){return _D}),i.d(c,"transformMat3",function(){return gD}),i.d(c,"transformQuat",function(){return mD}),i.d(c,"rotateX",function(){return vD}),i.d(c,"rotateY",function(){return yD}),i.d(c,"rotateZ",function(){return bD}),i.d(c,"angle",function(){return ED}),i.d(c,"zero",function(){return TD}),i.d(c,"str",function(){return xD}),i.d(c,"exactEquals",function(){return wD}),i.d(c,"equals",function(){return AD}),i.d(c,"sub",function(){return SD}),i.d(c,"mul",function(){return PD}),i.d(c,"div",function(){return OD}),i.d(c,"dist",function(){return RD}),i.d(c,"sqrDist",function(){return LD}),i.d(c,"len",function(){return ab}),i.d(c,"sqrLen",function(){return CD}),i.d(c,"forEach",function(){return ID});var o={};i.r(o),i.d(o,"create",function(){return sb}),i.d(o,"clone",function(){return ub}),i.d(o,"fromValues",function(){return lb}),i.d(o,"copy",function(){return cb}),i.d(o,"set",function(){return fb}),i.d(o,"add",function(){return hb}),i.d(o,"subtract",function(){return db}),i.d(o,"multiply",function(){return pb}),i.d(o,"divide",function(){return _b}),i.d(o,"ceil",function(){return MD}),i.d(o,"floor",function(){return DD}),i.d(o,"min",function(){return ND}),i.d(o,"max",function(){return kD}),i.d(o,"round",function(){return BD}),i.d(o,"scale",function(){return gb}),i.d(o,"scaleAndAdd",function(){return FD}),i.d(o,"distance",function(){return mb}),i.d(o,"squaredDistance",function(){return vb}),i.d(o,"length",function(){return hd}),i.d(o,"squaredLength",function(){return dd}),i.d(o,"negate",function(){return jD}),i.d(o,"inverse",function(){return zD}),i.d(o,"normalize",function(){return yb}),i.d(o,"dot",function(){return bb}),i.d(o,"cross",function(){return UD}),i.d(o,"lerp",function(){return Eb}),i.d(o,"random",function(){return GD}),i.d(o,"transformMat4",function(){return VD}),i.d(o,"transformQuat",function(){return HD}),i.d(o,"zero",function(){return WD}),i.d(o,"str",function(){return $D}),i.d(o,"exactEquals",function(){return Tb}),i.d(o,"equals",function(){return xb}),i.d(o,"sub",function(){return qD}),i.d(o,"mul",function(){return XD}),i.d(o,"div",function(){return YD}),i.d(o,"dist",function(){return KD}),i.d(o,"sqrDist",function(){return ZD}),i.d(o,"len",function(){return QD}),i.d(o,"sqrLen",function(){return JD}),i.d(o,"forEach",function(){return eN});var l={};i.r(l),i.d(l,"create",function(){return El}),i.d(l,"identity",function(){return tN}),i.d(l,"setAxisAngle",function(){return wb}),i.d(l,"getAxisAngle",function(){return rN}),i.d(l,"getAngle",function(){return nN}),i.d(l,"multiply",function(){return Ab}),i.d(l,"rotateX",function(){return Sb}),i.d(l,"rotateY",function(){return Pb}),i.d(l,"rotateZ",function(){return Ob}),i.d(l,"calculateW",function(){return iN}),i.d(l,"exp",function(){return Rb}),i.d(l,"ln",function(){return Lb}),i.d(l,"pow",function(){return oN}),i.d(l,"slerp",function(){return Tl}),i.d(l,"random",function(){return aN}),i.d(l,"invert",function(){return sN}),i.d(l,"conjugate",function(){return uN}),i.d(l,"fromMat3",function(){return Cb}),i.d(l,"fromEuler",function(){return lN}),i.d(l,"str",function(){return cN}),i.d(l,"clone",function(){return fN}),i.d(l,"fromValues",function(){return hN}),i.d(l,"copy",function(){return gd}),i.d(l,"set",function(){return dN}),i.d(l,"add",function(){return pN}),i.d(l,"mul",function(){return _N}),i.d(l,"scale",function(){return Db}),i.d(l,"dot",function(){return md}),i.d(l,"lerp",function(){return gN}),i.d(l,"length",function(){return vd}),i.d(l,"len",function(){return mN}),i.d(l,"squaredLength",function(){return yd}),i.d(l,"sqrLen",function(){return vN}),i.d(l,"normalize",function(){return bd}),i.d(l,"exactEquals",function(){return yN}),i.d(l,"equals",function(){return bN}),i.d(l,"rotationTo",function(){return EN}),i.d(l,"sqlerp",function(){return TN}),i.d(l,"setAxes",function(){return xN});var s={};i.r(s),i.d(s,"create",function(){return wN}),i.d(s,"clone",function(){return AN}),i.d(s,"fromValues",function(){return SN}),i.d(s,"fromRotationTranslationValues",function(){return PN}),i.d(s,"fromRotationTranslation",function(){return Nb}),i.d(s,"fromTranslation",function(){return ON}),i.d(s,"fromRotation",function(){return RN}),i.d(s,"fromMat4",function(){return LN}),i.d(s,"copy",function(){return kb}),i.d(s,"identity",function(){return CN}),i.d(s,"set",function(){return IN}),i.d(s,"getReal",function(){return MN}),i.d(s,"getDual",function(){return DN}),i.d(s,"setReal",function(){return NN}),i.d(s,"setDual",function(){return kN}),i.d(s,"getTranslation",function(){return BN}),i.d(s,"translate",function(){return FN}),i.d(s,"rotateX",function(){return jN}),i.d(s,"rotateY",function(){return zN}),i.d(s,"rotateZ",function(){return UN}),i.d(s,"rotateByQuatAppend",function(){return GN}),i.d(s,"rotateByQuatPrepend",function(){return VN}),i.d(s,"rotateAroundAxis",function(){return HN}),i.d(s,"add",function(){return WN}),i.d(s,"multiply",function(){return Bb}),i.d(s,"mul",function(){return $N}),i.d(s,"scale",function(){return qN}),i.d(s,"dot",function(){return Fb}),i.d(s,"lerp",function(){return XN}),i.d(s,"invert",function(){return YN}),i.d(s,"conjugate",function(){return KN}),i.d(s,"length",function(){return jb}),i.d(s,"len",function(){return ZN}),i.d(s,"squaredLength",function(){return xl}),i.d(s,"sqrLen",function(){return QN}),i.d(s,"normalize",function(){return JN}),i.d(s,"str",function(){return ek}),i.d(s,"exactEquals",function(){return tk}),i.d(s,"equals",function(){return rk});var u={};i.r(u),i.d(u,"create",function(){return zb}),i.d(u,"clone",function(){return nk}),i.d(u,"fromValues",function(){return ik}),i.d(u,"copy",function(){return ok}),i.d(u,"set",function(){return ak}),i.d(u,"add",function(){return sk}),i.d(u,"subtract",function(){return Ub}),i.d(u,"multiply",function(){return Gb}),i.d(u,"divide",function(){return Vb}),i.d(u,"ceil",function(){return uk}),i.d(u,"floor",function(){return lk}),i.d(u,"min",function(){return ck}),i.d(u,"max",function(){return fk}),i.d(u,"round",function(){return hk}),i.d(u,"scale",function(){return dk}),i.d(u,"scaleAndAdd",function(){return pk}),i.d(u,"distance",function(){return Hb}),i.d(u,"squaredDistance",function(){return Wb}),i.d(u,"length",function(){return $b}),i.d(u,"squaredLength",function(){return qb}),i.d(u,"negate",function(){return _k}),i.d(u,"inverse",function(){return gk}),i.d(u,"normalize",function(){return mk}),i.d(u,"dot",function(){return vk}),i.d(u,"cross",function(){return yk}),i.d(u,"lerp",function(){return bk}),i.d(u,"random",function(){return Ek}),i.d(u,"transformMat2",function(){return Tk}),i.d(u,"transformMat2d",function(){return xk}),i.d(u,"transformMat3",function(){return wk}),i.d(u,"transformMat4",function(){return Ak}),i.d(u,"rotate",function(){return Sk}),i.d(u,"angle",function(){return Pk}),i.d(u,"zero",function(){return Ok}),i.d(u,"str",function(){return Rk}),i.d(u,"exactEquals",function(){return Lk}),i.d(u,"equals",function(){return Ck}),i.d(u,"len",function(){return Ik}),i.d(u,"sub",function(){return Mk}),i.d(u,"mul",function(){return Dk}),i.d(u,"div",function(){return Nk}),i.d(u,"dist",function(){return kk}),i.d(u,"sqrDist",function(){return Bk}),i.d(u,"sqrLen",function(){return Fk}),i.d(u,"forEach",function(){return jk});var f=1e-6,g=typeof Float32Array!="undefined"?Float32Array:Array,y=Math.random;function b(p){g=p}var E=Math.PI/180;function x(p){return p*E}function w(p,T){return Math.abs(p-T)<=f*Math.max(1,Math.abs(p),Math.abs(T))}function S(){var p=new g(4);return g!=Float32Array&&(p[1]=0,p[2]=0),p[0]=1,p[3]=1,p}function O(p){var T=new g(4);return T[0]=p[0],T[1]=p[1],T[2]=p[2],T[3]=p[3],T}function A(p,T){return p[0]=T[0],p[1]=T[1],p[2]=T[2],p[3]=T[3],p}function L(p){return p[0]=1,p[1]=0,p[2]=0,p[3]=1,p}function k(p,T,P,R){var I=new g(4);return I[0]=p,I[1]=T,I[2]=P,I[3]=R,I}function D(p,T,P,R,I){return p[0]=T,p[1]=P,p[2]=R,p[3]=I,p}function N(p,T){if(p===T){var P=T[1];p[1]=T[2],p[2]=P}else p[0]=T[0],p[1]=T[2],p[2]=T[1],p[3]=T[3];return p}function $(p,T){var P=T[0],R=T[1],I=T[2],B=T[3],F=P*B-I*R;return F?(F=1/F,p[0]=B*F,p[1]=-R*F,p[2]=-I*F,p[3]=P*F,p):null}function H(p,T){var P=T[0];return p[0]=T[3],p[1]=-T[1],p[2]=-T[2],p[3]=P,p}function q(p){return p[0]*p[3]-p[2]*p[1]}function X(p,T,P){var R=T[0],I=T[1],B=T[2],F=T[3],G=P[0],W=P[1],K=P[2],Q=P[3];return p[0]=R*G+B*W,p[1]=I*G+F*W,p[2]=R*K+B*Q,p[3]=I*K+F*Q,p}function Y(p,T,P){var R=T[0],I=T[1],B=T[2],F=T[3],G=Math.sin(P),W=Math.cos(P);return p[0]=R*W+B*G,p[1]=I*W+F*G,p[2]=R*-G+B*W,p[3]=I*-G+F*W,p}function J(p,T,P){var R=T[0],I=T[1],B=T[2],F=T[3],G=P[0],W=P[1];return p[0]=R*G,p[1]=I*G,p[2]=B*W,p[3]=F*W,p}function ee(p,T){var P=Math.sin(T),R=Math.cos(T);return p[0]=R,p[1]=P,p[2]=-P,p[3]=R,p}function te(p,T){return p[0]=T[0],p[1]=0,p[2]=0,p[3]=T[1],p}function ne(p){return"mat2("+p[0]+", "+p[1]+", "+p[2]+", "+p[3]+")"}function ce(p){return Math.hypot(p[0],p[1],p[2],p[3])}function pe(p,T,P,R){return p[2]=R[2]/R[0],P[0]=R[0],P[1]=R[1],P[3]=R[3]-p[2]*P[1],[p,T,P]}function me(p,T,P){return p[0]=T[0]+P[0],p[1]=T[1]+P[1],p[2]=T[2]+P[2],p[3]=T[3]+P[3],p}function re(p,T,P){return p[0]=T[0]-P[0],p[1]=T[1]-P[1],p[2]=T[2]-P[2],p[3]=T[3]-P[3],p}function ye(p,T){return p[0]===T[0]&&p[1]===T[1]&&p[2]===T[2]&&p[3]===T[3]}function we(p,T){var P=p[0],R=p[1],I=p[2],B=p[3],F=T[0],G=T[1],W=T[2],K=T[3];return Math.abs(P-F)<=f*Math.max(1,Math.abs(P),Math.abs(F))&&Math.abs(R-G)<=f*Math.max(1,Math.abs(R),Math.abs(G))&&Math.abs(I-W)<=f*Math.max(1,Math.abs(I),Math.abs(W))&&Math.abs(B-K)<=f*Math.max(1,Math.abs(B),Math.abs(K))}function de(p,T,P){return p[0]=T[0]*P,p[1]=T[1]*P,p[2]=T[2]*P,p[3]=T[3]*P,p}function Se(p,T,P,R){return p[0]=T[0]+P[0]*R,p[1]=T[1]+P[1]*R,p[2]=T[2]+P[2]*R,p[3]=T[3]+P[3]*R,p}Math.hypot||(Math.hypot=function(){for(var p=0,T=arguments.length;T--;)p+=arguments[T]*arguments[T];return Math.sqrt(p)});var xe=X,Oe=re;function he(){var p=new g(6);return g!=Float32Array&&(p[1]=0,p[2]=0,p[4]=0,p[5]=0),p[0]=1,p[3]=1,p}function Ae(p){var T=new g(6);return T[0]=p[0],T[1]=p[1],T[2]=p[2],T[3]=p[3],T[4]=p[4],T[5]=p[5],T}function Le(p,T){return p[0]=T[0],p[1]=T[1],p[2]=T[2],p[3]=T[3],p[4]=T[4],p[5]=T[5],p}function Ee(p){return p[0]=1,p[1]=0,p[2]=0,p[3]=1,p[4]=0,p[5]=0,p}function Ce(p,T,P,R,I,B){var F=new g(6);return F[0]=p,F[1]=T,F[2]=P,F[3]=R,F[4]=I,F[5]=B,F}function Ie(p,T,P,R,I,B,F){return p[0]=T,p[1]=P,p[2]=R,p[3]=I,p[4]=B,p[5]=F,p}function je(p,T){var P=T[0],R=T[1],I=T[2],B=T[3],F=T[4],G=T[5],W=P*B-R*I;return W?(W=1/W,p[0]=B*W,p[1]=-R*W,p[2]=-I*W,p[3]=P*W,p[4]=(I*G-B*F)*W,p[5]=(R*F-P*G)*W,p):null}function Me(p){return p[0]*p[3]-p[1]*p[2]}function Ye(p,T,P){var R=T[0],I=T[1],B=T[2],F=T[3],G=T[4],W=T[5],K=P[0],Q=P[1],ie=P[2],oe=P[3],ae=P[4],le=P[5];return p[0]=R*K+B*Q,p[1]=I*K+F*Q,p[2]=R*ie+B*oe,p[3]=I*ie+F*oe,p[4]=R*ae+B*le+G,p[5]=I*ae+F*le+W,p}function De(p,T,P){var R=T[0],I=T[1],B=T[2],F=T[3],G=T[4],W=T[5],K=Math.sin(P),Q=Math.cos(P);return p[0]=R*Q+B*K,p[1]=I*Q+F*K,p[2]=R*-K+B*Q,p[3]=I*-K+F*Q,p[4]=G,p[5]=W,p}function He(p,T,P){var R=T[0],I=T[1],B=T[2],F=T[3],G=T[4],W=T[5],K=P[0],Q=P[1];return p[0]=R*K,p[1]=I*K,p[2]=B*Q,p[3]=F*Q,p[4]=G,p[5]=W,p}function tt(p,T,P){var R=T[0],I=T[1],B=T[2],F=T[3],G=T[4],W=T[5],K=P[0],Q=P[1];return p[0]=R,p[1]=I,p[2]=B,p[3]=F,p[4]=R*K+B*Q+G,p[5]=I*K+F*Q+W,p}function Re(p,T){var P=Math.sin(T),R=Math.cos(T);return p[0]=R,p[1]=P,p[2]=-P,p[3]=R,p[4]=0,p[5]=0,p}function Ke(p,T){return p[0]=T[0],p[1]=0,p[2]=0,p[3]=T[1],p[4]=0,p[5]=0,p}function U(p,T){return p[0]=1,p[1]=0,p[2]=0,p[3]=1,p[4]=T[0],p[5]=T[1],p}function C(p){return"mat2d("+p[0]+", "+p[1]+", "+p[2]+", "+p[3]+", "+p[4]+", "+p[5]+")"}function M(p){return Math.hypot(p[0],p[1],p[2],p[3],p[4],p[5],1)}function z(p,T,P){return p[0]=T[0]+P[0],p[1]=T[1]+P[1],p[2]=T[2]+P[2],p[3]=T[3]+P[3],p[4]=T[4]+P[4],p[5]=T[5]+P[5],p}function V(p,T,P){return p[0]=T[0]-P[0],p[1]=T[1]-P[1],p[2]=T[2]-P[2],p[3]=T[3]-P[3],p[4]=T[4]-P[4],p[5]=T[5]-P[5],p}function j(p,T,P){return p[0]=T[0]*P,p[1]=T[1]*P,p[2]=T[2]*P,p[3]=T[3]*P,p[4]=T[4]*P,p[5]=T[5]*P,p}function Z(p,T,P,R){return p[0]=T[0]+P[0]*R,p[1]=T[1]+P[1]*R,p[2]=T[2]+P[2]*R,p[3]=T[3]+P[3]*R,p[4]=T[4]+P[4]*R,p[5]=T[5]+P[5]*R,p}function se(p,T){return p[0]===T[0]&&p[1]===T[1]&&p[2]===T[2]&&p[3]===T[3]&&p[4]===T[4]&&p[5]===T[5]}function fe(p,T){var P=p[0],R=p[1],I=p[2],B=p[3],F=p[4],G=p[5],W=T[0],K=T[1],Q=T[2],ie=T[3],oe=T[4],ae=T[5];return Math.abs(P-W)<=f*Math.max(1,Math.abs(P),Math.abs(W))&&Math.abs(R-K)<=f*Math.max(1,Math.abs(R),Math.abs(K))&&Math.abs(I-Q)<=f*Math.max(1,Math.abs(I),Math.abs(Q))&&Math.abs(B-ie)<=f*Math.max(1,Math.abs(B),Math.abs(ie))&&Math.abs(F-oe)<=f*Math.max(1,Math.abs(F),Math.abs(oe))&&Math.abs(G-ae)<=f*Math.max(1,Math.abs(G),Math.abs(ae))}var ge=Ye,Pe=V;function Be(){var p=new g(9);return g!=Float32Array&&(p[1]=0,p[2]=0,p[3]=0,p[5]=0,p[6]=0,p[7]=0),p[0]=1,p[4]=1,p[8]=1,p}function Mt(p,T){return p[0]=T[0],p[1]=T[1],p[2]=T[2],p[3]=T[4],p[4]=T[5],p[5]=T[6],p[6]=T[8],p[7]=T[9],p[8]=T[10],p}function Dt(p){var T=new g(9);return T[0]=p[0],T[1]=p[1],T[2]=p[2],T[3]=p[3],T[4]=p[4],T[5]=p[5],T[6]=p[6],T[7]=p[7],T[8]=p[8],T}function kn(p,T){return p[0]=T[0],p[1]=T[1],p[2]=T[2],p[3]=T[3],p[4]=T[4],p[5]=T[5],p[6]=T[6],p[7]=T[7],p[8]=T[8],p}function os(p,T,P,R,I,B,F,G,W){var K=new g(9);return K[0]=p,K[1]=T,K[2]=P,K[3]=R,K[4]=I,K[5]=B,K[6]=F,K[7]=G,K[8]=W,K}function ko(p,T,P,R,I,B,F,G,W,K){return p[0]=T,p[1]=P,p[2]=R,p[3]=I,p[4]=B,p[5]=F,p[6]=G,p[7]=W,p[8]=K,p}function nd(p){return p[0]=1,p[1]=0,p[2]=0,p[3]=0,p[4]=1,p[5]=0,p[6]=0,p[7]=0,p[8]=1,p}function id(p,T){if(p===T){var P=T[1],R=T[2],I=T[5];p[1]=T[3],p[2]=T[6],p[3]=P,p[5]=T[7],p[6]=R,p[7]=I}else p[0]=T[0],p[1]=T[3],p[2]=T[6],p[3]=T[1],p[4]=T[4],p[5]=T[7],p[6]=T[2],p[7]=T[5],p[8]=T[8];return p}function od(p,T){var P=T[0],R=T[1],I=T[2],B=T[3],F=T[4],G=T[5],W=T[6],K=T[7],Q=T[8],ie=Q*F-G*K,oe=-Q*B+G*W,ae=K*B-F*W,le=P*ie+R*oe+I*ae;return le?(le=1/le,p[0]=ie*le,p[1]=(-Q*R+I*K)*le,p[2]=(G*R-I*F)*le,p[3]=oe*le,p[4]=(Q*P-I*W)*le,p[5]=(-G*P+I*B)*le,p[6]=ae*le,p[7]=(-K*P+R*W)*le,p[8]=(F*P-R*B)*le,p):null}function li(p,T){var P=T[0],R=T[1],I=T[2],B=T[3],F=T[4],G=T[5],W=T[6],K=T[7],Q=T[8];return p[0]=F*Q-G*K,p[1]=I*K-R*Q,p[2]=R*G-I*F,p[3]=G*W-B*Q,p[4]=P*Q-I*W,p[5]=I*B-P*G,p[6]=B*K-F*W,p[7]=R*W-P*K,p[8]=P*F-R*B,p}function Mi(p){var T=p[0],P=p[1],R=p[2],I=p[3],B=p[4],F=p[5],G=p[6],W=p[7],K=p[8];return T*(K*B-F*W)+P*(-K*I+F*G)+R*(W*I-B*G)}function vl(p,T,P){var R=T[0],I=T[1],B=T[2],F=T[3],G=T[4],W=T[5],K=T[6],Q=T[7],ie=T[8],oe=P[0],ae=P[1],le=P[2],_e=P[3],ue=P[4],be=P[5],We=P[6],Ue=P[7],Ve=P[8];return p[0]=oe*R+ae*F+le*K,p[1]=oe*I+ae*G+le*Q,p[2]=oe*B+ae*W+le*ie,p[3]=_e*R+ue*F+be*K,p[4]=_e*I+ue*G+be*Q,p[5]=_e*B+ue*W+be*ie,p[6]=We*R+Ue*F+Ve*K,p[7]=We*I+Ue*G+Ve*Q,p[8]=We*B+Ue*W+Ve*ie,p}function ad(p,T,P){var R=T[0],I=T[1],B=T[2],F=T[3],G=T[4],W=T[5],K=T[6],Q=T[7],ie=T[8],oe=P[0],ae=P[1];return p[0]=R,p[1]=I,p[2]=B,p[3]=F,p[4]=G,p[5]=W,p[6]=oe*R+ae*F+K,p[7]=oe*I+ae*G+Q,p[8]=oe*B+ae*W+ie,p}function sd(p,T,P){var R=T[0],I=T[1],B=T[2],F=T[3],G=T[4],W=T[5],K=T[6],Q=T[7],ie=T[8],oe=Math.sin(P),ae=Math.cos(P);return p[0]=ae*R+oe*F,p[1]=ae*I+oe*G,p[2]=ae*B+oe*W,p[3]=ae*F-oe*R,p[4]=ae*G-oe*I,p[5]=ae*W-oe*B,p[6]=K,p[7]=Q,p[8]=ie,p}function as(p,T,P){var R=P[0],I=P[1];return p[0]=R*T[0],p[1]=R*T[1],p[2]=R*T[2],p[3]=I*T[3],p[4]=I*T[4],p[5]=I*T[5],p[6]=T[6],p[7]=T[7],p[8]=T[8],p}function ss(p,T){return p[0]=1,p[1]=0,p[2]=0,p[3]=0,p[4]=1,p[5]=0,p[6]=T[0],p[7]=T[1],p[8]=1,p}function yl(p,T){var P=Math.sin(T),R=Math.cos(T);return p[0]=R,p[1]=P,p[2]=0,p[3]=-P,p[4]=R,p[5]=0,p[6]=0,p[7]=0,p[8]=1,p}function vt(p,T){return p[0]=T[0],p[1]=0,p[2]=0,p[3]=0,p[4]=T[1],p[5]=0,p[6]=0,p[7]=0,p[8]=1,p}function Hr(p,T){return p[0]=T[0],p[1]=T[1],p[2]=0,p[3]=T[2],p[4]=T[3],p[5]=0,p[6]=T[4],p[7]=T[5],p[8]=1,p}function ut(p,T){var P=T[0],R=T[1],I=T[2],B=T[3],F=P+P,G=R+R,W=I+I,K=P*F,Q=R*F,ie=R*G,oe=I*F,ae=I*G,le=I*W,_e=B*F,ue=B*G,be=B*W;return p[0]=1-ie-le,p[3]=Q-be,p[6]=oe+ue,p[1]=Q+be,p[4]=1-K-le,p[7]=ae-_e,p[2]=oe-ue,p[5]=ae+_e,p[8]=1-K-ie,p}function Wr(p,T){var P=T[0],R=T[1],I=T[2],B=T[3],F=T[4],G=T[5],W=T[6],K=T[7],Q=T[8],ie=T[9],oe=T[10],ae=T[11],le=T[12],_e=T[13],ue=T[14],be=T[15],We=P*G-R*F,Ue=P*W-I*F,Ve=P*K-B*F,Xe=R*W-I*G,$e=R*K-B*G,Lt=I*K-B*W,At=Q*_e-ie*le,St=Q*ue-oe*le,yt=Q*be-ae*le,Nt=ie*ue-oe*_e,dt=ie*be-ae*_e,pt=oe*be-ae*ue,qe=We*pt-Ue*dt+Ve*Nt+Xe*yt-$e*St+Lt*At;return qe?(qe=1/qe,p[0]=(G*pt-W*dt+K*Nt)*qe,p[1]=(W*yt-F*pt-K*St)*qe,p[2]=(F*dt-G*yt+K*At)*qe,p[3]=(I*dt-R*pt-B*Nt)*qe,p[4]=(P*pt-I*yt+B*St)*qe,p[5]=(R*yt-P*dt-B*At)*qe,p[6]=(_e*Lt-ue*$e+be*Xe)*qe,p[7]=(ue*Ve-le*Lt-be*Ue)*qe,p[8]=(le*$e-_e*Ve+be*We)*qe,p):null}function ci(p,T,P){return p[0]=2/T,p[1]=0,p[2]=0,p[3]=0,p[4]=-2/P,p[5]=0,p[6]=-1,p[7]=1,p[8]=1,p}function ud(p){return"mat3("+p[0]+", "+p[1]+", "+p[2]+", "+p[3]+", "+p[4]+", "+p[5]+", "+p[6]+", "+p[7]+", "+p[8]+")"}function us(p){return Math.hypot(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8])}function Bo(p,T,P){return p[0]=T[0]+P[0],p[1]=T[1]+P[1],p[2]=T[2]+P[2],p[3]=T[3]+P[3],p[4]=T[4]+P[4],p[5]=T[5]+P[5],p[6]=T[6]+P[6],p[7]=T[7]+P[7],p[8]=T[8]+P[8],p}function Hy(p,T,P){return p[0]=T[0]-P[0],p[1]=T[1]-P[1],p[2]=T[2]-P[2],p[3]=T[3]-P[3],p[4]=T[4]-P[4],p[5]=T[5]-P[5],p[6]=T[6]-P[6],p[7]=T[7]-P[7],p[8]=T[8]-P[8],p}function aM(p,T,P){return p[0]=T[0]*P,p[1]=T[1]*P,p[2]=T[2]*P,p[3]=T[3]*P,p[4]=T[4]*P,p[5]=T[5]*P,p[6]=T[6]*P,p[7]=T[7]*P,p[8]=T[8]*P,p}function sM(p,T,P,R){return p[0]=T[0]+P[0]*R,p[1]=T[1]+P[1]*R,p[2]=T[2]+P[2]*R,p[3]=T[3]+P[3]*R,p[4]=T[4]+P[4]*R,p[5]=T[5]+P[5]*R,p[6]=T[6]+P[6]*R,p[7]=T[7]+P[7]*R,p[8]=T[8]+P[8]*R,p}function uM(p,T){return p[0]===T[0]&&p[1]===T[1]&&p[2]===T[2]&&p[3]===T[3]&&p[4]===T[4]&&p[5]===T[5]&&p[6]===T[6]&&p[7]===T[7]&&p[8]===T[8]}function lM(p,T){var P=p[0],R=p[1],I=p[2],B=p[3],F=p[4],G=p[5],W=p[6],K=p[7],Q=p[8],ie=T[0],oe=T[1],ae=T[2],le=T[3],_e=T[4],ue=T[5],be=T[6],We=T[7],Ue=T[8];return Math.abs(P-ie)<=f*Math.max(1,Math.abs(P),Math.abs(ie))&&Math.abs(R-oe)<=f*Math.max(1,Math.abs(R),Math.abs(oe))&&Math.abs(I-ae)<=f*Math.max(1,Math.abs(I),Math.abs(ae))&&Math.abs(B-le)<=f*Math.max(1,Math.abs(B),Math.abs(le))&&Math.abs(F-_e)<=f*Math.max(1,Math.abs(F),Math.abs(_e))&&Math.abs(G-ue)<=f*Math.max(1,Math.abs(G),Math.abs(ue))&&Math.abs(W-be)<=f*Math.max(1,Math.abs(W),Math.abs(be))&&Math.abs(K-We)<=f*Math.max(1,Math.abs(K),Math.abs(We))&&Math.abs(Q-Ue)<=f*Math.max(1,Math.abs(Q),Math.abs(Ue))}var cM=vl,fM=Hy;function hM(){var p=new g(16);return g!=Float32Array&&(p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[11]=0,p[12]=0,p[13]=0,p[14]=0),p[0]=1,p[5]=1,p[10]=1,p[15]=1,p}function dM(p){var T=new g(16);return T[0]=p[0],T[1]=p[1],T[2]=p[2],T[3]=p[3],T[4]=p[4],T[5]=p[5],T[6]=p[6],T[7]=p[7],T[8]=p[8],T[9]=p[9],T[10]=p[10],T[11]=p[11],T[12]=p[12],T[13]=p[13],T[14]=p[14],T[15]=p[15],T}function pM(p,T){return p[0]=T[0],p[1]=T[1],p[2]=T[2],p[3]=T[3],p[4]=T[4],p[5]=T[5],p[6]=T[6],p[7]=T[7],p[8]=T[8],p[9]=T[9],p[10]=T[10],p[11]=T[11],p[12]=T[12],p[13]=T[13],p[14]=T[14],p[15]=T[15],p}function _M(p,T,P,R,I,B,F,G,W,K,Q,ie,oe,ae,le,_e){var ue=new g(16);return ue[0]=p,ue[1]=T,ue[2]=P,ue[3]=R,ue[4]=I,ue[5]=B,ue[6]=F,ue[7]=G,ue[8]=W,ue[9]=K,ue[10]=Q,ue[11]=ie,ue[12]=oe,ue[13]=ae,ue[14]=le,ue[15]=_e,ue}function gM(p,T,P,R,I,B,F,G,W,K,Q,ie,oe,ae,le,_e,ue){return p[0]=T,p[1]=P,p[2]=R,p[3]=I,p[4]=B,p[5]=F,p[6]=G,p[7]=W,p[8]=K,p[9]=Q,p[10]=ie,p[11]=oe,p[12]=ae,p[13]=le,p[14]=_e,p[15]=ue,p}function Wy(p){return p[0]=1,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=1,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=1,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function mM(p,T){if(p===T){var P=T[1],R=T[2],I=T[3],B=T[6],F=T[7],G=T[11];p[1]=T[4],p[2]=T[8],p[3]=T[12],p[4]=P,p[6]=T[9],p[7]=T[13],p[8]=R,p[9]=B,p[11]=T[14],p[12]=I,p[13]=F,p[14]=G}else p[0]=T[0],p[1]=T[4],p[2]=T[8],p[3]=T[12],p[4]=T[1],p[5]=T[5],p[6]=T[9],p[7]=T[13],p[8]=T[2],p[9]=T[6],p[10]=T[10],p[11]=T[14],p[12]=T[3],p[13]=T[7],p[14]=T[11],p[15]=T[15];return p}function vM(p,T){var P=T[0],R=T[1],I=T[2],B=T[3],F=T[4],G=T[5],W=T[6],K=T[7],Q=T[8],ie=T[9],oe=T[10],ae=T[11],le=T[12],_e=T[13],ue=T[14],be=T[15],We=P*G-R*F,Ue=P*W-I*F,Ve=P*K-B*F,Xe=R*W-I*G,$e=R*K-B*G,Lt=I*K-B*W,At=Q*_e-ie*le,St=Q*ue-oe*le,yt=Q*be-ae*le,Nt=ie*ue-oe*_e,dt=ie*be-ae*_e,pt=oe*be-ae*ue,qe=We*pt-Ue*dt+Ve*Nt+Xe*yt-$e*St+Lt*At;return qe?(qe=1/qe,p[0]=(G*pt-W*dt+K*Nt)*qe,p[1]=(I*dt-R*pt-B*Nt)*qe,p[2]=(_e*Lt-ue*$e+be*Xe)*qe,p[3]=(oe*$e-ie*Lt-ae*Xe)*qe,p[4]=(W*yt-F*pt-K*St)*qe,p[5]=(P*pt-I*yt+B*St)*qe,p[6]=(ue*Ve-le*Lt-be*Ue)*qe,p[7]=(Q*Lt-oe*Ve+ae*Ue)*qe,p[8]=(F*dt-G*yt+K*At)*qe,p[9]=(R*yt-P*dt-B*At)*qe,p[10]=(le*$e-_e*Ve+be*We)*qe,p[11]=(ie*Ve-Q*$e-ae*We)*qe,p[12]=(G*St-F*Nt-W*At)*qe,p[13]=(P*Nt-R*St+I*At)*qe,p[14]=(_e*Ue-le*Xe-ue*We)*qe,p[15]=(Q*Xe-ie*Ue+oe*We)*qe,p):null}function yM(p,T){var P=T[0],R=T[1],I=T[2],B=T[3],F=T[4],G=T[5],W=T[6],K=T[7],Q=T[8],ie=T[9],oe=T[10],ae=T[11],le=T[12],_e=T[13],ue=T[14],be=T[15];return p[0]=G*(oe*be-ae*ue)-ie*(W*be-K*ue)+_e*(W*ae-K*oe),p[1]=-(R*(oe*be-ae*ue)-ie*(I*be-B*ue)+_e*(I*ae-B*oe)),p[2]=R*(W*be-K*ue)-G*(I*be-B*ue)+_e*(I*K-B*W),p[3]=-(R*(W*ae-K*oe)-G*(I*ae-B*oe)+ie*(I*K-B*W)),p[4]=-(F*(oe*be-ae*ue)-Q*(W*be-K*ue)+le*(W*ae-K*oe)),p[5]=P*(oe*be-ae*ue)-Q*(I*be-B*ue)+le*(I*ae-B*oe),p[6]=-(P*(W*be-K*ue)-F*(I*be-B*ue)+le*(I*K-B*W)),p[7]=P*(W*ae-K*oe)-F*(I*ae-B*oe)+Q*(I*K-B*W),p[8]=F*(ie*be-ae*_e)-Q*(G*be-K*_e)+le*(G*ae-K*ie),p[9]=-(P*(ie*be-ae*_e)-Q*(R*be-B*_e)+le*(R*ae-B*ie)),p[10]=P*(G*be-K*_e)-F*(R*be-B*_e)+le*(R*K-B*G),p[11]=-(P*(G*ae-K*ie)-F*(R*ae-B*ie)+Q*(R*K-B*G)),p[12]=-(F*(ie*ue-oe*_e)-Q*(G*ue-W*_e)+le*(G*oe-W*ie)),p[13]=P*(ie*ue-oe*_e)-Q*(R*ue-I*_e)+le*(R*oe-I*ie),p[14]=-(P*(G*ue-W*_e)-F*(R*ue-I*_e)+le*(R*W-I*G)),p[15]=P*(G*oe-W*ie)-F*(R*oe-I*ie)+Q*(R*W-I*G),p}function bM(p){var T=p[0],P=p[1],R=p[2],I=p[3],B=p[4],F=p[5],G=p[6],W=p[7],K=p[8],Q=p[9],ie=p[10],oe=p[11],ae=p[12],le=p[13],_e=p[14],ue=p[15];return(T*F-P*B)*(ie*ue-oe*_e)-(T*G-R*B)*(Q*ue-oe*le)+(T*W-I*B)*(Q*_e-ie*le)+(P*G-R*F)*(K*ue-oe*ae)-(P*W-I*F)*(K*_e-ie*ae)+(R*W-I*G)*(K*le-Q*ae)}function $y(p,T,P){var R=T[0],I=T[1],B=T[2],F=T[3],G=T[4],W=T[5],K=T[6],Q=T[7],ie=T[8],oe=T[9],ae=T[10],le=T[11],_e=T[12],ue=T[13],be=T[14],We=T[15],Ue=P[0],Ve=P[1],Xe=P[2],$e=P[3];return p[0]=Ue*R+Ve*G+Xe*ie+$e*_e,p[1]=Ue*I+Ve*W+Xe*oe+$e*ue,p[2]=Ue*B+Ve*K+Xe*ae+$e*be,p[3]=Ue*F+Ve*Q+Xe*le+$e*We,Ue=P[4],Ve=P[5],Xe=P[6],$e=P[7],p[4]=Ue*R+Ve*G+Xe*ie+$e*_e,p[5]=Ue*I+Ve*W+Xe*oe+$e*ue,p[6]=Ue*B+Ve*K+Xe*ae+$e*be,p[7]=Ue*F+Ve*Q+Xe*le+$e*We,Ue=P[8],Ve=P[9],Xe=P[10],$e=P[11],p[8]=Ue*R+Ve*G+Xe*ie+$e*_e,p[9]=Ue*I+Ve*W+Xe*oe+$e*ue,p[10]=Ue*B+Ve*K+Xe*ae+$e*be,p[11]=Ue*F+Ve*Q+Xe*le+$e*We,Ue=P[12],Ve=P[13],Xe=P[14],$e=P[15],p[12]=Ue*R+Ve*G+Xe*ie+$e*_e,p[13]=Ue*I+Ve*W+Xe*oe+$e*ue,p[14]=Ue*B+Ve*K+Xe*ae+$e*be,p[15]=Ue*F+Ve*Q+Xe*le+$e*We,p}function EM(p,T,P){var R,I,B,F,G,W,K,Q,ie,oe,ae,le,_e=P[0],ue=P[1],be=P[2];return T===p?(p[12]=T[0]*_e+T[4]*ue+T[8]*be+T[12],p[13]=T[1]*_e+T[5]*ue+T[9]*be+T[13],p[14]=T[2]*_e+T[6]*ue+T[10]*be+T[14],p[15]=T[3]*_e+T[7]*ue+T[11]*be+T[15]):(R=T[0],I=T[1],B=T[2],F=T[3],G=T[4],W=T[5],K=T[6],Q=T[7],ie=T[8],oe=T[9],ae=T[10],le=T[11],p[0]=R,p[1]=I,p[2]=B,p[3]=F,p[4]=G,p[5]=W,p[6]=K,p[7]=Q,p[8]=ie,p[9]=oe,p[10]=ae,p[11]=le,p[12]=R*_e+G*ue+ie*be+T[12],p[13]=I*_e+W*ue+oe*be+T[13],p[14]=B*_e+K*ue+ae*be+T[14],p[15]=F*_e+Q*ue+le*be+T[15]),p}function TM(p,T,P){var R=P[0],I=P[1],B=P[2];return p[0]=T[0]*R,p[1]=T[1]*R,p[2]=T[2]*R,p[3]=T[3]*R,p[4]=T[4]*I,p[5]=T[5]*I,p[6]=T[6]*I,p[7]=T[7]*I,p[8]=T[8]*B,p[9]=T[9]*B,p[10]=T[10]*B,p[11]=T[11]*B,p[12]=T[12],p[13]=T[13],p[14]=T[14],p[15]=T[15],p}function xM(p,T,P,R){var I,B,F,G,W,K,Q,ie,oe,ae,le,_e,ue,be,We,Ue,Ve,Xe,$e,Lt,At,St,yt,Nt,dt=R[0],pt=R[1],qe=R[2],nn=Math.hypot(dt,pt,qe);return nn<f?null:(dt*=nn=1/nn,pt*=nn,qe*=nn,I=Math.sin(P),F=1-(B=Math.cos(P)),G=T[0],W=T[1],K=T[2],Q=T[3],ie=T[4],oe=T[5],ae=T[6],le=T[7],_e=T[8],ue=T[9],be=T[10],We=T[11],Ue=dt*dt*F+B,Ve=pt*dt*F+qe*I,Xe=qe*dt*F-pt*I,$e=dt*pt*F-qe*I,Lt=pt*pt*F+B,At=qe*pt*F+dt*I,St=dt*qe*F+pt*I,yt=pt*qe*F-dt*I,Nt=qe*qe*F+B,p[0]=G*Ue+ie*Ve+_e*Xe,p[1]=W*Ue+oe*Ve+ue*Xe,p[2]=K*Ue+ae*Ve+be*Xe,p[3]=Q*Ue+le*Ve+We*Xe,p[4]=G*$e+ie*Lt+_e*At,p[5]=W*$e+oe*Lt+ue*At,p[6]=K*$e+ae*Lt+be*At,p[7]=Q*$e+le*Lt+We*At,p[8]=G*St+ie*yt+_e*Nt,p[9]=W*St+oe*yt+ue*Nt,p[10]=K*St+ae*yt+be*Nt,p[11]=Q*St+le*yt+We*Nt,T!==p&&(p[12]=T[12],p[13]=T[13],p[14]=T[14],p[15]=T[15]),p)}function wM(p,T,P){var R=Math.sin(P),I=Math.cos(P),B=T[4],F=T[5],G=T[6],W=T[7],K=T[8],Q=T[9],ie=T[10],oe=T[11];return T!==p&&(p[0]=T[0],p[1]=T[1],p[2]=T[2],p[3]=T[3],p[12]=T[12],p[13]=T[13],p[14]=T[14],p[15]=T[15]),p[4]=B*I+K*R,p[5]=F*I+Q*R,p[6]=G*I+ie*R,p[7]=W*I+oe*R,p[8]=K*I-B*R,p[9]=Q*I-F*R,p[10]=ie*I-G*R,p[11]=oe*I-W*R,p}function AM(p,T,P){var R=Math.sin(P),I=Math.cos(P),B=T[0],F=T[1],G=T[2],W=T[3],K=T[8],Q=T[9],ie=T[10],oe=T[11];return T!==p&&(p[4]=T[4],p[5]=T[5],p[6]=T[6],p[7]=T[7],p[12]=T[12],p[13]=T[13],p[14]=T[14],p[15]=T[15]),p[0]=B*I-K*R,p[1]=F*I-Q*R,p[2]=G*I-ie*R,p[3]=W*I-oe*R,p[8]=B*R+K*I,p[9]=F*R+Q*I,p[10]=G*R+ie*I,p[11]=W*R+oe*I,p}function SM(p,T,P){var R=Math.sin(P),I=Math.cos(P),B=T[0],F=T[1],G=T[2],W=T[3],K=T[4],Q=T[5],ie=T[6],oe=T[7];return T!==p&&(p[8]=T[8],p[9]=T[9],p[10]=T[10],p[11]=T[11],p[12]=T[12],p[13]=T[13],p[14]=T[14],p[15]=T[15]),p[0]=B*I+K*R,p[1]=F*I+Q*R,p[2]=G*I+ie*R,p[3]=W*I+oe*R,p[4]=K*I-B*R,p[5]=Q*I-F*R,p[6]=ie*I-G*R,p[7]=oe*I-W*R,p}function PM(p,T){return p[0]=1,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=1,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=1,p[11]=0,p[12]=T[0],p[13]=T[1],p[14]=T[2],p[15]=1,p}function OM(p,T){return p[0]=T[0],p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=T[1],p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=T[2],p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function RM(p,T,P){var R,I,B,F=P[0],G=P[1],W=P[2],K=Math.hypot(F,G,W);return K<f?null:(F*=K=1/K,G*=K,W*=K,R=Math.sin(T),B=1-(I=Math.cos(T)),p[0]=F*F*B+I,p[1]=G*F*B+W*R,p[2]=W*F*B-G*R,p[3]=0,p[4]=F*G*B-W*R,p[5]=G*G*B+I,p[6]=W*G*B+F*R,p[7]=0,p[8]=F*W*B+G*R,p[9]=G*W*B-F*R,p[10]=W*W*B+I,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p)}function LM(p,T){var P=Math.sin(T),R=Math.cos(T);return p[0]=1,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=R,p[6]=P,p[7]=0,p[8]=0,p[9]=-P,p[10]=R,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function CM(p,T){var P=Math.sin(T),R=Math.cos(T);return p[0]=R,p[1]=0,p[2]=-P,p[3]=0,p[4]=0,p[5]=1,p[6]=0,p[7]=0,p[8]=P,p[9]=0,p[10]=R,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function IM(p,T){var P=Math.sin(T),R=Math.cos(T);return p[0]=R,p[1]=P,p[2]=0,p[3]=0,p[4]=-P,p[5]=R,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=1,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function qy(p,T,P){var R=T[0],I=T[1],B=T[2],F=T[3],G=R+R,W=I+I,K=B+B,Q=R*G,ie=R*W,oe=R*K,ae=I*W,le=I*K,_e=B*K,ue=F*G,be=F*W,We=F*K;return p[0]=1-(ae+_e),p[1]=ie+We,p[2]=oe-be,p[3]=0,p[4]=ie-We,p[5]=1-(Q+_e),p[6]=le+ue,p[7]=0,p[8]=oe+be,p[9]=le-ue,p[10]=1-(Q+ae),p[11]=0,p[12]=P[0],p[13]=P[1],p[14]=P[2],p[15]=1,p}function MM(p,T){var P=new g(3),R=-T[0],I=-T[1],B=-T[2],F=T[3],G=T[4],W=T[5],K=T[6],Q=T[7],ie=R*R+I*I+B*B+F*F;return ie>0?(P[0]=2*(G*F+Q*R+W*B-K*I)/ie,P[1]=2*(W*F+Q*I+K*R-G*B)/ie,P[2]=2*(K*F+Q*B+G*I-W*R)/ie):(P[0]=2*(G*F+Q*R+W*B-K*I),P[1]=2*(W*F+Q*I+K*R-G*B),P[2]=2*(K*F+Q*B+G*I-W*R)),qy(p,T,P),p}function Xy(p,T){return p[0]=T[12],p[1]=T[13],p[2]=T[14],p}function Yy(p,T){var P=T[0],R=T[1],I=T[2],B=T[4],F=T[5],G=T[6],W=T[8],K=T[9],Q=T[10];return p[0]=Math.hypot(P,R,I),p[1]=Math.hypot(B,F,G),p[2]=Math.hypot(W,K,Q),p}function Ky(p,T){var P=new g(3);Yy(P,T);var R=1/P[0],I=1/P[1],B=1/P[2],F=T[0]*R,G=T[1]*I,W=T[2]*B,K=T[4]*R,Q=T[5]*I,ie=T[6]*B,oe=T[8]*R,ae=T[9]*I,le=T[10]*B,_e=F+Q+le,ue=0;return _e>0?(ue=2*Math.sqrt(_e+1),p[3]=.25*ue,p[0]=(ie-ae)/ue,p[1]=(oe-W)/ue,p[2]=(G-K)/ue):F>Q&&F>le?(ue=2*Math.sqrt(1+F-Q-le),p[3]=(ie-ae)/ue,p[0]=.25*ue,p[1]=(G+K)/ue,p[2]=(oe+W)/ue):Q>le?(ue=2*Math.sqrt(1+Q-F-le),p[3]=(oe-W)/ue,p[0]=(G+K)/ue,p[1]=.25*ue,p[2]=(ie+ae)/ue):(ue=2*Math.sqrt(1+le-F-Q),p[3]=(G-K)/ue,p[0]=(oe+W)/ue,p[1]=(ie+ae)/ue,p[2]=.25*ue),p}function DM(p,T,P,R){var I=T[0],B=T[1],F=T[2],G=T[3],W=I+I,K=B+B,Q=F+F,ie=I*W,oe=I*K,ae=I*Q,le=B*K,_e=B*Q,ue=F*Q,be=G*W,We=G*K,Ue=G*Q,Ve=R[0],Xe=R[1],$e=R[2];return p[0]=(1-(le+ue))*Ve,p[1]=(oe+Ue)*Ve,p[2]=(ae-We)*Ve,p[3]=0,p[4]=(oe-Ue)*Xe,p[5]=(1-(ie+ue))*Xe,p[6]=(_e+be)*Xe,p[7]=0,p[8]=(ae+We)*$e,p[9]=(_e-be)*$e,p[10]=(1-(ie+le))*$e,p[11]=0,p[12]=P[0],p[13]=P[1],p[14]=P[2],p[15]=1,p}function NM(p,T,P,R,I){var B=T[0],F=T[1],G=T[2],W=T[3],K=B+B,Q=F+F,ie=G+G,oe=B*K,ae=B*Q,le=B*ie,_e=F*Q,ue=F*ie,be=G*ie,We=W*K,Ue=W*Q,Ve=W*ie,Xe=R[0],$e=R[1],Lt=R[2],At=I[0],St=I[1],yt=I[2],Nt=(1-(_e+be))*Xe,dt=(ae+Ve)*Xe,pt=(le-Ue)*Xe,qe=(ae-Ve)*$e,nn=(1-(oe+be))*$e,ls=(ue+We)*$e,cs=(le+Ue)*Lt,Xb=(ue-We)*Lt,Yb=(1-(oe+_e))*Lt;return p[0]=Nt,p[1]=dt,p[2]=pt,p[3]=0,p[4]=qe,p[5]=nn,p[6]=ls,p[7]=0,p[8]=cs,p[9]=Xb,p[10]=Yb,p[11]=0,p[12]=P[0]+At-(Nt*At+qe*St+cs*yt),p[13]=P[1]+St-(dt*At+nn*St+Xb*yt),p[14]=P[2]+yt-(pt*At+ls*St+Yb*yt),p[15]=1,p}function kM(p,T){var P=T[0],R=T[1],I=T[2],B=T[3],F=P+P,G=R+R,W=I+I,K=P*F,Q=R*F,ie=R*G,oe=I*F,ae=I*G,le=I*W,_e=B*F,ue=B*G,be=B*W;return p[0]=1-ie-le,p[1]=Q+be,p[2]=oe-ue,p[3]=0,p[4]=Q-be,p[5]=1-K-le,p[6]=ae+_e,p[7]=0,p[8]=oe+ue,p[9]=ae-_e,p[10]=1-K-ie,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p}function BM(p,T,P,R,I,B,F){var G=1/(P-T),W=1/(I-R),K=1/(B-F);return p[0]=2*B*G,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=2*B*W,p[6]=0,p[7]=0,p[8]=(P+T)*G,p[9]=(I+R)*W,p[10]=(F+B)*K,p[11]=-1,p[12]=0,p[13]=0,p[14]=F*B*2*K,p[15]=0,p}function FM(p,T,P,R,I){var B,F=1/Math.tan(T/2);return p[0]=F/P,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=F,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[11]=-1,p[12]=0,p[13]=0,p[15]=0,I!=null&&I!==1/0?(B=1/(R-I),p[10]=(I+R)*B,p[14]=2*I*R*B):(p[10]=-1,p[14]=-2*R),p}function jM(p,T,P,R){var I=Math.tan(T.upDegrees*Math.PI/180),B=Math.tan(T.downDegrees*Math.PI/180),F=Math.tan(T.leftDegrees*Math.PI/180),G=Math.tan(T.rightDegrees*Math.PI/180),W=2/(F+G),K=2/(I+B);return p[0]=W,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=K,p[6]=0,p[7]=0,p[8]=-(F-G)*W*.5,p[9]=(I-B)*K*.5,p[10]=R/(P-R),p[11]=-1,p[12]=0,p[13]=0,p[14]=R*P/(P-R),p[15]=0,p}function zM(p,T,P,R,I,B,F){var G=1/(T-P),W=1/(R-I),K=1/(B-F);return p[0]=-2*G,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=-2*W,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=2*K,p[11]=0,p[12]=(T+P)*G,p[13]=(I+R)*W,p[14]=(F+B)*K,p[15]=1,p}function UM(p,T,P,R){var I,B,F,G,W,K,Q,ie,oe,ae,le=T[0],_e=T[1],ue=T[2],be=R[0],We=R[1],Ue=R[2],Ve=P[0],Xe=P[1],$e=P[2];return Math.abs(le-Ve)<f&&Math.abs(_e-Xe)<f&&Math.abs(ue-$e)<f?Wy(p):(Q=le-Ve,ie=_e-Xe,oe=ue-$e,I=We*(oe*=ae=1/Math.hypot(Q,ie,oe))-Ue*(ie*=ae),B=Ue*(Q*=ae)-be*oe,F=be*ie-We*Q,(ae=Math.hypot(I,B,F))?(I*=ae=1/ae,B*=ae,F*=ae):(I=0,B=0,F=0),G=ie*F-oe*B,W=oe*I-Q*F,K=Q*B-ie*I,(ae=Math.hypot(G,W,K))?(G*=ae=1/ae,W*=ae,K*=ae):(G=0,W=0,K=0),p[0]=I,p[1]=G,p[2]=Q,p[3]=0,p[4]=B,p[5]=W,p[6]=ie,p[7]=0,p[8]=F,p[9]=K,p[10]=oe,p[11]=0,p[12]=-(I*le+B*_e+F*ue),p[13]=-(G*le+W*_e+K*ue),p[14]=-(Q*le+ie*_e+oe*ue),p[15]=1,p)}function GM(p,T,P,R){var I=T[0],B=T[1],F=T[2],G=R[0],W=R[1],K=R[2],Q=I-P[0],ie=B-P[1],oe=F-P[2],ae=Q*Q+ie*ie+oe*oe;ae>0&&(Q*=ae=1/Math.sqrt(ae),ie*=ae,oe*=ae);var le=W*oe-K*ie,_e=K*Q-G*oe,ue=G*ie-W*Q;return(ae=le*le+_e*_e+ue*ue)>0&&(le*=ae=1/Math.sqrt(ae),_e*=ae,ue*=ae),p[0]=le,p[1]=_e,p[2]=ue,p[3]=0,p[4]=ie*ue-oe*_e,p[5]=oe*le-Q*ue,p[6]=Q*_e-ie*le,p[7]=0,p[8]=Q,p[9]=ie,p[10]=oe,p[11]=0,p[12]=I,p[13]=B,p[14]=F,p[15]=1,p}function VM(p){return"mat4("+p[0]+", "+p[1]+", "+p[2]+", "+p[3]+", "+p[4]+", "+p[5]+", "+p[6]+", "+p[7]+", "+p[8]+", "+p[9]+", "+p[10]+", "+p[11]+", "+p[12]+", "+p[13]+", "+p[14]+", "+p[15]+")"}function HM(p){return Math.hypot(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])}function WM(p,T,P){return p[0]=T[0]+P[0],p[1]=T[1]+P[1],p[2]=T[2]+P[2],p[3]=T[3]+P[3],p[4]=T[4]+P[4],p[5]=T[5]+P[5],p[6]=T[6]+P[6],p[7]=T[7]+P[7],p[8]=T[8]+P[8],p[9]=T[9]+P[9],p[10]=T[10]+P[10],p[11]=T[11]+P[11],p[12]=T[12]+P[12],p[13]=T[13]+P[13],p[14]=T[14]+P[14],p[15]=T[15]+P[15],p}function Zy(p,T,P){return p[0]=T[0]-P[0],p[1]=T[1]-P[1],p[2]=T[2]-P[2],p[3]=T[3]-P[3],p[4]=T[4]-P[4],p[5]=T[5]-P[5],p[6]=T[6]-P[6],p[7]=T[7]-P[7],p[8]=T[8]-P[8],p[9]=T[9]-P[9],p[10]=T[10]-P[10],p[11]=T[11]-P[11],p[12]=T[12]-P[12],p[13]=T[13]-P[13],p[14]=T[14]-P[14],p[15]=T[15]-P[15],p}function $M(p,T,P){return p[0]=T[0]*P,p[1]=T[1]*P,p[2]=T[2]*P,p[3]=T[3]*P,p[4]=T[4]*P,p[5]=T[5]*P,p[6]=T[6]*P,p[7]=T[7]*P,p[8]=T[8]*P,p[9]=T[9]*P,p[10]=T[10]*P,p[11]=T[11]*P,p[12]=T[12]*P,p[13]=T[13]*P,p[14]=T[14]*P,p[15]=T[15]*P,p}function qM(p,T,P,R){return p[0]=T[0]+P[0]*R,p[1]=T[1]+P[1]*R,p[2]=T[2]+P[2]*R,p[3]=T[3]+P[3]*R,p[4]=T[4]+P[4]*R,p[5]=T[5]+P[5]*R,p[6]=T[6]+P[6]*R,p[7]=T[7]+P[7]*R,p[8]=T[8]+P[8]*R,p[9]=T[9]+P[9]*R,p[10]=T[10]+P[10]*R,p[11]=T[11]+P[11]*R,p[12]=T[12]+P[12]*R,p[13]=T[13]+P[13]*R,p[14]=T[14]+P[14]*R,p[15]=T[15]+P[15]*R,p}function XM(p,T){return p[0]===T[0]&&p[1]===T[1]&&p[2]===T[2]&&p[3]===T[3]&&p[4]===T[4]&&p[5]===T[5]&&p[6]===T[6]&&p[7]===T[7]&&p[8]===T[8]&&p[9]===T[9]&&p[10]===T[10]&&p[11]===T[11]&&p[12]===T[12]&&p[13]===T[13]&&p[14]===T[14]&&p[15]===T[15]}function YM(p,T){var P=p[0],R=p[1],I=p[2],B=p[3],F=p[4],G=p[5],W=p[6],K=p[7],Q=p[8],ie=p[9],oe=p[10],ae=p[11],le=p[12],_e=p[13],ue=p[14],be=p[15],We=T[0],Ue=T[1],Ve=T[2],Xe=T[3],$e=T[4],Lt=T[5],At=T[6],St=T[7],yt=T[8],Nt=T[9],dt=T[10],pt=T[11],qe=T[12],nn=T[13],ls=T[14],cs=T[15];return Math.abs(P-We)<=f*Math.max(1,Math.abs(P),Math.abs(We))&&Math.abs(R-Ue)<=f*Math.max(1,Math.abs(R),Math.abs(Ue))&&Math.abs(I-Ve)<=f*Math.max(1,Math.abs(I),Math.abs(Ve))&&Math.abs(B-Xe)<=f*Math.max(1,Math.abs(B),Math.abs(Xe))&&Math.abs(F-$e)<=f*Math.max(1,Math.abs(F),Math.abs($e))&&Math.abs(G-Lt)<=f*Math.max(1,Math.abs(G),Math.abs(Lt))&&Math.abs(W-At)<=f*Math.max(1,Math.abs(W),Math.abs(At))&&Math.abs(K-St)<=f*Math.max(1,Math.abs(K),Math.abs(St))&&Math.abs(Q-yt)<=f*Math.max(1,Math.abs(Q),Math.abs(yt))&&Math.abs(ie-Nt)<=f*Math.max(1,Math.abs(ie),Math.abs(Nt))&&Math.abs(oe-dt)<=f*Math.max(1,Math.abs(oe),Math.abs(dt))&&Math.abs(ae-pt)<=f*Math.max(1,Math.abs(ae),Math.abs(pt))&&Math.abs(le-qe)<=f*Math.max(1,Math.abs(le),Math.abs(qe))&&Math.abs(_e-nn)<=f*Math.max(1,Math.abs(_e),Math.abs(nn))&&Math.abs(ue-ls)<=f*Math.max(1,Math.abs(ue),Math.abs(ls))&&Math.abs(be-cs)<=f*Math.max(1,Math.abs(be),Math.abs(cs))}var KM=$y,ZM=Zy;function ld(){var p=new g(3);return g!=Float32Array&&(p[0]=0,p[1]=0,p[2]=0),p}function QM(p){var T=new g(3);return T[0]=p[0],T[1]=p[1],T[2]=p[2],T}function Qy(p){var T=p[0],P=p[1],R=p[2];return Math.hypot(T,P,R)}function cd(p,T,P){var R=new g(3);return R[0]=p,R[1]=T,R[2]=P,R}function JM(p,T){return p[0]=T[0],p[1]=T[1],p[2]=T[2],p}function eD(p,T,P,R){return p[0]=T,p[1]=P,p[2]=R,p}function tD(p,T,P){return p[0]=T[0]+P[0],p[1]=T[1]+P[1],p[2]=T[2]+P[2],p}function Jy(p,T,P){return p[0]=T[0]-P[0],p[1]=T[1]-P[1],p[2]=T[2]-P[2],p}function eb(p,T,P){return p[0]=T[0]*P[0],p[1]=T[1]*P[1],p[2]=T[2]*P[2],p}function tb(p,T,P){return p[0]=T[0]/P[0],p[1]=T[1]/P[1],p[2]=T[2]/P[2],p}function rD(p,T){return p[0]=Math.ceil(T[0]),p[1]=Math.ceil(T[1]),p[2]=Math.ceil(T[2]),p}function nD(p,T){return p[0]=Math.floor(T[0]),p[1]=Math.floor(T[1]),p[2]=Math.floor(T[2]),p}function iD(p,T,P){return p[0]=Math.min(T[0],P[0]),p[1]=Math.min(T[1],P[1]),p[2]=Math.min(T[2],P[2]),p}function oD(p,T,P){return p[0]=Math.max(T[0],P[0]),p[1]=Math.max(T[1],P[1]),p[2]=Math.max(T[2],P[2]),p}function aD(p,T){return p[0]=Math.round(T[0]),p[1]=Math.round(T[1]),p[2]=Math.round(T[2]),p}function sD(p,T,P){return p[0]=T[0]*P,p[1]=T[1]*P,p[2]=T[2]*P,p}function uD(p,T,P,R){return p[0]=T[0]+P[0]*R,p[1]=T[1]+P[1]*R,p[2]=T[2]+P[2]*R,p}function rb(p,T){var P=T[0]-p[0],R=T[1]-p[1],I=T[2]-p[2];return Math.hypot(P,R,I)}function nb(p,T){var P=T[0]-p[0],R=T[1]-p[1],I=T[2]-p[2];return P*P+R*R+I*I}function ib(p){var T=p[0],P=p[1],R=p[2];return T*T+P*P+R*R}function lD(p,T){return p[0]=-T[0],p[1]=-T[1],p[2]=-T[2],p}function cD(p,T){return p[0]=1/T[0],p[1]=1/T[1],p[2]=1/T[2],p}function ob(p,T){var P=T[0],R=T[1],I=T[2],B=P*P+R*R+I*I;return B>0&&(B=1/Math.sqrt(B)),p[0]=T[0]*B,p[1]=T[1]*B,p[2]=T[2]*B,p}function fd(p,T){return p[0]*T[0]+p[1]*T[1]+p[2]*T[2]}function bl(p,T,P){var R=T[0],I=T[1],B=T[2],F=P[0],G=P[1],W=P[2];return p[0]=I*W-B*G,p[1]=B*F-R*W,p[2]=R*G-I*F,p}function fD(p,T,P,R){var I=T[0],B=T[1],F=T[2];return p[0]=I+R*(P[0]-I),p[1]=B+R*(P[1]-B),p[2]=F+R*(P[2]-F),p}function hD(p,T,P,R,I,B){var F=B*B,G=F*(2*B-3)+1,W=F*(B-2)+B,K=F*(B-1),Q=F*(3-2*B);return p[0]=T[0]*G+P[0]*W+R[0]*K+I[0]*Q,p[1]=T[1]*G+P[1]*W+R[1]*K+I[1]*Q,p[2]=T[2]*G+P[2]*W+R[2]*K+I[2]*Q,p}function dD(p,T,P,R,I,B){var F=1-B,G=F*F,W=B*B,K=G*F,Q=3*B*G,ie=3*W*F,oe=W*B;return p[0]=T[0]*K+P[0]*Q+R[0]*ie+I[0]*oe,p[1]=T[1]*K+P[1]*Q+R[1]*ie+I[1]*oe,p[2]=T[2]*K+P[2]*Q+R[2]*ie+I[2]*oe,p}function pD(p,T){T=T||1;var P=2*y()*Math.PI,R=2*y()-1,I=Math.sqrt(1-R*R)*T;return p[0]=Math.cos(P)*I,p[1]=Math.sin(P)*I,p[2]=R*T,p}function _D(p,T,P){var R=T[0],I=T[1],B=T[2],F=P[3]*R+P[7]*I+P[11]*B+P[15];return F=F||1,p[0]=(P[0]*R+P[4]*I+P[8]*B+P[12])/F,p[1]=(P[1]*R+P[5]*I+P[9]*B+P[13])/F,p[2]=(P[2]*R+P[6]*I+P[10]*B+P[14])/F,p}function gD(p,T,P){var R=T[0],I=T[1],B=T[2];return p[0]=R*P[0]+I*P[3]+B*P[6],p[1]=R*P[1]+I*P[4]+B*P[7],p[2]=R*P[2]+I*P[5]+B*P[8],p}function mD(p,T,P){var R=P[0],I=P[1],B=P[2],F=P[3],G=T[0],W=T[1],K=T[2],Q=I*K-B*W,ie=B*G-R*K,oe=R*W-I*G,ae=I*oe-B*ie,le=B*Q-R*oe,_e=R*ie-I*Q,ue=2*F;return Q*=ue,ie*=ue,oe*=ue,ae*=2,le*=2,_e*=2,p[0]=G+Q+ae,p[1]=W+ie+le,p[2]=K+oe+_e,p}function vD(p,T,P,R){var I=[],B=[];return I[0]=T[0]-P[0],I[1]=T[1]-P[1],I[2]=T[2]-P[2],B[0]=I[0],B[1]=I[1]*Math.cos(R)-I[2]*Math.sin(R),B[2]=I[1]*Math.sin(R)+I[2]*Math.cos(R),p[0]=B[0]+P[0],p[1]=B[1]+P[1],p[2]=B[2]+P[2],p}function yD(p,T,P,R){var I=[],B=[];return I[0]=T[0]-P[0],I[1]=T[1]-P[1],I[2]=T[2]-P[2],B[0]=I[2]*Math.sin(R)+I[0]*Math.cos(R),B[1]=I[1],B[2]=I[2]*Math.cos(R)-I[0]*Math.sin(R),p[0]=B[0]+P[0],p[1]=B[1]+P[1],p[2]=B[2]+P[2],p}function bD(p,T,P,R){var I=[],B=[];return I[0]=T[0]-P[0],I[1]=T[1]-P[1],I[2]=T[2]-P[2],B[0]=I[0]*Math.cos(R)-I[1]*Math.sin(R),B[1]=I[0]*Math.sin(R)+I[1]*Math.cos(R),B[2]=I[2],p[0]=B[0]+P[0],p[1]=B[1]+P[1],p[2]=B[2]+P[2],p}function ED(p,T){var P=p[0],R=p[1],I=p[2],B=T[0],F=T[1],G=T[2],W=Math.sqrt(P*P+R*R+I*I)*Math.sqrt(B*B+F*F+G*G),K=W&&fd(p,T)/W;return Math.acos(Math.min(Math.max(K,-1),1))}function TD(p){return p[0]=0,p[1]=0,p[2]=0,p}function xD(p){return"vec3("+p[0]+", "+p[1]+", "+p[2]+")"}function wD(p,T){return p[0]===T[0]&&p[1]===T[1]&&p[2]===T[2]}function AD(p,T){var P=p[0],R=p[1],I=p[2],B=T[0],F=T[1],G=T[2];return Math.abs(P-B)<=f*Math.max(1,Math.abs(P),Math.abs(B))&&Math.abs(R-F)<=f*Math.max(1,Math.abs(R),Math.abs(F))&&Math.abs(I-G)<=f*Math.max(1,Math.abs(I),Math.abs(G))}var Bn,SD=Jy,PD=eb,OD=tb,RD=rb,LD=nb,ab=Qy,CD=ib,ID=(Bn=ld(),function(p,T,P,R,I,B){var F,G;for(T||(T=3),P||(P=0),G=R?Math.min(R*T+P,p.length):p.length,F=P;F<G;F+=T)Bn[0]=p[F],Bn[1]=p[F+1],Bn[2]=p[F+2],I(Bn,Bn,B),p[F]=Bn[0],p[F+1]=Bn[1],p[F+2]=Bn[2];return p});function sb(){var p=new g(4);return g!=Float32Array&&(p[0]=0,p[1]=0,p[2]=0,p[3]=0),p}function ub(p){var T=new g(4);return T[0]=p[0],T[1]=p[1],T[2]=p[2],T[3]=p[3],T}function lb(p,T,P,R){var I=new g(4);return I[0]=p,I[1]=T,I[2]=P,I[3]=R,I}function cb(p,T){return p[0]=T[0],p[1]=T[1],p[2]=T[2],p[3]=T[3],p}function fb(p,T,P,R,I){return p[0]=T,p[1]=P,p[2]=R,p[3]=I,p}function hb(p,T,P){return p[0]=T[0]+P[0],p[1]=T[1]+P[1],p[2]=T[2]+P[2],p[3]=T[3]+P[3],p}function db(p,T,P){return p[0]=T[0]-P[0],p[1]=T[1]-P[1],p[2]=T[2]-P[2],p[3]=T[3]-P[3],p}function pb(p,T,P){return p[0]=T[0]*P[0],p[1]=T[1]*P[1],p[2]=T[2]*P[2],p[3]=T[3]*P[3],p}function _b(p,T,P){return p[0]=T[0]/P[0],p[1]=T[1]/P[1],p[2]=T[2]/P[2],p[3]=T[3]/P[3],p}function MD(p,T){return p[0]=Math.ceil(T[0]),p[1]=Math.ceil(T[1]),p[2]=Math.ceil(T[2]),p[3]=Math.ceil(T[3]),p}function DD(p,T){return p[0]=Math.floor(T[0]),p[1]=Math.floor(T[1]),p[2]=Math.floor(T[2]),p[3]=Math.floor(T[3]),p}function ND(p,T,P){return p[0]=Math.min(T[0],P[0]),p[1]=Math.min(T[1],P[1]),p[2]=Math.min(T[2],P[2]),p[3]=Math.min(T[3],P[3]),p}function kD(p,T,P){return p[0]=Math.max(T[0],P[0]),p[1]=Math.max(T[1],P[1]),p[2]=Math.max(T[2],P[2]),p[3]=Math.max(T[3],P[3]),p}function BD(p,T){return p[0]=Math.round(T[0]),p[1]=Math.round(T[1]),p[2]=Math.round(T[2]),p[3]=Math.round(T[3]),p}function gb(p,T,P){return p[0]=T[0]*P,p[1]=T[1]*P,p[2]=T[2]*P,p[3]=T[3]*P,p}function FD(p,T,P,R){return p[0]=T[0]+P[0]*R,p[1]=T[1]+P[1]*R,p[2]=T[2]+P[2]*R,p[3]=T[3]+P[3]*R,p}function mb(p,T){var P=T[0]-p[0],R=T[1]-p[1],I=T[2]-p[2],B=T[3]-p[3];return Math.hypot(P,R,I,B)}function vb(p,T){var P=T[0]-p[0],R=T[1]-p[1],I=T[2]-p[2],B=T[3]-p[3];return P*P+R*R+I*I+B*B}function hd(p){var T=p[0],P=p[1],R=p[2],I=p[3];return Math.hypot(T,P,R,I)}function dd(p){var T=p[0],P=p[1],R=p[2],I=p[3];return T*T+P*P+R*R+I*I}function jD(p,T){return p[0]=-T[0],p[1]=-T[1],p[2]=-T[2],p[3]=-T[3],p}function zD(p,T){return p[0]=1/T[0],p[1]=1/T[1],p[2]=1/T[2],p[3]=1/T[3],p}function yb(p,T){var P=T[0],R=T[1],I=T[2],B=T[3],F=P*P+R*R+I*I+B*B;return F>0&&(F=1/Math.sqrt(F)),p[0]=P*F,p[1]=R*F,p[2]=I*F,p[3]=B*F,p}function bb(p,T){return p[0]*T[0]+p[1]*T[1]+p[2]*T[2]+p[3]*T[3]}function UD(p,T,P,R){var I=P[0]*R[1]-P[1]*R[0],B=P[0]*R[2]-P[2]*R[0],F=P[0]*R[3]-P[3]*R[0],G=P[1]*R[2]-P[2]*R[1],W=P[1]*R[3]-P[3]*R[1],K=P[2]*R[3]-P[3]*R[2],Q=T[0],ie=T[1],oe=T[2],ae=T[3];return p[0]=ie*K-oe*W+ae*G,p[1]=-Q*K+oe*F-ae*B,p[2]=Q*W-ie*F+ae*I,p[3]=-Q*G+ie*B-oe*I,p}function Eb(p,T,P,R){var I=T[0],B=T[1],F=T[2],G=T[3];return p[0]=I+R*(P[0]-I),p[1]=B+R*(P[1]-B),p[2]=F+R*(P[2]-F),p[3]=G+R*(P[3]-G),p}function GD(p,T){var P,R,I,B,F,G;T=T||1;do F=(P=2*y()-1)*P+(R=2*y()-1)*R;while(F>=1);do G=(I=2*y()-1)*I+(B=2*y()-1)*B;while(G>=1);var W=Math.sqrt((1-F)/G);return p[0]=T*P,p[1]=T*R,p[2]=T*I*W,p[3]=T*B*W,p}function VD(p,T,P){var R=T[0],I=T[1],B=T[2],F=T[3];return p[0]=P[0]*R+P[4]*I+P[8]*B+P[12]*F,p[1]=P[1]*R+P[5]*I+P[9]*B+P[13]*F,p[2]=P[2]*R+P[6]*I+P[10]*B+P[14]*F,p[3]=P[3]*R+P[7]*I+P[11]*B+P[15]*F,p}function HD(p,T,P){var R=T[0],I=T[1],B=T[2],F=P[0],G=P[1],W=P[2],K=P[3],Q=K*R+G*B-W*I,ie=K*I+W*R-F*B,oe=K*B+F*I-G*R,ae=-F*R-G*I-W*B;return p[0]=Q*K+ae*-F+ie*-W-oe*-G,p[1]=ie*K+ae*-G+oe*-F-Q*-W,p[2]=oe*K+ae*-W+Q*-G-ie*-F,p[3]=T[3],p}function WD(p){return p[0]=0,p[1]=0,p[2]=0,p[3]=0,p}function $D(p){return"vec4("+p[0]+", "+p[1]+", "+p[2]+", "+p[3]+")"}function Tb(p,T){return p[0]===T[0]&&p[1]===T[1]&&p[2]===T[2]&&p[3]===T[3]}function xb(p,T){var P=p[0],R=p[1],I=p[2],B=p[3],F=T[0],G=T[1],W=T[2],K=T[3];return Math.abs(P-F)<=f*Math.max(1,Math.abs(P),Math.abs(F))&&Math.abs(R-G)<=f*Math.max(1,Math.abs(R),Math.abs(G))&&Math.abs(I-W)<=f*Math.max(1,Math.abs(I),Math.abs(W))&&Math.abs(B-K)<=f*Math.max(1,Math.abs(B),Math.abs(K))}var qD=db,XD=pb,YD=_b,KD=mb,ZD=vb,QD=hd,JD=dd,eN=function(){var p=sb();return function(T,P,R,I,B,F){var G,W;for(P||(P=4),R||(R=0),W=I?Math.min(I*P+R,T.length):T.length,G=R;G<W;G+=P)p[0]=T[G],p[1]=T[G+1],p[2]=T[G+2],p[3]=T[G+3],B(p,p,F),T[G]=p[0],T[G+1]=p[1],T[G+2]=p[2],T[G+3]=p[3];return T}}();function El(){var p=new g(4);return g!=Float32Array&&(p[0]=0,p[1]=0,p[2]=0),p[3]=1,p}function tN(p){return p[0]=0,p[1]=0,p[2]=0,p[3]=1,p}function wb(p,T,P){P*=.5;var R=Math.sin(P);return p[0]=R*T[0],p[1]=R*T[1],p[2]=R*T[2],p[3]=Math.cos(P),p}function rN(p,T){var P=2*Math.acos(T[3]),R=Math.sin(P/2);return R>f?(p[0]=T[0]/R,p[1]=T[1]/R,p[2]=T[2]/R):(p[0]=1,p[1]=0,p[2]=0),P}function nN(p,T){var P=md(p,T);return Math.acos(2*P*P-1)}function Ab(p,T,P){var R=T[0],I=T[1],B=T[2],F=T[3],G=P[0],W=P[1],K=P[2],Q=P[3];return p[0]=R*Q+F*G+I*K-B*W,p[1]=I*Q+F*W+B*G-R*K,p[2]=B*Q+F*K+R*W-I*G,p[3]=F*Q-R*G-I*W-B*K,p}function Sb(p,T,P){P*=.5;var R=T[0],I=T[1],B=T[2],F=T[3],G=Math.sin(P),W=Math.cos(P);return p[0]=R*W+F*G,p[1]=I*W+B*G,p[2]=B*W-I*G,p[3]=F*W-R*G,p}function Pb(p,T,P){P*=.5;var R=T[0],I=T[1],B=T[2],F=T[3],G=Math.sin(P),W=Math.cos(P);return p[0]=R*W-B*G,p[1]=I*W+F*G,p[2]=B*W+R*G,p[3]=F*W-I*G,p}function Ob(p,T,P){P*=.5;var R=T[0],I=T[1],B=T[2],F=T[3],G=Math.sin(P),W=Math.cos(P);return p[0]=R*W+I*G,p[1]=I*W-R*G,p[2]=B*W+F*G,p[3]=F*W-B*G,p}function iN(p,T){var P=T[0],R=T[1],I=T[2];return p[0]=P,p[1]=R,p[2]=I,p[3]=Math.sqrt(Math.abs(1-P*P-R*R-I*I)),p}function Rb(p,T){var P=T[0],R=T[1],I=T[2],B=T[3],F=Math.sqrt(P*P+R*R+I*I),G=Math.exp(B),W=F>0?G*Math.sin(F)/F:0;return p[0]=P*W,p[1]=R*W,p[2]=I*W,p[3]=G*Math.cos(F),p}function Lb(p,T){var P=T[0],R=T[1],I=T[2],B=T[3],F=Math.sqrt(P*P+R*R+I*I),G=F>0?Math.atan2(F,B)/F:0;return p[0]=P*G,p[1]=R*G,p[2]=I*G,p[3]=.5*Math.log(P*P+R*R+I*I+B*B),p}function oN(p,T,P){return Lb(p,T),Db(p,p,P),Rb(p,p),p}function Tl(p,T,P,R){var I,B,F,G,W,K=T[0],Q=T[1],ie=T[2],oe=T[3],ae=P[0],le=P[1],_e=P[2],ue=P[3];return(B=K*ae+Q*le+ie*_e+oe*ue)<0&&(B=-B,ae=-ae,le=-le,_e=-_e,ue=-ue),1-B>f?(I=Math.acos(B),F=Math.sin(I),G=Math.sin((1-R)*I)/F,W=Math.sin(R*I)/F):(G=1-R,W=R),p[0]=G*K+W*ae,p[1]=G*Q+W*le,p[2]=G*ie+W*_e,p[3]=G*oe+W*ue,p}function aN(p){var T=y(),P=y(),R=y(),I=Math.sqrt(1-T),B=Math.sqrt(T);return p[0]=I*Math.sin(2*Math.PI*P),p[1]=I*Math.cos(2*Math.PI*P),p[2]=B*Math.sin(2*Math.PI*R),p[3]=B*Math.cos(2*Math.PI*R),p}function sN(p,T){var P=T[0],R=T[1],I=T[2],B=T[3],F=P*P+R*R+I*I+B*B,G=F?1/F:0;return p[0]=-P*G,p[1]=-R*G,p[2]=-I*G,p[3]=B*G,p}function uN(p,T){return p[0]=-T[0],p[1]=-T[1],p[2]=-T[2],p[3]=T[3],p}function Cb(p,T){var P,R=T[0]+T[4]+T[8];if(R>0)P=Math.sqrt(R+1),p[3]=.5*P,P=.5/P,p[0]=(T[5]-T[7])*P,p[1]=(T[6]-T[2])*P,p[2]=(T[1]-T[3])*P;else{var I=0;T[4]>T[0]&&(I=1),T[8]>T[3*I+I]&&(I=2);var B=(I+1)%3,F=(I+2)%3;P=Math.sqrt(T[3*I+I]-T[3*B+B]-T[3*F+F]+1),p[I]=.5*P,P=.5/P,p[3]=(T[3*B+F]-T[3*F+B])*P,p[B]=(T[3*B+I]+T[3*I+B])*P,p[F]=(T[3*F+I]+T[3*I+F])*P}return p}function lN(p,T,P,R){var I=.5*Math.PI/180;T*=I,P*=I,R*=I;var B=Math.sin(T),F=Math.cos(T),G=Math.sin(P),W=Math.cos(P),K=Math.sin(R),Q=Math.cos(R);return p[0]=B*W*Q-F*G*K,p[1]=F*G*Q+B*W*K,p[2]=F*W*K-B*G*Q,p[3]=F*W*Q+B*G*K,p}function cN(p){return"quat("+p[0]+", "+p[1]+", "+p[2]+", "+p[3]+")"}var tn,Ib,Mb,pd,_d,rn,fN=ub,hN=lb,gd=cb,dN=fb,pN=hb,_N=Ab,Db=gb,md=bb,gN=Eb,vd=hd,mN=vd,yd=dd,vN=yd,bd=yb,yN=Tb,bN=xb,EN=(tn=ld(),Ib=cd(1,0,0),Mb=cd(0,1,0),function(p,T,P){var R=fd(T,P);return R<-.999999?(bl(tn,Ib,T),ab(tn)<1e-6&&bl(tn,Mb,T),ob(tn,tn),wb(p,tn,Math.PI),p):R>.999999?(p[0]=0,p[1]=0,p[2]=0,p[3]=1,p):(bl(tn,T,P),p[0]=tn[0],p[1]=tn[1],p[2]=tn[2],p[3]=1+R,bd(p,p))}),TN=(pd=El(),_d=El(),function(p,T,P,R,I,B){return Tl(pd,T,I,B),Tl(_d,P,R,B),Tl(p,pd,_d,2*B*(1-B)),p}),xN=(rn=Be(),function(p,T,P,R){return rn[0]=P[0],rn[3]=P[1],rn[6]=P[2],rn[1]=R[0],rn[4]=R[1],rn[7]=R[2],rn[2]=-T[0],rn[5]=-T[1],rn[8]=-T[2],bd(p,Cb(p,rn))});function wN(){var p=new g(8);return g!=Float32Array&&(p[0]=0,p[1]=0,p[2]=0,p[4]=0,p[5]=0,p[6]=0,p[7]=0),p[3]=1,p}function AN(p){var T=new g(8);return T[0]=p[0],T[1]=p[1],T[2]=p[2],T[3]=p[3],T[4]=p[4],T[5]=p[5],T[6]=p[6],T[7]=p[7],T}function SN(p,T,P,R,I,B,F,G){var W=new g(8);return W[0]=p,W[1]=T,W[2]=P,W[3]=R,W[4]=I,W[5]=B,W[6]=F,W[7]=G,W}function PN(p,T,P,R,I,B,F){var G=new g(8);G[0]=p,G[1]=T,G[2]=P,G[3]=R;var W=.5*I,K=.5*B,Q=.5*F;return G[4]=W*R+K*P-Q*T,G[5]=K*R+Q*p-W*P,G[6]=Q*R+W*T-K*p,G[7]=-W*p-K*T-Q*P,G}function Nb(p,T,P){var R=.5*P[0],I=.5*P[1],B=.5*P[2],F=T[0],G=T[1],W=T[2],K=T[3];return p[0]=F,p[1]=G,p[2]=W,p[3]=K,p[4]=R*K+I*W-B*G,p[5]=I*K+B*F-R*W,p[6]=B*K+R*G-I*F,p[7]=-R*F-I*G-B*W,p}function ON(p,T){return p[0]=0,p[1]=0,p[2]=0,p[3]=1,p[4]=.5*T[0],p[5]=.5*T[1],p[6]=.5*T[2],p[7]=0,p}function RN(p,T){return p[0]=T[0],p[1]=T[1],p[2]=T[2],p[3]=T[3],p[4]=0,p[5]=0,p[6]=0,p[7]=0,p}function LN(p,T){var P=El();Ky(P,T);var R=new g(3);return Xy(R,T),Nb(p,P,R),p}function kb(p,T){return p[0]=T[0],p[1]=T[1],p[2]=T[2],p[3]=T[3],p[4]=T[4],p[5]=T[5],p[6]=T[6],p[7]=T[7],p}function CN(p){return p[0]=0,p[1]=0,p[2]=0,p[3]=1,p[4]=0,p[5]=0,p[6]=0,p[7]=0,p}function IN(p,T,P,R,I,B,F,G,W){return p[0]=T,p[1]=P,p[2]=R,p[3]=I,p[4]=B,p[5]=F,p[6]=G,p[7]=W,p}var MN=gd;function DN(p,T){return p[0]=T[4],p[1]=T[5],p[2]=T[6],p[3]=T[7],p}var NN=gd;function kN(p,T){return p[4]=T[0],p[5]=T[1],p[6]=T[2],p[7]=T[3],p}function BN(p,T){var P=T[4],R=T[5],I=T[6],B=T[7],F=-T[0],G=-T[1],W=-T[2],K=T[3];return p[0]=2*(P*K+B*F+R*W-I*G),p[1]=2*(R*K+B*G+I*F-P*W),p[2]=2*(I*K+B*W+P*G-R*F),p}function FN(p,T,P){var R=T[0],I=T[1],B=T[2],F=T[3],G=.5*P[0],W=.5*P[1],K=.5*P[2],Q=T[4],ie=T[5],oe=T[6],ae=T[7];return p[0]=R,p[1]=I,p[2]=B,p[3]=F,p[4]=F*G+I*K-B*W+Q,p[5]=F*W+B*G-R*K+ie,p[6]=F*K+R*W-I*G+oe,p[7]=-R*G-I*W-B*K+ae,p}function jN(p,T,P){var R=-T[0],I=-T[1],B=-T[2],F=T[3],G=T[4],W=T[5],K=T[6],Q=T[7],ie=G*F+Q*R+W*B-K*I,oe=W*F+Q*I+K*R-G*B,ae=K*F+Q*B+G*I-W*R,le=Q*F-G*R-W*I-K*B;return Sb(p,T,P),R=p[0],I=p[1],B=p[2],F=p[3],p[4]=ie*F+le*R+oe*B-ae*I,p[5]=oe*F+le*I+ae*R-ie*B,p[6]=ae*F+le*B+ie*I-oe*R,p[7]=le*F-ie*R-oe*I-ae*B,p}function zN(p,T,P){var R=-T[0],I=-T[1],B=-T[2],F=T[3],G=T[4],W=T[5],K=T[6],Q=T[7],ie=G*F+Q*R+W*B-K*I,oe=W*F+Q*I+K*R-G*B,ae=K*F+Q*B+G*I-W*R,le=Q*F-G*R-W*I-K*B;return Pb(p,T,P),R=p[0],I=p[1],B=p[2],F=p[3],p[4]=ie*F+le*R+oe*B-ae*I,p[5]=oe*F+le*I+ae*R-ie*B,p[6]=ae*F+le*B+ie*I-oe*R,p[7]=le*F-ie*R-oe*I-ae*B,p}function UN(p,T,P){var R=-T[0],I=-T[1],B=-T[2],F=T[3],G=T[4],W=T[5],K=T[6],Q=T[7],ie=G*F+Q*R+W*B-K*I,oe=W*F+Q*I+K*R-G*B,ae=K*F+Q*B+G*I-W*R,le=Q*F-G*R-W*I-K*B;return Ob(p,T,P),R=p[0],I=p[1],B=p[2],F=p[3],p[4]=ie*F+le*R+oe*B-ae*I,p[5]=oe*F+le*I+ae*R-ie*B,p[6]=ae*F+le*B+ie*I-oe*R,p[7]=le*F-ie*R-oe*I-ae*B,p}function GN(p,T,P){var R=P[0],I=P[1],B=P[2],F=P[3],G=T[0],W=T[1],K=T[2],Q=T[3];return p[0]=G*F+Q*R+W*B-K*I,p[1]=W*F+Q*I+K*R-G*B,p[2]=K*F+Q*B+G*I-W*R,p[3]=Q*F-G*R-W*I-K*B,G=T[4],W=T[5],K=T[6],Q=T[7],p[4]=G*F+Q*R+W*B-K*I,p[5]=W*F+Q*I+K*R-G*B,p[6]=K*F+Q*B+G*I-W*R,p[7]=Q*F-G*R-W*I-K*B,p}function VN(p,T,P){var R=T[0],I=T[1],B=T[2],F=T[3],G=P[0],W=P[1],K=P[2],Q=P[3];return p[0]=R*Q+F*G+I*K-B*W,p[1]=I*Q+F*W+B*G-R*K,p[2]=B*Q+F*K+R*W-I*G,p[3]=F*Q-R*G-I*W-B*K,G=P[4],W=P[5],K=P[6],Q=P[7],p[4]=R*Q+F*G+I*K-B*W,p[5]=I*Q+F*W+B*G-R*K,p[6]=B*Q+F*K+R*W-I*G,p[7]=F*Q-R*G-I*W-B*K,p}function HN(p,T,P,R){if(Math.abs(R)<f)return kb(p,T);var I=Math.hypot(P[0],P[1],P[2]);R*=.5;var B=Math.sin(R),F=B*P[0]/I,G=B*P[1]/I,W=B*P[2]/I,K=Math.cos(R),Q=T[0],ie=T[1],oe=T[2],ae=T[3];p[0]=Q*K+ae*F+ie*W-oe*G,p[1]=ie*K+ae*G+oe*F-Q*W,p[2]=oe*K+ae*W+Q*G-ie*F,p[3]=ae*K-Q*F-ie*G-oe*W;var le=T[4],_e=T[5],ue=T[6],be=T[7];return p[4]=le*K+be*F+_e*W-ue*G,p[5]=_e*K+be*G+ue*F-le*W,p[6]=ue*K+be*W+le*G-_e*F,p[7]=be*K-le*F-_e*G-ue*W,p}function WN(p,T,P){return p[0]=T[0]+P[0],p[1]=T[1]+P[1],p[2]=T[2]+P[2],p[3]=T[3]+P[3],p[4]=T[4]+P[4],p[5]=T[5]+P[5],p[6]=T[6]+P[6],p[7]=T[7]+P[7],p}function Bb(p,T,P){var R=T[0],I=T[1],B=T[2],F=T[3],G=P[4],W=P[5],K=P[6],Q=P[7],ie=T[4],oe=T[5],ae=T[6],le=T[7],_e=P[0],ue=P[1],be=P[2],We=P[3];return p[0]=R*We+F*_e+I*be-B*ue,p[1]=I*We+F*ue+B*_e-R*be,p[2]=B*We+F*be+R*ue-I*_e,p[3]=F*We-R*_e-I*ue-B*be,p[4]=R*Q+F*G+I*K-B*W+ie*We+le*_e+oe*be-ae*ue,p[5]=I*Q+F*W+B*G-R*K+oe*We+le*ue+ae*_e-ie*be,p[6]=B*Q+F*K+R*W-I*G+ae*We+le*be+ie*ue-oe*_e,p[7]=F*Q-R*G-I*W-B*K+le*We-ie*_e-oe*ue-ae*be,p}var $N=Bb;function qN(p,T,P){return p[0]=T[0]*P,p[1]=T[1]*P,p[2]=T[2]*P,p[3]=T[3]*P,p[4]=T[4]*P,p[5]=T[5]*P,p[6]=T[6]*P,p[7]=T[7]*P,p}var Fb=md;function XN(p,T,P,R){var I=1-R;return Fb(T,P)<0&&(R=-R),p[0]=T[0]*I+P[0]*R,p[1]=T[1]*I+P[1]*R,p[2]=T[2]*I+P[2]*R,p[3]=T[3]*I+P[3]*R,p[4]=T[4]*I+P[4]*R,p[5]=T[5]*I+P[5]*R,p[6]=T[6]*I+P[6]*R,p[7]=T[7]*I+P[7]*R,p}function YN(p,T){var P=xl(T);return p[0]=-T[0]/P,p[1]=-T[1]/P,p[2]=-T[2]/P,p[3]=T[3]/P,p[4]=-T[4]/P,p[5]=-T[5]/P,p[6]=-T[6]/P,p[7]=T[7]/P,p}function KN(p,T){return p[0]=-T[0],p[1]=-T[1],p[2]=-T[2],p[3]=T[3],p[4]=-T[4],p[5]=-T[5],p[6]=-T[6],p[7]=T[7],p}var jb=vd,ZN=jb,xl=yd,QN=xl;function JN(p,T){var P=xl(T);if(P>0){P=Math.sqrt(P);var R=T[0]/P,I=T[1]/P,B=T[2]/P,F=T[3]/P,G=T[4],W=T[5],K=T[6],Q=T[7],ie=R*G+I*W+B*K+F*Q;p[0]=R,p[1]=I,p[2]=B,p[3]=F,p[4]=(G-R*ie)/P,p[5]=(W-I*ie)/P,p[6]=(K-B*ie)/P,p[7]=(Q-F*ie)/P}return p}function ek(p){return"quat2("+p[0]+", "+p[1]+", "+p[2]+", "+p[3]+", "+p[4]+", "+p[5]+", "+p[6]+", "+p[7]+")"}function tk(p,T){return p[0]===T[0]&&p[1]===T[1]&&p[2]===T[2]&&p[3]===T[3]&&p[4]===T[4]&&p[5]===T[5]&&p[6]===T[6]&&p[7]===T[7]}function rk(p,T){var P=p[0],R=p[1],I=p[2],B=p[3],F=p[4],G=p[5],W=p[6],K=p[7],Q=T[0],ie=T[1],oe=T[2],ae=T[3],le=T[4],_e=T[5],ue=T[6],be=T[7];return Math.abs(P-Q)<=f*Math.max(1,Math.abs(P),Math.abs(Q))&&Math.abs(R-ie)<=f*Math.max(1,Math.abs(R),Math.abs(ie))&&Math.abs(I-oe)<=f*Math.max(1,Math.abs(I),Math.abs(oe))&&Math.abs(B-ae)<=f*Math.max(1,Math.abs(B),Math.abs(ae))&&Math.abs(F-le)<=f*Math.max(1,Math.abs(F),Math.abs(le))&&Math.abs(G-_e)<=f*Math.max(1,Math.abs(G),Math.abs(_e))&&Math.abs(W-ue)<=f*Math.max(1,Math.abs(W),Math.abs(ue))&&Math.abs(K-be)<=f*Math.max(1,Math.abs(K),Math.abs(be))}function zb(){var p=new g(2);return g!=Float32Array&&(p[0]=0,p[1]=0),p}function nk(p){var T=new g(2);return T[0]=p[0],T[1]=p[1],T}function ik(p,T){var P=new g(2);return P[0]=p,P[1]=T,P}function ok(p,T){return p[0]=T[0],p[1]=T[1],p}function ak(p,T,P){return p[0]=T,p[1]=P,p}function sk(p,T,P){return p[0]=T[0]+P[0],p[1]=T[1]+P[1],p}function Ub(p,T,P){return p[0]=T[0]-P[0],p[1]=T[1]-P[1],p}function Gb(p,T,P){return p[0]=T[0]*P[0],p[1]=T[1]*P[1],p}function Vb(p,T,P){return p[0]=T[0]/P[0],p[1]=T[1]/P[1],p}function uk(p,T){return p[0]=Math.ceil(T[0]),p[1]=Math.ceil(T[1]),p}function lk(p,T){return p[0]=Math.floor(T[0]),p[1]=Math.floor(T[1]),p}function ck(p,T,P){return p[0]=Math.min(T[0],P[0]),p[1]=Math.min(T[1],P[1]),p}function fk(p,T,P){return p[0]=Math.max(T[0],P[0]),p[1]=Math.max(T[1],P[1]),p}function hk(p,T){return p[0]=Math.round(T[0]),p[1]=Math.round(T[1]),p}function dk(p,T,P){return p[0]=T[0]*P,p[1]=T[1]*P,p}function pk(p,T,P,R){return p[0]=T[0]+P[0]*R,p[1]=T[1]+P[1]*R,p}function Hb(p,T){var P=T[0]-p[0],R=T[1]-p[1];return Math.hypot(P,R)}function Wb(p,T){var P=T[0]-p[0],R=T[1]-p[1];return P*P+R*R}function $b(p){var T=p[0],P=p[1];return Math.hypot(T,P)}function qb(p){var T=p[0],P=p[1];return T*T+P*P}function _k(p,T){return p[0]=-T[0],p[1]=-T[1],p}function gk(p,T){return p[0]=1/T[0],p[1]=1/T[1],p}function mk(p,T){var P=T[0],R=T[1],I=P*P+R*R;return I>0&&(I=1/Math.sqrt(I)),p[0]=T[0]*I,p[1]=T[1]*I,p}function vk(p,T){return p[0]*T[0]+p[1]*T[1]}function yk(p,T,P){var R=T[0]*P[1]-T[1]*P[0];return p[0]=p[1]=0,p[2]=R,p}function bk(p,T,P,R){var I=T[0],B=T[1];return p[0]=I+R*(P[0]-I),p[1]=B+R*(P[1]-B),p}function Ek(p,T){T=T||1;var P=2*y()*Math.PI;return p[0]=Math.cos(P)*T,p[1]=Math.sin(P)*T,p}function Tk(p,T,P){var R=T[0],I=T[1];return p[0]=P[0]*R+P[2]*I,p[1]=P[1]*R+P[3]*I,p}function xk(p,T,P){var R=T[0],I=T[1];return p[0]=P[0]*R+P[2]*I+P[4],p[1]=P[1]*R+P[3]*I+P[5],p}function wk(p,T,P){var R=T[0],I=T[1];return p[0]=P[0]*R+P[3]*I+P[6],p[1]=P[1]*R+P[4]*I+P[7],p}function Ak(p,T,P){var R=T[0],I=T[1];return p[0]=P[0]*R+P[4]*I+P[12],p[1]=P[1]*R+P[5]*I+P[13],p}function Sk(p,T,P,R){var I=T[0]-P[0],B=T[1]-P[1],F=Math.sin(R),G=Math.cos(R);return p[0]=I*G-B*F+P[0],p[1]=I*F+B*G+P[1],p}function Pk(p,T){var P=p[0],R=p[1],I=T[0],B=T[1],F=Math.sqrt(P*P+R*R)*Math.sqrt(I*I+B*B),G=F&&(P*I+R*B)/F;return Math.acos(Math.min(Math.max(G,-1),1))}function Ok(p){return p[0]=0,p[1]=0,p}function Rk(p){return"vec2("+p[0]+", "+p[1]+")"}function Lk(p,T){return p[0]===T[0]&&p[1]===T[1]}function Ck(p,T){var P=p[0],R=p[1],I=T[0],B=T[1];return Math.abs(P-I)<=f*Math.max(1,Math.abs(P),Math.abs(I))&&Math.abs(R-B)<=f*Math.max(1,Math.abs(R),Math.abs(B))}var Ik=$b,Mk=Ub,Dk=Gb,Nk=Vb,kk=Hb,Bk=Wb,Fk=qb,jk=function(){var p=zb();return function(T,P,R,I,B,F){var G,W;for(P||(P=2),R||(R=0),W=I?Math.min(I*P+R,T.length):T.length,G=R;G<W;G+=P)p[0]=T[G],p[1]=T[G+1],B(p,p,F),T[G]=p[0],T[G+1]=p[1];return T}}()},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(0),m=function(){function _(){var v=this;this._initialized=!1,this.assertInitialized=function(){return _.assertInitializedFalse(v)},this.assertUninitialized=function(){}}return _.initialize=function(){return function(v,h,c){var o=c.value;return c.value=function(){var l=this;return d.assert(this._initialized===!1,"re-initialization of initialized object not anticipated"),this._initialized=o.apply(this,arguments),this._initialized?(this.assertInitialized=function(){},this.assertUninitialized=function(){return _.assertUninitializedFalse(l)}):(this.assertUninitialized=function(){},this.assertInitialized=function(){return _.assertInitializedFalse(l)}),this._initialized},c}},_.uninitialize=function(){return function(v,h,c){var o=c.value;return c.value=function(){var l=this;d.assert(this._initialized===!0,"expected object to be initialized in order to uninitialize"),o.apply(this),this._initialized=!1,this.assertUninitialized=function(){},this.assertInitialized=function(){return _.assertInitializedFalse(l)}},c}},_.discard=function(){return function(v,h,c){var o=c.value;return c.value=function(){var l=this;d.assert(this._initialized===!0,"expected object to be initialized in order to uninitialize"),o.apply(this),this._initialized=!1,this.assertUninitialized=function(){},this.assertInitialized=function(){return _.assertInitializedFalse(l)}},c}},_.assert_initialized=function(){return function(v,h,c){var o=c.value;return c.value=function(){return this.assertInitialized(),o.apply(this,arguments)},c}},_.assert_uninitialized=function(){return function(v,h,c){var o=c.value;return c.value=function(){this.assertUninitialized(),o.apply(this,arguments)},c}},Object.defineProperty(_.prototype,"initialized",{get:function(){return this._initialized},enumerable:!0,configurable:!0}),_.assertInitializedFalse=function(v){return d.assert(!1,"instance of "+v.constructor.name+" expected to be initialized")},_.assertUninitializedFalse=function(v){return d.assert(!1,"instance of "+v.constructor.name+" not expected to be initialized")},_}();a.Initializable=m},function(n,a,i){var d,m=i(1);(function(_){function v(h){return h>0?h-Math.floor(h):h-Math.ceil(h)}_.sign=function(h){return h>0?1:h<0?-1:0},_.clamp=function(h,c,o){return Math.max(c,Math.min(o,h))},_.fract=v,_.v2=function(){return m.vec2.create()},_.clamp2=function(h,c,o,l){return h[0]=Math.max(o[0],Math.min(l[0],c[0])),h[1]=Math.max(o[1],Math.min(l[1],c[1])),h},_.abs2=function(h,c){return h[0]=Math.abs(c[0]),h[1]=Math.abs(c[1]),h},_.v3=function(){return m.vec3.create()},_.clamp3=function(h,c,o,l){return h[0]=Math.max(o[0],Math.min(l[0],c[0])),h[1]=Math.max(o[1],Math.min(l[1],c[1])),h[2]=Math.max(o[2],Math.min(l[2],c[2])),h},_.abs3=function(h,c){return h[0]=Math.abs(c[0]),h[1]=Math.abs(c[1]),h[2]=Math.abs(c[2]),h},_.encode_float24x1_to_uint8x3=function(h,c){return h[0]=Math.floor(256*c),h[1]=Math.floor(256*v(256*c)),h[2]=Math.floor(256*v(65536*c)),h},_.decode_float24x1_from_uint8x3=function(h){return(h[0]+(h[1]+h[2]*(1/256))*(1/256))*(1/256)},_.encode_uint24_to_rgb8=function(h,c){return h[0]=c>>0&255,h[1]=c>>8&255,h[2]=c>>16&255,h},_.encode_uint32_to_rgba8=function(h,c){return h[0]=c>>0&255,h[1]=c>>8&255,h[2]=c>>16&255,h[3]=c>>24&255,h},_.decode_uint24_from_rgb8=function(h){return h[0]+(h[1]<<8)+(h[2]<<16)},_.decode_uint32_from_rgba8=function(h){return h[0]+(h[1]<<8)+(h[2]<<16)+(h[3]<<24)},_.fromVec4=function(h){return h[3]===0?m.vec3.fromValues(h[0],h[1],h[2]):m.vec3.fromValues(h[0]/h[3],h[1]/h[3],h[2]/h[3])},_.v4=function(){return m.vec4.create()},_.clamp4=function(h,c,o,l){return h[0]=Math.max(o[0],Math.min(l[0],c[0])),h[1]=Math.max(o[1],Math.min(l[1],c[1])),h[2]=Math.max(o[2],Math.min(l[2],c[2])),h[3]=Math.max(o[3],Math.min(l[3],c[3])),h},_.abs4=function(h,c){return h[0]=Math.abs(c[0]),h[1]=Math.abs(c[1]),h[2]=Math.abs(c[2]),h[3]=Math.abs(c[3]),h},_.fromVec3=function(h){return m.vec4.fromValues(h[0],h[1],h[2],1)},_.parseVec2=function(h){if(h!==void 0&&h!==""){var c=[];try{c=JSON.parse("["+h+"]")}catch{return}return c.length!==2||isNaN(c[0])||isNaN(c[1])?void 0:m.vec2.clone(c)}},_.parseVec3=function(h){if(h!==void 0&&h!==""){var c=[];try{c=JSON.parse("["+h+"]")}catch{return}return c.length!==3||isNaN(c[0])||isNaN(c[1])||isNaN(c[2])?void 0:m.vec3.clone(c)}},_.parseVec4=function(h){if(h!==void 0&&h!==""){var c=[];try{c=JSON.parse("["+h+"]")}catch{return}return c.length!==4||isNaN(c[0])||isNaN(c[1])||isNaN(c[2])||isNaN(c[3])?void 0:m.vec4.clone(c)}},_.mix=function(h,c,o){return h*(1-o)+c*o},_.m2=function(){return m.mat2.create()},_.m3=function(){return m.mat3.create()},_.m4=function(){return m.mat4.create()}})(d||(d={})),n.exports=d},function(n,a,i){var d,m=this&&this.__extends||(d=function(l,s){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var g in f)f.hasOwnProperty(g)&&(u[g]=f[g])})(l,s)},function(l,s){function u(){this.constructor=l}d(l,s),l.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}),_=this&&this.__decorate||function(l,s,u,f){var g,y=arguments.length,b=y<3?s:f===null?f=Object.getOwnPropertyDescriptor(s,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(l,s,u,f);else for(var E=l.length-1;E>=0;E--)(g=l[E])&&(b=(y<3?g(b):y>3?g(s,u,b):g(s,u))||b);return y>3&&b&&Object.defineProperty(s,u,b),b};Object.defineProperty(a,"__esModule",{value:!0});var v=i(0),h=i(20),c=i(2),o=function(l){function s(){var u=l!==null&&l.apply(this,arguments)||this;return u._width=0,u._height=0,u._internalFormat=0,u._format=0,u._type=0,u._mipmap=!1,u._anisotropy=void 0,u}return m(s,l),s.prototype.create=function(u,f,g,y,b){v.assert(u>0&&f>0,"texture requires valid width and height of greater than zero");var E=this._context.gl,x=this._context.gl2facade;if(this._object=E.createTexture(),this._width=u,this._height=f,this._internalFormat=g,this._format=y,this._type=b,E.bindTexture(E.TEXTURE_2D,this._object),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),s.MAX_ANISOTROPY===void 0)if(this._context.supportsTextureFilterAnisotropic){var w=this._context.textureFilterAnisotropic;s.MAX_ANISOTROPY=E.getParameter(w.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s.MAX_ANISOTROPY=0;return x.texImage2D(E.TEXTURE_2D,0,this._internalFormat,this._width,this._height,0,this._format,this._type),E.bindTexture(E.TEXTURE_2D,s.DEFAULT_TEXTURE),this._valid=E.isTexture(this._object),this.reallocate(),this._object},s.prototype.delete=function(){v.assert(this._object instanceof WebGLTexture,"expected WebGLTexture object"),this._context.gl.deleteTexture(this._object),this._object=void 0,this._valid=!1,this._internalFormat=0,this._format=0,this._type=0,this._width=0,this._height=0},s.prototype.reallocate=function(){var u=this.context.gl,f=this._context.gl2facade,g=this._width*this._height*h.byteSizeOfFormat(this.context,this._internalFormat);this._type===f.HALF_FLOAT&&this._internalFormat!==u.RGBA16F?g*=2:this._type===u.FLOAT&&this._internalFormat!==u.RGBA16F&&(g*=4),this.context.allocationRegister.reallocate(this._identifier,g)},s.prototype.bind=function(u){var f=this.context.gl;u&&f.activeTexture(u),f.bindTexture(f.TEXTURE_2D,this._object)},s.prototype.unbind=function(u){var f=this.context.gl;u&&f.activeTexture(u),f.bindTexture(f.TEXTURE_2D,s.DEFAULT_TEXTURE)},s.prototype.fetch=function(u,f,g){var y=this;f===void 0&&(f=!1),g===void 0&&(g=!1);var b=this.context.gl;return new Promise(function(E,x){var w=new Image;w.onerror=function(){v.log(v.LogLevel.Error,"loading image from '"+w.src+"' failed"),x()},w.onload=function(){y.resize(w.width,w.height),g||b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0),y.data(w),b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1),E()},f&&(w.crossOrigin="anonymous"),w.src=u})},s.prototype.data=function(u,f,g){f===void 0&&(f=!0),g===void 0&&(g=!0);var y=this.context.gl,b=this._context.gl2facade;f&&this.bind(),b.texImage2D(y.TEXTURE_2D,0,this._internalFormat,this._width,this._height,0,this._format,this._type,u),this._anisotropy!==void 0&&this._anisotropy>0?this.maxAnisotropy(this._anisotropy,!1,!1):this._mipmap&&this.generateMipMap(!1,!1),g&&this.unbind(),this.reallocate()},s.prototype.filter=function(u,f,g,y){g===void 0&&(g=!0),y===void 0&&(y=!0);var b=this.context.gl;g&&this.bind(),v.logIf(u===b.LINEAR_MIPMAP_LINEAR||u===b.LINEAR_MIPMAP_NEAREST,v.LogLevel.Debug,"magnification does not utilize a MipMap (refer to LINEAR and NEAREST only)"),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,u),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,f),this._mipmap=f===b.LINEAR_MIPMAP_LINEAR||f===b.LINEAR_MIPMAP_NEAREST,this._mipmap&&b.generateMipmap(b.TEXTURE_2D),y&&this.unbind()},s.prototype.wrap=function(u,f,g,y){g===void 0&&(g=!0),y===void 0&&(y=!0);var b=this.context.gl;g&&this.bind(),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,u),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,f),y&&this.unbind()},s.prototype.reformat=function(u,f,g,y,b){y===void 0&&(y=!0),b===void 0&&(b=!0),(u!==this._internalFormat||f!==void 0&&f!==this._format||g!==void 0&&g!==this._type)&&(v.assert(u!==void 0,"valid internal format expected"),this._internalFormat=u,f&&(this._format=f),g&&(this._type=g),this.data(void 0,y,b))},s.prototype.resize=function(u,f,g,y){g===void 0&&(g=!0),y===void 0&&(y=!0),u===this._width&&f===this._height||(this._width=u,this._height=f,this.data(void 0,g,y))},s.prototype.generateMipMap=function(u,f){u===void 0&&(u=!0),f===void 0&&(f=!0);var g=this.context.gl;u&&this.bind(),g.generateMipmap(g.TEXTURE_2D),f&&this.unbind(),this._mipmap=!0},s.prototype.maxAnisotropy=function(u,f,g){if(f===void 0&&(f=!0),g===void 0&&(g=!0),this._context.supportsTextureFilterAnisotropic!==!1){var y=this.context.gl,b=this._context.textureFilterAnisotropic;return this._anisotropy=u===void 0?void 0:Math.max(0,Math.min(s.MAX_ANISOTROPY,u)),v.logIf(u!==this._anisotropy,v.LogLevel.Debug,"value clamped to max supported anisotropy of "+s.MAX_ANISOTROPY+", given "+u),f&&this.bind(),y.texParameterf(y.TEXTURE_2D,b.TEXTURE_MAX_ANISOTROPY_EXT,this._anisotropy===void 0?0:this._anisotropy),this.generateMipMap(!1,g),this._anisotropy}v.log(v.LogLevel.Debug,"setting anisotropy not supported (EXT_texture_filter_anisotropic missing)")},Object.defineProperty(s.prototype,"bytes",{get:function(){return this.assertInitialized(),this.context.allocationRegister.allocated(this._identifier)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"internalFormat",{get:function(){return this.assertInitialized(),this._internalFormat},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"format",{get:function(){return this.assertInitialized(),this._format},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"type",{get:function(){return this.assertInitialized(),this._type},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"width",{get:function(){return this.assertInitialized(),this._width},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"height",{get:function(){return this.assertInitialized(),this._height},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return this.assertInitialized(),[this._width,this._height]},enumerable:!0,configurable:!0}),s.DEFAULT_TEXTURE=void 0,s.MAX_ANISOTROPY=void 0,_([c.Initializable.assert_initialized()],s.prototype,"bind",null),_([c.Initializable.assert_initialized()],s.prototype,"unbind",null),_([c.Initializable.assert_initialized()],s.prototype,"fetch",null),_([c.Initializable.assert_initialized()],s.prototype,"data",null),_([c.Initializable.assert_initialized()],s.prototype,"filter",null),_([c.Initializable.assert_initialized()],s.prototype,"wrap",null),_([c.Initializable.assert_initialized()],s.prototype,"reformat",null),_([c.Initializable.assert_initialized()],s.prototype,"resize",null),s}(i(8).AbstractObject);a.Texture2D=o},function(n,a,i){var d,m=this&&this.__extends||(d=function(o,l){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)u.hasOwnProperty(f)&&(s[f]=u[f])})(o,l)},function(o,l){function s(){this.constructor=o}d(o,l),o.prototype=l===null?Object.create(l):(s.prototype=l.prototype,new s)}),_=this&&this.__decorate||function(o,l,s,u){var f,g=arguments.length,y=g<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,s):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(o,l,s,u);else for(var b=o.length-1;b>=0;b--)(f=o[b])&&(y=(g<3?f(y):g>3?f(l,s,y):f(l,s))||y);return g>3&&y&&Object.defineProperty(l,s,y),y};Object.defineProperty(a,"__esModule",{value:!0});var v=i(0),h=i(2),c=function(o){function l(){var s=o!==null&&o.apply(this,arguments)||this;return s._target=l.DEFAULT_BUFFER,s}return m(l,o),l.prototype.create=function(s){var u=this._context.gl;return this._object=u.createBuffer(),this._valid=this._object instanceof WebGLBuffer,this._valid&&(v.assert(s===u.ARRAY_BUFFER||s===u.ELEMENT_ARRAY_BUFFER,"either ARRAY_BUFFER or ELEMENT_ARRAY_BUFFER expected as buffer target"),this._target=s),this._object},l.prototype.delete=function(){v.assert(this._object instanceof WebGLBuffer,"expected WebGLBuffer object"),this._context.gl.deleteBuffer(this._object),this._object=void 0,this._valid=!1,this._target=l.DEFAULT_BUFFER},l.prototype.bind=function(){v.assert(this._target===this._context.gl.ARRAY_BUFFER||this._target===this._context.gl.ELEMENT_ARRAY_BUFFER,"expected either ARRAY_BUFFER or ELEMENT_ARRAY_BUFFER as buffer target"),this._context.gl.bindBuffer(this._target,this._object)},l.prototype.unbind=function(){this.context.gl.bindBuffer(this._target,l.DEFAULT_BUFFER)},l.prototype.data=function(s,u,f,g){f===void 0&&(f=!0),g===void 0&&(g=!0);var y=this.context.gl;f&&this.bind(),y.bufferData(this._target,s,u),g&&this.unbind(),this._valid=y.isBuffer(this._object)&&y.getError()===y.NO_ERROR;var b=typeof s=="number"?s:s.byteLength,E=this._valid?b:0;this.context.allocationRegister.reallocate(this._identifier,E)},l.prototype.subData=function(s,u,f,g,y,b){f===void 0&&(f=0),g===void 0&&(g=0),y===void 0&&(y=!0),b===void 0&&(b=!0);var E=this.context.gl;y&&this.bind(),this.context.gl2facade.bufferSubData(this._target,s,u,f,g),b&&this.unbind(),this._valid=E.getError()===E.NO_ERROR},l.prototype.attribEnable=function(s,u,f,g,y,b,E,x){g===void 0&&(g=!1),y===void 0&&(y=0),b===void 0&&(b=0),E===void 0&&(E=!0),x===void 0&&(x=!0);var w=this.context.gl;E&&this.bind(),w.vertexAttribPointer(s,u,f,g,y,b),w.enableVertexAttribArray(s),x&&this.unbind()},l.prototype.attribDisable=function(s,u,f){u===void 0&&(u=!0),f===void 0&&(f=!0);var g=this.context.gl;u&&this.bind(),g.disableVertexAttribArray(s),f&&this.unbind()},Object.defineProperty(l.prototype,"bytes",{get:function(){return this.assertInitialized(),this.context.allocationRegister.allocated(this._identifier)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"target",{get:function(){return this.assertInitialized(),this._target},enumerable:!0,configurable:!0}),l.DEFAULT_BUFFER=void 0,_([h.Initializable.assert_initialized()],l.prototype,"bind",null),_([h.Initializable.assert_initialized()],l.prototype,"unbind",null),_([h.Initializable.assert_initialized()],l.prototype,"data",null),_([h.Initializable.assert_initialized()],l.prototype,"attribEnable",null),_([h.Initializable.assert_initialized()],l.prototype,"attribDisable",null),l}(i(8).AbstractObject);a.Buffer=c},function(n,a,i){var d,m=this&&this.__extends||(d=function(o,l){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)u.hasOwnProperty(f)&&(s[f]=u[f])})(o,l)},function(o,l){function s(){this.constructor=o}d(o,l),o.prototype=l===null?Object.create(l):(s.prototype=l.prototype,new s)}),_=this&&this.__decorate||function(o,l,s,u){var f,g=arguments.length,y=g<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,s):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(o,l,s,u);else for(var b=o.length-1;b>=0;b--)(f=o[b])&&(y=(g<3?f(y):g>3?f(l,s,y):f(l,s))||y);return g>3&&y&&Object.defineProperty(l,s,y),y};Object.defineProperty(a,"__esModule",{value:!0});var v=i(0),h=i(2),c=function(o){function l(){var s=o!==null&&o.apply(this,arguments)||this;return s._shaders=new Array,s._linked=!1,s}return m(l,o),l.prototype.create=function(s,u){s===void 0&&(s=new Array),u===void 0&&(u=!0);for(var f=this._context.gl,g=0,y=0,b=0,E=s;b<E.length;b++)switch(E[b].type){case f.VERTEX_SHADER:++g;break;case f.FRAGMENT_SHADER:++y;break;default:v.assert(!1,"Unknown shader type detected.")}if(v.logIf(g<1,v.LogLevel.Error,"at least one vertex shader is expected"),v.logIf(y<1,v.LogLevel.Error,"at least one fragment shader is expected"),!(g<1||y<1))return this._object=f.createProgram(),this._valid=f.isProgram(this._object),v.assert(this._object instanceof WebGLProgram,"expected WebGLProgram object to be created"),s.length>0&&this.attach(s,u),this._object},l.prototype.delete=function(){v.assert(this._object!==void 0,"expected WebGLProgram object"),this._context.gl.deleteProgram(this._object),this._object=void 0,this._valid=!1},l.prototype.attach=function(s,u){u===void 0&&(u=!1),v.assert(this._object!==void 0,"expected a WebGLProgram object");for(var f=this._context.gl,g=0,y=s instanceof Array?s:[s];g<y.length;g++){var b=y[g];this._shaders.indexOf(b)>-1||(this._shaders.push(b),b.initialized?(f.attachShader(this._object,b.object),b.ref()):v.log(v.LogLevel.Error,"shader '"+b.identifier+"' not initialized."))}return u&&this.link(),!0},l.prototype.detach=function(s){v.assert(this._object!==void 0,"expected WebGLProgram object");for(var u=this._context.gl,f=0,g=s instanceof Array?s:[s];f<g.length;f++){var y=g[f],b=this._shaders.indexOf(y);b>-1&&this._shaders.splice(b),v.assert(y.initialized,"expected shader '"+y.identifier+"' to be initialized"),u.detachShader(this._object,y.object),y.unref()}},l.prototype.link=function(){v.assert(this._object!==void 0,"expected WebGLProgram object");var s=this._context.gl;if(s.linkProgram(this._object),s.getProgramParameter(this._object,s.LINK_STATUS))this._linked=!0;else{var u=s.getProgramInfoLog(this._object);v.log(v.LogLevel.Error,"linking of program '"+this._identifier+"' failed: '"+u+"'"),this._linked=!1}return this._linked},l.prototype.bind=function(){this._context.gl.useProgram(this._object)},l.prototype.unbind=function(){this._context.gl.useProgram(l.DEFAULT_PROGRAM)},l.prototype.uniform=function(s){return this._context.gl.getUniformLocation(this._object,s)},l.prototype.attribute=function(s,u){return u!==void 0?(v.logIf(this._linked,v.LogLevel.Debug,"name-to-generic attribute index mapping does go into effect on next linking, given "+s+" -> "+u+" ("+this.identifier+")"),this._context.gl.bindAttribLocation(this._object,u,s),u):this._context.gl.getAttribLocation(this._object,s)},Object.defineProperty(l.prototype,"shaders",{get:function(){return this._shaders},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"linked",{get:function(){return this._linked},enumerable:!0,configurable:!0}),l.DEFAULT_PROGRAM=void 0,_([h.Initializable.assert_initialized()],l.prototype,"bind",null),_([h.Initializable.assert_initialized()],l.prototype,"unbind",null),_([h.Initializable.assert_initialized()],l.prototype,"uniform",null),_([h.Initializable.assert_initialized()],l.prototype,"attribute",null),l}(i(8).AbstractObject);a.Program=c},function(n,a,i){var d,m=this&&this.__extends||(d=function(h,c){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var s in l)l.hasOwnProperty(s)&&(o[s]=l[s])})(h,c)},function(h,c){function o(){this.constructor=h}d(h,c),h.prototype=c===null?Object.create(c):(o.prototype=c.prototype,new o)});Object.defineProperty(a,"__esModule",{value:!0});var _=i(0),v=function(h){function c(o,l,s){var u=h.call(this,o,s)||this;u._compiled=!1;var f=o.gl;if(s===void 0)switch(l){case o.gl.FRAGMENT_SHADER:s="FragmentShader";break;case o.gl.VERTEX_SHADER:s="VertexShader";break;default:_.assert(!1,"expected either a FRAGMENT_SHADER ("+f.FRAGMENT_SHADER+") or a VERTEX_SHADER ("+f.VERTEX_SHADER+"), given "+l)}return u._type=l,u}return m(c,h),c.prototype.create=function(o,l){l===void 0&&(l=!0);var s=this._context.gl;return this._object=s.createShader(this._type),this._valid=s.isShader(this._object),this._compiled=!1,_.assert(this._object instanceof WebGLShader,"expected WebGLShader object to be created"),o&&(this.source=o),o&&l&&this.compile(),this._object},c.prototype.delete=function(){_.assert(this._object!==void 0,"expected WebGLShader object"),this._context.gl.deleteShader(this._object),this._object=void 0,this._valid=!1,this._compiled=!1},c.prototype.compile=function(){var o=this._context.gl,l=this.sourceWithReplacements;if(this._context.isWebGL2&&(l=`#version 300 es
`+l),o.shaderSource(this._object,l),o.compileShader(this._object),this._compiled=o.getShaderParameter(this._object,o.COMPILE_STATUS),!this._compiled){var s=o.getShaderInfoLog(this._object);_.log(_.LogLevel.Error,"compilation of shader '"+this._identifier+"' failed: "+s)}},c.prototype.replace=function(o,l){this._replacements===void 0&&(this._replacements=new Map),this._replacements.set(o,l)},Object.defineProperty(c.prototype,"type",{get:function(){return this.assertInitialized(),this._type},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"source",{get:function(){return this.assertInitialized(),this._source},set:function(o){this._source!==o&&(this._source=o)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"sourceWithReplacements",{get:function(){if(this._replacements===void 0)return this._source;var o=this._source;return this._replacements.forEach(function(l,s){var u=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");o=o.replace(new RegExp(u,"g"),l)}),o},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"compiled",{get:function(){return this.assertInitialized(),this._compiled},enumerable:!0,configurable:!0}),c}(i(8).AbstractObject);a.Shader=v},function(n,a,i){var d,m=this&&this.__extends||(d=function(o,l){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)u.hasOwnProperty(f)&&(s[f]=u[f])})(o,l)},function(o,l){function s(){this.constructor=o}d(o,l),o.prototype=l===null?Object.create(l):(s.prototype=l.prototype,new s)}),_=this&&this.__decorate||function(o,l,s,u){var f,g=arguments.length,y=g<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,s):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(o,l,s,u);else for(var b=o.length-1;b>=0;b--)(f=o[b])&&(y=(g<3?f(y):g>3?f(l,s,y):f(l,s))||y);return g>3&&y&&Object.defineProperty(l,s,y),y};Object.defineProperty(a,"__esModule",{value:!0});var v=i(0),h=i(2),c=function(o){function l(s,u){var f=o.call(this)||this;return f._valid=!1,f._referenceCount=0,f._context=s,f._identifier=u!==void 0&&u!==""?u:"Object",f}return m(l,o),l.prototype.initialize=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return this._identifier=this._context.allocationRegister.createUniqueIdentifier(this._identifier),this.create.apply(this,s),this._valid||(this._context.allocationRegister.deleteUniqueIdentifier(this._identifier),v.log(v.LogLevel.Error,"initialization of '"+this._identifier+"' failed")),this._valid},l.prototype.uninitialize=function(){this._context.allocationRegister.reallocate(this._identifier,0),this._context.allocationRegister.deleteUniqueIdentifier(this._identifier),this.delete(),v.assert(this._object===void 0,"expected object '"+this._identifier+"' to be undefined after delete"),v.assert(this._valid===!1,"expected object '"+this._identifier+"' to be invalid after delete")},Object.defineProperty(l.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"identifier",{get:function(){return this._identifier},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"object",{get:function(){return v.assert(this._object!==void 0,"access to undefined object"),this._object},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"valid",{get:function(){return this._valid},enumerable:!0,configurable:!0}),l.prototype.ref=function(){v.assert(this.initialized,"expected object to be initialized in order to be referenced"),++this._referenceCount},l.prototype.unref=function(){v.assert(this._referenceCount>0,"expected object to be referenced in order to decrease its reference count"),--this._referenceCount},_([h.Initializable.initialize()],l.prototype,"initialize",null),_([h.Initializable.uninitialize()],l.prototype,"uninitialize",null),l}(h.Initializable);a.AbstractObject=c},function(n,a,i){var d,m=this&&this.__extends||(d=function(o,l){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)u.hasOwnProperty(f)&&(s[f]=u[f])})(o,l)},function(o,l){function s(){this.constructor=o}d(o,l),o.prototype=l===null?Object.create(l):(s.prototype=l.prototype,new s)}),_=this&&this.__decorate||function(o,l,s,u){var f,g=arguments.length,y=g<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,s):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(o,l,s,u);else for(var b=o.length-1;b>=0;b--)(f=o[b])&&(y=(g<3?f(y):g>3?f(l,s,y):f(l,s))||y);return g>3&&y&&Object.defineProperty(l,s,y),y};Object.defineProperty(a,"__esModule",{value:!0});var v=i(2),h=i(49),c=function(o){function l(s,u){var f=o.call(this)||this;return f._buffers=new Array,u=u!==void 0&&u!==""?u:f.constructor.name,f._vertexArray=new h.VertexArray(s,u+"VAO"),f}return m(l,o),l.prototype.initialize=function(){for(var s=this,u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];for(var g=u[0],y=u[1],b=!0,E=0;E<this._buffers.length;++E)b=this._buffers[E].initialize(g[E])&&b;return this._vertexArray.initialize(function(){return s.bindBuffers(y)},function(){return s.unbindBuffers(y)}),this._vertexArray.valid&&b},l.prototype.uninitialize=function(){this._vertexArray.uninitialize(),this._buffers.forEach(function(s){return s.uninitialize()})},l.prototype.bind=function(){this._vertexArray.bind()},l.prototype.unbind=function(){this._vertexArray.unbind()},Object.defineProperty(l.prototype,"buffers",{get:function(){return this._buffers},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"context",{get:function(){return this._vertexArray.context},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"vertexArray",{get:function(){return this._vertexArray},enumerable:!0,configurable:!0}),_([v.Initializable.initialize()],l.prototype,"initialize",null),_([v.Initializable.uninitialize()],l.prototype,"uninitialize",null),_([v.Initializable.assert_initialized()],l.prototype,"bind",null),_([v.Initializable.assert_initialized()],l.prototype,"unbind",null),l}(v.Initializable);a.Geometry=c},function(n,a){n.exports=r(15)},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(52),m=function(){function _(){this._camera=void 0,this._reference=new d.Camera}return Object.defineProperty(_.prototype,"camera",{set:function(v){this._camera!==v&&(this._camera=v,v!==void 0&&(Object.assign(this._reference,v),this.update()))},enumerable:!0,configurable:!0}),_}();a.CameraModifier=m},function(n,a,i){var d,m=this&&this.__extends||(d=function(l,s){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var g in f)f.hasOwnProperty(g)&&(u[g]=f[g])})(l,s)},function(l,s){function u(){this.constructor=l}d(l,s),l.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}),_=this&&this.__decorate||function(l,s,u,f){var g,y=arguments.length,b=y<3?s:f===null?f=Object.getOwnPropertyDescriptor(s,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(l,s,u,f);else for(var E=l.length-1;E>=0;E--)(g=l[E])&&(b=(y<3?g(b):y>3?g(s,u,b):g(s,u))||b);return y>3&&b&&Object.defineProperty(s,u,b),b};Object.defineProperty(a,"__esModule",{value:!0});var v=i(5),h=i(9),c=i(2),o=function(l){function s(u,f){var g=l.call(this,u,f)||this;f=f!==void 0&&f!==""?f:g.constructor.name;var y=new v.Buffer(u,f+"VBO");return g._buffers.push(y),g}return m(s,l),s.prototype.bindBuffers=function(){this._buffers[0].attribEnable(this._vertexLocation,2,this.context.gl.FLOAT,!1,0,0,!0,!1)},s.prototype.unbindBuffers=function(){this._buffers[0].attribDisable(this._vertexLocation,!0,!0)},s.prototype.initialize=function(u){u===void 0&&(u=0),this._vertexLocation=u;var f=this.context.gl,g=l.prototype.initialize.call(this,[f.ARRAY_BUFFER]);return this._buffers[0].data(s.VERTICES,f.STATIC_DRAW),g},s.prototype.draw=function(){var u=this.context.gl;u.drawArrays(u.TRIANGLES,0,3)},Object.defineProperty(s.prototype,"vertexLocation",{get:function(){return this._vertexLocation},enumerable:!0,configurable:!0}),s.VERTICES=new Float32Array([-1,-3,3,1,-1,1]),_([c.Initializable.assert_initialized()],s.prototype,"draw",null),s}(h.Geometry);a.NdcFillingTriangle=o},function(n,a,i){var d,m=i(1),_=i(3),v=i(0);(function(h){function c(s){return v.assert(s.length===2,"expected length of buffer to be 2, given "+s.length),[s[0],s[1]]}function o(s){return v.assert(s.length===3,"expected length of buffer to be 3, given "+s.length),[s[0],s[1],s[2]]}function l(s){return v.assert(s.length===4,"expected length of buffer to be 4, given "+s.length),[s[0],s[1],s[2],s[3]]}h.tuple2=c,h.tuple3=o,h.tuple4=l,h.clampf=function(s,u){var f=_.clamp(s,0,1);return v.logIf(u!==void 0&&s<0||s>1,v.LogLevel.Info,u+" clamped to ["+f+"], given ["+s+"]"),f},h.clampf2=function(s,u){var f=m.vec2.fromValues(s[0],s[1]);return(s[0]<0||s[0]>1||s[1]<0||s[1]>1)&&(_.clamp2(f,f,m.vec2.fromValues(0,0),m.vec2.fromValues(1,1)),v.logIf(u!==void 0,v.LogLevel.Info,u+" clamped to ["+f+"], given ["+s+"]")),c(f)},h.clampf3=function(s,u){var f=m.vec3.fromValues(s[0],s[1],s[2]);return(s[0]<0||s[0]>1||s[1]<0||s[1]>1||s[2]<0||s[2]>1)&&(_.clamp3(f,f,m.vec3.fromValues(0,0,0),m.vec3.fromValues(1,1,1)),v.logIf(u!==void 0,v.LogLevel.Info,u+" clamped to ["+f+"], given ["+s+"]")),o(f)},h.clampf4=function(s,u){var f=m.vec4.fromValues(s[0],s[1],s[2],s[3]);return(s[0]<0||s[0]>1||s[1]<0||s[1]>1||s[2]<0||s[2]>1||s[3]<0||s[3]>1)&&(_.clamp4(f,f,m.vec4.fromValues(0,0,0,0),m.vec4.fromValues(1,1,1,1)),v.logIf(u!==void 0,v.LogLevel.Info,u+" clamped to ["+f+"], given ["+s+"]")),l(f)},h.duplicate2=function(s){return[s[0],s[1]]},h.duplicate3=function(s){return[s[0],s[1],s[2]]},h.duplicate4=function(s){return[s[0],s[1],s[2],s[3]]},h.equals2=function(s,u){return s[0]===u[0]&&s[1]===u[1]},h.equals3=function(s,u){return s[0]===u[0]&&s[1]===u[1]&&s[2]===u[2]},h.equals4=function(s,u){return s[0]===u[0]&&s[1]===u[1]&&s[2]===u[2]&&s[3]===u[3]}})(d||(d={})),n.exports=d},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(0),m=function(){function _(){}return _.queryInternalTextureFormat=function(v,h,c){var o=v.gl,l=v.gl2facade,s=v.isWebGL1&&v.supportsTextureFloat||v.isWebGL2&&v.supportsColorBufferFloat,u=v.isWebGL1&&v.supportsTextureHalfFloat||v.isWebGL2&&v.supportsColorBufferFloat;c===void 0&&(c=_.Precision.auto);var f,g,y=c===void 0?_.Precision.auto:c;if(c in _.Precision||(d.log(d.LogLevel.Warning,"unknown precision '"+y+"' changed to '"+_.Precision.auto+"'"),c=_.Precision.auto),c===_.Precision.auto&&(y=s?_.Precision.float:u?_.Precision.half:_.Precision.byte),y===_.Precision.half&&u?(v.isWebGL2?v.colorBufferFloat:v.textureHalfFloat,f=l.HALF_FLOAT,g=1):y!==_.Precision.float&&y!==_.Precision.half||!s?(f=o.UNSIGNED_BYTE,g=2):(v.isWebGL2?v.colorBufferFloat:v.textureFloat,f=o.FLOAT,g=0),v.isWebGL1)return d.assert([o.RGB,o.RGBA].includes(h),"target must be gl.RGB or gl.RGBA in WebGL 1"),[h,f,y];switch(h){case o.RGBA:return[[o.RGBA32F,o.RGBA16F,o.RGBA8][g],f,y];case o.RGB:return[[o.RGB32F,o.RGB16F,o.RGB8][g],f,y];case o.RG:return[[o.RG32F,o.RG16F,o.RG8][g],f,y];case o.RED:return[[o.R32F,o.R16F,o.R8][g],f,y];default:d.assert(!1,"internal format querying is not yet supported for formats other than RGBA, RGB")}return[o.NONE,o.NONE,y]},_}();a.Wizard=m,function(_){(function(v){v.float="float",v.half="half",v.byte="byte",v.auto="auto"})(_.Precision||(_.Precision={}))}(m=a.Wizard||(a.Wizard={})),a.Wizard=m},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(0),m=function(){function _(){}return _.alter=function(v,h){d.assert(h.hasOwnProperty("any"),"expected alterable object to provide 'any' key"),h.any=!0;var c=v.split("."),o=c.shift();if(d.assert(o===""||h.hasOwnProperty(o),"expected object to have key '"+o+"' in order to capture alterations"),o===""||typeof h[o]=="object")if(o!==""&&c.length>0)_.alter(c.join("."),h[o]);else for(var l=o!==""?h[o]:h,s=0,u=Object.getOwnPropertyNames(l);s<u.length;s++){var f=u[s];f!=="any"&&_.alter(f,l)}else h[o]=!0},_.reset=function(v){for(var h=0,c=Object.getOwnPropertyNames(v);h<c.length;h++){var o=c[h];typeof v[o]!="object"?v[o]=!1:_.reset(v[o])}},_.prototype.alter=function(v){return _.alter(v,this)},_.prototype.reset=function(){return _.reset(this)},_}();a.ChangeLookup=m},function(n,a,i){var d=i(35),m=a.ValidationError=function(b,E,x,w,S,O){w&&(this.property=w),b&&(this.message=b),x&&(x.id?this.schema=x.id:this.schema=x),E&&(this.instance=E),this.name=S,this.argument=O,this.stack=this.toString()};m.prototype.toString=function(){return this.property+" "+this.message};var _=a.ValidatorResult=function(b,E,x,w){this.instance=b,this.schema=E,this.propertyPath=w.propertyPath,this.errors=[],this.throwError=x&&x.throwError,this.disableFormat=x&&x.disableFormat===!0};function v(b,E){return E+": "+b.toString()+`
`}_.prototype.addError=function(b){var E;if(typeof b=="string")E=new m(b,this.instance,this.schema,this.propertyPath);else{if(!b)throw new Error("Missing error detail");if(!b.message)throw new Error("Missing error message");if(!b.name)throw new Error("Missing validator type");E=new m(b.message,this.instance,this.schema,this.propertyPath,b.name,b.argument)}if(this.throwError)throw E;return this.errors.push(E),E},_.prototype.importErrors=function(b){typeof b=="string"||b&&b.validatorType?this.addError(b):b&&b.errors&&Array.prototype.push.apply(this.errors,b.errors)},_.prototype.toString=function(b){return this.errors.map(v).join("")},Object.defineProperty(_.prototype,"valid",{get:function(){return!this.errors.length}});var h=a.SchemaError=function b(E,x){this.message=E,this.schema=x,Error.call(this,E),Error.captureStackTrace(this,b)};h.prototype=Object.create(Error.prototype,{constructor:{value:h,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var c=a.SchemaContext=function(b,E,x,w,S){this.schema=b,this.options=E,this.propertyPath=x,this.base=w,this.schemas=S};c.prototype.resolve=function(b){return d.resolve(this.base,b)},c.prototype.makeChild=function(b,E){var x=E===void 0?this.propertyPath:this.propertyPath+l(E),w=d.resolve(this.base,b.id||""),S=new c(b,this.options,x,w,Object.create(this.schemas));return b.id&&!S.schemas[w]&&(S.schemas[w]=b),S};var o=a.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(b){return typeof b=="string"&&parseFloat(b)===parseInt(b,10)&&!isNaN(b)},regex:function(b){var E=!0;try{new RegExp(b)}catch{E=!1}return E},style:/\s*(.+?):\s*([^;]+);?/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};o.regexp=o.regex,o.pattern=o.regex,o.ipv4=o["ip-address"],a.isFormat=function(b,E,x){if(typeof b=="string"&&o[E]!==void 0){if(o[E]instanceof RegExp)return o[E].test(b);if(typeof o[E]=="function")return o[E](b)}else if(x&&x.customFormats&&typeof x.customFormats[E]=="function")return x.customFormats[E](b);return!0};var l=a.makeSuffix=function(b){return(b=b.toString()).match(/[.\s\[\]]/)||b.match(/^[\d]/)?b.match(/^\d+$/)?"["+b+"]":"["+JSON.stringify(b)+"]":"."+b};function s(b,E,x,w){typeof x=="object"?E[w]=g(b[w],x):b.indexOf(x)===-1&&E.push(x)}function u(b,E,x){E[x]=b[x]}function f(b,E,x,w){typeof E[w]=="object"&&E[w]&&b[w]?x[w]=g(b[w],E[w]):x[w]=E[w]}function g(b,E){var x=Array.isArray(E),w=x&&[]||{};return x?(b=b||[],w=w.concat(b),E.forEach(s.bind(null,b,w))):(b&&typeof b=="object"&&Object.keys(b).forEach(u.bind(null,b,w)),Object.keys(E).forEach(f.bind(null,b,E,w))),w}function y(b){return"/"+encodeURIComponent(b).replace(/~/g,"%7E")}a.deepCompareStrict=function b(E,x){if(typeof E!=typeof x)return!1;if(Array.isArray(E))return!!Array.isArray(x)&&E.length===x.length&&E.every(function(O,A){return b(E[A],x[A])});if(typeof E=="object"){if(!E||!x)return E===x;var w=Object.keys(E),S=Object.keys(x);return w.length===S.length&&w.every(function(O){return b(E[O],x[O])})}return E===x},n.exports.deepMerge=g,a.objectGetPath=function(b,E){for(var x,w=E.split("/").slice(1);typeof(x=w.shift())=="string";){var S=decodeURIComponent(x.replace(/~0/,"~").replace(/~1/g,"/"));if(!(S in b))return;b=b[S]}return b},a.encodePath=function(b){return b.map(y).join("")},a.getDecimalPlaces=function(b){var E=0;if(isNaN(b))return E;typeof b!="number"&&(b=Number(b));var x=b.toString().split("e");if(x.length===2){if(x[1][0]!=="-")return E;E=Number(x[1].slice(1))}var w=x[0].split(".");return w.length===2&&(E+=w[1].length),E}},function(n,a,i){var d,m=this&&this.__extends||(d=function(u,f){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var b in y)y.hasOwnProperty(b)&&(g[b]=y[b])})(u,f)},function(u,f){function g(){this.constructor=u}d(u,f),u.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}),_=this&&this.__decorate||function(u,f,g,y){var b,E=arguments.length,x=E<3?f:y===null?y=Object.getOwnPropertyDescriptor(f,g):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,f,g,y);else for(var w=u.length-1;w>=0;w--)(b=u[w])&&(x=(E<3?b(x):E>3?b(f,g,x):b(f,g))||x);return E>3&&x&&Object.defineProperty(f,g,x),x};Object.defineProperty(a,"__esModule",{value:!0});var v=i(0),h=i(2),c=i(8),o=i(23),l=i(4),s=function(u){function f(){var g=u!==null&&u.apply(this,arguments)||this;return g._buffersByAttachment=new Map,g._texturesByAttachment=new Map,g._colorClearQueue=new Array,g._drawBuffers=new Array,g._drawBuffersChanged=!1,g}return m(f,u),f.statusString=function(g,y){var b=g.gl;switch(y){case b.FRAMEBUFFER_COMPLETE:return"the framebuffer is ready to display (COMPLETE)";case b.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"the attachment types are mismatched or not all framebuffer attachment points are framebuffer attachment complete (INCOMPLETE_ATTACHMENT)";case b.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"there is no attachment (INCOMPLETE_MISSING_ATTACHMENT)";case b.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"height and width of the attachment are not the same (INCOMPLETE_DIMENSIONS)";case b.FRAMEBUFFER_UNSUPPORTED:return"the format of the attachment is not supported or if depth and stencil attachments are not the same renderbuffer (UNSUPPORTED)";case b.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:return"the values of gl.RENDERBUFFER_SAMPLES are different among attached renderbuffers, or are non-zero if the attached images are a mix of renderbuffers and textures (INCOMPLETE_MULTISAMPLE)";default:return v.assert(!1,"expected known framebuffer status, given "+y),""}},f.prototype.create=function(g){var y=this._context.gl,b=this.context.gl2facade;this._object=y.createFramebuffer(),this._clearColors=new Array(b.COLOR_ATTACHMENT_MAX-b.COLOR_ATTACHMENT0),this._clearDepth=1,this._clearStencil=0,this.clear=this.context.isWebGL1?this.es2Clear:this.es3Clear;for(var E=0,x=g;E<x.length;E++){var w=x[E],S=w[0],O=w[1];if(O instanceof o.Renderbuffer?this._buffersByAttachment.set(S,O):O instanceof l.Texture2D&&this._texturesByAttachment.set(S,O),!(S<b.COLOR_ATTACHMENT_MIN||S>b.COLOR_ATTACHMENT_MAX)){this._drawBuffers.push(S);var A=S-y.COLOR_ATTACHMENT0;this._colorClearQueue.push(A),this._clearColors[A]=[0,0,0,0]}}this._drawBuffersChanged=!0,y.bindFramebuffer(y.FRAMEBUFFER,this._object),this._buffersByAttachment.forEach(function(k,D){y.framebufferRenderbuffer(y.FRAMEBUFFER,D,y.RENDERBUFFER,k.object)}),this._texturesByAttachment.forEach(function(k,D){y.framebufferTexture2D(y.FRAMEBUFFER,D,y.TEXTURE_2D,k.object,0)}),b.drawBuffers&&b.drawBuffers(this._drawBuffers);var L=y.checkFramebufferStatus(y.FRAMEBUFFER);return this._valid=y.isFramebuffer(this._object)&&L===y.FRAMEBUFFER_COMPLETE,v.logIf(!this._valid,v.LogLevel.Warning,f.statusString(this.context,L)),y.bindFramebuffer(y.FRAMEBUFFER,f.DEFAULT_FRAMEBUFFER),this._object},f.prototype.delete=function(){v.assert(this._object instanceof WebGLFramebuffer,"expected WebGLFramebuffer object"),this.context.gl.deleteFramebuffer(this._object),this._object=void 0,this._valid=!1},f.prototype.es2Clear=function(g,y,b){y===void 0&&(y=!0),b===void 0&&(b=!0);var E=this.context.gl,x=v.bitInBitfield(g,E.DEPTH_BUFFER_BIT),w=v.bitInBitfield(g,E.STENCIL_BUFFER_BIT),S=v.bitInBitfield(g,E.COLOR_BUFFER_BIT);if(S||x||w){if(y&&this.bind(),S&&this._clearColors[0]!==void 0){var O=this._clearColors[0];E.clearColor(O[0],O[1],O[2],O[3])}x&&this._clearDepth!==void 0&&E.clearDepth(this._clearDepth),w&&this._clearStencil!==void 0&&E.clearStencil(this._clearStencil),E.clear(g),b&&this.unbind()}},f.prototype.es3Clear=function(g,y,b,E){y===void 0&&(y=!0),b===void 0&&(b=!0);var x=this.context.gl,w=v.bitInBitfield(g,x.DEPTH_BUFFER_BIT),S=v.bitInBitfield(g,x.STENCIL_BUFFER_BIT),O=v.bitInBitfield(g,x.COLOR_BUFFER_BIT);if(O||w||S){if(y&&this.bind(),O){if(window.chrome&&(window.chrome.webstore||window.chrome.runtime)){var A=this._clearColors[0]?this._clearColors[0]:[0,0,0,1];x.clearColor(A[0],A[1],A[2],A[3]),x.clear(x.COLOR_BUFFER_BIT)}for(var L=0,k=E||this._colorClearQueue;L<k.length;L++){var D=k[L];x.clearBufferfv(x.COLOR,D,this._clearColors[D])}}w&&S?(x.clearStencil(this._clearStencil),x.clearDepth(this._clearDepth),x.clear(x.STENCIL_BUFFER_BIT|x.DEPTH_BUFFER_BIT)):w?x.clearBufferfv(x.DEPTH,0,[this._clearDepth]):S&&(x.clearStencil(this._clearStencil),x.clear(x.STENCIL_BUFFER_BIT)),b&&this.unbind()}},f.prototype.hasAttachment=function(g){return this._texturesByAttachment.has(g)||this._buffersByAttachment.has(g)},f.prototype.bind=function(g){g===void 0&&(g=this.context.gl.FRAMEBUFFER),this.context.gl.bindFramebuffer(g,this._object),this._drawBuffersChanged&&this.context.gl2facade.drawBuffers&&(this.context.gl2facade.drawBuffers(this._drawBuffers),this._drawBuffersChanged=!1)},f.prototype.unbind=function(g){g===void 0&&(g=this.context.gl.FRAMEBUFFER),this.context.gl.bindFramebuffer(g,f.DEFAULT_FRAMEBUFFER)},f.prototype.clearColor=function(g,y){v.assert(y===void 0||y===0||this.context.isWebGL2||this.context.supportsDrawBuffers,"WebGL2 context expected for clearing multiple color attachments.");var b=g[3]<1&&!this.context.alpha;v.logIf(b,v.LogLevel.Warning,"context has alpha disabled, clear color alpha is ignored");var E=[g[0],g[1],g[2],b?1:g[3]];if(this.context.premultipliedAlpha&&!b&&(E[0]*=E[3],E[1]*=E[3],E[2]*=E[3]),y!==void 0)this._clearColors[y]=E;else for(var x=0;x<this._clearColors.length;++x)this._clearColors[x]=E},f.prototype.clearDepth=function(g){this._clearDepth=g},f.prototype.clearStencil=function(g){this._clearStencil=g},f.prototype.texture=function(g){return this._texturesByAttachment.get(g)},f.prototype.resize=function(g,y,b,E){b===void 0&&(b=!0),E===void 0&&(E=!0),this._buffersByAttachment.forEach(function(x){x.resize(g,y,b,E)}),this._texturesByAttachment.forEach(function(x){x.resize(g,y,b,E)})},Object.defineProperty(f.prototype,"width",{get:function(){this.assertInitialized();var g=NaN;return this._buffersByAttachment.forEach(function(y){(isNaN(g)||y.width<g)&&(g=y.width)}),this._texturesByAttachment.forEach(function(y){(isNaN(g)||y.width<g)&&(g=y.width)}),g},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"height",{get:function(){this.assertInitialized();var g=NaN;return this._buffersByAttachment.forEach(function(y){(isNaN(g)||y.height<g)&&(g=y.height)}),this._texturesByAttachment.forEach(function(y){(isNaN(g)||y.height<g)&&(g=y.height)}),g},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"size",{get:function(){return[this.width,this.height]},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"drawBuffers",{get:function(){return this.assertInitialized(),this._drawBuffers},set:function(g){this.assertInitialized();for(var y=this.context.gl2facade,b=0,E=g;b<E.length;b++){var x=E[b];v.assert(this.hasAttachment(x),"valid attachment expected for draw buffer, given "+x),v.assert(x>=y.COLOR_ATTACHMENT_MIN&&x<=y.COLOR_ATTACHMENT_MAX,"color attachment expected for draw buffer, given "+x),this._drawBuffersChanged=this._drawBuffersChanged||this._drawBuffers.indexOf(x)===-1}this._drawBuffersChanged=this._drawBuffersChanged||g.length!==this._drawBuffers.length,this._drawBuffersChanged&&(this._drawBuffers=g)},enumerable:!0,configurable:!0}),f.DEFAULT_FRAMEBUFFER=void 0,_([h.Initializable.assert_initialized()],f.prototype,"es2Clear",null),_([h.Initializable.assert_initialized()],f.prototype,"es3Clear",null),_([h.Initializable.assert_initialized()],f.prototype,"bind",null),_([h.Initializable.assert_initialized()],f.prototype,"unbind",null),_([h.Initializable.assert_initialized()],f.prototype,"clearColor",null),_([h.Initializable.assert_initialized()],f.prototype,"clearDepth",null),_([h.Initializable.assert_initialized()],f.prototype,"clearStencil",null),_([h.Initializable.assert_initialized()],f.prototype,"texture",null),_([h.Initializable.assert_initialized()],f.prototype,"resize",null),f}(c.AbstractObject);a.Framebuffer=s},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=function(){function m(_){var v=Math.max(0,_);this._texCoords=new Float32Array(v*m.FLOATS_PER_TEXCOORD),this._origins=new Float32Array(v*m.FLOATS_PER_ORIGIN),this._tangents=new Float32Array(v*m.FLOATS_PER_TANGENT),this._ups=new Float32Array(v*m.FLOATS_PER_UP)}return m.concat=function(_){var v=0;_.forEach(function(s){return v+=s?s.length:0});for(var h=new m(v),c=0,o=0;o<_.length;++o){var l=_[o];l!==void 0&&l.length!==0&&(h._texCoords.set(l._texCoords,c*m.FLOATS_PER_TEXCOORD),h._origins.set(l._origins,c*m.FLOATS_PER_ORIGIN),h._tangents.set(l._tangents,c*m.FLOATS_PER_TANGENT),h._ups.set(l._ups,c*m.FLOATS_PER_UP),c+=l.length)}return h},m.prototype.shrink=function(_){var v=Math.max(0,_);if(this.length!==v){var h=function(c,o,l){return new Float32Array(c.buffer.slice(0,o*c.BYTES_PER_ELEMENT*l),0,o*l)};h(this._texCoords,v,m.FLOATS_PER_TEXCOORD),h(this._origins,v,m.FLOATS_PER_ORIGIN),h(this._ups,v,m.FLOATS_PER_TANGENT),h(this._tangents,v,m.FLOATS_PER_UP)}},m.prototype.uvLowerLeft=function(_){var v=_*m.FLOATS_PER_TEXCOORD+0;return this._texCoords.subarray(v,v+2)},m.prototype.uvUpperRight=function(_){var v=_*m.FLOATS_PER_TEXCOORD+2;return this._texCoords.subarray(v,v+2)},m.prototype.origin=function(_){var v=_*m.FLOATS_PER_ORIGIN;return this._origins.subarray(v,v+m.FLOATS_PER_ORIGIN)},m.prototype.tangent=function(_){var v=_*m.FLOATS_PER_TANGENT;return this._tangents.subarray(v,v+m.FLOATS_PER_TANGENT)},m.prototype.up=function(_){var v=_*m.FLOATS_PER_UP;return this._ups.subarray(v,v+m.FLOATS_PER_UP)},Object.defineProperty(m.prototype,"length",{get:function(){return this._origins.length/m.FLOATS_PER_ORIGIN},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"origins",{get:function(){return this._origins},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"tangents",{get:function(){return this._tangents},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"ups",{get:function(){return this._ups},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"texCoords",{get:function(){return this._texCoords},enumerable:!0,configurable:!0}),m.FLOATS_PER_TEXCOORD=4,m.FLOATS_PER_ORIGIN=3,m.FLOATS_PER_TANGENT=3,m.FLOATS_PER_UP=3,m}();a.GlyphVertices=d},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(1),m=i(15),_=i(21),v=i(18),h=i(70),c=function(){function o(l,s,u){this._alignment=o.Alignment.Left,this._lineAnchor=o.LineAnchor.Baseline,this._lineWidth=NaN,this._fontSizeUnit=o.Unit.World,this._color=new _.Color(o.DEFAULT_COLOR),this._altered=Object.assign(new m.ChangeLookup,{any:!1,color:!1,resources:!1,text:!1,typesetting:!1,static:!1,dynamic:!1}),this._wrap=!1,this._elide=o.Elide.None,this._ellipsis=o.DEFAULT_ELLIPSIS,this._text=l,this._type=s,this._staticTransform=d.mat4.create(),this._dynamicTransform=d.mat4.create(),this._extent=[0,0],u&&(this._fontFace=u)}return o.devicePixelRatio=function(){return window===void 0||typeof window.devicePixelRatio!="number"?1:window.devicePixelRatio},o.prototype.vertices=function(){return new v.GlyphVertices(this.length+this.ellipsis.length)},o.prototype.charAt=function(l){return this._text.charAt(l)},o.prototype.charCodeAt=function(l){return this._text.charCodeAt(l)},o.prototype.lineFeedAt=function(l){return this.charAt(l)===this.lineFeed},o.prototype.kerningBefore=function(l){return l<1||l>this.length?NaN:this._fontFace.kerning(this.charCodeAt(l-1),this.charCodeAt(l))},o.prototype.kerningAfter=function(l){return l<0||l>this.length-1?NaN:this._fontFace.kerning(this.charCodeAt(l),this.charCodeAt(l+1))},o.prototype.advance=function(l){return l<0||l>this.length?NaN:this._fontFace.glyph(this.charCodeAt(l)).advance},o.prototype.toString=function(){return this._text instanceof h.Text?this._text.text:this._text},o.prototype.reset=function(){this._altered.reset()},Object.defineProperty(o.prototype,"text",{get:function(){return this._text},set:function(l){this._altered.alter("text"),this._text=l},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"length",{get:function(){return this._text.length},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"lineFeed",{get:function(){return this._text instanceof h.Text?this._text.lineFeed:h.Text.DEFAULT_LINE_FEED},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"wrap",{get:function(){return this._wrap},set:function(l){this._wrap=l},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"elide",{get:function(){return this._elide},set:function(l){this._elide=l},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"ellipsis",{get:function(){return this._ellipsis},set:function(l){this._ellipsis!==l&&(this._ellipsis=l,this._elide!==o.Elide.None&&this._altered.alter("typesetting"))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"lineWidth",{get:function(){return this._lineWidth*this._fontFace.size/this.fontSize},set:function(l){this._lineWidth!==l&&(this._lineWidth=l,this._altered.alter("typesetting"))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"alignment",{get:function(){return this._alignment},set:function(l){this._alignment!==l&&(this._alignment=l,this._altered.alter("typesetting"))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"lineAnchor",{get:function(){return this._lineAnchor},set:function(l){this._lineAnchor!==l&&(this._lineAnchor=l,this._altered.alter("typesetting"))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"fontSize",{get:function(){return this._fontSize},set:function(l){this._fontSize!==l&&(this._fontSize=l,this._altered.alter("typesetting"))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"fontSizeUnit",{get:function(){return this._fontSizeUnit},set:function(l){this._fontSizeUnit!==l&&(this._fontSizeUnit=l,this._altered.alter("typesetting"))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"fontFace",{get:function(){return this._fontFace},set:function(l){this._fontFace!==l&&(this._fontFace=l,this._altered.alter("typesetting"),this._altered.alter("resources"))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"color",{get:function(){return this._color},set:function(l){this._color.equals(l)||(this._color=l,this._altered.alter("color"))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(l){this._backgroundColor.equals(l)||(this._backgroundColor=l,this._altered.alter("color"))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"staticTransform",{get:function(){var l=this.fontSize/this._fontFace.size,s=d.mat4.create();return d.mat4.scale(s,this._staticTransform,d.vec3.fromValues(l,l,l)),s},set:function(l){d.mat4.equals(this._staticTransform,l)||(this._staticTransform=l,this._altered.alter("static"))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"dynamicTransform",{get:function(){return this._dynamicTransform},set:function(l){this._altered.alter("dynamic"),this._dynamicTransform=l},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"extent",{get:function(){return this._extent},set:function(l){this._extent=l},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"altered",{get:function(){return this._altered.any||this._text.altered||this._color.altered},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"valid",{get:function(){return this._fontFace!==void 0&&this._fontFace.glyphTexture.valid&&this._text.length>0},enumerable:!0,configurable:!0}),o.DEFAULT_COLOR=[.1098,.4588,.7373,1],o.DEFAULT_ELLIPSIS="...",o}();a.Label=c,function(o){(function(l){l.Static="static",l.Dynamic="dynamic"})(o.Type||(o.Type={})),function(l){l.None="none",l.Left="left",l.Middle="middle",l.Right="right"}(o.Elide||(o.Elide={})),function(l){l.Left="left",l.Center="center",l.Right="right"}(o.Alignment||(o.Alignment={})),function(l){l.Top="top",l.Ascent="ascent",l.Center="center",l.Baseline="baseline",l.Descent="descent",l.Bottom="bottom"}(o.LineAnchor||(o.LineAnchor={})),function(l){l.World="world",l.Pixel="pixel",l.Mixed="mixed"}(o.Unit||(o.Unit={}))}(c=a.Label||(a.Label={})),a.Label=c},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(0);a.byteSizeOfFormat=function(m,_){var v=m.gl,h=m.gl2facade,c=m.supportsDepthTexture?m.depthTexture.UNSIGNED_INT_24_8_WEBGL:void 0;switch(_){case void 0:default:break;case v.UNSIGNED_BYTE:case v.UNSIGNED_SHORT_5_6_5:case v.UNSIGNED_SHORT_4_4_4_4:case v.UNSIGNED_SHORT_5_5_5_1:case v.UNSIGNED_SHORT:case v.UNSIGNED_INT:case c:case v.FLOAT:case h.HALF_FLOAT:case v.BYTE:case v.UNSIGNED_SHORT:case v.SHORT:case v.UNSIGNED_INT:case v.INT:case v.HALF_FLOAT:case v.FLOAT:case v.UNSIGNED_INT_2_10_10_10_REV:case v.UNSIGNED_INT_10F_11F_11F_REV:case v.UNSIGNED_INT_5_9_9_9_REV:case v.UNSIGNED_INT_24_8:case v.FLOAT_32_UNSIGNED_INT_24_8_REV:return d.assert(!1,"expected format instead of type "+_),0}var o=m.supportsSRGB?m.sRGB.SRGB8_ALPHA8_EXT:void 0,l=m.supportsSRGB?m.sRGB.SRGB_EXT:void 0,s=m.supportsSRGB?m.sRGB.SRGB_ALPHA_EXT:void 0,u=m.supportsColorBufferFloat?m.colorBufferFloat.RGB32F_EXT:void 0,f=m.supportsColorBufferFloat?m.colorBufferFloat.RGBA32F_EXT:void 0;switch(_){case void 0:default:return d.assert(!1,"size of format "+_+" is unknown"),0;case v.ALPHA:case v.LUMINANCE:case v.R8:case v.R8I:case v.R8UI:case v.STENCIL_INDEX8:return 1;case v.DEPTH_COMPONENT16:case v.LUMINANCE_ALPHA:case v.R16F:case v.R16I:case v.R16UI:case v.RG8:case v.RG8I:case v.RG8UI:case v.RGB565:case v.RGB5_A1:case v.RGBA4:return 2;case v.DEPTH_COMPONENT24:case v.RGB:case v.RGB8:case v.RGB8UI:case v.SRGB:case l:case v.SRGB8:return 3;case v.DEPTH_STENCIL:case v.DEPTH24_STENCIL8:case v.DEPTH_COMPONENT32F:case v.R11F_G11F_B10F:case v.R32F:case v.R32I:case v.R32UI:case v.RG16F:case v.RG16I:case v.RG16UI:case v.RGB10_A2:case v.RGB10_A2UI:case v.RGB9_E5:case v.RGBA:case v.RGBA8:case v.RGBA8I:case v.RGBA8UI:case v.SRGB8_ALPHA8:case o:case v.SRGB_ALPHA:case s:case v.SRGB_ALPHA8:case v.SRGB_APLHA8:return 4;case v.DEPTH32F_STENCIL8:return 5;case v.RGB16F:return 6;case v.RG32F:case v.RG32I:case v.RG32UI:case v.RGBA16F:case v.RGBA16I:case v.RGBA16UI:return 8;case v.RGB32F:case v.RGB32F:case u:return 12;case v.RGBA32F:case f:case v.RGBA32I:case v.RGBA32UI:return 16;case v.DEPTH_COMPONENT:case v.DEPTH_STENCIL:return d.assert(!1,"byte size of DEPTH_COMPONENT or DEPTH_STENCIL formats depends on active render buffer"),0}}},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(1),m=i(3),_=i(0),v=i(13),h=function(){function c(o,l){this._rgba=[0,0,0,c.DEFAULT_ALPHA],this._altered=!1,o!==void 0&&(o.length===3&&l!==void 0?this.fromF32(o[0],o[1],o[2],l):o.length===4?(this.fromF32(o[0],o[1],o[2],o[3]),_.assert(l===void 0,"expected alpha to be undefined when given an 4-tuple in RGBA")):this.fromF32(o[0],o[1],o[2]))}return c.hue2rgb=function(o,l,s){return _.assert(s>=-1&&s<=2,"t is expected to be between -1 and 2"),s<0?s+=1:s>1&&(s-=1),6*s<1?o+6*(l-o)*s:2*s<1?l:3*s<2?o+6*(l-o)*(2/3-s):o},c.to2CharHexCode=function(o){return(o<15.5/255?"0":"")+Math.round(255*o).toString(16)},c.hsl2rgb=function(o){var l=v.clampf3(o,"HSL input");if(l[1]===0)return[l[2],l[2],l[2]];var s=l[2]<.5?l[2]*(1+l[1]):l[2]+l[1]-l[1]*l[2],u=2*l[2]-s;return[c.hue2rgb(u,s,l[0]+1/3),c.hue2rgb(u,s,l[0]),c.hue2rgb(u,s,l[0]-1/3)]},c.rgb2hsl=function(o){var l=v.clampf3(o,"RGB input"),s=[0,0,0],u=Math.min(l[0],l[1],l[2]),f=Math.max(l[0],l[1],l[2]),g=f-u;if(s[2]=.5*(f+u),g===0)return s;s[1]=s[2]<.5?g/(f+u):g/(2-f-u);var y=((f-l[0])/6+g/2)/g,b=((f-l[1])/6+g/2)/g,E=((f-l[2])/6+g/2)/g;return l[0]===f?s[0]=E-b:l[1]===f?s[0]=y-E+1/3:s[0]=b-y+2/3,s},c.lab2xyz=function(o){var l=v.clampf3(o,"LAB input"),s=(100*l[0]+16)/116,u=(256*l[1]-128)/500+s,f=s-(256*l[2]-128)/200,g=Math.pow(u,3),y=Math.pow(s,3),b=Math.pow(f,3);return[.95047*(g>.008856?g:(u-16/116)/7.787),1*(y>.008856?y:(s-16/116)/7.787),1.08883*(b>.008856?b:(f-16/116)/7.787)]},c.xyz2lab=function(o){var l=[o[0]/.95047,o[1]/1,o[2]/1.08883],s=l[0]>.008856?Math.cbrt(l[0]):7.787*l[0]+16/116,u=l[1]>.008856?Math.cbrt(l[1]):7.787*l[1]+16/116,f=l[2]>.008856?Math.cbrt(l[2]):7.787*l[2]+16/116;return v.clampf3([(116*u-16)/100,(500*(s-u)+128)/256,(200*(u-f)+128)/256])},c.xyz2rgb=function(o){var l=2.04137*o[0]+-.56495*o[1]+-.34469*o[2],s=-.96927*o[0]+1.87601*o[1]+.04156*o[2],u=.01345*o[0]+-.11839*o[1]+1.01541*o[2];return v.clampf3([l>0?Math.pow(l,1/2.19921875):0,s>0?Math.pow(s,1/2.19921875):0,u>0?Math.pow(u,1/2.19921875):0])},c.rgb2xyz=function(o){var l=v.clampf3(o,"RGB input"),s=Math.pow(l[0],2.19921875),u=Math.pow(l[1],2.19921875),f=Math.pow(l[2],2.19921875);return[.57667*s+.18555*u+.18819*f,.29738*s+.62735*u+.07527*f,.02703*s+.07069*u+.9911*f]},c.lab2rgb=function(o){return c.xyz2rgb(c.lab2xyz(o))},c.rgb2lab=function(o){return c.xyz2lab(c.rgb2xyz(o))},c.cmyk2rgb=function(o){var l=v.clampf4(o,"CMYK input"),s=1-l[3];return[(1-l[0])*s,(1-l[1])*s,(1-l[2])*s]},c.rgb2cmyk=function(o){var l=v.clampf3(o,"RGB input"),s=1-Math.max(l[0],l[1],l[2]),u=1-s,f=u===0?0:1/u;return[(u-l[0])*f,(u-l[1])*f,(u-l[2])*f,s]},c.hex2rgba=function(o){var l=[0,0,0,c.DEFAULT_ALPHA];if(!c.HEX_FORMAT_REGEX.test(o))return _.log(_.LogLevel.Warning,"hexadecimal RGBA color string must conform to either '0x0000', '#0000', '0000', '0x00000000', '#00000000', or '00000000', given '"+o+"'"),l;var s=o.startsWith("0x")?2:o.startsWith("#")?1:0,u=Math.floor((o.length-s)/3),f=u-1;return l[0]=parseInt(o[s+0*u]+o[s+0*u+f],16)/255,l[1]=parseInt(o[s+1*u]+o[s+1*u+f],16)/255,l[2]=parseInt(o[s+2*u]+o[s+2*u+f],16)/255,o.length-s!=4&&o.length-s!=8||(l[3]=parseInt(o[s+3*u]+o[s+3*u+f],16)/255),_.assert(!(isNaN(l[0])||isNaN(l[1])||isNaN(l[2])||isNaN(l[3])),"expected well formated hexadecimal RGBA string, given '"+o+"'"),l},c.rgb2hex=function(o){var l=v.clampf3(o,"RGB input");return"#"+c.to2CharHexCode(l[0])+c.to2CharHexCode(l[1])+c.to2CharHexCode(l[2])},c.rgba2hex=function(o){var l=v.clampf4(o,"RGBA input");return"#"+c.to2CharHexCode(l[0])+c.to2CharHexCode(l[1])+c.to2CharHexCode(l[2])+c.to2CharHexCode(l[3])},c.lerp=function(o,l,s,u){if(u===void 0&&(u=c.Space.LAB),s<=0)return new c(o.rgba);if(s>=1)return new c(l.rgba);var f=d.vec4.create();switch(u){case c.Space.CMYK:d.vec4.lerp(f,o.cmyk,l.cmyk,s);var g=m.mix(o.a,l.a,s);return new c().fromCMYK(f[0],f[1],f[2],f[3],g);case c.Space.LAB:return d.vec4.lerp(f,o.laba,l.laba,s),new c().fromLAB(f[0],f[1],f[2],f[3]);case c.Space.HSL:return d.vec4.lerp(f,o.hsla,l.hsla,s),new c().fromHSL(f[0],f[1],f[2],f[3]);case c.Space.RGB:return d.vec4.lerp(f,o.rgba,l.rgba,s),new c().fromRGB(f[0],f[1],f[2],f[3])}},c.prototype.equals=function(o){return v.equals4(this._rgba,o._rgba)},c.prototype.fromF32=function(o,l,s,u){u===void 0&&(u=c.DEFAULT_ALPHA);var f=v.duplicate4(this._rgba);return this._rgba[0]=v.clampf(o,"red value"),this._rgba[1]=v.clampf(l,"green value"),this._rgba[2]=v.clampf(s,"blue value"),this._rgba[3]=v.clampf(u,"alpha value"),this._altered=!v.equals4(this._rgba,f),this},c.prototype.fromUI8=function(o,l,s,u){u===void 0&&(u=Math.floor(255*c.DEFAULT_ALPHA));var f=v.duplicate4(this._rgba);return this._rgba[0]=m.clamp(o,0,255)/255,this._rgba[1]=m.clamp(l,0,255)/255,this._rgba[2]=m.clamp(s,0,255)/255,this._rgba[3]=m.clamp(u,0,255)/255,this._altered=!v.equals4(this._rgba,f),this},c.prototype.fromRGB=function(o,l,s,u){u===void 0&&(u=c.DEFAULT_ALPHA);var f=v.duplicate4(this._rgba);return this._rgba=v.clampf4([o,l,s,u],"RGBA input"),this._altered=!v.equals4(this._rgba,f),this},c.prototype.fromHSL=function(o,l,s,u){u===void 0&&(u=c.DEFAULT_ALPHA);var f=v.duplicate4(this._rgba),g=c.hsl2rgb([o,l,s]),y=v.clampf(u,"ALPHA input");return this._rgba=[g[0],g[1],g[2],y],this._altered=!v.equals4(this._rgba,f),this},c.prototype.fromLAB=function(o,l,s,u){u===void 0&&(u=c.DEFAULT_ALPHA);var f=v.duplicate4(this._rgba),g=c.lab2rgb([o,l,s]),y=v.clampf(u,"ALPHA input");return this._rgba=[g[0],g[1],g[2],y],this._altered=!v.equals4(this._rgba,f),this},c.prototype.fromCMYK=function(o,l,s,u,f){f===void 0&&(f=c.DEFAULT_ALPHA);var g=v.duplicate4(this._rgba),y=c.cmyk2rgb([o,l,s,u]),b=v.clampf(f,"ALPHA input");return this._rgba=[y[0],y[1],y[2],b],this._altered=!v.equals4(this._rgba,g),this},c.prototype.fromHex=function(o){var l=v.duplicate4(this._rgba);return this._rgba=c.hex2rgba(o),this._altered=!v.equals4(this._rgba,l),this},c.prototype.gray=function(o){switch(o===void 0&&(o=c.GrayscaleAlgorithm.LinearLuminance),o){case c.GrayscaleAlgorithm.Average:return(this._rgba[0]+this._rgba[1]+this._rgba[2])/3;case c.GrayscaleAlgorithm.LeastSaturatedVariant:return .5*(Math.max(this._rgba[0],this._rgba[1],this._rgba[2])-Math.min(this._rgba[0],this._rgba[1],this._rgba[2]));case c.GrayscaleAlgorithm.MinimumDecomposition:return Math.min(this._rgba[0],this._rgba[1],this._rgba[2]);case c.GrayscaleAlgorithm.MaximumDecomposition:return Math.max(this._rgba[0],this._rgba[1],this._rgba[2]);case c.GrayscaleAlgorithm.LinearLuminance:return .2126*this._rgba[0]+.7152*this._rgba[1]+.0722*this._rgba[2]}},c.prototype.tuple=function(o,l){switch(l===void 0&&(l=!0),o){case c.Space.RGB:return l?this.rgba:this.rgb;case c.Space.LAB:return l?this.laba:this.lab;case c.Space.CMYK:return l?this.cmyka:this.cmyk;case c.Space.HSL:return l?this.hsla:this.hsl}},Object.defineProperty(c.prototype,"rgb",{get:function(){return[this._rgba[0],this._rgba[1],this._rgba[2]]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"rgbUI8",{get:function(){var o=new Uint8Array(3);return o[0]=Math.round(255*this._rgba[0]),o[1]=Math.round(255*this._rgba[1]),o[2]=Math.round(255*this._rgba[2]),o},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"rgbF32",{get:function(){var o=new Float32Array(3);return o[0]=this._rgba[0],o[1]=this._rgba[1],o[2]=this._rgba[2],o},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"rgba",{get:function(){return this._rgba},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"rgbaUI8",{get:function(){var o=new Uint8Array(4);return o[0]=Math.round(255*this._rgba[0]),o[1]=Math.round(255*this._rgba[1]),o[2]=Math.round(255*this._rgba[2]),o[3]=Math.round(255*this._rgba[3]),o},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"rgbaF32",{get:function(){return new Float32Array(this._rgba)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"r",{get:function(){return this._rgba[0]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"g",{get:function(){return this._rgba[1]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"b",{get:function(){return this._rgba[2]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"a",{get:function(){return this._rgba[3]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"hexRGB",{get:function(){return c.rgb2hex(this.rgb)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"hexRGBA",{get:function(){return c.rgba2hex(this._rgba)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"hsl",{get:function(){return c.rgb2hsl(this.rgb)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"hsla",{get:function(){var o=c.rgb2hsl(this.rgb);return[o[0],o[1],o[2],this._rgba[3]]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"lab",{get:function(){return c.rgb2lab(this.rgb)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"laba",{get:function(){var o=c.rgb2lab(this.rgb);return[o[0],o[1],o[2],this._rgba[3]]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"cmyk",{get:function(){return c.rgb2cmyk(this.rgb)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"cmyka",{get:function(){var o=c.rgb2cmyk(this.rgb);return[o[0],o[1],o[2],o[3],this._rgba[3]]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"altered",{get:function(){return this._altered},set:function(o){this._altered=o},enumerable:!0,configurable:!0}),c.DEFAULT_ALPHA=1,c.HEX_FORMAT_REGEX=new RegExp(/^(#|0x)?(([0-9a-f]{3}){1,2}|([0-9a-f]{4}){1,2})$/i),c}();a.Color=h,function(c){(function(o){o.Average="average",o.LinearLuminance="linear-luminance",o.LeastSaturatedVariant="least-saturated-variant",o.MinimumDecomposition="minimum-decomposition",o.MaximumDecomposition="maximum-decomposition"})(c.GrayscaleAlgorithm||(c.GrayscaleAlgorithm={})),function(o){o.RGB="rgb",o.HSL="hsl",o.LAB="lab",o.CMYK="cmyk"}(c.Space||(c.Space={}))}(h=a.Color||(a.Color={})),a.Color=h},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(0),m=function(){function _(){}return _.queryAndCacheAPI=function(){if(_._exit===void 0){for(var v=window.document,h=[v.exitPointerLock,v.mozExitPointerLock,v.webkitExitPointerLock,void 0],c=0;c<h.length&&h[c]===void 0;++c);switch(c){case 0:_._exit=function(){return v.exitPointerLock()},_._request=function(o){return o.requestPointerLock()},_._element=function(){return v.pointerLockElement};break;case 1:_._exit=function(){return v.mozCancelPointerLock()},_._request=function(o){return o.mozRequestPointerLock()},_._element=function(){return v.mozPointerLockElement};break;case 2:_._exit=function(){return v.webkitExitPointerLock()},_._request=function(o){return o.webkitRequestPointerLock()},_._element=function(){return v.webkitPointerLockElement};break;default:d.assert(!1,"none of the following pointer lock apis was found: native, moz, or webkit")}}},_.active=function(v){return this._element!==void 0&&(v!==void 0&&_._element()===v||v===void 0&&_._element()!==void 0&&_._element()!==null)},_.request=function(v,h){v!==void 0&&(_.queryAndCacheAPI(),_.active()&&_._element()!==v&&_._exit(),_.active()||_._request(v))},_.exit=function(){_._exit&&_._exit()},_}();a.PointerLock=m},function(n,a,i){var d,m=this&&this.__extends||(d=function(l,s){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var g in f)f.hasOwnProperty(g)&&(u[g]=f[g])})(l,s)},function(l,s){function u(){this.constructor=l}d(l,s),l.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}),_=this&&this.__decorate||function(l,s,u,f){var g,y=arguments.length,b=y<3?s:f===null?f=Object.getOwnPropertyDescriptor(s,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(l,s,u,f);else for(var E=l.length-1;E>=0;E--)(g=l[E])&&(b=(y<3?g(b):y>3?g(s,u,b):g(s,u))||b);return y>3&&b&&Object.defineProperty(s,u,b),b};Object.defineProperty(a,"__esModule",{value:!0});var v=i(0),h=i(20),c=i(2),o=function(l){function s(){var u=l!==null&&l.apply(this,arguments)||this;return u._internalFormat=void 0,u}return m(s,l),s.prototype.create=function(u,f,g){v.assert(u>0&&f>0,"renderbuffer object requires valid width and height greater than zero");var y=this.context.gl;this._object=y.createRenderbuffer(),this._width=u,this._height=f,this._internalFormat=g,y.bindRenderbuffer(y.RENDERBUFFER,this._object),y.renderbufferStorage(y.RENDERBUFFER,g,u,f),this._valid=y.isRenderbuffer(this._object),y.bindRenderbuffer(y.RENDERBUFFER,s.DEFAULT_RENDER_BUFFER);var b=u*f*h.byteSizeOfFormat(this.context,g);return this.context.allocationRegister.reallocate(this._identifier,b),this._object},s.prototype.delete=function(){v.assert(this._object instanceof WebGLRenderbuffer,"expected WebGLRenderbuffer object"),this.context.gl.deleteRenderbuffer(this._object),this._object=void 0,this._valid=!1,this._internalFormat=void 0,this._width=0,this._height=0},s.prototype.bind=function(){this.context.gl.bindRenderbuffer(this.context.gl.RENDERBUFFER,this._object)},s.prototype.unbind=function(){this.context.gl.bindRenderbuffer(this.context.gl.RENDERBUFFER,s.DEFAULT_RENDER_BUFFER)},s.prototype.resize=function(u,f,g,y){if(g===void 0&&(g=!1),y===void 0&&(y=!1),u!==this._width||f!==this._height){this._width=u,this._height=f;var b=this.context.gl;g&&this.bind(),b.renderbufferStorage(b.RENDERBUFFER,this._internalFormat,u,f),y&&this.unbind();var E=u*f*h.byteSizeOfFormat(this.context,this._internalFormat);this.context.allocationRegister.reallocate(this._identifier,E)}},Object.defineProperty(s.prototype,"bytes",{get:function(){return this.assertInitialized(),this.context.allocationRegister.allocated(this._identifier)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"internalFormat",{get:function(){return this.assertInitialized(),this._internalFormat},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"width",{get:function(){return this.assertInitialized(),this._width},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"height",{get:function(){return this.assertInitialized(),this._height},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return[this.width,this.height]},enumerable:!0,configurable:!0}),s.DEFAULT_RENDER_BUFFER=void 0,_([c.Initializable.assert_initialized()],s.prototype,"bind",null),_([c.Initializable.assert_initialized()],s.prototype,"unbind",null),_([c.Initializable.assert_initialized()],s.prototype,"resize",null),s}(i(8).AbstractObject);a.Renderbuffer=o},function(n,a){n.exports=`precision highp float;\r
precision highp int;\r
\r
/**\r
  To be replaced via Shader.replace();\r
 */\r
#define PROJECTION_TYPE\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else \r
    #define varying in\r
#endif\r
\r
\r
\r
#if __VERSION__ == 100\r
    #define fragColor gl_FragColor\r
#else\r
    layout(location = 0) out vec4 fragColor;\r
#endif\r
\r
\r
uniform int u_mode;\r
uniform bool u_skipLod;\r
\r
#if defined(CUBE_MAP)\r
    uniform samplerCube u_cubemap;\r
#elif defined(EQUI_MAP)\r
    uniform sampler2D u_equirectmap;\r
#elif defined(SPHERE_MAP)\r
    uniform sampler2D u_spheremap;\r
#elif defined(POLAR_MAP)\r
    uniform sampler2D u_polarmap[2];\r
#endif\r
\r
varying vec2 v_uv;\r
varying vec4 v_ray;\r
\r
\r
const float PI = 3.141592653589793;\r
const float OneOver2PI = 0.1591549430918953357688837633725;\r
const float OneOverPI  = 0.3183098861837906715377675267450;\r
\r
\r
void main(void)\r
{\r
    vec2 uv = v_uv;\r
    vec3 ray = normalize(v_ray.xyz);\r
\r
    #if defined(CUBE_MAP)\r
        #if __VERSION__ == 100\r
            fragColor = u_skipLod ? textureCubeLod(u_cubemap, vec3(ray), 0.0) : textureCube(u_cubemap, vec3(ray));\r
        #else\r
            fragColor = u_skipLod ? textureLod(u_cubemap, vec3(ray), 0.0) : texture(u_cubemap, vec3(ray));\r
        #endif\r
    #endif\r
\r
    #if defined(EQUI_MAP)\r
        float v = acos(-ray.y) * OneOverPI;\r
        float m = atan(-ray.x, ray.z);\r
        uv = vec2(m * OneOver2PI + 0.5, v);\r
\r
        fragColor = texture(u_equirectmap, uv);\r
    #endif\r
\r
    #if defined(SPHERE_MAP)\r
        ray = -ray.xzy;\r
        ray.y *= -1.0;\r
        ray.z += +1.0;\r
        uv = 0.5 + 0.5 * ray.xy / length(ray);\r
\r
        fragColor = texture(u_spheremap, uv);\r
    #endif\r
\r
    #if defined(POLAR_MAP)\r
        ray.xz /= abs(ray.y) + 1.0;\r
        ray.xz = ray.xz * 0.5 + 0.5;\r
        ray.x *= -1.0;\r
\r
        fragColor = mix(texture(u_polarmap[1], ray.xz),\r
                        texture(u_polarmap[0], vec2(1.0, -1.0) * ray.xz),\r
                        step(0.0, ray.y));\r
    #endif\r
}\r
`},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(123);a.ForwardSceneRenderPass=d.ForwardSceneRenderPass;var m=i(68);a.SceneNode=m.SceneNode;var _=i(39);a.SceneNodeComponent=_.SceneNodeComponent;var v=i(124);a.TransformComponent=v.TransformComponent;var h=i(125);a.GeometryComponent=h.GeometryComponent;var c=i(126);a.Material=c.Material;var o=i(67);a.SceneRenderPass=o.SceneRenderPass},function(n,a,i){var d=this&&this.__spreadArrays||function(){for(var o=0,l=0,s=arguments.length;l<s;l++)o+=arguments[l].length;var u=Array(o),f=0;for(l=0;l<s;l++)for(var g=arguments[l],y=0,b=g.length;y<b;y++,f++)u[f]=g[y];return u};Object.defineProperty(a,"__esModule",{value:!0});var m=i(1),_=i(0),v=i(3),h=i(19),c=function(){function o(){}return o.writeVertex=function(l,s,u,f,g){if(f!==void 0&&u.depictable()!==!1){var y=l.glyphTexturePadding,b=f.origin(g);m.vec3.set(b,s[0],s[1],0),b[0]+=u.bearing[0]-y[3],b[1]+=u.bearing[1]-u.extent[1],m.vec3.set(f.tangent(g),u.extent[0],0,0),m.vec3.set(f.up(g),0,u.extent[1],0);var E=f.uvLowerLeft(g);m.vec2.copy(E,u.subTextureOrigin);var x=f.uvUpperRight(g);m.vec2.add(x,u.subTextureOrigin,u.subTextureExtent)}},o.lineAnchorOffset=function(l){var s=0,u=l.fontFace.glyphTexturePadding,f=l.fontFace;switch(l.lineAnchor){case h.Label.LineAnchor.Baseline:default:s=-u[0];break;case h.Label.LineAnchor.Ascent:s=f.ascent-u[0];break;case h.Label.LineAnchor.Descent:s=f.descent*(1+u[0]/f.ascent);break;case h.Label.LineAnchor.Center:s=f.ascent-u[0]-.5*f.size;break;case h.Label.LineAnchor.Top:s=f.ascent-u[0]+.5*f.lineGap;break;case h.Label.LineAnchor.Bottom:s=f.ascent-u[0]+.5*f.lineGap-f.lineHeight}return s},o.advances=function(l,s){_.assert(l.fontFace!==void 0,"expected a font face for label in order to resolve advances"),s===void 0&&(s=l.text.text);for(var u=new Float32Array(s.length),f=0;f<s.length;++f){var g=s.charCodeAt(f);u[f]=l.fontFace.glyph(g).advance}return u},o.kernings=function(l,s){if(_.assert(l.fontFace!==void 0,"expected a font face for label in order to resolve kernings"),s===void 0){for(var u=new Float32Array(l.length),f=0;f<l.length;++f){var g=l.kerningAfter(f);u[f]=isNaN(g)?0:g}return u}var y,b=new Float32Array(s.length);for(f=0;f<s.length;++f)g=(y=f)<0||y>s.length-1?NaN:l.fontFace.kerning(s.charCodeAt(y),s.charCodeAt(y+1)),b[f]=isNaN(g)?0:g;return b},o.fragments=function(l){for(var s,u=new Array,f=0,g=0;g<l.length;++g)if(s=o.DELIMITERS.indexOf(l.charAt(g))>-1){f<g&&u.push([f,g,o.FragmentType.Word]);var y=l.lineFeedAt(g)?o.FragmentType.LineFeed:o.FragmentType.Delimiter;u.push([g,g+1,y]),f=g+1}return s||u.push([f,l.length,o.FragmentType.Word]),u},o.fragmentWidths=function(l,s,u){for(var f=new Float32Array(l.length),g=function(b){var E=l[b];f[b]=s.subarray(E[0],E[1]).reduce(function(x,w,S){return x+w+(S<E[1]?u[S+E[0]]:0)},0)},y=0;y<l.length;++y)g(y);return f},o.elideThresholds=function(l,s){switch(l.elide){case h.Label.Elide.Right:return[l.lineWidth-s,0];case h.Label.Elide.Middle:var u=l.lineWidth/2-s/2;return[u,u];case h.Label.Elide.Left:return[0,l.lineWidth-s];default:return[0,0]}},o.elideFragments=function(l,s,u,f,g,y){for(var b=new Array,E=new Array,x=0,w=0,S=y?s.length-1:0;y?S>-1:S<s.length;y?--S:++S){var O=s[S];if(O[2]!==o.FragmentType.LineFeed){if(!(x+u[S]<l)){if(O[2]===o.FragmentType.Delimiter||x+f[y?O[1]-1:O[0]]>l)break;for(var A=y?O[1]-1:O[0];y?A>=O[0]:A<O[1];y?--A:++A){if(!(x+w+f[A]+g[A]<l)){b.push([y?A+1:O[0],y?O[1]:A,O[2]]),E.push(w);break}w+=f[A]+g[A]}break}x+=u[S],b.push(O),E.push(u[S])}}return[b,E,x+w]},o.transformVertices=function(l,s,u,f){if(s!==void 0&&!m.mat4.equals(l,m.mat4.create()))for(var g=u;g<f;++g){var y=s.origin(g),b=v.v3();m.vec3.transformMat4(b,y,l);var E=v.v3();m.vec3.transformMat4(E,m.vec3.add(E,y,s.tangent(g)),l);var x=v.v3();m.vec3.transformMat4(x,m.vec3.add(x,y,s.up(g)),l),m.vec3.copy(s.origin(g),b),m.vec3.sub(s.tangent(g),E,b),m.vec3.sub(s.up(g),x,b)}},o.updateRectangleMinMax=function(l,s){_.assert(l.length===6&&s.length===6,"expected the rectangles to have 6 values!");for(var u=0;u<3;u++)l[u]=Math.min(l[u],s[u]);for(;u<6;u++)l[u]=Math.max(l[u],s[u])},o.minMax=function(l,s,u){var f=Math.min.apply(Math,d([l],u)),g=Math.max.apply(Math,d([s],u));return m.vec2.fromValues(f,g)},o.getMinMaxVertices=function(l,s,u){for(var f=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,y=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY,E=Number.POSITIVE_INFINITY,x=Number.NEGATIVE_INFINITY,w=s;w<u;++w){var S=o.minMax(f,g,[l.origin(w)[0],l.origin(w)[0]+l.up(w)[0],l.origin(w)[0]+l.tangent(w)[0]]);f=S[0],g=S[1];var O=o.minMax(y,b,[l.origin(w)[1],l.origin(w)[1]+l.up(w)[1],l.origin(w)[1]+l.tangent(w)[1]]);y=O[0],b=O[1];var A=o.minMax(E,x,[l.origin(w)[2],l.origin(w)[2]+l.up(w)[2],l.origin(w)[2]+l.tangent(w)[2]]);E=A[0],x=A[1]}return[f,y,E,g,b,x]},o.transformAlignment=function(l,s,u,f,g){if(u!==void 0&&s!==h.Label.Alignment.Left){var y=-l;s===h.Label.Alignment.Center&&(y*=.5);for(var b=f;b<g;++b)u.origin(b)[0]+=y}},o.transform=function(l,s,u){for(var f=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],g=0,y=u;g<y.length;g++){var b=y[g];o.transformAlignment(b[2],l.alignment,s,b[0],b[1]),o.updateRectangleMinMax(f,o.getMinMaxVertices(s,b[0],b[1])),o.transformVertices(l.staticTransform,s,b[0],b[1])}var E=f[3]-f[0],x=f[4]-f[1],w=m.vec4.transformMat4(m.vec4.create(),m.vec4.fromValues(0,0,0,1),l.staticTransform),S=m.vec4.transformMat4(m.vec4.create(),m.vec4.fromValues(E,0,0,1),l.staticTransform),O=m.vec4.transformMat4(m.vec4.create(),m.vec4.fromValues(0,x,0,1),l.staticTransform),A=m.vec2.fromValues(m.vec4.distance(S,w),m.vec4.distance(O,w));l.extent=[A[0],A[1]]},o.typeset=function(l,s){if(l.length===0)return 0;_.assert(l.fontFace!==void 0,"expected a font face for label before typesetting");var u=l.fontFace,f=function(pe){return pe<l.length?u.glyph(l.charCodeAt(pe)):u.glyph(l.ellipsis.charCodeAt(pe-l.length))},g=o.advances(l),y=o.kernings(l),b=o.fragments(l),E=o.fragmentWidths(b,g,y),x=m.vec2.fromValues(0,-o.lineAnchorOffset(l)),w=new Array,S=0,O=l.elide!==h.Label.Elide.None,A=function(pe,me,re,ye,we,de){ye===void 0&&(ye=g),we===void 0&&(we=y),de===void 0&&(de=0);for(var Se=S,xe=0;xe<pe.length;++xe){var Oe=pe[xe];if(!(Oe[0]>=Oe[1])){var he=!O&&Oe[2]===o.FragmentType.LineFeed,Ae=!1;if(!O&&!he&&l.wrap){var Le=Oe[2]!==o.FragmentType.Delimiter||f(Oe[0]).depictable(),Ee=Oe[2]===o.FragmentType.Word&&xe<pe.length-1&&pe[xe+1][2]===o.FragmentType.Delimiter&&f(pe[xe+1][0]).depictable();Ae=x[0]+(Le?me[xe]:0)+(Ee?me[xe+1]:0)>l.lineWidth}if(!he&&!Ae||(w.push([Se,S,x[0]]),Se=S,x[0]=0,x[1]-=u.lineHeight,!he))for(var Ce=Oe[0];Ce<Oe[1];++Ce)f(Ce).depictable()&&(o.writeVertex(u,x,f(Ce),s,S),++S),x[0]+=ye[Ce-de]+we[Ce-de]}}Se<S&&w.push([Se,S,x[0]])},L=E.reduce(function(pe,me){return pe+me},0);if(O&&L>l.lineWidth){var k=[[l.length,l.length+l.ellipsis.length,o.FragmentType.Word]],D=o.advances(l,l.ellipsis),N=o.kernings(l,l.ellipsis),$=o.fragmentWidths([[0,l.ellipsis.length,o.FragmentType.Word]],D,N),H=$[0];if(l.lineWidth<H)return 0;var q=o.elideThresholds(l,H),X=o.elideFragments(q[0],b,E,g,y,!1),Y=X[0],J=X[1],ee=X[2];l.elide===h.Label.Elide.Middle&&(q[1]+=q[0]-ee);var te=o.elideFragments(q[1],b,E,g,y,!0),ne=te[0],ce=te[1];A(Y,new Float32Array(J)),A(k,$,NaN,D,N,l.length),A(ne.reverse(),new Float32Array(ce.reverse())),_.assert(w.length<4,"expected at most 3-line-yield from advance, given "+w),w[0][1]=w[w.length-1][1],w[0][2]=x[0],w.length=1}else A(b,E,l.lineWidth);return o.transform(l,s,w),s.shrink(S),S},o.DELIMITERS=`
 ,.-/()[]<>`,o}();a.Typesetter=c,function(o){(function(l){l[l.Word=0]="Word",l[l.Delimiter=1]="Delimiter",l[l.LineFeed=2]="LineFeed"})(o.FragmentType||(o.FragmentType={}))}(c=a.Typesetter||(a.Typesetter={})),a.Typesetter=c},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(0),m=i(20),_=i(83),v=i(41),h=i(42),c=i(28),o=i(85),l=function(){function s(u,f){this._attributes=void 0,this._extensions=new Array,this._allocationRegister=new _.AllocationRegister,this._context=u,this._mask=f;var g=u.toString(),y=/WebGLRenderingContext/.test(g)||/CaptureContext/.test(g),b=/WebGL2RenderingContext/.test(g);if(this._backend=y?s.BackendType.WebGL1:b?s.BackendType.WebGL2:void 0,d.assert(this._backend!==void 0&&this._backend.valueOf()!==s.BackendType.Invalid.valueOf(),"context is neither webgl nor webgl2, given "+g),this.queryAttributes(),this.queryExtensionSupport(),this._mask&&this._mask.functionsUndefine)for(var E in this._mask.functionsUndefine)this._context[E]=void 0;this._gl2=new o.GL2Facade(this)}return s.createMasqueradeFromGETorDataAttribute=function(u){return v.ContextMasquerade.fromGET()||(u.msqrdH?v.ContextMasquerade.fromHash(u.msqrdH):u.msqrdP?v.ContextMasquerade.fromPreset(u.msqrdP):void 0)},s.request=function(u,f){f===void 0&&(f=s.DEFAULT_ATTRIBUTES);var g,y=u.dataset,b=s.createMasqueradeFromGETorDataAttribute(y),E=b?b.backend:y.backend?y.backend.toLowerCase():"auto";switch(E in s.BackendRequestType||(d.log(d.LogLevel.Warning,"unknown backend '"+y.backend+"' changed to '"+s.BackendRequestType.auto+"'"),E="auto"),E){case s.BackendRequestType.webgl:break;case s.BackendRequestType.experimental:case s.BackendRequestType.webgl1:case s.BackendRequestType.experimental1:E=s.BackendRequestType.webgl;break;case s.BackendRequestType.webgl2:case s.BackendRequestType.experimental2:E=s.BackendRequestType.webgl2;break;default:E=s.BackendRequestType.auto}return E!==s.BackendRequestType.webgl&&(g=this.requestWebGL2(u,f)),g||(g=this.requestWebGL1(u,f),d.logIf(g!==void 0&&E===s.BackendRequestType.webgl2,d.LogLevel.Info,"backend changed to '"+s.BackendRequestType.webgl+"', given '"+E+"'")),d.assert(!!g,"creating a context failed"),new s(g,b)},s.requestWebGL1=function(u,f){f===void 0&&(f=s.DEFAULT_ATTRIBUTES);var g=u.getContext(s.BackendRequestType.webgl,f);return g||((g=u.getContext(s.BackendRequestType.experimental,f))===null?void 0:g)},s.requestWebGL2=function(u,f){f===void 0&&(f=s.DEFAULT_ATTRIBUTES);var g=u.getContext(s.BackendRequestType.webgl2,f);return g||((g=u.getContext(s.BackendRequestType.experimental2,f))===null?void 0:g)},s.prototype.queryAttributes=function(){var u=this._context.getContextAttributes();u!==null?this._attributes=u:d.log(d.LogLevel.Error,"querying context attributes failed (probably blocked)")},Object.defineProperty(s.prototype,"alpha",{get:function(){return!!this._attributes&&this._attributes.alpha},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"antialias",{get:function(){return!!this._attributes&&this._attributes.antialias},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"depth",{get:function(){return!!this._attributes&&this._attributes.depth},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"failIfMajorPerformanceCaveat",{get:function(){return!!this._attributes&&this._attributes.failIfMajorPerformanceCaveat},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"premultipliedAlpha",{get:function(){return!!this._attributes&&this._attributes.premultipliedAlpha},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"preserveDrawingBuffer",{get:function(){return!!this._attributes&&this._attributes.preserveDrawingBuffer},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"stencil",{get:function(){return!!this._attributes&&this._attributes.stencil},enumerable:!0,configurable:!0}),s.prototype.supports=function(u){if(this._mask&&this._mask.extensionsConceal.indexOf(u)>-1)return!1;switch(this._backend){case s.BackendType.WebGL1:d.assert(h.WEBGL1_EXTENSIONS.indexOf(u)>-1,"extension "+u+" not available to WebGL1");break;case s.BackendType.WebGL2:d.assert(h.WEBGL2_DEFAULT_EXTENSIONS.indexOf(u)===-1,"extension "+u+" supported by default in WebGL2"),d.assert(h.WEBGL2_EXTENSIONS.indexOf(u)>-1,"extension "+u+" not available to WebGL2")}return this._extensions.indexOf(u)>-1},s.prototype.enable=function(u){for(var f=0,g=u;f<g.length;f++){var y=g[f];this.isWebGL1&&h.WEBGL1_EXTENSIONS.indexOf(y)===-1||this.isWebGL2&&h.WEBGL2_EXTENSIONS.indexOf(y)===-1||this.supports(y)!==!1&&this.extension(void 0,y)}},s.prototype.queryExtensionSupport=function(){var u=this._context.getSupportedExtensions();if(u!==null){for(var f=0,g=u;f<g.length;f++){var y=g[f];this._mask&&this._mask.extensionsConceal.indexOf(y)>-1||this._extensions.push(y)}this._backend===s.BackendType.WebGL1&&(this.ANGLE_instanced_arrays_supported=this.supports("ANGLE_instanced_arrays"),this.EXT_blend_minmax_supported=this.supports("EXT_blend_minmax"),this.EXT_color_buffer_half_float_supported=this.supports("EXT_color_buffer_half_float"),this.EXT_disjoint_timer_query_supported=this.supports("EXT_disjoint_timer_query"),this.EXT_frag_depth_supported=this.supports("EXT_frag_depth"),this.EXT_sRGB_supported=this.supports("EXT_sRGB"),this.EXT_shader_texture_lod_supported=this.supports("EXT_shader_texture_lod"),this.OES_element_index_uint_supported=this.supports("OES_element_index_uint"),this.OES_standard_derivatives_supported=this.supports("OES_standard_derivatives"),this.OES_texture_float_supported=this.supports("OES_texture_float"),this.OES_texture_half_float_supported=this.supports("OES_texture_half_float"),this.OES_vertex_array_object_supported=this.supports("OES_vertex_array_object"),this.WEBGL_color_buffer_float_supported=this.supports("WEBGL_color_buffer_float"),this.WEBGL_depth_texture_supported=this.supports("WEBGL_depth_texture"),this.WEBGL_draw_buffers_supported=this.supports("WEBGL_draw_buffers")),this._backend===s.BackendType.WebGL2&&(this.EXT_color_buffer_float_supported=this.supports("EXT_color_buffer_float"),this.EXT_disjoint_timer_query_webgl2_supported=this.supports("EXT_disjoint_timer_query_webgl2")),this.EXT_texture_filter_anisotropic_supported=this.supports("EXT_texture_filter_anisotropic"),this.OES_texture_float_linear_supported=this.supports("OES_texture_float_linear"),this.OES_texture_half_float_linear_supported=this.supports("OES_texture_half_float_linear"),this.WEBGL_compressed_texture_astc_supported=this.supports("WEBGL_compressed_texture_astc"),this.WEBGL_compressed_texture_atc_supported=this.supports("WEBGL_compressed_texture_atc"),this.WEBGL_compressed_texture_etc_supported=this.supports("WEBGL_compressed_texture_etc"),this.WEBGL_compressed_texture_etc1_supported=this.supports("WEBGL_compressed_texture_etc1"),this.WEBGL_compressed_texture_pvrtc_supported=this.supports("WEBGL_compressed_texture_pvrtc"),this.WEBGL_compressed_texture_s3tc_supported=this.supports("WEBGL_compressed_texture_s3tc"),this.WEBGL_compressed_texture_s3tc_srgb_supported=this.supports("WEBGL_compressed_texture_s3tc_srgb"),this.WEBGL_debug_renderer_info_supported=this.supports("WEBGL_debug_renderer_info"),this.WEBGL_debug_shaders_supported=this.supports("WEBGL_debug_shaders"),this.WEBGL_lose_context_supported=this.supports("WEBGL_lose_context")}else d.log(d.LogLevel.Error,"querying supported extensions failed (probably blocked)")},s.prototype.extension=function(u,f){return u===void 0&&(d.assert(this.supports(f),"extension "+f+" expected to be supported"),u=this._context.getExtension(f)),u},Object.defineProperty(s.prototype,"allocationRegister",{get:function(){return this._allocationRegister},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"backend",{get:function(){return this._backend},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"backendString",{get:function(){switch(this._backend){case s.BackendType.WebGL1:return"WebGL";case s.BackendType.WebGL2:return"WebGL2";default:return}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"extensions",{get:function(){return this._extensions},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"gl",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"gl2facade",{get:function(){return this._gl2},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isWebGL1",{get:function(){return this._backend===s.BackendType.WebGL1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isWebGL2",{get:function(){return this._backend===s.BackendType.WebGL2},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsInstancedArrays",{get:function(){return this.ANGLE_instanced_arrays_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"instancedArrays",{get:function(){return this.extension(this.ANGLE_instanced_arrays,"ANGLE_instanced_arrays")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsBlendMinmax",{get:function(){return this.EXT_blend_minmax_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"blendMinmax",{get:function(){return this.extension(this.EXT_blend_minmax,"EXT_blend_minmax")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsColorBufferHalfFloat",{get:function(){return this.EXT_color_buffer_half_float_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"colorBufferHalfFloat",{get:function(){return this.extension(this.EXT_color_buffer_half_float,"EXT_color_buffer_half_float")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsDisjointTimerQuery",{get:function(){return this.EXT_disjoint_timer_query_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"disjointTimerQuery",{get:function(){return this.extension(this.EXT_disjoint_timer_query,"EXT_disjoint_timer_query")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsDisjointTimerQueryWebGL2",{get:function(){return this.EXT_disjoint_timer_query_webgl2_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"disjointTimerQueryWebGL2",{get:function(){return this.extension(this.EXT_disjoint_timer_query_webgl2,"EXT_disjoint_timer_query_webgl2")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsFragDepth",{get:function(){return this.EXT_frag_depth_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fragDepth",{get:function(){return this.extension(this.EXT_frag_depth,"EXT_frag_depth")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsSRGB",{get:function(){return this.EXT_sRGB_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"sRGB",{get:function(){return this.extension(this.EXT_sRGB,"EXT_sRGB")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsShaderTextureLOD",{get:function(){return this.EXT_shader_texture_lod_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"shaderTextureLOD",{get:function(){return this.extension(this.EXT_shader_texture_lod,"EXT_shader_texture_lod")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsTextureFilterAnisotropic",{get:function(){return this.EXT_texture_filter_anisotropic_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"textureFilterAnisotropic",{get:function(){return this.extension(this.EXT_texture_filter_anisotropic,"EXT_texture_filter_anisotropic")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsElementIndexUint",{get:function(){return this.OES_element_index_uint_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"elementIndexUint",{get:function(){return this.extension(this.OES_element_index_uint,"OES_element_index_uint")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsStandardDerivatives",{get:function(){return this.OES_standard_derivatives_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"standardDerivatives",{get:function(){return this.extension(this.OES_standard_derivatives,"OES_standard_derivatives")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsTextureFloat",{get:function(){return this.OES_texture_float_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"textureFloat",{get:function(){return this.extension(this.OES_texture_float,"OES_texture_float")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsTextureFloatLinear",{get:function(){return this.OES_texture_float_linear_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"textureFloatLinear",{get:function(){return this.extension(this.OES_texture_float_linear,"OES_texture_float_linear")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsTextureHalfFloat",{get:function(){return this.OES_texture_half_float_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"textureHalfFloat",{get:function(){return this.extension(this.OES_texture_half_float,"OES_texture_half_float")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsTextureHalfFloatLinear",{get:function(){return this.OES_texture_half_float_linear_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"textureHalfFloatLinear",{get:function(){return this.extension(this.OES_texture_half_float_linear,"OES_texture_half_float_linear")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsVertexArrayObject",{get:function(){return this.OES_vertex_array_object_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"vertexArrayObject",{get:function(){return this.extension(this.OES_vertex_array_object,"OES_vertex_array_object")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsColorBufferFloat",{get:function(){switch(this._backend){case s.BackendType.WebGL1:return this.WEBGL_color_buffer_float_supported;case s.BackendType.WebGL2:return this.EXT_color_buffer_float_supported;default:return}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"colorBufferFloat",{get:function(){switch(this._backend){case s.BackendType.WebGL1:return this.extension(this.WEBGL_color_buffer_float,"WEBGL_color_buffer_float");case s.BackendType.WebGL2:return this.extension(this.EXT_color_buffer_float,"EXT_color_buffer_float");default:return}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsCompressedTextureASTC",{get:function(){return this.WEBGL_compressed_texture_astc_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"compressedTextureASTC",{get:function(){return this.extension(this.WEBGL_compressed_texture_astc,"WEBGL_compressed_texture_astc")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsCompressedTextureATC",{get:function(){return this.WEBGL_compressed_texture_atc_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"compressedTextureATC",{get:function(){return this.extension(this.WEBGL_compressed_texture_atc,"WEBGL_compressed_texture_atc")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsCompressedTextureETC",{get:function(){return this.WEBGL_compressed_texture_etc_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"compressedTextureETC",{get:function(){return this.extension(this.WEBGL_compressed_texture_etc,"WEBGL_compressed_texture_etc")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsCompressedTextureETC1",{get:function(){return this.WEBGL_compressed_texture_etc1_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"compressedTextureETC1",{get:function(){return this.extension(this.WEBGL_compressed_texture_etc1,"WEBGL_compressed_texture_etc1")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsCompressedTexturePVRTC",{get:function(){return this.WEBGL_compressed_texture_pvrtc_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"compressedTexturePVRTC",{get:function(){return this.extension(this.WEBGL_compressed_texture_pvrtc,"WEBGL_compressed_texture_pvrtc")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsCompressedTextureS3TC",{get:function(){return this.WEBGL_compressed_texture_s3tc_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"compressedTextureS3TC",{get:function(){return this.extension(this.WEBGL_compressed_texture_s3tc,"WEBGL_compressed_texture_s3tc")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsCompressedTextureS3TCSRGB",{get:function(){return this.WEBGL_compressed_texture_s3tc_srgb_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"compressedTextureS3TCSRGB",{get:function(){return this.extension(this.WEBGL_compressed_texture_s3tc_srgb,"WEBGL_compressed_texture_s3tc_srgb")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsDebugRendererInfo",{get:function(){return this.WEBGL_debug_renderer_info_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"debugRendererInfo",{get:function(){return this.extension(this.WEBGL_debug_renderer_info,"WEBGL_debug_renderer_info")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsDebugShaders",{get:function(){return this.WEBGL_debug_shaders_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"debugShaders",{get:function(){return this.extension(this.WEBGL_debug_shaders,"WEBGL_debug_shaders")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsDepthTexture",{get:function(){return this.WEBGL_depth_texture_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"depthTexture",{get:function(){return this.extension(this.WEBGL_depth_texture,"WEBGL_depth_texture")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsDrawBuffers",{get:function(){return this.WEBGL_draw_buffers_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"drawBuffers",{get:function(){return this.extension(this.WEBGL_draw_buffers,"WEBGL_draw_buffers")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsLoseContext",{get:function(){return this.WEBGL_lose_context_supported},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"loseContext",{get:function(){return this.extension(this.WEBGL_lose_context,"WEBGL_lose_context")},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsBlitFramebuffer",{get:function(){return this._context.blitFramebuffer!==void 0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsReadBuffer",{get:function(){return this._context.readBuffer!==void 0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"supportsTexImage3D",{get:function(){return this._context.texImage3D!==void 0},enumerable:!0,configurable:!0}),s.prototype.param=function(u){return d.assert(!!this._context,"expected context to be valid"),this._context.getParameter(u)},s.prototype.hash=function(){return c.ExtensionsHash.encode(this._backend,this._extensions)},s.prototype.about=function(){if(this._backend===s.BackendType.Invalid)return new Array;d.assert(!!this._context,"expected context to be valid");var u=this._context,f=new Array;f.push(["BACKEND (GLOPERATE)",this.backend]),f.push(["CONTEXT_HASH (GLOPERATE)",this.hash()]),f.push(["RENDERER",this.param(u.RENDERER)]),f.push(["VENDOR",this.param(u.VENDOR)]),f.push(["VERSION",this.param(u.VERSION)]),f.push(["SHADING_LANGUAGE_VERSION",this.param(u.SHADING_LANGUAGE_VERSION)]),f.push(["UNMASKED_VENDOR_WEBGL",this.supportsDebugRendererInfo?this.param(this.debugRendererInfo.UNMASKED_VENDOR_WEBGL):"na"]),f.push(["UNMASKED_RENDERER_WEBGL",this.supportsDebugRendererInfo?this.param(this.debugRendererInfo.UNMASKED_RENDERER_WEBGL):"na"]),f.push(["ALPHA (ATTRIBUTE)",String(this.alpha)]),f.push(["ANTIALIAS (ATTRIBUTE)",String(this.antialias)]),f.push(["DEPTH (ATTRIBUTE)",String(this.depth)]),f.push(["FAIL_IF_MAJOR_PERFORMANCE_CAVEAT (ATTRIBUTE)",String(this.failIfMajorPerformanceCaveat)]),f.push(["PREMULTIPLIED_ALPHA (ATTRIBUTE)",String(this.premultipliedAlpha)]),f.push(["PRESERVE_DRAWING_BUFFER (ATTRIBUTE)",String(this.preserveDrawingBuffer)]),f.push(["STENCIL (ATTRIBUTE)",String(this.stencil)]),f.push(["DEVICE_PIXEL_RATIO (WINDOW)",window.devicePixelRatio]),f.push(["APP_CODE_NAME (NAVIGATOR)",window.navigator.appCodeName]),f.push(["APP_NAME (NAVIGATOR)",window.navigator.appName]),f.push(["APP_VERSION (NAVIGATOR)",window.navigator.appVersion]),f.push(["PLATFORM (NAVIGATOR)",window.navigator.platform]),f.push(["HARDWARE_CONCURRENCY (NAVIGATOR)",window.navigator.appCodeName]),f.push(["VENDOR (NAVIGATOR)",window.navigator.vendor]),f.push(["VENDOR_SUB (NAVIGATOR)",window.navigator.vendorSub]),f.push(["MAX_COMBINED_TEXTURE_IMAGE_UNITS",this.param(u.MAX_COMBINED_TEXTURE_IMAGE_UNITS)]),f.push(["MAX_CUBE_MAP_TEXTURE_SIZE",this.param(u.MAX_CUBE_MAP_TEXTURE_SIZE)]),f.push(["MAX_FRAGMENT_UNIFORM_VECTORS",this.param(u.MAX_FRAGMENT_UNIFORM_VECTORS)]),f.push(["MAX_RENDERBUFFER_SIZE",this.param(u.MAX_RENDERBUFFER_SIZE)]),f.push(["MAX_TEXTURE_IMAGE_UNITS",this.param(u.MAX_TEXTURE_IMAGE_UNITS)]),f.push(["MAX_TEXTURE_SIZE",this.param(u.MAX_TEXTURE_SIZE)]),f.push(["MAX_VARYING_VECTORS",this.param(u.MAX_VARYING_VECTORS)]),f.push(["MAX_VERTEX_ATTRIBS",this.param(u.MAX_VERTEX_ATTRIBS)]),f.push(["MAX_VERTEX_TEXTURE_IMAGE_UNITS",this.param(u.MAX_VERTEX_TEXTURE_IMAGE_UNITS)]),f.push(["MAX_VERTEX_UNIFORM_VECTORS",this.param(u.MAX_VERTEX_UNIFORM_VECTORS)]);var g=this.param(u.MAX_VIEWPORT_DIMS);if(f.push(["MAX_VIEWPORT_DIMS (WIDTH)",g?g[0]:null]),f.push(["MAX_VIEWPORT_DIMS (HEIGHT)",g?g[1]:null]),this.isWebGL2){var y=this._context;f.push(["MAX_3D_TEXTURE_SIZE",this.param(y.MAX_3D_TEXTURE_SIZE)]),f.push(["MAX_ARRAY_TEXTURE_LAYERS",this.param(y.MAX_ARRAY_TEXTURE_LAYERS)]),f.push(["MAX_CLIENT_WAIT_TIMEOUT_WEBGL",this.param(y.MAX_CLIENT_WAIT_TIMEOUT_WEBGL)]),f.push(["MAX_COLOR_ATTACHMENTS",this.param(y.MAX_COLOR_ATTACHMENTS)]),f.push(["MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",this.param(y.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS)]),f.push(["MAX_COMBINED_UNIFORM_BLOCKS",this.param(y.MAX_COMBINED_UNIFORM_BLOCKS)]),f.push(["MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",this.param(y.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS)]),f.push(["MAX_DRAW_BUFFERS",this.param(y.MAX_DRAW_BUFFERS)]),f.push(["MAX_ELEMENT_INDEX",this.param(y.MAX_ELEMENT_INDEX)]),f.push(["MAX_ELEMENTS_INDICES",this.param(y.MAX_ELEMENTS_INDICES)]),f.push(["MAX_ELEMENTS_VERTICES",this.param(y.MAX_ELEMENTS_VERTICES)]),f.push(["MAX_FRAGMENT_INPUT_COMPONENTS",this.param(y.MAX_FRAGMENT_INPUT_COMPONENTS)]),f.push(["MAX_FRAGMENT_UNIFORM_BLOCKS",this.param(y.MAX_FRAGMENT_UNIFORM_BLOCKS)]),f.push(["MAX_FRAGMENT_UNIFORM_COMPONENTS",this.param(y.MAX_FRAGMENT_UNIFORM_COMPONENTS)]),f.push(["MAX_PROGRAM_TEXEL_OFFSET",this.param(y.MAX_PROGRAM_TEXEL_OFFSET)]),f.push(["MAX_SAMPLES",this.param(y.MAX_SAMPLES)]),f.push(["MAX_SERVER_WAIT_TIMEOUT",this.param(y.MAX_SERVER_WAIT_TIMEOUT)]),f.push(["MAX_TEXTURE_LOD_BIAS",this.param(y.MAX_TEXTURE_LOD_BIAS)]),f.push(["MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",this.param(y.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS)]),f.push(["MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",this.param(y.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS)]),f.push(["MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",this.param(y.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS)]),f.push(["MAX_UNIFORM_BLOCK_SIZE",this.param(y.MAX_UNIFORM_BLOCK_SIZE)]),f.push(["MAX_UNIFORM_BUFFER_BINDINGS",this.param(y.MAX_UNIFORM_BUFFER_BINDINGS)]),f.push(["MAX_VARYING_COMPONENTS",this.param(y.MAX_VARYING_COMPONENTS)]),f.push(["MAX_VERTEX_OUTPUT_COMPONENTS",this.param(y.MAX_VERTEX_OUTPUT_COMPONENTS)]),f.push(["MAX_VERTEX_UNIFORM_BLOCKS",this.param(y.MAX_VERTEX_UNIFORM_BLOCKS)]),f.push(["MAX_VERTEX_UNIFORM_COMPONENTS",this.param(y.MAX_VERTEX_UNIFORM_COMPONENTS)]),f.push(["MIN_PROGRAM_TEXEL_OFFSET",this.param(y.MIN_PROGRAM_TEXEL_OFFSET)])}if(this.isWebGL1)for(var b=0,E=h.WEBGL1_EXTENSIONS;b<E.length;b++){var x=E[b];f.push([x,this.supports(x)?"ok":"na"])}else if(this.isWebGL2){for(var w=0,S=h.WEBGL2_DEFAULT_EXTENSIONS;w<S.length;w++)x=S[w],f.push([x+" (default)","ok"]);for(var O=0,A=h.WEBGL2_EXTENSIONS;O<A.length;O++)x=A[O],f.push([x,this.supports(x)?"ok":"na"])}return f},s.prototype.aboutString=function(){for(var u=this.about(),f=0,g=0,y=u;g<y.length;g++){var b=y[g];f=Math.max(b[0].length,f)}for(var E=0,x="",w=this.isWebGL2?63+h.WEBGL2_DEFAULT_EXTENSIONS.length:-1,S=0,O=u;S<O.length;S++){switch(b=O[S],E){case 2:case 6:case 8:case 15:case 16:case 23:case 35:case 63:case w:x+=`
`}x+="  "+b[0]+" "+"-".repeat(f-b[0].length)+"-- "+b[1]+`
`,++E}return x+`
`},s.prototype.logAbout=function(u){u===void 0&&(u=d.LogLevel.Info),d.log(u,`context.about

`+this.aboutString())},s.prototype.logAboutIf=function(u,f){f===void 0&&(f=d.LogLevel.Info),d.logIf(u,f,`context.about

`+this.aboutString())},s.prototype.byteSizeOfFormat=function(u){return m.byteSizeOfFormat(this,u)},s.DEFAULT_ATTRIBUTES={alpha:!0,antialias:!1,depth:!0,failIfMajorPerformanceCaveat:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,stencil:!1},s}();a.Context=l,function(s){(function(u){u.Invalid="invalid",u.WebGL1="webgl1",u.WebGL2="webgl2"})(s.BackendType||(s.BackendType={})),function(u){u.auto="auto",u.webgl="webgl",u.experimental="experimental-webgl",u.webgl1="webgl1",u.experimental1="experimental-webgl1",u.webgl2="webgl2",u.experimental2="experimental-webgl2"}(s.BackendRequestType||(s.BackendRequestType={}))}(l=a.Context||(a.Context={})),a.Context=l},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(0),m=i(42),_=function(){function v(){}return v.encode64=function(h){return d.assert(h>=0&&h<=63,"expected bitfield in range [ 0b000000, 0b111111 ], given "+h),v.BASE64_ALPHABET[h]},v.decode64=function(h){d.assert(h.length===1,"expected single base64 character, given '"+h+"'");var c=v.BASE64_ALPHABET.indexOf(h);return d.assert(c>-1,"unknown base64 character, given '"+h+"'"),c},v.encode=function(h,c){var o=v.LATEST_VERSION,l=v.EXTENSIONS_BY_VERSION.get(o),s=v.WEBGL_BACKENDS.indexOf(h);d.assert(s>-1,"expected valid backend "+v.WEBGL_BACKENDS+", given "+h+" ");var u=v.encode64(o<<3|s+1);if(c.length===0)return u;for(var f=0,g=0;g<l.length;++g)f|=c.indexOf(l[g])>-1?32>>g%6:0,g%6<5&&g<l.length-1||(u+=v.encode64(f),f=0);return u},v.decode=function(h){var c=v.decode64(h[0]),o=c>>3,l=(7&c)-1;d.assert(l<v.WEBGL_BACKENDS.length,"expected valid backend index, given "+l);var s=v.WEBGL_BACKENDS[l];d.assert(v.EXTENSIONS_BY_VERSION.has(o),"expected valid hash version, given "+o);var u=v.EXTENSIONS_BY_VERSION.get(o),f=Math.ceil(u.length/6)+1;d.assert(h.length===f,"expected hash of version "+o+" to have a length of "+f+", given "+h);for(var g=new Array,y=1;y<h.length;++y){var b=v.decode64(h[y]),E=6*(y-1);32&b&&g.push(u[E+0]),16&b&&g.push(u[E+1]),8&b&&g.push(u[E+2]),4&b&&g.push(u[E+3]),2&b&&g.push(u[E+4]),1&b&&g.push(u[E+5])}return[s,g]},v.complement=function(h,c){var o=v.WEBGL_BACKENDS.indexOf(h);return d.assert(o>-1,"expected valid backend "+v.WEBGL_BACKENDS+", given "+h+" "),v.WEBGL_EXTENSIONS_BY_BACKEND.get(o).filter(function(l){return c.indexOf(l)<0})},v.WEBGL_BACKENDS=["webgl1","webgl2"],v.WEBGL_EXTENSIONS_BY_BACKEND=new Map([[0,m.WEBGL1_EXTENSIONS],[1,m.WEBGL2_EXTENSIONS]]),v.EXTENSIONS_BY_VERSION=new Map([[0,["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_shader_texture_lod","EXT_sRGB","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_astc","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_debug_renderer_info","WEBGL_debug_shaders","WEBGL_depth_texture","WEBGL_draw_buffers","WEBGL_lose_context"]]]),v.LATEST_VERSION=0,v.BASE64_ALPHABET="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-+",v}();a.ExtensionsHash=_},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(10),m=i(0),_=i(44),v=function(){function h(c,o){m.assert(c!==void 0,"expected a valid eye gaze data streams object on initialization, given "+c+"."),this._eyeGazeDataStream=new _.EyeGazeDataStream,this._eyeGazeDataStream.eyeGazeDataStreams=c,this._eyeGazeDataStream.connect(o)}return h.prototype.preventDefaultOnEvent=function(c,o){m.bitInBitfield(this._preventDefaultMask,c)&&o.preventDefault()},h.prototype.allowDefault=function(){for(var c=[],o=0;o<arguments.length;o++)c[o]=arguments[o];for(var l=0,s=c;l<s.length;l++){var u=s[l];m.bitInBitfield(this._preventDefaultMask,u)&&(this._preventDefaultMask&=~u)}},h.prototype.preventDefault=function(){for(var c=[],o=0;o<arguments.length;o++)c[o]=arguments[o];for(var l=0,s=c;l<s.length;l++){var u=s[l];m.bitInBitfield(this._preventDefaultMask,u)||(this._preventDefaultMask|=u)}},h.prototype.observable=function(c){switch(c){case h.Type.EyeGazeData:return this.EyeGazeData$;case h.Type.NewServerMessage:return this.NewServerMessage$;case h.Type.ConnectionStatus:return this.ConnectionStatus$;case h.Type.BinaryMessageParsingError:return this.BinaryMessageParsingError$;default:return}},Object.defineProperty(h.prototype,"EyeGazeData$",{get:function(){var c=this;return this._eyeGazeDataSubject===void 0&&(this._eyeGazeDataSubject=new d.ReplaySubject(void 0,this._timeframe),this._eyeGazeDataListener=function(o){c.preventDefaultOnEvent(h.Type.EyeGazeData,o),c._eyeGazeDataSubject.next(o)},this._eyeGazeDataStream.addEventListener(_.EyeGazeDataStream.EYE_GAZE_DATA,this._eyeGazeDataListener)),this._eyeGazeDataSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"NewServerMessage$",{get:function(){var c=this;return this._newServerMessageSubject===void 0&&(this._newServerMessageSubject=new d.ReplaySubject(void 0,this._timeframe),this._newServerMessageListener=function(o){c.preventDefaultOnEvent(h.Type.NewServerMessage,o),c._newServerMessageSubject.next(o)},this._eyeGazeDataStream.addEventListener(_.EyeGazeDataStream.NEW_SERVER_MESSAGE,this._newServerMessageListener)),this._newServerMessageSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"ConnectionStatus$",{get:function(){var c=this;return this._connectionStatusSubject===void 0&&(this._connectionStatusSubject=new d.ReplaySubject(void 0,this._timeframe),this._connectionStatusListener=function(o){c.preventDefaultOnEvent(h.Type.ConnectionStatus,o),c._connectionStatusSubject.next(o)},this._eyeGazeDataStream.addEventListener(_.EyeGazeDataStream.CONNECTION_STATUS,this._connectionStatusListener)),this._connectionStatusSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"BinaryMessageParsingError$",{get:function(){var c=this;return this._binaryMessageParsingErrorSubject===void 0&&(this._binaryMessageParsingErrorSubject=new d.ReplaySubject(void 0,this._timeframe),this._binaryMessageParsingErrorListener=function(o){c.preventDefaultOnEvent(h.Type.BinaryMessageParsingError,o),c._binaryMessageParsingErrorSubject.next(o)},this._eyeGazeDataStream.addEventListener(_.EyeGazeDataStream.BINARY_MESSAGE_PARSING_ERROR,this._binaryMessageParsingErrorListener)),this._eyeGazeDataSubject.asObservable()},enumerable:!0,configurable:!0}),h}();a.EyeGazeEventProvider=v,function(h){(function(c){c[c.EyeGazeData=1]="EyeGazeData",c[c.NewServerMessage=2]="NewServerMessage",c[c.ConnectionStatus=4]="ConnectionStatus",c[c.BinaryMessageParsingError=8]="BinaryMessageParsingError"})(h.Type||(h.Type={}))}(v=a.EyeGazeEventProvider||(a.EyeGazeEventProvider={})),a.EyeGazeEventProvider=v},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(10),m=i(0),_=i(46),v=i(22),h=function(){function c(o,l){var s=this;this._pointerLockRequestPending=!1,m.assert(o!==void 0,"expected valid canvas element on initialization, given "+o),this._element=o,this._timeframe=l,this._element.addEventListener("click",function(){return s.processPointerLockRequests()}),(_.IS_EDGE||_.IS_IE11)&&this._element.addEventListener("dragstart",function(u){return u.preventDefault()})}return c.prototype.processPointerLockRequests=function(){this._pointerLockRequestPending&&v.PointerLock.request(this._element)},c.prototype.preventDefaultOnEvent=function(o,l){m.bitInBitfield(this._preventDefaultMask,o)&&l.preventDefault()},c.prototype.preventDefault=function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];for(var s=0,u=o;s<u.length;s++){var f=u[s];m.bitInBitfield(this._preventDefaultMask,f)||(this._preventDefaultMask|=f)}},c.prototype.allowDefault=function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];for(var s=0,u=o;s<u.length;s++){var f=u[s];m.bitInBitfield(this._preventDefaultMask,f)&&(this._preventDefaultMask&=~f)}},c.prototype.observable=function(o){switch(o){case c.Type.Click:return this.click$;case c.Type.Enter:return this.enter$;case c.Type.Leave:return this.leave$;case c.Type.Down:return this.down$;case c.Type.Up:return this.up$;case c.Type.Move:return this.move$;case c.Type.Wheel:return this.wheel$;case c.Type.Drag:return this.drag$;default:return}},Object.defineProperty(c.prototype,"pointerLock",{get:function(){return v.PointerLock.active(this._element)},set:function(o){this._pointerLockRequestPending=o,o===!1&&(this._pointerLockRequestPending=!1,v.PointerLock.exit())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"click$",{get:function(){var o=this;return this._clickSubject===void 0&&(this._clickSubject=new d.ReplaySubject(void 0,this._timeframe),this._clickListener=function(l){o.preventDefaultOnEvent(c.Type.Click,l),o._clickSubject.next(l)},this._element.addEventListener("click",this._clickListener)),this._clickSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"enter$",{get:function(){var o=this;return this._enterSubject===void 0&&(this._enterSubject=new d.ReplaySubject(void 0,this._timeframe),this._enterListener=function(l){o.preventDefaultOnEvent(c.Type.Enter,l),o._enterSubject.next(l)},this._element.addEventListener("mouseenter",this._enterListener)),this._enterSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"leave$",{get:function(){var o=this;return this._leaveSubject===void 0&&(this._leaveSubject=new d.ReplaySubject(void 0,this._timeframe),this._leaveListener=function(l){o.preventDefaultOnEvent(c.Type.Leave,l),o._leaveSubject.next(l)},this._element.addEventListener("mouseleave",this._leaveListener)),this._leaveSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"down$",{get:function(){var o=this;return this._downSubject===void 0&&(this._downSubject=new d.ReplaySubject(void 0,this._timeframe),this._downListener=function(l){o.preventDefaultOnEvent(c.Type.Down,l),o._downSubject.next(l)},this._element.addEventListener("mousedown",this._downListener)),this._downSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"up$",{get:function(){var o=this;return this._upSubject===void 0&&(this._upSubject=new d.ReplaySubject(void 0,this._timeframe),this._upListener=function(l){o.preventDefaultOnEvent(c.Type.Up,l),o._upSubject.next(l)},this._element.addEventListener("mouseup",this._upListener)),this._upSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"move$",{get:function(){var o=this;return this._moveSubject===void 0&&(this._moveSubject=new d.ReplaySubject(void 0,this._timeframe),this._moveListener=function(l){o.preventDefaultOnEvent(c.Type.Move,l),o._moveSubject.next(l)},this._element.addEventListener("mousemove",this._moveListener)),this._moveSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"wheel$",{get:function(){var o=this;return this._wheelSubject===void 0&&(this._wheelSubject=new d.ReplaySubject(void 0,this._timeframe),this._wheelListener=function(l){o.preventDefaultOnEvent(c.Type.Wheel,l),o._wheelSubject.next(l)},this._element.addEventListener("wheel",this._wheelListener)),this._wheelSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"drag$",{get:function(){var o=this;return this._dragSubject===void 0&&(this._dragSubject=new d.ReplaySubject(void 0,this._timeframe),this._dragListener=function(l){o.preventDefaultOnEvent(c.Type.Drag,l),o._dragSubject.next(l)},this._element.addEventListener("drag",this._dragListener)),this._dragSubject.asObservable()},enumerable:!0,configurable:!0}),c}();a.MouseEventProvider=h,function(c){(function(o){o[o.Click=1]="Click",o[o.Wheel=2]="Wheel",o[o.Enter=4]="Enter",o[o.Leave=8]="Leave",o[o.Move=16]="Move",o[o.Down=32]="Down",o[o.Up=64]="Up",o[o.Drag=128]="Drag"})(c.Type||(c.Type={}))}(h=a.MouseEventProvider||(a.MouseEventProvider={})),a.MouseEventProvider=h},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(10),m=i(0),_=i(46),v=i(22),h=function(){function c(o,l){var s=this;this._pointerLockRequestPending=!1,m.assert(o!==void 0,"expected valid canvas element on initialization, given "+o),this._element=o,this._timeframe=l,this._element.addEventListener("click",function(){return s.processPointerLockRequests()}),(_.IS_EDGE||_.IS_IE11)&&this._element.addEventListener("dragstart",function(u){return u.preventDefault()})}return c.prototype.processPointerLockRequests=function(){this._pointerLockRequestPending&&v.PointerLock.request(this._element)},c.prototype.preventDefaultOnEvent=function(o,l){m.bitInBitfield(this._preventDefaultMask,o)&&l.preventDefault()},c.prototype.preventDefault=function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];for(var s=0,u=o;s<u.length;s++){var f=u[s];m.bitInBitfield(this._preventDefaultMask,f)||(this._preventDefaultMask|=f)}},c.prototype.allowDefault=function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];for(var s=0,u=o;s<u.length;s++){var f=u[s];m.bitInBitfield(this._preventDefaultMask,f)&&(this._preventDefaultMask&=~f)}},c.prototype.observable=function(o){switch(o){case c.Type.Enter:return this.enter$;case c.Type.Leave:return this.leave$;case c.Type.Down:return this.down$;case c.Type.Up:return this.up$;case c.Type.Move:return this.move$;case c.Type.Cancel:return this.cancel$;default:return}},Object.defineProperty(c.prototype,"pointerLock",{get:function(){return v.PointerLock.active(this._element)},set:function(o){this._pointerLockRequestPending=o,o===!1&&(this._pointerLockRequestPending=!1,v.PointerLock.exit())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"enter$",{get:function(){var o=this;return this._enterSubject===void 0&&(this._enterSubject=new d.ReplaySubject(void 0,this._timeframe),this._enterListener=function(l){o.preventDefaultOnEvent(c.Type.Enter,l),o._enterSubject.next(l)},this._element.addEventListener("pointerenter",this._enterListener)),this._enterSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"leave$",{get:function(){var o=this;return this._leaveSubject===void 0&&(this._leaveSubject=new d.ReplaySubject(void 0,this._timeframe),this._leaveListener=function(l){o.preventDefaultOnEvent(c.Type.Leave,l),o._leaveSubject.next(l)},this._element.addEventListener("pointerleave",this._leaveListener)),this._leaveSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"down$",{get:function(){var o=this;return this._downSubject===void 0&&(this._downSubject=new d.ReplaySubject(void 0,this._timeframe),this._downListener=function(l){o.preventDefaultOnEvent(c.Type.Down,l),o._downSubject.next(l)},this._element.addEventListener("pointerdown",this._downListener)),this._downSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"up$",{get:function(){var o=this;return this._upSubject===void 0&&(this._upSubject=new d.ReplaySubject(void 0,this._timeframe),this._upListener=function(l){o.preventDefaultOnEvent(c.Type.Up,l),o._upSubject.next(l)},this._element.addEventListener("pointerup",this._upListener)),this._upSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"move$",{get:function(){var o=this;return this._moveSubject===void 0&&(this._moveSubject=new d.ReplaySubject(void 0,this._timeframe),this._moveListener=function(l){o.preventDefaultOnEvent(c.Type.Move,l),o._moveSubject.next(l)},this._element.addEventListener("pointermove",this._moveListener)),this._moveSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"cancel$",{get:function(){var o=this;return this._cancelSubject===void 0&&(this._cancelSubject=new d.ReplaySubject(void 0,this._timeframe),this._cancelListener=function(l){o.preventDefaultOnEvent(c.Type.Cancel,l),o._cancelSubject.next(l)},this._element.addEventListener("pointercancel",this._cancelListener)),this._cancelSubject.asObservable()},enumerable:!0,configurable:!0}),c}();a.PointerEventProvider=h,function(c){(function(o){o[o.Enter=1]="Enter",o[o.Leave=2]="Leave",o[o.Move=4]="Move",o[o.Down=8]="Down",o[o.Up=16]="Up",o[o.Cancel=32]="Cancel"})(c.Type||(c.Type={}))}(h=a.PointerEventProvider||(a.PointerEventProvider={})),a.PointerEventProvider=h},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(10),m=i(0),_=function(){function v(h,c){m.assert(h!==void 0,"expected valid canvas element on initialization, given "+h),this._element=h,this._timeframe=c}return v.prototype.preventDefaultOnEvent=function(h,c){m.bitInBitfield(this._preventDefaultMask,h)&&c.preventDefault()},v.prototype.preventDefault=function(){for(var h=[],c=0;c<arguments.length;c++)h[c]=arguments[c];for(var o=0,l=h;o<l.length;o++){var s=l[o];m.bitInBitfield(this._preventDefaultMask,s)||(this._preventDefaultMask|=s)}},v.prototype.allowDefault=function(){for(var h=[],c=0;c<arguments.length;c++)h[c]=arguments[c];for(var o=0,l=h;o<l.length;o++){var s=l[o];m.bitInBitfield(this._preventDefaultMask,s)&&(this._preventDefaultMask&=~s)}},v.prototype.observable=function(h){switch(h){case v.Type.Start:return this.start$;case v.Type.End:return this.end$;case v.Type.Move:return this.move$;case v.Type.Cancel:return this.cancel$}return m.assert(!1,"Encountered unknown touch event."),new d.Observable},Object.defineProperty(v.prototype,"start$",{get:function(){var h=this;return this._startSubject===void 0&&(this._startSubject=new d.ReplaySubject(void 0,this._timeframe),this._startListener=function(c){h.preventDefaultOnEvent(v.Type.Start,c),h._startSubject.next(c)},this._element.addEventListener("touchstart",this._startListener)),this._startSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"end$",{get:function(){var h=this;return this._endSubject===void 0&&(this._endSubject=new d.ReplaySubject(void 0,this._timeframe),this._endListener=function(c){h.preventDefaultOnEvent(v.Type.End,c),h._endSubject.next(c)},this._element.addEventListener("touchend",this._endListener)),this._endSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"move$",{get:function(){var h=this;return this._moveSubject===void 0&&(this._moveSubject=new d.ReplaySubject(void 0,this._timeframe),this._moveListener=function(c){h.preventDefaultOnEvent(v.Type.Move,c),h._moveSubject.next(c)},this._element.addEventListener("touchmove",this._moveListener)),this._moveSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"cancel$",{get:function(){var h=this;return this._cancelSubject===void 0&&(this._cancelSubject=new d.ReplaySubject(void 0,this._timeframe),this._cancelListener=function(c){h.preventDefaultOnEvent(v.Type.Cancel,c),h._cancelSubject.next(c)},this._element.addEventListener("touchcancel",this._cancelListener)),this._cancelSubject.asObservable()},enumerable:!0,configurable:!0}),v}();a.TouchEventProvider=_,function(v){(function(h){h[h.Start=1]="Start",h[h.End=2]="End",h[h.Move=4]="Move",h[h.Cancel=8]="Cancel"})(v.Type||(v.Type={}))}(_=a.TouchEventProvider||(a.TouchEventProvider={})),a.TouchEventProvider=_},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(1),m=i(0),_=i(29),v=i(30),h=i(31),c=i(32),o=function(){function l(s,u){this._subscriptions=new Array,this._latestMouseEventsByType=new Map,this._previousMouseEventsByType=new Map,this._mouseEventHandlerByType=new Map,this._latestTouchEventsByType=new Map,this._previousTouchEventsByType=new Map,this._touchEventHandlerByType=new Map,this._latestPointerEventsByType=new Map,this._previousPointerEventsByType=new Map,this._pointerEventHandlerByType=new Map,this._latestEyeGazeEventsByType=new Map,this._previousEyeGazeEventsByType=new Map,this._eyeGazeEventHandlerByType=new Map,this._invalidate=s,this._mouseEventProvider=u.mouseEventProvider,this._mouseEventProvider.preventDefault(v.MouseEventProvider.Type.Wheel),this._pointerEventProvider=u.pointerEventProvider,this._eyeGazeEventProvider=u.eyeGazeEventProvider}return l.prototype.invalidate=function(s){s===void 0&&(s=!1),this._invalidate&&this._invalidate(s)},l.prototype.pushMouseEventHandler=function(s,u){var f=this;if(this._mouseEventHandlerByType.has(s))this._mouseEventHandlerByType.get(s).push(u);else{this._mouseEventHandlerByType.set(s,new Array),this._previousMouseEventsByType.set(s,new Array);var g=new Array;this._latestMouseEventsByType.set(s,g),m.assert(this._mouseEventProvider!==void 0,"expected valid mouse event provider");var y=this._mouseEventProvider.observable(s);switch(s){case v.MouseEventProvider.Type.Wheel:default:this._subscriptions.push(y.subscribe(function(b){g.push(b),f.invalidate()}))}this._mouseEventHandlerByType.get(s).push(u)}},l.prototype.invokeMouseEventHandler=function(s){var u=this._mouseEventHandlerByType.get(s);if(u!==void 0&&u.length!==0){var f=this._latestMouseEventsByType.get(s);if(f.length!==0){var g=this._previousMouseEventsByType.get(s);u.forEach(function(y){return y(f,g)}),Object.assign(g,f),f.length=0}}},l.prototype.pushTouchEventHandler=function(s,u){var f=this;if(this._touchEventHandlerByType.has(s))this._touchEventHandlerByType.get(s).push(u);else{this._touchEventHandlerByType.set(s,new Array),this._previousTouchEventsByType.set(s,new Array);var g=new Array;this._latestTouchEventsByType.set(s,g),m.assert(this._touchEventProvider!==void 0,"expected valid touch event provider");var y=this._touchEventProvider.observable(s);this._subscriptions.push(y.subscribe(function(b){g.push(b),f.invalidate()})),this._touchEventHandlerByType.get(s).push(u)}},l.prototype.invokeTouchEventHandler=function(s){var u=this._touchEventHandlerByType.get(s);if(u!==void 0&&u.length!==0){var f=this._latestTouchEventsByType.get(s);if(f.length!==0){var g=this._previousTouchEventsByType.get(s);u.forEach(function(y){return y(f,g)}),Object.assign(g,f),f.length=0}}},l.prototype.pushPointerEventHandler=function(s,u){var f=this;if(this._pointerEventHandlerByType.has(s))this._pointerEventHandlerByType.get(s).push(u);else{this._pointerEventHandlerByType.set(s,new Array),this._previousPointerEventsByType.set(s,new Array);var g=new Array;this._latestPointerEventsByType.set(s,g),m.assert(this._pointerEventProvider!==void 0,"expected valid pointer event provider");var y=this._pointerEventProvider.observable(s);this._subscriptions.push(y.subscribe(function(b){g.push(b),f.invalidate()})),this._pointerEventHandlerByType.get(s).push(u)}},l.prototype.invokePointerEventHandler=function(s){var u=this._pointerEventHandlerByType.get(s);if(u!==void 0&&u.length!==0){var f=this._latestPointerEventsByType.get(s);if(f.length!==0){var g=this._previousPointerEventsByType.get(s);u.forEach(function(y){return y(f,g)}),Object.assign(g,f),f.length=0}}},l.prototype.pushEyeGazeEventHandler=function(s,u){var f=this;if(this._eyeGazeEventHandlerByType.has(s))this._eyeGazeEventHandlerByType.get(s).push(u);else{this._eyeGazeEventHandlerByType.set(s,new Array),this._previousEyeGazeEventsByType.set(s,new Array);var g=new Array;this._latestEyeGazeEventsByType.set(s,g),m.assert(this._eyeGazeEventProvider!==void 0,"expected valid eye gaze event provider");var y=this._eyeGazeEventProvider.observable(s);this._subscriptions.push(y.subscribe(function(b){g.push(b),f.invalidate()})),this._eyeGazeEventHandlerByType.get(s).push(u)}},l.prototype.invokeEyeGazeEventHandler=function(s){var u=this._eyeGazeEventHandlerByType.get(s);if(u!==void 0&&u.length!==0){var f=this._latestEyeGazeEventsByType.get(s);if(f.length!==0){var g=this._previousEyeGazeEventsByType.get(s);u.forEach(function(y){return y(f,g)}),Object.assign(g,f),f.length=0}}},l.prototype.dispose=function(){this._latestMouseEventsByType.forEach(function(f){return f.length=0}),this._previousMouseEventsByType.forEach(function(f){return f.length=0}),this._latestTouchEventsByType.forEach(function(f){return f.length=0}),this._previousTouchEventsByType.forEach(function(f){return f.length=0}),this._latestPointerEventsByType.forEach(function(f){return f.length=0}),this._previousPointerEventsByType.forEach(function(f){return f.length=0}),this._previousEyeGazeEventsByType.forEach(function(f){return f.length=0}),this._latestEyeGazeEventsByType.forEach(function(f){return f.length=0});for(var s=0,u=this._subscriptions;s<u.length;s++)u[s].unsubscribe()},l.prototype.update=function(){this.invokeMouseEventHandler(v.MouseEventProvider.Type.Click),this.invokeMouseEventHandler(v.MouseEventProvider.Type.Enter),this.invokeMouseEventHandler(v.MouseEventProvider.Type.Leave),this.invokeMouseEventHandler(v.MouseEventProvider.Type.Down),this.invokeMouseEventHandler(v.MouseEventProvider.Type.Up),this.invokeMouseEventHandler(v.MouseEventProvider.Type.Move),this.invokeMouseEventHandler(v.MouseEventProvider.Type.Wheel),this.invokeTouchEventHandler(c.TouchEventProvider.Type.Start),this.invokeTouchEventHandler(c.TouchEventProvider.Type.End),this.invokeTouchEventHandler(c.TouchEventProvider.Type.Move),this.invokeTouchEventHandler(c.TouchEventProvider.Type.Cancel),this.invokePointerEventHandler(h.PointerEventProvider.Type.Move),this.invokePointerEventHandler(h.PointerEventProvider.Type.Down),this.invokePointerEventHandler(h.PointerEventProvider.Type.Enter),this.invokePointerEventHandler(h.PointerEventProvider.Type.Up),this.invokePointerEventHandler(h.PointerEventProvider.Type.Leave),this.invokePointerEventHandler(h.PointerEventProvider.Type.Cancel),this.invokeEyeGazeEventHandler(_.EyeGazeEventProvider.Type.EyeGazeData),this.invokeEyeGazeEventHandler(_.EyeGazeEventProvider.Type.NewServerMessage),this.invokeEyeGazeEventHandler(_.EyeGazeEventProvider.Type.ConnectionStatus),this.invokeEyeGazeEventHandler(_.EyeGazeEventProvider.Type.BinaryMessageParsingError)},l.prototype.offsets=function(s,u){u===void 0&&(u=!0);var f=new Array,g=!1;if(s instanceof MouseEvent)g=(y=s).offsetX!==0&&y.offsetY!==0,f.push(g?d.vec2.fromValues(y.offsetX,y.offsetY):d.vec2.fromValues(y.clientX,y.clientY));else if(s instanceof WheelEvent)g=(y=s).offsetX!==0&&y.offsetY!==0,f.push(g?d.vec2.fromValues(y.offsetX,y.offsetY):d.vec2.fromValues(y.clientX,y.clientY));else if(s instanceof TouchEvent)for(var y=s,b=0;b<y.touches.length;++b){var E=y.touches.item(b);f.push(d.vec2.fromValues(E.clientX,E.clientY))}if(g){if(u)for(var x=0,w=f;x<w.length;x++){var S=w[x];d.vec2.scale(S,S,window.devicePixelRatio)}return f}for(var O=(s.target||s.currentTarget||s.srcElement).getBoundingClientRect(),A=0,L=f;A<L.length;A++)(S=L[A])[0]=Math.floor(S[0]-O.left),S[1]=Math.floor(S[1]-O.top),u&&d.vec2.scale(S,S,window.devicePixelRatio);return f},l.prototype.pushClickHandler=function(s){this.pushMouseEventHandler(v.MouseEventProvider.Type.Click,s)},l.prototype.pushMouseEnterHandler=function(s){this.pushMouseEventHandler(v.MouseEventProvider.Type.Enter,s)},l.prototype.pushMouseLeaveHandler=function(s){this.pushMouseEventHandler(v.MouseEventProvider.Type.Leave,s)},l.prototype.pushMouseDownHandler=function(s){this.pushMouseEventHandler(v.MouseEventProvider.Type.Down,s)},l.prototype.pushMouseUpHandler=function(s){this.pushMouseEventHandler(v.MouseEventProvider.Type.Up,s)},l.prototype.pushMouseMoveHandler=function(s){this.pushMouseEventHandler(v.MouseEventProvider.Type.Move,s)},l.prototype.pushMouseWheelHandler=function(s){this.pushMouseEventHandler(v.MouseEventProvider.Type.Wheel,s)},l.prototype.pushTouchStartHandler=function(s){this.pushTouchEventHandler(c.TouchEventProvider.Type.Start,s)},l.prototype.pushTouchEndHandler=function(s){this.pushTouchEventHandler(c.TouchEventProvider.Type.End,s)},l.prototype.pushTouchMoveHandler=function(s){this.pushTouchEventHandler(c.TouchEventProvider.Type.Move,s)},l.prototype.pushTouchCancelHandler=function(s){this.pushTouchEventHandler(c.TouchEventProvider.Type.Cancel,s)},l.prototype.pushPointerUpHandler=function(s){this.pushPointerEventHandler(h.PointerEventProvider.Type.Up,s)},l.prototype.pushPointerDownHandler=function(s){this.pushPointerEventHandler(h.PointerEventProvider.Type.Down,s)},l.prototype.pushPointerEnterHandler=function(s){this.pushPointerEventHandler(h.PointerEventProvider.Type.Enter,s)},l.prototype.pushPointerLeaveHandler=function(s){this.pushPointerEventHandler(h.PointerEventProvider.Type.Leave,s)},l.prototype.pushPointerMoveHandler=function(s){this.pushPointerEventHandler(h.PointerEventProvider.Type.Move,s)},l.prototype.pushPointerCancelHandler=function(s){this.pushPointerEventHandler(h.PointerEventProvider.Type.Cancel,s)},l.prototype.pushEyeGazeDataHandler=function(s){this.pushEyeGazeEventHandler(_.EyeGazeEventProvider.Type.EyeGazeData,s)},l.prototype.pushEyeGazeServerMessageHandler=function(s){this.pushEyeGazeEventHandler(_.EyeGazeEventProvider.Type.NewServerMessage,s)},l.prototype.pushEyeGazeConnectionStatusHandler=function(s){this.pushEyeGazeEventHandler(_.EyeGazeEventProvider.Type.ConnectionStatus,s)},l.prototype.pushEyeGazeBinaryMessageParsingErrorHandler=function(s){this.pushEyeGazeEventHandler(_.EyeGazeEventProvider.Type.BinaryMessageParsingError,s)},l.prototype.requestPointerLock=function(){this._mouseEventProvider&&(this._mouseEventProvider.pointerLock=!0)},l.prototype.exitPointerLock=function(){this._mouseEventProvider&&(this._mouseEventProvider.pointerLock=!1)},l}();a.EventHandler=o},function(n,a,i){var d,m=i(47);(function(_){var v=function(h,c){return"fetching '"+h+"' failed ("+c.status+"): "+c.statusText};_.fetchAsync=function(h,c){return new Promise(function(o,l){var s=new XMLHttpRequest;s.open("GET",h,!0),s.responseType=c,s.onload=function(){s.status<200||s.status>=300?l(v(h,s)):o(s.response)},s.onerror=function(){return l(v(h,s))},s.ontimeout=function(){return l(v(h,s))},s.send()})},_.fetchJsonAsync=function(h,c,o){return new Promise(function(l,s){var u=new XMLHttpRequest;u.open("GET",h,!0),u.onload=function(){if(u.status<200||u.status>=300)s(v(h,u));else{var f=u.responseText;if(o===void 0||m.validate(f,o)){var g;try{g=JSON.parse(f)}catch(b){return void s("fetching '"+h+"' failed ("+b.name+"): "+b.message)}var y=c(g);y!==void 0?l(y):s("fetching '"+h+"' failed (TransformError): transforming the object failed.")}}},u.onerror=function(){return s(v(h,u))},u.ontimeout=function(){return s(v(h,u))},u.send()})}})(d||(d={})),n.exports=d},function(n,a,i){var d=i(91),m=i(94);function _(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}a.parse=w,a.resolve=function(S,O){return w(S,!1,!0).resolve(O)},a.resolveObject=function(S,O){return S?w(S,!1,!0).resolveObject(O):O},a.format=function(S){return m.isString(S)&&(S=w(S)),S instanceof _?S.format():_.prototype.format.call(S)},a.Url=_;var v=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),l=["'"].concat(o),s=["%","/","?",";","#"].concat(l),u=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=i(95);function w(S,O,A){if(S&&m.isObject(S)&&S instanceof _)return S;var L=new _;return L.parse(S,O,A),L}_.prototype.parse=function(S,O,A){if(!m.isString(S))throw new TypeError("Parameter 'url' must be a string, not "+typeof S);var L=S.indexOf("?"),k=L!==-1&&L<S.indexOf("#")?"?":"#",D=S.split(k);D[0]=D[0].replace(/\\/g,"/");var N=S=D.join(k);if(N=N.trim(),!A&&S.split("#").length===1){var $=c.exec(N);if($)return this.path=N,this.href=N,this.pathname=$[1],$[2]?(this.search=$[2],this.query=O?x.parse(this.search.substr(1)):this.search.substr(1)):O&&(this.search="",this.query={}),this}var H=v.exec(N);if(H){var q=(H=H[0]).toLowerCase();this.protocol=q,N=N.substr(H.length)}if(A||H||N.match(/^\/\/[^@\/]+@[^@\/]+/)){var X=N.substr(0,2)==="//";!X||H&&b[H]||(N=N.substr(2),this.slashes=!0)}if(!b[H]&&(X||H&&!E[H])){for(var Y,J,ee=-1,te=0;te<u.length;te++)(ne=N.indexOf(u[te]))!==-1&&(ee===-1||ne<ee)&&(ee=ne);for((J=ee===-1?N.lastIndexOf("@"):N.lastIndexOf("@",ee))!==-1&&(Y=N.slice(0,J),N=N.slice(J+1),this.auth=decodeURIComponent(Y)),ee=-1,te=0;te<s.length;te++){var ne;(ne=N.indexOf(s[te]))!==-1&&(ee===-1||ne<ee)&&(ee=ne)}ee===-1&&(ee=N.length),this.host=N.slice(0,ee),N=N.slice(ee),this.parseHost(),this.hostname=this.hostname||"";var ce=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ce)for(var pe=this.hostname.split(/\./),me=(te=0,pe.length);te<me;te++){var re=pe[te];if(re&&!re.match(f)){for(var ye="",we=0,de=re.length;we<de;we++)re.charCodeAt(we)>127?ye+="x":ye+=re[we];if(!ye.match(f)){var Se=pe.slice(0,te),xe=pe.slice(te+1),Oe=re.match(g);Oe&&(Se.push(Oe[1]),xe.unshift(Oe[2])),xe.length&&(N="/"+xe.join(".")+N),this.hostname=Se.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),ce||(this.hostname=d.toASCII(this.hostname));var he=this.port?":"+this.port:"",Ae=this.hostname||"";this.host=Ae+he,this.href+=this.host,ce&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),N[0]!=="/"&&(N="/"+N))}if(!y[q])for(te=0,me=l.length;te<me;te++){var Le=l[te];if(N.indexOf(Le)!==-1){var Ee=encodeURIComponent(Le);Ee===Le&&(Ee=escape(Le)),N=N.split(Le).join(Ee)}}var Ce=N.indexOf("#");Ce!==-1&&(this.hash=N.substr(Ce),N=N.slice(0,Ce));var Ie=N.indexOf("?");if(Ie!==-1?(this.search=N.substr(Ie),this.query=N.substr(Ie+1),O&&(this.query=x.parse(this.query)),N=N.slice(0,Ie)):O&&(this.search="",this.query={}),N&&(this.pathname=N),E[q]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){he=this.pathname||"";var je=this.search||"";this.path=he+je}return this.href=this.format(),this},_.prototype.format=function(){var S=this.auth||"";S&&(S=(S=encodeURIComponent(S)).replace(/%3A/i,":"),S+="@");var O=this.protocol||"",A=this.pathname||"",L=this.hash||"",k=!1,D="";this.host?k=S+this.host:this.hostname&&(k=S+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(k+=":"+this.port)),this.query&&m.isObject(this.query)&&Object.keys(this.query).length&&(D=x.stringify(this.query));var N=this.search||D&&"?"+D||"";return O&&O.substr(-1)!==":"&&(O+=":"),this.slashes||(!O||E[O])&&k!==!1?(k="//"+(k||""),A&&A.charAt(0)!=="/"&&(A="/"+A)):k||(k=""),L&&L.charAt(0)!=="#"&&(L="#"+L),N&&N.charAt(0)!=="?"&&(N="?"+N),O+k+(A=A.replace(/[?#]/g,function($){return encodeURIComponent($)}))+(N=N.replace("#","%23"))+L},_.prototype.resolve=function(S){return this.resolveObject(w(S,!1,!0)).format()},_.prototype.resolveObject=function(S){if(m.isString(S)){var O=new _;O.parse(S,!1,!0),S=O}for(var A=new _,L=Object.keys(this),k=0;k<L.length;k++){var D=L[k];A[D]=this[D]}if(A.hash=S.hash,S.href==="")return A.href=A.format(),A;if(S.slashes&&!S.protocol){for(var N=Object.keys(S),$=0;$<N.length;$++){var H=N[$];H!=="protocol"&&(A[H]=S[H])}return E[A.protocol]&&A.hostname&&!A.pathname&&(A.path=A.pathname="/"),A.href=A.format(),A}if(S.protocol&&S.protocol!==A.protocol){if(!E[S.protocol]){for(var q=Object.keys(S),X=0;X<q.length;X++){var Y=q[X];A[Y]=S[Y]}return A.href=A.format(),A}if(A.protocol=S.protocol,S.host||b[S.protocol])A.pathname=S.pathname;else{for(var J=(S.pathname||"").split("/");J.length&&!(S.host=J.shift()););S.host||(S.host=""),S.hostname||(S.hostname=""),J[0]!==""&&J.unshift(""),J.length<2&&J.unshift(""),A.pathname=J.join("/")}if(A.search=S.search,A.query=S.query,A.host=S.host||"",A.auth=S.auth,A.hostname=S.hostname||S.host,A.port=S.port,A.pathname||A.search){var ee=A.pathname||"",te=A.search||"";A.path=ee+te}return A.slashes=A.slashes||S.slashes,A.href=A.format(),A}var ne=A.pathname&&A.pathname.charAt(0)==="/",ce=S.host||S.pathname&&S.pathname.charAt(0)==="/",pe=ce||ne||A.host&&S.pathname,me=pe,re=A.pathname&&A.pathname.split("/")||[],ye=(J=S.pathname&&S.pathname.split("/")||[],A.protocol&&!E[A.protocol]);if(ye&&(A.hostname="",A.port=null,A.host&&(re[0]===""?re[0]=A.host:re.unshift(A.host)),A.host="",S.protocol&&(S.hostname=null,S.port=null,S.host&&(J[0]===""?J[0]=S.host:J.unshift(S.host)),S.host=null),pe=pe&&(J[0]===""||re[0]==="")),ce)A.host=S.host||S.host===""?S.host:A.host,A.hostname=S.hostname||S.hostname===""?S.hostname:A.hostname,A.search=S.search,A.query=S.query,re=J;else if(J.length)re||(re=[]),re.pop(),re=re.concat(J),A.search=S.search,A.query=S.query;else if(!m.isNullOrUndefined(S.search))return ye&&(A.hostname=A.host=re.shift(),(Oe=!!(A.host&&A.host.indexOf("@")>0)&&A.host.split("@"))&&(A.auth=Oe.shift(),A.host=A.hostname=Oe.shift())),A.search=S.search,A.query=S.query,m.isNull(A.pathname)&&m.isNull(A.search)||(A.path=(A.pathname?A.pathname:"")+(A.search?A.search:"")),A.href=A.format(),A;if(!re.length)return A.pathname=null,A.search?A.path="/"+A.search:A.path=null,A.href=A.format(),A;for(var we=re.slice(-1)[0],de=(A.host||S.host||re.length>1)&&(we==="."||we==="..")||we==="",Se=0,xe=re.length;xe>=0;xe--)(we=re[xe])==="."?re.splice(xe,1):we===".."?(re.splice(xe,1),Se++):Se&&(re.splice(xe,1),Se--);if(!pe&&!me)for(;Se--;Se)re.unshift("..");!pe||re[0]===""||re[0]&&re[0].charAt(0)==="/"||re.unshift(""),de&&re.join("/").substr(-1)!=="/"&&re.push("");var Oe,he=re[0]===""||re[0]&&re[0].charAt(0)==="/";return ye&&(A.hostname=A.host=he?"":re.length?re.shift():"",(Oe=!!(A.host&&A.host.indexOf("@")>0)&&A.host.split("@"))&&(A.auth=Oe.shift(),A.host=A.hostname=Oe.shift())),(pe=pe||A.host&&re.length)&&!he&&re.unshift(""),re.length?A.pathname=re.join("/"):(A.pathname=null,A.path=null),m.isNull(A.pathname)&&m.isNull(A.search)||(A.path=(A.pathname?A.pathname:"")+(A.search?A.search:"")),A.auth=S.auth||A.auth,A.slashes=A.slashes||S.slashes,A.href=A.format(),A},_.prototype.parseHost=function(){var S=this.host,O=h.exec(S);O&&((O=O[0])!==":"&&(this.port=O.substr(1)),S=S.substr(0,S.length-O.length)),S&&(this.hostname=S)}},function(n,a,i){var d=i(35),m=i(16);function _(v,h){this.id=v,this.ref=h}n.exports.SchemaScanResult=_,n.exports.scan=function(v,h){function c(f,g){if(g&&typeof g=="object")if(g.$ref){var y=d.resolve(f,g.$ref);u[y]=u[y]?u[y]+1:0}else{var b=g.id?d.resolve(f,g.id):f;if(b){if(b.indexOf("#")<0&&(b+="#"),s[b]){if(!m.deepCompareStrict(s[b],g))throw new Error("Schema <"+g+"> already exists with different definition");return s[b]}s[b]=g,b[b.length-1]=="#"&&(s[b.substring(0,b.length-1)]=g)}o(b+"/items",Array.isArray(g.items)?g.items:[g.items]),o(b+"/extends",Array.isArray(g.extends)?g.extends:[g.extends]),c(b+"/additionalItems",g.additionalItems),l(b+"/properties",g.properties),c(b+"/additionalProperties",g.additionalProperties),l(b+"/definitions",g.definitions),l(b+"/patternProperties",g.patternProperties),l(b+"/dependencies",g.dependencies),o(b+"/disallow",g.disallow),o(b+"/allOf",g.allOf),o(b+"/anyOf",g.anyOf),o(b+"/oneOf",g.oneOf),c(b+"/not",g.not)}}function o(f,g){if(Array.isArray(g))for(var y=0;y<g.length;y++)c(f+"/"+y,g[y])}function l(f,g){if(g&&typeof g=="object")for(var y in g)c(f+"/"+y,g[y])}var s={},u={};return c(v,h),new _(s,u)}},function(n,a,i){var d,m=this&&this.__extends||(d=function(u,f){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var b in y)y.hasOwnProperty(b)&&(g[b]=y[b])})(u,f)},function(u,f){function g(){this.constructor=u}d(u,f),u.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)});Object.defineProperty(a,"__esModule",{value:!0});var _=i(0),v=function(){function u(f,g,y,b){y===void 0&&(y=1),b===void 0&&(b=1),this._components=f,this._width=isNaN(g)?1:Math.max(1,g),this._height=Math.max(1,y),this._depth=Math.max(1,b),this.resize()}return u.prototype.get=function(f,g,y){var b;switch(b=g===void 0&&y===void 0?this._components*f:this.index(f,g,y||0),_.assert(b<this.length,"index expected to be in range [0, "+(this.length-1)+"], given "+b),this._components){case 1:return[this._samples[b]];case 2:return[this._samples[b],this._samples[b+1]];case 3:return[this._samples[b],this._samples[b+1],this._samples[b+2]];case 4:return[this._samples[b],this._samples[b+1],this._samples[b+2],this._samples[b+3]]}},u.prototype.set=function(f,g,y,b){var E;switch(_.assert(f.length===this._components,"number of components expected to be "+this._components+", given "+f.length),E=y===void 0&&b===void 0?this._components*Math.min(this.elements,Math.max(0,g)):this._components*this.index(g,y,b||0),_.assert(E<this.length,"index expected to be in range [0, "+(this.length-1)+"], given "+E),this._components){case 4:this._samples[E+3]=f[3];case 3:this._samples[E+2]=f[2];case 2:this._samples[E+1]=f[1];case 1:this._samples[E+0]=f[0]}},u.prototype.fromJSON=function(f){_.assert(f.size&&f.size.width!==void 0&&f.size.height!==void 0&&f.size.depth!==void 0,"expected kernel width, height, and depth to be set, given '"+f.size+"'");var g=function(b){return b.reduce(function(E,x){return E.concat(Array.isArray(x)?g(x):x)},[])};this._width=Math.max(1,f.size.width),this._height=Math.max(1,f.size.height),this._depth=Math.max(1,f.size.depth);var y=g(f.kernel);this._components=Math.floor(y.length/this.elements),this.resize(),this.fromArray(y)},u.prototype.index=function(f,g,y){return g===void 0&&(g=0),y===void 0&&(y=0),this._width*(this._height*Math.min(this._depth,Math.max(0,y))+Math.min(this._height,Math.max(0,g)))+Math.min(this._width,Math.max(0,f))},u.prototype.position=function(f){var g=Math.min(this.elements,Math.max(0,f)),y=Math.floor(g/(this._width*this._height));g-=y*this._width*this._height;var b=Math.floor(g/this._width);return[g-=b*this._width,b,y]},u.prototype.sort=function(f){if(!(this.elements<2)){for(var g=Array(this.elements),y=0;y<this.elements;++y){var b=0;switch(f){default:case u.SortApproach.BySquaredLength:for(var E=0;E<this._components;++E){var x=this._samples[y*this._components+E];b+=x*x}}g[y]=[y,b]}switch(f){default:case u.SortApproach.BySquaredLength:g.sort(function(A,L){return A[1]-L[1]})}var w=this._samples.slice();for(y=0;y<g.length;++y)for(E=0;E<this._components;++E){var S=g[y][0]*this._components+E,O=y*this._components+E;this._samples[O]=w[S]}}},Object.defineProperty(u.prototype,"samples",{get:function(){return this._samples},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"length",{get:function(){return this._width*this._height*this._depth*this._components},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"elements",{get:function(){var f=this._width*this._height*this._depth;return isNaN(f)?0:f},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"components",{get:function(){return this._components},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"depth",{get:function(){return this._depth},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"xStride",{get:function(){return this.bytesPerComponent*this._components},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"yStride",{get:function(){return this.bytesPerComponent*this._components*this._width},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"zStride",{get:function(){return this.bytesPerComponent*this._components*this._width*this._depth},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"bytesLength",{get:function(){return this.bytesPerComponent*this._components*this._width*this._height*this._depth},enumerable:!0,configurable:!0}),u}();a.AbstractKernel=v,function(u){(function(f){f[f.BySquaredLength=0]="BySquaredLength"})(u.SortApproach||(u.SortApproach={}))}(v=a.AbstractKernel||(a.AbstractKernel={})),a.AbstractKernel=v;var h=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return m(f,u),f.prototype.resize=function(){this._samples=new Float32Array(this.length)},f.prototype.fromArray=function(g){_.assert(g.length===this.length,"expected samples length to match this kernel's length"),this._samples.set(new Float32Array(g))},Object.defineProperty(f.prototype,"bytesPerComponent",{get:function(){return 4},enumerable:!0,configurable:!0}),f}(v);a.KernelF32=h;var c=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return m(f,u),f.prototype.resize=function(){this._samples=new Uint32Array(this.length)},f.prototype.fromArray=function(g){_.assert(g.length===this.length,"expected samples length to match this kernel's length"),this._samples.set(new Uint32Array(g))},Object.defineProperty(f.prototype,"bytesPerComponent",{get:function(){return 4},enumerable:!0,configurable:!0}),f}(v);a.KernelUI32=c;var o=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return m(f,u),f.prototype.resize=function(){this._samples=new Int32Array(this.length)},f.prototype.fromArray=function(g){_.assert(g.length===this.length,"expected samples length to match this kernel's length"),this._samples.set(new Int32Array(g))},Object.defineProperty(f.prototype,"bytesPerComponent",{get:function(){return 4},enumerable:!0,configurable:!0}),f}(v);a.KernelI32=o;var l=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return m(f,u),f.prototype.resize=function(){this._samples=new Uint8Array(this.length)},f.prototype.fromArray=function(g){_.assert(g.length===this.length,"expected samples length to match this kernel's length"),this._samples.set(new Uint8Array(g))},Object.defineProperty(f.prototype,"bytesPerComponent",{get:function(){return 4},enumerable:!0,configurable:!0}),f}(v);a.KernelUI8=l;var s=function(u){function f(){return u!==null&&u.apply(this,arguments)||this}return m(f,u),f.prototype.resize=function(){this._samples=new Int8Array(this.length)},f.prototype.fromArray=function(g){_.assert(g.length===this.length,"expected samples length to match this kernel's length"),this._samples.set(new Int8Array(g))},Object.defineProperty(f.prototype,"bytesPerComponent",{get:function(){return 4},enumerable:!0,configurable:!0}),f}(v);a.KernelI8=s},function(n,a,i){var d,m=this&&this.__extends||(d=function(g,y){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,E){b.__proto__=E}||function(b,E){for(var x in E)E.hasOwnProperty(x)&&(b[x]=E[x])})(g,y)},function(g,y){function b(){this.constructor=g}d(g,y),g.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}),_=this&&this.__decorate||function(g,y,b,E){var x,w=arguments.length,S=w<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,b):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(g,y,b,E);else for(var O=g.length-1;O>=0;O--)(x=g[O])&&(S=(w<3?x(S):w>3?x(y,b,S):x(y,b))||S);return w>3&&S&&Object.defineProperty(y,b,S),S};Object.defineProperty(a,"__esModule",{value:!0});var v=i(1),h=i(0),c=i(3),o=i(2),l=i(12),s=i(6),u=i(7),f=function(g){function y(b){var E=g.call(this)||this;return E._enforceProgramBlit=!1,E._ndcTriangleShared=!1,E._context=b,E}return m(y,g),y.prototype.functionBlit=function(){var b=this._context.gl;this._target.bind(b.DRAW_FRAMEBUFFER),this._framebuffer.bind(b.READ_FRAMEBUFFER),b.readBuffer(this._readBuffer),b.drawBuffers([this._drawBuffer]),b.enable(b.SCISSOR_TEST),b.scissor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT),b.disable(b.SCISSOR_TEST);var E=this._srcBounds?this._srcBounds:[0,0,this._framebuffer.width,this._framebuffer.height],x=this._dstBounds?this._dstBounds:[0,0,this._target.width,this._target.height];b.blitFramebuffer(E[0],E[1],E[2],E[3],x[0],x[1],x[2],x[3],b.COLOR_BUFFER_BIT,this._filter),this._framebuffer.unbind(b.READ_FRAMEBUFFER),this._target.unbind(b.DRAW_FRAMEBUFFER)},y.prototype.programBlit=function(){this._program===void 0&&this.createProgram(),h.assert(this._ndcTriangle&&this._ndcTriangle.initialized,"expected an initialized ndc triangle");var b=this._context.gl,E=this._srcBounds?this._srcBounds:v.vec4.fromValues(0,0,this._framebuffer.width,this._framebuffer.height),x=this._dstBounds?this._dstBounds:v.vec4.fromValues(0,0,this._target.width,this._target.height),w=v.vec4.div(c.v4(),E,[this._framebuffer.width,this._framebuffer.height,this._framebuffer.width,this._framebuffer.height]),S=v.vec4.div(c.v4(),x,[this._target.width,this._target.height,this._target.width,this._target.height]);b.viewport(x[0],x[1],x[2]-x[0],x[3]-x[1]),b.disable(b.DEPTH_TEST),b.depthMask(!1),this._program.bind(),b.uniform4fv(this._uSrcBounds,w),b.uniform4fv(this._uDstBounds,S),b.uniform1i(this._uNearest,this.filter===b.nearest);var O=this._framebuffer.texture(this._readBuffer);O.bind(b.TEXTURE0);var A=this._context.isWebGL2?b.DRAW_FRAMEBUFFER:b.FRAMEBUFFER;this._target.bind(A),this._ndcTriangle.bind(),this._ndcTriangle.draw(),this._ndcTriangle.unbind(),this._target.unbind(A),O.unbind(),b.enable(b.DEPTH_TEST),b.depthMask(!0)},y.prototype.createProgram=function(){h.assert(this._program===void 0,"expected blit program to be undefined before its creation");var b=this._context.gl,E=new u.Shader(this._context,b.VERTEX_SHADER,"blit.vert (blit)");E.initialize(i(63));var x=new u.Shader(this._context,b.FRAGMENT_SHADER,"blit.frag (blit)");return x.initialize(i(109)),this._program=new s.Program(this._context,"BlitProgram"),this._program.initialize([E,x],!1),this._ndcTriangle.initialized||this._ndcTriangle.initialize(),this._program.attribute("a_vertex",this._ndcTriangle.vertexLocation),this._program.link(),this._uSrcBounds=this._program.uniform("u_srcBounds"),this._uDstBounds=this._program.uniform("u_dstBounds"),this._uNearest=this._program.uniform("u_nearest"),this._program.bind(),b.uniform1i(this._program.uniform("u_source"),0),this._program.unbind(),this._program.valid},y.prototype.initialize=function(b){var E=this._context.gl;return b===void 0?this._ndcTriangle=new l.NdcFillingTriangle(this._context,"NdcFillingTriangle-Blit"):(this._ndcTriangle=b,this._ndcTriangleShared=!0),this._filter=E.NEAREST,!0},y.prototype.uninitialize=function(){!this._ndcTriangleShared&&this._ndcTriangle.initialized&&this._ndcTriangle.uninitialize(),this._program.uninitialize()},y.prototype.frame=function(){h.logIf(!this._target||!this._target.valid,h.LogLevel.Warning,"valid target expected, given "+this._target),h.logIf(!this._framebuffer||!this._framebuffer.valid,h.LogLevel.Warning,"valid framebuffer for blitting from expected, given "+this._framebuffer);var b=this._context.gl;switch(this._readBuffer){case b.DEPTH_ATTACHMENT:case b.STENCIL_ATTACHMENT:case b.DEPTH_STENCIL_ATTACHMENT:return this.programBlit()}if(this._context.supportsBlitFramebuffer&&this._enforceProgramBlit===!1)return this.functionBlit();this.programBlit()},Object.defineProperty(y.prototype,"framebuffer",{set:function(b){this.assertInitialized(),this._framebuffer=b},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"readBuffer",{set:function(b){this.assertInitialized(),this._readBuffer=b},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"drawBuffer",{set:function(b){this.assertInitialized(),this._drawBuffer=b},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"target",{set:function(b){this.assertInitialized(),this._target=b},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"filter",{set:function(b){this._filter=b},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"srcBounds",{set:function(b){this._srcBounds=b?v.vec4.clone(b):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"dstBounds",{set:function(b){this._dstBounds=b?v.vec4.clone(b):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"enforceProgramBlit",{set:function(b){this._enforceProgramBlit=b},enumerable:!0,configurable:!0}),_([o.Initializable.initialize()],y.prototype,"initialize",null),_([o.Initializable.uninitialize()],y.prototype,"uninitialize",null),_([o.Initializable.assert_initialized()],y.prototype,"frame",null),y}(o.Initializable);a.BlitPass=f},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=function(){function m(_){this._type=_}return Object.defineProperty(m.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),m}();a.SceneNodeComponent=d},function(n,a,i){function d(j){for(var Z in j)a.hasOwnProperty(Z)||(a[Z]=j[Z])}Object.defineProperty(a,"__esModule",{value:!0});var m=i(82);a.branch=m.branch,a.commit=m.commit,a.version=m.version;var _=i(27);a.Context=_.Context;var v=i(86);a.Canvas=v.Canvas;var h=i(43);a.Controller=h.Controller;var c=i(2);a.Initializable=c.Initializable;var o=i(41);a.ContextMasquerade=o.ContextMasquerade;var l=i(28);a.ExtensionsHash=l.ExtensionsHash;var s=i(15);a.ChangeLookup=s.ChangeLookup;var u=i(30);a.MouseEventProvider=u.MouseEventProvider;var f=i(32);a.TouchEventProvider=f.TouchEventProvider;var g=i(31);a.PointerEventProvider=g.PointerEventProvider;var y=i(33);a.EventHandler=y.EventHandler;var b=i(5);a.Buffer=b.Buffer;var E=i(21);a.Color=E.Color;var x=i(88);a.ColorScale=x.ColorScale;var w=i(48);a.DefaultFramebuffer=w.DefaultFramebuffer;var S=i(17);a.Framebuffer=S.Framebuffer;var O=i(9);a.Geometry=O.Geometry;var A=i(6);a.Program=A.Program;var L=i(23);a.Renderbuffer=L.Renderbuffer;var k=i(50);a.Renderer=k.Renderer,a.LoadingStatus=k.LoadingStatus;var D=i(7);a.Shader=D.Shader;var N=i(4);a.Texture2D=N.Texture2D;var $=i(100);a.Texture3D=$.Texture3D;var H=i(51);a.TextureCube=H.TextureCube;var q=i(101);a.UnifiedBuffer=q.UnifiedBuffer;var X=i(49);a.VertexArray=X.VertexArray;var Y=i(14);a.Wizard=Y.Wizard;var J=i(52);a.Camera=J.Camera;var ee=i(102);a.TileCameraGenerator=ee.TileCameraGenerator;var te=i(11);a.CameraModifier=te.CameraModifier;var ne=i(103);a.Navigation=ne.Navigation;var ce=i(53);a.FirstPersonModifier=ce.FirstPersonModifier;var pe=i(54);a.PanModifier=pe.PanModifier;var me=i(22);a.PointerLock=me.PointerLock;var re=i(56);a.TrackballModifier=re.TrackballModifier;var ye=i(57);a.TurntableModifier=ye.TurntableModifier;var we=i(55);a.PinchZoomModifier=we.PinchZoomModifier;var de=i(58);a.WheelZoomModifier=de.WheelZoomModifier;var Se=i(104);a.NdcFillingRectangle=Se.NdcFillingRectangle;var xe=i(12);a.NdcFillingTriangle=xe.NdcFillingTriangle;var Oe=i(37);a.AbstractKernel=Oe.AbstractKernel;var he=i(59);a.AntiAliasingKernel=he.AntiAliasingKernel;var Ae=i(60);a.RandomSquareKernel=Ae.RandomSquareKernel;var Le=i(37);a.KernelF32=Le.KernelF32,a.KernelI32=Le.KernelI32,a.KernelI8=Le.KernelI8,a.KernelUI32=Le.KernelUI32,a.KernelUI8=Le.KernelUI8;var Ee=i(61);a.AccumulatePass=Ee.AccumulatePass;var Ce=i(38);a.BlitPass=Ce.BlitPass;var Ie=i(110);a.DebugPass=Ie.DebugPass;var je=i(112);a.EnvironmentRenderingPass=je.EnvironmentRenderingPass,a.EnvironmentTextureType=je.EnvironmentTextureType;var Me=i(114);a.ReadbackPass=Me.ReadbackPass;var Ye=i(64);a.GaussFilter=Ye.GaussFilter;var De=i(118);a.ShadowPass=De.ShadowPass;var He=i(44);a.EyeGazeDataStream=He.EyeGazeDataStream,a.EyeGazeDataStreams=He.EyeGazeDataStreams;var tt=i(29);a.EyeGazeEventProvider=tt.EyeGazeEventProvider;var Re=i(45);a.EyeGazeData=Re.EyeGazeData,d(i(65)),d(i(25)),d(i(127));var Ke=i(0);a.auxiliaries=Ke;var U=i(1);a.vec2=U.vec2,a.vec3=U.vec3,a.vec4=U.vec4;var C=i(1);a.mat2=C.mat2,a.mat2d=C.mat2d,a.mat3=C.mat3,a.mat4=C.mat4;var M=i(1);a.quat=M.quat;var z=i(3);a.gl_matrix_extensions=z;var V=i(13);a.tuples=V},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(0),m=i(28),_=function(){function v(){this._extensionsStrive=new Array,this._extensionsConceal=new Array,this._functionsUndefine=new Array}return v.fromHash=function(h){var c=new v,o=m.ExtensionsHash.decode(h);return c._backend=o[0],c._extensionsStrive=o[1],c._extensionsConceal=m.ExtensionsHash.complement(c._backend,c._extensionsStrive),c},v.fromPreset=function(h){for(var c,o=new v,l=new Array,s=0,u=v.presets();s<u.length;s++){var f=u[s];if(l.push(f.identifier),f.identifier===h){c=f;break}}if(c===void 0&&d.assert(!1,"expected valid identifier, available ['"+l.join("', '")+"'], given '"+h+"'"),(c=c).extensions_hash!==void 0){var g=m.ExtensionsHash.decode(c.extensions_hash);o._backend=g[0],o._extensionsStrive=g[1]}else o._backend=c.backend;return d.assert(o._backend!==void 0,"expected backend to be included in preset"),c.extensions_strive===void 0?(o._extensionsStrive=[],o._extensionsConceal=c.extensions_conceal?c.extensions_conceal:[]):(o._extensionsStrive=c.extensions_strive,o._extensionsConceal=m.ExtensionsHash.complement(o._backend,c.extensions_strive)),o._functionsUndefine=c.functions_undefine?c.functions_undefine:[],o},v.fromGET=function(){var h=d.GETparameter("msqrd_h");if(h!==void 0)return v.fromHash(h);var c=d.GETparameter("msqrd_p");return c!==void 0?v.fromPreset(c):void 0},v.presets=function(){return this.MASQUERADE_JSON},Object.defineProperty(v.prototype,"backend",{get:function(){return this._backend},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"extensionsStrive",{get:function(){return this._extensionsStrive},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"extensionsConceal",{get:function(){return this._extensionsConceal},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"functionsUndefine",{get:function(){return this._functionsUndefine},enumerable:!0,configurable:!0}),v.MASQUERADE_JSON=i(84),v}();a.ContextMasquerade=_},function(n,a,i){var d;(function(m){m.WEBGL1_EXTENSIONS=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_astc","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_debug_renderer_info","WEBGL_debug_shaders","WEBGL_depth_texture","WEBGL_draw_buffers","WEBGL_lose_context"],m.WEBGL2_EXTENSIONS=["EXT_color_buffer_float","EXT_disjoint_timer_query_webgl2","EXT_texture_filter_anisotropic","OES_texture_float_linear","OES_texture_half_float_linear","WEBGL_compressed_texture_astc","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_debug_renderer_info","WEBGL_debug_shaders","WEBGL_lose_context"],m.WEBGL2_DEFAULT_EXTENSIONS=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_half_float","OES_vertex_array_object","WEBGL_depth_texture","WEBGL_draw_buffers"]})(d||(d={})),n.exports=d},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(10),m=i(0),_=i(3),v=function(){function h(){this._batchSize=1,this._multiFrameNumber=1,this._multiFrameNumberSubject=new d.ReplaySubject(1),this._debugFrameNumber=0,this._debugFrameNumberSubject=new d.ReplaySubject(1),this._frameNumber=0,this._frameNumberSubject=new d.ReplaySubject(1),this._multiFrameDelay=0,this._animationFrameID=0,this._block=!1,this._blockedUpdates=0,this._intermediateFrameCount=0,this._multiFrameCount=0,this._intermediateFrameTimes=new Array(2),this._multiTime=[0,0],this._invalidated=!1,this._force=!1}return Object.defineProperty(h.prototype,"debug",{set:function(c){c&&m.logVerbosity()<m.LogLevel.Debug&&(m.logVerbosity(m.LogLevel.Debug),m.log(m.LogLevel.Debug,"changed log verbosity to "+m.LogLevel.Debug+" (debug)")),h._debug=c},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"batch",{set:function(c){m.log(m.LogLevel.Warning,"(adaptive) batch multi-frame rendering is experimental for now"),this._batchSize=Math.max(1,c)},enumerable:!0,configurable:!0}),h.prototype.request=function(c){var o=this;c===void 0&&(c=h.RequestType.Frame),this._animationFrameID=0,this._block?this._blockedUpdates++:this._animationFrameID=window.requestAnimationFrame(function(){return o.invoke(c)})},h.prototype.invoke=function(c){if(this._animationFrameID!==0){if(m.assert(this._controllable!==void 0,"frame sequence invoked without controllable set"),this._invalidated&&(this._invalidated=!1,(this.invokeUpdate()||this._force)&&(this._force=!1,this._frameNumber=0,this.cancelWaitMultiFrame(),this.invokePrepare())),c===h.RequestType.Frame&&this._frameNumber===1)return this._timeoutID===void 0&&this.startWaitMultiFrame(),void(this._animationFrameID=0);this.isMultiFrameFinished()?this._animationFrameID=0:(this.invokeFrameAndSwap(),this.request())}},h.prototype.invokeUpdate=function(){return m.logIf(h._debug,m.LogLevel.Debug,"c invoke update     | pending: '"+this._animationFrameID+"', mfnum: "+this._multiFrameNumber),this._controllable.update(this._multiFrameNumber)},h.prototype.invokePrepare=function(){m.logIf(h._debug,m.LogLevel.Debug,"c invoke prepare    |"),this._multiFrameTime=0,this._intermediateFrameTimes[0]=Number.MAX_VALUE,this._intermediateFrameTimes[1]=Number.MIN_VALUE,this._multiTime[0]=performance.now(),this._controllable.prepare(),this._multiTime[1]=performance.now();var c=this._multiTime[1]-this._multiTime[0];this._multiFrameTime=c,this._updateFrameTime=c},h.prototype.invokeFrameAndSwap=function(){m.logIf(h._debug,m.LogLevel.Debug,"c invoke frame      | pending: '"+this._animationFrameID+"'");var c=this._debugFrameNumber>0;m.assert(!c||this._frameNumber<this._debugFrameNumber,"frame number about to exceed debug-frame number");var o=performance.now(),l=Math.min(this._multiFrameNumber,this._frameNumber+this._batchSize);for(this._debugFrameNumber>0&&(l=Math.min(l,this._debugFrameNumber));this._frameNumber<l;++this._frameNumber)m.logIf(h._debug,m.LogLevel.Debug,"c -> frame          | frame: "+this._frameNumber),this._controllable.frame(this._frameNumber),++this._intermediateFrameCount;m.logIf(h._debug,m.LogLevel.Debug,"c -> swap           |"),this._controllable.swap(),this._multiTime[1]=performance.now();var s=this._multiTime[1]-o;this._multiFrameTime+=s,this._intermediateFrameTimes[0]=Math.min(this._intermediateFrameTimes[0],s),this._intermediateFrameTimes[1]=Math.max(this._intermediateFrameTimes[1],s),this.frameNumberNext()},h.prototype.startWaitMultiFrame=function(){var c=this;this._timeoutID=window.setTimeout(function(){c.request(h.RequestType.MultiFrame),c._timeoutID=void 0},this._multiFrameDelay)},h.prototype.cancelWaitMultiFrame=function(){this._timeoutID!==void 0&&(window.clearTimeout(this._timeoutID),this._timeoutID=void 0)},h.prototype.isMultiFrameFinished=function(){return this._debugFrameNumber>0?this._frameNumber===this._debugFrameNumber:this._frameNumber===this._multiFrameNumber},h.prototype.multiFrameNumberNext=function(){this._multiFrameNumberSubject.next(this._multiFrameNumber)},h.prototype.debugFrameNumberNext=function(){this._debugFrameNumberSubject.next(this._debugFrameNumber)},h.prototype.frameNumberNext=function(){this._frameNumberSubject.next(this._frameNumber)},h.prototype.update=function(c){c===void 0&&(c=!1),this._invalidated=!0,this._force=this._force||c,this._animationFrameID===0&&this.request()},h.prototype.block=function(){m.logIf(h._debug,m.LogLevel.Debug,"c block   "+(this._block?"(ignored) ":"          ")+"|"),this._block=!0},h.prototype.unblock=function(){m.logIf(h._debug,m.LogLevel.Debug,"c unblock "+(this._block?"          ":"(ignored) ")+"| blocked: #"+this._blockedUpdates),this._block&&(this._block=!1,this._blockedUpdates>0&&(this._blockedUpdates=0,this.update()))},h.prototype.cancel=function(){this._animationFrameID!==0&&(window.cancelAnimationFrame(this._animationFrameID),this._animationFrameID=0)},Object.defineProperty(h.prototype,"blocked",{get:function(){return this._block},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"controllable",{set:function(c){c!==this._controllable&&(this._controllable=c,this.update(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"multiFrameNumber",{get:function(){return this._multiFrameNumber},set:function(c){var o=Math.max(1,isNaN(c)?1:c);o!==this._multiFrameNumber&&(this._multiFrameNumber=o,this.multiFrameNumberNext(),m.logIf(o!==c,m.LogLevel.Debug,"multi-frame number adjusted to "+o+", given "+c),this.debugFrameNumber>this.multiFrameNumber?this.debugFrameNumber=this.multiFrameNumber:this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"multiFrameNumber$",{get:function(){return this._multiFrameNumberSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"debugFrameNumber",{get:function(){return this._debugFrameNumber},set:function(c){var o=_.clamp(isNaN(c)?0:c,0,this.multiFrameNumber);o!==this._debugFrameNumber&&(this._debugFrameNumber=o,this.debugFrameNumberNext(),m.logIf(o!==c,m.LogLevel.Debug,"debug-frame number adjusted to "+o+", given "+c),this.update(this.debugFrameNumber<this._frameNumber))},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"debugFrameNumber$",{get:function(){return this._debugFrameNumberSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"multiFrameDelay",{get:function(){return this._multiFrameDelay},set:function(c){var o=Math.max(0,c);o!==this._multiFrameDelay&&(this._multiFrameDelay=o)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"frameNumber",{get:function(){return this._frameNumber},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"frameNumber$",{get:function(){return this._frameNumberSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"intermediateFrameCount",{get:function(){return this._intermediateFrameCount},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"multiFrameCount",{get:function(){return this._multiFrameCount},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"averageFrameTime",{get:function(){return this._frameNumber===0?0:this._multiFrameTime/this._frameNumber},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"updateFrameTime",{get:function(){return this._updateFrameTime},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"minimumFrameTime",{get:function(){return this._intermediateFrameTimes[0]},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"maximumFrameTime",{get:function(){return this._intermediateFrameTimes[1]},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"multiFrameTime",{get:function(){return this._frameNumber===0?0:this._multiTime[1]-this._multiTime[0]},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"framesPerSecond",{get:function(){return this._frameNumber===0?0:1e3/(this.multiFrameTime/this._frameNumber)},enumerable:!0,configurable:!0}),h._debug=!1,h}();a.Controller=v,function(h){(function(c){c[c.Frame=0]="Frame",c[c.MultiFrame=1]="MultiFrame"})(h.RequestType||(h.RequestType={}))}(v=a.Controller||(a.Controller={})),a.Controller=v},function(n,a,i){var d,m=this&&this.__extends||(d=function(s,u){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var y in g)g.hasOwnProperty(y)&&(f[y]=g[y])})(s,u)},function(s,u){function f(){this.constructor=s}d(s,u),s.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}),_=this&&this.__awaiter||function(s,u,f,g){return new(f||(f=Promise))(function(y,b){function E(S){try{w(g.next(S))}catch(O){b(O)}}function x(S){try{w(g.throw(S))}catch(O){b(O)}}function w(S){var O;S.done?y(S.value):(O=S.value,O instanceof f?O:new f(function(A){A(O)})).then(E,x)}w((g=g.apply(s,u||[])).next())})},v=this&&this.__generator||function(s,u){var f,g,y,b,E={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return b={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function x(w){return function(S){return function(O){if(f)throw new TypeError("Generator is already executing.");for(;E;)try{if(f=1,g&&(y=2&O[0]?g.return:O[0]?g.throw||((y=g.return)&&y.call(g),0):g.next)&&!(y=y.call(g,O[1])).done)return y;switch(g=0,y&&(O=[2&O[0],y.value]),O[0]){case 0:case 1:y=O;break;case 4:return E.label++,{value:O[1],done:!1};case 5:E.label++,g=O[1],O=[0];continue;case 7:O=E.ops.pop(),E.trys.pop();continue;default:if(!((y=(y=E.trys).length>0&&y[y.length-1])||O[0]!==6&&O[0]!==2)){E=0;continue}if(O[0]===3&&(!y||O[1]>y[0]&&O[1]<y[3])){E.label=O[1];break}if(O[0]===6&&E.label<y[1]){E.label=y[1],y=O;break}if(y&&E.label<y[2]){E.label=y[2],E.ops.push(O);break}y[2]&&E.ops.pop(),E.trys.pop();continue}O=u.call(s,E)}catch(A){O=[6,A],g=0}finally{f=y=0}if(5&O[0])throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}([w,S])}}};Object.defineProperty(a,"__esModule",{value:!0});var h=i(45),c=function(s){function u(){return s!==null&&s.apply(this,arguments)||this}return m(u,s),u}(EventTarget);a.EyeGazeEventTarget=c;var o=function(){function s(){this._eyeGazeDataStreams=new l,this._eyeGazeEventTarget=new EventTarget}return s.prototype.generateStreamConfigByte=function(){var u=Uint8Array.from([0]);return this._eyeGazeDataStreams.gazePosition&&(u[0]=1|u[0]),this._eyeGazeDataStreams.gazeOrigin&&(u[0]=2|u[0]),this._eyeGazeDataStreams.eyePositionNormalized&&(u[0]=4|u[0]),this._eyeGazeDataStreams.headPositionAndRotation&&(u[0]=8|u[0]),this._eyeGazeDataStreams.userPresence&&(u[0]=16|u[0]),u},s.prototype.performHandshake=function(){this._eyeGazeDataStreams.recalculateNumberOfFloats();var u=this.generateStreamConfigByte();this._webSocket.send(u)},s.prototype.parseEyeTrackingData=function(u){if(u.length<this._eyeGazeDataStreams.expectedNumberOfFloats)return new CustomEvent(s.BINARY_MESSAGE_PARSING_ERROR);var f=0,g=new h.EyeGazeData;return this._eyeGazeDataStreams.gazePosition&&(g.gazePositionXY[0]=u[f++],g.gazePositionXY[1]=u[f++]),this._eyeGazeDataStreams.gazeOrigin&&(g.gazeOriginRightXYZ[0]=u[f++],g.gazeOriginRightXYZ[1]=u[f++],g.gazeOriginRightXYZ[2]=u[f++],g.gazeOriginLeftXYZ[0]=u[f++],g.gazeOriginLeftXYZ[1]=u[f++],g.gazeOriginLeftXYZ[2]=u[f++]),this._eyeGazeDataStreams.eyePositionNormalized&&(g.eyePositionRightNormalizedXYZ[0]=u[f++],g.eyePositionRightNormalizedXYZ[1]=u[f++],g.eyePositionRightNormalizedXYZ[2]=u[f++],g.eyePositionLeftNormalizedXYZ[0]=u[f++],g.eyePositionLeftNormalizedXYZ[1]=u[f++],g.eyePositionLeftNormalizedXYZ[2]=u[f++]),this._eyeGazeDataStreams.headPositionAndRotation&&(g.headPositionXYZ[0]=u[f++],g.headPositionXYZ[1]=u[f++],g.headPositionXYZ[2]=u[f++],g.headRotationXYZ[0]=u[f++],g.headRotationXYZ[1]=u[f++],g.headRotationXYZ[2]=u[f++]),this._eyeGazeDataStreams.userPresence&&(g.userPresence=u[f]!==0),new CustomEvent(s.EYE_GAZE_DATA,{detail:{eyeGazeData:g}})},s.prototype.onOpen=function(u){this.dispatchEvent(new CustomEvent(s.CONNECTION_STATUS,{detail:{message:s.SUCCESSFULLY_CONNECTED_TO_SERVER,event:u}})),this.performHandshake()},s.prototype.onClose=function(u){this.dispatchEvent(new CustomEvent(s.CONNECTION_STATUS,{detail:{message:s.DISCONNECTED_TO_SERVER,event:u}}))},s.prototype.onError=function(u){this.dispatchEvent(new CustomEvent(s.CONNECTION_STATUS,{detail:{message:s.CONNECTION_ERROR,event:u}}))},s.prototype.onMessage=function(u){return _(this,void 0,void 0,function(){var f,g;return v(this,function(y){switch(y.label){case 0:return typeof u.data=="string"?[3,2]:[4,u.data.arrayBuffer()];case 1:return f=y.sent(),g=new Float32Array(f),this.dispatchEvent(this.parseEyeTrackingData(g)),[3,3];case 2:this.dispatchEvent(new CustomEvent(s.NEW_SERVER_MESSAGE,{detail:{message:u.data}})),y.label=3;case 3:return[2]}})})},s.prototype.connect=function(u){var f=this;this._webSocket=new WebSocket(u),this._webSocket.onopen=function(g){f.onOpen(g)},this._webSocket.onclose=function(g){f.onClose(g)},this._webSocket.onerror=function(g){f.onError(g)},this._webSocket.onmessage=function(g){f.onMessage(g)}},s.prototype.addEventListener=function(u,f,g){this._eyeGazeEventTarget.addEventListener(u,f,g)},s.prototype.dispatchEvent=function(u){return this._eyeGazeEventTarget.dispatchEvent(u)},s.prototype.removeEventListener=function(u,f,g){this._eyeGazeEventTarget.removeEventListener(u,f,g)},Object.defineProperty(s.prototype,"connectionState",{get:function(){return this._webSocket.readyState},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"eyeGazeDataStreams",{get:function(){return this._eyeGazeDataStreams},set:function(u){this._eyeGazeDataStreams!==u&&(this._eyeGazeDataStreams=u)},enumerable:!0,configurable:!0}),s.EYE_GAZE_DATA="eyegazedata",s.NEW_SERVER_MESSAGE="newservermessage",s.CONNECTION_STATUS="connectionstatus",s.BINARY_MESSAGE_PARSING_ERROR="binarymessageparsingerror",s.SUCCESSFULLY_CONNECTED_TO_SERVER="successfully connected to server",s.DISCONNECTED_TO_SERVER="disconnected to server",s.CONNECTION_ERROR="connection error with server",s}();a.EyeGazeDataStream=o;var l=function(){function s(){this.gazePosition=!1,this.gazeOrigin=!1,this.eyePositionNormalized=!1,this.headPositionAndRotation=!1,this.userPresence=!1,this.expectedNumberOfFloats=0}return s.prototype.recalculateNumberOfFloats=function(){var u=0;this.gazePosition&&(u+=2),this.gazeOrigin&&(u+=6),this.eyePositionNormalized&&(u+=6),this.headPositionAndRotation&&(u+=6),this.userPresence&&(u+=1),this.expectedNumberOfFloats=u},s}();a.EyeGazeDataStreams=l},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=function(){function m(){this.gazePositionXY=[0,0],this.gazeOriginRightXYZ=[0,0,0],this.gazeOriginLeftXYZ=[0,0,0],this.eyePositionRightNormalizedXYZ=[0,0,0],this.eyePositionLeftNormalizedXYZ=[0,0,0],this.headPositionXYZ=[0,0,0],this.headRotationXYZ=[0,0,0],this.userPresence=!1}return m.prototype.toString=function(){var _="";return _+="Gaze Position: "+this.gazePositionXY+`
`,_+="Gaze Origin Right: "+this.gazeOriginRightXYZ+`
`,_+="Gaze Origin Left: "+this.gazeOriginLeftXYZ+`
`,_+="Eye Position Normalized Right: "+this.eyePositionRightNormalizedXYZ+`
`,_+="Eye Position Normalized Left: "+this.eyePositionLeftNormalizedXYZ+`
`,_+="Head Position: "+this.headPositionXYZ+`
`,(_+="Head Rotation: "+this.headRotationXYZ+`
`)+"User Presence: "+this.userPresence+`
`},m}();a.EyeGazeData=d},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.IS_IE11=typeof navigator=="undefined"?void 0:/MSIE 11|Windows/i.test(navigator.userAgent),a.IS_EDGE=typeof navigator=="undefined"?void 0:/Edge\/\d./i.test(navigator.userAgent)},function(n,a,i){var d,m,_=i(89),v=i(0);(m=d||(d={})).validate=function(h,c,o){var l=new _.Validator;if(o!==void 0)for(var s=0,u=o;s<u.length;s++){var f=u[s];l.addSchema(f[0],f[1])}var g=l.validate(h,c);return v.logIf(!g.valid,v.LogLevel.Warning,`schema expected to be valid:
`+g.toString()),g.valid},m.complement=function h(c,o){if(c!==void 0)switch(v.assert(o.hasOwnProperty("properties")&&o.type==="object"||o.hasOwnProperty("items")&&o.type==="array","expected schema to have 'properties' or 'items', given "+o),o.type){case"object":for(var l=o.properties,s=0,u=Object.getOwnPropertyNames(l);s<u.length;s++){var f=u[s],g=l[f],y=g.type==="object",b=c.hasOwnProperty(f),E=g.hasOwnProperty("properties"),x=g.hasOwnProperty("default");v.assert(E&&y||!E&&!y,"expected property '"+f+"' to be of type 'object', given '"+g.type+"'"),b&&E?h(c[f],g):!b&&x&&Object.defineProperty(c,f,{value:g.default,writable:!0})}break;case"array":var w=o.items;if(w.type!=="object")break;for(var S=0,O=Object.getOwnPropertyNames(c);S<O.length;S++){var A=O[S];A!=="length"&&h(c[A],w)}}},m.compare=function h(c,o,l,s){s===void 0&&(s="");var u=l!==void 0;if(v.assert(!u||l.hasOwnProperty("any"),"expected allocation lookup object to have 'any' key"),c===void 0&&o!==void 0||c!==void 0&&o===void 0)return u&&l.alter(s),!0;var f=!0,g=[typeof c,typeof o],y=[c instanceof Array,o instanceof Array];if(!(y[0]&&y[1]||g[0]==="object"&&g[1]==="object"))return!(f=c===o)&&u&&l.alter(""+s),!f;for(var b=0,E=Array.from(new Set(Array().concat(Object.getOwnPropertyNames(c),Object.getOwnPropertyNames(o))).values());b<E.length;b++){var x=E[b];if(x!=="length"){var w=[c[x],o[x]];g=[typeof w[0],typeof w[1]];var S=s+(s.length>0&&!y[0]?".":"")+(y[0]?"":x);if(w[0]instanceof Array&&w[1]instanceof Array||g[0]==="object"&&g[1]==="object")f=f&&!h(w[0],w[1],l,S);else{if(g[0]===g[1]&&w[0]===w[1])continue;f=!1,u&&l.alter(S)}}}return!f},n.exports=d},function(n,a,i){var d,m=this&&this.__extends||(d=function(l,s){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var g in f)f.hasOwnProperty(g)&&(u[g]=f[g])})(l,s)},function(l,s){function u(){this.constructor=l}d(l,s),l.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}),_=this&&this.__decorate||function(l,s,u,f){var g,y=arguments.length,b=y<3?s:f===null?f=Object.getOwnPropertyDescriptor(s,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(l,s,u,f);else for(var E=l.length-1;E>=0;E--)(g=l[E])&&(b=(y<3?g(b):y>3?g(s,u,b):g(s,u))||b);return y>3&&b&&Object.defineProperty(s,u,b),b};Object.defineProperty(a,"__esModule",{value:!0});var v=i(0),h=i(17),c=i(2),o=function(l){function s(){return l!==null&&l.apply(this,arguments)||this}return m(s,l),s.prototype.create=function(){return this._object=h.Framebuffer.DEFAULT_FRAMEBUFFER,this._valid=!0,this._clearColors=new Array(1),this._clearDepth=1,this._clearStencil=0,this.clear=this.es2Clear,this._object},s.prototype.delete=function(){this._object=void 0,this._valid=!1},s.prototype.hasAttachment=function(u){return!1},s.prototype.bind=function(u){u===void 0&&(u=this.context.gl.FRAMEBUFFER),this.context.gl.bindFramebuffer(u,this._object)},s.prototype.clearColor=function(u){l.prototype.clearColor.call(this,u)},s.prototype.resize=function(){v.assert(!1,"the default framebuffer cannot be resized directly")},Object.defineProperty(s.prototype,"width",{get:function(){return this.context.gl.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"height",{get:function(){return this.context.gl.canvas.height},enumerable:!0,configurable:!0}),_([c.Initializable.assert_initialized()],s.prototype,"bind",null),s}(h.Framebuffer);a.DefaultFramebuffer=o},function(n,a,i){var d,m=this&&this.__extends||(d=function(o,l){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)u.hasOwnProperty(f)&&(s[f]=u[f])})(o,l)},function(o,l){function s(){this.constructor=o}d(o,l),o.prototype=l===null?Object.create(l):(s.prototype=l.prototype,new s)}),_=this&&this.__decorate||function(o,l,s,u){var f,g=arguments.length,y=g<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,s):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(o,l,s,u);else for(var b=o.length-1;b>=0;b--)(f=o[b])&&(y=(g<3?f(y):g>3?f(l,s,y):f(l,s))||y);return g>3&&y&&Object.defineProperty(l,s,y),y};Object.defineProperty(a,"__esModule",{value:!0});var v=i(0),h=i(2),c=function(o){function l(){var s=o!==null&&o.apply(this,arguments)||this;return s._buffersBound=!1,s}return m(l,o),l.prototype.create=function(s,u){var f=this;if(this.context.isWebGL2||this.context.supportsVertexArrayObject){var g=this.context.gl2facade;this._object=g.createVertexArray(),this._valid=this._object!==void 0,this._bind=function(){g.bindVertexArray(f.object),f._buffersBound||(s(),f._buffersBound=!0)},this._unbind=function(){return g.bindVertexArray(l.DEFAULT_VERTEX_ARRAY)}}else this._bind=function(){return s()},this._unbind=function(){return u()},this._valid=!0;return this._object},l.prototype.delete=function(){this.context.isWebGL2||this.context.supportsVertexArrayObject?(v.assert(this._object!==void 0,"expected WebGLVertexArrayObject object"),this._context.gl2facade.deleteVertexArray(this._object),this._object=void 0,this._valid=!1,this._buffersBound=!1):this._valid=!1},l.prototype.bind=function(){this._bind()},l.prototype.unbind=function(){this._unbind()},l.prototype.invalidate=function(){this._buffersBound=!1},l.DEFAULT_VERTEX_ARRAY=void 0,_([h.Initializable.assert_initialized()],l.prototype,"bind",null),_([h.Initializable.assert_initialized()],l.prototype,"unbind",null),l}(i(8).AbstractObject);a.VertexArray=c},function(n,a,i){var d,m=this&&this.__extends||(d=function(b,E){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var S in w)w.hasOwnProperty(S)&&(x[S]=w[S])})(b,E)},function(b,E){function x(){this.constructor=b}d(b,E),b.prototype=E===null?Object.create(E):(x.prototype=E.prototype,new x)}),_=this&&this.__decorate||function(b,E,x,w){var S,O=arguments.length,A=O<3?E:w===null?w=Object.getOwnPropertyDescriptor(E,x):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(b,E,x,w);else for(var L=b.length-1;L>=0;L--)(S=b[L])&&(A=(O<3?S(A):O>3?S(E,x,A):S(E,x))||A);return O>3&&A&&Object.defineProperty(E,x,A),A};Object.defineProperty(a,"__esModule",{value:!0});var v,h=i(10),c=i(1),o=i(0),l=i(3),s=i(15),u=i(2),f=i(13),g=i(14);(function(b){b[b.Started=0]="Started",b[b.Finished=1]="Finished"})(v=a.LoadingStatus||(a.LoadingStatus={}));var y=function(b){function E(){var x=b!==null&&b.apply(this,arguments)||this;return x._altered=Object.assign(new s.ChangeLookup,{any:!1,multiFrameNumber:!1,frameSize:!1,canvasSize:!1,framePrecision:!1,clearColor:!1,debugTexture:!1}),x._frameSize=[0,0],x._canvasSize=[0,0],x._framePrecision=g.Wizard.Precision.half,x._clearColor=[0,0,0,1],x._debugTextures=new Array,x._debugTextureSubject=new h.ReplaySubject(1),x}return m(E,b),E.prototype.invalidate=function(x){x===void 0&&(x=!1),this._invalidate(x)},E.prototype.debugTextureNext=function(){this._debugTextureSubject.next(this._debugTexture)},Object.defineProperty(E.prototype,"context",{get:function(){return this.assertInitialized(),this._context},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"canvasSize",{get:function(){return this.assertInitialized(),this._canvasSize},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"altered",{get:function(){return this._altered.any},enumerable:!0,configurable:!0}),E.prototype.onSwap=function(){},E.prototype.startLoading=function(){this._isLoading=!0,this._loadingStatusSubscription.next(v.Started)},E.prototype.finishLoading=function(){this._isLoading=!1,this._loadingStatusSubscription.next(v.Finished)},E.prototype.initialize=function(x,w,S){return o.assert(x!==void 0,"valid webgl context required"),this._context=x,o.assert(w!==void 0,"valid multi-frame update callback required"),this._invalidate=w,this._isLoading=!0,this._loadingStatusSubscription=new h.ReplaySubject,this.onInitialize(x,w,S)},E.prototype.uninitialize=function(){this.onUninitialize()},E.prototype.discard=function(){this.onDiscarded()},E.prototype.update=function(x){return this._canvasSize[0]===this._context.gl.canvas.width&&this._canvasSize[1]===this._context.gl.canvas.height||(this._canvasSize[0]=this._context.gl.canvas.width,this._canvasSize[1]=this._context.gl.canvas.height,this._altered.alter("canvasSize")),this._multiFrameNumber!==x&&(this._multiFrameNumber=x,this._altered.alter("multiFrameNumber")),this.onUpdate()||this._altered.any},E.prototype.prepare=function(){this.onPrepare()},E.prototype.frame=function(x){this.onFrame(x)},E.prototype.swap=function(){this.onSwap()},E.prototype.frameCoords=function(x,w){var S=c.vec2.divide(l.v2(),this._frameSize,this.canvasSize);return c.vec2.floor(S,c.vec2.multiply(S,[x+.5,w+.5],S)),c.vec2.add(S,S,[.5,.5]),f.tuple2(S)},Object.defineProperty(E.prototype,"frameSize",{set:function(x){this.assertInitialized(),c.vec2.equals(this._frameSize,x)||(Object.assign(this._frameSize,x),this._altered.alter("frameSize"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"framePrecision",{set:function(x){this.assertInitialized(),this._framePrecision!==x&&(this._framePrecision=x,this._altered.alter("framePrecision"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"clearColor",{set:function(x){this.assertInitialized(),c.vec4.equals(this._clearColor,x)||(Object.assign(this._clearColor,x),this._altered.alter("clearColor"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"debugTextures",{get:function(){return this.assertInitialized(),this._debugTextures},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"debugTexture",{get:function(){return this.assertInitialized(),this._debugTexture},set:function(x){this.assertInitialized(),this._debugTexture!==x&&(o.logIf(x>=this._debugTextures.length,o.LogLevel.Error,"invalid texture index, debug texture disabled (index set to -1) | "+x+" not in [-1,+"+(this._debugTextures.length-1)+"]"),this._debugTexture=x<this._debugTextures.length?l.clamp(x,-1,this._debugTextures.length-1):-1,this._altered.alter("debugTexture"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"debugTexture$",{get:function(){return this._debugTextureSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"loadingStatus$",{get:function(){return this._loadingStatusSubscription.asObservable()},enumerable:!0,configurable:!0}),_([u.Initializable.assert_initialized()],E.prototype,"invalidate",null),_([u.Initializable.initialize()],E.prototype,"initialize",null),_([u.Initializable.uninitialize()],E.prototype,"uninitialize",null),_([u.Initializable.discard()],E.prototype,"discard",null),_([u.Initializable.assert_initialized()],E.prototype,"update",null),_([u.Initializable.assert_initialized()],E.prototype,"prepare",null),_([u.Initializable.assert_initialized()],E.prototype,"frame",null),_([u.Initializable.assert_initialized()],E.prototype,"swap",null),E}(u.Initializable);a.Renderer=y},function(n,a,i){var d,m=this&&this.__extends||(d=function(l,s){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var g in f)f.hasOwnProperty(g)&&(u[g]=f[g])})(l,s)},function(l,s){function u(){this.constructor=l}d(l,s),l.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}),_=this&&this.__decorate||function(l,s,u,f){var g,y=arguments.length,b=y<3?s:f===null?f=Object.getOwnPropertyDescriptor(s,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(l,s,u,f);else for(var E=l.length-1;E>=0;E--)(g=l[E])&&(b=(y<3?g(b):y>3?g(s,u,b):g(s,u))||b);return y>3&&b&&Object.defineProperty(s,u,b),b};Object.defineProperty(a,"__esModule",{value:!0});var v=i(0),h=i(20),c=i(2),o=function(l){function s(){var u=l!==null&&l.apply(this,arguments)||this;return u._size=0,u._internalFormat=0,u._format=0,u._type=0,u._bytes=[0,0,0,0,0,0],u}return m(s,l),s.prototype.faceID=function(u){var f=this._context.gl;switch(u){case f.TEXTURE_CUBE_MAP_POSITIVE_X:return 0;case f.TEXTURE_CUBE_MAP_NEGATIVE_X:return 1;case f.TEXTURE_CUBE_MAP_POSITIVE_Y:return 2;case f.TEXTURE_CUBE_MAP_NEGATIVE_Y:return 3;case f.TEXTURE_CUBE_MAP_POSITIVE_Z:return 4;case f.TEXTURE_CUBE_MAP_NEGATIVE_Z:return 5;default:return v.assert(!1,"expected texture cube map identifier ("+f.TEXTURE_CUBE_MAP_POSITIVE_X+", "+f.TEXTURE_CUBE_MAP_NEGATIVE_X+", "+f.TEXTURE_CUBE_MAP_POSITIVE_Y+", "+f.TEXTURE_CUBE_MAP_NEGATIVE_Y+", "+f.TEXTURE_CUBE_MAP_POSITIVE_Z+", or"+f.TEXTURE_CUBE_MAP_NEGATIVE_Z+"), given "+u),-1}},s.prototype.create=function(u,f,g,y){v.assert(u>0,"texture cube requires valid size (width/height) of greater than zero");var b=this._context.gl,E=this._context.gl2facade;return this._object=b.createTexture(),this._size=u,this._internalFormat=f,this._format=g,this._type=y,b.bindTexture(b.TEXTURE_CUBE_MAP,this._object),b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_MIN_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_MAG_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),E.texImage2D(b.TEXTURE_CUBE_MAP_POSITIVE_X,0,this._internalFormat,this._size,this._size,0,this._format,this._type),E.texImage2D(b.TEXTURE_CUBE_MAP_NEGATIVE_X,0,this._internalFormat,this._size,this._size,0,this._format,this._type),E.texImage2D(b.TEXTURE_CUBE_MAP_POSITIVE_Y,0,this._internalFormat,this._size,this._size,0,this._format,this._type),E.texImage2D(b.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,this._internalFormat,this._size,this._size,0,this._format,this._type),E.texImage2D(b.TEXTURE_CUBE_MAP_POSITIVE_Z,0,this._internalFormat,this._size,this._size,0,this._format,this._type),E.texImage2D(b.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,this._internalFormat,this._size,this._size,0,this._format,this._type),b.bindTexture(b.TEXTURE_CUBE_MAP,s.DEFAULT_TEXTURE),this._valid=b.isTexture(this._object),this.context.allocationRegister.reallocate(this._identifier,0),this._object},s.prototype.delete=function(){v.assert(this._object instanceof WebGLTexture,"expected WebGLTexture object"),this._context.gl.deleteTexture(this._object),this._object=void 0,this._valid=!1,this._internalFormat=0,this._format=0,this._type=0,this._size=0},s.prototype.cropImage=function(u,f,g,y,b){var E=document.createElement("canvas");E.width=y,E.height=b;var x=E.getContext("2d");return x?(x.drawImage(u,f,g,y,b,0,0,y,b),x.getImageData(0,0,y,b)):(console.log(v.LogLevel.Warning,"2D context creation failed when cropping image."),new ImageData(0,0))},s.prototype.extractMipLevelFromAtlas=function(u,f){for(var g=this.context.gl,y=u.height/2*Math.pow(.5,f),b=[0,0],E=[u.width,u.height],x=0;x<f;++x)E[0]/=2,E[1]/=2,b[0]+=E[0],b[1]+=E[1];g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,!0);var w=this.cropImage(u,b[0],b[1],y,y);this.data([g.TEXTURE_CUBE_MAP_NEGATIVE_X,w],f);var S=this.cropImage(u,b[0]+y,b[1],y,y);this.data([g.TEXTURE_CUBE_MAP_POSITIVE_Z,S],f);var O=this.cropImage(u,b[0]+2*y,b[1],y,y);this.data([g.TEXTURE_CUBE_MAP_POSITIVE_X,O],f);var A=this.cropImage(u,b[0]+3*y,b[1],y,y);this.data([g.TEXTURE_CUBE_MAP_NEGATIVE_Z,A],f);var L=this.cropImage(u,b[0],b[1]+y,y,y);this.data([g.TEXTURE_CUBE_MAP_POSITIVE_Y,L],f);var k=this.cropImage(u,b[0]+y,b[1]+y,y,y);this.data([g.TEXTURE_CUBE_MAP_NEGATIVE_Y,k],f),g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,!1)},s.prototype.bind=function(u){var f=this.context.gl;u&&f.activeTexture(u),f.bindTexture(f.TEXTURE_CUBE_MAP,this._object)},s.prototype.unbind=function(u){var f=this.context.gl;u&&f.activeTexture(u),f.bindTexture(f.TEXTURE_CUBE_MAP,s.DEFAULT_TEXTURE)},s.prototype.fetch=function(u,f,g){var y=this;f===void 0&&(f=!1),g===void 0&&(g=0);var b=this.context.gl;return new Promise(function(E,x){var w=new Array;u.positiveX&&w.push([b.TEXTURE_CUBE_MAP_POSITIVE_X,u.positiveX]),u.negativeX&&w.push([b.TEXTURE_CUBE_MAP_NEGATIVE_X,u.negativeX]),u.positiveY&&w.push([b.TEXTURE_CUBE_MAP_POSITIVE_Y,u.positiveY]),u.negativeY&&w.push([b.TEXTURE_CUBE_MAP_NEGATIVE_Y,u.negativeY]),u.positiveZ&&w.push([b.TEXTURE_CUBE_MAP_POSITIVE_Z,u.positiveZ]),u.negativeZ&&w.push([b.TEXTURE_CUBE_MAP_NEGATIVE_Z,u.negativeZ]);for(var S=w.length,O=function(k){var D=new Image;D.crossOrigin="anonymous",D.onerror=function(){return x()},D.onload=function(){var N=y.calculateMipLevelSize(g);D.width===D.height?D.width===N?(b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0),y.data([k[0],D],g),b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1),(S-=1)==0&&E()):v.log(v.LogLevel.Warning,"image ignored, width and height expected to match this texture's size "+N+", given "+D.width):v.log(v.LogLevel.Warning,"image ignored, width and height expected to be equal (square image)")},f&&(D.crossOrigin="anonymous"),D.src=k[1]},A=0,L=w;A<L.length;A++)O(L[A])})},s.prototype.fetchMipmapAtlas=function(u,f){var g=this;return f===void 0&&(f=!1),new Promise(function(y,b){var E=new Image;E.onerror=function(){return b()},E.onload=function(){if(E.width===2*E.height){for(var x=E.height/2,w=Math.log2(x),S=0;S<w;++S)g.extractMipLevelFromAtlas(E,S);y()}else v.log(v.LogLevel.Warning,"Mipmap atlas expected to have dimensions of 2x1.")},f&&(E.crossOrigin="anonymous"),E.src=u})},s.prototype.calculateMipLevelSize=function(u){return this._size*Math.pow(.5,u)},s.prototype.data=function(u,f,g,y){f===void 0&&(f=0),g===void 0&&(g=!0),y===void 0&&(y=!0);var b=this.context.gl,E=this.context.gl2facade,x=this.calculateMipLevelSize(f),w=x*x*h.byteSizeOfFormat(this.context,this._internalFormat);if(this._type===this.context.gl2facade.HALF_FLOAT&&this._internalFormat!==this.context.gl.RGBA16F?w*=2:this._type===this.context.gl.FLOAT&&this._internalFormat!==this.context.gl.RGBA16F&&(w*=4),g&&this.bind(),u instanceof Array&&u.length===2){E.texImage2D(u[0],f,this._internalFormat,x,x,0,this._format,this._type,u[1]);var S=this.faceID(u[0]);this.context.allocationRegister.deallocate(this._identifier,this._bytes[S]),this.context.allocationRegister.allocate(this._identifier,w),this._bytes[S]=w}else{var O=u;O.positiveX!==void 0&&(E.texImage2D(b.TEXTURE_CUBE_MAP_POSITIVE_X,f,this._internalFormat,x,x,0,this._format,this._type,O.positiveX),this.context.allocationRegister.deallocate(this._identifier,this._bytes[0]),this.context.allocationRegister.allocate(this._identifier,w),this._bytes[0]=w),O.negativeX!==void 0&&(E.texImage2D(b.TEXTURE_CUBE_MAP_NEGATIVE_X,f,this._internalFormat,x,x,0,this._format,this._type,O.negativeX),this.context.allocationRegister.deallocate(this._identifier,this._bytes[1]),this.context.allocationRegister.allocate(this._identifier,w),this._bytes[1]=w),O.positiveY!==void 0&&(E.texImage2D(b.TEXTURE_CUBE_MAP_POSITIVE_Y,f,this._internalFormat,x,x,0,this._format,this._type,O.positiveY),this.context.allocationRegister.deallocate(this._identifier,this._bytes[2]),this.context.allocationRegister.allocate(this._identifier,w),this._bytes[2]=w),O.negativeY!==void 0&&(E.texImage2D(b.TEXTURE_CUBE_MAP_NEGATIVE_Y,f,this._internalFormat,x,x,0,this._format,this._type,O.negativeY),this.context.allocationRegister.deallocate(this._identifier,this._bytes[3]),this.context.allocationRegister.allocate(this._identifier,w),this._bytes[3]=w),O.positiveZ!==void 0&&(E.texImage2D(b.TEXTURE_CUBE_MAP_POSITIVE_Z,f,this._internalFormat,x,x,0,this._format,this._type,O.positiveZ),this.context.allocationRegister.deallocate(this._identifier,this._bytes[4]),this.context.allocationRegister.allocate(this._identifier,w),this._bytes[4]=w),O.negativeZ!==void 0&&(E.texImage2D(b.TEXTURE_CUBE_MAP_NEGATIVE_Z,f,this._internalFormat,x,x,0,this._format,this._type,O.negativeZ),this.context.allocationRegister.deallocate(this._identifier,this._bytes[5]),this.context.allocationRegister.allocate(this._identifier,w),this._bytes[5]=w)}y&&this.unbind()},s.prototype.filter=function(u,f,g,y){g===void 0&&(g=!0),y===void 0&&(y=!0);var b=this.context.gl;g&&this.bind(),b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_MAG_FILTER,u),b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_MIN_FILTER,f),y&&this.unbind()},s.prototype.wrap=function(u,f,g,y){g===void 0&&(g=!0),y===void 0&&(y=!0);var b=this.context.gl;g&&this.bind(),b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_WRAP_S,u),b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_WRAP_T,f),y&&this.unbind()},s.prototype.levels=function(u,f,g,y){g===void 0&&(g=!0),y===void 0&&(y=!0);var b=this.context.gl;g&&this.bind(),b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_BASE_LEVEL,u),b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_MAX_LEVEL,f),y&&this.unbind()},s.prototype.reformat=function(u,f,g,y,b){y===void 0&&(y=!0),b===void 0&&(b=!0),(u!==this._internalFormat||f!==void 0&&f!==this._format||g!==void 0&&g!==this._type)&&(v.assert(u!==void 0,"valid internal format expected"),this._internalFormat=u,f&&(this._format=f),g&&(this._type=g),this.data({clearOnUndefined:!0},0,y,b))},s.prototype.resize=function(u,f,g){f===void 0&&(f=!0),g===void 0&&(g=!0),u!==this._size&&(this._size=u,this.data({clearOnUndefined:!0},0,f,g))},Object.defineProperty(s.prototype,"bytes",{get:function(){return this.assertInitialized(),this.context.allocationRegister.allocated(this._identifier)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"internalFormat",{get:function(){return this.assertInitialized(),this._internalFormat},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"format",{get:function(){return this.assertInitialized(),this._format},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"type",{get:function(){return this.assertInitialized(),this._type},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return this.assertInitialized(),this._size},enumerable:!0,configurable:!0}),s.DEFAULT_TEXTURE=void 0,_([c.Initializable.assert_initialized()],s.prototype,"bind",null),_([c.Initializable.assert_initialized()],s.prototype,"unbind",null),_([c.Initializable.assert_initialized()],s.prototype,"fetch",null),_([c.Initializable.assert_initialized()],s.prototype,"fetchMipmapAtlas",null),_([c.Initializable.assert_initialized()],s.prototype,"data",null),_([c.Initializable.assert_initialized()],s.prototype,"filter",null),_([c.Initializable.assert_initialized()],s.prototype,"wrap",null),_([c.Initializable.assert_initialized()],s.prototype,"levels",null),_([c.Initializable.assert_initialized()],s.prototype,"reformat",null),_([c.Initializable.assert_initialized()],s.prototype,"resize",null),s}(i(8).AbstractObject);a.TextureCube=o},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(1),m=i(3),_=i(0),v=i(13),h=function(){function c(o,l,s){this._fovy=c.DEFAULT_FOVY,this._near=c.DEFAULT_NEAR,this._far=c.DEFAULT_FAR,this._viewport=[1,1],this._aspect=1,this._altered=!1,this._eye=o?d.vec3.clone(o):d.vec3.clone(c.DEFAULT_EYE),this._center=l?d.vec3.clone(l):d.vec3.clone(c.DEFAULT_CENTER),this._up=s?d.vec3.clone(s):d.vec3.clone(c.DEFAULT_UP)}return c.calculateFovY=function(o,l){return 2*Math.atan(.5*o/l)},c.prototype.invalidate=function(o,l,s){s===void 0&&(s=!1),o&&(this._view=void 0,this._viewInverse=void 0),l&&(this._projection=void 0,this._projectionInverse=void 0),(o||l||s)&&(this._viewProjection=void 0,this._viewProjectionInverse=void 0),this._altered=!0},Object.defineProperty(c.prototype,"eye",{get:function(){return this._eye},set:function(o){d.vec3.equals(this._eye,o)||(this._eye=d.vec3.clone(o),this.invalidate(!0,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"center",{get:function(){return this._center},set:function(o){d.vec3.equals(this._center,o)||(this._center=d.vec3.clone(o),this.invalidate(!0,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"up",{get:function(){return this._up},set:function(o){d.vec3.equals(this._up,o)||(this._up=d.vec3.clone(o),this.invalidate(!0,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fovy",{get:function(){return this._fovy},set:function(o){this._fovy!==o&&(this._fovy=o,this.invalidate(!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fovx",{set:function(o){var l=o*_.DEG2RAD,s=2*Math.atan(Math.tan(l/2)*(1/this.aspect))*_.RAD2DEG;this._fovy!==s&&(this._fovy=s,this.invalidate(!1,!0))},enumerable:!0,configurable:!0}),c.prototype.fovFromLens=function(o,l){var s=2*Math.atan(o/(2*l));this.fovx=s*_.RAD2DEG},Object.defineProperty(c.prototype,"near",{get:function(){return this._near},set:function(o){this._near!==o&&(o>=this._far&&_.log(_.LogLevel.Warning,"near expected to be smaller than far ("+this._far+"), given "+o),this._near=o,this.invalidate(!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"far",{get:function(){return this._far},set:function(o){this._far!==o&&(this._near>=o&&_.log(_.LogLevel.Warning,"far expected to be greater than near ("+this._near+"), given "+o),this._far=o,this.invalidate(!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"viewport",{get:function(){return this._viewport},set:function(o){this._viewport[0]===o[0]&&this._viewport[1]===o[1]||(this._viewport=v.duplicate2(o),this.invalidate(!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"width",{get:function(){return this._viewport[0]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"height",{get:function(){return this._viewport[1]},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"aspect",{get:function(){return this._aspect},set:function(o){this._aspect!==o&&(this._aspect=o)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"view",{get:function(){return this._view||(this._view=d.mat4.lookAt(m.m4(),this._eye,this._center,this._up)),this._view},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"viewInverse",{get:function(){return this._viewInverse!==void 0||(this._viewInverse=d.mat4.invert(m.m4(),this.view)),this._viewInverse},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"projection",{get:function(){return this._projection||(this._projection=d.mat4.perspective(m.m4(),this.fovy*_.DEG2RAD,this.aspect,this.near,this.far)),this._projection},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"projectionInverse",{get:function(){return this._projectionInverse!==void 0||(this._projectionInverse=d.mat4.invert(m.m4(),this.projection)),this._projectionInverse},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"viewProjection",{get:function(){return this._viewProjection||(this._viewProjection=d.mat4.multiply(m.m4(),this.projection,this.view),this._viewProjection=d.mat4.multiply(m.m4(),this.postViewProjection,this._viewProjection)),this._viewProjection},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"viewProjectionInverse",{get:function(){return this._viewProjectionInverse!==void 0||(this._viewProjectionInverse=d.mat4.invert(m.m4(),this.viewProjection)),this._viewProjectionInverse},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"postViewProjection",{get:function(){return this._postViewProjection?this._postViewProjection:d.mat4.identity(m.m4())},set:function(o){this._postViewProjection=o,this.invalidate(!1,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"altered",{get:function(){return this._altered},set:function(o){this._altered=o},enumerable:!0,configurable:!0}),c.DEFAULT_EYE=d.vec3.fromValues(0,0,1),c.DEFAULT_CENTER=d.vec3.fromValues(0,0,0),c.DEFAULT_UP=d.vec3.fromValues(0,1,0),c.DEFAULT_FOVY=45,c.DEFAULT_NEAR=2,c.DEFAULT_FAR=8,c}();a.Camera=h},function(n,a,i){var d,m=this&&this.__extends||(d=function(c,o){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var u in s)s.hasOwnProperty(u)&&(l[u]=s[u])})(c,o)},function(c,o){function l(){this.constructor=c}d(c,o),c.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)});Object.defineProperty(a,"__esModule",{value:!0});var _=i(1),v=i(3),h=function(c){function o(){var l=c!==null&&c.apply(this,arguments)||this;return l._rotation=_.mat4.create(),l._sensitivity=o.DEFAULT_SENSITIVITY,l}return m(o,c),o.prototype.initiate=function(l){Object.assign(this._reference,this._camera),this._initialPoint=l},o.prototype.process=function(l,s){this._currentPoint=l;var u=_.vec2.create();s===void 0?_.vec2.subtract(u,this._initialPoint,this._currentPoint):_.vec2.copy(u,s),_.vec2.scale(u,u,window.devicePixelRatio*this._sensitivity),_.vec2.copy(this._initialPoint,this._currentPoint);var f=_.vec3.sub(v.v3(),this._reference.eye,this._reference.center);_.vec3.normalize(f,f);var g=_.vec3.cross(v.v3(),f,this._reference.up),y=_.mat4.fromRotation(v.m4(),-u[0],this._reference.up),b=_.mat4.fromRotation(v.m4(),u[1],g);_.mat4.mul(this._rotation,b,y),this.update()},o.prototype.update=function(){if(this._camera!==void 0){var l=_.mat4.fromTranslation(v.m4(),this._reference.eye);_.mat4.multiply(l,l,this._rotation),_.mat4.translate(l,l,_.vec3.negate(v.v3(),this._reference.eye));var s=_.vec3.transformMat4(v.v3(),this._reference.center,l);this._camera.center=s,Object.assign(this._reference,this._camera)}},Object.defineProperty(o.prototype,"sensitivity",{get:function(){return this._sensitivity},set:function(l){this._sensitivity=l},enumerable:!0,configurable:!0}),o.DEFAULT_SENSITIVITY=8e-4,o}(i(11).CameraModifier);a.FirstPersonModifier=h},function(n,a,i){var d,m=this&&this.__extends||(d=function(c,o){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var u in s)s.hasOwnProperty(u)&&(l[u]=s[u])})(c,o)},function(c,o){function l(){this.constructor=c}d(c,o),c.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)});Object.defineProperty(a,"__esModule",{value:!0});var _=i(1),v=i(3),h=function(c){function o(){var l=c!==null&&c.apply(this,arguments)||this;return l._sensitivity=o.DEFAULT_SENSITIVITY,l._translation=v.v3(),l}return m(o,c),o.prototype.initiate=function(l){Object.assign(this._reference,this._camera),this._initialPoint=l},o.prototype.process=function(l){this._currentPoint=l;var s=_.vec2.subtract(v.v2(),this._initialPoint,this._currentPoint);_.vec2.scale(s,s,window.devicePixelRatio*this._sensitivity);var u=_.vec3.sub(v.v3(),this._reference.eye,this._reference.center);_.vec3.normalize(u,u);var f=this._reference.up;_.vec3.normalize(f,f);var g=_.vec3.cross(v.v3(),f,u),y=_.vec3.scale(v.v3(),g,s[0]),b=_.vec3.scale(v.v3(),f,s[1]);_.vec3.negate(b,b),this._translation=_.vec3.add(v.v3(),b,y),this.update()},o.prototype.update=function(){if(this._camera!==void 0){var l=_.mat4.fromTranslation(v.m4(),this._translation),s=_.vec3.transformMat4(v.v3(),this._reference.eye,l),u=_.vec3.transformMat4(v.v3(),this._reference.center,l);this._camera.eye=s,this._camera.center=u}},o.DEFAULT_SENSITIVITY=.002,o}(i(11).CameraModifier);a.PanModifier=h},function(n,a,i){var d,m=this&&this.__extends||(d=function(c,o){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var u in s)s.hasOwnProperty(u)&&(l[u]=s[u])})(c,o)},function(c,o){function l(){this.constructor=c}d(c,o),c.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)});Object.defineProperty(a,"__esModule",{value:!0});var _=i(1),v=i(3),h=function(c){function o(){var l=c!==null&&c.apply(this,arguments)||this;return l._sensitivity=o.DEFAULT_SENSITIVITY,l._translation=v.v3(),l}return m(o,c),o.prototype.initiate=function(l,s){Object.assign(this._reference,this._camera);var u=_.vec2.subtract(v.v2(),l,s);this._initialDistance=_.vec2.length(u)},o.prototype.process=function(l,s){var u=_.vec2.subtract(v.v2(),l,s);this._currentDistance=_.vec2.length(u);var f=(this._currentDistance/this._initialDistance-1)*o.DEFAULT_SENSITIVITY,g=_.vec3.sub(v.v3(),this._reference.center,this._reference.eye);_.vec3.normalize(g,g),this._translation=_.vec3.scale(v.v3(),g,f),this.update()},o.prototype.update=function(){if(this._camera!==void 0){var l=_.mat4.fromTranslation(v.m4(),this._translation),s=_.vec3.transformMat4(v.v3(),this._reference.eye,l);this._camera.eye=s}},o.DEFAULT_SENSITIVITY=2,o}(i(11).CameraModifier);a.PinchZoomModifier=h},function(n,a,i){var d,m=this&&this.__extends||(d=function(c,o){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var u in s)s.hasOwnProperty(u)&&(l[u]=s[u])})(c,o)},function(c,o){function l(){this.constructor=c}d(c,o),c.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)});Object.defineProperty(a,"__esModule",{value:!0});var _=i(1),v=i(3),h=function(c){function o(){var l=c!==null&&c.apply(this,arguments)||this;return l._rotation=_.mat4.create(),l._sensitivity=o.DEFAULT_SENSITIVITY,l}return m(o,c),o.prototype.initiate=function(l){this._initialPoint=l},o.prototype.process=function(l){this._currentPoint=l;var s=_.vec2.subtract(v.v2(),this._initialPoint,this._currentPoint);_.vec2.scale(s,s,window.devicePixelRatio*this._sensitivity),_.vec2.copy(this._initialPoint,this._currentPoint);var u=_.vec3.sub(v.v3(),this._reference.eye,this._reference.center);_.vec3.normalize(u,u);var f=_.vec3.normalize(v.v3(),this._reference.up),g=_.vec3.cross(v.v3(),u,f);_.vec3.scale(f,f,s[1]),_.vec3.scale(g,g,s[0]);var y=_.vec3.cross(v.v3(),_.vec3.add(v.v3(),f,g),u);_.vec3.normalize(y,y);var b=_.quat.setAxisAngle(_.quat.create(),y,_.vec2.len(s));_.mat4.multiply(this._rotation,this._rotation,_.mat4.fromQuat(v.m4(),b)),this.update()},o.prototype.update=function(){if(this._camera!==void 0){var l=_.mat4.fromTranslation(v.m4(),this._reference.center);_.mat4.multiply(l,l,this._rotation),_.mat4.translate(l,l,_.vec3.negate(v.v3(),this._reference.center));var s=_.vec3.transformMat4(v.v3(),[0,1,0],this._rotation),u=_.vec3.transformMat4(v.v3(),this._reference.eye,l);this._camera.up=s,this._camera.eye=u}},Object.defineProperty(o.prototype,"sensitivity",{get:function(){return this._sensitivity},set:function(l){this._sensitivity=l},enumerable:!0,configurable:!0}),o.DEFAULT_SENSITIVITY=.002,o}(i(11).CameraModifier);a.TrackballModifier=h},function(n,a,i){var d,m=this&&this.__extends||(d=function(c,o){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var u in s)s.hasOwnProperty(u)&&(l[u]=s[u])})(c,o)},function(c,o){function l(){this.constructor=c}d(c,o),c.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)});Object.defineProperty(a,"__esModule",{value:!0});var _=i(1),v=i(3),h=function(c){function o(){var l=c!==null&&c.apply(this,arguments)||this;return l._rotation=v.m4(),l._maxAzimuth=.5*+Math.PI-1e-4,l._minAzimuth=.5*-Math.PI+1e-4,l._xAxisScreenSpace=v.v3(),l._sensitivity=o.DEFAULT_SENSITIVITY,l}return m(o,c),o.prototype.initiate=function(l){Object.assign(this._reference,this._camera),this._initialPoint=l;var s=_.vec3.sub(v.v3(),this._reference.eye,this._reference.center);_.vec3.normalize(s,s),this._xAxisScreenSpace=_.vec3.cross(v.v3(),[0,1,0],s),this._azimuth=Math.acos(_.vec3.dot(s,[0,1,0])),this._azimuth=.5*Math.PI-this._azimuth},o.prototype.process=function(l){this._currentPoint=l;var s=_.vec2.subtract(v.v2(),this._initialPoint,this._currentPoint);_.vec2.scale(s,s,window.devicePixelRatio*this._sensitivity),this._minAzimuth&&(s[1]=Math.min(this._azimuth-this._minAzimuth,s[1])),this._maxAzimuth&&(s[1]=Math.max(this._azimuth-this._maxAzimuth,s[1])),_.mat4.rotateY(this._rotation,v.m4(),s[0]),_.mat4.rotate(this._rotation,this._rotation,s[1],this._xAxisScreenSpace),this.update()},o.prototype.update=function(){if(this._camera!==void 0){var l=_.mat4.fromTranslation(v.m4(),this._reference.center);_.mat4.multiply(l,l,this._rotation),_.mat4.translate(l,l,_.vec3.negate(v.v3(),this._reference.center));var s=_.vec3.transformMat4(v.v3(),[0,1,0],this._rotation),u=_.vec3.transformMat4(v.v3(),this._reference.eye,l);this._camera.up=s,this._camera.eye=u}},Object.defineProperty(o.prototype,"sensitivity",{get:function(){return this._sensitivity},set:function(l){this._sensitivity=l},enumerable:!0,configurable:!0}),o.DEFAULT_SENSITIVITY=.002,o}(i(11).CameraModifier);a.TurntableModifier=h},function(n,a,i){var d,m=this&&this.__extends||(d=function(c,o){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var u in s)s.hasOwnProperty(u)&&(l[u]=s[u])})(c,o)},function(c,o){function l(){this.constructor=c}d(c,o),c.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)});Object.defineProperty(a,"__esModule",{value:!0});var _=i(1),v=i(3),h=function(c){function o(){var l=c!==null&&c.apply(this,arguments)||this;return l._sensitivity=o.DEFAULT_SENSITIVITY,l._translation=v.v3(),l}return m(o,c),o.prototype.process=function(l){Object.assign(this._reference,this._camera);var s=l*this._sensitivity,u=_.vec3.sub(v.v3(),this._reference.center,this._reference.eye);_.vec3.normalize(u,u),this._translation=_.vec3.scale(v.v3(),u,s),this.update()},o.prototype.update=function(){if(this._camera!==void 0){var l=_.mat4.fromTranslation(v.m4(),this._translation),s=_.vec3.transformMat4(v.v3(),this._reference.eye,l);this._camera.eye=s}},o.DEFAULT_SENSITIVITY=.2,o}(i(11).CameraModifier);a.WheelZoomModifier=h},function(n,a,i){var d,m=this&&this.__extends||(d=function(v,h){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])})(v,h)},function(v,h){function c(){this.constructor=v}d(v,h),v.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)});Object.defineProperty(a,"__esModule",{value:!0});var _=function(v){function h(c){return v.call(this,c)||this}return m(h,v),h.prototype.generate=function(){switch(this._width){case 8:this.fromJSON(i(105));break;case 64:this.fromJSON(i(106));break;case 128:this.fromJSON(i(107));break;default:v.prototype.generate.call(this)}},h}(i(60).RandomSquareKernel);a.AntiAliasingKernel=_},function(n,a,i){var d,m=this&&this.__extends||(d=function(h,c){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var s in l)l.hasOwnProperty(s)&&(o[s]=l[s])})(h,c)},function(h,c){function o(){this.constructor=h}d(h,c),h.prototype=c===null?Object.create(c):(o.prototype=c.prototype,new o)});Object.defineProperty(a,"__esModule",{value:!0});var _=i(0),v=function(h){function c(o){var l=h.call(this,2,o)||this;return l.generate(),l}return m(c,h),c.prototype.generate=function(){_.assert(this.width>0,"expected every kernel to comprise at least one element"),this.set([0,0],0);for(var o=1;o<this.width;++o)this.set([_.rand(-.5,.5),_.rand(-.5,.5)],o)},Object.defineProperty(c.prototype,"width",{get:function(){return this._width},set:function(o){this._width!==o&&(this._width=o,this.resize(),this.generate())},enumerable:!0,configurable:!0}),c}(i(37).KernelF32);a.RandomSquareKernel=v},function(n,a,i){var d,m=this&&this.__extends||(d=function(b,E){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var S in w)w.hasOwnProperty(S)&&(x[S]=w[S])})(b,E)},function(b,E){function x(){this.constructor=b}d(b,E),b.prototype=E===null?Object.create(E):(x.prototype=E.prototype,new x)}),_=this&&this.__decorate||function(b,E,x,w){var S,O=arguments.length,A=O<3?E:w===null?w=Object.getOwnPropertyDescriptor(E,x):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(b,E,x,w);else for(var L=b.length-1;L>=0;L--)(S=b[L])&&(A=(O<3?S(A):O>3?S(E,x,A):S(E,x))||A);return O>3&&A&&Object.defineProperty(E,x,A),A};Object.defineProperty(a,"__esModule",{value:!0});var v=i(0),h=i(15),c=i(17),o=i(2),l=i(12),s=i(6),u=i(7),f=i(4),g=i(14),y=function(b){function E(x){var w=b.call(this)||this;return w._altered=Object.assign(new h.ChangeLookup,{any:!1,texture:!1,precision:!1,passThrough:!1}),w._precision=g.Wizard.Precision.half,w._write=0,w._ndcTriangleShared=!1,w._context=x,w}return m(E,b),E.prototype.initialize=function(x){var w=this._context.gl;this._accumulationFBOs=[new c.Framebuffer(this._context,"AccumPingFBO"),new c.Framebuffer(this._context,"AccumPongFBO")],this._accumulationTextures=[new f.Texture2D(this._context,"AccumPingTexture"),new f.Texture2D(this._context,"AccumPongTexture")],x===void 0?this._ndcTriangle=new l.NdcFillingTriangle(this._context,"NdcFillingTriangle-Accumulate"):(this._ndcTriangle=x,this._ndcTriangleShared=!0);var S=new u.Shader(this._context,w.VERTEX_SHADER,"ndcvertices.vert (accumulate)");S.initialize(i(62));var O=new u.Shader(this._context,w.FRAGMENT_SHADER,"accumulate.frag");return O.initialize(i(108)),this._program=new s.Program(this._context,"AccumulateProgram"),this._program.initialize([S,O],!1),this._ndcTriangle.initialized||this._ndcTriangle.initialize(),this._program.attribute("a_vertex",this._ndcTriangle.vertexLocation),this._program.link(),this._uWeight=this._program.uniform("u_weight"),this._program.bind(),w.uniform1f(this._uWeight,0),w.uniform1i(this._program.uniform("u_accumulationTexture"),0),w.uniform1i(this._program.uniform("u_currentFrameTexture"),1),this._program.unbind(),!0},E.prototype.uninitialize=function(){!this._ndcTriangleShared&&this._ndcTriangle.initialized&&this._ndcTriangle.uninitialize(),this._program.uninitialize(),this._accumulationFBOs[0].uninitialize(),this._accumulationFBOs[1].uninitialize(),this._accumulationTextures[0].uninitialize(),this._accumulationTextures[1].uninitialize(),this._write=0},E.prototype.update=function(){if(this._texture&&this._texture.valid){if(!this._passThrough){var x=this._altered.texture||this._accumulationTextures[0].width!==this._texture.width||this._accumulationTextures[0].height!==this._texture.height;if(this._altered.any||x){var w=this._context.gl,S=this._context.gl2facade,O=this._texture.size;if(this._accumulationTextures[0].initialized)(this._altered.texture||x)&&(this._accumulationTextures[0].resize(this._texture.width,this._texture.height),this._accumulationTextures[1].resize(this._texture.width,this._texture.height)),this._altered.precision&&(A=g.Wizard.queryInternalTextureFormat(this._context,w.RGBA,this._precision),this._accumulationTextures[0].reformat(A[0],w.RGBA,A[1]),this._accumulationTextures[1].reformat(A[0],w.RGBA,A[1]));else{var A=g.Wizard.queryInternalTextureFormat(this._context,w.RGBA,this._precision);this._accumulationTextures[0].initialize(O[0],O[1],A[0],w.RGBA,A[1]),this._accumulationTextures[1].initialize(O[0],O[1],A[0],w.RGBA,A[1])}this._accumulationFBOs[0].initialized||(this._accumulationFBOs[0].initialize([[S.COLOR_ATTACHMENT0,this._accumulationTextures[0]]]),this._accumulationFBOs[1].initialize([[S.COLOR_ATTACHMENT0,this._accumulationTextures[1]]])),v.assert(this._accumulationFBOs[0].valid&&this._accumulationFBOs[1].valid,"valid accumulation framebuffers expected"),this._altered.reset()}else v.assert(this._accumulationFBOs[0].valid&&this._accumulationFBOs[1].valid,"valid accumulation framebuffers expected")}}else v.log(v.LogLevel.Warning,"valid texture for accumulation update expected, given "+this._texture)},E.prototype.frame=function(x,w){if(v.assert(this._accumulationFBOs[0].valid&&this._accumulationFBOs[1].valid,"valid framebuffer objects for accumulation expected (initialize or update was probably not called)"),!this._passThrough&&this._texture!==void 0){v.logIf(!this._texture||!this._texture.valid,v.LogLevel.Warning,"valid texture for accumulation frame expected, given "+this._texture);var S=this._context.gl;w!==void 0&&S.viewport(0,0,w[0],w[1]);var O=x%2,A=this._write=1-O,L=this._accumulationTextures[O],k=this._texture;L.bind(S.TEXTURE0),k.bind(S.TEXTURE1),this._program.bind(),S.uniform1f(this._uWeight,1/(x+1)),this._accumulationFBOs[A].bind(S.DRAW_FRAMEBUFFER),this._ndcTriangle.bind(),this._ndcTriangle.draw(),this._ndcTriangle.unbind(),this._accumulationFBOs[A].unbind(S.DRAW_FRAMEBUFFER),L.unbind(S.TEXTURE0),k.unbind(S.TEXTURE1)}},Object.defineProperty(E.prototype,"texture",{set:function(x){this.assertInitialized(),this._texture!==x&&(this._texture=x,this._altered.alter("texture"))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"precision",{set:function(x){this.assertInitialized(),this._precision!==x&&(this._precision=x,this._altered.alter("precision"))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"passThrough",{set:function(x){this.assertInitialized(),this._passThrough!==x&&(this._passThrough&&this._accumulationTextures[0].initialized&&(this._accumulationTextures[0].uninitialize(),this._accumulationTextures[1].uninitialize()),this._passThrough&&this._accumulationFBOs[0].initialized&&(this._accumulationFBOs[0].uninitialize(),this._accumulationFBOs[1].uninitialize()),this._passThrough=x,this._altered.alter("passThrough"))},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"framebuffer",{get:function(){return this._passThrough?void 0:this._accumulationFBOs[this._write]},enumerable:!0,configurable:!0}),_([o.Initializable.initialize()],E.prototype,"initialize",null),_([o.Initializable.uninitialize()],E.prototype,"uninitialize",null),_([o.Initializable.assert_initialized()],E.prototype,"update",null),_([o.Initializable.assert_initialized()],E.prototype,"frame",null),E}(o.Initializable);a.AccumulatePass=y},function(n,a){n.exports=`\r
precision lowp float;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else\r
    #define varying out\r
#endif\r
\r
\r
\r
#if __VERSION__ == 100\r
    attribute vec2 a_vertex;\r
#else\r
    layout(location = 0) in vec2 a_vertex;\r
#endif\r
\r
\r
varying vec2 v_uv;\r
\r
\r
void main(void)\r
{\r
    v_uv = a_vertex * 0.5 + 0.5;\r
\r
    gl_Position = vec4(a_vertex, 0.0, 1.0);\r
}\r
`},function(n,a){n.exports=`\r
precision lowp float;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else\r
    #define varying out\r
#endif\r
\r
\r
\r
#if __VERSION__ == 100\r
    attribute vec2 a_vertex;\r
#else\r
    layout(location = 0) in vec2 a_vertex;\r
#endif\r
\r
uniform vec4 u_srcBounds; // normalized\r
uniform vec4 u_dstBounds; // normalized\r
\r
varying vec2 v_uv;\r
\r
\r
void main(void)\r
{\r
    vec2 uv = a_vertex * 0.5 + 0.5;\r
\r
    v_uv = mix(u_srcBounds.xy, u_srcBounds.zw, uv);\r
    gl_Position = vec4(a_vertex.xy, 0.0, 1.0);\r
}\r
`},function(n,a,i){var d,m=this&&this.__extends||(d=function(g,y){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,E){b.__proto__=E}||function(b,E){for(var x in E)E.hasOwnProperty(x)&&(b[x]=E[x])})(g,y)},function(g,y){function b(){this.constructor=g}d(g,y),g.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}),_=this&&this.__decorate||function(g,y,b,E){var x,w=arguments.length,S=w<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,b):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(g,y,b,E);else for(var O=g.length-1;O>=0;O--)(x=g[O])&&(S=(w<3?x(S):w>3?x(y,b,S):x(y,b))||S);return w>3&&S&&Object.defineProperty(y,b,S),S};Object.defineProperty(a,"__esModule",{value:!0});var v=i(1),h=i(0),c=i(3),o=i(2),l=i(12),s=i(6),u=i(7),f=function(g){function y(b){var E=g.call(this)||this;return E._kernelSize=7,E._standardDeviation=1,E._redistribute=!0,E._ndcTriangleShared=!1,E._context=b,E}return m(y,g),y.prototype.recalculateWeights=function(){if(this._weights)return!1;var b=1/Math.sqrt(2*Math.PI)*this._standardDeviation,E=2*this._standardDeviation*this._standardDeviation;this._weights=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(var x=0,w=0;w<=Math.floor(this._kernelSize/2);w++)this._weights[w]=b*Math.pow(Math.E,-Math.pow(w,2)/E),x+=w>0?2*this._weights[w]:this._weights[w];if(this._redistribute){var S=1-x;for(w=0;w<=Math.floor(this._kernelSize/2);w++)this._weights[w]+=this._weights[w]/x*S}return!0},Object.defineProperty(y.prototype,"kernelSize",{get:function(){return this._kernelSize},set:function(b){h.assert(b>0,"Kernel size has to be positive."),h.assert(b<=2*(y._MAXKERNELSIZEHALF-1)+1,"Kernel size has to be smaller than "+(2*(y._MAXKERNELSIZEHALF-1)+2)+"."),h.assert(Number.isInteger(b),"Kernel size has to be an integer."),h.assert(b%2==1,"Kernel size has to be odd."),this._kernelSize=b,this._weights=void 0},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"standardDeviation",{get:function(){return this._standardDeviation},set:function(b){h.assert(b>0,"Standard deviation has to be positive."),this._standardDeviation=b,this._weights=void 0},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"redistribute",{get:function(){return this._redistribute},set:function(b){this._redistribute=b,this._weights=void 0},enumerable:!0,configurable:!0}),y.prototype.initialize=function(b){var E=this._context.gl,x=new u.Shader(this._context,E.VERTEX_SHADER,"gauss.vert");x.initialize(i(116)),this._fragmentShader=new u.Shader(this._context,E.FRAGMENT_SHADER,"gauss.frag"),this._fragmentShader.replace("$KERNEL_HALF_SIZE",""+Math.floor(this.kernelSize/2)),this._fragmentShader.initialize(i(117)),this._program=new s.Program(this._context),this._program.initialize([x,this._fragmentShader]),this._uDelta=this._program.uniform("u_delta"),this._uWeights=this._program.uniform("u_weights");var w=this._program.attribute("a_vertex",0);return b===void 0?this._ndcTriangle=new l.NdcFillingTriangle(this._context,"GaussFilterQuad"):(this._ndcTriangle=b,this._ndcTriangleShared=!0),this._ndcTriangle.initialize(w),!0},y.prototype.uninitialize=function(){this._program.uninitialize(),this._ndcTriangleShared||this._ndcTriangle.uninitialize()},y.prototype.filter=function(b,E){var x=this._context.gl,w=[v.vec2.fromValues(1,0),v.vec2.fromValues(0,1)];this.recalculateWeights()&&(this._fragmentShader.replace("$KERNEL_HALF_SIZE",""+Math.floor(this.kernelSize/2)),this._fragmentShader.compile(),this._program.link(),this._uDelta=this._program.uniform("u_delta"),this._uWeights=this._program.uniform("u_weights"),this._program.bind(),x.uniform1fv(this._uWeights,this._weights)),this._program.bind(),b.bind(x.TEXTURE0),x.uniform2fv(this._uDelta,v.vec2.divide(c.v2(),w[E],b.size)),this._ndcTriangle.bind(),this._ndcTriangle.draw(),this._ndcTriangle.unbind(),b.unbind(x.TEXTURE0),this._program.unbind()},y._MAXKERNELSIZEHALF=32,_([o.Initializable.initialize()],y.prototype,"initialize",null),_([o.Initializable.uninitialize()],y.prototype,"uninitialize",null),_([o.Initializable.assert_initialized()],y.prototype,"filter",null),y}(o.Initializable);a.GaussFilter=f,function(g){(function(y){y[y.Horizontal=0]="Horizontal",y[y.Vertical=1]="Vertical"})(g.Direction||(g.Direction={}))}(f=a.GaussFilter||(a.GaussFilter={})),a.GaussFilter=f},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(119);a.CuboidGeometry=d.CuboidGeometry;var m=i(66);a.Icosahedron=m.Icosahedron;var _=i(120);a.GeosphereGeometry=_.GeosphereGeometry;var v=i(121);a.PlaneGeometry=v.PlaneGeometry;var h=i(122);a.ResourceManager=h.ResourceManager},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(1),m=i(3),_=function(){function v(){}return v.prototype.baseVertices=function(){var h=.5*(1+Math.sqrt(5)),c=1/Math.sqrt(h*h+1),o=h*c;return[d.vec3.fromValues(-c,+o,0),d.vec3.fromValues(+c,+o,0),d.vec3.fromValues(-c,-o,0),d.vec3.fromValues(+c,-o,0),d.vec3.fromValues(0,-c,+o),d.vec3.fromValues(0,+c,+o),d.vec3.fromValues(0,-c,-o),d.vec3.fromValues(0,+c,-o),d.vec3.fromValues(+o,0,-c),d.vec3.fromValues(+o,0,+c),d.vec3.fromValues(-o,0,-c),d.vec3.fromValues(-o,0,+c)]},v.prototype.baseFaces=function(){return[[0,11,5],[0,5,1],[0,1,7],[0,7,10],[0,10,11],[1,5,9],[5,11,4],[11,10,2],[10,7,6],[7,1,8],[3,9,4],[3,4,2],[3,2,6],[3,6,8],[3,8,9],[4,9,5],[2,4,11],[6,2,10],[8,6,7],[9,8,1]]},v.prototype.refine=function(h,c,o){for(var l=new Map,s=0;s<o;s++)for(var u=c.length,f=0;f<u;f++){var g=c[f],y=g[0],b=g[1],E=g[2],x=this.split(y,b,h,l),w=this.split(b,E,h,l),S=this.split(E,y,h,l);c[f]=[x,w,S],c.push([y,x,S]),c.push([b,w,x]),c.push([E,S,w])}},v.prototype.split=function(h,c,o,l){var s=h<c,u=((s?h:c)<<16)+(s?c:h);if(l.has(u))return l.get(u);var f=d.vec3.add(m.v3(),o[h],o[c]);d.vec3.normalize(f,f),o.push(f);var g=o.length-1;return l.set(u,g),g},v.prototype.generateGeometry=function(h){this._vertices=this.baseVertices(),this._faces=this.baseFaces(),h>0&&this.refine(this._vertices,this._faces,Math.min(Math.max(h,0),8))},v.prototype.generateTextureCoordinates=function(){this._texcoords=new Array;for(var h=0,c=this._vertices;h<c.length;h++){var o=c[h],l=d.vec3.normalize(m.v3(),o),s=d.vec2.fromValues(.5-Math.atan2(l[2],l[0])/(2*Math.PI),Math.asin(l[1])/Math.PI+.5);this._texcoords.push(s)}},Object.defineProperty(v.prototype,"faces",{get:function(){return this._faces},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"vertices",{get:function(){return this._vertices},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"texcoords",{get:function(){return this._texcoords},enumerable:!0,configurable:!0}),v}();a.Icosahedron=_},function(n,a,i){var d,m=this&&this.__extends||(d=function(v,h){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])})(v,h)},function(v,h){function c(){this.constructor=v}d(v,h),v.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)});Object.defineProperty(a,"__esModule",{value:!0});var _=function(v){function h(){return v!==null&&v.apply(this,arguments)||this}return m(h,v),Object.defineProperty(h.prototype,"scene",{get:function(){return this._scene},set:function(c){this._scene=c,this._scene!==void 0&&this.preprocessScene()},enumerable:!0,configurable:!0}),h}(i(2).Initializable);a.SceneRenderPass=_},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=function(){function m(_){this._nodes=new Array,this._components=new Array,this._name=_,this._parent=void 0}return m.prototype.traverse=function(_){_(this);for(var v=0,h=this._nodes;v<h.length;v++)h[v].traverse(_)},m.prototype.addNode=function(_){return _._parent=this,this._nodes.push(_),_},m.prototype.addComponent=function(_){return this._components.push(_),_},m.prototype.componentsOfType=function(_){return this._components.filter(function(v){return _===v.type})},Object.defineProperty(m.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"nodes",{get:function(){return this._nodes},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"components",{get:function(){return this._components},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isLeaf",{get:function(){return this._nodes.length===0},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isRoot",{get:function(){return this._parent===void 0},enumerable:!0,configurable:!0}),m}();a.SceneNode=d},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(13),m=function(){function _(v,h){v===void 0&&(v=0),h===void 0&&(h=0),this._bearing=[0,0],this._extent=[0,0],this._kernings=new Map,this._subTextureOrigin=[0,0],this._subTextureExtent=[0,0],this._index=v,this._advance=h}return _.prototype.depictable=function(){return this._subTextureExtent[0]>0&&this._subTextureExtent[1]>0},_.prototype.kerning=function(v){var h=this._kernings.get(v);return h!==void 0?h:0},_.prototype.setKerning=function(v,h){this._kernings.set(v,h)},Object.defineProperty(_.prototype,"index",{get:function(){return this._index},set:function(v){this._index=v},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"subTextureOrigin",{get:function(){return this._subTextureOrigin},set:function(v){this._subTextureOrigin=d.clampf2(v,"texture origin")},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"subTextureExtent",{get:function(){return this._subTextureExtent},set:function(v){this._subTextureExtent=d.clampf2(v,"texture extent")},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"bearing",{get:function(){return this._bearing},set:function(v){this._bearing=v},enumerable:!0,configurable:!0}),_.prototype.bearingFromFontBaseAndOffset=function(v,h,c){this._bearing[0]=h,this._bearing[1]=v-c},Object.defineProperty(_.prototype,"extent",{get:function(){return this._extent},set:function(v){this._extent=v},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"advance",{get:function(){return this._advance},set:function(v){this._advance=v},enumerable:!0,configurable:!0}),_}();a.Glyph=m},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=function(){function m(_,v){this._lineFeed=m.DEFAULT_LINE_FEED,this._altered=!1,this._text=_||"",this._lineFeed=v!==void 0?v:this._lineFeed}return Object.defineProperty(m.prototype,"length",{get:function(){return this._text.length},enumerable:!0,configurable:!0}),m.prototype.charAt=function(_){return this._text.charAt(_)},m.prototype.charCodeAt=function(_){return this._text.charCodeAt(_)},Object.defineProperty(m.prototype,"text",{get:function(){return this._text},set:function(_){this._text!==_&&(this._altered=!0,this._text=_)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"lineFeed",{get:function(){return this._lineFeed},set:function(_){this._lineFeed!==_&&(this._altered=!0,this._lineFeed=_)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"altered",{get:function(){return this._altered},set:function(_){this._altered=_},enumerable:!0,configurable:!0}),m.DEFAULT_LINE_FEED=`
`,m}();a.Text=d},function(n,a,i){var d,m=this&&this.__extends||(d=function(s,u){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var y in g)g.hasOwnProperty(y)&&(f[y]=g[y])})(s,u)},function(s,u){function f(){this.constructor=s}d(s,u),s.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}),_=this&&this.__decorate||function(s,u,f,g){var y,b=arguments.length,E=b<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,f):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(s,u,f,g);else for(var x=s.length-1;x>=0;x--)(y=s[x])&&(E=(b<3?y(E):b>3?y(u,f,E):y(u,f))||E);return b>3&&E&&Object.defineProperty(u,f,E),E};Object.defineProperty(a,"__esModule",{value:!0});var v=i(0),h=i(5),c=i(9),o=i(2),l=function(s){function u(f,g){var y=s.call(this,f,g)||this;return y._numberOfGlyphs=0,v.assert(f.isWebGL2||f.supportsInstancedArrays,"expected extension 'ANGLE_instanced_arrays' to be supported"),g=g!==void 0&&g!==""?g:y.constructor.name,y._vertices=new h.Buffer(f,g+"VBO"),y._buffers.push(y._vertices),y._texCoords=new h.Buffer(f,g+"TexCoordVBO"),y._buffers.push(y._texCoords),y._origins=new h.Buffer(f,g+"OriginVBO"),y._buffers.push(y._origins),y._tangents=new h.Buffer(f,g+"TangentVBO"),y._buffers.push(y._tangents),y._ups=new h.Buffer(f,g+"UpVBO"),y._buffers.push(y._ups),y}return m(u,s),u.prototype.bindBuffers=function(){var f=this.context.gl,g=this.context.gl2facade;this._vertices.attribEnable(this._vertexLocation,2,f.FLOAT,!1,8,0,!0,!1),g.vertexAttribDivisor(this._vertexLocation,0),this._texCoords.attribEnable(this._texCoordLocation,4,f.FLOAT,!1,16,0,!0,!1),g.vertexAttribDivisor(this._texCoordLocation,1),this._origins.attribEnable(this._originLocation,3,f.FLOAT,!1,12,0,!0,!1),g.vertexAttribDivisor(this._originLocation,1),this._tangents.attribEnable(this._tangentLocation,3,f.FLOAT,!1,12,0,!0,!1),g.vertexAttribDivisor(this._tangentLocation,1),this._ups.attribEnable(this._upLocation,3,f.FLOAT,!1,12,0,!0,!1),g.vertexAttribDivisor(this._upLocation,1)},u.prototype.unbindBuffers=function(){this._vertices.attribDisable(this._vertexLocation,!1,!1),this._texCoords.attribDisable(this._texCoordLocation,!1,!1),this._origins.attribDisable(this._originLocation,!1,!1),this._tangents.attribDisable(this._tangentLocation,!1,!1),this._ups.attribDisable(this._upLocation,!1,!1)},u.prototype.initialize=function(f,g,y,b,E){f===void 0&&(f=0),g===void 0&&(g=1),y===void 0&&(y=2),b===void 0&&(b=3),E===void 0&&(E=4),this._vertexLocation=f,this._texCoordLocation=g,this._originLocation=y,this._tangentLocation=b,this._upLocation=E;var x=this.context.gl,w=s.prototype.initialize.call(this,[x.ARRAY_BUFFER,x.ARRAY_BUFFER,x.ARRAY_BUFFER,x.ARRAY_BUFFER,x.ARRAY_BUFFER]);return this._vertices.data(u.VERTICES,x.STATIC_DRAW),w},u.prototype.update=function(f,g,y,b){this._numberOfGlyphs=f.length/3;var E=this.context.gl;this._texCoords.data(b,E.STATIC_DRAW),this._origins.data(f,E.STATIC_DRAW),this._tangents.data(g,E.STATIC_DRAW),this._ups.data(y,E.STATIC_DRAW)},u.prototype.draw=function(f,g){f===void 0&&(f=0),g===void 0&&(g=0);var y=this.context.gl,b=this.context.gl2facade;this._vertices.attribEnable(this._vertexLocation,2,y.FLOAT,!1,8,0,!0,!1),this._texCoords.attribEnable(this._texCoordLocation,4,y.FLOAT,!1,16,16*f,!0,!1),this._origins.attribEnable(this._originLocation,3,y.FLOAT,!1,12,12*f,!0,!1),this._tangents.attribEnable(this._tangentLocation,3,y.FLOAT,!1,12,12*f,!0,!1),this._ups.attribEnable(this._upLocation,3,y.FLOAT,!1,12,12*f,!0,!1),b.drawArraysInstanced(y.TRIANGLE_STRIP,0,4,g)},Object.defineProperty(u.prototype,"numGlyphs",{get:function(){return this._numberOfGlyphs},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"valid",{get:function(){var f=this._vertices&&this._vertices.valid,g=this._texCoords&&this._texCoords.valid,y=this._origins&&this._origins.valid,b=this._tangents&&this._tangents.valid,E=this._ups&&this._ups.valid;return this.initialized&&f&&g&&y&&b&&E},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"vertexLocation",{get:function(){return this._vertexLocation},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"texCoordLocation",{get:function(){return this._texCoordLocation},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"originLocation",{get:function(){return this._originLocation},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"tangentLocation",{get:function(){return this._tangentLocation},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"upLocation",{get:function(){return this._upLocation},enumerable:!0,configurable:!0}),u.VERTICES=new Float32Array([0,0,0,1,1,0,1,1]),_([o.Initializable.assert_initialized()],u.prototype,"draw",null),u}(c.Geometry);a.LabelGeometry=l},function(n,a,i){var d,m=this&&this.__extends||(d=function(u,f){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var b in y)y.hasOwnProperty(b)&&(g[b]=y[b])})(u,f)},function(u,f){function g(){this.constructor=u}d(u,f),u.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)});Object.defineProperty(a,"__esModule",{value:!0});var _=i(1),v=i(0),h=i(3),c=i(18),o=i(19),l=i(26),s=function(u){function f(g,y,b){var E=u.call(this,g,y,b)||this;return E._position=_.vec2.fromValues(0,0),E._direction=_.vec2.fromValues(1,0),E._frameSize=_.vec2.create(),E._fontSize=f.DEFAULT_FONTSIZE_PX,E._fontSizeUnit=o.Label.Unit.Pixel,E}return m(f,u),f.prototype.typeset=function(g){g===void 0&&(g=!1);var y=g||this._altered.typesetting||this._altered.static||this._altered.text||this.text.altered;if(y||this._altered.dynamic||g){if(!this.valid)return new c.GlyphVertices(0);var b=_.vec4.create(),E=_.mat4.create();_.mat4.translate(E,h.m4(),_.vec3.fromValues(-1,-1,0)),_.mat4.scale(E,E,_.vec3.fromValues(2/this._frameSize[0],2/this._frameSize[1],1));var x=_.vec2.sub(h.v2(),_.vec2.fromValues(this._frameSize[0],this._frameSize[1]),_.vec2.fromValues(b[3]+b[1],b[2]+b[0])),w=_.vec3.fromValues(.5*x[0],.5*x[1],0);_.vec3.add(w,w,_.vec3.fromValues(b[3],b[2],0)),_.mat4.translate(E,E,w),_.mat4.translate(E,E,_.vec3.fromValues(this._position[0],this._position[1],0));var S=_.vec2.fromValues(1,0),O=_.vec2.angle(S,this._direction);switch(S[0]*this._direction[1]-S[1]*this._direction[0]<0&&(O=-O),_.mat4.rotateZ(E,E,O),this._type){case o.Label.Type.Static:this.staticTransform=_.mat4.clone(E),this.dynamicTransform=h.m4();break;case o.Label.Type.Dynamic:this.staticTransform=h.m4(),this.dynamicTransform=_.mat4.clone(E)}if(this._altered.reset(),this._text.altered=!1,this._color.altered=!1,y){var A=this.vertices();return l.Typesetter.typeset(this,A),A}}},Object.defineProperty(f.prototype,"frameSize",{get:function(){return this._frameSize},set:function(g){_.vec2.equals(this._frameSize,g)||(_.vec2.max(this._frameSize,g,[1,1]),this._altered.alter(this._type))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"position",{get:function(){return this._position},set:function(g){_.vec2.equals(this._position,g)||(this._position=_.vec2.clone(g),this._altered.alter(this._type))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"direction",{get:function(){return this._direction},set:function(g){_.vec2.normalize(this._direction,g),this._altered.alter(this._type)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"fontSizeUnit",{get:function(){return this._fontSizeUnit},set:function(g){v.logIf(g!==o.Label.Unit.Pixel,v.LogLevel.Warning,"font size unit other than 'px' are not supported in position-2d-label, given "+g)},enumerable:!0,configurable:!0}),f.DEFAULT_FONTSIZE_PX=20,f}(o.Label);a.Position2DLabel=s},function(n,a,i){var d,m=this&&this.__extends||(d=function(u,f){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var b in y)y.hasOwnProperty(b)&&(g[b]=y[b])})(u,f)},function(u,f){function g(){this.constructor=u}d(u,f),u.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)});Object.defineProperty(a,"__esModule",{value:!0});var _=i(1),v=i(0),h=i(3),c=i(18),o=i(19),l=i(26),s=function(u){function f(g,y,b){var E=u.call(this,g,y,b)||this;return E._position=_.vec3.fromValues(0,0,0),E._direction=_.vec3.fromValues(1,0,0),E._up=_.vec3.fromValues(0,1,0),E._fontSize=f.DEFAULT_FONTSIZE_WORLD,E._fontSizeUnit=o.Label.Unit.World,E}return m(f,u),f.prototype.typeset=function(g){g===void 0&&(g=!1);var y=g||this._altered.typesetting||this._altered.static||this._altered.text||this.text.altered;if(y||this._altered.dynamic||g){if(!this.valid)return new c.GlyphVertices(0);var b=_.mat4.create();_.mat4.translate(b,h.m4(),this._position);var E=_.vec3.cross(h.v3(),this._direction,this._up),x=_.mat4.fromValues(this._direction[0],this._direction[1],this._direction[2],0,this._up[0],this._up[1],this._up[2],0,E[0],E[1],E[2],0,0,0,0,1);switch(_.mat4.mul(b,b,x),this._type){case o.Label.Type.Static:this.staticTransform=_.mat4.clone(b),this.dynamicTransform=h.m4();break;case o.Label.Type.Dynamic:this.staticTransform=h.m4(),this.dynamicTransform=_.mat4.clone(b)}if(this._altered.reset(),this._text.altered=!1,this._color.altered=!1,y){var w=this.vertices();return l.Typesetter.typeset(this,w),w}}},Object.defineProperty(f.prototype,"position",{get:function(){return this._position},set:function(g){this._position=_.vec3.clone(g),this._altered.alter(this._type)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"direction",{get:function(){return this._direction},set:function(g){_.vec3.normalize(this._direction,g),this._altered.alter(this._type)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"up",{get:function(){return this._up},set:function(g){this._up=_.vec3.normalize(this._up,g),this._altered.alter(this._type)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"fontSizeUnit",{get:function(){return this._fontSizeUnit},set:function(g){v.logIf(g!==o.Label.Unit.World,v.LogLevel.Warning,"font size unit other than 'world' are not supported in position-3d-label, given "+g)},enumerable:!0,configurable:!0}),f.DEFAULT_FONTSIZE_WORLD=.05,f}(o.Label);a.Position3DLabel=s},function(n,a,i){var d,m=this&&this.__extends||(d=function(u,f){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var b in y)y.hasOwnProperty(b)&&(g[b]=y[b])})(u,f)},function(u,f){function g(){this.constructor=u}d(u,f),u.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)});Object.defineProperty(a,"__esModule",{value:!0});var _=i(1),v=i(0),h=i(3),c=i(18),o=i(19),l=i(26),s=function(u){function f(g,y,b){var E=u.call(this,g,y,b)||this;return E._position=_.vec3.fromValues(0,0,0),E._direction=_.vec2.fromValues(1,0),E._fontSize=f.DEFAULT_FONTSIZE_PX,E._fontSizeUnit=o.Label.Unit.Mixed,E}return m(f,u),f.prototype.typeset=function(g){g===void 0&&(g=!1);var y=g||this._altered.typesetting||this._altered.static||this._altered.text||this.text.altered;if(y||this._altered.dynamic||g){if(!this.valid||this._camera===void 0)return new c.GlyphVertices(0);var b=_.vec4.create(),E=_.mat4.create();_.mat4.translate(E,E,_.vec3.fromValues(-1,-1,0)),_.mat4.scale(E,E,_.vec3.fromValues(2/this._camera.viewport[0],2/this._camera.viewport[1],1)),_.mat4.scale(E,E,_.vec3.fromValues(1,1,1));var x=_.vec2.create();_.vec2.sub(x,_.vec2.fromValues(this._camera.viewport[0]/1,this._camera.viewport[1]/1),_.vec2.fromValues(b[3]+b[1],b[2]+b[0]));var w=_.vec3.fromValues(.5*x[0],.5*x[1],0);_.vec3.add(w,w,_.vec3.fromValues(b[3],b[2],0)),_.mat4.translate(E,E,w);var S=_.vec4.fromValues(this._position[0],this._position[1],this._position[2],1);_.vec4.transformMat4(S,S,this._camera.viewProjection);var O=_.mat4.create(),A=S[3];_.mat4.translate(O,O,_.vec3.fromValues(S[0]/A,S[1]/A,S[2]/A)),_.mat4.mul(E,O,E);var L=_.vec2.fromValues(1,0),k=_.vec2.angle(L,this._direction);switch(L[0]*this._direction[1]-L[1]*this._direction[0]<0&&(k=-k),_.mat4.rotateZ(E,E,k),this._camera.viewProjectionInverse?_.mat4.mul(E,this._camera.viewProjectionInverse,E):v.log(v.LogLevel.Warning,"camera.viewProjectionInverse is null"),this._type){case o.Label.Type.Static:this.staticTransform=_.mat4.clone(E),this.dynamicTransform=h.m4();break;case o.Label.Type.Dynamic:this.staticTransform=h.m4(),this.dynamicTransform=_.mat4.clone(E)}if(this._altered.reset(),this._text.altered=!1,this._color.altered=!1,y){var D=this.vertices();return l.Typesetter.typeset(this,D),D}}},Object.defineProperty(f.prototype,"camera",{get:function(){return this._camera},set:function(g){this._camera=g,this._altered.alter(this._type)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"position",{get:function(){return this._position},set:function(g){this._position=_.vec3.clone(g),this._altered.alter(this._type)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"direction",{get:function(){return this._direction},set:function(g){_.vec2.normalize(this._direction,g),this._altered.alter(this._type)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"fontSizeUnit",{get:function(){return this._fontSizeUnit},set:function(g){v.logIf(g!==o.Label.Unit.Mixed,v.LogLevel.Warning,"font size unit other than 'px' are not supported in projected-3d-label, given "+g)},enumerable:!0,configurable:!0}),f.DEFAULT_FONTSIZE_PX=20,f}(o.Label);a.Projected3DLabel=s},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=function(){function m(){this._primitives=new Array}return Object.defineProperty(m.prototype,"primitives",{get:function(){return this._primitives},enumerable:!0,configurable:!0}),m.prototype.addPrimitive=function(_){this._primitives.push(_)},m}();a.GLTFMesh=d},function(n,a,i){var d,m=this&&this.__extends||(d=function(l,s){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var g in f)f.hasOwnProperty(g)&&(u[g]=f[g])})(l,s)},function(l,s){function u(){this.constructor=l}d(l,s),l.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(a,"__esModule",{value:!0});var _,v,h=i(1),c=i(25);(function(l){l[l.HAS_NORMALS=1]="HAS_NORMALS",l[l.HAS_TANGENTS=2]="HAS_TANGENTS",l[l.HAS_UV=4]="HAS_UV",l[l.HAS_COLORS=8]="HAS_COLORS",l[l.USE_IBL=16]="USE_IBL",l[l.HAS_BASECOLORMAP=32]="HAS_BASECOLORMAP",l[l.HAS_NORMALMAP=64]="HAS_NORMALMAP",l[l.HAS_EMISSIVEMAP=128]="HAS_EMISSIVEMAP",l[l.HAS_METALROUGHNESSMAP=256]="HAS_METALROUGHNESSMAP",l[l.HAS_OCCLUSIONMAP=512]="HAS_OCCLUSIONMAP",l[l.USE_TEX_LOD=1024]="USE_TEX_LOD"})(_=a.GLTFShaderFlags||(a.GLTFShaderFlags={})),function(l){l[l.OPAQUE=0]="OPAQUE",l[l.MASK=1]="MASK",l[l.BLEND=2]="BLEND"}(v=a.GLTFAlphaMode||(a.GLTFAlphaMode={}));var o=function(l){function s(u,f){var g=l.call(this,u,f)||this;return g.baseColorTexCoord=0,g.metallicRoughnessTexCoord=0,g.normalTexCoord=0,g.occlusionTexCoord=0,g.emissiveTexCoord=0,g._alphaMode=v.OPAQUE,g._alphaCutoff=1,g._baseColorFactor=h.vec4.fromValues(1,1,1,1),g._metallicFactor=1,g._roughnessFactor=1,g._emissiveFactor=h.vec3.fromValues(0,0,0),g._isDoubleSided=!1,g._normalScale=1,g}return m(s,l),Object.defineProperty(s.prototype,"baseColorTexture",{get:function(){return this._baseColorTexture},set:function(u){this._baseColorTexture=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"metallicRoughnessTexture",{get:function(){return this._metallicRoughnessTexture},set:function(u){this._metallicRoughnessTexture=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"normalTexture",{get:function(){return this._normalTexture},set:function(u){this._normalTexture=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"occlusionTexture",{get:function(){return this._occlusionTexture},set:function(u){this._occlusionTexture=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"emissiveTexture",{get:function(){return this._emissiveTexture},set:function(u){this._emissiveTexture=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"emissiveFactor",{get:function(){return this._emissiveFactor},set:function(u){this._emissiveFactor=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"baseColorFactor",{get:function(){return this._baseColorFactor},set:function(u){this._baseColorFactor=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"metallicFactor",{get:function(){return this._metallicFactor},set:function(u){this._metallicFactor=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"roughnessFactor",{get:function(){return this._roughnessFactor},set:function(u){this._roughnessFactor=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"normalScale",{get:function(){return this._normalScale},set:function(u){this._normalScale=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isDoubleSided",{get:function(){return this._isDoubleSided},set:function(u){this._isDoubleSided=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"alphaMode",{get:function(){return this._alphaMode},set:function(u){this._alphaMode=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"alphaCutoff",{get:function(){return this._alphaCutoff},set:function(u){this._alphaCutoff=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"flags",{get:function(){var u=0;return this.baseColorTexture!==void 0&&(u|=_.HAS_BASECOLORMAP),this.metallicRoughnessTexture!==void 0&&(u|=_.HAS_METALROUGHNESSMAP),this.normalTexture!==void 0&&(u|=_.HAS_NORMALMAP),this.occlusionTexture!==void 0&&(u|=_.HAS_OCCLUSIONMAP),this.emissiveTexture!==void 0&&(u|=_.HAS_EMISSIVEMAP),u},enumerable:!0,configurable:!0}),s}(c.Material);a.GLTFPbrMaterial=o},function(n,a,i){var d,m=this&&this.__extends||(d=function(h,c){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var s in l)l.hasOwnProperty(s)&&(o[s]=l[s])})(h,c)},function(h,c){function o(){this.constructor=h}d(h,c),h.prototype=c===null?Object.create(c):(o.prototype=c.prototype,new o)});Object.defineProperty(a,"__esModule",{value:!0});var _=i(9);a.IndexBinding=function(){},a.VertexBinding=function(){};var v=function(h){function c(o,l,s,u,f,g,y){var b=h.call(this,o,y)||this;return b._bindings=l,b._indexBinding=s,b._material=f,b._geometryFlags=g,b._drawMode=u,b}return m(c,h),c.prototype.bindBuffers=function(){this._indexBinding&&this._indexBinding.buffer.bind();for(var o=0,l=this._bindings;o<l.length;o++){var s=l[o];s.buffer.attribEnable(s.attributeIndex,s.size,s.type,s.normalized,s.stride,s.offset,!0,!0)}},c.prototype.unbindBuffers=function(){this._indexBinding&&this._indexBinding.buffer.unbind();for(var o=0,l=this._bindings;o<l.length;o++){var s=l[o];s.buffer.attribDisable(s.attributeIndex,!0,!0)}},c.prototype.draw=function(){var o=this.context.gl;this._indexBinding?o.drawElements(this._drawMode,this._indexBinding.numIndices,this._indexBinding.type,this._indexBinding.offset):o.drawArrays(this._drawMode,0,this._bindings[0].numVertices)},Object.defineProperty(c.prototype,"material",{get:function(){return this._material},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"flags",{get:function(){return this._geometryFlags},enumerable:!0,configurable:!0}),c}(_.Geometry);a.GLTFPrimitive=v},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(33),m=function(){function _(v,h){var c=this;this._altered=!1,this._eventHandler=new d.EventHandler(v,h),this._eventHandler.pushMouseEnterHandler(function(o,l){return c.onMouseEnter(o,l)}),this._eventHandler.pushMouseLeaveHandler(function(o,l){return c.onMouseLeave(o,l)})}return _.prototype.onMouseEnter=function(v,h){this._altered=!1},_.prototype.onMouseLeave=function(v,h){this._altered=!0},_.prototype.update=function(){this._eventHandler.update()},_.prototype.reset=function(){this._altered=!1},Object.defineProperty(_.prototype,"altered",{get:function(){return this._altered},enumerable:!0,configurable:!0}),_}();a.TestNavigation=m},function(n,a,i){i(80),n.exports=i(81)},function(n,a,i){var d=this;String.prototype.repeat===void 0&&(String.prototype.repeat=function(m){if(this===null)throw new TypeError("can't convert "+this+" to object");var _=""+this;if((m=+m)!=m&&(m=0),m<0)throw new RangeError("repeat count must be non-negative");if(m===1/0)throw new RangeError("repeat count must be less than infinity");if(m=Math.floor(m),_.length===0||m===0)return"";if(_.length*m>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var v="",h=0;h<m;h++)v+=_;return v}),String.prototype.startsWith===void 0&&(String.prototype.startsWith=function(m,_){return _=_||0,this.indexOf(m,_)===_}),String.prototype.endsWith===void 0&&(String.prototype.endsWith=function(m,_){return(_===void 0||_>this.length)&&(_=this.length),this.substring(_-m.length,_)===m}),String.prototype.includes===void 0&&(String.prototype.includes=function(m,_){return typeof _!="number"&&(_=0),!(_+m.length>this.length)&&this.indexOf(m,_)!==-1}),String.prototype.trimLeft===void 0&&(String.prototype.trimLeft=function(){return this.replace(/^\s+/,"")}),String.prototype.trimRight===void 0&&(String.prototype.trimRight=function(){return this.replace(/\s+$/,"")}),Array.prototype.forEach===void 0&&(Array.prototype.forEach=function(m,_){for(var v=d.length,h=0;h<v;h++)h in d&&m.call(_,d[h],h,d)}),Array.prototype.fill===void 0&&(Array.prototype.fill=function(m,_,v){if(d===null)throw new TypeError("this is null or not defined");for(var h=Object(d),c=h.length>>>0,o=_>>0,l=o<0?Math.max(c+o,0):Math.min(o,c),s=v===void 0?c:v>>0,u=s<0?Math.max(c+s,0):Math.min(s,c);l<u;)h[l]=m,++l;return h}),Math.log10===void 0&&(Math.log10=function(m){return Math.log(m)*Math.LOG10E}),Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52)),[Float32Array,Uint8Array,Int8Array,Uint32Array,Int32Array].forEach(function(m){m.prototype.slice||Object.defineProperty(m.prototype,"slice",{value:Array.prototype.slice}),m.prototype.reduce||Object.defineProperty(m.prototype,"reduce",{value:Array.prototype.reduce}),m.prototype.filter||Object.defineProperty(m.prototype,"filter",{value:Array.prototype.filter}),m.prototype.map||Object.defineProperty(m.prototype,"map",{value:Array.prototype.map}),m.prototype.indexOf||Object.defineProperty(m.prototype,"indexOf",{value:Array.prototype.indexOf})}),Object.assign===void 0&&Object.defineProperty(Object,"assign",{value:function(m,_){if(m===void 0&&m===null)throw new TypeError("Cannot convert undefined or null to object");for(var v=Object(m),h=1;h<arguments.length;h++){var c=arguments[h];if(c!=null)for(var o in c)Object.prototype.hasOwnProperty.call(c,o)&&(v[o]=c[o])}return v},configurable:!0,writable:!0})},function(n,a,i){function d(o){for(var l in o)a.hasOwnProperty(l)||(a[l]=o[l])}Object.defineProperty(a,"__esModule",{value:!0}),d(i(40)),d(i(133));var m=i(47);a.properties=m;var _=i(34);a.fetch=_;var v=i(139);a.ray_math=v,d(i(140));var h=i(144),c=i(145);(function(o){o.EventBlocker=h.EventBlocker,o.Fullscreen=c.Fullscreen})(a.viewer||(a.viewer={}))},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.branch="master",a.commit="50315b7a797981700de80b3eea844415c20e02fc",a.version="v0.7.1"},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(10),m=i(0),_=function(){function v(){this._bytesByIdentifier=new Map,this._bytes=0,this._bytesSubject=new d.ReplaySubject(1)}return v.prototype.bytesNext=function(){this._bytesSubject.next([this._bytes,this.bytesToString()])},v.prototype.assertIdentifier=function(h){m.assert(this._bytesByIdentifier.has(h),"allocation identifier unknown")},v.prototype.createUniqueIdentifier=function(h){for(var c=h,o=2;this._bytesByIdentifier.has(c);)c=h+"-"+o,++o;return this._bytesByIdentifier.set(c,0),c},v.prototype.deleteUniqueIdentifier=function(h){m.assert(this._bytesByIdentifier.has(h),"identifier expected to be known for allocation registration"),this._bytesByIdentifier.delete(h)},v.prototype.allocate=function(h,c){if(this.assertIdentifier(h),m.assert(c>=0,"positive number of bytes expected for allocation, given "+c),c!==0){var o=this._bytesByIdentifier.get(h)+c;this._bytesByIdentifier.set(h,o),this._bytes=this._bytes+c,this.bytesNext()}},v.prototype.deallocate=function(h,c){this.assertIdentifier(h);var o=this._bytesByIdentifier.get(h);m.assert(c>=0,"positive number of bytes expected for deallocation, given "+c),m.assert(c<=o,"deallocation cannot exceed previous allocations of "+o+", given "+c),c!==0&&(this._bytesByIdentifier.set(h,o-c),this._bytes=this._bytes-c,this.bytesNext())},v.prototype.reallocate=function(h,c){this.assertIdentifier(h),m.assert(c>=0,"positive number of bytes expected for reallocation, given "+c);var o=this._bytesByIdentifier.get(h);o!==c&&(this._bytes=this._bytes-o,this._bytesByIdentifier.set(h,c),this._bytes=this._bytes+c,this.bytesNext())},v.prototype.allocated=function(h){return h===void 0?this._bytes:(this.assertIdentifier(h),this._bytesByIdentifier.get(h))},v.prototype.toString=function(){var h=new Array;return this._bytesByIdentifier.forEach(function(c,o){h.push(o+": "+m.prettyPrintBytes(c))}),h.join(", ")},v.prototype.bytesToString=function(h){return m.prettyPrintBytes(this.allocated(h))},Object.defineProperty(v.prototype,"bytes",{get:function(){return this._bytes},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"bytes$",{get:function(){return this._bytesSubject.asObservable()},enumerable:!0,configurable:!0}),v}();a.AllocationRegister=_},function(n){n.exports=JSON.parse('[{"identifier":"chrome-63","backend":"webgl2","extensions_strive":["EXT_color_buffer_float","EXT_disjoint_timer_query_webgl2","EXT_texture_filter_anisotropic","OES_texture_float_linear","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_debug_renderer_info","WEBGL_debug_shaders","WEBGL_lose_context"]},{"identifier":"edge-41","backend":"webgl1","extensions_strive":["ANGLE_instanced_arrays","EXT_frag_depth","EXT_texture_filter_anisotropic","OES_texture_float","OES_texture_float_linear","OES_standard_derivatives","OES_element_index_uint","OES_texture_half_float","OES_texture_half_float_linear","WEBGL_compressed_texture_s3tc","WEBGL_debug_renderer_info","WEBGL_depth_texture"]},{"identifier":"ie-11","backend":"webgl1","extensions_strive":["ANGLE_instanced_arrays","EXT_texture_filter_anisotropic","OES_texture_float","OES_texture_float_linear","OES_standard_derivatives","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_debug_renderer_info"]},{"identifier":"firefox-57","backend":"webgl2","extensions_strive":["EXT_color_buffer_float","EXT_texture_filter_anisotropic","EXT_disjoint_timer_query","OES_texture_float_linear","WEBGL_compressed_texture_s3tc","WEBGL_debug_renderer_info","WEBGL_debug_shaders","WEBGL_lose_context","MOZ_WEBGL_lose_context","MOZ_WEBGL_compressed_texture_s3tc"]},{"identifier":"safari-10.1","backend":"webgl1","extensions_strive":["compressed_texture_pvrtc","compressed_texture_s3tc","debug_renderer_info","disjoint_timer_query","draw_buffers","element_index_uint","frag_depth","instanced_arrays","lose_context","sRGB","shader_texture_lod","standard_derivatives","texture_filter_anisotropic","texture_float","texture_float_linear","texture_half_float","texture_half_float_linear","vertex_array_object"],"functions_undefine":["readBuffer"]},{"identifier":"no-WEBGL_draw_buffers","backend":"webgl1","extensions_conceal":["WEBGL_draw_buffers"]},{"identifier":"no-readBuffer","extensions_hash":"100000","functions_undefine":["readBuffer"]},{"identifier":"webgl1","extensions_hash":"1+++++"},{"identifier":"webgl2","extensions_hash":"2+++++"}]')},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(0),m=i(27),_=function(){function v(h){this.drawBuffers=void 0,d.assert(h!==void 0,"gl2 facade expects a valid WebGL context"),this.queryHalfFloatSupport(h),this.queryColorAttachments(h),this.queryInstancedArraySupport(h),this.queryDrawBuffersSupport(h),this.queryVertexArrayObjectSupport(h),this.queryMaxUniformVec3Components(h),this.queryBufferSubDataInterface(h),this.queryTexImageInterface(h)}return Object.defineProperty(v.prototype,"HALF_FLOAT",{get:function(){return this._halfFloat},enumerable:!0,configurable:!0}),v.prototype.queryHalfFloatSupport=function(h){switch(h.backend){case m.Context.BackendType.WebGL1:this._halfFloat=h.supportsTextureHalfFloat&&h.textureHalfFloat?h.textureHalfFloat.HALF_FLOAT_OES:void 0;break;case m.Context.BackendType.WebGL2:default:this._halfFloat=h.gl.HALF_FLOAT}},Object.defineProperty(v.prototype,"COLOR_ATTACHMENT_MIN",{get:function(){return this._colorAttachmentMin},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT_MAX",{get:function(){return this._colorAttachmentMax},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT0",{get:function(){return this._colorAttachments[0]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT1",{get:function(){return this._colorAttachments[1]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT2",{get:function(){return this._colorAttachments[2]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT3",{get:function(){return this._colorAttachments[3]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT4",{get:function(){return this._colorAttachments[4]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT5",{get:function(){return this._colorAttachments[5]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT6",{get:function(){return this._colorAttachments[6]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT7",{get:function(){return this._colorAttachments[7]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT8",{get:function(){return this._colorAttachments[8]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT9",{get:function(){return this._colorAttachments[9]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT10",{get:function(){return this._colorAttachments[10]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT11",{get:function(){return this._colorAttachments[11]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT12",{get:function(){return this._colorAttachments[12]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT13",{get:function(){return this._colorAttachments[13]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT14",{get:function(){return this._colorAttachments[14]},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"COLOR_ATTACHMENT15",{get:function(){return this._colorAttachments[15]},enumerable:!0,configurable:!0}),v.prototype.queryColorAttachments=function(h){var c=h.gl;switch(this._colorAttachments=new Array(16),this._colorAttachments[0]=c.COLOR_ATTACHMENT0,h.backend){case m.Context.BackendType.WebGL1:var o=h.supportsDrawBuffers?h.drawBuffers:void 0;if(this._colorAttachmentMin=this._colorAttachments[0],this._colorAttachmentMax=this._colorAttachmentMin+(o?c.getParameter(o.MAX_COLOR_ATTACHMENTS_WEBGL):0),this._colorAttachments[0]=o?o.COLOR_ATTACHMENT0_WEBGL:c.COLOR_ATTACHMENT0,!o)break;for(var l=1;l<16;++l)this._colorAttachments[l]=o.COLOR_ATTACHMENT0_WEBGL+l;break;case m.Context.BackendType.WebGL2:default:for(this._colorAttachmentMin=h.gl.COLOR_ATTACHMENT0,this._colorAttachmentMax=h.gl.COLOR_ATTACHMENT0+c.getParameter(c.MAX_COLOR_ATTACHMENTS),l=0;l<16;++l)this._colorAttachments[l]=c.COLOR_ATTACHMENT0+l}},v.prototype.queryInstancedArraySupport=function(h){(h.isWebGL2||h.supportsInstancedArrays)&&(this.drawArraysInstanced=h.isWebGL2?function(c,o,l,s){return h.gl.drawArraysInstanced(c,o,l,s)}:function(c,o,l,s){return h.instancedArrays.drawArraysInstancedANGLE(c,o,l,s)},this.drawElementsInstanced=h.isWebGL2?function(c,o,l,s,u){return h.gl.drawElementsInstanced(c,o,l,s,u)}:function(c,o,l,s,u){return h.instancedArrays.drawElementsInstancedANGLE(c,o,l,s,u)},this.vertexAttribDivisor=h.isWebGL2?function(c,o){return h.gl.vertexAttribDivisor(c,o)}:function(c,o){return h.instancedArrays.vertexAttribDivisorANGLE(c,o)})},Object.defineProperty(v.prototype,"MAX_DRAW_BUFFERS",{get:function(){return this._maxDrawBuffers},enumerable:!0,configurable:!0}),v.prototype.queryDrawBuffersSupport=function(h){(h.isWebGL2||h.supportsDrawBuffers)&&(this.drawBuffers=h.isWebGL2?function(c){return h.gl.drawBuffers(c)}:function(c){return h.drawBuffers.drawBuffersWEBGL(c)},this._maxDrawBuffers=h.isWebGL2?h.gl.MAX_DRAW_BUFFERS:h.drawBuffers.MAX_DRAW_BUFFERS_WEBGL)},v.prototype.queryVertexArrayObjectSupport=function(h){(h.isWebGL2||h.supportsVertexArrayObject)&&(this.createVertexArray=h.isWebGL2?function(){return h.gl.createVertexArray()}:function(){return h.vertexArrayObject.createVertexArrayOES()},this.deleteVertexArray=h.isWebGL2?function(c){return h.gl.deleteVertexArray(c)}:function(c){return h.vertexArrayObject.deleteVertexArrayOES(c)},this.isVertexArray=h.isWebGL2?function(c){return h.gl.isVertexArray(c)}:function(c){return h.vertexArrayObject.isVertexArrayOES(c)},this.bindVertexArray=h.isWebGL2?function(c){return h.gl.bindVertexArray(c)}:function(c){return h.vertexArrayObject.bindVertexArrayOES(c)})},Object.defineProperty(v.prototype,"maxUniformVec3Components",{get:function(){return this._maxUniformVec3Components},enumerable:!0,configurable:!0}),v.prototype.queryMaxUniformVec3Components=function(h){var c=h.gl;this._maxUniformVec3Components=h.isWebGL2?c.getParameter(c.MAX_VERTEX_UNIFORM_COMPONENTS):3*c.getParameter(c.MAX_VERTEX_UNIFORM_VECTORS)},v.prototype.queryBufferSubDataInterface=function(h){var c=h.gl;h.isWebGL2?this.bufferSubData=function(o,l,s,u,f){return f===void 0&&(f=0),c.bufferSubData(o,l,s,u,f)}:this.bufferSubData=function(o,l,s,u,f){return u===void 0&&(u=0),f===void 0&&(f=0),d.logIf(u!==0,d.LogLevel.Warning,"srcOffset ignored (not supported in WebGL)"),d.logIf(f!==0,d.LogLevel.Warning,"length ignored (not supported in WebGL)"),c.bufferSubData(o,l,s)}},v.prototype.queryTexImageInterface=function(h){var c=h.gl;h.isWebGL2?this.texImage2D=function(o,l,s,u,f,g,y,b,E,x){return E instanceof ArrayBuffer?c.texImage2D(o,l,s,u,f,g,y,b,E===void 0?null:E,x):(d.assert(x===void 0,"offset expected to be undefined for non ArrayBuffer source"),c.texImage2D(o,l,s,u,f,g,y,b,E===void 0?null:E))}:this.texImage2D=function(o,l,s,u,f,g,y,b,E,x){return E===void 0?c.texImage2D(o,l,s,u,f,g,y,b,null):E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array||E instanceof DataView?c.texImage2D(o,l,s,u,f,g,y,b,E):c.texImage2D(o,l,s,y,b,E)},h.supportsTexImage3D?this.texImage3D=function(o,l,s,u,f,g,y,b,E,x,w){return x instanceof ArrayBuffer?c.texImage3D(o,l,s,u,f,g,y,b,E,x===void 0?null:x,w):(d.assert(w===void 0,"offset expected to be undefined for non ArrayBuffer source"),c.texImage3D(o,l,s,u,f,g,y,b,E,x===void 0?null:x))}:this.texImage3D=function(o,l,s,u,f,g,y,b,E,x,w){return d.assert(!1,"texImage3D not supported on this context")}},v}();a.GL2Facade=_},function(n,a,i){var d,m=this&&this.__extends||(d=function(S,O){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,L){A.__proto__=L}||function(A,L){for(var k in L)L.hasOwnProperty(k)&&(A[k]=L[k])})(S,O)},function(S,O){function A(){this.constructor=S}d(S,O),S.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)});Object.defineProperty(a,"__esModule",{value:!0});var _=i(10),v=i(1),h=i(3),c=i(0),o=i(13),l=i(21),s=i(27),u=i(43),f=i(29),g=i(30),y=i(31),b=i(87),E=i(32),x=i(14),w=function(S){function O(A,L){var k=S.call(this)||this;k._framePrecisionSubject=new _.ReplaySubject(1),k._size=[0,0],k._sizeSubject=new _.ReplaySubject(1),k._frameScaleSubject=new _.ReplaySubject(1),k._frameSizeSubject=new _.ReplaySubject(1),k._element=A instanceof HTMLCanvasElement?A:document.getElementById(A),k._element.addEventListener("webglcontextcreationerror",function(H){console.log(H.statusMessage||"Unknown error")},!1),k.observe(k._element),k._mouseEventProvider=new g.MouseEventProvider(k._element,200),k._touchEventProvider=new E.TouchEventProvider(k._element,200),k._pointerEventProvider=new y.PointerEventProvider(k._element,200),k._element.style.touchAction="none";var D,N=k._element.dataset;k._context=s.Context.request(k._element,L),k.configureController(N),k.configureSizeAndScale(N),k.configureContextLostAndRestore(),k.configureContextLostAndRestoreEmulation(),N.clearColor&&(D=h.parseVec4(N.clearColor),c.logIf(D===void 0,c.LogLevel.Warning,"data-clear-color could not be parsed, given '"+N.clearColor+"'")),k._clearColor=D?new l.Color(o.tuple4(D)):O.DEFAULT_CLEAR_COLOR;var $=N.accumulationFormat?N.accumulationFormat:O.DEFAULT_FRAME_PRECISION;return $ in x.Wizard.Precision||($=O.DEFAULT_FRAME_PRECISION,c.log(c.LogLevel.Warning,"unknown frame precision '"+N.accumulationFormat+"' changed to '"+$+"'")),k._framePrecision=$,k.framePrecisionNext(),k}return m(O,S),O.prototype.configureController=function(A){var L,k;this._controller=new u.Controller,this._controller.block(),A.multiFrameNumber&&(L=parseInt(A.multiFrameNumber,10),c.logIf(isNaN(L),c.LogLevel.Warning,"data-multi-frame-number could not be parsed, given '"+A.multiFrameNumber+"'")),A.debugFrameNumber&&(k=parseInt(A.debugFrameNumber,10),c.logIf(isNaN(k),c.LogLevel.Warning,"data-debug-frame-number could not be parsed, given '"+A.debugFrameNumber+"'")),this._controller.multiFrameNumber=L||O.DEFAULT_MULTI_FRAME_NUMBER,this._controller.debugFrameNumber=k||0;var D=!!L&&L!==this._controller.multiFrameNumber;c.logIf(D,c.LogLevel.Warning,"data-multi-frame-number changed to "+this._controller.multiFrameNumber+", given '"+A.multiFrameNumber+"'");var N=!!k&&k!==this._controller.debugFrameNumber;c.logIf(N,c.LogLevel.Warning,"data-debug-frame-number changed to "+this._controller.debugFrameNumber+", given '"+A.debugFrameNumber+"'")},O.prototype.configureSizeAndScale=function(A){var L,k;A.frameScale&&(L=h.parseVec2(A.frameScale),c.logIf(A.frameScale!==void 0&&L===void 0,c.LogLevel.Warning,"data-frame-scale could not be parsed, given '"+A.frameScale+"'")),this._frameScale=L?o.tuple2(L):[1,1],A.frameSize&&(k=h.parseVec2(A.frameSize),c.logIf(A.frameSize!==void 0&&k===void 0,c.LogLevel.Warning,"data-frame-size could not be parsed, given '"+A.frameSize+"'")),this._favorSizeOverScale=k!==void 0,this._frameSize=k?o.tuple2(k):[this._size[0],this._size[1]],this.onResize()},O.prototype.configureContextLostAndRestore=function(){var A=this;this._element.addEventListener("webglcontextlost",function(L){L.preventDefault(),A.onContextLost()},!1),this._element.addEventListener("webglcontextrestored",function(L){A.onContextRestore()},!1)},O.prototype.configureContextLostAndRestoreEmulation=function(){this._lostContextExtension=this._context.gl.getExtension("WEBGL_lose_context")},O.prototype.onContextLost=function(){c.log(c.LogLevel.Warning,"WebGL Context lost. Discarding renderer..."),this._controller.cancel(),this._controller.block(),this._renderer&&this._renderer.discard()},O.prototype.onContextRestore=function(){c.log(c.LogLevel.Warning,"WebGL Context restored. Reinitializing renderer...");var A=this._renderer;this.unbind(),this.bind(A),this._controller.unblock();var L=this._element.style.visibility;this._element.style.visibility="hidden",this._element.offsetHeight,this._element.style.visibility=L},O.prototype.retrieveSize=function(){var A=b.Resizable.elementSize(this._element);A!==void 0?(this._size=[A[0],A[1]],this.sizeNext()):this._size=[0,0]},O.prototype.onResize=function(){if(this.retrieveSize(),this._size[0]===0||this._size[1]===0)return c.log(c.LogLevel.Debug,"canvas width or height is invalid, resize discarded and controller blocked"),void this._controller.block();this._element.width=this._size[0],this._element.height=this._size[1],this._renderer&&this._controller.block(),this._favorSizeOverScale?this.frameSize=this._frameSize:this.frameScale=this._frameScale,this._renderer&&(this._controller.unblock(),this._renderer.swap())},O.prototype.framePrecisionNext=function(){this._framePrecisionSubject.next(this._framePrecision)},O.prototype.sizeNext=function(){this._sizeSubject.next(this._size)},O.prototype.frameScaleNext=function(){this._frameScaleSubject.next(this._frameScale)},O.prototype.frameSizeNext=function(){this._frameSizeSubject.next(this._frameSize)},O.prototype.bind=function(A){var L=this;this._renderer!==A&&(this.unbind(),A!==void 0&&(c.assert(this._controller.blocked,"expected controller to be blocked"),this._renderer=A,this._renderer.initialize(this.context,function(k){return L._controller.update(k)},{pointerEventProvider:this._pointerEventProvider,mouseEventProvider:this._mouseEventProvider,eyeGazeEventProvider:this._eyeGazeEventProvider}),this._renderer.frameSize=this._frameSize,this._renderer.clearColor=this._clearColor.rgba,this._renderer.framePrecision=this._framePrecision,this._renderer.debugTexture=-1,this._controller.controllable=this._renderer,this._controller.unblock()))},O.prototype.unbind=function(){this._renderer!==void 0&&(this._controller.block(),this._controller.controllable=void 0,this._renderer=void 0)},O.prototype.dispose=function(){S.prototype.dispose.call(this),this._renderer&&(this._renderer.uninitialize(),this.unbind())},O.prototype.resize=function(){this.onResize()},Object.defineProperty(O.prototype,"controller",{get:function(){return this._controller},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"renderer",{get:function(){return this._renderer},set:function(A){this.bind(A)},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"frameScale",{get:function(){return this._frameScale},set:function(A){if(isFinite(A[0])&&isFinite(A[1])){c.logIf(A[0]<0||A[0]>2,c.LogLevel.Info,"frame width scale clamped to [0.0,2.0], given "+A[0]),c.logIf(A[1]<0||A[1]>2,c.LogLevel.Info,"frame height scale clamped to [0.0,2.0], given "+A[0]);var L=v.vec2.create();h.clamp2(L,A,[0,0],[2,2]);var k=v.vec2.create();v.vec2.mul(k,this._size,L),v.vec2.max(k,[1,1],k),v.vec2.round(k,k),v.vec2.div(L,k,this._size),c.logIf(!v.vec2.exactEquals(L,A),2,"frame scale was adjusted to "+L.toString()+", given "+A.toString()),this._frameScale=o.tuple2(L),this._frameSize=o.tuple2(k),this._favorSizeOverScale=!1,this.frameScaleNext(),this.frameSizeNext(),this._renderer&&(this._renderer.frameSize=this._frameSize)}else c.log(c.LogLevel.Warning,"expected finite frame size, non-finite values ignored, given ["+A+"]")},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"frameScale$",{get:function(){return this._frameScaleSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"frameSize",{get:function(){return this._frameSize},set:function(A){if(isFinite(A[0])&&isFinite(A[1])){c.logIf(A[0]<1||A[0]>this._size[0],c.LogLevel.Info,"frame width scale clamped to [1,"+this._size[0]+"], given "+A[0]),c.logIf(A[1]<1||A[1]>this._size[1],c.LogLevel.Info,"frame height scale clamped to [1, "+this._size[1]+"], given "+A[1]);var L=v.vec2.create();h.clamp2(L,A,[1,1],this._size),v.vec2.round(L,L),c.logIf(!v.vec2.exactEquals(L,A),c.LogLevel.Warning,"frame size was adjusted to "+L.toString()+", given "+A.toString());var k=v.vec2.create();v.vec2.div(k,L,this._size),this._frameScale=o.tuple2(k),this._frameSize=o.tuple2(L),this._favorSizeOverScale=!v.vec2.exactEquals(this._frameSize,this._size),this.frameScaleNext(),this.frameSizeNext(),this._renderer&&(this._renderer.frameSize=this._frameSize)}else c.log(c.LogLevel.Warning,"expected finite frame size, non-finite values ignored, given ["+A+"]")},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"frameSize$",{get:function(){return this._frameSizeSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"clearColor",{get:function(){return this._clearColor},set:function(A){this._clearColor=A,this._renderer&&(this._renderer.clearColor=this._clearColor.rgba)},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"framePrecision",{get:function(){return this._framePrecision},set:function(A){this._framePrecision=A,this._renderer&&(this._renderer.framePrecision=this._framePrecision,this._framePrecision=this._renderer.framePrecision),this.framePrecisionNext()},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"framePrecision$",{get:function(){return this._framePrecisionSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"backend",{get:function(){return this._context.backendString},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"size$",{get:function(){return this._sizeSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"width",{get:function(){return this._size[0]},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"height",{get:function(){return this._size[1]},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"mouseEventProvider",{get:function(){return this._mouseEventProvider},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"touchEventProvider",{get:function(){return this._touchEventProvider},enumerable:!0,configurable:!0}),O.prototype.testLoseContext=function(){this._lostContextExtension!==void 0&&this._lostContextExtension.loseContext()},O.prototype.testRestoreContext=function(){this._lostContextExtension!==void 0&&this._lostContextExtension.restoreContext()},Object.defineProperty(O.prototype,"eyeGazeEventProvider",{get:function(){return this._eyeGazeEventProvider},enumerable:!0,configurable:!0}),O.prototype.activateEyeGazeEventProvider=function(A,L){this._eyeGazeEventProvider=new f.EyeGazeEventProvider(A,L)},O.DEFAULT_CLEAR_COLOR=new l.Color([.203,.227,.25,1]),O.DEFAULT_FRAME_PRECISION=x.Wizard.Precision.auto,O.DEFAULT_MULTI_FRAME_NUMBER=0,O}(b.Resizable);a.Canvas=w},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(0),m=function(){function _(){var v=this;if(this._resizeEventListener=function(){return _.resize()},this._mutationEventListener=function(){v._mutationObserver.takeRecords(),_.resize()},_.instances.length===0){var h="on"+_.EVENT_IDENTIFIER;_.eventSupported=document&&(h in document.documentElement||h in document.body),d.logIf(!_.eventSupported,d.LogLevel.Warning,"resize event not supported")}_.instances.length===0&&_.eventSupported&&window.addEventListener(_.EVENT_IDENTIFIER,this._resizeEventListener),_.instances.push(this)}return _.resize=function(){d.assert(_.instances.length>0,"resize event received without a single resizable registered"),_.instances.forEach(function(v){return v.onResize()})},_.elementSize=function(v){if(v===void 0||window===void 0||typeof window.devicePixelRatio!="number")return[0,0];var h=window.devicePixelRatio,c=getComputedStyle(v);if(c.width!==null&&c.width.endsWith("px")&&c.height!==null&&c.height.endsWith("px")){var o=[parseFloat(c.width),parseFloat(c.height)];return[Math.round(o[0]*h),Math.round(o[1]*h)]}d.log(d.LogLevel.Debug,"computed element size expected in 'px', given "+c.width+" "+c.height)},_.prototype.observe=function(v){v!==void 0&&(this._mutationObserver=new MutationObserver(this._mutationEventListener)),this._mutationObserver.observe(v,_.MUTATION_OBSERVER_CONFIG)},_.prototype.dispose=function(){var v=_.instances.indexOf(this);d.assert(v!==-1,"invalid reference counting of resizable instances"),_.instances.splice(v,1),_.instances.length===0&&_.eventSupported&&window.removeEventListener(_.EVENT_IDENTIFIER,this._resizeEventListener),this._mutationObserver&&this._mutationObserver.disconnect()},_.EVENT_IDENTIFIER="resize",_.instances=[],_.eventSupported=!1,_.MUTATION_OBSERVER_CONFIG={attributes:!0,attributeFilter:["style","class"],childList:!0,subtree:!0},_}();a.Resizable=m},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(3),m=i(0),_=i(21),v=i(34),h=function(){function c(){this._hint=c.InterpolationHint.Linear,this._colors=new Array,this._inverted=!1}return c.stride=function(o){switch(o){default:case c.ArrayType.RGB:case c.ArrayType.RGBf:return 3;case c.ArrayType.RGBA:case c.ArrayType.RGBAf:return 4}},c.fromPreset=function(o,l,s){return v.fetchJsonAsync(o,function(u){for(var f,g=0,y=u;g<y.length;g++){var b=y[g];if(b.identifier===l){f=b;break}}if(f!==void 0){for(var E=f.format,x=c.stride(E),w=f.colors,S=w.length-1,O=0;O<w.length;++O)if(w[O].length===s*x){S=O;break}var A,L=w[S],k=f.positions;if(k===void 0)return c.fromArray(L,E,s,void 0);for(O=0;O<k.length;++O)k[O].length===L.length&&(A=k[O]);return c.fromArray(L,E,s,A)}},c.SCHEMA.properties)},c.fromArray=function(o,l,s,u){if(s===0||o.length===0)return new c;for(var f=o,g=c.stride(l),y=f.length/g,b=new Array(y),E=0;E<f.length;E+=g){var x=new _.Color;switch(l){case c.ArrayType.RGB:x.fromUI8(f[E+0],f[E+1],f[E+2]);break;case c.ArrayType.RGBA:x.fromUI8(f[E+0],f[E+1],f[E+2],f[E+3]);break;case c.ArrayType.RGBf:x.fromF32(f[E+0],f[E+1],f[E+2]);break;case c.ArrayType.RGBAf:x.fromF32(f[E+0],f[E+1],f[E+2],f[E+3])}b[E/g]=x}var w=new c;if(u===void 0&&s===y)return w._colors=b,w;if(s===1&&w._colors.push(b[0]),u===void 0)for((u=new Array(y))[0]=0,E=1;E<y;++E)u[E]=E/(y-1);m.assert(u.length===b.length,"expected number of positions ("+u.length+") to match number of colors ("+b.length+")");var S=0,O=S+1,A=y-1;for(E=0;E<s;++E){var L=E===0?0:E/(s-1);if(L<=u[S])w._colors.push(b[S]);else if(u[A]<=L)w._colors.push(b[A]);else{for(var k=S+1;k<y;++k)if(!(u[k]<L)){O=k,S=k-1;break}var D=(L-u[S])/(u[O]-u[S]);w._colors.push(_.Color.lerp(b[S],b[O],D,_.Color.Space.LAB))}}return w},c.prototype.lerp=function(o,l){if(l===void 0&&(l=_.Color.Space.LAB),this._colors.length!==0){if(this._colors.length===1)return this._colors[0];var s=d.clamp(o,0,1);if(s<=0)return this._colors[0];if(s>=1)return this._colors[this._colors.length-1];var u=o*this._colors.length,f=Math.floor(u),g=f+1;return g>=this._colors.length?this._colors[this._colors.length-1]:(m.assert(g<this._colors.length,"expected upper not exceed maximum color index: "+g+" < "+this._colors.length),this._hint===c.InterpolationHint.Nearest?this._colors[u-f<=g-u?f:g]:_.Color.lerp(this._colors[f],this._colors[g],u-f,l))}},c.prototype.color=function(o){if(!(o<0||o>=this._colors.length))return this._colors[o]},Object.defineProperty(c.prototype,"colors",{get:function(){return this._colors},set:function(o){this._colors=o},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"hint",{get:function(){return this._hint},set:function(o){this._hint=o},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"length",{get:function(){return this._colors.length},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"inverted",{get:function(){return this._inverted},enumerable:!0,configurable:!0}),c.prototype.invert=function(){this._colors.reverse(),this._inverted=!this._inverted},c.prototype.bitsUI8=function(o,l){o===void 0&&(o=_.Color.Space.RGB),l===void 0&&(l=!0);for(var s=this._colors.length,u=l?4:3,f=new Uint8Array(s*u),g=0;g<s;++g){var y=this._colors[g].tuple(o,l);f[g*u+0]=255*y[0],f[g*u+1]=255*y[1],f[g*u+2]=255*y[2],l&&y.length===4&&(f[g*u+3]=255*y[3])}return f},c.prototype.bitsF32=function(o,l){o===void 0&&(o=_.Color.Space.RGB),l===void 0&&(l=!0);for(var s=this._colors.length,u=l?4:3,f=new Float32Array(s*u),g=0;g<s;++g){var y=this._colors[g].tuple(o,l);f[g*u+0]=y[0],f[g*u+1]=y[1],f[g*u+2]=y[2],l&&y.length===4&&(f[g*u+3]=y[3])}return f},c.SCHEMA=i(99),c}();a.ColorScale=h,function(c){(function(o){o.Linear="linear",o.Nearest="nearest"})(c.InterpolationHint||(c.InterpolationHint={})),function(o){o.sequential="sequential",o.diverging="diverging",o.qualitative="qualitative"}(c.ScaleType||(c.ScaleType={})),function(o){o.RGB="rgb",o.RGBf="rgbf",o.RGBA="rgba",o.RGBAf="rgbaf"}(c.ArrayType||(c.ArrayType={}))}(h=a.ColorScale||(a.ColorScale={})),a.ColorScale=h},function(n,a,i){var d=n.exports.Validator=i(90);n.exports.ValidatorResult=i(16).ValidatorResult,n.exports.ValidationError=i(16).ValidationError,n.exports.SchemaError=i(16).SchemaError,n.exports.SchemaScanResult=i(36).SchemaScanResult,n.exports.scan=i(36).scan,n.exports.validate=function(m,_,v){return new d().validate(m,_,v)}},function(n,a,i){var d=i(35),m=i(98),_=i(16),v=i(36).scan,h=_.ValidatorResult,c=_.SchemaError,o=_.SchemaContext,l=function f(){this.customFormats=Object.create(f.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(u),this.attributes=Object.create(m.validators)};function s(f){var g=typeof f=="string"?f:f.$ref;return typeof g=="string"&&g}l.prototype.customFormats={},l.prototype.schemas=null,l.prototype.types=null,l.prototype.attributes=null,l.prototype.unresolvedRefs=null,l.prototype.addSchema=function(f,g){var y=this;if(!f)return null;var b=v(g||"/",f),E=g||f.id;for(var x in b.id)this.schemas[x]=b.id[x];for(var x in b.ref)this.unresolvedRefs.push(x);return this.unresolvedRefs=this.unresolvedRefs.filter(function(w){return y.schemas[w]===void 0}),this.schemas[E]},l.prototype.addSubSchemaArray=function(f,g){if(Array.isArray(g))for(var y=0;y<g.length;y++)this.addSubSchema(f,g[y])},l.prototype.addSubSchemaObject=function(f,g){if(g&&typeof g=="object")for(var y in g)this.addSubSchema(f,g[y])},l.prototype.setSchemas=function(f){this.schemas=f},l.prototype.getSchema=function(f){return this.schemas[f]},l.prototype.validate=function(f,g,y,b){y||(y={});var E=y.propertyName||"instance",x=d.resolve(y.base||"/",g.id||"");if(!b){(b=new o(g,y,E,x,Object.create(this.schemas))).schemas[x]||(b.schemas[x]=g);var w=v(x,g);for(var S in w.id){var O=w.id[S];b.schemas[S]=O}}if(g){var A=this.validateSchema(f,g,y,b);if(!A)throw new Error("Result undefined");return A}throw new c("no schema specified",g)},l.prototype.validateSchema=function(f,g,y,b){var E,x=new h(f,g,y,b);if(typeof g=="boolean")g===!0?g={}:g===!1&&(g={type:[]});else if(!g)throw new Error("schema is undefined");if(g.extends)if(Array.isArray(g.extends)){var w={schema:g,ctx:b};g.extends.forEach(this.schemaTraverser.bind(this,w)),g=w.schema,w.schema=null,w.ctx=null,w=null}else g=_.deepMerge(g,this.superResolve(g.extends,b));if(E=s(g)){var S=this.resolve(g,E,b),O=new o(S.subschema,y,b.propertyPath,S.switchSchema,b.schemas);return this.validateSchema(f,S.subschema,y,O)}var A=y&&y.skipAttributes||[];for(var L in g)if(!m.ignoreProperties[L]&&A.indexOf(L)<0){var k=null,D=this.attributes[L];if(D)k=D.call(this,f,g,y,b);else if(y.allowUnknownAttributes===!1)throw new c("Unsupported attribute: "+L,g);k&&x.importErrors(k)}if(typeof y.rewrite=="function"){var N=y.rewrite.call(this,f,g,y,b);x.instance=N}return x},l.prototype.schemaTraverser=function(f,g){f.schema=_.deepMerge(f.schema,this.superResolve(g,f.ctx))},l.prototype.superResolve=function(f,g){var y;return(y=s(f))?this.resolve(f,y,g).subschema:f},l.prototype.resolve=function(f,g,y){if(g=y.resolve(g),y.schemas[g])return{subschema:y.schemas[g],switchSchema:g};var b=d.parse(g),E=b&&b.hash,x=E&&E.length&&g.substr(0,g.length-E.length);if(!x||!y.schemas[x])throw new c("no such schema <"+g+">",f);var w=_.objectGetPath(y.schemas[x],E.substr(1));if(w===void 0)throw new c("no such schema "+E+" located in <"+x+">",f);return{subschema:w,switchSchema:g}},l.prototype.testType=function(f,g,y,b,E){if(typeof this.types[E]=="function")return this.types[E].call(this,f);if(E&&typeof E=="object"){var x=this.validateSchema(f,E,y,b);return x===void 0||!(x&&x.errors.length)}return!0};var u=l.prototype.types={};u.string=function(f){return typeof f=="string"},u.number=function(f){return typeof f=="number"&&isFinite(f)},u.integer=function(f){return typeof f=="number"&&f%1==0},u.boolean=function(f){return typeof f=="boolean"},u.array=function(f){return Array.isArray(f)},u.null=function(f){return f===null},u.date=function(f){return f instanceof Date},u.any=function(f){return!0},u.object=function(f){return f&&typeof f=="object"&&!Array.isArray(f)&&!(f instanceof Date)},n.exports=l},function(n,a,i){(function(d,m){var _;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(v){a&&a.nodeType,d&&d.nodeType;var h=typeof m=="object"&&m;h.global!==h&&h.window!==h&&h.self;var c,o=2147483647,l=/^xn--/,s=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=Math.floor,y=String.fromCharCode;function b(D){throw new RangeError(f[D])}function E(D,N){for(var $=D.length,H=[];$--;)H[$]=N(D[$]);return H}function x(D,N){var $=D.split("@"),H="";return $.length>1&&(H=$[0]+"@",D=$[1]),H+E((D=D.replace(u,".")).split("."),N).join(".")}function w(D){for(var N,$,H=[],q=0,X=D.length;q<X;)(N=D.charCodeAt(q++))>=55296&&N<=56319&&q<X?(64512&($=D.charCodeAt(q++)))==56320?H.push(((1023&N)<<10)+(1023&$)+65536):(H.push(N),q--):H.push(N);return H}function S(D){return E(D,function(N){var $="";return N>65535&&($+=y((N-=65536)>>>10&1023|55296),N=56320|1023&N),$+y(N)}).join("")}function O(D,N){return D+22+75*(D<26)-((N!=0)<<5)}function A(D,N,$){var H=0;for(D=$?g(D/700):D>>1,D+=g(D/N);D>455;H+=36)D=g(D/35);return g(H+36*D/(D+38))}function L(D){var N,$,H,q,X,Y,J,ee,te,ne,ce,pe=[],me=D.length,re=0,ye=128,we=72;for(($=D.lastIndexOf("-"))<0&&($=0),H=0;H<$;++H)D.charCodeAt(H)>=128&&b("not-basic"),pe.push(D.charCodeAt(H));for(q=$>0?$+1:0;q<me;){for(X=re,Y=1,J=36;q>=me&&b("invalid-input"),((ee=(ce=D.charCodeAt(q++))-48<10?ce-22:ce-65<26?ce-65:ce-97<26?ce-97:36)>=36||ee>g((o-re)/Y))&&b("overflow"),re+=ee*Y,!(ee<(te=J<=we?1:J>=we+26?26:J-we));J+=36)Y>g(o/(ne=36-te))&&b("overflow"),Y*=ne;we=A(re-X,N=pe.length+1,X==0),g(re/N)>o-ye&&b("overflow"),ye+=g(re/N),re%=N,pe.splice(re++,0,ye)}return S(pe)}function k(D){var N,$,H,q,X,Y,J,ee,te,ne,ce,pe,me,re,ye,we=[];for(pe=(D=w(D)).length,N=128,$=0,X=72,Y=0;Y<pe;++Y)(ce=D[Y])<128&&we.push(y(ce));for(H=q=we.length,q&&we.push("-");H<pe;){for(J=o,Y=0;Y<pe;++Y)(ce=D[Y])>=N&&ce<J&&(J=ce);for(J-N>g((o-$)/(me=H+1))&&b("overflow"),$+=(J-N)*me,N=J,Y=0;Y<pe;++Y)if((ce=D[Y])<N&&++$>o&&b("overflow"),ce==N){for(ee=$,te=36;!(ee<(ne=te<=X?1:te>=X+26?26:te-X));te+=36)ye=ee-ne,re=36-ne,we.push(y(O(ne+ye%re,0))),ee=g(ye/re);we.push(y(O(ee,0))),X=A($,me,H==q),$=0,++H}++$,++N}return we.join("")}c={version:"1.4.1",ucs2:{decode:w,encode:S},decode:L,encode:k,toASCII:function(D){return x(D,function(N){return s.test(N)?"xn--"+k(N):N})},toUnicode:function(D){return x(D,function(N){return l.test(N)?L(N.slice(4).toLowerCase()):N})}},(_=function(){return c}.call(a,i,a,d))===void 0||(d.exports=_)})()}).call(this,i(92)(n),i(93))},function(n,a){n.exports=function(i){return i.webpackPolyfill||(i.deprecate=function(){},i.paths=[],i.children||(i.children=[]),Object.defineProperty(i,"loaded",{enumerable:!0,get:function(){return i.l}}),Object.defineProperty(i,"id",{enumerable:!0,get:function(){return i.i}}),i.webpackPolyfill=1),i}},function(n,a){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,a,i){n.exports={isString:function(d){return typeof d=="string"},isObject:function(d){return typeof d=="object"&&d!==null},isNull:function(d){return d===null},isNullOrUndefined:function(d){return d==null}}},function(n,a,i){a.decode=a.parse=i(96),a.encode=a.stringify=i(97)},function(n,a,i){function d(_,v){return Object.prototype.hasOwnProperty.call(_,v)}n.exports=function(_,v,h,c){v=v||"&",h=h||"=";var o={};if(typeof _!="string"||_.length===0)return o;var l=/\+/g;_=_.split(v);var s=1e3;c&&typeof c.maxKeys=="number"&&(s=c.maxKeys);var u=_.length;s>0&&u>s&&(u=s);for(var f=0;f<u;++f){var g,y,b,E,x=_[f].replace(l,"%20"),w=x.indexOf(h);w>=0?(g=x.substr(0,w),y=x.substr(w+1)):(g=x,y=""),b=decodeURIComponent(g),E=decodeURIComponent(y),d(o,b)?m(o[b])?o[b].push(E):o[b]=[o[b],E]:o[b]=E}return o};var m=Array.isArray||function(_){return Object.prototype.toString.call(_)==="[object Array]"}},function(n,a,i){var d=function(h){switch(typeof h){case"string":return h;case"boolean":return h?"true":"false";case"number":return isFinite(h)?h:"";default:return""}};n.exports=function(h,c,o,l){return c=c||"&",o=o||"=",h===null&&(h=void 0),typeof h=="object"?_(v(h),function(s){var u=encodeURIComponent(d(s))+o;return m(h[s])?_(h[s],function(f){return u+encodeURIComponent(d(f))}).join(c):u+encodeURIComponent(d(h[s]))}).join(c):l?encodeURIComponent(d(l))+o+encodeURIComponent(d(h)):""};var m=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function _(h,c){if(h.map)return h.map(c);for(var o=[],l=0;l<h.length;l++)o.push(c(h[l],l));return o}var v=Object.keys||function(h){var c=[];for(var o in h)Object.prototype.hasOwnProperty.call(h,o)&&c.push(o);return c}},function(n,a,i){var d=i(16),m=d.ValidatorResult,_=d.SchemaError,v={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,exclusiveMinimum:!0,exclusiveMaximum:!0,additionalItems:!0,$schema:!0,$ref:!0,extends:!0}},h=v.validators={};function c(u,f,g,y,b){var E=f.throwError;f.throwError=!1;var x=this.validateSchema(u,b,f,g);return f.throwError=E,!x.valid&&y instanceof Function&&y(x),x.valid}function o(u,f,g,y,b,E){if(this.types.object(u)&&(!f.properties||f.properties[b]===void 0))if(f.additionalProperties===!1)E.addError({name:"additionalProperties",argument:b,message:"additionalProperty "+JSON.stringify(b)+" exists in instance when not allowed"});else{var x=f.additionalProperties||{};typeof g.preValidateProperty=="function"&&g.preValidateProperty(u,b,x,g,y);var w=this.validateSchema(u[b],x,g,y.makeChild(x,b));w.instance!==E.instance[b]&&(E.instance[b]=w.instance),E.importErrors(w)}}h.type=function(u,f,g,y){if(u===void 0)return null;var b=new m(u,f,g,y),E=Array.isArray(f.type)?f.type:[f.type];if(!E.some(this.testType.bind(this,u,f,g,y))){var x=E.map(function(w){return w.id&&"<"+w.id+">"||w+""});b.addError({name:"type",argument:x,message:"is not of a type(s) "+x})}return b},h.anyOf=function(u,f,g,y){if(u===void 0)return null;var b=new m(u,f,g,y),E=new m(u,f,g,y);if(!Array.isArray(f.anyOf))throw new _("anyOf must be an array");if(!f.anyOf.some(c.bind(this,u,g,y,function(w){E.importErrors(w)}))){var x=f.anyOf.map(function(w,S){return w.id&&"<"+w.id+">"||w.title&&JSON.stringify(w.title)||w.$ref&&"<"+w.$ref+">"||"[subschema "+S+"]"});g.nestedErrors&&b.importErrors(E),b.addError({name:"anyOf",argument:x,message:"is not any of "+x.join(",")})}return b},h.allOf=function(u,f,g,y){if(u===void 0)return null;if(!Array.isArray(f.allOf))throw new _("allOf must be an array");var b=new m(u,f,g,y),E=this;return f.allOf.forEach(function(x,w){var S=E.validateSchema(u,x,g,y);if(!S.valid){var O=x.id&&"<"+x.id+">"||x.title&&JSON.stringify(x.title)||x.$ref&&"<"+x.$ref+">"||"[subschema "+w+"]";b.addError({name:"allOf",argument:{id:O,length:S.errors.length,valid:S},message:"does not match allOf schema "+O+" with "+S.errors.length+" error[s]:"}),b.importErrors(S)}}),b},h.oneOf=function(u,f,g,y){if(u===void 0)return null;if(!Array.isArray(f.oneOf))throw new _("oneOf must be an array");var b=new m(u,f,g,y),E=new m(u,f,g,y),x=f.oneOf.filter(c.bind(this,u,g,y,function(S){E.importErrors(S)})).length,w=f.oneOf.map(function(S,O){return S.id&&"<"+S.id+">"||S.title&&JSON.stringify(S.title)||S.$ref&&"<"+S.$ref+">"||"[subschema "+O+"]"});return x!==1&&(g.nestedErrors&&b.importErrors(E),b.addError({name:"oneOf",argument:w,message:"is not exactly one from "+w.join(",")})),b},h.properties=function(u,f,g,y){if(this.types.object(u)){var b=new m(u,f,g,y),E=f.properties||{};for(var x in E){typeof g.preValidateProperty=="function"&&g.preValidateProperty(u,x,E[x],g,y);var w=Object.hasOwnProperty.call(u,x)?u[x]:void 0,S=this.validateSchema(w,E[x],g,y.makeChild(E[x],x));S.instance!==b.instance[x]&&(b.instance[x]=S.instance),b.importErrors(S)}return b}},h.patternProperties=function(u,f,g,y){if(this.types.object(u)){var b=new m(u,f,g,y),E=f.patternProperties||{};for(var x in u){var w=!0;for(var S in E)if(new RegExp(S).test(x)){w=!1,typeof g.preValidateProperty=="function"&&g.preValidateProperty(u,x,E[S],g,y);var O=this.validateSchema(u[x],E[S],g,y.makeChild(E[S],x));O.instance!==b.instance[x]&&(b.instance[x]=O.instance),b.importErrors(O)}w&&o.call(this,u,f,g,y,x,b)}return b}},h.additionalProperties=function(u,f,g,y){if(this.types.object(u)){if(f.patternProperties)return null;var b=new m(u,f,g,y);for(var E in u)o.call(this,u,f,g,y,E,b);return b}},h.minProperties=function(u,f,g,y){if(this.types.object(u)){var b=new m(u,f,g,y);return Object.keys(u).length>=f.minProperties||b.addError({name:"minProperties",argument:f.minProperties,message:"does not meet minimum property length of "+f.minProperties}),b}},h.maxProperties=function(u,f,g,y){if(this.types.object(u)){var b=new m(u,f,g,y);return Object.keys(u).length<=f.maxProperties||b.addError({name:"maxProperties",argument:f.maxProperties,message:"does not meet maximum property length of "+f.maxProperties}),b}},h.items=function(u,f,g,y){var b=this;if(this.types.array(u)&&f.items){var E=new m(u,f,g,y);return u.every(function(x,w){var S=Array.isArray(f.items)?f.items[w]||f.additionalItems:f.items;if(S===void 0)return!0;if(S===!1)return E.addError({name:"items",message:"additionalItems not permitted"}),!1;var O=b.validateSchema(x,S,g,y.makeChild(S,w));return O.instance!==E.instance[w]&&(E.instance[w]=O.instance),E.importErrors(O),!0}),E}},h.minimum=function(u,f,g,y){if(this.types.number(u)){var b=new m(u,f,g,y);return(f.exclusiveMinimum&&f.exclusiveMinimum===!0?u>f.minimum:u>=f.minimum)||b.addError({name:"minimum",argument:f.minimum,message:"must have a minimum value of "+f.minimum}),b}},h.maximum=function(u,f,g,y){if(this.types.number(u)){var b=new m(u,f,g,y);return(f.exclusiveMaximum&&f.exclusiveMaximum===!0?u<f.maximum:u<=f.maximum)||b.addError({name:"maximum",argument:f.maximum,message:"must have a maximum value of "+f.maximum}),b}};var l=function(u,f,g,y,b,E){if(this.types.number(u)){var x=f[b];if(x==0)throw new _(b+" cannot be zero");var w=new m(u,f,g,y),S=d.getDecimalPlaces(u),O=d.getDecimalPlaces(x),A=Math.max(S,O),L=Math.pow(10,A);return Math.round(u*L)%Math.round(x*L)!=0&&w.addError({name:b,argument:x,message:E+JSON.stringify(x)}),w}};function s(u,f,g){var y,b=g.length;for(y=f+1;y<b;y++)if(d.deepCompareStrict(u,g[y]))return!1;return!0}h.multipleOf=function(u,f,g,y){return l.call(this,u,f,g,y,"multipleOf","is not a multiple of (divisible by) ")},h.divisibleBy=function(u,f,g,y){return l.call(this,u,f,g,y,"divisibleBy","is not divisible by (multiple of) ")},h.required=function(u,f,g,y){var b=new m(u,f,g,y);return u===void 0&&f.required===!0?b.addError({name:"required",message:"is required"}):this.types.object(u)&&Array.isArray(f.required)&&f.required.forEach(function(E){u[E]===void 0&&b.addError({name:"required",argument:E,message:"requires property "+JSON.stringify(E)})}),b},h.pattern=function(u,f,g,y){if(this.types.string(u)){var b=new m(u,f,g,y);return u.match(f.pattern)||b.addError({name:"pattern",argument:f.pattern,message:"does not match pattern "+JSON.stringify(f.pattern.toString())}),b}},h.format=function(u,f,g,y){if(u!==void 0){var b=new m(u,f,g,y);return b.disableFormat||d.isFormat(u,f.format,this)||b.addError({name:"format",argument:f.format,message:"does not conform to the "+JSON.stringify(f.format)+" format"}),b}},h.minLength=function(u,f,g,y){if(this.types.string(u)){var b=new m(u,f,g,y),E=u.match(/[\uDC00-\uDFFF]/g);return u.length-(E?E.length:0)>=f.minLength||b.addError({name:"minLength",argument:f.minLength,message:"does not meet minimum length of "+f.minLength}),b}},h.maxLength=function(u,f,g,y){if(this.types.string(u)){var b=new m(u,f,g,y),E=u.match(/[\uDC00-\uDFFF]/g);return u.length-(E?E.length:0)<=f.maxLength||b.addError({name:"maxLength",argument:f.maxLength,message:"does not meet maximum length of "+f.maxLength}),b}},h.minItems=function(u,f,g,y){if(this.types.array(u)){var b=new m(u,f,g,y);return u.length>=f.minItems||b.addError({name:"minItems",argument:f.minItems,message:"does not meet minimum length of "+f.minItems}),b}},h.maxItems=function(u,f,g,y){if(this.types.array(u)){var b=new m(u,f,g,y);return u.length<=f.maxItems||b.addError({name:"maxItems",argument:f.maxItems,message:"does not meet maximum length of "+f.maxItems}),b}},h.uniqueItems=function(u,f,g,y){if(this.types.array(u)){var b=new m(u,f,g,y);return u.every(function(E,x,w){for(var S=x+1;S<w.length;S++)if(d.deepCompareStrict(E,w[S]))return!1;return!0})||b.addError({name:"uniqueItems",message:"contains duplicate item"}),b}},h.uniqueItems=function(u,f,g,y){if(this.types.array(u)){var b=new m(u,f,g,y);return u.every(s)||b.addError({name:"uniqueItems",message:"contains duplicate item"}),b}},h.dependencies=function(u,f,g,y){if(this.types.object(u)){var b=new m(u,f,g,y);for(var E in f.dependencies)if(u[E]!==void 0){var x=f.dependencies[E],w=y.makeChild(x,E);if(typeof x=="string"&&(x=[x]),Array.isArray(x))x.forEach(function(O){u[O]===void 0&&b.addError({name:"dependencies",argument:w.propertyPath,message:"property "+O+" not found, required by "+w.propertyPath})});else{var S=this.validateSchema(u,x,g,w);b.instance!==S.instance&&(b.instance=S.instance),S&&S.errors.length&&(b.addError({name:"dependencies",argument:w.propertyPath,message:"does not meet dependency required by "+w.propertyPath}),b.importErrors(S))}}return b}},h.enum=function(u,f,g,y){if(u===void 0)return null;if(!Array.isArray(f.enum))throw new _("enum expects an array",f);var b=new m(u,f,g,y);return f.enum.some(d.deepCompareStrict.bind(null,u))||b.addError({name:"enum",argument:f.enum,message:"is not one of enum values: "+f.enum.map(String).join(",")}),b},h.const=function(u,f,g,y){if(u===void 0)return null;var b=new m(u,f,g,y);return d.deepCompareStrict(f.const,u)||b.addError({name:"const",argument:f.const,message:"does not exactly match expected constant: "+f.const}),b},h.not=h.disallow=function(u,f,g,y){var b=this;if(u===void 0)return null;var E=new m(u,f,g,y),x=f.not||f.disallow;return x?(Array.isArray(x)||(x=[x]),x.forEach(function(w){if(b.testType(u,f,g,y,w)){var S=w&&w.id&&"<"+w.id+">"||w;E.addError({name:"not",argument:S,message:"is of prohibited type "+S})}}),E):null},n.exports=v},function(n){n.exports=JSON.parse('{"id":"/ColorScalePresets","title":"Color Scale Presets Schema","description":"JSON schema for a color scale presets data, used in the webgl-operate module for validation.","type":"array","items":{"type":"object","properties":{"identifier":{"type":"string"},"type":{"type":"string","enum":["sequential","diverging","qualitative"]},"format":{"type":"string","enum":["rgb","rgbf"]},"colors":{"type":"array","items":{"type":"array","items":{"type":["integer","number"]}}},"positions":{"type":"array","items":{"type":"array","items":{"type":["integer","number"]}}}},"required":["identifier","format","colors"],"additionalProperties":false}}')},function(n,a,i){var d,m=this&&this.__extends||(d=function(l,s){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var g in f)f.hasOwnProperty(g)&&(u[g]=f[g])})(l,s)},function(l,s){function u(){this.constructor=l}d(l,s),l.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}),_=this&&this.__decorate||function(l,s,u,f){var g,y=arguments.length,b=y<3?s:f===null?f=Object.getOwnPropertyDescriptor(s,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(l,s,u,f);else for(var E=l.length-1;E>=0;E--)(g=l[E])&&(b=(y<3?g(b):y>3?g(s,u,b):g(s,u))||b);return y>3&&b&&Object.defineProperty(s,u,b),b};Object.defineProperty(a,"__esModule",{value:!0});var v=i(0),h=i(20),c=i(2),o=function(l){function s(){var u=l!==null&&l.apply(this,arguments)||this;return u._width=0,u._height=0,u._depth=0,u._internalFormat=0,u._format=0,u._type=0,u}return m(s,l),s.prototype.create=function(u,f,g,y,b,E){v.assert(this._context.supportsTexImage3D,"expected texImage3D to be supported"),v.assert(u>0&&f>0&&g>0,"texture requires valid width, height, and depth of greater than zero");var x=this._context.gl,w=this._context.gl2facade;return this._object=x.createTexture(),this._width=u,this._height=f,this._depth=g,this._internalFormat=y,this._format=b,this._type=E,x.bindTexture(x.TEXTURE_3D,this._object),x.texParameteri(x.TEXTURE_3D,x.TEXTURE_MAG_FILTER,x.NEAREST),x.texParameteri(x.TEXTURE_3D,x.TEXTURE_MIN_FILTER,x.NEAREST),x.texParameteri(x.TEXTURE_3D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_3D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_3D,x.TEXTURE_WRAP_R,x.CLAMP_TO_EDGE),w.texImage3D(x.TEXTURE_3D,0,this._internalFormat,this._width,this._height,this._depth,0,this._format,this._type),x.bindTexture(x.TEXTURE_3D,s.DEFAULT_TEXTURE),this._valid=x.isTexture(this._object),this.reallocate(),this._object},s.prototype.delete=function(){v.assert(this._object instanceof WebGLTexture,"expected WebGLTexture object"),this._context.gl.deleteTexture(this._object),this._object=void 0,this._valid=!1,this._internalFormat=0,this._format=0,this._type=0,this._width=0,this._height=0,this._depth=0},s.prototype.reallocate=function(){var u=this.context.gl,f=this._context.gl2facade,g=this._width*this._height*this._depth*h.byteSizeOfFormat(this.context,this._internalFormat);this._type===f.HALF_FLOAT&&this._internalFormat!==u.RGBA16F?g*=2:this._type===u.FLOAT&&this._internalFormat!==u.RGBA16F&&(g*=4),this.context.allocationRegister.reallocate(this._identifier,g)},s.prototype.bind=function(u){var f=this.context.gl;u&&f.activeTexture(u),f.bindTexture(f.TEXTURE_3D,this._object)},s.prototype.unbind=function(u){var f=this.context.gl;u&&f.activeTexture(u),f.bindTexture(f.TEXTURE_3D,s.DEFAULT_TEXTURE)},s.prototype.load=function(u,f,g){return v.assert(!1,"not implemented"),new Promise(function(){return!0})},s.prototype.data=function(u,f,g){f===void 0&&(f=!0),g===void 0&&(g=!0);var y=this.context.gl,b=this._context.gl2facade;f&&this.bind(),b.texImage3D(y.TEXTURE_3D,0,this._internalFormat,this._width,this._height,this._depth,0,this._format,this._type,u),g&&this.unbind(),this.reallocate()},s.prototype.filter=function(u,f,g,y){g===void 0&&(g=!0),y===void 0&&(y=!0);var b=this.context.gl;g&&this.bind(),b.texParameteri(b.TEXTURE_3D,b.TEXTURE_MAG_FILTER,u),b.texParameteri(b.TEXTURE_3D,b.TEXTURE_MIN_FILTER,f),y&&this.unbind()},s.prototype.wrap=function(u,f,g,y,b){y===void 0&&(y=!0),b===void 0&&(b=!0);var E=this.context.gl;y&&this.bind(),E.texParameteri(E.TEXTURE_3D,E.TEXTURE_WRAP_S,u),E.texParameteri(E.TEXTURE_3D,E.TEXTURE_WRAP_T,f),E.texParameteri(E.TEXTURE_3D,E.TEXTURE_WRAP_T,g),b&&this.unbind()},s.prototype.reformat=function(u,f,g,y,b){y===void 0&&(y=!0),b===void 0&&(b=!0),(u!==this._internalFormat||f!==void 0&&f!==this._format||g!==void 0&&g!==this._type)&&(v.assert(u!==void 0,"valid internal format expected"),this._internalFormat=u,f&&(this._format=f),g&&(this._type=g),this.data(void 0,y,b))},s.prototype.resize=function(u,f,g,y,b){y===void 0&&(y=!0),b===void 0&&(b=!0),u===this._width&&f===this._height&&g===this._depth||(this._width=u,this._height=f,this._depth=g,this.data(void 0,y,b))},Object.defineProperty(s.prototype,"bytes",{get:function(){return this.assertInitialized(),this.context.allocationRegister.allocated(this._identifier)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"internalFormat",{get:function(){return this.assertInitialized(),this._internalFormat},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"format",{get:function(){return this.assertInitialized(),this._format},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"type",{get:function(){return this.assertInitialized(),this._type},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"width",{get:function(){return this.assertInitialized(),this._width},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"height",{get:function(){return this.assertInitialized(),this._height},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"depth",{get:function(){return this.assertInitialized(),this._depth},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return this.assertInitialized(),[this._width,this._height,this._depth]},enumerable:!0,configurable:!0}),s.DEFAULT_TEXTURE=void 0,_([c.Initializable.assert_initialized()],s.prototype,"bind",null),_([c.Initializable.assert_initialized()],s.prototype,"unbind",null),_([c.Initializable.assert_initialized()],s.prototype,"load",null),_([c.Initializable.assert_initialized()],s.prototype,"data",null),_([c.Initializable.assert_initialized()],s.prototype,"filter",null),_([c.Initializable.assert_initialized()],s.prototype,"wrap",null),_([c.Initializable.assert_initialized()],s.prototype,"reformat",null),_([c.Initializable.assert_initialized()],s.prototype,"resize",null),s}(i(8).AbstractObject);a.Texture3D=o},function(n,a,i){var d,m=this&&this.__extends||(d=function(o,l){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)u.hasOwnProperty(f)&&(s[f]=u[f])})(o,l)},function(o,l){function s(){this.constructor=o}d(o,l),o.prototype=l===null?Object.create(l):(s.prototype=l.prototype,new s)}),_=this&&this.__decorate||function(o,l,s,u){var f,g=arguments.length,y=g<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,s):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(o,l,s,u);else for(var b=o.length-1;b>=0;b--)(f=o[b])&&(y=(g<3?f(y):g>3?f(l,s,y):f(l,s))||y);return g>3&&y&&Object.defineProperty(l,s,y),y};Object.defineProperty(a,"__esModule",{value:!0});var v=i(5),h=i(2),c=function(o){function l(s,u,f,g,y){g===void 0&&(g=0);var b=o.call(this)||this;return b._updates=new Array,b._cpuBuffer=new ArrayBuffer(u),b._gpuBuffer=new v.Buffer(s,y),b._usage=f,b._mergeThreshold=g,b}return m(l,o),l.updatesNeedMerge=function(s,u,f){return u.begin-s.end<f||f===-1},l.prototype.mergeUpdatesLeft=function(s){for(var u=0,f=this._updates[s],g=s-1;g>=0;g--){var y=this._updates[g];if(!l.updatesNeedMerge(y,f,this._mergeThreshold))break;f.begin=Math.min(f.begin,y.begin),f.end=Math.max(f.end,y.end),u++}return this._updates.splice(s-u,u),u+1},l.prototype.mergeUpdatesRight=function(s){for(var u=0,f=this._updates[s],g=s+1;g<this._updates.length;g++){var y=this._updates[g];if(!l.updatesNeedMerge(f,y,this._mergeThreshold))break;f.begin=Math.min(f.begin,y.begin),f.end=Math.max(f.end,y.end),u++}return this._updates.splice(s+1,u),u+1},l.prototype.addUpdate=function(s){var u=this._updates.findIndex(function(f){return s.begin<f.begin});u===-1?(this._updates.push(s),this.mergeUpdatesLeft(this._updates.length-1)):(this._updates.splice(u,0,s),this.mergeUpdatesRight(u),this.mergeUpdatesLeft(u))},l.prototype.initialize=function(s){return this._gpuBuffer.initialize(s)},l.prototype.uninitialize=function(){this._gpuBuffer.uninitialize()},l.prototype.bind=function(){this._gpuBuffer.bind()},l.prototype.unbind=function(){this._gpuBuffer.unbind()},l.prototype.attribEnable=function(s,u,f,g,y,b,E,x){g===void 0&&(g=!1),y===void 0&&(y=0),b===void 0&&(b=0),E===void 0&&(E=!0),x===void 0&&(x=!0),this._gpuBuffer.attribEnable(s,u,f,g,y,b,E,x)},l.prototype.attribDisable=function(s,u,f){u===void 0&&(u=!0),f===void 0&&(f=!0),this._gpuBuffer.attribDisable(s,u,f)},l.prototype.mergeSubDataRanges=function(){for(var s=0;s<this._updates.length;)s+=this.mergeUpdatesRight(s)},l.prototype.subData=function(s,u){var f;f=u instanceof ArrayBuffer?new Uint8Array(u):new Uint8Array(u.buffer).subarray(u.byteOffset,u.byteOffset+u.byteLength),new Uint8Array(this._cpuBuffer).set(f,s),this.addUpdate({begin:s,end:s+f.byteLength})},l.prototype.update=function(s,u){if(s===void 0&&(s=!1),u===void 0&&(u=!1),s&&this._gpuBuffer.bind(),this._gpuBuffer.bytes!==this._cpuBuffer.byteLength)this._gpuBuffer.data(this._cpuBuffer,this._usage);else for(var f=new Uint8Array(this._cpuBuffer),g=0,y=this._updates;g<y.length;g++){var b=y[g],E=f.subarray(b.begin,b.end);this._gpuBuffer.subData(b.begin,E)}u&&this._gpuBuffer.unbind(),this._updates.length=0},Object.defineProperty(l.prototype,"size",{get:function(){return this._cpuBuffer.byteLength},set:function(s){var u=this._cpuBuffer;this._cpuBuffer=new ArrayBuffer(s);var f=new Uint8Array(u).slice(0,s);new Uint8Array(this._cpuBuffer).set(f)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"target",{get:function(){return this.assertInitialized(),this._gpuBuffer.target},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"usage",{get:function(){return this._usage},set:function(s){this._usage=s},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"mergeThreshold",{get:function(){return this._mergeThreshold},set:function(s){this._mergeThreshold=s},enumerable:!0,configurable:!0}),_([h.Initializable.initialize()],l.prototype,"initialize",null),_([h.Initializable.uninitialize()],l.prototype,"uninitialize",null),_([h.Initializable.assert_initialized()],l.prototype,"bind",null),_([h.Initializable.assert_initialized()],l.prototype,"unbind",null),_([h.Initializable.assert_initialized()],l.prototype,"attribEnable",null),_([h.Initializable.assert_initialized()],l.prototype,"attribDisable",null),_([h.Initializable.assert_initialized()],l.prototype,"update",null),l}(h.Initializable);a.UnifiedBuffer=c},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(1),m=i(3),_=i(0),v=function(){function h(){this._tileSize=[0,0],this._padding=d.vec4.fromValues(0,0,0,0),this._tile=-1,this._algorithm=h.Algorithm.ScanLine,this._offset=[0,0]}return h.hilbertIndices=function(c,o,l,s,u,f,g,y,b,E,x){if(E>0)return x=this.hilbertIndices(c,o,l,s,u,y/2,b/2,f/2,g/2,E-1,x),x=this.hilbertIndices(c,o,l,s+f/2,u+g/2,f/2,g/2,y/2,b/2,E-1,x),x=this.hilbertIndices(c,o,l,s+f/2+y/2,u+g/2+b/2,f/2,g/2,y/2,b/2,E-1,x),this.hilbertIndices(c,o,l,s+f/2+y,u+g/2+b,-y/2,-b/2,-f/2,-g/2,E-1,x);if(u+=(g+b-1)/2,(s+=(f+y-1)/2)<o&&u<l){var w=2*x;c[w+0]=s,c[w+1]=u,++x}return x},h.generateHilbertIndices=function(c,o,l){_.assert(c.length===2*o*l,"expected interleaved indices-array of length "+2*o*l+", given "+c.length);var s=Math.max(o,l),u=Math.ceil(Math.log2(s)),f=_.upperPowerOfTwo(s);this.hilbertIndices(c,o,l,0,0,f,0,0,f,u,0)},h.generateScanLineIndices=function(c,o,l){_.assert(c.length===2*o*l,"expected interleaved indices-array of length "+2*o*l+", given "+c.length);for(var s=0;s<l;++s)for(var u=0;u<o;++u){var f=2*(u+s*o);c[f+0]=u,c[f+1]=s}},h.generateZCurveIndices=function(c,o,l){_.assert(c.length===2*o*l,"expected interleaved indices-array of length "+2*o*l+", given "+c.length);for(var s=Math.max(o,l),u=2*Math.floor(Math.log2(s)),f=0,g=0;g<o*l;++f){for(var y=0,b=0,E=0;E<u;++E)y+=(f>>2*E&1)<<E,b+=(f>>2*E+1&1)<<E;if(y<o&&b<l){var x=2*g;c[x+0]=y,c[x+1]=b,++g}}},h.prototype.invalidate=function(c){c&&(this._indices=new Uint16Array(0)),this._valid=!1},h.prototype.ensureValidIterationIndices=function(){if(!(this._indices.length>0))switch(this._indices=new Uint16Array(2*this.numTiles),this._algorithm){case h.Algorithm.ScanLine:h.generateScanLineIndices(this._indices,this.numXTiles,this.numYTiles);break;case h.Algorithm.HilbertCurve:h.generateHilbertIndices(this._indices,this.numXTiles,this.numYTiles);break;case h.Algorithm.ZCurve:h.generateZCurveIndices(this._indices,this.numXTiles,this.numYTiles);break;default:h.generateScanLineIndices(this._indices,this.numXTiles,this.numYTiles)}},h.prototype.tableIndices=function(){this.ensureValidIterationIndices();var c=2*this.tile;return[this._indices[c+0],this._indices[c+1]]},h.prototype.getPaddedTileSize=function(){return[this.padding[1]+this.padding[3]+this.tileSize[0],this.padding[0]+this.padding[2]+this.tileSize[1]]},h.prototype.nextTile=function(){return!(this.tile>=this.numTiles-1||(this.tile<0&&(this.tile=-1),++this.tile,this.update(),0))},h.prototype.hasNextTile=function(){return this.tile<=this.numTiles-1&&this.tile>=0},h.prototype.reset=function(){this.tile=-1,this._offset[0]=0,this._offset[1]=0},h.prototype.sourceCameraChanged=function(){_.assert(this._sourceCamera!==void 0,"expected the unput/source camera to be defined"),this._camera=Object.create(this._sourceCamera)},h.prototype.update=function(){if(this._valid)return this._offset;if(this.numTiles<=this.tile||0>this.tile)return _.log(_.LogLevel.Warning,"index "+this.tile+" is out of bounds "+this.numTiles+", returning first tile"),this._offset;_.assert(this._sourceViewport!==void 0&&this._sourceCamera!==void 0,"expected source camera and source viewport to be defined before updating"),this._valid=!0;var c=this.tableIndices(),o=this.sourceViewport,l=this.getPaddedTileSize(),s=[0,0];s[0]=c[0]*this.tileSize[0]+l[0]/2,s[1]=c[1]*this.tileSize[1]+l[1]/2;var u=[0,0];u[0]=c[0]*this.tileSize[0],u[1]=c[1]*this.tileSize[1];var f=[2*s[0]/o[0]-1,2*s[1]/o[1]-1],g=d.vec3.fromValues(o[0]/l[0],o[1]/l[1],1),y=d.vec3.fromValues(-f[0],-f[1],0),b=d.mat4.scale(m.m4(),d.mat4.identity(m.m4()),g),E=d.mat4.translate(m.m4(),b,y);return this._camera.postViewProjection=E,this._offset=u,u},Object.defineProperty(h.prototype,"valid",{get:function(){return this._camera!==void 0&&this._sourceCamera!==void 0&&this._valid},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"numXTiles",{get:function(){return _.assert(this._sourceViewport!==void 0,"expected the source viewport to be defined"),Math.ceil(this.sourceViewport[0]/this.tileSize[0])},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"numYTiles",{get:function(){return _.assert(this._sourceViewport!==void 0,"expected the source viewport to be defined"),Math.ceil(this.sourceViewport[1]/this.tileSize[1])},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"numTiles",{get:function(){return this.numXTiles*this.numYTiles},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"offset",{get:function(){return this._offset},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"camera",{get:function(){return this._camera},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"viewport",{get:function(){return[this.offset[0],this.offset[1],this.tileSize[0],this.tileSize[1]]},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"sourceCamera",{get:function(){return this._sourceCamera},set:function(c){c!==void 0?(this._sourceCamera=c,this._camera=Object.create(c),this.invalidate(!1)):this._sourceCamera=this._camera=void 0},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"tile",{get:function(){return this._tile},set:function(c){this._tile!==c&&(this._tile=c,this.invalidate(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"sourceViewport",{get:function(){return this._sourceViewport},set:function(c){this._sourceViewport!==void 0&&c!==void 0&&this._sourceViewport[0]===c[0]&&this._sourceViewport[1]===c[1]||(this._sourceViewport=c,this.invalidate(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"tileSize",{get:function(){return this._tileSize},set:function(c){this._tileSize[0]===c[0]&&this._tileSize[1]===c[1]||(this._tileSize=c,this.invalidate(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"padding",{get:function(){return this._padding},set:function(c){d.vec4.equals(this._padding,c)||(this._padding=d.vec4.clone(c),this.invalidate(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"algorithm",{get:function(){return this._algorithm},set:function(c){this._algorithm!==c&&(this._algorithm=c,this.invalidate(!0))},enumerable:!0,configurable:!0}),h}();a.TileCameraGenerator=v,function(h){(function(c){c.ScanLine="scanline",c.HilbertCurve="hilbertcurve",c.ZCurve="zcurve"})(h.Algorithm||(h.Algorithm={}))}(v=a.TileCameraGenerator||(a.TileCameraGenerator={})),a.TileCameraGenerator=v},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(1),m=i(33),_=i(22),v=i(0),h=i(53),c=i(54),o=i(55),l=i(56),s=i(57),u=i(40),f=i(58),g=function(){function y(b,E){var x=this;this._alwaysRotateOnMove=!1,this._invalidate=b,this._eventHandler=new m.EventHandler(b,E),this._eventHandler.pushPointerDownHandler(function(w,S){return x.onPointerDown(w,S)}),this._eventHandler.pushPointerUpHandler(function(w,S){return x.onPointerUp(w,S)}),this._eventHandler.pushPointerEnterHandler(function(w,S){return x.onPointerEnter(w,S)}),this._eventHandler.pushPointerLeaveHandler(function(w,S){return x.onPointerLeave(w,S)}),this._eventHandler.pushPointerMoveHandler(function(w,S){return x.onPointerMove(w,S)}),this._eventHandler.pushPointerCancelHandler(function(w,S){return x.onPointerCancel(w,S)}),this._eventHandler.pushMouseWheelHandler(function(w,S){return x.onWheel(w,S)}),this.rotationMetaphor=y.RotationMetaphor.Turntable,this._pan=new c.PanModifier,this._pinch=new o.PinchZoomModifier,this._wheelZoom=new f.WheelZoomModifier,this._activeEvents=new Map}return y.prototype.mode=function(){var b=Array.from(this._activeEvents.values()),E=this.getPrimaryEvent(b);if(E!==void 0){var x=E.pointerType==="mouse",w=E.pointerType==="touch"||E.pointerType==="pen",S=1&E.buttons,O=E.shiftKey,A=_.PointerLock.active()&&this._alwaysRotateOnMove,L=this._activeEvents.size,k=x&&S&&L===1,D=w&&L===1,N=x&&S&&O&&L===1,$=w&&L===2;return A?y.Modes.Rotate:N?y.Modes.Pan:$?y.Modes.MultiTouch:k||D?y.Modes.Rotate:void 0}u.auxiliaries.log(v.LogLevel.Warning,"No primary pointer event detected in Navigation::mode.")},y.prototype.resolveMultiTouch=function(){if(!(this._activeEvents.size<2)){var b=Array.from(this._activeEvents.values()),E=d.vec2.fromValues(b[0].movementX,b[0].movementY),x=d.vec2.fromValues(b[1].movementX,b[1].movementY);return d.vec2.length(E)===0||d.vec2.length(x)===0?y.Modes.Zoom:(d.vec2.normalize(E,E),d.vec2.normalize(x,x),d.vec2.dot(E,x)>.2?y.Modes.Pan:y.Modes.Zoom)}u.auxiliaries.log(v.LogLevel.Warning,"MultiTouch resolution was canceled because less than two touches were detected.")},y.prototype.rotate=function(b){if(this._activeEvents.size===1){var E=Array.from(this._activeEvents.values()),x=this._eventHandler.offsets(E[0])[0];switch(this._rotationMetaphor){case y.RotationMetaphor.FirstPerson:var w=this._firstPerson,S=void 0;_.PointerLock.active()&&event instanceof MouseEvent&&(S=d.vec2.fromValues(event.movementX,event.movementY)),b?w.initiate(x):w.process(x,S);break;case y.RotationMetaphor.Trackball:var O=this._trackball;b?O.initiate(x):O.process(x);break;case y.RotationMetaphor.Turntable:var A=this._turntable;b?A.initiate(x):A.process(x)}}else u.auxiliaries.log(v.LogLevel.Info,"Rotate event was canceled because less or more than two pointers were detected.")},y.prototype.pan=function(b){var E=Array.from(this._activeEvents.values()),x=this.getPrimaryEvent(E);if(x!==void 0){var w=this._eventHandler.offsets(x)[0],S=this._pan;b?S.initiate(w):S.process(w)}else u.auxiliaries.log(v.LogLevel.Warning,"Pan event was canceled because no primary event was detected.")},y.prototype.pinch=function(b){if(this._activeEvents.size===2){var E=Array.from(this._activeEvents.values()),x=this._eventHandler.offsets(E[0])[0],w=this._eventHandler.offsets(E[1])[0],S=this._pinch;b?S.initiate(x,w):S.process(x,w)}else u.auxiliaries.log(v.LogLevel.Info,"Pinch event was canceled because less or more than two pointers were detected.")},y.prototype.getPrimaryEvent=function(b){for(var E=0,x=b;E<x.length;E++){var w=x[E];if(w.isPrimary)return w}},y.prototype.onPointerDown=function(b,E){for(var x=0,w=b;x<w.length;x++){var S=w[x];this._activeEvents.set(S.pointerId,S)}switch(this._mode=this.mode(),this._mode){case y.Modes.Rotate:this.rotate(!0);break;case y.Modes.Pan:this.pan(!0);break;case y.Modes.Zoom:this.pinch(!0)}},y.prototype.onPointerUp=function(b,E){for(var x=0,w=b;x<w.length;x++){var S=w[x];this._activeEvents.delete(S.pointerId)}},y.prototype.onPointerEnter=function(b,E){},y.prototype.onPointerLeave=function(b,E){for(var x=0,w=b;x<w.length;x++){var S=w[x];this._activeEvents.delete(S.pointerId)}},y.prototype.onPointerCancel=function(b,E){for(var x=0,w=b;x<w.length;x++){var S=w[x];this._activeEvents.delete(S.pointerId)}},y.prototype.onPointerMove=function(b,E){for(var x=0,w=b;x<w.length;x++){var S=w[x];this._activeEvents.set(S.pointerId,S)}if(this._mode!==void 0){var O=Array.from(this._activeEvents.values()),A=this.getPrimaryEvent(O);(A==null?void 0:A.pointerType)==="mouse"&&(this._mode=this.mode());var L=!1;switch(this._mode===y.Modes.MultiTouch&&(this._mode=this.resolveMultiTouch(),L=!0),this._mode){case y.Modes.Rotate:this.rotate(L);break;case y.Modes.Pan:this.pan(L);break;case y.Modes.Zoom:this.pinch(L)}this._lastInteractionTime=performance.now()}},y.prototype.onWheel=function(b,E){var x,w=b[0];(x=this._wheelZoom)===null||x===void 0||x.process(w.deltaY)},y.prototype.update=function(){this._eventHandler.update()},Object.defineProperty(y.prototype,"camera",{set:function(b){this._camera=b,this._firstPerson&&(this._firstPerson.camera=b),this._trackball&&(this._trackball.camera=b),this._turntable&&(this._turntable.camera=b),this._pan&&(this._pan.camera=b),this._pinch&&(this._pinch.camera=b),this._wheelZoom&&(this._wheelZoom.camera=b)},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"rotationMetaphor",{get:function(){return this._rotationMetaphor},set:function(b){if(this._rotationMetaphor!==b){switch(this._firstPerson=void 0,this._trackball=void 0,this._turntable=void 0,this._eventHandler.exitPointerLock(),this._alwaysRotateOnMove=!1,this._rotationMetaphor=b,this._rotationMetaphor){case y.RotationMetaphor.FirstPerson:this._eventHandler.requestPointerLock(),this._alwaysRotateOnMove=!0,this._firstPerson=new h.FirstPersonModifier,this._firstPerson.camera=this._camera;break;case y.RotationMetaphor.Trackball:this._trackball=new l.TrackballModifier,this._trackball.camera=this._camera;break;case y.RotationMetaphor.Turntable:this._turntable=new s.TurntableModifier,this._turntable.camera=this._camera}this._invalidate(!0)}},enumerable:!0,configurable:!0}),y}();a.Navigation=g,function(y){(function(b){b[b.Move=0]="Move",b[b.Pan=1]="Pan",b[b.MultiTouch=2]="MultiTouch",b[b.Rotate=3]="Rotate",b[b.Zoom=4]="Zoom",b[b.ZoomStep=5]="ZoomStep"})(y.Modes||(y.Modes={})),function(b){b.FirstPerson="firstperson",b.Flight="flight",b.Trackball="trackball",b.Turntable="turntable"}(y.RotationMetaphor||(y.RotationMetaphor={}))}(g=a.Navigation||(a.Navigation={})),a.Navigation=g},function(n,a,i){var d,m=this&&this.__extends||(d=function(l,s){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var g in f)f.hasOwnProperty(g)&&(u[g]=f[g])})(l,s)},function(l,s){function u(){this.constructor=l}d(l,s),l.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}),_=this&&this.__decorate||function(l,s,u,f){var g,y=arguments.length,b=y<3?s:f===null?f=Object.getOwnPropertyDescriptor(s,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(l,s,u,f);else for(var E=l.length-1;E>=0;E--)(g=l[E])&&(b=(y<3?g(b):y>3?g(s,u,b):g(s,u))||b);return y>3&&b&&Object.defineProperty(s,u,b),b};Object.defineProperty(a,"__esModule",{value:!0});var v=i(5),h=i(9),c=i(2),o=function(l){function s(u,f){var g=l.call(this,u,f)||this;f=f!==void 0&&f!==""?f:g.constructor.name;var y=new v.Buffer(u,f+"VBO");return g._buffers.push(y),g}return m(s,l),s.prototype.bindBuffers=function(){this._buffers[0].attribEnable(this._vertexLocation,2,this.context.gl.FLOAT,!1,0,0,!0,!1)},s.prototype.unbindBuffers=function(){this._buffers[0].attribDisable(this._vertexLocation,!0,!0)},s.prototype.initialize=function(u){u===void 0&&(u=0),this._vertexLocation=u;var f=this.context.gl,g=l.prototype.initialize.call(this,[f.ARRAY_BUFFER]);return this._buffers[0].data(s.VERTICES,f.STATIC_DRAW),g},s.prototype.draw=function(){var u=this.context.gl;u.drawArrays(u.TRIANGLE_STRIP,0,4)},Object.defineProperty(s.prototype,"vertexLocation",{get:function(){return this._vertexLocation},enumerable:!0,configurable:!0}),s.VERTICES=new Float32Array([-1,-1,1,-1,-1,1,1,1]),_([c.Initializable.assert_initialized()],s.prototype,"draw",null),s}(h.Geometry);a.NdcFillingRectangle=o},function(n){n.exports=JSON.parse('{"kernel":[[[[0.201114,0.016597],[-0.090682,-0.219471],[-0.180852,0.162495],[0.055216,0.398563],[-0.41692,-0.073573],[0.291284,-0.365369],[0.437182,0.252665],[-0.32675,-0.455539]]]],"size":{"depth":1,"height":1,"width":8}}')},function(n){n.exports=JSON.parse('{"kernel":[[[[-0.058976,0.021042],[0.065636,-0.034686],[0.023064,0.111212],[-0.011378,-0.124856],[-0.122834,-0.069128],[0.155806,0.055484],[-0.170432,0.07677],[-0.101548,0.16694],[0.190248,-0.090414],[0.121364,-0.180584],[0.100078,0.201382],[-0.080262,-0.215026],[-0.247446,-0.0134],[-0.024534,0.25711],[-0.204874,-0.159298],[0.267262,-0.000244],[0.22469,0.145654],[0.031194,-0.270754],[-0.213004,0.222668],[-0.303174,0.132498],[0.245976,-0.236312],[-0.13599,0.312838],[0.177092,0.291552],[-0.157276,-0.305196],[0.31486,-0.146142],[0.04435,0.34728],[-0.337616,-0.10357],[-0.04582,-0.360924],[0.168962,-0.326482],[0.357432,0.089926],[-0.372058,0.042328],[-0.281888,-0.249468],[0.301704,0.235824],[-0.067106,0.403008],[0.40503,-0.055972],[0.078792,-0.416652],[-0.350772,0.278396],[-0.4065,-0.19374],[-0.260602,0.368566],[-0.449072,-0.047842],[-0.22616,-0.395366],[0.13452,0.43745],[0.259132,0.381722],[0.426316,0.180096],[-0.114704,-0.451094],[-0.427786,0.188226],[0.370588,-0.29204],[0.280418,-0.38221],[0.482044,0.034198],[0.447602,-0.20187],[0.009908,0.493178],[-0.358902,-0.339638],[-0.191718,0.458736],[-0.49667,0.098056],[0.391874,0.325994],[0.211534,-0.47238],[-0.483514,-0.28391],[-0.462228,0.334124],[-0.393344,0.424294],[0.336146,0.471892],[-0.31633,-0.485536],[0.41316,-0.437938],[-0.440942,-0.429808],[0.460758,0.416164]]]],"size":{"depth":1,"height":1,"width":64}}')},function(n){n.exports=JSON.parse('{"kernel":[[[[-0.992216,-0.610879],[-0.975957,0.625189],[-0.965904,-0.138743],[-0.949645,-0.902675],[-0.933385,0.333393],[-0.923332,-0.430539],[-0.907073,0.805529],[-0.89702,0.0415974],[-0.88076,-0.722335],[-0.864501,0.513733],[-0.854448,-0.250199],[-0.838189,0.985869],[-0.811876,0.221937],[-0.795617,-0.541995],[-0.785564,0.694073],[-0.769305,-0.0698586],[-0.753045,-0.833791],[-0.742992,0.402277],[-0.726733,-0.361655],[-0.70042,0.874413],[-0.684161,0.110482],[-0.674108,-0.65345],[-0.657849,0.582618],[-0.631536,-0.181314],[-0.615277,-0.945246],[-0.605224,0.290822],[-0.588964,-0.47311],[-0.572705,0.762958],[-0.562652,-0.000974417],[-0.546393,-0.764906],[-0.52008,0.471162],[-0.503821,-0.29277],[-0.493768,0.943298],[-0.477509,0.179366],[-0.461249,-0.584566],[-0.451196,0.651502],[-0.434937,-0.11243],[-0.424884,-0.876362],[-0.408624,0.359706],[-0.392365,-0.404226],[-0.382312,0.831842],[-0.366053,0.0679097],[-0.33974,-0.696022],[-0.323481,0.540046],[-0.313428,-0.223886],[-0.297168,-0.987818],[-0.280909,0.24825],[-0.270856,-0.515682],[-0.254597,0.720386],[-0.228284,-0.0435462],[-0.212025,-0.807478],[-0.201972,0.42859],[-0.185713,-0.335342],[-0.169453,0.900726],[-0.1594,0.136794],[-0.143141,-0.627138],[-0.133088,0.60893],[-0.116828,-0.155002],[-0.100569,-0.918934],[-0.0905161,0.317134],[-0.0742567,-0.446798],[-0.0479443,0.78927],[-0.0316849,0.0253379],[-0.021632,-0.738594],[-0.00537252,0.497474],[0.0108869,-0.266458],[0.0209398,0.96961],[0.0371993,0.205678],[0.0635116,-0.558254],[0.079771,0.677814],[0.089824,-0.086118],[0.106083,-0.85005],[0.132396,0.386018],[0.148655,-0.377914],[0.158708,0.858154],[0.174968,0.0942221],[0.191227,-0.66971],[0.20128,0.566358],[0.217539,-0.197574],[0.243852,-0.961506],[0.260111,0.274562],[0.270164,-0.48937],[0.286423,0.746698],[0.302683,-0.0172338],[0.312736,-0.781166],[0.328995,0.454902],[0.339048,-0.30903],[0.355308,0.927038],[0.371567,0.163106],[0.38162,-0.600826],[0.397879,0.635242],[0.424192,-0.12869],[0.440451,-0.892622],[0.450504,0.343446],[0.466763,-0.420486],[0.483023,0.815582],[0.493076,0.0516503],[0.509335,-0.712282],[0.535648,0.523786],[0.551907,-0.240146],[0.56196,0.995922],[0.578219,0.23199],[0.604532,-0.531942],[0.620791,0.704126],[0.630844,-0.0598056],[0.647104,-0.823738],[0.663363,0.41233],[0.673416,-0.351602],[0.689675,0.884466],[0.715988,0.120534],[0.732247,-0.643398],[0.7423,0.59267],[0.758559,-0.171262],[0.774819,-0.935194],[0.784872,0.300874],[0.801131,-0.463058],[0.811184,0.77301],[0.827444,0.0090785],[0.843703,-0.754853],[0.853756,0.481215],[0.870015,-0.282717],[0.896328,0.953351],[0.912587,0.189419],[0.92264,-0.574513],[0.9389,0.661555],[0.955159,-0.102377],[0.965212,-0.866309],[0.981471,0.369759]]]],"size":{"depth":1,"height":1,"width":128}}')},function(n,a){n.exports=`\r
precision lowp float;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else \r
    #define varying in\r
#endif\r
\r
\r
\r
#if __VERSION__ == 100\r
    #define fragColor gl_FragColor\r
#else\r
    layout(location = 0) out vec4 fragColor;\r
#endif\r
\r
\r
uniform float u_weight;\r
uniform sampler2D u_accumulationTexture;\r
uniform sampler2D u_currentFrameTexture;\r
\r
varying vec2 v_uv;\r
\r
\r
void main(void)\r
{\r
    vec4 accumulationColor = texture(u_accumulationTexture, v_uv);\r
    vec4 currentFrameColor = texture(u_currentFrameTexture, v_uv);\r
    fragColor = mix(accumulationColor, currentFrameColor, u_weight);\r
}\r
`},function(n,a){n.exports=`\r
precision highp float;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else \r
    #define varying in\r
#endif\r
\r
\r
\r
#if __VERSION__ == 100\r
    #define fragColor gl_FragColor\r
#else\r
    layout(location = 0) out vec4 fragColor;\r
#endif\r
\r
\r
uniform sampler2D u_source;\r
\r
varying vec2 v_uv;\r
\r
\r
void main(void)\r
{\r
    fragColor = texture(u_source, v_uv);\r
}\r
`},function(n,a,i){var d,m=this&&this.__extends||(d=function(o,l){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)u.hasOwnProperty(f)&&(s[f]=u[f])})(o,l)},function(o,l){function s(){this.constructor=o}d(o,l),o.prototype=l===null?Object.create(l):(s.prototype=l.prototype,new s)});Object.defineProperty(a,"__esModule",{value:!0});var _=i(0),v=i(6),h=i(7),c=function(o){function l(){var s=o!==null&&o.apply(this,arguments)||this;return s._debug=l.Mode.Depth,s._near=0,s._far=0,s}return m(l,o),l.prototype.createProgram=function(){_.assert(this._program===void 0,"expected blit program to be undefined before its creation");var s=this._context.gl,u=new h.Shader(this._context,s.VERTEX_SHADER,"blit.vert (debug)");u.initialize(i(63));var f=new h.Shader(this._context,s.FRAGMENT_SHADER,"blit_debug.frag (debug)");return f.initialize(i(111)),this._program=new v.Program(this._context,"DebugProgram"),this._program.initialize([u,f]),this._ndcTriangle.initialized||this._ndcTriangle.initialize(),this._program.attribute("a_vertex",this._ndcTriangle.vertexLocation),this._program.link(),this._uSrcBounds=this._program.uniform("u_srcBounds"),this._uDstBounds=this._program.uniform("u_dstBounds"),this._uNearest=this._program.uniform("u_nearest"),this._uDebugMode=this._program.uniform("u_mode"),this._uLinearize=this._program.uniform("u_linearize"),this._program.bind(),s.uniform1i(this._program.uniform("u_source"),0),s.uniform1i(this._uDebugMode,this._debug),this._program.unbind(),this._program.valid},l.prototype.initialize=function(s){var u=o.prototype.initialize.call(this,s);return this.enforceProgramBlit=!0,u&&this.createProgram()},l.prototype.uninitialize=function(){o.prototype.uninitialize.call(this),this._uDebugMode=void 0,this._uLinearize=void 0},Object.defineProperty(l.prototype,"debug",{set:function(s){this.assertInitialized(),this._debug!==s&&(this._debug=s,this._program!==void 0&&this._program.valid&&(this._program.bind(),this._context.gl.uniform1i(this._uDebugMode,this._debug),this._program.unbind()))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"near",{set:function(s){this._near=s||0,this._program!==void 0&&this._program.valid&&(this._program.bind(),this._context.gl.uniform2f(this._uLinearize,this._near,this._far),this._program.unbind())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"far",{set:function(s){this._far=s||0,this._program!==void 0&&this._program.valid&&(this._program.bind(),this._context.gl.uniform2f(this._uLinearize,this._near,this._far),this._program.unbind())},enumerable:!0,configurable:!0}),l}(i(38).BlitPass);a.DebugPass=c,function(o){(function(l){l[l.None=0]="None",l[l.Depth=1]="Depth",l[l.DepthLinear=2]="DepthLinear",l[l.DepthPacked=3]="DepthPacked",l[l.DepthLinearPacked=4]="DepthLinearPacked"})(o.Mode||(o.Mode={}))}(c=a.DebugPass||(a.DebugPass={})),a.DebugPass=c},function(n,a){n.exports=`\r
precision highp float;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else \r
    #define varying in\r
#endif\r
\r
\r
\r
const float one255ths = 1.0 / 255.0;\r
\r
vec3 float24x1_to_uint8x3(const in float f) {\r
    vec3 uint8x3 = vec3(f, fract(f * 256.0), fract(f * 65536.0));\r
    return floor(uint8x3 * 256.0) * one255ths;\r
}\r
\r
vec4 float24x1_to_uint8x4(const in float f) {\r
    vec4 uint8x4 = vec4(f, fract(f * 256.0), fract(f * 65536.0), fract(f * 16777216.0));\r
    return floor(uint8x4 * 256.0) * one255ths;\r
}\r
\r
const vec3 premultUint8x3 = vec3(255.0 / 256.0, 255.0 / 65536.0, 255.0 / 16777216.0);\r
float uint8x3_to_float24x1(const in vec3 v) {\r
    return dot(v, premultUint8x3); // a1 * b1 + a2 * b2 + a3 * b3  ;)\r
}\r
\r
const vec4 premultUint8x4 = vec4(255.0 / 256.0, 255.0 / 65536.0, 255.0 / 16777216.0, 255.0 / 4294967296.0);\r
float uint8x4_to_float32x1(const in vec4 v) {\r
    return dot(v, premultUint8x4); // a1 * b1 + a2 * b2 + a3 * b3 + a4 * b4  ;)\r
}\r
\r
\r
float linearizeDepth(float zInNDC, float near, float far) {\r
    float zLinear = 2.0 * near;\r
    zLinear /= far + near - zInNDC * (far - near);\r
    return zLinear;\r
}\r
\r
\r
\r
#if __VERSION__ == 100\r
    #define fragColor gl_FragColor\r
#else\r
    layout(location = 0) out vec4 fragColor;\r
#endif\r
\r
\r
uniform sampler2D u_source;\r
\r
uniform int u_mode; /* Debug mode. */\r
uniform vec2 u_linearize; /* [ zNear, zFar ] */\r
\r
\r
varying vec2 v_uv;\r
\r
\r
void main(void)\r
{\r
    vec4 source = texture(u_source, v_uv);\r
\r
    /* u_mode == 0                 None */\r
\r
    if(u_mode == 1) {           /* Depth */\r
        source.rgb = vec3(source[0]);\r
\r
    } else if (u_mode == 2) {   /* DepthLinear */\r
        float zLinear = linearizeDepth(source[0], u_linearize[0], u_linearize[1]);\r
        source.rgb = vec3(zLinear);\r
\r
    } else if(u_mode == 3) {    /* DepthPacked */\r
        source.rgb = float24x1_to_uint8x3(source[0]);\r
\r
    } else if (u_mode == 4) {   /* DepthLinearPacked */\r
        float zLinear = linearizeDepth(source[0], u_linearize[0], u_linearize[1]);\r
        source.rgb = float24x1_to_uint8x3(zLinear);\r
    }\r
\r
    fragColor = source;\r
}\r
`},function(n,a,i){var d,m=this&&this.__extends||(d=function(y,b){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,x){E.__proto__=x}||function(E,x){for(var w in x)x.hasOwnProperty(w)&&(E[w]=x[w])})(y,b)},function(y,b){function E(){this.constructor=y}d(y,b),y.prototype=b===null?Object.create(b):(E.prototype=b.prototype,new E)}),_=this&&this.__decorate||function(y,b,E,x){var w,S=arguments.length,O=S<3?b:x===null?x=Object.getOwnPropertyDescriptor(b,E):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(y,b,E,x);else for(var A=y.length-1;A>=0;A--)(w=y[A])&&(O=(S<3?w(O):S>3?w(b,E,O):w(b,E))||O);return S>3&&O&&Object.defineProperty(b,E,O),O};Object.defineProperty(a,"__esModule",{value:!0});var v,h=i(0),c=i(2),o=i(12),l=i(6),s=i(7),u=i(4),f=i(51),g=function(y){function b(E){var x=y.call(this)||this;return x._skipCubeLod=!1,x._altered=!0,x._context=E,x._cubeMapProgram=new l.Program(E,"CubemapEnvironmentProgram"),x._equiMapProgram=new l.Program(E,"EquimapEnvironmentProgram"),x._polarMapProgram=new l.Program(E,"PolarmapEnvironmentProgram"),x._sphereMapProgram=new l.Program(E,"SpheremapEnvironmentProgram"),x._ndcTriangle=new o.NdcFillingTriangle(x._context,"EnvironmentNdcTriangle"),x}return m(b,y),b.prototype.initialize=function(){var E=this._context.gl;this._ndcTriangle.initialize();var x=new s.Shader(this._context,E.VERTEX_SHADER,"env-projections.vert");x.initialize(i(113));var w=new s.Shader(this._context,E.FRAGMENT_SHADER,"env-projections.frag");w.initialize(i(24),!1),w.replace("PROJECTION_TYPE","CUBE_MAP"),w.compile(),this._cubeMapProgram.initialize([x,w],!1),this._cubeMapProgram.attribute("a_vertex",this._ndcTriangle.vertexLocation),this._cubeMapProgram.link(),this._cubeMapProgram.bind(),E.uniform1i(this._cubeMapProgram.uniform("u_cubemap"),0),this._uSkipLod=this._cubeMapProgram.uniform("u_skipLod"),this._cubeMapProgram.unbind();var S=new s.Shader(this._context,E.FRAGMENT_SHADER,"env-projections.frag");S.initialize(i(24),!1),S.replace("PROJECTION_TYPE","EQUI_MAP"),S.compile(),this._equiMapProgram.initialize([x,S],!1),this._equiMapProgram.attribute("a_vertex",this._ndcTriangle.vertexLocation),this._equiMapProgram.link(),this._equiMapProgram.bind(),E.uniform1i(this._equiMapProgram.uniform("u_equirectmap"),0),this._equiMapProgram.unbind();var O=new s.Shader(this._context,E.FRAGMENT_SHADER,"env-projections.frag");O.initialize(i(24),!1),O.replace("PROJECTION_TYPE","SPHERE_MAP"),O.compile(),this._sphereMapProgram.initialize([x,O],!1),this._sphereMapProgram.attribute("a_vertex",this._ndcTriangle.vertexLocation),this._sphereMapProgram.link(),this._sphereMapProgram.bind(),E.uniform1i(this._sphereMapProgram.uniform("u_spheremap"),0),this._sphereMapProgram.unbind();var A=new s.Shader(this._context,E.FRAGMENT_SHADER,"env-projections.frag");return A.initialize(i(24),!1),A.replace("PROJECTION_TYPE","POLAR_MAP"),A.compile(),this._polarMapProgram.initialize([x,A],!1),this._polarMapProgram.attribute("a_vertex",this._ndcTriangle.vertexLocation),this._polarMapProgram.link(),this._polarMapProgram.bind(),E.uniform1iv(this._polarMapProgram.uniform("u_polarmap"),[0,1]),this._polarMapProgram.unbind(),!0},b.prototype.uninitialize=function(){this._cubeMapProgram.uninitialize(),this._equiMapProgram.uninitialize(),this._sphereMapProgram.uninitialize(),this._polarMapProgram.uninitialize()},b.prototype.update=function(){if(this._altered!==!1){var E=this._context.gl;this._cubeMapProgram.bind(),E.uniform1i(this._uSkipLod,this._skipCubeLod),this._altered=!1}},b.prototype.frame=function(){var E=this._context.gl;h.assert(this._camera!==void 0,"Camera is undefined in environment rendering pass."),h.assert(this._environmentTexture!==void 0,"Environment texture is undefined in environment rendering pass.");var x=this._cubeMapProgram;this._envTextureType===v.EquirectangularMap?(h.assert(this._environmentTexture instanceof u.Texture2D,"Input texture expected to be Texture2D for equirectangular mapping."),this._environmentTexture.bind(E.TEXTURE0),x=this._equiMapProgram):this._envTextureType===v.SphereMap?(h.assert(this._environmentTexture instanceof u.Texture2D,"Input texture expected to be Texture2D for sphere mapping."),this._environmentTexture.bind(E.TEXTURE0),x=this._sphereMapProgram):this._envTextureType===v.CubeMap?(h.assert(this._environmentTexture instanceof f.TextureCube,"Input texture expected to be a TextureCube for cube mapping."),this._environmentTexture.bind(E.TEXTURE0),x=this._cubeMapProgram):this._envTextureType===v.PolarMap&&(h.assert(this._environmentTexture2!==void 0,"Two input textures expected for polar mapping."),h.assert(this._environmentTexture instanceof u.Texture2D,"Input texture expected to be a Texture2D for polar mapping."),h.assert(this._environmentTexture2 instanceof u.Texture2D,"Input texture expected to be a Texture2D for polar mapping."),this._environmentTexture.bind(E.TEXTURE0),this._environmentTexture2.bind(E.TEXTURE1),x=this._polarMapProgram),x.bind(),E.uniformMatrix4fv(x.uniform("u_viewProjectionInverse"),!1,this._camera.viewProjectionInverse),this._ndcTriangle.bind(),this._ndcTriangle.draw(),x.unbind()},Object.defineProperty(b.prototype,"environmentTextureType",{set:function(E){this._envTextureType=E},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"environmentTexture",{set:function(E){this._environmentTexture=E},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"environmentTexture2",{set:function(E){this._environmentTexture2=E},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"camera",{set:function(E){this._camera=E},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"skipCubeLod",{set:function(E){this._skipCubeLod!==E&&(this._skipCubeLod=E,this._altered=!0)},enumerable:!0,configurable:!0}),_([c.Initializable.initialize()],b.prototype,"initialize",null),_([c.Initializable.uninitialize()],b.prototype,"uninitialize",null),b}(c.Initializable);a.EnvironmentRenderingPass=g,function(y){y[y.CubeMap=0]="CubeMap",y[y.EquirectangularMap=1]="EquirectangularMap",y[y.SphereMap=2]="SphereMap",y[y.PolarMap=3]="PolarMap"}(v=a.EnvironmentTextureType||(a.EnvironmentTextureType={}))},function(n,a){n.exports=`precision highp float;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else\r
    #define varying out\r
#endif\r
\r
\r
\r
#if __VERSION__ == 100\r
    attribute vec2 a_vertex;\r
#else\r
    in vec2 a_vertex;\r
#endif\r
\r
\r
uniform mat4 u_viewProjectionInverse;\r
\r
\r
varying vec2 v_uv;\r
varying vec4 v_ray;\r
\r
\r
void main(void)\r
{\r
    v_uv = a_vertex * 0.5 + 0.5;\r
    v_ray = u_viewProjectionInverse * vec4(a_vertex, 1.0, 1.0);\r
\r
    gl_Position = vec4(a_vertex.xy, 1.0 - 1e-6, 1.0);\r
}\r
`},function(n,a,i){var d,m=this&&this.__extends||(d=function(b,E){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var S in w)w.hasOwnProperty(S)&&(x[S]=w[S])})(b,E)},function(b,E){function x(){this.constructor=b}d(b,E),b.prototype=E===null?Object.create(E):(x.prototype=E.prototype,new x)}),_=this&&this.__decorate||function(b,E,x,w){var S,O=arguments.length,A=O<3?E:w===null?w=Object.getOwnPropertyDescriptor(E,x):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(b,E,x,w);else for(var L=b.length-1;L>=0;L--)(S=b[L])&&(A=(O<3?S(A):O>3?S(E,x,A):S(E,x))||A);return O>3&&A&&Object.defineProperty(E,x,A),A};Object.defineProperty(a,"__esModule",{value:!0});var v=i(1),h=i(0),c=i(3),o=i(17),l=i(2),s=i(12),u=i(6),f=i(7),g=i(4),y=function(b){function E(x){var w=b.call(this)||this;return w._cache=!1,w._depthAttachment=0,w._cachedDepths=new Map,w._cachedIDs=new Map,w._buffer=new Uint8Array(4),w._ndcTriangleShared=!1,w._context=x,w}return m(E,b),E.maxClearDepth=function(){return c.decode_float24x1_from_uint8x3(v.vec3.fromValues(255,255,255))},E.prototype.onFrame=function(){this._cachedDepths.clear(),this._cachedIDs.clear()},E.prototype.hash=function(x,w){return 65535*w+x},E.prototype.directReadDepthAt=function(x,w){h.assert(this._depthFBO!==void 0&&this._depthFBO.valid,"valid depth FBO expected for reading back depth");var S=this._depthFBO.texture(this._depthAttachment),O=this._context.gl,A=S.size;this._depthFBO.bind();var L=this._referenceSize===void 0?[1,1]:[A[0]/this._referenceSize[0],A[1]/this._referenceSize[1]];return(this._context.isWebGL2||this._context.supportsDrawBuffers)&&O.readBuffer(this._depthAttachment),O.readPixels(x*L[0],A[1]-w*L[1],1,1,O.RGBA,O.UNSIGNED_BYTE,this._buffer),this._buffer},E.prototype.renderThenReadDepthAt=function(x,w){h.assert(this._depthFBO!==void 0&&this._depthFBO.valid,"valid depth FBO expected for reading back depth");var S=this._depthFBO.texture(this._depthAttachment),O=this._context.gl,A=S.size,L=this._referenceSize===void 0?[1,1]:[A[0]/this._referenceSize[0],A[1]/this._referenceSize[1]];return O.viewport(0,0,1,1),this._program.bind(),O.uniform2f(this._uOffset,x*L[0]/A[0],(A[1]-w*L[1])/A[1]),O.uniform2f(this._uScale,1/A[0],1/A[1]),S.bind(O.TEXTURE0),this._framebuffer.bind(),this._ndcTriangle.bind(),this._ndcTriangle.draw(),this._ndcTriangle.unbind(),S.unbind(),(this._context.isWebGL2||this._context.supportsDrawBuffers)&&O.readBuffer&&O.readBuffer(O.COLOR_ATTACHMENT0),O.readPixels(0,0,1,1,O.RGBA,O.UNSIGNED_BYTE,this._buffer),this._framebuffer.unbind(),this._buffer},E.prototype.initialize=function(x,w){var S=this._context.gl,O=this._context.gl2facade;if(w)return this.readDepthAt=this.directReadDepthAt,!0;this.readDepthAt=this.renderThenReadDepthAt;var A=new f.Shader(this._context,S.VERTEX_SHADER,"ndcvertices.vert (readback)");A.initialize(i(62));var L=new f.Shader(this._context,S.FRAGMENT_SHADER,"readbackdepth.frag");return L.initialize(i(115)),this._program=new u.Program(this._context,"ReadbackDepthProgram"),this._program.initialize([A,L],!1),x===void 0?this._ndcTriangle=new s.NdcFillingTriangle(this._context):(this._ndcTriangle=x,this._ndcTriangleShared=!0),this._ndcTriangle.initialized||this._ndcTriangle.initialize(),this._program.attribute("a_vertex",this._ndcTriangle.vertexLocation),this._program.link(),this._uOffset=this._program.uniform("u_offset"),this._program.bind(),S.uniform1i(this._program.uniform("u_texture"),0),this._program.unbind(),this._texture=new g.Texture2D(this._context,"ReadbackRenderTexture"),this._texture.initialize(1,1,S.RGBA,S.RGBA,S.UNSIGNED_BYTE),this._framebuffer=new o.Framebuffer(this._context,"ReadbackFBO"),this._framebuffer.initialize([[O.COLOR_ATTACHMENT0,this._texture]]),!0},E.prototype.uninitialize=function(){this._context.isWebGL1&&!this._context.supportsDepthTexture||(!this._ndcTriangleShared&&this._ndcTriangle.initialized&&this._ndcTriangle.uninitialize(),this._program.uninitialize(),this._texture.uninitialize(),this._framebuffer.uninitialize())},E.prototype.depthAt=function(x,w){var S=this.hash(x,w);if(this._cache&&this._cachedDepths.has(S))return this._cachedDepths.get(S);var O=this.readDepthAt(x,w),A=O[0]===255&&O[1]===255&&O[2]===255?void 0:c.decode_float24x1_from_uint8x3(v.vec3.fromValues(O[0],O[1],O[2]));return this._cache&&this._cachedDepths.set(S,A),A},E.prototype.coordsAt=function(x,w,S,O){var A=this._depthFBO.texture(this._depthAttachment).size,L=S===void 0?this.depthAt(x,w):S;if(L!==void 0){var k=this._referenceSize===void 0?[1,1]:[A[0]/this._referenceSize[0],A[1]/this._referenceSize[1]],D=v.vec3.fromValues(x*k[0]*2/A[0]-1,1-w*k[1]*2/A[1],2*L-1);return v.vec3.transformMat4(v.vec3.create(),D,O)}},E.prototype.idAt=function(x,w){var S=this.hash(x,w);if(this._cache&&this._cachedIDs.has(S))return this._cachedIDs.get(S);var O=this._context.gl,A=this._idFBO.texture(this._idAttachment).size,L=this._referenceSize===void 0?[1,1]:[A[0]/this._referenceSize[0],A[1]/this._referenceSize[1]];this._idFBO.bind(),this._context.isWebGL2&&O.readBuffer(this._idAttachment),O.readPixels(x*L[0],A[1]-w*L[1],1,1,O.RGBA,O.UNSIGNED_BYTE,this._buffer);var k=c.decode_uint32_from_rgba8(v.vec4.fromValues(this._buffer[0],this._buffer[1],this._buffer[2],this._buffer[3]));return this._cache&&this._cachedIDs.set(S,k),k},E.prototype.frame=function(){this.onFrame()},Object.defineProperty(E.prototype,"cache",{set:function(x){this._cache=x},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"depthFBO",{set:function(x){this._depthFBO=x},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"depthAttachment",{set:function(x){this._depthAttachment=x},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"idFBO",{set:function(x){this._idFBO=x},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"idAttachment",{set:function(x){this._idAttachment=x},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"coordinateReferenceSize",{set:function(x){this._referenceSize=x},enumerable:!0,configurable:!0}),_([l.Initializable.assert_initialized()],E.prototype,"directReadDepthAt",null),_([l.Initializable.assert_initialized()],E.prototype,"renderThenReadDepthAt",null),_([l.Initializable.initialize()],E.prototype,"initialize",null),_([l.Initializable.uninitialize()],E.prototype,"uninitialize",null),_([l.Initializable.assert_initialized()],E.prototype,"depthAt",null),_([l.Initializable.assert_initialized()],E.prototype,"coordsAt",null),_([l.Initializable.assert_initialized()],E.prototype,"idAt",null),E}(l.Initializable);a.ReadbackPass=y},function(n,a){n.exports=`\r
precision highp float;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else \r
    #define varying in\r
#endif\r
\r
\r
const float one255ths = 1.0 / 255.0;\r
\r
vec3 float24x1_to_uint8x3(const in float f) {\r
    vec3 uint8x3 = vec3(f, fract(f * 256.0), fract(f * 65536.0));\r
    return floor(uint8x3 * 256.0) * one255ths;\r
}\r
\r
vec4 float24x1_to_uint8x4(const in float f) {\r
    vec4 uint8x4 = vec4(f, fract(f * 256.0), fract(f * 65536.0), fract(f * 16777216.0));\r
    return floor(uint8x4 * 256.0) * one255ths;\r
}\r
\r
const vec3 premultUint8x3 = vec3(255.0 / 256.0, 255.0 / 65536.0, 255.0 / 16777216.0);\r
float uint8x3_to_float24x1(const in vec3 v) {\r
    return dot(v, premultUint8x3); // a1 * b1 + a2 * b2 + a3 * b3  ;)\r
}\r
\r
const vec4 premultUint8x4 = vec4(255.0 / 256.0, 255.0 / 65536.0, 255.0 / 16777216.0, 255.0 / 4294967296.0);\r
float uint8x4_to_float32x1(const in vec4 v) {\r
    return dot(v, premultUint8x4); // a1 * b1 + a2 * b2 + a3 * b3 + a4 * b4  ;)\r
}\r
\r
\r
\r
#if __VERSION__ == 100\r
    #define fragDepth gl_FragColor\r
#else \r
    layout(location = 0) out vec4 fragDepth;\r
#endif\r
\r
\r
uniform sampler2D u_texture;\r
uniform vec2 u_offset;\r
uniform vec2 u_scale;\r
\r
varying vec2 v_uv;\r
\r
\r
\r
void main(void)\r
{\r
    vec2 uv = vec2(v_uv.x, 1.0 - v_uv.y) * u_scale + u_offset;\r
    float depth = texture(u_texture, uv).r;\r
\r
    fragDepth = vec4(float24x1_to_uint8x3(depth), 1.0);\r
}\r
`},function(n,a){n.exports=`\r
precision lowp float;\r
precision lowp int;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else\r
    #define varying out\r
#endif\r
\r
\r
#if __VERSION__ == 100\r
  attribute vec2 a_vertex;\r
#else\r
  layout(location = 0) in vec2 a_vertex;\r
#endif\r
\r
\r
varying vec2 v_texCoords;\r
\r
\r
void main()\r
{\r
    v_texCoords = a_vertex * 0.5 + 0.5;\r
    gl_Position = vec4(a_vertex, 0.0, 1.0);\r
}\r
`},function(n,a){n.exports=`\r
precision lowp float;\r
precision lowp int;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else \r
    #define varying in\r
#endif\r
\r
\r
#if __VERSION__ == 100\r
  #define fragColor gl_FragColor\r
#else\r
  layout(location = 0) out vec4 fragColor;\r
#endif\r
\r
\r
uniform float u_weights[32];\r
uniform vec2 u_delta;\r
\r
uniform sampler2D u_texture;\r
\r
varying vec2 v_texCoords;\r
\r
\r
void main()\r
{\r
    vec4 result = u_weights[0] * texture(u_texture, v_texCoords);\r
    for (int i = 1; i <= $KERNEL_HALF_SIZE; i++)\r
    {\r
        result += u_weights[i] * texture(u_texture, v_texCoords + float(i) * u_delta);\r
        result += u_weights[i] * texture(u_texture, v_texCoords - float(i) * u_delta);\r
    }\r
\r
    fragColor = result;\r
}\r
`},function(n,a,i){var d,m=this&&this.__extends||(d=function(g,y){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,E){b.__proto__=E}||function(b,E){for(var x in E)E.hasOwnProperty(x)&&(b[x]=E[x])})(g,y)},function(g,y){function b(){this.constructor=g}d(g,y),g.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}),_=this&&this.__decorate||function(g,y,b,E){var x,w=arguments.length,S=w<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,b):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(g,y,b,E);else for(var O=g.length-1;O>=0;O--)(x=g[O])&&(S=(w<3?x(S):w>3?x(y,b,S):x(y,b))||S);return w>3&&S&&Object.defineProperty(y,b,S),S};Object.defineProperty(a,"__esModule",{value:!0});var v=i(0),h=i(17),c=i(64),o=i(2),l=i(23),s=i(4),u=i(14),f=function(g){function y(b){var E=g.call(this)||this;return E._gaussFilterKernelSize=21,E._context=b,E}return m(y,g),Object.defineProperty(y.prototype,"shadowMapFBO",{get:function(){return this._shadowMapFBO},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"shadowMapTexture",{get:function(){return this.hasBlur?this._blurTexture:this._shadowMapTexture},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"hasBlur",{get:function(){return this._shadowType!==y.ShadowMappingType.HardLinear},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"blurSize",{get:function(){return this._gaussFilterKernelSize},set:function(b){b!==this._gaussFilterKernelSize&&(this._gaussFilter!==void 0&&(this._gaussFilter.kernelSize=b,this._gaussFilter.standardDeviation=b/6),this._gaussFilterKernelSize=b)},enumerable:!0,configurable:!0}),y.prototype.resize=function(b,E,x){E===void 0&&(E=!0),x===void 0&&(x=!0),v.assert(b[0]>0&&b[1]>0,"Size has to be > 0."),this._shadowMapSize=b,this._shadowMapFBO.resize(this._shadowMapSize[0],this._shadowMapSize[1],E,x)},y.prototype.resizeBlurTexture=function(b,E,x){E===void 0&&(E=!0),x===void 0&&(x=!0),v.assert(b[0]>0&&b[1]>0,"Size has to be > 0."),this._blurredShadowMapSize=b,this._intermediateBlurFBO.resize(this._blurredShadowMapSize[0],this._blurredShadowMapSize[1],E,x),this._blurFBO.resize(this._blurredShadowMapSize[0],this._blurredShadowMapSize[1],E,x)},y.prototype.initialize=function(b,E,x){v.assert(E[0]>0&&E[1]>0,"Size has to be > 0."),this._shadowType=b,this._shadowMapSize=E,this._blurredShadowMapSize=x!==void 0?x:this._shadowMapSize;var w=this._context.gl,S=this._context.gl2facade,O=w.RGBA;if(this._context.isWebGL2){var A=this._context.gl;switch(this._shadowType){case y.ShadowMappingType.HardLinear:case y.ShadowMappingType.HardExponential:O=A.RED;break;case y.ShadowMappingType.SoftLinear:O=A.RG;break;case y.ShadowMappingType.SoftExponential:O=A.RGBA;break;default:v.assert(!1,"Unexpected value for shadowType")}}var L=u.Wizard.queryInternalTextureFormat(this._context,O,u.Wizard.Precision.float),k=L[0],D=L[1];this._shadowType!==y.ShadowMappingType.HardLinear&&D!==w.FLOAT&&(v.log(v.LogLevel.Warning,"floating point textures are not supported, falling back to HardLinear"),this._shadowType=y.ShadowMappingType.HardLinear);var N=w.LINEAR;return D!==w.FLOAT||this._context.supportsTextureFloatLinear||(N=w.NEAREST),D!==S.HALF_FLOAT||this._context.supportsTextureHalfFloatLinear||(N=w.NEAREST),this._shadowMapTexture=new s.Texture2D(this._context),this._shadowMapTexture.initialize(this._shadowMapSize[0],this._shadowMapSize[1],k,O,w.FLOAT),this._shadowMapTexture.wrap(w.CLAMP_TO_EDGE,w.CLAMP_TO_EDGE),this._shadowMapTexture.filter(N,N),this._shadowMapRenderbuffer=new l.Renderbuffer(this._context),this._shadowMapRenderbuffer.initialize(this._shadowMapSize[0],this._shadowMapSize[1],w.DEPTH_COMPONENT16),this._shadowMapFBO=new h.Framebuffer(this._context),this._shadowMapFBO.initialize([[S.COLOR_ATTACHMENT0,this._shadowMapTexture],[w.DEPTH_ATTACHMENT,this._shadowMapRenderbuffer]]),this._shadowMapFBO.clearColor([1,1,1,1]),this._shadowMapFBO.clearDepth(1),this.hasBlur&&(this._gaussFilter=new c.GaussFilter(this._context),this._gaussFilter.kernelSize=this._gaussFilterKernelSize,this._gaussFilter.standardDeviation=this._gaussFilterKernelSize/6,this._gaussFilter.initialize(),this._intermediateBlurTexture=new s.Texture2D(this._context,"IntermediateBlurTexture"),this._intermediateBlurTexture.initialize(this._blurredShadowMapSize[0],this._blurredShadowMapSize[1],k,O,w.FLOAT),this._intermediateBlurTexture.wrap(w.CLAMP_TO_EDGE,w.CLAMP_TO_EDGE),this._intermediateBlurTexture.filter(N,N),this._intermediateBlurFBO=new h.Framebuffer(this._context,"IntermediateBlurFramebuffer"),this._intermediateBlurFBO.initialize([[S.COLOR_ATTACHMENT0,this._intermediateBlurTexture]]),this._intermediateBlurFBO.clearColor([1,1,1,1]),this._intermediateBlurFBO.clearDepth(1),this._blurTexture=new s.Texture2D(this._context,"BlurTexture"),this._blurTexture.initialize(this._blurredShadowMapSize[0],this._blurredShadowMapSize[1],k,O,w.FLOAT),this._blurTexture.wrap(w.CLAMP_TO_EDGE,w.CLAMP_TO_EDGE),this._blurTexture.filter(N,N),this._blurFBO=new h.Framebuffer(this._context,"BlurFramebuffer"),this._blurFBO.initialize([[S.COLOR_ATTACHMENT0,this._blurTexture]]),this._blurFBO.clearColor([1,1,1,1]),this._blurFBO.clearDepth(1)),!0},y.prototype.uninitialize=function(){this._shadowMapFBO.uninitialize(),this._shadowMapRenderbuffer.uninitialize(),this._shadowMapTexture.uninitialize(),this.hasBlur&&(this._intermediateBlurFBO.uninitialize(),this._intermediateBlurTexture.uninitialize(),this._blurFBO.uninitialize(),this._blurTexture.uninitialize(),this._gaussFilter.uninitialize())},y.prototype.frame=function(b){var E=this._context.gl;E.viewport(0,0,this._shadowMapSize[0],this._shadowMapSize[1]),E.enable(E.DEPTH_TEST),E.depthFunc(E.LEQUAL),this._shadowMapFBO.clear(E.COLOR_BUFFER_BIT|E.DEPTH_BUFFER_BIT,!0,!1),b(),E.disable(E.DEPTH_TEST),E.depthFunc(E.LESS),this.hasBlur&&(E.viewport(0,0,this._intermediateBlurFBO.width,this._intermediateBlurFBO.height),this._intermediateBlurFBO.clear(E.COLOR_BUFFER_BIT|E.DEPTH_BUFFER_BIT,!0,!1),this._gaussFilter.filter(this._shadowMapTexture,c.GaussFilter.Direction.Horizontal),E.viewport(0,0,this._blurFBO.width,this._blurFBO.height),this._blurFBO.clear(E.COLOR_BUFFER_BIT|E.DEPTH_BUFFER_BIT,!0,!1),this._gaussFilter.filter(this._intermediateBlurTexture,c.GaussFilter.Direction.Vertical))},_([o.Initializable.assert_initialized()],y.prototype,"resize",null),_([o.Initializable.assert_initialized()],y.prototype,"resizeBlurTexture",null),_([o.Initializable.initialize()],y.prototype,"initialize",null),_([o.Initializable.uninitialize()],y.prototype,"uninitialize",null),_([o.Initializable.assert_initialized()],y.prototype,"frame",null),y}(o.Initializable);a.ShadowPass=f,function(g){(function(y){y[y.HardLinear=0]="HardLinear",y[y.SoftLinear=1]="SoftLinear",y[y.HardExponential=2]="HardExponential",y[y.SoftExponential=3]="SoftExponential"})(g.ShadowMappingType||(g.ShadowMappingType={}))}(f=a.ShadowPass||(a.ShadowPass={})),a.ShadowPass=f},function(n,a,i){var d,m=this&&this.__extends||(d=function(c,o){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var u in s)s.hasOwnProperty(u)&&(l[u]=s[u])})(c,o)},function(c,o){function l(){this.constructor=c}d(c,o),c.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)});Object.defineProperty(a,"__esModule",{value:!0});var _=i(1),v=i(5),h=function(c){function o(l,s,u,f){u===void 0&&(u=!1),f===void 0&&(f=[1,1,1]);var g=c.call(this,l,s)||this;g._vertexLocation=0,g._extent=_.vec3.fromValues(1,1,1),g._uvCoordinates=!1,s=s!==void 0&&s!==""?s:g.constructor.name;var y=new v.Buffer(l,s+"VBO");g._buffers.push(y);var b=new v.Buffer(l,s+"IndicesVBO");return g._buffers.push(b),g._extent=_.vec3.clone(f),g._uvCoordinates=u,g}return m(o,c),o.prototype.bindBuffers=function(){this._uvCoordinates===!1?this._buffers[0].attribEnable(this._vertexLocation,3,this.context.gl.FLOAT,!1,0,0,!0,!1):(this._buffers[0].attribEnable(this._vertexLocation,3,this.context.gl.FLOAT,!1,20,0,!0,!1),this._buffers[0].attribEnable(this._uvCoordLocation,2,this.context.gl.FLOAT,!1,20,12,!1,!1)),this._buffers[1].bind()},o.prototype.unbindBuffers=function(){this._buffers[0].attribDisable(this._vertexLocation,!0,!0),this._uvCoordinates&&this._buffers[0].attribDisable(this._uvCoordLocation,!1,!0),this._buffers[1].unbind()},o.prototype.initialize=function(l,s){var u=this;l===void 0&&(l=0),s===void 0&&(s=1),this._vertexLocation=l,this._uvCoordLocation=s;var f=this.context.gl,g=c.prototype.initialize.call(this,[f.ARRAY_BUFFER,f.ELEMENT_ARRAY_BUFFER],[l,s]),y=this._uvCoordinates,b=y?o.VERTICES_UV:o.VERTICES;return b=b.map(function(E,x){return E*(y===!1?.5*u._extent[x%3]:x%5<3?.5*u._extent[x%5]:1)}),this._buffers[0].data(b,f.STATIC_DRAW),this._buffers[1].data(y?o.INDICES_UV:o.INDICES,f.STATIC_DRAW),this._count=y?o.INDICES_UV.length:o.INDICES.length,g},o.prototype.draw=function(){var l=this.context.gl;l.drawElements(l.TRIANGLE_STRIP,this._count,l.UNSIGNED_BYTE,0)},Object.defineProperty(o.prototype,"vertexLocation",{get:function(){return this._vertexLocation},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"uvCoordLocation",{get:function(){return this._uvCoordLocation},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"extent",{get:function(){return this._extent},enumerable:!0,configurable:!0}),o.VERTICES=new Float32Array([-1,-1,1,1,-1,1,-1,1,1,1,1,1,-1,-1,-1,1,-1,-1,-1,1,-1,1,1,-1]),o.INDICES=new Uint8Array([0,1,2,3,7,1,5,4,7,6,2,4,0,1]),o.VERTICES_UV=new Float32Array([-1,-1,1,0,0,1,-1,1,1,0,-1,1,1,0,1,1,1,1,1,1,-1,1,1,0,0,1,1,1,1,0,1,1,-1,1,1,1,1,1,0,1,1,-1,1,0,0,1,-1,-1,1,0,1,-1,1,1,1,-1,-1,-1,0,0,1,-1,-1,0,0,-1,-1,-1,1,0,1,1,-1,0,1,-1,1,-1,1,1,-1,1,-1,0,1,-1,1,1,1,1,-1,-1,1,1,0,-1,-1,1,0,1]),o.INDICES_UV=new Uint8Array([3,2,1,0,10,19,11,18,11,17,16,4,16,5,6,7,6,8,9,10,9,11,12,13,14,15]),o}(i(9).Geometry);a.CuboidGeometry=h},function(n,a,i){var d,m=this&&this.__extends||(d=function(l,s){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var g in f)f.hasOwnProperty(g)&&(u[g]=f[g])})(l,s)},function(l,s){function u(){this.constructor=l}d(l,s),l.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)});Object.defineProperty(a,"__esModule",{value:!0});var _=i(0),v=i(5),h=i(9),c=i(66),o=function(l){function s(u,f,g,y){g===void 0&&(g=1),y===void 0&&(y=!0);var b=l.call(this,u,f)||this;b._diameter=1,b._textured=!1,b._size=0,f=f!==void 0&&f!==""?f:b.constructor.name,b._diameter=g,b._textured=y;var E=new v.Buffer(u,f+"IndexBuffer");b._buffers.push(E);var x=new v.Buffer(u,f+"VBO");if(b._buffers.push(x),b._textured){var w=new v.Buffer(u,f+"UV");b._buffers.push(w)}return b}return m(s,l),s.prototype.bindBuffers=function(){this._buffers[0].bind(),this._buffers[1].attribEnable(this._vertexLocation,3,this.context.gl.FLOAT,!1,0,0,!0,!1),this._textured&&this._buffers[2].attribEnable(this._texCoordLocation,2,this.context.gl.FLOAT,!1,0,0,!0,!1)},s.prototype.unbindBuffers=function(){this._buffers[0].unbind(),this._buffers[1].attribDisable(this._vertexLocation,!0,!0),this._textured&&this._buffers[2].attribDisable(this._texCoordLocation,!0,!0)},s.prototype.initialize=function(u,f){u===void 0&&(u=0),f===void 0&&(f=1);var g=this.context.gl;this._vertexLocation=u,this._texCoordLocation=f;var y=l.prototype.initialize.call(this,[g.ELEMENT_ARRAY_BUFFER,g.ARRAY_BUFFER,g.ARRAY_BUFFER],[8,u,f]);_.assert(this._buffers[0]!==void 0&&this._buffers[0].object instanceof WebGLBuffer,"expected valid WebGLBuffer"),_.assert(this._buffers[1]!==void 0&&this._buffers[1].object instanceof WebGLBuffer,"expected valid WebGLBuffer"),this._textured&&_.assert(this._buffers[2]!==void 0&&this._buffers[2].object instanceof WebGLBuffer,"expected valid WebGLBuffer");var b=new c.Icosahedron;b.generateGeometry(3),this._textured&&b.generateTextureCoordinates();for(var E=b.faces,x=new Uint16Array(3*E.length),w=0,S=0,O=E;S<O.length;S++){var A=O[S];x[w+0]=A[0],x[w+1]=A[1],x[w+2]=A[2],w+=3}this._buffers[0].data(x,g.STATIC_DRAW),this._size=3*E.length;var L=b.vertices,k=new Float32Array(3*L.length);w=0;for(var D=0,N=L;D<N.length;D++){var $=N[D];k[w+0]=$[0]*this._diameter,k[w+1]=$[1]*this._diameter,k[w+2]=$[2]*this._diameter,w+=3}if(this._buffers[1].data(k,g.STATIC_DRAW),this._textured){var H=b.texcoords,q=new Float32Array(2*H.length);if(H&&H.length>0){w=0;for(var X=0,Y=H;X<Y.length;X++){var J=Y[X];q[w+0]=J[0],q[w+1]=J[1],w+=2}}this._buffers[2].data(q,g.STATIC_DRAW)}return y},s.prototype.draw=function(){var u=this.context.gl;u.drawElements(u.TRIANGLES,this._size,u.UNSIGNED_SHORT,0)},Object.defineProperty(s.prototype,"vertexLocation",{get:function(){return this._vertexLocation},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"texCoordLocation",{get:function(){return this._texCoordLocation},enumerable:!0,configurable:!0}),s}(h.Geometry);a.GeosphereGeometry=o},function(n,a,i){var d,m=this&&this.__extends||(d=function(c,o){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var u in s)s.hasOwnProperty(u)&&(l[u]=s[u])})(c,o)},function(c,o){function l(){this.constructor=c}d(c,o),c.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)});Object.defineProperty(a,"__esModule",{value:!0});var _=i(1),v=i(5),h=function(c){function o(l,s){var u=c.call(this,l,s)||this;u._vertexLocation=0,u._texCoordLocation=1,u._translation=_.vec3.fromValues(0,0,0),u._scale=_.vec3.fromValues(1,1,1),u._rotation=_.quat.create(),s=s!==void 0&&s!==""?s:u.constructor.name;var f=new v.Buffer(l,s+"VertexVBO"),g=new v.Buffer(l,s+"TexCoordVBO"),y=new v.Buffer(l,s+"IndexBuffer");return u._buffers.push(f),u._buffers.push(g),u._buffers.push(y),u}return m(o,c),o.prototype.bindBuffers=function(){this._buffers[0].attribEnable(this._vertexLocation,3,this.context.gl.FLOAT,!1,0,0,!0,!1),this._buffers[1].attribEnable(this._texCoordLocation,2,this.context.gl.FLOAT,!1,0,0,!0,!1),this._buffers[2].bind()},o.prototype.unbindBuffers=function(){this._buffers[0].attribDisable(this._vertexLocation,!0,!0),this._buffers[1].attribDisable(this._texCoordLocation,!0,!0),this._buffers[2].unbind()},o.prototype.initialize=function(l,s){l===void 0&&(l=0),s===void 0&&(s=1);var u=this.context.gl;this._vertexLocation=l,this._texCoordLocation=s;var f=c.prototype.initialize.call(this,[u.ARRAY_BUFFER,u.ARRAY_BUFFER,u.ELEMENT_ARRAY_BUFFER],[l,s,8]);return this._buffers[0].data(o.VERTICES,u.STATIC_DRAW),this._buffers[1].data(o.UV,u.STATIC_DRAW),this._buffers[2].data(o.INDICES,u.STATIC_DRAW),f},o.prototype.draw=function(){var l=this.context.gl;l.drawElements(l.TRIANGLE_STRIP,o.INDICES.length,l.UNSIGNED_BYTE,0)},Object.defineProperty(o.prototype,"translation",{set:function(l){this._translation=l},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"scale",{set:function(l){this._scale=_.vec3.fromValues(l[0],1,l[1])},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rotation",{set:function(l){this._rotation=l},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"transformation",{get:function(){var l=_.mat4.create();return _.mat4.fromRotationTranslationScale(l,this._rotation,this._translation,this._scale)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"vertexLocation",{get:function(){return this._vertexLocation},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"texCoordLocation",{get:function(){return this._texCoordLocation},enumerable:!0,configurable:!0}),o.VERTICES=new Float32Array([-1,0,-1,-1,0,1,1,0,-1,1,0,1]),o.UV=new Float32Array([-1,-1,-1,1,1,-1,1,1]),o.INDICES=new Uint8Array([0,1,2,3]),o}(i(9).Geometry);a.PlaneGeometry=h},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(0),m=i(5),_=i(9),v=i(25),h=i(4),c=function(){function o(l){this._texture2Ds=new Map,this._materials=new Map,this._geometries=new Map,this._buffers=new Map,this._context=l}return o.prototype.fetchTexture2D=function(l,s,u){if(u===void 0&&(u=!1),!this._texture2Ds.has(l)){var f=new h.Texture2D(this._context,l);return d.assert(f.identifier===l,"expected object identifier to be unchanged"),this._texture2Ds.set(l,f),f.fetch(s,u)}},o.prototype.add=function(l,s){var u=new Array;if(l instanceof h.Texture2D)for(var f=l,g=0,y=s;g<y.length;g++){var b=y[g];this._texture2Ds.has(b)||(this._texture2Ds.set(b,f),u.push(b))}if(l instanceof v.Material)for(var E=l,x=0,w=s;x<w.length;x++)b=w[x],this._materials.has(b)||(this._materials.set(b,E),u.push(b));if(l instanceof _.Geometry)for(var S=l,O=0,A=s;O<A.length;O++)b=A[O],this._geometries.has(b)||(this._geometries.set(b,S),u.push(b));if(l instanceof m.Buffer)for(var L=l,k=0,D=s;k<D.length;k++)b=D[k],this._buffers.has(b)||(this._buffers.set(b,L),u.push(b));return u},o.prototype.get=function(l){return this._texture2Ds.has(l)?this._texture2Ds.get(l):this._materials.has(l)?this._materials.get(l):this._geometries.has(l)?this._geometries.get(l):this._buffers.has(l)?this._buffers.get(l):void 0},o.prototype.uninitialize=function(){for(var l=0,s=Array.from(this._geometries.values());l<s.length;l++){var u=s[l];u.initialized&&u.uninitialize()}this._geometries.clear();for(var f=0,g=Array.from(this._texture2Ds.values());f<g.length;f++){var y=g[f];y.initialized&&y.uninitialize()}this._texture2Ds.clear();for(var b=0,E=Array.from(this._buffers.values());b<E.length;b++){var x=E[b];x.initialized&&x.uninitialize()}this._buffers.clear(),this._materials.clear()},o}();a.ResourceManager=c},function(n,a,i){var d,m=this&&this.__extends||(d=function(s,u){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var y in g)g.hasOwnProperty(y)&&(f[y]=g[y])})(s,u)},function(s,u){function f(){this.constructor=s}d(s,u),s.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}),_=this&&this.__decorate||function(s,u,f,g){var y,b=arguments.length,E=b<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,f):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(s,u,f,g);else for(var x=s.length-1;x>=0;x--)(y=s[x])&&(E=(b<3?y(E):b>3?y(u,f,E):y(u,f))||E);return b>3&&E&&Object.defineProperty(u,f,E),E};Object.defineProperty(a,"__esModule",{value:!0});var v=i(1),h=i(0),c=i(15),o=i(2),l=function(s){function u(f){var g=s.call(this)||this;return g._altered=Object.assign(new c.ChangeLookup,{any:!1,camera:!1}),g._context=f,g._opaqueGeometryMap=new Map,g._transparentGeometryMap=new Map,g}return m(u,s),u.prototype.preprocessScene=function(){h.assert(this._scene!==void 0,"Scene was undefined during preprocessing."),this._scene!==void 0&&(this._opaqueGeometryMap.clear(),this._transparentGeometryMap.clear(),this.preprocessNode(this._scene,v.mat4.create()))},u.prototype.preprocessNode=function(f,g){var y=v.mat4.clone(g),b=f.componentsOfType("TransformComponent");if(h.assert(b.length<=1,"SceneNode can not have more than one transform component"),b.length===1){var E=b[0];v.mat4.mul(y,y,E.transform)}for(var x=0,w=f.componentsOfType("GeometryComponent");x<w.length;x++){var S,O=w[x],A=O.material,L=O.geometry;A.isTransparent?((S=this._transparentGeometryMap.get(A))===void 0&&(S=[]),S.push([L,y]),this._transparentGeometryMap.set(A,S)):((S=this._opaqueGeometryMap.get(A))===void 0&&(S=[]),S.push([L,y]),this._opaqueGeometryMap.set(A,S))}if(f.nodes!==void 0)for(var k=0,D=f.nodes;k<D.length;k++){var N=D[k];this.preprocessNode(N,y)}},u.prototype.renderGeometryMap=function(f){for(var g=0,y=Array.from(f.keys());g<y.length;g++){var b=y[g];this.bindMaterial(b);for(var E=0,x=f.get(b);E<x.length;E++){var w=x[E],S=w[0],O=w[1];S.bind(),this.bindGeometry!==void 0&&this.bindGeometry(S),this.updateModelTransform(O),S.draw(),S.unbind()}}},u.prototype.initialize=function(){return!0},u.prototype.uninitialize=function(){},u.prototype.prepare=function(){},u.prototype.update=function(f){},u.prototype.frame=function(){if(h.assert(this._target&&this._target.valid,"valid target expected"),h.assert(this._program&&this._program.valid,"valid program expected"),h.assert(this.updateModelTransform!==void 0,"Model transform function needs to be initialized."),h.assert(this.updateViewProjectionTransform!==void 0,"View Projection transform function needs to be initialized."),h.assert(this.bindMaterial!==void 0,"Material binding function needs to be initialized."),this._scene!==void 0){var f=this._context.gl;f.enable(f.DEPTH_TEST);var g=this._target.size;f.viewport(0,0,g[0],g[1]);var y=this._clearColor;f.clearColor(y[0],y[1],y[2],y[3]),this._target.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT,!0,!1),this._program.bind(),this.bindUniforms!==void 0&&this.bindUniforms(),this.updateViewProjectionTransform(this._camera.viewProjection),this.drawCalls(),this._program.unbind(),f.disable(f.BLEND)}},u.prototype.drawCalls=function(f){f===void 0&&(f=!0),this._scene!==void 0&&(this.renderGeometryMap(this._opaqueGeometryMap),f&&this.renderGeometryMap(this._transparentGeometryMap))},Object.defineProperty(u.prototype,"target",{set:function(f){this.assertInitialized(),this._target=f},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"ndcOffset",{set:function(f){this.assertInitialized(),this._ndcOffset=f},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"camera",{set:function(f){this.assertInitialized(),this._camera!==f&&(this._camera=f,this._altered.alter("camera"))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"clearColor",{set:function(f){this._clearColor=f},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"program",{set:function(f){this._program=f},enumerable:!0,configurable:!0}),_([o.Initializable.initialize()],u.prototype,"initialize",null),_([o.Initializable.uninitialize()],u.prototype,"uninitialize",null),_([o.Initializable.assert_initialized()],u.prototype,"update",null),_([o.Initializable.assert_initialized()],u.prototype,"frame",null),_([o.Initializable.assert_initialized()],u.prototype,"drawCalls",null),u}(i(67).SceneRenderPass);a.ForwardSceneRenderPass=l},function(n,a,i){var d,m=this&&this.__extends||(d=function(v,h){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])})(v,h)},function(v,h){function c(){this.constructor=v}d(v,h),v.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)});Object.defineProperty(a,"__esModule",{value:!0});var _=function(v){function h(c){var o=v.call(this,"TransformComponent")||this;return o._transform=c,o}return m(h,v),Object.defineProperty(h.prototype,"transform",{get:function(){return this._transform},enumerable:!0,configurable:!0}),h}(i(39).SceneNodeComponent);a.TransformComponent=_},function(n,a,i){var d,m=this&&this.__extends||(d=function(v,h){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)o.hasOwnProperty(l)&&(c[l]=o[l])})(v,h)},function(v,h){function c(){this.constructor=v}d(v,h),v.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)});Object.defineProperty(a,"__esModule",{value:!0});var _=function(v){function h(){return v.call(this,"GeometryComponent")||this}return m(h,v),Object.defineProperty(h.prototype,"geometry",{get:function(){return this._geometry},set:function(c){this._geometry=c},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"material",{get:function(){return this._material},set:function(c){this._material=c},enumerable:!0,configurable:!0}),h}(i(39).SceneNodeComponent);a.GeometryComponent=_},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=function(){function m(_,v){this._context=_,this._name=v,this._isTransparent=!1}return Object.defineProperty(m.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isTransparent",{get:function(){return this._isTransparent},set:function(_){this._isTransparent=_},enumerable:!0,configurable:!0}),m}();a.Material=d},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(128);a.FontFace=d.FontFace;var m=i(18);a.GlyphVertices=m.GlyphVertices;var _=i(19);a.Label=_.Label;var v=i(71);a.LabelGeometry=v.LabelGeometry;var h=i(130);a.LabelRenderPass=h.LabelRenderPass;var c=i(72);a.Position2DLabel=c.Position2DLabel;var o=i(73);a.Position3DLabel=o.Position3DLabel;var l=i(74);a.Projected3DLabel=l.Projected3DLabel;var s=i(70);a.Text=s.Text;var u=i(26);a.Typesetter=u.Typesetter},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(0),m=i(4),_=i(14),v=i(34),h=i(129),c=i(69),o=function(){function l(s,u){this._ascent=0,this._descent=0,this._lineGap=0,this._glyphTextureExtent=[0,0],this._glyphTexturePadding=[0,0,0,0],this._glyphs=new Map,this._context=s;var f=s.gl;u=u!==void 0&&u!==""?u:this.constructor.name,this._glyphTexture=new m.Texture2D(s,u+"GlyphAtlas");var g=_.Wizard.queryInternalTextureFormat(s,f.RGBA,_.Wizard.Precision.byte);this._glyphTexture.initialize(1,1,g[0],f.RGBA,g[1]),this._glyphTexture.filter(f.LINEAR,f.LINEAR)}return l.fromFile=function(s,u,f,g){return f===void 0&&(f=!1),v.fetchAsync(s,"text").then(function(y){var b=new l(u,g);return h.FontFaceLoader.process(b,y,s,f).then(function(E){return E}).catch(function(E){return Promise.reject("processing font face data failed: "+E)})})},l.prototype.hasGlyph=function(s){return!!this._glyphs.get(s)},l.prototype.glyph=function(s){var u=this._glyphs.get(s);if(u)return u;var f=new c.Glyph;return f.index=s,f},l.prototype.addGlyph=function(s){d.assert(!this._glyphs.get(s.index),"expected glyph to not already exist"),this._glyphs.set(s.index,s)},l.prototype.arrayOfGlyphIndices=function(){return Array.from(this._glyphs.keys())},l.prototype.depictable=function(s){return this.glyph(s).depictable()},l.prototype.kerning=function(s,u){var f=this._glyphs.get(s);return f?f.kerning(u):0},l.prototype.setKerning=function(s,u,f){var g=this._glyphs.get(s);g&&this.hasGlyph(u)?g.setKerning(u,f):d.assert(!1,"expected glyph or glyph of subsequent index to exist,                 given "+s+" and "+u+" respectively")},Object.defineProperty(l.prototype,"size",{get:function(){return this._size},set:function(s){d.assert(s>0,"expected size to be greater than 0.0, given "+s),this._size=s},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"base",{get:function(){return this._base},set:function(s){d.assert(s>0,"expected base to be greater than 0.0, given "+s),this._base=s},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"ascent",{get:function(){return this._ascent},set:function(s){d.assert(s>0,"expected ascent to be greater than 0.0, given "+s),this._ascent=s},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"descent",{get:function(){return this._descent},set:function(s){this._descent=s},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"lineGap",{get:function(){return this._lineGap},set:function(s){this._lineGap=s},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"lineHeight",{get:function(){return this.size+this.lineGap},set:function(s){d.assert(this.size>0,"expected size to be greater than zero to derive line gap from line height"),this._lineGap=s-this.size},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"lineSpace",{get:function(){return this.lineHeight===0?this.lineHeight:this.size/this.lineHeight},set:function(s){this._lineGap=this.size*(s-1)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"glyphTextureExtent",{get:function(){return this._glyphTextureExtent},set:function(s){d.assert(s[0]>0,"expected extent.x to be greater than 0.0, given "+s[0]),d.assert(s[1]>0,"expected extent.y to be greater than 0.0, given "+s[1]),this._glyphTextureExtent=s},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"glyphTexturePadding",{get:function(){return this._glyphTexturePadding},set:function(s){d.assert(s[0]>=0,"expected padding[0] to be greater than 0.0, given "+s[0]),d.assert(s[1]>=0,"expected padding[1] to be greater than 0.0, given "+s[1]),d.assert(s[2]>=0,"expected padding[2] to be greater than 0.0, given "+s[2]),d.assert(s[3]>=0,"expected padding[3] to be greater than 0.0, given "+s[3]),this._glyphTexturePadding=s},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"glyphTexture",{get:function(){return this._glyphTexture},set:function(s){this._glyphTexture=s},enumerable:!0,configurable:!0}),l}();a.FontFace=o},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(0),m=i(69),_=function(){function v(){}return v.processInfo=function(h,c){var o=new Map;if(!this.readKeyValuePairs(h,["size","padding"],o))return!1;c.size=parseFloat(o.get("size"));var l=o.get("padding").split(",");if(l.length!==4)return d.log(d.LogLevel.Warning,"expected 4 values for padding, given "+l+" ("+l.length+")"),!1;var s=[parseFloat(l[0]),parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3])];return c.glyphTexturePadding=s,!0},v.processCommon=function(h,c){var o=new Map;return!!this.readKeyValuePairs(h,["lineHeight","base","scaleW","scaleH"],o)&&(c.base=parseFloat(o.get("base")),o.has("ascent")&&(c.ascent=parseFloat(o.get("ascent"))),o.has("descent")&&(c.descent=parseFloat(o.get("descent"))),c.lineHeight=parseFloat(o.get("lineHeight")),c.glyphTextureExtent=[parseFloat(o.get("scaleW")),parseFloat(o.get("scaleH"))],!0)},v.processPage=function(h,c,o){var l=new Map;if(this.readKeyValuePairs(h,["file"],l)){var s=d.dirname(o),u=l.get("file");return u=u.replace(/['"]+/g,""),c.glyphTexture.fetch(s+"/"+u,!1,!0).catch(function(){return Promise.reject("page '"+u+"' referenced in font file '"+o+"' was not found")})}},v.processChar=function(h,c){var o=new Map;if(!this.readKeyValuePairs(h,["id","x","y","width","height","xoffset","yoffset","xadvance"],o))return!1;var l=parseInt(o.get("id"),10);d.logIf(l<=0,d.LogLevel.Warning,"expected glyph index to be greater than 0, given "+l);var s=new m.Glyph;s.index=l;var u=[1/c.glyphTextureExtent[0],1/c.glyphTextureExtent[1]],f=[parseFloat(o.get("width")),parseFloat(o.get("height"))];return s.subTextureOrigin=[parseFloat(o.get("x"))*u[0],1-(parseFloat(o.get("y"))+f[1])*u[1]],s.extent=f,s.subTextureExtent[0]=f[0]*u[0],s.subTextureExtent[1]=f[1]*u[1],s.bearingFromFontBaseAndOffset(c.base,parseFloat(o.get("xoffset")),parseFloat(o.get("yoffset"))),s.advance=parseFloat(o.get("xadvance")),c.addGlyph(s),!0},v.processKerning=function(h,c){var o=new Map;if(!this.readKeyValuePairs(h,["first","second","amount"],o))return!1;var l=parseInt(o.get("first"),10);if(l<=0)return d.log(d.LogLevel.Warning,"expected kerning's first to be greater than 0, given "+l),!1;var s=parseInt(o.get("second"),10);if(s<=0)return d.log(d.LogLevel.Warning,"expected kerning's second to be greater than 0, given "+s),!1;var u=parseFloat(o.get("amount"));return c.setKerning(l,s,u),!0},v.readKeyValuePairs=function(h,c,o){for(var l,s,u=0,f=h;u<f.length;u++){var g=f[u].split("=");l=g[0],s=g[1],o.set(l,s)}var y=!0;return c.forEach(function(b){return y=y&&o.has(b)}),y||d.log(d.LogLevel.Warning,"Not all required keys are provided! Mandatory keys: "+c),y},v.findAscentAndDescentIfNoneProvided=function(h,c){if(!(h.ascent>0&&h.descent<0)){h.ascent>0&&(h.descent=h.ascent-c),h.descent<0&&(h.ascent=h.descent-c);for(var o=Number.MIN_VALUE,l=0,s=h.arrayOfGlyphIndices();l<s.length;l++){var u=s[l];h.glyph(u).extent[1]!==0&&(o=Math.max(h.glyph(u).bearing[1],o))}h.ascent=o,h.descent=h.ascent-c,d.log(d.LogLevel.Debug,"ascent not specified, derived "+h.ascent+" from maximum y-offset")}},v.process=function(h,c,o,l){l===void 0&&(l=!1);for(var s=c.split(`
`),u=new Array,f=!0,g=0,y=s;g<y.length;g++){var b=y[g].split(" "),E=b[0];switch(b=b.slice(1),E){case"info":f=this.processInfo(b,h);break;case"common":f=this.processCommon(b,h);break;case"page":if(l)break;var x=this.processPage(b,h,o);x!==void 0&&u.push(x);break;case"char":f=this.processChar(b,h);break;case"kerning":this.processKerning(b,h)}if(f===!1)break}return v.findAscentAndDescentIfNoneProvided(h,h.size),h.size<=0&&d.log(d.LogLevel.Warning,"expected fontFace.size to be greater than 0, given "+h.size),Promise.all(u).then(function(){return h})},v}();a.FontFaceLoader=_},function(n,a,i){var d,m=this&&this.__extends||(d=function(S,O){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,L){A.__proto__=L}||function(A,L){for(var k in L)L.hasOwnProperty(k)&&(A[k]=L[k])})(S,O)},function(S,O){function A(){this.constructor=S}d(S,O),S.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)}),_=this&&this.__decorate||function(S,O,A,L){var k,D=arguments.length,N=D<3?O:L===null?L=Object.getOwnPropertyDescriptor(O,A):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(S,O,A,L);else for(var $=S.length-1;$>=0;$--)(k=S[$])&&(N=(D<3?k(N):D>3?k(O,A,N):k(O,A))||N);return D>3&&N&&Object.defineProperty(O,A,N),N};Object.defineProperty(a,"__esModule",{value:!0});var v=i(1),h=i(0),c=i(15),o=i(2),l=i(6),s=i(7),u=i(4),f=i(18),g=i(19),y=i(71),b=i(72),E=i(73),x=i(74),w=function(S){function O(A){var L=S.call(this)||this;return L._altered=Object.assign(new c.ChangeLookup,{any:!1,camera:!1,geometry:!1,labels:!1,aaStepScale:!1,aaSampling:!1}),L._ndcOffset=[0,0],L._depthMask=!1,L._aaSampling=O.Sampling.Smooth1,L._labels=new Array,L._ranges=new Array,L._verticesPerLabel=new Array,L._context=A,L._depthFunc=A.gl.LESS,L._program=new l.Program(A,"LabelRenderProgram"),L._geometry=new y.LabelGeometry(L._context,"LabelGeometry"),L._aaStepScale=O.DEFAULT_AA_STEP_SCALE,L}return m(O,S),O.prototype.prepare=function(){for(var A=this._camera.viewport,L=0;L<this._labels.length;++L){var k=this._labels[L],D=void 0,N=this._altered.labels&&this._verticesPerLabel[L]===void 0;k instanceof b.Position2DLabel?(k.frameSize=A,D=k.typeset(N)):k instanceof x.Projected3DLabel?(k.camera=this._camera,D=k.typeset(N)):k instanceof E.Position3DLabel&&(D=k.typeset(N)),D===void 0?D=this._verticesPerLabel[L]:this._verticesPerLabel[L]=D;var $=L>0?this._ranges[L-1][1]:0,H=$+(D===void 0?0:D.length);this._ranges[L]=[$,H]}var q=f.GlyphVertices.concat(this._verticesPerLabel);this._geometry.update(q.origins,q.tangents,q.ups,q.texCoords)},O.prototype.initialize=function(){var A=this._context.gl;this._geometry.initialize(),this._context.enable(["OES_standard_derivatives"]);var L=new s.Shader(this._context,A.VERTEX_SHADER,"glyph.vert");L.initialize(i(131));var k=new s.Shader(this._context,A.FRAGMENT_SHADER,"glyph.frag");return k.initialize(i(132)),this._program.initialize([L,k],!1),this._program.attribute("a_vertex",this._geometry.vertexLocation),this._program.attribute("a_texCoord",this._geometry.texCoordLocation),this._program.attribute("a_origin",this._geometry.originLocation),this._program.attribute("a_tangent",this._geometry.tangentLocation),this._program.attribute("a_up",this._geometry.upLocation),this._program.link(),this._uViewProjection=this._program.uniform("u_viewProjection"),this._uNdcOffset=this._program.uniform("u_ndcOffset"),this._uColor=this._program.uniform("u_color"),this._uAAStepScale=this._program.uniform("u_aaStepScale"),this._uAASampling=this._program.uniform("u_aaSampling"),this._uTransform=this._program.uniform("u_transform"),this._uDynamic=this._program.uniform("u_dynamic"),this._program.bind(),A.uniform1i(this._program.uniform("u_glyphs"),0),A.uniform1f(this._uAAStepScale,this._aaStepScale),A.uniform1i(this._uAASampling,this._aaSampling),this._program.unbind(),!0},O.prototype.uninitialize=function(){this._geometry.uninitialize(),this._program.uninitialize(),this._uViewProjection=void 0,this._uNdcOffset=void 0,this._uColor=void 0,this._uAAStepScale=void 0,this._uAASampling=void 0,this._uTransform=void 0,this._uDynamic=void 0},O.prototype.update=function(A){A===void 0&&(A=!1);var L=this._context.gl;this._program.bind(),(A||this._altered.camera||this._camera.altered)&&L.uniformMatrix4fv(this._uViewProjection,!1,this._camera.viewProjection),(A||this._altered.aaStepScale)&&L.uniform1f(this._uAAStepScale,this._aaStepScale),(A||this._altered.aaSampling)&&L.uniform1i(this._uAASampling,this._aaSampling);for(var k=A||this._altered.labels||this._altered.camera||this._camera.altered,D=0;k===!1&&D<this._labels.length;)k=this._labels[D].altered,++D;k&&this.prepare(),this._altered.reset()},O.prototype.frame=function(){if(this._geometry.numGlyphs!==0&&this._labels.length!==0){h.assert(this._target&&this._target.valid,"valid target expected");var A=this._context.gl,L=this._target.size;A.viewport(0,0,L[0],L[1]),A.enable(A.DEPTH_TEST),A.depthFunc(this._depthFunc),this._depthMask===!1&&A.depthMask(this._depthMask),A.enable(A.BLEND),A.blendFuncSeparate(A.SRC_ALPHA,A.ONE_MINUS_SRC_ALPHA,A.ONE,A.ONE_MINUS_SRC_ALPHA),this._program.bind(),A.uniform2fv(this._uNdcOffset,this._ndcOffset),A.uniformMatrix4fv(this._uViewProjection,!1,this._camera.viewProjection),this._target.bind(),this._geometry.bind();for(var k,D,N=[0,0],$=v.mat4.create(),H=0;H<this._labels.length;++H){var q=this._labels[H];if(N[1]=this._ranges[H][1],!(N[0]===N[1]||H<this._labels.length-1&&!q.valid)){var X=H<this._labels.length-1?this._labels[H+1]:void 0,Y=X&&q.type===g.Label.Type.Static&&X.type===g.Label.Type.Static,J=X&&q.color.equals(X.color),ee=X&&q.fontFace===X.fontFace,te=X&&q.fontSizeUnit===X.fontSizeUnit;if(!X||!(this._ranges[H+1][0]===this._ranges[H+1][1]||Y&&J&&ee&&te)){var ne=q.type===g.Label.Type.Dynamic;switch(A.uniform1i(this._uDynamic,ne),ne&&A.uniformMatrix4fv(this._uTransform,!1,q.dynamicTransform),k!==void 0&&k.equals(q.color)||(A.uniform4fv(this._uColor,q.color.rgbaF32),k=q.color),D!==q.fontFace&&(q.fontFace.glyphTexture.bind(A.TEXTURE0),D=q.fontFace),q.fontSizeUnit){case g.Label.Unit.Pixel:A.uniformMatrix4fv(this._uViewProjection,!1,$);break;case g.Label.Unit.World:case g.Label.Unit.Mixed:default:A.uniformMatrix4fv(this._uViewProjection,!1,this._camera.viewProjection)}this._geometry.draw(N[0],N[1]-N[0]),N[0]=N[1]}}}A.bindTexture(A.TEXTURE_2D,u.Texture2D.DEFAULT_TEXTURE),this._depthMask===!1&&A.depthMask(!0),A.depthFunc(A.LESS),A.disable(A.DEPTH_TEST),A.disable(A.BLEND)}},O.prototype.unbind=function(){this._geometry.valid&&this._geometry.unbind(),this._program.valid&&this._program.unbind()},Object.defineProperty(O.prototype,"target",{set:function(A){this.assertInitialized(),this._target=A},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"ndcOffset",{set:function(A){this.assertInitialized(),this._ndcOffset=A},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"camera",{set:function(A){this.assertInitialized(),this._camera!==A&&(this._camera=A,this._altered.alter("camera"))},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"depthMask",{get:function(){return this._depthMask},set:function(A){this._depthMask=A},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"depthFunc",{get:function(){return this._depthFunc},set:function(A){this._depthFunc=A},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"labels",{get:function(){return this._labels},set:function(A){this._labels=A,this._ranges.length=this._labels.length,this._verticesPerLabel.length=this._labels.length,this._verticesPerLabel.fill(void 0),this._altered.alter("labels")},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"aaStepScale",{get:function(){return this._aaStepScale},set:function(A){this._aaStepScale!==A&&(this._aaStepScale=A,this._altered.alter("aaStepScale"))},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"aaSampling",{get:function(){return this._aaSampling},set:function(A){this._aaSampling!==A&&(this._aaSampling=A,this._altered.alter("aaSampling"))},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"geometry",{get:function(){return this._geometry},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"program",{get:function(){return this._program},enumerable:!0,configurable:!0}),O.DEFAULT_AA_STEP_SCALE=.6666,_([o.Initializable.initialize()],O.prototype,"initialize",null),_([o.Initializable.uninitialize()],O.prototype,"uninitialize",null),_([o.Initializable.assert_initialized()],O.prototype,"update",null),_([o.Initializable.assert_initialized()],O.prototype,"frame",null),_([o.Initializable.assert_initialized()],O.prototype,"unbind",null),O}(o.Initializable);a.LabelRenderPass=w,function(S){(function(O){O[O.None=0]="None",O[O.Smooth1=1]="Smooth1",O[O.Horizontal3=2]="Horizontal3",O[O.Vertical3=3]="Vertical3",O[O.Grid3x3=4]="Grid3x3",O[O.Grid4x4=5]="Grid4x4"})(S.Sampling||(S.Sampling={}))}(w=a.LabelRenderPass||(a.LabelRenderPass={})),a.LabelRenderPass=w},function(n,a){n.exports=`precision mediump float;\r
precision lowp int;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else\r
    #define varying out\r
#endif\r
\r
\r
\r
#if __VERSION__ == 100\r
\r
#extension GL_EXT_draw_buffers : enable\r
attribute vec2 a_vertex;\r
/* [ texture ll: vec2, ur: vec2 ] */\r
attribute vec4 a_texCoord;\r
attribute vec3 a_origin;\r
attribute vec3 a_tangent;\r
attribute vec3 a_up;\r
\r
#else\r
\r
in vec2 a_vertex;\r
/* [ texture ll: vec2, ur: vec2 ]*/\r
in vec4 a_texCoord;\r
in vec3 a_origin;\r
in vec3 a_tangent;\r
in vec3 a_up;\r
\r
#endif\r
\r
\r
uniform mat4 u_viewProjection;\r
uniform vec2 u_ndcOffset;\r
uniform mat4 u_transform;\r
uniform bool u_dynamic;\r
\r
varying vec2 v_uv;\r
\r
\r
void ndcOffset(inout vec4 vertex, in vec2 offset) {\r
    vertex.xy = offset * vec2(vertex.w) + vertex.xy;\r
}\r
\r
\r
\r
void main(void)\r
{\r
    /* TEXTURE COORDS */\r
\r
    /* flip y-coordinates */\r
    vec2 texExt = vec2(a_texCoord[2] - a_texCoord[0], a_texCoord[1] - a_texCoord[3]);\r
\r
    v_uv = a_vertex * texExt + vec2(a_texCoord[0], 1.0 - a_texCoord[1]);\r
\r
    /* POSITIONING */\r
    /* quad data as flat array: [0, 0,  0, 1,  1, 0,  1, 1] (a_vertex), which translates to ll, lr, ul, ur corners.\r
     * 2-------4\r
     * |  \\    |\r
     * |    \\  |\r
     * 1-------3\r
     * The current vertex is calculated based on the current quad corners and the tangent attributes.\r
     * The following lines are optimized for MAD optimization.\r
     */\r
    vec3 tangentDirection = a_origin + a_vertex.x * a_tangent;\r
    vec4 vertex = vec4(tangentDirection + a_vertex.y * a_up, 1.0);\r
\r
    if(u_dynamic) {\r
        vertex = u_transform * vertex;\r
    }\r
    vertex = u_viewProjection * vertex;\r
\r
    ndcOffset(vertex, u_ndcOffset);\r
    gl_Position = vertex;\r
}\r
`},function(n,a){n.exports=`precision mediump float;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else \r
    #define varying in\r
#endif\r
\r
\r
\r
#if __VERSION__ == 100\r
    #define fragColor gl_FragColor\r
\r
    #ifdef GL_OES_standard_derivatives\r
        #extension GL_OES_standard_derivatives : enable\r
        #define AASTEP\r
    #endif\r
\r
#else\r
    layout(location = 0) out vec4 fragColor;\r
\r
    #define AASTEP\r
\r
#endif\r
\r
\r
uniform sampler2D u_glyphs;\r
uniform vec4 u_color;\r
uniform float u_aaStepScale;\r
uniform int u_aaSampling;\r
\r
varying vec2 v_uv;\r
\r
const int channel = 0;\r
\r
\r
float aastep(float t, float value)\r
{\r
#ifdef AASTEP\r
    /* float afwidth = length(vec2(dFdx(value), dFdy(value))) * u_aaStepScale; */\r
    float afwidth = fwidth(value) * u_aaStepScale;\r
    /* The aa step scale is more of a hack to provide seemingly smoother (e.g., >= 1.0) or crisper (e.g., between 0.0\r
     * and 1.0) contours without specific sampling. It's just scaling the outcome of the derivatives.\r
     */\r
\r
    return smoothstep(t - afwidth, t + afwidth, value);\r
#else\r
    return step(t, value);\r
#endif\r
}\r
\r
float texStep(float t, vec2 uv)\r
{\r
    /*\r
     * This is a workaround for a known bug in Chrome software rendering (SwiftShader), for updates follow\r
     * https://issuetracker.google.com/u/1/issues/146041290\r
     * Workaround: Storing the result of the texture access into another variable that then is passed as parameter.\r
     */\r
    float distanceValue = texture(u_glyphs, uv)[channel];\r
    return step(t, distanceValue);\r
}\r
\r
float texSmooth(float t, vec2 uv)\r
{\r
    /*\r
     * This is a workaround for a known bug in Chrome software rendering (SwiftShader), for updates follow\r
     * https://issuetracker.google.com/u/1/issues/146041290\r
     * Workaround: Storing the result of the texture access into another variable that then is passed as parameter.\r
     */\r
    float distanceValue = texture(u_glyphs, uv)[channel];\r
    return aastep(t, distanceValue);\r
}\r
\r
#ifdef AASTEP\r
\r
float aastep3h(float t, vec2 uv)\r
{\r
    float x = dFdy(uv.x) * 1.0 / 3.0;\r
\r
    float v = texSmooth(t, uv + vec2( -x, 0.0))\r
            + texSmooth(t, uv + vec2(0.0, 0.0))\r
            + texSmooth(t, uv + vec2( +x, 0.0));\r
\r
    return v / 3.0;\r
}\r
\r
float aastep3v(float t, vec2 uv)\r
{\r
    float y = dFdy(uv.y) * 1.0 / 3.0;\r
\r
    float v = texSmooth(t, uv + vec2( 0.0,  -y))\r
            + texSmooth(t, uv + vec2( 0.0, 0.0))\r
            + texSmooth(t, uv + vec2( 0.0,  +y));\r
\r
    return v / 3.0;\r
}\r
\r
float aastep3x3(float t, vec2 uv)\r
{\r
    float x = dFdx(uv.x) * 1.0 / 3.0;\r
    float y = dFdy(uv.y) * 1.0 / 3.0;\r
\r
    float v = texSmooth(t, uv + vec2(  -x, -y)) + texSmooth(t, uv + vec2(  -x, 0.0)) + texSmooth(t, uv + vec2(  -x, +y))\r
            + texSmooth(t, uv + vec2( 0.0, -y)) + texSmooth(t, uv + vec2( 0.0, 0.0)) + texSmooth(t, uv + vec2( 0.0, +y))\r
            + texSmooth(t, uv + vec2(  +x, -y)) + texSmooth(t, uv + vec2(  +x, 0.0)) + texSmooth(t, uv + vec2(  +x, +y));\r
\r
    return v / 9.0;\r
}\r
\r
float aastep4x4(float t, vec2 uv)\r
{\r
    float x0 = dFdx(uv.x);\r
    float y0 = dFdx(uv.y);\r
    float x1 = x0 * 1.0 / 8.0;\r
    float y1 = y0 * 1.0 / 8.0;\r
    float x2 = x0 * 3.0 / 8.0;\r
    float y2 = y0 * 3.0 / 8.0;\r
\r
    float v = texSmooth(t, uv + vec2(-x2,-y2)) + texSmooth(t, uv + vec2(-x2,-y1))\r
            + texSmooth(t, uv + vec2(-x2,+y1)) + texSmooth(t, uv + vec2(-x2,+y2))\r
\r
            + texSmooth(t, uv + vec2(-x1,-y2)) + texSmooth(t, uv + vec2(-x1,-y1))\r
            + texSmooth(t, uv + vec2(-x1,+y1)) + texSmooth(t, uv + vec2(-x1,+y2))\r
\r
            + texSmooth(t, uv + vec2(+x1,-y2)) + texSmooth(t, uv + vec2(+x1,-y1))\r
            + texSmooth(t, uv + vec2(+x1,+y1)) + texSmooth(t, uv + vec2(+x1,+y2))\r
\r
            + texSmooth(t, uv + vec2(+x2,-y2)) + texSmooth(t, uv + vec2(+x2,-y1))\r
            + texSmooth(t, uv + vec2(+x2,+y1)) + texSmooth(t, uv + vec2(+x2,+y2));\r
\r
    return v / 16.0;\r
}\r
\r
// vec4 subpix(float r, float g, float b, vec4 fore, vec4 back)\r
// {\r
//     return vec4(mix(back.rgb, fore.rgb, vec3(r, g, b)), mix(back.a, fore.a, (r + b + g) / 3.0));\r
// }\r
\r
#endif\r
\r
void main(void)\r
{\r
    /** @todo mipmap access? */\r
\r
    float a = 0.0;\r
    /* When using multiframe sampling, might not be necessary and even tends to add more blur */\r
#ifdef AASTEP\r
    if(u_aaSampling == 0) {         // LabelRenderPass.Sampling.None\r
#endif\r
\r
        a = texStep(0.5, v_uv);\r
\r
#ifdef AASTEP\r
    } else if(u_aaSampling == 1) {  // LabelRenderPass.Sampling.Smooth\r
        a = texSmooth(0.5, v_uv);\r
    } else if(u_aaSampling == 2) {  // LabelRenderPass.Sampling.Horizontal3\r
        a = aastep3h(0.5, v_uv);\r
    } else if(u_aaSampling == 3) {  // LabelRenderPass.Sampling.Vertical3\r
        a = aastep3v(0.5, v_uv);\r
    } else if(u_aaSampling == 4) {  // LabelRenderPass.Sampling.Grid3x3\r
        a = aastep3x3(0.5, v_uv);\r
    } else if(u_aaSampling == 5) {  // LabelRenderPass.Sampling.Grid4x4\r
        a = aastep4x4(0.5, v_uv);\r
    }\r
#endif\r
\r
    /**\r
     * @todo - design decision: Don't discard fragments?, as we might need them for an id-buffer for\r
     * clicking-interaction. Furthermore, using if-statement and discard can slow down performance:\r
     * it's bad for IMR, TBR, TBDR and early-Z optimization\r
     * https://stackoverflow.com/questions/8509051/is-discard-bad-for-program-performance-in-opengl\r
     */\r
    if(a <= 0.0) {\r
        discard;\r
    }\r
    fragColor = vec4(u_color.rgb, u_color.a * a);\r
\r
    /* use when pre-multiplied color is required. */\r
    /* fragColor = vec4(u_color.rgb * u_color.a * a, u_color.a * a); */\r
}\r
`},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(134);a.GLTFLoader=d.GLTFLoader;var m=i(76);a.GLTFAlphaMode=m.GLTFAlphaMode,a.GLTFPbrMaterial=m.GLTFPbrMaterial,a.GLTFShaderFlags=m.GLTFShaderFlags;var _=i(77);a.GLTFPrimitive=_.GLTFPrimitive;var v=i(75);a.GLTFMesh=v.GLTFMesh},function(n,a,i){var d=this&&this.__awaiter||function(S,O,A,L){return new(A||(A=Promise))(function(k,D){function N(q){try{H(L.next(q))}catch(X){D(X)}}function $(q){try{H(L.throw(q))}catch(X){D(X)}}function H(q){var X;q.done?k(q.value):(X=q.value,X instanceof A?X:new A(function(Y){Y(X)})).then(N,$)}H((L=L.apply(S,O||[])).next())})},m=this&&this.__generator||function(S,O){var A,L,k,D,N={label:0,sent:function(){if(1&k[0])throw k[1];return k[1]},trys:[],ops:[]};return D={next:$(0),throw:$(1),return:$(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function $(H){return function(q){return function(X){if(A)throw new TypeError("Generator is already executing.");for(;N;)try{if(A=1,L&&(k=2&X[0]?L.return:X[0]?L.throw||((k=L.return)&&k.call(L),0):L.next)&&!(k=k.call(L,X[1])).done)return k;switch(L=0,k&&(X=[2&X[0],k.value]),X[0]){case 0:case 1:k=X;break;case 4:return N.label++,{value:X[1],done:!1};case 5:N.label++,L=X[1],X=[0];continue;case 7:X=N.ops.pop(),N.trys.pop();continue;default:if(!((k=(k=N.trys).length>0&&k[k.length-1])||X[0]!==6&&X[0]!==2)){N=0;continue}if(X[0]===3&&(!k||X[1]>k[0]&&X[1]<k[3])){N.label=X[1];break}if(X[0]===6&&N.label<k[1]){N.label=k[1],k=X;break}if(k&&N.label<k[2]){N.label=k[2],N.ops.push(X);break}k[2]&&N.ops.pop(),N.trys.pop();continue}X=O.call(S,N)}catch(Y){X=[6,Y],L=0}finally{A=k=0}if(5&X[0])throw X[1];return{value:X[0]?X[1]:void 0,done:!0}}([H,q])}}};Object.defineProperty(a,"__esModule",{value:!0});var _=i(1),v=i(0),h=i(135),c=i(136),o=i(75),l=i(76),s=i(77),u=i(5),f=i(65),g=i(6),y=i(25),b=i(68),E=i(7),x=i(4),w=function(){function S(O){this._context=O;var A=this._context.gl;this._resourceManager=new f.ResourceManager(this._context),this._scenes=new Array;var L=new E.Shader(this._context,A.VERTEX_SHADER,"gltf_default.vert");L.initialize(i(137));var k=new E.Shader(this._context,A.FRAGMENT_SHADER,"gltf_default.frag");k.initialize(i(138)),this._pbrProgram=new g.Program(this._context,"GLTFPbrProgram"),this._pbrProgram.initialize([L,k])}return S.prototype.loadTextures=function(O){return d(this,void 0,void 0,function(){var A,L,k,D,N,$,H,q,X,Y,J,ee,te,ne,ce,pe,me;return m(this,function(re){switch(re.label){case 0:if(A=this._context.gl,L=O.gltf.textures,k=O.gltf.images,D=O.gltf.samplers,!L||!k)return[2];N=0,$=0,H=L,re.label=1;case 1:return $<H.length?(q=H[$]).source===void 0?(v.log(v.LogLevel.Warning,"The GLTF model does not specify a texture source. Possibly it uses an unsupported extension."),N++,[3,3]):(X=q.source,Y=k[X],J=this._sceneName+"_texture_"+N,ee=Y.name===void 0?Y.uri:Y.name,[4,O.imageData.get(X)]):[3,4];case 2:te=re.sent(),v.isPowerOfTwo(te.width)&&v.isPowerOfTwo(te.height)||((ne=document.createElement("canvas")).width=v.upperPowerOfTwo(te.width),ne.height=v.upperPowerOfTwo(te.height),(ce=ne.getContext("2d"))===void 0&&v.log(v.LogLevel.Error,"Failed to create context while trying to resize non power of two texture"),ce.drawImage(te,0,0,ne.width,ne.height),te=ne),(pe=new x.Texture2D(this._context,ee)).initialize(te.width,te.height,A.RGBA8,A.RGBA,A.UNSIGNED_BYTE),pe.data(te),D===void 0||q.sampler===void 0?(pe.wrap(A.REPEAT,A.REPEAT),pe.filter(A.LINEAR,A.LINEAR)):(me=D[q.sampler],pe.wrap(me.wrapS||A.REPEAT,me.wrapT||A.REPEAT),pe.filter(me.magFilter||A.LINEAR,me.minFilter||A.LINEAR),me.minFilter!==A.NEAREST_MIPMAP_NEAREST&&me.minFilter!==A.LINEAR_MIPMAP_NEAREST&&me.minFilter!==A.NEAREST_MIPMAP_LINEAR&&me.minFilter!==A.LINEAR_MIPMAP_LINEAR||pe.generateMipMap()),this._resourceManager.add(pe,[ee,J]),N++,re.label=3;case 3:return $++,[3,1];case 4:return[2]}})})},S.prototype.getTexture=function(O){var A=this._sceneName+"_texture_"+O,L=this._resourceManager.get(A);if(L!==void 0)return L;v.log(v.LogLevel.Warning,"Texture with index "+O+" could not be located.")},S.prototype.loadMaterials=function(O){return d(this,void 0,void 0,function(){var A,L,k,D,N,$,H,q,X,Y,J,ee,te;return m(this,function(ne){if(this._pbrDefaultMaterial=new l.GLTFPbrMaterial(this._context,"DefaultMaterial"),this._resourceManager.add(this._pbrDefaultMaterial,[this._pbrDefaultMaterial.name]),!(A=O.gltf.materials))return[2];for(L=0,k=0,D=A;k<D.length;k++)N=D[k],$=this._sceneName+"_material_"+L,H=new l.GLTFPbrMaterial(this._context,N.name),(q=N.normalTexture)!==void 0&&(H.normalTexture=this.getTexture(q.index),H.normalTexCoord=q.texCoord||0,H.normalScale=q.scale||1),(X=N.occlusionTexture)!==void 0&&(H.occlusionTexture=this.getTexture(X.index),H.occlusionTexCoord=X.texCoord||0),(Y=N.emissiveTexture)!==void 0&&(H.emissiveTexture=this.getTexture(Y.index),H.emissiveTexCoord=Y.texCoord||0),H.emissiveFactor=_.vec3.fromValues(0,0,0),N.emissiveFactor!==void 0&&(H.emissiveFactor=_.vec3.fromValues.apply(void 0,N.emissiveFactor)),H.alphaMode=l.GLTFAlphaMode.OPAQUE,N.alphaMode==="MASK"?(H.alphaMode=l.GLTFAlphaMode.MASK,N.alphaCutoff===void 0?H.alphaCutoff=.5:H.alphaCutoff=N.alphaCutoff):N.alphaMode==="BLEND"&&(H.alphaMode=l.GLTFAlphaMode.BLEND,H.isTransparent=!0),H.isDoubleSided=N.doubleSided||!1,(J=N.pbrMetallicRoughness)===void 0&&v.log(v.LogLevel.Warning,"Model contains a material without PBR information"),(ee=J.baseColorTexture)!==void 0&&(H.baseColorTexture=this.getTexture(ee.index),H.baseColorTexCoord=ee.texCoord||0),(te=J.metallicRoughnessTexture)!==void 0&&(H.metallicRoughnessTexture=this.getTexture(te.index),H.metallicRoughnessTexCoord=te.texCoord||0),H.baseColorFactor=_.vec4.fromValues(1,1,1,1),J.baseColorFactor!==void 0&&(H.baseColorFactor=_.vec4.fromValues.apply(void 0,J.baseColorFactor)),H.metallicFactor=1,J.metallicFactor!==void 0&&(H.metallicFactor=J.metallicFactor),H.roughnessFactor=1,J.roughnessFactor!==void 0&&(H.roughnessFactor=J.roughnessFactor),this._resourceManager.add(H,[N.name,$]),L++;return[2]})})},S.prototype.inferBufferUsage=function(O,A){var L=this._context.gl,k=O.gltf.meshes,D=O.gltf.accessors;if(k===void 0||D===void 0)return v.log(v.LogLevel.Error,"Asset does not include any meshes or accessors"),L.ARRAY_BUFFER;for(var N=0,$=k;N<$.length;N++)for(var H=0,q=$[N].primitives;H<q.length;H++){var X=q[H].indices;if(X!==void 0){var Y=D[X].bufferView;if(Y!==void 0&&Y===A)return L.ELEMENT_ARRAY_BUFFER}}return L.ARRAY_BUFFER},S.prototype.loadBuffers=function(O){return d(this,void 0,void 0,function(){var A,L,k,D,N,$,H,q,X,Y,J,ee,te,ne,ce,pe,me;return m(this,function(re){switch(re.label){case 0:if(A=this._context.gl,L=O.gltf.bufferViews,k=O.gltf.accessors,!L)return v.log(v.LogLevel.Warning,"The asset does not include any buffer view information."),[2];if(!k)return v.log(v.LogLevel.Warning,"The asset does not include any accessor information."),[2];D=0,N=0,$=L,re.label=1;case 1:return N<$.length?(H=$[N],ce=this._sceneName+"_bufferView_"+D,[4,O.bufferViewData(D)]):[3,4];case 2:me=re.sent(),(q=H.target)===void 0&&(q=this.inferBufferUsage(O,D)),(pe=new u.Buffer(this._context,ce)).initialize(q),pe.data(me,A.STATIC_DRAW),this._resourceManager.add(pe,[ce]),D++,re.label=3;case 3:return N++,[3,1];case 4:X=0,Y=0,J=k,re.label=5;case 5:return Y<J.length?(ee=J[Y],te=ee.bufferView,ne=ee.sparse,te!==void 0&&ne===void 0?[3,7]:(ce=this._sceneName+"_accessor_"+X,pe=new u.Buffer(this._context,ce),[4,O.accessorData(X)])):[3,9];case 6:me=re.sent(),pe.initialize(A.ARRAY_BUFFER),pe.data(me,A.STATIC_DRAW),this._resourceManager.add(pe,[ce]),re.label=7;case 7:X++,re.label=8;case 8:return Y++,[3,5];case 9:return[2]}})})},S.prototype.loadMeshes=function(O){return d(this,void 0,void 0,function(){var A,L,k,D,N,$,H,q,X,Y,J;return m(this,function(ee){switch(ee.label){case 0:if(A=new Array,(L=O.gltf.meshes)===void 0)return v.log(v.LogLevel.Warning,"The asset does not contain any mesh information"),[2,A];k=0,D=0,N=L,ee.label=1;case 1:if(!(D<N.length))return[3,7];$=N[D],H=new o.GLTFMesh,q=0,X=$.primitives,ee.label=2;case 2:return q<X.length?(Y=X[q],[4,this.loadPrimitive(O,Y,k)]):[3,5];case 3:(J=ee.sent())!==void 0&&H.addPrimitive(J),k++,ee.label=4;case 4:return q++,[3,2];case 5:A.push(H),ee.label=6;case 6:return D++,[3,1];case 7:return[2,A]}})})},S.prototype.loadPrimitive=function(O,A,L){return d(this,void 0,void 0,function(){var k,D,N,$,H,q,X,Y,J,ee,te,ne,ce,pe,me,re,ye,we,de,Se,xe,Oe,he,Ae,Le;return m(this,function(Ee){if(k=this._context.gl,D=O.gltf.accessors,N=O.gltf.bufferViews,D===void 0)return v.log(v.LogLevel.Error,"GLTF asset does not have any accessors."),[2];if(N===void 0)return v.log(v.LogLevel.Error,"GLTF asset does not have any buffer views."),[2];for(ne in $=A.mode,H=this._sceneName+"_primitive_"+L,$||($=4),q=c.GLTFHelper.modeToEnum(k,$),X=new Array,Y=this._pbrDefaultMaterial,A.material!==void 0&&(J=this._sceneName+"_material_"+A.material,(ee=this._resourceManager.get(J))!==void 0?Y=ee:v.log(v.LogLevel.Warning,"Material "+J+" could not be found.")),te=0,A.attributes)ce=c.GLTFHelper.nameToAttributeIndex(ne),ne==="NORMAL"&&(te|=l.GLTFShaderFlags.HAS_NORMALS),ne==="TANGENT"&&(te|=l.GLTFShaderFlags.HAS_TANGENTS),ne==="COLOR_0"&&(te|=l.GLTFShaderFlags.HAS_COLORS),ne!=="TEXCOORD_0"&&ne!=="TEXCOORD_1"&&ne!=="TEXCOORD_2"||(te|=l.GLTFShaderFlags.HAS_UV),pe=A.attributes[ne],xe=D[pe],Oe=xe.bufferView,me=xe.sparse,Ae=void 0,re=0,Oe===void 0||me!==void 0?(ye=this._sceneName+"_accessor_"+pe,Ae=this._resourceManager.get(ye)):(we=N[Oe],he=this._sceneName+"_bufferView_"+Oe,Ae=this._resourceManager.get(he),re=we.byteStride||0),(de=new s.VertexBinding).buffer=Ae,de.attributeIndex=ce,de.numVertices=xe.count,de.normalized=xe.normalized||!1,de.size=h.GLTF_ELEMENTS_PER_TYPE[xe.type],de.offset=xe.byteOffset||0,de.stride=re,de.type=xe.componentType,X.push(de);return A.indices!==void 0&&(xe=D[A.indices],!(Oe=xe.bufferView)===void 0&&v.log(v.LogLevel.Error,"Accessor does not reference a BufferView."),he=this._sceneName+"_bufferView_"+Oe,Ae=this._resourceManager.get(he),(Se=new s.IndexBinding).buffer=Ae,Se.numIndices=xe.count,Se.offset=xe.byteOffset||0,Se.type=xe.componentType),(Le=new s.GLTFPrimitive(this._context,X,Se,q,Y,te)).initialize(),this._resourceManager.add(Le,[H]),[2,Le]})})},S.prototype.generateScenes=function(O,A){return d(this,void 0,void 0,function(){var L,k,D,N,$,H,q,X,Y,J,ee,te,ne,ce,pe,me,re,ye,we,de,Se,xe,Oe,he,Ae,Le,Ee,Ce,Ie,je,Me,Ye,De,He;return m(this,function(tt){if(L=O.gltf.nodes,k=O.gltf.scenes,!L||!k)return v.log(v.LogLevel.Warning,"The asset does not contain any nodes or scene information."),[2];for(D=new Map,N=0,$=0,H=L;$<H.length;$++){if(De=H[$],q=De.name||"node_"+N,Ie=new b.SceneNode(q),D.set(N,Ie),De.matrix?(ee=_.mat4.fromValues.apply(void 0,De.matrix),te=new y.TransformComponent(ee),Ie.addComponent(te)):(De.translation||De.rotation||De.scale)&&(X=_.quat.create(),De.rotation&&(X=_.quat.fromValues.apply(void 0,De.rotation)),Y=_.vec3.create(),De.translation&&(Y=_.vec3.fromValues.apply(void 0,De.translation)),J=_.vec3.fromValues(1,1,1),De.scale&&(J=_.vec3.fromValues.apply(void 0,De.scale)),ee=_.mat4.fromRotationTranslationScale(_.mat4.create(),X,Y,J),te=new y.TransformComponent(ee),Ie.addComponent(te)),De.mesh!==void 0)for(ne=A[De.mesh],ce=0,pe=ne.primitives;ce<pe.length;ce++)me=pe[ce],(re=new y.GeometryComponent).material=me.material,re.geometry=me,Ie.addComponent(re);(De.skin||De.weights)&&v.log(v.LogLevel.Info,"Imported GLTF assets uses skins, which are not supported yet."),N++}for(N=0,ye=0,we=L;ye<we.length;ye++){if(De=we[ye],Ie=D.get(N),v.assert(Ie!==void 0,"Scene node could not be found."),De.children)for(de=0,Se=De.children;de<Se.length;de++)xe=Se[de],(Oe=D.get(xe))||v.log(v.LogLevel.Error,"Model references a node that does not exist."),Ie.addNode(Oe);N++}for(he=0,Ae=0,Le=k;Ae<Le.length;Ae++){if(Ee=Le[Ae],Ce=Ee.name||"scene_"+he,Ie=new b.SceneNode(Ce),Ee.nodes)for(je=0,Me=Ee.nodes;je<Me.length;je++)Ye=Me[je],(De=D.get(Ye))||v.log(v.LogLevel.Error,"Scene references a node that does not exist."),Ie.addNode(De);else v.log(v.LogLevel.Warning,"Scene "+Ce+" does not contain any nodes.");this._scenes.push(Ie),he++}return(He=O.gltf.scene)!==void 0&&(this._defaultScene=this._scenes[He]),[2]})})},S.prototype.loadAsset=function(O){return d(this,void 0,void 0,function(){var A,L,k=this;return m(this,function(D){switch(D.label){case 0:return[4,new h.GltfLoader().load(O)];case 1:return A=D.sent(),L=A.gltf,this._sceneName="scene",L.scenes&&L.scene&&L.scenes[L.scene].name&&(this._sceneName=L.scenes[L.scene].name),[4,this.loadTextures(A).then(function(){return k.loadMaterials(A)}).then(function(){return k.loadBuffers(A)}).then(function(){return k.loadMeshes(A)}).then(function(N){return k.generateScenes(A,N)})];case 2:return D.sent(),[2]}})})},S.prototype.uninitialize=function(){this._scenes=[],this._defaultScene=void 0,this._resourceManager.uninitialize()},Object.defineProperty(S.prototype,"pbrProgram",{get:function(){return this._pbrProgram},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"scenes",{get:function(){return this._scenes},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"defaultScene",{get:function(){return this._defaultScene!==void 0?this._defaultScene:this._scenes!==void 0&&this._scenes.length>0?this._scenes[0]:(v.log(v.LogLevel.Warning,"Default scene was requested, but none is available."),new b.SceneNode("EmptyScene"))},enumerable:!0,configurable:!0}),S}();a.GLTFLoader=w},function(n,a){n.exports=function(i){var d={};function m(_){if(d[_])return d[_].exports;var v=d[_]={i:_,l:!1,exports:{}};return i[_].call(v.exports,v,v.exports,m),v.l=!0,v.exports}return m.m=i,m.c=d,m.d=function(_,v,h){m.o(_,v)||Object.defineProperty(_,v,{enumerable:!0,get:h})},m.r=function(_){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},m.t=function(_,v){if(1&v&&(_=m(_)),8&v||4&v&&typeof _=="object"&&_&&_.__esModule)return _;var h=Object.create(null);if(m.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:_}),2&v&&typeof _!="string")for(var c in _)m.d(h,c,function(o){return _[o]}.bind(null,c));return h},m.n=function(_){var v=_&&_.__esModule?function(){return _.default}:function(){return _};return m.d(v,"a",v),v},m.o=function(_,v){return Object.prototype.hasOwnProperty.call(_,v)},m.p="",m(m.s=7)}([function(i,d,m){Object.defineProperty(d,"__esModule",{value:!0}),d.LoadingManager=class{constructor(){this.urlModifier=void 0,this.onStart=void 0,this.onProgress=void 0,this.onLoad=void 0,this.onError=void 0,this.isLoading=!1,this.itemsLoaded=0,this.itemsTotal=0}itemStart(_){this.itemsTotal++,!this.isLoading&&this.onStart&&this.onStart(_,this.itemsLoaded,this.itemsTotal),this.isLoading=!0}itemEnd(_){this.itemsLoaded++,this.onProgress&&this.onProgress(_,this.itemsLoaded,this.itemsTotal),this.itemsLoaded===this.itemsTotal&&(this.isLoading=!1,this.onLoad&&this.onLoad())}itemError(_){this.onError&&this.onError(_)}resolveURL(_){return this.urlModifier?this.urlModifier(_):_}}},function(i,d,m){var _=this&&this.__awaiter||function(s,u,f,g){return new(f||(f=Promise))(function(y,b){function E(S){try{w(g.next(S))}catch(O){b(O)}}function x(S){try{w(g.throw(S))}catch(O){b(O)}}function w(S){S.done?y(S.value):new f(function(O){O(S.value)}).then(E,x)}w((g=g.apply(s,u||[])).next())})};Object.defineProperty(d,"__esModule",{value:!0});const v=m(3),h=m(0);d.GLTF_COMPONENT_TYPE_ARRAYS={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},d.GLTF_ELEMENTS_PER_TYPE={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},d.GltfAsset=class{constructor(s,u,f,g=new h.LoadingManager){this.gltf=s,this.glbData=f,this.bufferData=new c(this,u,g),this.imageData=new o(this,u,g)}bufferViewData(s){return _(this,void 0,void 0,function*(){if(!this.gltf.bufferViews)throw new Error("No buffer views found.");const u=this.gltf.bufferViews[s],f=yield this.bufferData.get(u.buffer),g=u.byteLength||0,y=u.byteOffset||0,b=f.buffer,E=f.byteOffset;return new Uint8Array(b,E+y,g)})}accessorData(s){return _(this,void 0,void 0,function*(){if(!this.gltf.accessors)throw new Error("No accessors views found.");const u=this.gltf.accessors[s],f=d.GLTF_ELEMENTS_PER_TYPE[u.type];let g;if(u.bufferView!==void 0)g=yield this.bufferViewData(u.bufferView);else{const y=d.GLTF_COMPONENT_TYPE_ARRAYS[u.componentType].BYTES_PER_ELEMENT*f*u.count;g=new Uint8Array(y)}if(u.sparse){const{count:y,indices:b,values:E}=u.sparse;let x=d.GLTF_COMPONENT_TYPE_ARRAYS[b.componentType],w=yield this.bufferViewData(b.bufferView);const S=new x(w.buffer,w.byteOffset+(b.byteOffset||0),y);x=d.GLTF_COMPONENT_TYPE_ARRAYS[u.componentType],w=yield this.bufferViewData(E.bufferView);const O=new x((yield this.bufferViewData(E.bufferView)).buffer,w.byteOffset+(E.byteOffset||0),y*f);u.bufferView&&(g=new Uint8Array(g));const A=new d.GLTF_COMPONENT_TYPE_ARRAYS[u.componentType](g.buffer);for(let L=0;L<y;L++)for(let k=0;k<f;k++)A[f*S[L]+k]=O[f*L+k]}return g})}preFetchAll(){return _(this,void 0,void 0,function*(){return Promise.all([this.bufferData.preFetchAll(),this.imageData.preFetchAll()])})}};class c{constructor(u,f,g){this.bufferCache=[],this.asset=u,this.baseUri=f,this.manager=g,this.loader=new v.FileLoader(g),this.loader.responseType="arraybuffer"}get(u){return _(this,void 0,void 0,function*(){if(this.bufferCache[u]!==void 0)return this.bufferCache[u];const f=this.asset.gltf;if(!f.buffers)throw new Error("No buffers found.");const g=f.buffers[u];if(g.uri===void 0){if(u!==0)throw new Error("GLB container is required to be the first buffer");if(this.asset.glbData===void 0)throw new Error("invalid gltf: buffer has no uri nor is there a GLB buffer");return this.asset.glbData.binaryChunk}const y=l(g.uri,this.baseUri),b=yield this.loader.load(y),E=new Uint8Array(b);return this.bufferCache[u]=E,E})}preFetchAll(){return _(this,void 0,void 0,function*(){const u=this.asset.gltf.buffers;return u?Promise.all(u.map((f,g)=>this.get(g))):[]})}}d.BufferData=c;class o{constructor(u,f,g){this.crossOrigin="anonymous",this.imageCache=[],this.asset=u,this.baseUri=f,this.manager=g}get(u){return _(this,void 0,void 0,function*(){if(this.imageCache[u]!==void 0)return this.imageCache[u];const f=this.asset.gltf;if(!f.images)throw new Error("No images found.");const g=f.images[u];let y,b=!1;if(g.bufferView!==void 0){const x=yield this.asset.bufferViewData(g.bufferView);b=!0;const w=new Blob([x],{type:g.mimeType});y=URL.createObjectURL(w)}else{if(g.uri===void 0)throw new Error("Invalid glTF: image must either have a `uri` or a `bufferView`");y=this.manager.resolveURL(l(g.uri,this.baseUri))}const E=new Image;return E.crossOrigin=this.crossOrigin,new Promise((x,w)=>{E.onerror=()=>{w("Failed to load "+y),this.manager.itemEnd(y),this.manager.itemError(y)},E.onload=()=>{b&&URL.revokeObjectURL(y),this.imageCache[u]=E,x(E),this.manager.itemEnd(y)},E.src=y,this.manager.itemStart(y)})})}preFetchAll(){return _(this,void 0,void 0,function*(){const u=this.asset.gltf.images;return u?Promise.all(u.map((f,g)=>this.get(g))):[]})}}function l(s,u){return typeof s!="string"||s===""?"":/^(https?:)?\/\//i.test(s)||/^data:.*,.*$/i.test(s)||/^blob:.*$/i.test(s)?s:u+s}d.ImageData=o,d.resolveURL=l},function(i,d,m){Object.defineProperty(d,"__esModule",{value:!0}),d.LoaderUtils=class{static decodeText(_){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(_);let v="";for(const h of _)v+=String.fromCharCode(h);return decodeURIComponent(escape(v))}static extractUrlBase(_){const v=_.split("/");return v.length===1?"./":(v.pop(),v.join("/")+"/")}}},function(i,d,m){Object.defineProperty(d,"__esModule",{value:!0}),d.FileLoader=class{constructor(_){this.runningRequests={},this.manager=_}load(_,v){if(this.path!==void 0&&(_=this.path+_),_=this.manager.resolveURL(_),this.runningRequests[_])return this.runningRequests[_];const h=new Promise((c,o)=>{const l=new XMLHttpRequest;l.open("GET",_,!0);const s=this;l.onload=function(u){const f=this.response;this.status===0?(console.warn("FileLoader: HTTP Status 0 received."),c(f),s.manager.itemEnd(_)):this.status===200?(c(f),s.manager.itemEnd(_)):(o({url:_,status:this.status,statusText:l.statusText}),s.manager.itemEnd(_),s.manager.itemError(_)),delete s.runningRequests[_]},l.onprogress=u=>{v&&v(u)},l.onerror=function(u){o({url:_,status:this.status,statusText:l.statusText}),s.manager.itemEnd(_),s.manager.itemError(_),delete s.runningRequests[_]},this.responseType&&(l.responseType=this.responseType),this.withCredentials&&(l.withCredentials=this.withCredentials),this.mimeType&&l.overrideMimeType&&l.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const u in this.requestHeaders)l.setRequestHeader(u,this.requestHeaders[u]);l.send(null),this.manager.itemStart(_)});return this.runningRequests[_]=h,h}setRequestHeader(_,v){return this.requestHeaders[_]=v,this}}},function(i,d,m){Object.defineProperty(d,"__esModule",{value:!0})},function(i,d,m){Object.defineProperty(d,"__esModule",{value:!0});const _=m(2);d.BINARY_HEADER_MAGIC="glTF",d.GLTFBinaryData=class{constructor(v){const h=new DataView(v,0,12),c=_.LoaderUtils.decodeText(new Uint8Array(v,0,4)),o=h.getUint32(4,!0);if(h.getUint32(8,!0),c!==d.BINARY_HEADER_MAGIC)throw new Error("Unsupported glTF-Binary header.");if(o<2)throw new Error("Unsupported legacy binary file detected.");const l=new DataView(v,12);let s=0;for(;s<l.byteLength;){const u=l.getUint32(s,!0);s+=4;const f=l.getUint32(s,!0);if(s+=4,f===1313821514){const g=new Uint8Array(v,12+s,u);this.json=_.LoaderUtils.decodeText(g)}else if(f===5130562){const g=12+s;this.binaryChunk=new Uint8Array(v,g,u)}s+=u}if(this.json===null)throw new Error("glTF-Binary: JSON content not found.")}}},function(i,d,m){var _=this&&this.__awaiter||function(f,g,y,b){return new(y||(y=Promise))(function(E,x){function w(A){try{O(b.next(A))}catch(L){x(L)}}function S(A){try{O(b.throw(A))}catch(L){x(L)}}function O(A){A.done?E(A.value):new y(function(L){L(A.value)}).then(w,S)}O((b=b.apply(f,g||[])).next())})};function v(f){for(var g in f)d.hasOwnProperty(g)||(d[g]=f[g])}Object.defineProperty(d,"__esModule",{value:!0});const h=m(3),c=m(5),o=m(1),l=m(2),s=m(0),u=m(4);d.gltf=u,v(m(1)),v(m(0)),d.GltfLoader=class{constructor(f){this.manager=f||new s.LoadingManager}load(f,g){return _(this,void 0,void 0,function*(){const y=l.LoaderUtils.extractUrlBase(f),b=new h.FileLoader(this.manager);b.responseType="arraybuffer";const E=yield b.load(f,g);return yield this.parse(E,y)})}loadFromFiles(f){return _(this,void 0,void 0,function*(){let g,y;for(const[S,O]of f)O.name.match(/\.(gltf|glb)$/)&&(g=O,y=S.replace(O.name,""));if(!g)throw new Error("No .gltf or .glb asset found.");const b=typeof g=="string"?g:URL.createObjectURL(g),E=l.LoaderUtils.extractUrlBase(b),x=[];this.manager.urlModifier=S=>{const O=y+S.replace(E,"").replace(/^(\.?\/)/,"");if(f.has(O)){const A=f.get(O),L=URL.createObjectURL(A);return x.push(L),L}return S};const w=yield this.load(b);return yield w.preFetchAll(),URL.revokeObjectURL(b),x.forEach(URL.revokeObjectURL),w})}parse(f,g){return _(this,void 0,void 0,function*(){let y,b;y=typeof f=="string"?f:l.LoaderUtils.decodeText(new Uint8Array(f,0,4))===c.BINARY_HEADER_MAGIC?(b=new c.GLTFBinaryData(f)).json:l.LoaderUtils.decodeText(new Uint8Array(f));const E=JSON.parse(y);if(E.asset===void 0||E.asset.version[0]<2)throw new Error("Unsupported asset. glTF versions >=2.0 are supported.");return new o.GltfAsset(E,g,b,this.manager)})}}},function(i,d,m){i.exports=m(6)}])},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(0),m=function(){function _(){}return _.modeToEnum=function(v,h){return(h<0||h>6)&&d.log(d.LogLevel.Error,"Specified draw mode is "+h+" but is required to be between 0 and 6"),h===0?v.POINTS:h===1?v.LINES:h===2?v.LINE_LOOP:h===3?v.LINE_STRIP:h===4?v.TRIANGLES:h===5?v.TRIANGLE_STRIP:h===6?v.TRIANGLE_FAN:v.TRIANGLES},_.nameToAttributeIndex=function(v){return v==="POSITION"?0:v==="NORMAL"?1:v==="TANGENT"?2:v==="TEXCOORD_0"?3:v==="TEXCOORD_1"?4:v==="TEXCOORD_2"?5:v==="JOINTS_0"?6:v==="WEIGHTS_0"?7:v==="COLOR_0"?8:(d.log(d.LogLevel.Warning,"Unknown attribute name '"+v+"' encountered.             Possibly this model uses an unsupported extension."),-1)},_}();a.GLTFHelper=m},function(n,a){n.exports=`precision highp float;\r
\r
// Adapted from https://github.com/KhronosGroup/glTF-WebGL-PBR\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else\r
    #define varying out\r
#endif\r
\r
\r
const int HAS_NORMALS           = 1;\r
const int HAS_TANGENTS          = 1 << 1;\r
const int HAS_UV                = 1 << 2;\r
const int HAS_COLORS            = 1 << 3;\r
\r
#if __VERSION__ == 100\r
    attribute vec4 a_position;\r
    attribute vec4 a_normal;\r
    attribute vec4 a_tangent;\r
    attribute vec2 a_texcoord_0;\r
    attribute vec2 a_texcoord_1;\r
    attribute vec2 a_texcoord_2;\r
    attribute vec4 a_joints;\r
    attribute vec4 a_weights;\r
    attribute vec4 a_color;\r
#else\r
    layout (location = 0) in vec4 a_position;\r
    layout (location = 1) in vec3 a_normal;\r
    layout (location = 2) in vec4 a_tangent;\r
    layout (location = 3) in vec2 a_texcoord_0;\r
    layout (location = 4) in vec2 a_texcoord_1;\r
    layout (location = 5) in vec2 a_texcoord_2;\r
    layout (location = 6) in vec4 a_joints;\r
    layout (location = 7) in vec4 a_weights;\r
    layout (location = 8) in vec4 a_color;\r
#endif\r
\r
uniform mat4 u_model;\r
uniform mat4 u_viewProjection;\r
uniform mat3 u_normalMatrix;\r
\r
uniform mediump int u_geometryFlags;\r
\r
varying vec2 v_uv[3];\r
varying vec4 v_color;\r
varying vec3 v_position;\r
\r
varying mat3 v_TBN;\r
varying vec3 v_normal;\r
\r
bool checkFlag(int flag) {\r
    return (u_geometryFlags & flag) == flag;\r
}\r
\r
void main(void)\r
{\r
    vec4 pos = u_model * a_position;\r
    v_position = vec3(pos.xyz) / pos.w;\r
\r
    if (checkFlag(HAS_NORMALS)) {\r
        if (checkFlag(HAS_TANGENTS)) {\r
            vec3 normalW = normalize(vec3(u_normalMatrix * a_normal));\r
            vec3 tangentW = normalize(vec3(u_model * vec4(a_tangent.xyz, 0.0)));\r
            vec3 bitangentW = cross(normalW, tangentW) * a_tangent.w;\r
            v_TBN = mat3(tangentW, bitangentW, normalW);\r
        } else { // HAS_TANGENTS != 1\r
            v_normal = normalize(vec3(u_model * vec4(a_normal.xyz, 0.0)));\r
        }\r
    }\r
\r
    if (checkFlag(HAS_UV)) {\r
        v_uv[0] = a_texcoord_0;\r
        v_uv[1] = a_texcoord_1;\r
        v_uv[2] = a_texcoord_2;\r
    } else {\r
        v_uv[0] = vec2(0., 0.);\r
        v_uv[1] = vec2(0., 0.);\r
        v_uv[2] = vec2(0., 0.);\r
    }\r
\r
    if (checkFlag(HAS_COLORS)) {\r
        v_color = a_color;\r
    } else {\r
        v_color = vec4(1.0);\r
    }\r
\r
    gl_Position = u_viewProjection * u_model * a_position;\r
}\r
`},function(n,a){n.exports=`precision highp float;\r
\r
// Adapted from https://github.com/KhronosGroup/glTF-WebGL-PBR\r
// References:\r
// [1] Real Shading in Unreal Engine 4\r
//     http://blog.selfshadow.com/publications/s2013-shading-course/karis/s2013_pbs_epic_notes_v2.pdf\r
// [2] Physically Based Shading at Disney\r
//     http://blog.selfshadow.com/publications/s2012-shading-course/burley/s2012_pbs_disney_brdf_notes_v3.pdf\r
// [3] README.md - Environment Maps\r
//     https://github.com/KhronosGroup/glTF-WebGL-PBR/#environment-maps\r
// [4] "An Inexpensive BRDF Model for Physically based Rendering" by Christophe Schlick\r
//     https://www.cs.virginia.edu/~jdl/bib/appearance/analytic%20models/schlick94b.pdf\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else \r
    #define varying in\r
#endif\r
\r
\r
#if __VERSION__ == 100\r
    #define fragColor gl_FragColor\r
#else\r
    layout(location = 0) out vec4 fragColor;\r
#endif\r
\r
const int HAS_NORMALS           = 1;\r
const int HAS_TANGENTS          = 1 << 1;\r
const int HAS_UV                = 1 << 2;\r
const int HAS_COLORS            = 1 << 3;\r
const int USE_IBL               = 1 << 4;\r
const int HAS_BASECOLORMAP      = 1 << 5;\r
const int HAS_NORMALMAP         = 1 << 6;\r
const int HAS_EMISSIVEMAP       = 1 << 7;\r
const int HAS_METALROUGHNESSMAP = 1 << 8;\r
const int HAS_OCCLUSIONMAP      = 1 << 9;\r
const int USE_TEX_LOD           = 1 << 10;\r
\r
const vec3 u_LightDirection = vec3(0.2, 1.0, 0.2);\r
const vec3 u_LightColor = vec3(1, 1, 1);\r
\r
const float M_PI = 3.141592653589793;\r
const float c_MinRoughness = 0.04;\r
\r
uniform sampler2D u_baseColor;\r
uniform sampler2D u_metallicRoughness;\r
uniform sampler2D u_normal;\r
uniform sampler2D u_emissive;\r
uniform sampler2D u_occlusion;\r
\r
uniform samplerCube u_specularEnvironment;\r
uniform sampler2D u_brdfLUT;\r
\r
uniform int u_baseColorTexCoord;\r
uniform int u_normalTexCoord;\r
uniform int u_metallicRoughnessTexCoord;\r
uniform int u_occlusionTexCoord;\r
uniform int u_emissiveTexCoord;\r
\r
uniform vec4 u_baseColorFactor;\r
uniform float u_metallicFactor;\r
uniform float u_roughnessFactor;\r
uniform vec3 u_emissiveFactor;\r
uniform float u_normalScale;\r
uniform int u_blendMode;\r
uniform float u_blendCutoff;\r
\r
uniform mediump int u_geometryFlags;\r
uniform mediump int u_pbrFlags;\r
uniform vec3 u_eye;\r
\r
varying vec2 v_uv[3];\r
varying vec4 v_color;\r
varying vec3 v_position;\r
\r
varying mat3 v_TBN;\r
varying vec3 v_normal;\r
\r
// Encapsulate the various inputs used by the various functions in the shading equation\r
// We store values in this struct to simplify the integration of alternative implementations\r
// of the shading terms, outlined in the Readme.MD Appendix.\r
struct PBRInfo\r
{\r
    float NdotL;                  // cos angle between normal and light direction\r
    float NdotV;                  // cos angle between normal and view direction\r
    float NdotH;                  // cos angle between normal and half vector\r
    float LdotH;                  // cos angle between light direction and half vector\r
    float VdotH;                  // cos angle between view direction and half vector\r
    float perceptualRoughness;    // roughness value, as authored by the model creator (input to shader)\r
    float metalness;              // metallic value at the surface\r
    vec3 reflectance0;            // full reflectance color (normal incidence angle)\r
    vec3 reflectance90;           // reflectance color at grazing angle\r
    float alphaRoughness;         // roughness mapped to a more linear change in the roughness (proposed by [2])\r
    vec3 diffuseColor;            // color contribution from diffuse lighting\r
    vec3 specularColor;           // color contribution from specular lighting\r
};\r
\r
bool checkGeometryFlag(int flag) {\r
    return (u_geometryFlags & flag) == flag;\r
}\r
\r
bool checkFlag(int flag) {\r
    return (u_pbrFlags & flag) == flag;\r
}\r
\r
vec4 SRGBtoLINEAR(vec4 srgbIn)\r
{\r
    #ifdef MANUAL_SRGB\r
    #ifdef SRGB_FAST_APPROXIMATION\r
    vec3 linOut = pow(srgbIn.xyz,vec3(2.2));\r
    #else //SRGB_FAST_APPROXIMATION\r
    vec3 bLess = step(vec3(0.04045),srgbIn.xyz);\r
    vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\r
    #endif //SRGB_FAST_APPROXIMATION\r
    return vec4(linOut,srgbIn.w);;\r
    #else //MANUAL_SRGB\r
    return srgbIn;\r
    #endif //MANUAL_SRGB\r
}\r
\r
// Find the normal for this fragment, pulling either from a predefined normal map\r
// or from the interpolated mesh normal and tangent attributes.\r
vec3 getNormal()\r
{\r
    // Retrieve the tangent space matrix\r
    mat3 tbn;\r
    if (!checkGeometryFlag(HAS_TANGENTS)) {\r
        vec3 pos_dx = dFdx(v_position);\r
        vec3 pos_dy = dFdy(v_position);\r
        vec3 tex_dx = dFdx(vec3(v_uv[0], 0.0));\r
        vec3 tex_dy = dFdy(vec3(v_uv[0], 0.0));\r
        vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\r
\r
        vec3 ng;\r
        if (checkGeometryFlag(HAS_NORMALS))\r
            ng = normalize(v_normal);\r
        else\r
            ng = cross(pos_dx, pos_dy);\r
\r
            t = normalize(t - ng * dot(ng, t));\r
            vec3 b = normalize(cross(ng, t));\r
            tbn = mat3(t, b, ng);\r
        }\r
    else { // HAS_TANGENTS\r
        tbn = v_TBN;\r
    }\r
\r
    vec3 n;\r
    if (checkFlag(HAS_NORMALMAP)) {\r
        n = texture(u_normal, v_uv[u_normalTexCoord]).rgb;\r
        n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_normalScale, u_normalScale, 1.0)));\r
    } else {\r
        // The tbn matrix is linearly interpolated, so we need to re-normalize\r
        n = normalize(tbn[2].xyz);\r
    }\r
\r
    // reverse backface normals\r
    n *= (2.0 * float(gl_FrontFacing) - 1.0);\r
\r
    return n;\r
}\r
\r
// Basic Lambertian diffuse\r
// Implementation from Lambert's Photometria https://archive.org/details/lambertsphotome00lambgoog\r
// See also [1], Equation 1\r
vec3 diffuse(PBRInfo pbrInputs)\r
{\r
    return pbrInputs.diffuseColor / M_PI;\r
}\r
\r
 // The following equation models the Fresnel reflectance term of the spec equation (aka F())\r
// Implementation of fresnel from [4], Equation 15\r
vec3 specularReflection(PBRInfo pbrInputs)\r
{\r
    return pbrInputs.reflectance0 + (pbrInputs.reflectance90 - pbrInputs.reflectance0) * pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\r
}\r
\r
 // This calculates the specular geometric attenuation (aka G()),\r
// where rougher material will reflect less light back to the viewer.\r
// This implementation is based on [1] Equation 4, and we adopt their modifications to\r
// alphaRoughness as input as originally proposed in [2].\r
float geometricOcclusion(PBRInfo pbrInputs)\r
{\r
    float NdotL = pbrInputs.NdotL;\r
    float NdotV = pbrInputs.NdotV;\r
    float r = pbrInputs.alphaRoughness;\r
\r
    float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\r
    float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\r
    return attenuationL * attenuationV;\r
}\r
\r
 // The following equation(s) model the distribution of microfacet normals across the area being drawn (aka D())\r
// Implementation from "Average Irregularity Representation of a Roughened Surface for Ray Reflection" by T. S. Trowbridge, and K. P. Reitz\r
// Follows the distribution function recommended in the SIGGRAPH 2013 course notes from EPIC Games [1], Equation 3.\r
float microfacetDistribution(PBRInfo pbrInputs)\r
{\r
    float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\r
    float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\r
    return roughnessSq / (M_PI * f * f);\r
}\r
\r
vec3 getIBLContribution(vec3 n, vec3 v, PBRInfo pbrInfo)\r
{\r
    float NdotV = clamp(dot(n, v), 0.0, 1.0);\r
\r
    // TODO: pass uniform for mip count\r
    const float MIP_COUNT = 8.0;\r
    float lod = clamp(pbrInfo.perceptualRoughness * MIP_COUNT, 0.0, MIP_COUNT);\r
    vec3 reflection = normalize(reflect(-v, n));\r
\r
    vec2 brdfSamplePoint = vec2(NdotV, pbrInfo.perceptualRoughness);\r
    vec2 brdf = texture(u_brdfLUT, brdfSamplePoint).rg;\r
\r
    // vec4 diffuseSample = textureCube(u_DiffuseEnvSampler, n);\r
    vec4 specularSample = textureLod(u_specularEnvironment, reflection, lod);\r
\r
    // vec3 diffuseLight = SRGBtoLINEAR(diffuseSample).rgb;\r
    vec3 specularLight = SRGBtoLINEAR(specularSample).rgb;\r
\r
    // vec3 diffuse = diffuseLight * pbrInfo.diffuseColor;\r
    vec3 specular = specularLight * (pbrInfo.specularColor * brdf.x + brdf.y);\r
\r
    return specular;\r
    // return diffuse + specular;\r
}\r
\r
void main(void)\r
{\r
    float perceptualRoughness = u_roughnessFactor;\r
    float metallic = u_metallicFactor;\r
    if (checkFlag(HAS_METALROUGHNESSMAP)) {\r
        // Roughness is stored in the 'g' channel, metallic is stored in the 'b' channel.\r
        // This layout intentionally reserves the 'r' channel for (optional) occlusion map data\r
        vec4 mrSample = texture(u_metallicRoughness, v_uv[u_metallicRoughnessTexCoord]);\r
        perceptualRoughness = mrSample.g * perceptualRoughness;\r
        metallic = mrSample.b * metallic;\r
    }\r
    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\r
    metallic = clamp(metallic, 0.0, 1.0);\r
    // Roughness is authored as perceptual roughness; as is convention,\r
    // convert to material roughness by squaring the perceptual roughness [2].\r
    float alphaRoughness = perceptualRoughness * perceptualRoughness;\r
\r
     // The albedo may be defined from a base texture or a flat color\r
    vec4 baseColor;\r
    if (checkFlag(HAS_BASECOLORMAP)) {\r
        baseColor = SRGBtoLINEAR(texture(u_baseColor, v_uv[u_baseColorTexCoord])) * u_baseColorFactor;\r
    } else {\r
        baseColor = u_baseColorFactor;\r
    }\r
\r
    // spec: COLOR_0 ... acts as an additional linear multiplier to baseColor\r
    // TODO!: distinguish vec3/vec4 colors...\r
    baseColor *= vec4(v_color.rgb, 1.0);\r
\r
    vec3 f0 = vec3(0.04);\r
    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\r
    diffuseColor *= 1.0 - metallic;\r
    vec3 specularColor = mix(f0, baseColor.rgb, metallic);\r
\r
    // Compute reflectance.\r
    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\r
\r
    // For typical incident reflectance range (between 4% to 100%) set the grazing reflectance to 100% for typical fresnel effect.\r
    // For very low reflectance range on highly diffuse objects (below 4%), incrementally reduce grazing reflecance to 0%.\r
    float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\r
    vec3 specularEnvironmentR0 = specularColor.rgb;\r
    vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\r
\r
    vec3 n = getNormal();                         // normal at surface point\r
    vec3 v = normalize(u_eye - v_position);        // Vector from surface point to camera\r
    vec3 l = normalize(u_LightDirection);          // Vector from surface point to light\r
    vec3 h = normalize(l+v);                       // Half vector between both l and v\r
    vec3 reflection = -normalize(reflect(v, n));\r
\r
    float NdotL = clamp(dot(n, l), 0.001, 1.0);\r
    float NdotV = abs(dot(n, v)) + 0.001;\r
    float NdotH = clamp(dot(n, h), 0.0, 1.0);\r
    float LdotH = clamp(dot(l, h), 0.0, 1.0);\r
    float VdotH = clamp(dot(v, h), 0.0, 1.0);\r
\r
    PBRInfo pbrInputs = PBRInfo(\r
        NdotL,\r
        NdotV,\r
        NdotH,\r
        LdotH,\r
        VdotH,\r
        perceptualRoughness,\r
        metallic,\r
        specularEnvironmentR0,\r
        specularEnvironmentR90,\r
        alphaRoughness,\r
        diffuseColor,\r
        specularColor\r
    );\r
\r
     // Calculate the shading terms for the microfacet specular shading model\r
    vec3 F = specularReflection(pbrInputs);\r
    float G = geometricOcclusion(pbrInputs);\r
    float D = microfacetDistribution(pbrInputs);\r
\r
     // Calculation of analytical lighting contribution\r
    vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\r
    vec3 specContrib = F * G * D / (4.0 * NdotL * NdotV);\r
    // Obtain final intensity as reflectance (BRDF) scaled by the energy of the light (cosine law)\r
    vec3 color = NdotL * u_LightColor * (diffuseContrib + specContrib);\r
\r
    vec3 environmentLight = getIBLContribution(n, v, pbrInputs);\r
    color += environmentLight;\r
\r
    if (checkFlag(HAS_EMISSIVEMAP)) {\r
        vec3 emissive = SRGBtoLINEAR(texture(u_emissive, v_uv[u_emissiveTexCoord])).rgb * u_emissiveFactor;\r
        color += emissive;\r
    }\r
\r
    // NOTE: the spec mandates to ignore any alpha value in 'OPAQUE' mode\r
    float alpha = 1.0;\r
    if (u_blendMode == 1) {\r
        if (baseColor.a < u_blendCutoff) {\r
            discard;\r
        }\r
    }\r
    else if (u_blendMode == 2) {\r
        alpha = baseColor.a;\r
    }\r
\r
    fragColor = vec4(pow(color, vec3(1.0/2.2)), alpha);\r
}\r
`},function(n,a,i){var d,m=i(1),_=i(3),v=i(0);(function(h){function c(u,f,g){g===void 0&&(g=1);var y=m.vec2.subtract(_.v2(),f,u);if(!m.vec2.equals(y,m.vec2.fromValues(0,0))){var b=m.vec2.squaredLength(y),E=2*m.vec2.dot(y,u),x=E*E-4*b*(m.vec2.squaredLength(u)-g*g);if(!(x<0)){var w=Math.sqrt(x),S=Math.min((-E+w)/(2*b),(-E-w)/(2*b)),O=m.vec2.scale(_.v2(),y,S);return m.vec2.add(O,O,u)}}}function o(u,f,g,y){var b=u,E=m.vec2.sub(_.v2(),f,u),x=g,w=m.vec2.sub(_.v2(),y,g),S=m.vec2.cross(_.v3(),E,w)[2];if(S!==0){var O=m.vec2.sub(_.v2(),x,b),A=m.vec2.cross(_.v3(),O,m.vec2.scale(_.v2(),E,1/S))[2],L=m.vec2.cross(_.v3(),O,m.vec2.scale(_.v2(),w,1/S))[2];if(!(A<0||A>1||L<0))return[m.vec2.add(_.v2(),x,m.vec2.scale(_.v2(),w,A)),L]}}function l(u,f,g,y){g===void 0&&(g=m.vec3.fromValues(0,0,0)),y===void 0&&(y=m.vec3.fromValues(0,1,0));var b=m.vec3.normalize(_.v3(),m.vec3.subtract(_.v3(),f,u)),E=m.vec3.dot(b,y);if(!(m.vec3.equals(b,[0,0,0])||E>=0)){var x=m.vec3.dot(m.vec3.subtract(_.v3(),g,u),y)/E;return m.vec3.add(_.v3(),m.vec3.scale(_.v3(),b,x),u)}}function s(u,f,g){var y=m.vec3.subtract(_.v3(),f,u),b=m.vec3.squaredLength(y);if(b===0)return 0;var E=m.vec3.subtract(_.v3(),g,u);return m.vec3.dot(E,y)/b}h.rayCircleIntersection=c,h.pointSquareIntersection=function(u,f){f===void 0&&(f=1);var g=_.abs2(_.v2(),u);return g[0]>=g[1]?m.vec2.fromValues(_.sign(u[0])*f,u[1]/g[0]*f):m.vec2.fromValues(u[0]/g[1]*f,_.sign(u[1])*f)},h.raySquareIntersection=function(u,f,g){g===void 0&&(g=1);for(var y=[m.vec2.fromValues(-g,+g),m.vec2.fromValues(-g,-g),m.vec2.fromValues(+g,-g),m.vec2.fromValues(+g,+g)],b=new Array,E=0;E<4;++E){var x=o(u,f,y[E],y[(E+1)%4]);x&&b.push(x[1])}return b},h.rayLineIntersection=o,h.rayPlaneIntersection=l,h.raySphereIntersection=function(u,f,g,y){g===void 0&&(g=m.vec3.fromValues(0,0,0)),y===void 0&&(y=1);var b=m.vec3.subtract(_.v3(),u,g),E=m.vec3.normalize(_.v3(),m.vec3.subtract(_.v3(),f,u)),x=m.vec3.dot(E,b),w=x*x-m.vec3.squaredLength(b)+y*y;if(!(w<=0))return m.vec3.add(_.v3(),u,m.vec3.scale(_.v3(),E,-x-Math.sqrt(w)))},h.rayPlaneIntersection_tube=function(u,f,g){g===void 0&&(g=1);var y=l(u,f);if(y!==void 0&&m.vec3.length(y)<g)return y;var b=c(m.vec2.fromValues(u[0],u[2]),m.vec2.fromValues(f[0],f[2]),g);return b?m.vec3.fromValues(b[0],0,b[1]):void 0},h.isPointWithinSquare=function(u,f){f===void 0&&(f=1);var g=_.abs2(_.v2(),u);return g[0]<=f&&g[1]<=f},h.isPointWithinNDC=function(u,f){var g=m.vec3.transformMat4(_.v3(),f,u),y=_.abs3(_.v3(),g);return y[0]<=1&&y[1]<=1&&g[2]>=0&&g[2]<=1},h.distancePointToRay=s,h.eyeWithPointInView=function(u,f){var g=m.vec3.subtract(_.v3(),u.center,u.eye),y=m.vec3.normalize(_.v3(),g),b=m.vec3.normalize(_.v3(),m.vec3.cross(_.v3(),y,u.up)),E=m.vec3.normalize(_.v3(),m.vec3.cross(_.v3(),b,y)),x=s(u.eye,u.center,f),w=m.vec3.add(_.v3(),u.eye,m.vec3.scale(_.v3(),g,x)),S=m.vec3.subtract(_.v3(),f,w),O=Math.abs(m.vec3.dot(S,b))/u.aspect,A=Math.abs(m.vec3.dot(S,E)),L=Math.max(O,A)/Math.tan(u.fovy*v.DEG2RAD*.5);return m.vec3.subtract(_.v3(),w,m.vec3.scale(_.v3(),y,L))}})(d||(d={})),n.exports=d},function(n,a,i){Object.defineProperty(a,"__esModule",{value:!0});var d=i(78),m=i(141);(function(_){_.TestRenderer=m.TestRenderer,_.TestNavigation=d.TestNavigation})(a.debug||(a.debug={}))},function(n,a,i){var d,m,_=this&&this.__extends||(d=function(w,S){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,A){O.__proto__=A}||function(O,A){for(var L in A)A.hasOwnProperty(L)&&(O[L]=A[L])})(w,S)},function(w,S){function O(){this.constructor=w}d(w,S),w.prototype=S===null?Object.create(S):(O.prototype=S.prototype,new O)}),v=i(0),h=i(61),c=i(59),o=i(38),l=i(48),s=i(17),u=i(12),f=i(6),g=i(23),y=i(50),b=i(7),E=i(4),x=i(78);(function(w){var S=function(O){function A(){var L=O!==null&&O.apply(this,arguments)||this;return L._extensions=!1,L}return _(A,O),A.prototype.onInitialize=function(L,k,D){var N=this,$=this._context.gl,H=this._context.gl2facade;this._extensions===!1&&this._context.isWebGL1&&(v.assert(this._context.supportsStandardDerivatives,"expected OES_standard_derivatives support"),this._context.standardDerivatives,this._extensions=!0);var q=new b.Shader(this._context,$.VERTEX_SHADER,"testrenderer.vert");q.initialize(i(142));var X=new b.Shader(this._context,$.FRAGMENT_SHADER,"testrenderer.frag");X.initialize(i(143)),this._program=new f.Program(this._context),this._program.initialize([q,X]),this._uNdcOffset=this._program.uniform("u_ndcOffset"),this._uFrameNumber=this._program.uniform("u_frameNumber"),this._ndcTriangle=new u.NdcFillingTriangle(this._context);var Y=this._program.attribute("a_vertex",0);return this._ndcTriangle.initialize(Y),this._ndcOffsetKernel=new c.AntiAliasingKernel(this._multiFrameNumber),this._defaultFBO=new l.DefaultFramebuffer(this._context,"DefaultFBO"),this._defaultFBO.initialize(),this._colorRenderTexture=new E.Texture2D(this._context,"ColorRenderTexture"),this._depthRenderbuffer=new g.Renderbuffer(this._context,"DepthRenderbuffer"),this._intermediateFBO=new s.Framebuffer(this._context,"IntermediateFBO"),this._accumulate=new h.AccumulatePass(this._context),this._accumulate.initialize(this._ndcTriangle),this._accumulate.precision=this._framePrecision,this._accumulate.texture=this._colorRenderTexture,this._blit=new o.BlitPass(this._context),this._blit.initialize(this._ndcTriangle),this._blit.readBuffer=H.COLOR_ATTACHMENT0,this._blit.drawBuffer=$.BACK,this._blit.target=this._defaultFBO,this._testNavigation=new x.TestNavigation(function(){return N.invalidate()},D),!0},A.prototype.onUninitialize=function(){O.prototype.uninitialize.call(this),this._uNdcOffset=-1,this._uFrameNumber=-1,this._program.uninitialize(),this._ndcTriangle.uninitialize(),this._intermediateFBO.uninitialize(),this._defaultFBO.uninitialize(),this._colorRenderTexture.uninitialize(),this._depthRenderbuffer.uninitialize(),this._blit.uninitialize(),this._accumulate.uninitialize()},A.prototype.onDiscarded=function(){this._altered.alter("frameSize"),this._altered.alter("multiFrameNumber"),this._altered.alter("framePrecision"),this._altered.alter("clearColor")},A.prototype.onUpdate=function(){this._testNavigation.update();var L=this._testNavigation.altered;return this._testNavigation.reset(),!(!L&&!this._altered.any)&&L},A.prototype.onPrepare=function(){var L=this._context.gl,k=this._context.gl2facade;this._intermediateFBO.initialized?this._altered.frameSize&&this._intermediateFBO.resize(this._frameSize[0],this._frameSize[1]):(this._colorRenderTexture.initialize(this._frameSize[0],this._frameSize[1],this._context.isWebGL2?L.RGBA8:L.RGBA,L.RGBA,L.UNSIGNED_BYTE),this._depthRenderbuffer.initialize(this._frameSize[0],this._frameSize[1],L.DEPTH_COMPONENT16),this._intermediateFBO.initialize([[k.COLOR_ATTACHMENT0,this._colorRenderTexture],[L.DEPTH_ATTACHMENT,this._depthRenderbuffer]])),this._altered.multiFrameNumber&&(this._ndcOffsetKernel.width=this._multiFrameNumber),this._altered.framePrecision&&(this._accumulate.precision=this._framePrecision),this._altered.clearColor&&this._intermediateFBO.clearColor(this._clearColor),this._accumulate.update(),this._altered.reset()},A.prototype.onFrame=function(L){var k=this._context.gl;k.viewport(0,0,this._frameSize[0],this._frameSize[1]),this._program.bind();var D=this._ndcOffsetKernel.get(L);D[0]=2*D[0]/this._frameSize[0],D[1]=2*D[1]/this._frameSize[1],k.uniform2fv(this._uNdcOffset,D),k.uniform1i(this._uFrameNumber,L),this._intermediateFBO.clear(k.COLOR_BUFFER_BIT,!0,!1),this._ndcTriangle.bind(),this._ndcTriangle.draw(),this._intermediateFBO.unbind(),this._accumulate.frame(L)},A.prototype.onSwap=function(){this._blit.framebuffer=this._accumulate.framebuffer?this._accumulate.framebuffer:this._blit.framebuffer=this._intermediateFBO,this._blit.frame()},A}(y.Renderer);w.TestRenderer=S})(m||(m={})),n.exports=m},function(n,a){n.exports=`\r
precision lowp float;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else\r
    #define varying out\r
#endif\r
\r
\r
void ndcOffset(inout vec4 vertex, in vec2 offset) {\r
    vertex.xy = offset * vec2(vertex.w) + vertex.xy;\r
}\r
\r
\r
\r
#if __VERSION__ == 100\r
    attribute vec2 a_vertex;\r
#else \r
    layout(location = 0) in vec2 a_vertex;\r
#endif\r
\r
uniform vec2 u_ndcOffset;\r
\r
varying vec2 v_uv;\r
\r
\r
void main(void)\r
{\r
    v_uv = a_vertex.xy * 0.5 + 0.5;\r
\r
    vec4 vertex = vec4(a_vertex, 0.0, 1.0);\r
    ndcOffset(vertex, u_ndcOffset);\r
\r
    gl_Position = vertex;\r
}\r
`},function(n,a){n.exports=`\r
precision lowp float;\r
\r
\r
#if __VERSION__ == 100\r
    #define texture(sampler, coord) texture2D(sampler, coord)\r
#else \r
    #define varying in\r
#endif\r
\r
\r
\r
#if __VERSION__ == 100\r
    #define fragColor gl_FragColor\r
    #extension GL_OES_standard_derivatives : enable\r
#else \r
    layout(location = 0) out vec4 fragColor;\r
#endif\r
\r
uniform int u_frameNumber;\r
\r
varying vec2 v_uv;\r
\r
\r
void main(void)\r
{\r
    vec3 color = vec3(28.0 / 255.0, 117.0 / 255.0, 188.0 / 255.0);\r
    color += (vec3(0.0, v_uv) - 0.5) * 0.125;\r
\r
    vec2 awidth = fwidth(v_uv) * (sin(float(u_frameNumber) * 0.1) * 7.0 + 8.0);\r
    vec2 cstep = abs(step(awidth, v_uv) - step(awidth, 1.0 - v_uv));\r
    if(!any(bvec2(cstep))) {\r
        discard;\r
    }\r
    fragColor = vec4(color, 1.0); \r
}\r
`},function(n,a,i){var d;(function(m){var _=function(){function v(h,c){if(this._blockListenerByEvent=new Map,this._element=h,c!==void 0)for(var o=0,l=c;o<l.length;o++){var s=l[o];this.block(s)}}return v.prototype.block=function(h){this._blockListenerByEvent.has(h)||(this._blockListenerByEvent.set(h,function(c){return c.preventDefault(),c.stopPropagation(),!1}),this._element.addEventListener(h,this._blockListenerByEvent.get(h)))},v.prototype.unblock=function(h){this._blockListenerByEvent.has(h)&&(this._element.removeEventListener(h,this._blockListenerByEvent.get(h)),this._blockListenerByEvent.delete(h))},v}();m.EventBlocker=_})(d||(d={})),n.exports=d},function(n,a,i){var d,m=i(0);(function(_){var v=function(){function h(){}return h.queryAndCacheAPI=function(){if(h._exit===void 0){for(var c=window.document,o=[c.exitFullScreen,c.msExitFullscreen,c.mozCancelFullScreen,c.webkitExitFullscreen,void 0],l=0;l<o.length&&o[l]===void 0;++l);switch(l){case 0:h._exit=function(){return c.exitFullScreen()},h._request=function(s){return s.requestFullscreen()},h._element=function(){return c.fullscreenElement},h._event="fullscreenchange";break;case 1:h._exit=function(){return c.msExitFullscreen()},h._request=function(s){return s.msRequestFullscreen()},h._element=function(){return c.msFullscreenElement},h._event="msfullscreenchange";break;case 2:h._exit=function(){return c.mozCancelFullScreen()},h._request=function(s){return s.mozRequestFullScreen()},h._element=function(){return c.mozFullScreenElement},h._event="mozfullscreenchange";break;case 3:h._exit=function(){return c.webkitExitFullscreen()},h._request=function(s){return s.webkitRequestFullscreen()},h._element=function(){return c.webkitFullscreenElement},h._event="webkitfullscreenchange";break;default:m.assert(!1,"none of the following fullscreen apis was found: native, ms, moz, or webkit")}}},h.active=function(){return h._element()!==void 0&&h._element()!==null},h.toggle=function(c,o){if(c!==void 0){h.queryAndCacheAPI();var l=h.active();if(!l){var s=getComputedStyle(c);h._size[0]=s.width,h._size[1]=s.height}o&&o(),l?(h._callback=void 0,window.removeEventListener(h._event,h.removeEventListener),c.style.width=h._size[0],c.style.height=h._size[1]):(h._callback=o,window.addEventListener(h._event,h.addEventListener)),l?h._exit():h._request(c)}},h._size=["0","0"],h.addEventListener=function(){window.removeEventListener(h._event,h.addEventListener),window.addEventListener(h._event,h.removeEventListener)},h.removeEventListener=function(){h._callback&&(h._callback(),h._callback=void 0),window.removeEventListener(h._event,h.removeEventListener)},h}();_.Fullscreen=v})(d||(d={})),n.exports=d}])},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeBuffer=void 0;var n=r(0),a=n.auxiliaries.assert,i=n.auxiliaries.log,d=n.auxiliaries.LogLevel,m=r(57),_=r(2);(function(v){(function(h){h.String="string",h.Numbers="numbers",h.Uint8="uint8",h.Int8="int8",h.Uint16="uint16",h.Int16="int16",h.Uint32="uint32",h.Int32="int32",h.Float32="float32",h.Float64="float64"})(v.DataType||(v.DataType={})),function(h){h.Native="native"}(v.Encoding||(v.Encoding={})),function(h){h.Topology="topology",h.Identity="identity"}(v.Linearization||(v.Linearization={})),function(h){h.IdMapping="id-mapping",h.IndexMapping="index-mapping"}(v.LinearizationMapping||(v.LinearizationMapping={})),v.createNormalization=function(h,c){return h.edgeIndexToTopologyIndexMap},v.create=function(h,c,o,l){var s=o.indexOf(":");if(s===void 0||s<0)i(d.Error,"Buffer type not recognized.");else switch(o.substr(0,s)){case"buffer":return v.createSourceBuffer(c,o.substr(s+1),l);case"bufferView":return v.createView(h,c,o.substr(s+1),l);default:i(d.Error,"Buffer type not recognized.")}},v.range=function(h){if(h.length!==0)return Array.prototype.reduce.apply(h,[function(c,o){return[Math.min(o,c[0]),Math.max(o,c[1])]},[1/0,-1/0]])},v.createSourceBuffer=function(h,c,o){var l=o.buffers.find(function(s){return s.identifier===c});if(l&&l.encoding===v.Encoding.Native)return a(l.linearization!==v.Linearization.Identity,"Expect linearization to be of type topology or mapping. Identity is currently unsupported"),_.Configuration.isLinearizationMapping(l.linearization)?m.AttributeTransformations.renormalize_using_intermediate_linearization(l.data,l.linearization,h):(a(l.linearization===v.Linearization.Topology,"Expect linearization to be of type topology or identity."),m.AttributeTransformations.renormalize(l.data,h))},v.createView=function(h,c,o,l){var s=l.bufferViews.find(function(f){return f.identifier===o});if(s!==void 0){var u=v.create(h,c,s.source,l);if(u!==void 0)return s.transformations===void 0||s.transformations.length===0?u:m.AttributeTransformations.applyTransformations(h,c,u,s.transformations,l)}}})(t.AttributeBuffer||(t.AttributeBuffer={}))},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Configuration=void 0;var n=r(0),a=r(1),i=function(){function d(){this._altered=Object.assign(new n.ChangeLookup,{any:!1,topology:!1,buffers:!1,bufferViews:!1,colors:!1,layout:{any:!1,weight:!1,sort:!1,algorithm:!1,siblingMargin:!1,parentPadding:!1,accessoryPadding:!1},geometry:{any:!1,aggregation:!1,outlineWidth:!1,emphasis:{any:!1,outline:!1,highlight:!1,outlineWidth:!1},areaScale:!1,heights:!1,heightScale:!1,levitate:!1,colors:!1,parentLayer:!1},labels:!1,animations:!1}),this._buffers=[],this._bufferViews=[],this._colors=[],this._animations=[]}return Object.defineProperty(d.prototype,"altered",{get:function(){return this._altered},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"topology",{get:function(){return this._topology},set:function(m){var _=d.TREEMAP_SCHEMA.properties.topology;n.properties.complement(m,_),n.properties.compare(m,this._topology,this._altered,"topology"),this._topology=m},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"buffers",{get:function(){return this._buffers},set:function(m){var _=d.TREEMAP_SCHEMA.properties.buffers;n.properties.validate(m,_,[])&&(n.properties.complement(m,_),n.properties.compare(m,this._buffers,this._altered,"buffers"),this._buffers=m)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"bufferViews",{get:function(){return this._bufferViews},set:function(m){var _=d.TREEMAP_SCHEMA.properties.bufferViews;n.properties.validate(m,_,[[d.BUFFER_REFERENCE_SCHEMA,"/BufferReference"]])&&(n.properties.complement(m,_),n.properties.compare(m,this._bufferViews,this._altered,"bufferViews"),this._bufferViews=m)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"colors",{get:function(){return this._colors},set:function(m){var _=d.TREEMAP_SCHEMA.properties.colors;n.properties.validate(m,_,[[d.COLOR_REFERENCE_SCHEMA,"/ColorReference"]])&&(n.properties.complement(m,_),n.properties.compare(m,this._colors,this._altered,"colors"),this._colors=m)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"layout",{get:function(){return this._layout},set:function(m){var _=d.TREEMAP_SCHEMA.properties.layout;n.properties.validate(m,_,[[d.BUFFER_REFERENCE_SCHEMA,"/BufferReference"]])&&(n.properties.complement(m,_),n.properties.compare(m,this._layout,this._altered,"layout"),this._layout=m)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"geometry",{get:function(){return this._geometry},set:function(m){var _=d.TREEMAP_SCHEMA.properties.geometry;n.properties.validate(m,_,[[d.BUFFER_REFERENCE_SCHEMA,"/BufferReference"],[d.COLOR_REFERENCE_SCHEMA,"/ColorReference"],[d.COLOR_SCHEMA_SCHEMA,"/ColorScheme"]])&&(n.properties.complement(m,_),n.properties.compare(m,this._geometry,this._altered,"geometry"),this._geometry=m)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"labels",{get:function(){return this._labels},set:function(m){var _=d.TREEMAP_SCHEMA.properties.labels;n.properties.validate(m,_,[[d.BUFFER_REFERENCE_SCHEMA,"/BufferReference"]])&&(n.properties.complement(m,_),n.properties.compare(m,this._labels,this._altered,"labels"),this._labels=m)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"animations",{get:function(){return this._animations},set:function(m){var _=d.TREEMAP_SCHEMA.properties.animations;n.properties.validate(m,_,[[d.BUFFER_REFERENCE_SCHEMA,"/BufferReference"]])&&(n.properties.complement(m,_),n.properties.compare(m,this._animations,this._altered,"animations"),this._animations=m)},enumerable:!1,configurable:!0}),d.TREEMAP_SCHEMA=r(59),d.BUFFER_REFERENCE_SCHEMA=r(60),d.COLOR_REFERENCE_SCHEMA=r(61),d.COLOR_SCHEMA_SCHEMA=r(62),d}();t.Configuration=i,function(d){d.isLinearizationMapping=function(m){return!(typeof m=="string"||m instanceof String||m in a.AttributeBuffer.Linearization)&&"type"in m&&m.type in a.AttributeBuffer.LinearizationMapping&&"mapping"in m}}(i=t.Configuration||(t.Configuration={})),t.Configuration=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Topology=void 0;var n=r(0).auxiliaries.assert,a=r(58),i=r(7),d=function(){function m(){this._linearization=new a.Linearization,this._nodes=new Array,this._innerNodeIndicesById=new Map,this._leafNodeIndicesById=new Map,this._edgeIndexToTopologyIndexMap=new Array,this._topologyIndexToEdgeIndexMap=new Array}return m.prototype.fromInterleavedEdgesIdById=function(_){n(_.length%2==0,"expected length of interleaved edges list to be a multiple of 2");var v=new Array,h=new Map,c=new Array;v.push(new i.Node(_[0],0)),h.set(v[0].id,v[0]),c.push(new Array),c[0].push(v[0]);for(var o=v[0],l=0;l<_.length;l+=2){var s=[_[l+0],_[l+1]],u=l+2<_.length?[_[l+2],_[l+3]]:[i.Node.INVALID_INDEX,i.Node.INVALID_INDEX];if(o.lastChild!==i.Node.INVALID_INDEX){var f=v[o.lastChild];n(f.nextSibling===i.Node.INVALID_INDEX,"expected next sibling to be unset for last child of a node"),f.initialNextSibling=v.length,f.nextSibling=v.length}var g=new i.Node(s[1],v.length,o);v.push(g),c.length===g.depth&&c.push(new Array),c[g.depth].push(g),h.set(g.id,g),u[0]===s[1]?o=g:u[0]!==s[0]&&u[0]!==i.Node.INVALID_ID&&(n(h.has(u[0]),"expected next parent to be already created, given "+u[0]),o=h.get(u[0]))}this.fromNodes(v,c)},m.prototype.fromInterleavedEdgesIndexById=function(_){n(_.length%2==0,"expected length of interleaved edges list to be a multiple of 2");var v=new Array,h=new Array,c=0;for(v.push(new i.Node(0,0)),h.push(new Array),h[0].push(v[0]),_[0]===-1&&(c+=2);c<_.length;c+=2){var o=[_[c+0],_[c+1]],l=void 0;if(o[0]<v.length&&_[0]===-1?l=v[o[0]]:(n(o[0]<v.length,"expected parent to be processed before child"),l=v[o[0]<0?0:o[0]+1]),l.lastChild!==i.Node.INVALID_INDEX){var s=v[l.lastChild];n(s.nextSibling===i.Node.INVALID_INDEX,"expected next sibling to be unset for last child of a node"),s.initialNextSibling=v.length,s.nextSibling=v.length}var u=new i.Node(o[1],v.length,l);v.push(u),h.length===u.depth&&h.push(new Array),h[u.depth].push(u)}this.fromNodes(v,h)},m.prototype.fromNodes=function(_,v){this._linearization.clear(),this._innerNodeIndicesById.clear(),this._leafNodeIndicesById.clear(),this._edgeIndexToTopologyIndexMap.length=_.length,this._topologyIndexToEdgeIndexMap.length=_.length,this._edgeIndexToTopologyIndexMap.fill(-1),this._topologyIndexToEdgeIndexMap.fill(-1);for(var h=new Array,c=new Array,o=0,l=v;o<l.length;o++){for(var s=0,u=(E=l[o]).filter(function(N){return N.isLeaf});s<u.length;s++){var f=u[s];h.push(f)}var g=E.filter(function(N){return!N.isLeaf});g.length>0&&c.push(g)}c.push(h);for(var y=0,b=c;y<b.length;y++){var E=b[y];this._linearization.addSliceByLength(E.length)}var x=new Map;this._nodes.length=_.length,x.set(-1,-1);for(var w=0,S=0,O=c;S<O.length;S++)for(var A=0,L=O[S];A<L.length;A++)f=L[A],this._nodes[w]=f,(f.isLeaf?this._leafNodeIndicesById:this._innerNodeIndicesById).set(f.id,w),x.set(f.index,w),this._edgeIndexToTopologyIndexMap[f.index]=w,this._topologyIndexToEdgeIndexMap[w]=f.index,++w;for(var k=0,D=this._nodes;k<D.length;k++)(f=D[k]).index=x.get(f.index),f.parent=x.get(f.parent),f.initialNextSibling=x.get(f.initialNextSibling),f.initialFirstChild=x.get(f.initialFirstChild),f.nextSibling=f.initialNextSibling,f.firstChild=f.initialFirstChild},m.prototype.sliceDo=function(_,v){var h=this;this._linearization.sliceDo(_,function(c,o){for(var l=c;l<=o;++l)v(h._nodes[l])})},m.prototype.initialize=function(_,v,h){var c,o;switch(v){case m.InputSemantics.ParentIdId:switch(_){case m.InputFormat.Tupled:this.fromInterleavedEdgesIdById((c=[]).concat.apply(c,h));break;case m.InputFormat.Interleaved:default:n(h.length%2==0,"Interleaved edges expect to be a multiple of two ids."),this.fromInterleavedEdgesIdById(h)}break;case m.InputSemantics.ParentIndexId:switch(_){case m.InputFormat.Tupled:this.fromInterleavedEdgesIndexById((o=[]).concat.apply(o,h));break;case m.InputFormat.Interleaved:default:n(h.length%2==0,"Interleaved edges expect to be a multiple of two ids."),this.fromInterleavedEdgesIndexById(h)}}return!0},m.prototype.node=function(_){if(!(this._nodes.length<=_))return this._nodes[_]},m.prototype.innerNodeIndexById=function(_){return this._innerNodeIndicesById.get(_)},m.prototype.leafNodeIndexById=function(_){return this._leafNodeIndicesById.get(_)},m.prototype.innerNodeById=function(_){var v=this.innerNodeIndexById(_);if(v!==void 0)return this.node(v)},m.prototype.leafNodeById=function(_){var v=this.leafNodeIndexById(_);if(v!==void 0)return this.node(v)},m.prototype.forEachInnerNode=function(_){for(var v=0;v<this.depth-1;++v)this.sliceDo(v,_)},m.prototype.parentsDoUntilDepth=function(_,v){for(var h=Math.min(Math.max(_,0),this.depth-1),c=0;c<h;++c)this.sliceDo(c,v)},m.prototype.forEachLeafNode=function(_){this.sliceDo(this.depth-1,_)},m.prototype.nodesDo=function(_){this.forEachInnerNode(_),this.forEachLeafNode(_)},m.prototype.reverseNodesDo=function(_){this.forEachLeafNode(_),this.reverseParentsDo(_)},m.prototype.depthFirstDo=function(_){_(this.root)},m.prototype.childrenDo=function(_,v){n(_!==void 0,"Parent is expected to be valid."),_.firstChild!==i.Node.INVALID_INDEX&&this.siblingsDo(this.node(_.firstChild),v)},m.prototype.siblingsDo=function(_,v){var h=_;for(v(h);h.nextSibling!==i.Node.INVALID_INDEX;)v(h=this.node(h.nextSibling))},m.prototype.siblingsRangeDo=function(_,v,h){if(v===void 0)return this.siblingsDo(_,h);for(var c=_;c!==void 0&&c!==v;c=this.node(c.nextSibling))h(c)},m.prototype.reverseParentsDo=function(_){for(var v=this.depth-2;v>=0;--v)this.sliceDo(v,_)},Object.defineProperty(m.prototype,"linearization",{get:function(){return this._linearization},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"numberOfNodes",{get:function(){return this._linearization.numberOfNodes},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"numberOfInnerNodes",{get:function(){return this._linearization.numberOfInnerNodes},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"numberOfLeafNodes",{get:function(){return this._linearization.numberOfLeafNodes},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"depth",{get:function(){return this._linearization.length},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"root",{get:function(){return this._nodes[0]},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"nodes",{get:function(){return this._nodes},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"edgeIndexToTopologyIndexMap",{get:function(){return this._edgeIndexToTopologyIndexMap},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"topologyIndexToEdgeIndexMap",{get:function(){return this._topologyIndexToEdgeIndexMap},enumerable:!1,configurable:!0}),m}();t.Topology=d,function(m){(function(_){_.Interleaved="interleaved",_.Tupled="tupled"})(m.InputFormat||(m.InputFormat={})),function(_){_.ParentIdId="parent-id-id",_.ParentIndexId="parent-index-id"}(m.InputSemantics||(m.InputSemantics={})),function(_){_.TopDown="top-down",_.BottomUp="bottom-up",_.DepthFirst="depth-first"}(m.IterationDirection||(m.IterationDirection={}))}(d=t.Topology||(t.Topology={})),t.Topology=d},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Rect=void 0;var n=r(0).auxiliaries.assert,a=function(){function i(d,m,_,v,h){this._left=d,this._right=_,this._top=v,this._bottom=m,this.orientation=h}return i.clone=function(d){return new i(d.left,d.bottom,d.right,d.top)},Object.defineProperty(i.prototype,"area",{get:function(){return this.width*this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"center",{get:function(){return[(this._left+this._right)/2,(this._bottom+this._top)/2]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shorterSide",{get:function(){return Math.min(this.width,this.height)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"longerSide",{get:function(){return Math.max(this.width,this.height)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isReversed",{get:function(){return this.orientation!==void 0&&this.orientation>=i.Orientation.DC},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return this._top},set:function(d){n(d>=this.bottom,"Non-negative height expected"),this._top=d},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return this._left},set:function(d){n(d<=this.right,"Non-negative width expected"),this._left=d},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return this._right},set:function(d){n(d>=this.left,"Non-negative width expected"),this._right=d},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return this._bottom},set:function(d){n(d<=this.top,"Non-negative height expected"),this._bottom=d},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this._right-this._left},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._top-this._bottom},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isHorizontal",{get:function(){return this.width>this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isVertical",{get:function(){return this.width<=this.height},enumerable:!1,configurable:!0}),i.prototype.relativeTop=function(d){return this.relativeRect(0,1-d,1,d)},i.prototype.truncateTop=function(d){return n(d<=this._top&&d>=this._bottom,"Expect new top to be within rectangle"),new i(this._left,this._bottom,this._right,d)},i.prototype.relativeLeft=function(d){return this.relativeRect(0,0,d,1)},i.prototype.truncateLeft=function(d){return n(d<=this._right&&d>=this._left,"Expect new top to be within rectangle"),new i(d,this._bottom,this._right,this._top)},i.prototype.relativeRight=function(d){return this.relativeRect(1-d,0,d,1)},i.prototype.truncateRight=function(d){return n(d<=this._right&&d>=this._left,"Expect new top to be within rectangle"),new i(this._left,this._bottom,d,this._top)},i.prototype.relativeBottom=function(d){return this.relativeRect(0,0,1,d)},i.prototype.truncateBottom=function(d){return n(d<=this._top&&d>=this._bottom,"Expect new top to be within rectangle"),new i(this._left,d,this._right,this._top)},i.prototype.applyOffset=function(d,m){this._left+=d,this._right+=d,this._top+=m,this._bottom+=m},i.prototype.relativeRect=function(d,m,_,v,h){n(d>=0&&d<=1,"Expect posX to be in [0, 1]"),n(m>=0&&m<=1,"Expect posY to be in [0, 1]"),n(_>=0&&_<=1,"Expect extX to be in [0, 1]"),n(v>=0&&v<=1,"Expect extY to be in [0, 1]"),n(d+_<=1,"Final width must not exceed given width"),n(m+v<=1,"Final height must not exceed given height");var c=this._left+d*this.width,o=this._bottom+m*this.height;return new i(c,o,Math.min(c+_*this.width,this._right),Math.min(o+v*this.height,this._top),h)},i.prototype.equalizedMargin=function(d,m,_){if(this.area<=0)return 0;var v=d,h=2*this.width*d+2*this.height*d-4*d*d;if(h<0||h/this.area>=m||this.shorterSide<2*d){var c=void 0,o=this.area*m*.99,l=.25*(this.width+this.height),s=l*l-.25*o;if(s<=0)c=l;else{var u=Math.sqrt(s),f=l+u,g=l-u;c=(c=Math.min(f,g))<0?0:c}n(c<v,"expected "+c+" to be smaller than "+v),v=c}return v},i.prototype.equalizedRelativeMargin=function(d){if(this.area<=0)return 0;var m=this.area*(1-d),_=this.width/this.height,v=.5*-(Math.sqrt(m*_)+Math.sqrt(m/_)),h=v*v*.25-.25*(this.area-m),c=h<0?0:Math.sqrt(h),o=.5*-v+c,l=.5*-v-c;return o<0||l<0?Math.max(o,l):Math.min(o,l)},i.prototype.padded=function(d){return this.width<2*d||this.height<2*d?new i(this.left,this.bottom,this.left,this.bottom):new i(this.left+d,this.bottom+d,this.right-d,this.top-d)},i.prototype.paddedWithMinArea=function(d,m){return d<=0||1-(2*this.width*d+2*this.height*d-4*d*d)/this.area>=m&&this.shorterSide>4*d?this.padded(d):this.padded(this.shorterSide/4).relativePadded(Math.max(0,1-d/(4*this.shorterSide)))},i.prototype.relativePadded=function(d){var m=d/2;return this.relativeRect(m,m,1-d,1-d)},i.prototype.map=function(d,m){var _=(this.left-d.left)/d.width*m.width+m.left,v=m.right-(d.right-this.right)/d.width*m.width,h=m.top-(d.top-this.top)/d.height*m.height;return new i(_,(this.bottom-d.bottom)/d.height*m.height+m.bottom,v,h)},i.prototype.enclose=function(d){var m=Math.min(this.left,d.left),_=Math.max(this.top,d.top),v=Math.max(this.right,d.right),h=Math.min(this.bottom,d.bottom);this._left=m,this._right=v,this._top=_,this._bottom=h},i.prototype.intersects=function(d){return!(d.left+Number.EPSILON>=this.right)&&!(d.right<=this.left+Number.EPSILON)&&!(d.top<=this.bottom+Number.EPSILON)&&!(d.bottom+Number.EPSILON>=this.top)},i.prototype.comprises=function(d){return this.left-Number.EPSILON<=d.left+Number.EPSILON&&this.right+Number.EPSILON>=d.right-Number.EPSILON&&this.bottom-Number.EPSILON<=d.bottom+Number.EPSILON&&this.top+Number.EPSILON>=d.top-Number.EPSILON},Object.defineProperty(i.prototype,"aspectRatio",{get:function(){return this.width/this.height},enumerable:!1,configurable:!0}),i.prototype.centerAround=function(d){var m=this.center,_=[d[0]-m[0],d[1]-m[1]];this.applyOffset(_[0],_[1])},i}();t.Rect=a,function(i){(function(d){d[d.CD=0]="CD",d[d.AC=1]="AC",d[d.BA=2]="BA",d[d.DB=3]="DB",d[d.DC=4]="DC",d[d.CA=5]="CA",d[d.AB=6]="AB",d[d.BD=7]="BD"})(i.Orientation||(i.Orientation={}))}(a=t.Rect||(t.Rect={})),t.Rect=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NodeSort=void 0;var n=r(1),a=r(7),i=function(){function d(){}return d.byValue=function(m,_,v){if(!(_.length<2)){_.sort(v);for(var h=0;h<_.length-1;++h)_[h][0].nextSibling=_[h+1][0].index;_[_.length-1][0].nextSibling=a.Node.INVALID_INDEX,m.firstChild=_[0][0].index}},d.byValues=function(m,_,v,h){var c=new Array,o=m.node(_.firstChild);do c.push([o,v[o.index]]),o=m.node(o.nextSibling);while(o!==void 0);d.byValue(_,c,h)},d.byIdentifier=function(m,_,v){for(var h=new Array,c=m.node(_.firstChild);c!==void 0;)h.push([c,c.id]),c=m.node(c.nextSibling);d.byValue(_,h,v)},d.restoreOriginalSortOrder=function(m,_){_.firstChild=_.initialFirstChild;for(var v=m.node(_.initialFirstChild);v!==void 0;v=m.node(v.initialNextSibling))v.nextSibling=v.initialNextSibling},d.sortNodes=function(m,_,v,h){var c,o=h.layout.sort;if(o===void 0||o.algorithm===d.Algorithm.Keep)return m.forEachInnerNode(function(s){return d.restoreOriginalSortOrder(m,s)}),!0;switch(o.algorithm){case d.Algorithm.Ascending:c=d.ASCENDING_COMPARATOR;break;case d.Algorithm.Descending:default:c=d.DESCENDING_COMPARATOR}switch(o.key){case d.Key.Weight:var l=n.AttributeBuffer.create(m,_,h.layout.weight,h);l&&m.forEachInnerNode(function(s){return d.byValues(m,s,l,c)});break;case d.Key.Identity:m.forEachInnerNode(function(s){return d.byIdentifier(m,s,c)});break;default:v!==void 0&&m.forEachInnerNode(function(s){return d.byValues(m,s,v,c)})}return!0},d.ASCENDING_COMPARATOR=function(m,_){return m[1]-_[1]},d.DESCENDING_COMPARATOR=function(m,_){return _[1]-m[1]},d}();t.NodeSort=i,function(d){(function(m){m.Keep="keep",m.Ascending="ascending",m.Descending="descending"})(d.Algorithm||(d.Algorithm={})),function(m){m.Identity="identity",m.Weight="weight"}(d.Key||(d.Key={}))}(i=t.NodeSort||(t.NodeSort={})),t.NodeSort=i},function(e,t,r){var n,a=this&&this.__extends||(n=function(h,c){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(o[s]=l[s])})(h,c)},function(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function o(){this.constructor=h}n(h,c),h.prototype=c===null?Object.create(c):(o.prototype=c.prototype,new o)}),i=this&&this.__decorate||function(h,c,o,l){var s,u=arguments.length,f=u<3?c:l===null?l=Object.getOwnPropertyDescriptor(c,o):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(h,c,o,l);else for(var g=h.length-1;g>=0;g--)(s=h[g])&&(f=(u<3?s(f):u>3?s(c,o,f):s(c,o))||f);return u>3&&f&&Object.defineProperty(c,o,f),f};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiRenderTarget=void 0;var d=r(0),m=r(0),_=d.auxiliaries.assert,v=function(h){function c(o){var l=h.call(this)||this;return l._debuggableTargets=new Array,l._debuggableTargetNames=new Array,l._context=o,l}return a(c,h),c.prototype.initializeES2_basic=function(o,l){var s=this._context.gl,u=this._context.gl2facade;this._drawRestricted=!0,this._colorRenderTexture.initialize(o,l,s.RGBA,s.RGBA,s.UNSIGNED_BYTE),this._idRenderTexture.initialize(o,l,s.RGBA,s.RGBA,s.UNSIGNED_BYTE),this._depthStencilRenderTexture.initialize(o,l,s.RGB,s.RGB,s.UNSIGNED_BYTE),this._depthStencilRenderbuffer.initialize(o,l,s.DEPTH_STENCIL),this._depthFBO=new m.Framebuffer(this._context,"DepthFBO"),this._idFBO=new m.Framebuffer(this._context,"IdFBO"),this._primaryFBO.initialize([[u.COLOR_ATTACHMENT0,this._colorRenderTexture],[s.DEPTH_STENCIL_ATTACHMENT,this._depthStencilRenderbuffer]]),this._secondaryFBO.initialize([[u.COLOR_ATTACHMENT0,this._colorRenderTexture],[s.DEPTH_STENCIL_ATTACHMENT,this._depthStencilRenderbuffer]]),this._idFBO.initialize([[u.COLOR_ATTACHMENT0,this._idRenderTexture],[s.DEPTH_STENCIL_ATTACHMENT,this._depthStencilRenderbuffer]]),this._idFBO.clearColor([1,1,1,1],0),this._depthFBO.initialize([[u.COLOR_ATTACHMENT0,this._depthStencilRenderTexture],[s.DEPTH_STENCIL_ATTACHMENT,this._depthStencilRenderbuffer]]),this._depthFBO.clearColor([1,1,1,1],0)},c.prototype.initializeES2_extensions=function(o,l){var s=this._context.gl,u=this._context.gl2facade;this._drawRestricted=!1,this._context.isWebGL1&&(_(this._context.supportsDrawBuffers,"expected WEBGL_draw_buffers to be supported"),_(this._context.supportsDepthTexture,"expected WEBGL_depth_texture to be supported")),this._colorRenderTexture.initialize(o,l,s.RGBA,s.RGBA,s.UNSIGNED_BYTE),this._idRenderTexture.initialize(o,l,s.RGBA,s.RGBA,s.UNSIGNED_BYTE),this._depthStencilRenderTexture.initialize(o,l,s.DEPTH_STENCIL,s.DEPTH_STENCIL,this._context.depthTexture.UNSIGNED_INT_24_8_WEBGL),this._depthStencilRenderbuffer.initialize(o,l,s.DEPTH_STENCIL),this._primaryFBO.initialize([[u.COLOR_ATTACHMENT0,this._colorRenderTexture],[u.COLOR_ATTACHMENT1,this._idRenderTexture],[s.DEPTH_STENCIL_ATTACHMENT,this._depthStencilRenderTexture]]),this._primaryFBO.clearColor([1,1,1,1],1),this._secondaryFBO.initialize([[u.COLOR_ATTACHMENT0,this._colorRenderTexture],[s.DEPTH_STENCIL_ATTACHMENT,this._depthStencilRenderbuffer]]),this._idFBO=new m.Framebuffer(this._context,"IdFBO"),this._idFBO.initialize([[u.COLOR_ATTACHMENT0,this._idRenderTexture]])},c.prototype.initializeES3=function(o,l){var s=this._context.gl,u=this._context.gl2facade;this._drawRestricted=!1,_(this._context.isWebGL2,"expected a webgl2 context"),this._colorRenderTexture.initialize(o,l,s.RGBA8,s.RGBA,s.UNSIGNED_BYTE),this._idRenderTexture.initialize(o,l,s.RGBA8,s.RGBA,s.UNSIGNED_BYTE),this._depthStencilRenderTexture.initialize(o,l,s.DEPTH24_STENCIL8,s.DEPTH_STENCIL,s.UNSIGNED_INT_24_8),this._depthStencilRenderbuffer.initialize(o,l,s.DEPTH_STENCIL),this._primaryFBO.initialize([[u.COLOR_ATTACHMENT0,this._colorRenderTexture],[u.COLOR_ATTACHMENT1,this._idRenderTexture],[s.DEPTH_STENCIL_ATTACHMENT,this._depthStencilRenderTexture]]),this._primaryFBO.clearColor([1,1,1,1],1),this._secondaryFBO.initialize([[u.COLOR_ATTACHMENT0,this._colorRenderTexture],[s.DEPTH_STENCIL_ATTACHMENT,this._depthStencilRenderbuffer]])},c.prototype.initialize=function(){var o=this._context.gl,l=this._context.gl2facade;this._defaultFBO=new m.DefaultFramebuffer(this._context,"DefaultFBO"),this._defaultFBO.initialize(),this._colorRenderTexture=new m.Texture2D(this._context,"ColorRenderTexture"),this._idRenderTexture=new m.Texture2D(this._context,"IdRenderTexture"),this._depthStencilRenderTexture=new m.Texture2D(this._context,"DepthStencilRenderTexture"),this._depthStencilRenderbuffer=new m.Renderbuffer(this._context,"DepthStencilRenderbuffer"),this._primaryFBO=new m.Framebuffer(this._context,"PrimaryFBO"),this._secondaryFBO=new m.Framebuffer(this._context,"SecondaryFBO");var s=this._defaultFBO.width,u=this._defaultFBO.height;return this._context.isWebGL2?this.initializeES3(s,u):this._context.supportsDepthTexture&&this._context.supportsDrawBuffers&&this._context.gl.getParameter(this._context.drawBuffers.MAX_DRAW_BUFFERS_WEBGL)>=2?this.initializeES2_extensions(s,u):this.initializeES2_basic(s,u),this._primaryFBO.clearColor([0,0,0,1],0),this._secondaryFBO.clearColor([0,0,0,1],0),this._primaryFBO.clearDepth(m.ReadbackPass.maxClearDepth()),this._primaryFBO.clearStencil(0),this._secondaryFBO.clearDepth(m.ReadbackPass.maxClearDepth()),this._secondaryFBO.clearStencil(0),this._debuggableTargets.push([this._primaryFBO,l.COLOR_ATTACHMENT0]),this._debuggableTargetNames.push("Color"),this._idFBO?this._debuggableTargets.push([this._idFBO,l.COLOR_ATTACHMENT0]):this._debuggableTargets.push([this._primaryFBO,l.COLOR_ATTACHMENT1]),this._debuggableTargetNames.push("Id"),this._depthFBO?this._debuggableTargets.push([this._depthFBO,l.COLOR_ATTACHMENT0]):this._debuggableTargets.push([this._primaryFBO,o.DEPTH_STENCIL_ATTACHMENT]),this._debuggableTargetNames.push("DepthStencil"),_(this._primaryFBO.valid,this._primaryFBO.identifier+" expected to be valid for rendering"),_(this._secondaryFBO.valid,this._secondaryFBO.identifier+" expected to be valid for rendering"),_(this._idFBO===void 0||this._idFBO.valid,(this._idFBO?this._idFBO.identifier:"")+" expected to be valid for rendering"),_(this._depthFBO===void 0||this._depthFBO.valid,(this._depthFBO?this._depthFBO.identifier:"")+" expected to be valid for rendering"),!0},c.prototype.uninitialize=function(){this._defaultFBO.uninitialize(),this._primaryFBO.uninitialize(),this._idFBO&&this._idFBO.uninitialize(),this._depthFBO&&this._depthFBO.uninitialize(),this._depthStencilRenderbuffer&&this._depthStencilRenderbuffer.uninitialize(),this._colorRenderTexture.uninitialize(),this._idRenderTexture.uninitialize(),this._depthStencilRenderTexture.uninitialize()},c.prototype.debuggableTargets=function(){return this._debuggableTargetNames},c.prototype.debuggableTarget=function(o){if(!(o===void 0||o>=this._debuggableTargets.length||o<0))return this._debuggableTargets[o]},c.prototype.setClearColor=function(o){this._primaryFBO.clearColor(o,0),this._secondaryFBO.clearColor(o,0)},c.prototype.resize=function(o,l){this._primaryFBO.resize(o,l),this._secondaryFBO.resize(o,l),this._idFBO&&this._idFBO.resize(o,l),this._depthFBO&&this._depthFBO.resize(o,l)},Object.defineProperty(c.prototype,"drawRestricted",{get:function(){return this._drawRestricted},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"primaryFBO",{get:function(){return this._primaryFBO},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"secondaryFBO",{get:function(){return this._secondaryFBO},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"defaultFBO",{get:function(){return this._defaultFBO},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"depthFBO",{get:function(){return this._drawRestricted?this._depthFBO:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"idFBO",{get:function(){return this._drawRestricted?this._idFBO:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"readBackIdFBO",{get:function(){return this._idFBO},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"colorRenderTexture",{get:function(){return this._colorRenderTexture},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"idRenderTexture",{get:function(){return this._idRenderTexture},enumerable:!1,configurable:!0}),i([m.Initializable.initialize()],c.prototype,"initialize",null),i([m.Initializable.uninitialize()],c.prototype,"uninitialize",null),c}(m.Initializable);t.MultiRenderTarget=v,function(h){(function(c){c[c.Undefined=-1]="Undefined",c[c.Color=0]="Color",c[c.Id=1]="Id",c[c.Depth=2]="Depth"})(h.Attachment||(h.Attachment={}))}(v=t.MultiRenderTarget||(t.MultiRenderTarget={})),t.MultiRenderTarget=v},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Node=void 0;var n=function(){function a(i,d,m){this._lastChild=a.INVALID_INDEX,this.index=a.INVALID_INDEX,this.id=a.INVALID_ID,this.unmodified=!1,this.depth=a.INVALID_DEPTH,this.height=a.INVALID_HEIGHT,this.parent=a.INVALID_INDEX,this.firstChild=a.INVALID_INDEX,this.initialFirstChild=a.INVALID_INDEX,this.nextSibling=a.INVALID_INDEX,this.initialNextSibling=a.INVALID_INDEX,this.id=i,this.index=d,m!==void 0?(this.depth=m.depth+1,this.parent=m.index,m.initialFirstChild===a.INVALID_INDEX&&(m.initialFirstChild=d,m.firstChild=d),m._lastChild=d):this.depth=0}return Object.defineProperty(a.prototype,"lastChild",{get:function(){return this._lastChild},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isLeaf",{get:function(){return this.firstChild===a.INVALID_INDEX},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isRoot",{get:function(){return this.parent===a.INVALID_INDEX},enumerable:!1,configurable:!0}),a.INVALID_ID=-1,a.INVALID_INDEX=-1,a.INVALID_DEPTH=-1,a.INVALID_HEIGHT=-1,a}();t.Node=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationAids=void 0;var n=r(0);(function(a){var i,d;a.heightScale=function(m,_){switch(_===void 0&&(_=i.SomethingInverseSqrt),_){default:case i.SomethingInverseSqrt:return n.gl_matrix_extensions.clamp(100/Math.sqrt(m.numberOfNodes)+.0125,.0625,.3333)}},function(m){m.SomethingInverseSqrt="SomethingInverseSqrt"}(i=a.HeightScaleApproach||(a.HeightScaleApproach={})),a.parentMargin=function(m,_){switch(_===void 0&&(_=d.SomethingLog10),_){default:case d.SomethingLog10:return .04+.12*(1-Math.log10(m.numberOfNodes+1)/6)}},a.siblingMargin=function(m,_){switch(_===void 0&&(_=d.SomethingLog10),_){default:case d.SomethingLog10:return .01+.12*(1-Math.log10(m.numberOfNodes+1)/6)}},function(m){m.SomethingLog10="SomethingLog10"}(d=a.MarginApproach||(a.MarginApproach={}))})(t.ConfigurationAids||(t.ConfigurationAids={}))},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Layout=t.LayoutOperation=void 0;var n=r(0),a=n.auxiliaries.assert,i=r(4),d=r(78),m=r(79),_=r(81);(function(h){h[h.ParentPadding=0]="ParentPadding",h[h.SiblingMargin=1]="SiblingMargin",h[h.AccessorPadding=2]="AccessorPadding"})(t.LayoutOperation||(t.LayoutOperation={}));var v=function(){function h(){}return h.createLayout=function(c,o,l,s,u,f,g){var y=new Array(c.numberOfNodes);if(a(o!==void 0,"Valid weights expected"),o===void 0)return y;var b=o[0];if(n.auxiliaries.assertions()&&c.numberOfNodes>1){var E=0;c.forEachLeafNode(function(S){E+=o[S.index]}),a(b!==void 0&&(E===0||b>0),"Accumulated leaf weights as root weight expected")}var x=l.aspectRatio,w=!!l.flattenDirectories;switch(l.algorithm){case h.LayoutAlgorithm.Strip:_.StripLayout.compute(c,o,x,y,h.splittingLayoutPostprocessing(l),s,u,f,g,w);break;case h.LayoutAlgorithm.Snake:m.SnakeLayout.compute(c,o,x,y,h.splittingLayoutPostprocessing(l),s,u,f,g,w);break;case h.LayoutAlgorithm.CodeCity:d.CodeCityLayout.compute(c,o,x,y,h.packingLayoutPostprocessing(l),s,u,f)}return y},h.splittingLayoutPostprocessing=function(c){var o={parentPaddingCallback:h.emptyParentCallback,siblingMarginBeforeCallback:h.emptyParentCallback,siblingMarginAfterCallback:h.emptySiblingCallback,accessoryPaddingCallback:h.emptyAccessoryParentCallback},l=[0],s=0;if(c.siblingMargin!==void 0&&(s=c.siblingMargin.value)>=0)switch(c.siblingMargin.type){case h.SiblingMarginType.Absolute:o.siblingMarginAfterCallback=function(E,x,w,S){if(S.isRoot)return E;var O=s;return E.map(x,w).paddedWithMinArea(.5*O,0)};break;case h.SiblingMarginType.Relative:o.siblingMarginAfterCallback=function(E,x,w,S){if(S.isRoot)return E;var O=E.equalizedRelativeMargin(s);return E.map(x,w).paddedWithMinArea(.5*O,0)}}if(c.parentPadding!==void 0&&(l=c.parentPadding.value instanceof Array?c.parentPadding.value:[c.parentPadding.value])[0]>=0)switch(c.parentPadding.type){case h.ParentPaddingType.Mixed:o.parentPaddingCallback=function(E,x,w,S,O,A){var L,k;if(l.length-1>x.depth){var D=l[x.depth];L=E.equalizedMargin(D,.5,.9),k=E.padded(L),O!==void 0&&A!==void 0&&(O[x.index]=k,A[x.index]=L)}else L=E.equalizedRelativeMargin(l[l.length-1]),k=E.padded(L);return k},o.siblingMarginBeforeCallback=function(E,x,w,S){var O;return O=l.length>x.depth?s:E.equalizedRelativeMargin(s),E.padded(.5*-O)};break;case h.ParentPaddingType.Absolute:o.parentPaddingCallback=function(E,x,w,S){var O=E.equalizedMargin(l[0],.5,.6);return E.padded(O)},o.siblingMarginBeforeCallback=function(E,x,w,S){var O=s;return E.padded(.5*-O)};break;case h.ParentPaddingType.Relative:o.parentPaddingCallback=function(E,x,w,S){var O=E.equalizedRelativeMargin(l[0]);return E.padded(O)},o.siblingMarginBeforeCallback=function(E,x,w,S){var O=E.equalizedRelativeMargin(s);return E.padded(.5*-O)}}if(c.accessoryPadding!==void 0){var u=c.accessoryPadding.type,f=c.accessoryPadding.value,g=c.accessoryPadding.direction,y=c.accessoryPadding.relativeAreaThreshold!==void 0?c.accessoryPadding.relativeAreaThreshold:0,b=c.accessoryPadding.targetAspectRatio!==void 0?c.accessoryPadding.targetAspectRatio:Number.NaN;if(f!==void 0)switch(u){case h.AccessoryPaddingType.Absolute:switch(g){case h.AccessoryPaddingDirection.Bottom:o.accessoryPaddingCallback=function(E,x,w,S,O){var A,L;if((A=f instanceof Array?f.length>x.depth?f[x.depth]:0:f)>E.height)return O[x.index]=new i.Rect(0,0,0,0),E;L=y instanceof Array?y.length>x.depth?y[x.depth]:1:y;var k=E.truncateBottom(E.bottom+A),D=E.truncateTop(k.bottom);return k.area/E.area<=L||D.aspectRatio<b?(O[x.index]=new i.Rect(0,0,0,0),E):(O[x.index]=D,k)};break;case h.AccessoryPaddingDirection.Top:o.accessoryPaddingCallback=function(E,x,w,S,O){var A,L;if((A=f instanceof Array?f.length>x.depth?f[x.depth]:0:f)>E.height)return O[x.index]=new i.Rect(0,0,0,0),E;L=y instanceof Array?y.length>x.depth?y[x.depth]:1:y;var k=E.truncateTop(E.top-A),D=E.truncateBottom(k.top);return k.area/E.area<=L||D.aspectRatio<b?(O[x.index]=new i.Rect(0,0,0,0),E):(O[x.index]=D,k)};break;case h.AccessoryPaddingDirection.Left:o.accessoryPaddingCallback=function(E,x,w,S,O){var A,L;if((A=f instanceof Array?f.length>x.depth?f[x.depth]:0:f)>E.width)return O[x.index]=new i.Rect(0,0,0,0),E;L=y instanceof Array?y.length>x.depth?y[x.depth]:1:y;var k=E.truncateLeft(E.left+A),D=E.truncateRight(k.left);return k.area/E.area<=L||D.aspectRatio<b?(O[x.index]=new i.Rect(0,0,0,0),E):(O[x.index]=D,k)};break;case h.AccessoryPaddingDirection.Right:o.accessoryPaddingCallback=function(E,x,w,S,O){var A,L;if((A=f instanceof Array?f.length>x.depth?f[x.depth]:0:f)>E.width)return O[x.index]=new i.Rect(0,0,0,0),E;L=y instanceof Array?y.length>x.depth?y[x.depth]:1:y;var k=E.truncateRight(E.right+A),D=E.truncateLeft(k.right);return k.area/E.area<=L||D.aspectRatio<b?(O[x.index]=new i.Rect(0,0,0,0),E):(O[x.index]=D,k)}}break;case h.AccessoryPaddingType.Relative:switch(g){case h.AccessoryPaddingDirection.Bottom:o.accessoryPaddingCallback=function(E,x,w,S,O){var A,L;A=f instanceof Array?f.length>x.depth?f[x.depth]:0:f,L=y instanceof Array?y.length>x.depth?y[x.depth]:1:y;var k=E.relativeTop(1-A);return k.area/E.area>L?k:E};break;case h.AccessoryPaddingDirection.Top:o.accessoryPaddingCallback=function(E,x,w,S,O){var A,L;A=f instanceof Array?f.length>x.depth?f[x.depth]:0:f,L=y instanceof Array?y.length>x.depth?y[x.depth]:1:y;var k=E.relativeBottom(1-A);return k.area/E.area>L?k:E};break;case h.AccessoryPaddingDirection.Left:o.accessoryPaddingCallback=function(E,x,w,S,O){var A,L;A=f instanceof Array?f.length>x.depth?f[x.depth]:0:f,L=y instanceof Array?y.length>x.depth?y[x.depth]:1:y;var k=E.relativeRight(1-A);return k.area/E.area>L?k:E};break;case h.AccessoryPaddingDirection.Right:o.accessoryPaddingCallback=function(E,x,w,S,O){var A,L;A=f instanceof Array?f.length>x.depth?f[x.depth]:0:f,L=y instanceof Array?y.length>x.depth?y[x.depth]:1:y;var k=E.relativeLeft(1-A);return k.area/E.area>L?k:E}}}}return o},h.packingLayoutPostprocessing=function(c){return{parentPaddingCallback:h.emptyParentCallback,siblingMarginBeforeCallback:h.emptyParentCallback,siblingMarginAfterCallback:h.emptySiblingCallback,accessoryPaddingCallback:h.emptyAccessoryParentCallback}},h.emptyParentCallback=function(c,o,l,s){return c},h.emptyAccessoryParentCallback=function(c,o,l,s,u){return c},h.emptySiblingCallback=function(c,o,l,s){return c},h}();t.Layout=v,function(h){(function(c){c.Strip="strip",c.Snake="snake",c.CodeCity="codecity"})(h.LayoutAlgorithm||(h.LayoutAlgorithm={})),function(c){c.Relative="relative",c.Absolute="absolute"}(h.SiblingMarginType||(h.SiblingMarginType={})),function(c){c.Relative="relative",c.Absolute="absolute",c.Mixed="mixed"}(h.ParentPaddingType||(h.ParentPaddingType={})),function(c){c.Relative="relative",c.Absolute="absolute"}(h.AccessoryPaddingType||(h.AccessoryPaddingType={})),function(c){c.Top="top",c.Bottom="bottom",c.Left="left",c.Right="right"}(h.AccessoryPaddingDirection||(h.AccessoryPaddingDirection={}))}(v=t.Layout||(t.Layout={})),t.Layout=v},function(e,t,r){var n,a=this&&this.__extends||(n=function(y,b){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,x){E.__proto__=x}||function(E,x){for(var w in x)Object.prototype.hasOwnProperty.call(x,w)&&(E[w]=x[w])})(y,b)},function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function E(){this.constructor=y}n(y,b),y.prototype=b===null?Object.create(b):(E.prototype=b.prototype,new E)});Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationRenderer=void 0;var i=r(0),d=r(0),m=r(36),_=r(16),v=r(40),h=r(6),c=r(11),o=r(17),l=r(18),s=r(20),u=r(56),f=i.auxiliaries.assert,g=function(y){function b(E){var x=y.call(this)||this;return x._ndcOffsetScale=1,x._timer=new u.Timer,x._skipInnerNodePasses=!1,x._skipLeafNodePasses=!1,x._skipLabelPass=!1,x._skipInnerLabelPass=!1,x._skipLeafLabelPass=!1,x._skipAggregation=!1,x._enableFxaa=!0,x.coordsAt=function(w,S,O,A){return x._readbackPass.coordsAt(w,S,O,A===void 0?x._camera.viewProjectionInverse:A)},x.idAt=function(w,S){if(x._geometry.initialized){var O=x._readbackPass.idAt(w,S);if(O!==void 0&&O!==0){var A=x._geometry.topology.node(O);return A===void 0?void 0:A.id}}},x._visualization=E,x}return a(b,y),Object.defineProperty(b.prototype,"geometry",{get:function(){return this._geometry},set:function(E){this._geometry=E},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"animations",{get:function(){return this._animations},set:function(E){this._animations=E},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"timer",{get:function(){return this._timer},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"navigation",{get:function(){return this._navigation},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"camera",{get:function(){return this._camera},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"ndcOffsetScale",{get:function(){return this._ndcOffsetScale},set:function(E){this._ndcOffsetScale!==E&&(this._ndcOffsetScale=E,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"enableFxaa",{get:function(){return this._enableFxaa},set:function(E){this._enableFxaa=E},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"framebuffer",{get:function(){return this._accumulationPass.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onSwapCallback",{set:function(E){this._onSwapCallback=E},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"blitTargets",{get:function(){return this._multiRenderTarget.debuggableTargets()},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"blitTarget",{set:function(E){this._blitTarget!==E&&(this._blitTarget=E,this._blitTarget===2&&(this._debugPass.debug=d.DebugPass.Mode.DepthLinear),this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"skipInnerNodePasses",{get:function(){return this._skipInnerNodePasses},set:function(E){this._skipInnerNodePasses!==E&&(this._skipInnerNodePasses=E,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"skipLeafNodePasses",{get:function(){return this._skipLeafNodePasses},set:function(E){this._skipLeafNodePasses!==E&&(this._skipLeafNodePasses=E,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"skipLabelPass",{get:function(){return this._skipLabelPass},set:function(E){this._skipLabelPass!==E&&(this._skipLabelPass=E,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"skipInnerLabelPass",{get:function(){return this._skipInnerLabelPass},set:function(E){this._skipInnerLabelPass!==E&&(this._skipInnerLabelPass=E,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"skipLeafLabelPass",{get:function(){return this._skipLeafLabelPass},set:function(E){this._skipLeafLabelPass!==E&&(this._skipLeafLabelPass=E,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"skipAggregation",{get:function(){return this._skipAggregation},set:function(E){this._skipAggregation!==E&&(this._skipAggregation=E,this._geometry.altered.alter("innerNodeDrawDispatch"),this._geometry.altered.alter("leafNodeDrawDispatch"),this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"colorMode",{set:function(E){this._leafPass0.colorMode=E,this._leafPass1.colorMode=E},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"patternMode",{set:function(E){this._leafPass0.patternMode=E,this._leafPass1.patternMode=E},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"progressMode",{set:function(E){this._leafPass0.progressMode=E,this._leafPass0.progressMode=E},enumerable:!1,configurable:!0}),b.verifyMinimumContextRequirements=function(E){return E.enable(["ANGLE_instanced_arrays","OES_standard_derivatives"]),!0},b.prototype.renderInnerNodes=function(E,x,w){!this._skipInnerNodePasses&&this._geometry.valid&&(this._innerPass.target=E,this._innerPass.attachment=x,this._innerPass.depthMask=w,this._innerPass.frame())},b.prototype.renderLeafNodes=function(E,x,w){!this._skipLeafNodePasses&&this._geometry.valid&&(this._geometry.leafNodeHeights.length>=2&&(this._leafPass1.target=E,this._leafPass1.attachment=x,this._leafPass1.depthMask=w,this._leafPass1.frame()),this._leafPass0.target=E,this._leafPass0.attachment=x,this._leafPass0.depthMask=w,this._leafPass0.frame())},b.prototype.renderLeafLabelBackgrounds=function(E,x){this._skipLeafLabelPass||this._skipLabelPass||(this._labelBackgroundPass.target=E,this._labelBackgroundPass.depthMask=x,this._labelBackgroundPass.frame())},b.prototype.renderPoints=function(E,x){this._skipLeafLabelPass||this._skipLabelPass||(this._pointPass.target=E,this._pointPass.depthMask=x,this._pointPass.frame())},b.prototype.renderInnerLabels=function(E,x,w){if(!this._skipInnerLabelPass&&!this._skipLabelPass&&this._geometry.valid){this._innerLabelPass.target=E,this._innerLabelPass.depthMask=w;var S=this._context.gl;S.enable(S.STENCIL_TEST),S.enable(S.DEPTH_TEST),S.stencilFunc(S.EQUAL,1,255),S.stencilOp(S.KEEP,S.KEEP,S.KEEP),this._innerLabelPass.frame(),S.disable(S.STENCIL_TEST)}},b.prototype.renderLeafLabels=function(E,x,w){this._skipLeafLabelPass||this._skipLabelPass||!this._geometry.valid||(this._leafLabelPass.target=E,this._leafLabelPass.depthMask=w,this._leafLabelPass.frame())},b.prototype.initializeMultiRenderTarget=function(E){this.assertUninitialized(),this._multiRenderTarget=new h.MultiRenderTarget(E),this._multiRenderTarget.initialize(),this._multiRenderTarget.primaryFBO.clearStencil(0),this._multiRenderTarget.secondaryFBO.clearStencil(0)},b.prototype.initializeLeafPasses=function(E){this._leafPass0=new m.AnimatedCuboidRenderPass(E,0),this._leafPass0.initialize(),this._leafPass0.camera=this._camera,this._leafPass1=new m.AnimatedCuboidRenderPass(E,1),this._leafPass1.initialize(),this._leafPass1.camera=this._camera},b.prototype.initializeInnerPass=function(E){this.assertUninitialized(),this._innerPass=new l.QuadRenderPass(E),this._innerPass.initialize(),this._innerPass.camera=this._camera},b.prototype.initializePointPass=function(E){this._pointPass=new o.PointRenderPass(E),this._pointPass.initialize(),this._pointPass.camera=this.camera,this._pointPass.pointSize=3.5},b.prototype.initializeLeafLabelBackgroundPass=function(E){this._labelBackgroundPass=new s.ScreenAlignedQuadRenderPass(E),this._labelBackgroundPass.initialize(),this._labelBackgroundPass.camera=this.camera},b.prototype.initializeLabelPasses=function(E){var x=this;this.assertUninitialized(),this._innerLabelPass=new d.LabelRenderPass(E),this._innerLabelPass.initialize(),this._innerLabelPass.camera=this.camera,this._innerLabelPass.target=this._multiRenderTarget.defaultFBO,this._innerLabelPass.depthFunc=E.gl.ALWAYS,this._innerLabelPass.aaStepScale=.3,this._innerLabelPass.aaSampling=d.LabelRenderPass.Sampling.Grid3x3,this._leafLabelPass=new d.LabelRenderPass(E),this._leafLabelPass.initialize(),this._leafLabelPass.camera=this.camera,this._leafLabelPass.target=this._multiRenderTarget.defaultFBO,this._leafLabelPass.aaStepScale=.3,this._leafLabelPass.aaSampling=d.LabelRenderPass.Sampling.Grid3x3,this._leafLabelPass.depthFunc=E.gl.ALWAYS;var w=window.SeereneConstants?window.SeereneConstants.STATIC_DIRECTORY:"assets";d.FontFace.fromFile(w+"/roboto.fnt",E).then(function(S){for(var O=0,A=x._innerLabelPass.labels;O<A.length;O++)A[O].fontFace=S;for(var L=0,k=x._leafLabelPass.labels;L<k.length;L++)k[L].fontFace=S;x._fontFace=S,x._innerLabelPass.update(!0),x._leafLabelPass.update(!0),x._visualization.configuration&&(x._visualization.configuration.altered.alter("geometry"),x._visualization.configuration.altered.alter("labels")),x.invalidate()}).catch(function(S){return i.auxiliaries.log(i.auxiliaries.LogLevel.Error,S)})},b.prototype.initializeAccumulationPass=function(E){this.assertUninitialized(),f(this._multiRenderTarget.initialized,"expected multi-render target to be initialized"),f(this._ndcTriangle!==void 0,"expected NDC triangle to be defined"),this._accumulationPass=new d.AccumulatePass(E),this._accumulationPass.initialize(this._ndcTriangle),this._accumulationPass.precision=this._framePrecision,this._accumulationPass.texture=this._multiRenderTarget.colorRenderTexture},b.prototype.initializeBlitPass=function(E){this.assertUninitialized(),f(this._multiRenderTarget.initialized,"expected multi-render target to be initialized"),f(this._ndcTriangle!==void 0,"expected NDC triangle to be defined");var x=this._context.gl,w=this._context.gl2facade;this._blitPass=new d.BlitPass(E),this._blitPass.initialize(this._ndcTriangle),this._blitPass.readBuffer=w.COLOR_ATTACHMENT0,this._blitPass.drawBuffer=x.BACK,this._blitPass.target=this._multiRenderTarget.defaultFBO,this._debugPass=new d.DebugPass(E),this._debugPass.initialize(this._ndcTriangle),this._debugPass.readBuffer=w.COLOR_ATTACHMENT0,this._debugPass.drawBuffer=x.BACK,this._debugPass.target=this._multiRenderTarget.defaultFBO},b.prototype.initializeFXAAPass=function(E){this.assertUninitialized(),f(this._multiRenderTarget.initialized,"expected multi-render target to be initialized"),f(this._ndcTriangle!==void 0,"expected NDC triangle to be defined");var x=this._context.gl2facade;this._fxaaPass=new v.FXAAPass(E),this._fxaaPass.initialize(this._ndcTriangle),this._fxaaPass.framebuffer=this._accumulationPass.framebuffer,this._fxaaPass.readBuffer=x.COLOR_ATTACHMENT0,this._fxaaPass.target=this._multiRenderTarget.defaultFBO},b.prototype.initializeReadbackPass=function(E){this.assertUninitialized(),f(this._multiRenderTarget.initialized,"expected multi-render target to be initialized"),f(this._ndcTriangle!==void 0,"expected NDC triangle to be defined"),this._readbackPass=new d.ReadbackPass(E),this._readbackPass.initialize(this._ndcTriangle,this._multiRenderTarget.depthFBO!==void 0),this._readbackPass.cache=!0;var x=this._context.gl,w=this._context.gl2facade;this._multiRenderTarget.depthFBO?(this._readbackPass.depthFBO=this._multiRenderTarget.depthFBO,this._readbackPass.depthAttachment=w.COLOR_ATTACHMENT0):(this._readbackPass.depthFBO=this._multiRenderTarget.primaryFBO,this._readbackPass.depthAttachment=x.DEPTH_STENCIL_ATTACHMENT),this._multiRenderTarget.readBackIdFBO?(this._readbackPass.idFBO=this._multiRenderTarget.readBackIdFBO,this._readbackPass.idAttachment=w.COLOR_ATTACHMENT0):(this._readbackPass.idFBO=this._multiRenderTarget.primaryFBO,this._readbackPass.idAttachment=w.COLOR_ATTACHMENT1)},b.prototype.initializeCamera=function(){this.assertUninitialized(),this._camera=new d.Camera,this._camera.near=b.CAMERA_NEAR_DEFAULT,this._camera.far=b.CAMERA_FAR_DEFAULT,this._camera.eye=i.vec3.fromValues(0,1.5,2.2),this._camera.center=i.vec3.fromValues(0,0,.2),this._camera.up=i.vec3.fromValues(0,1,0),this._camera.fovy=2*d.Camera.calculateFovY(20,60)*i.auxiliaries.RAD2DEG},b.prototype.initializeNavigation=function(E,x){this.assertUninitialized(),this._navigation=new c.Navigation(E,x),this._navigation.camera=this._camera,this._navigation.idAccess=this,this._navigation.coordsAccess=this},b.prototype.onInitialize=function(E,x,w){var S=this;if(!b.verifyMinimumContextRequirements(E))return!1;this._ndcOffsetKernel=new d.AntiAliasingKernel(this._multiFrameNumber),this._ndcOffsetKernel.sort(d.AbstractKernel.SortApproach.BySquaredLength),this._ndcTriangle=new d.NdcFillingTriangle(E,"NdcTriangle"),this._ndcTriangle.initialize(0),this.initializeMultiRenderTarget(E),this.initializeAccumulationPass(E),this.initializeBlitPass(E),this.initializeFXAAPass(E),this.initializeReadbackPass(E),this.initializeCamera(),this.initializeNavigation(x,w),this.initializeInnerPass(E),this.initializeLeafPasses(E),this.initializePointPass(E),this.initializeLeafLabelBackgroundPass(E),this.initializeLabelPasses(E),this._bufferIds=[{},{}];for(var O=0;O<2;O++)this._bufferIds[O]={areaData:[-1,-1],areaDelay:-1,areaDuration:-1,heightData:[-1,-1],heightDelay:-1,heightDuration:-1,colorData:[-1,-1],colorDelay:-1,colorDuration:-1};return this._eventHandler=new i.EventHandler(x,w),this._eventHandler.pushMouseMoveHandler(function(A,L){var k=A[A.length-1],D=S._eventHandler.offsets(k,!0)[0];S._leafPass0.mousePosition=D,S._leafPass1.mousePosition=D}),!0},b.prototype.onUninitialize=function(){this._ndcTriangle.uninitialize(),this._multiRenderTarget.uninitialize(),this._accumulationPass.uninitialize(),this._blitPass.uninitialize(),this._debugPass.uninitialize(),this._readbackPass.uninitialize(),this._innerPass.uninitialize(),this._pointPass.uninitialize(),this._innerLabelPass.uninitialize(),this._leafLabelPass.uninitialize(),this._labelBackgroundPass.uninitialize()},b.prototype.onUpdate=function(){var E=this;this._navigation.update(),this._eventHandler.update();var x=this._visualization.update();this._timer.update();var w=this._animations.some(function(N){return!N.isFinished(E.timer.totalTime)});w=(w=w||this._leafPass0.progressMode===_.ProgressMode.SCREENSPACE)||this._leafPass1.progressMode===_.ProgressMode.SCREENSPACE;for(var S=!1,O=0,A=this._innerLabelPass.labels;O<A.length;O++)if((D=A[O]).altered||D.color.altered){S=!0;break}for(var L=0,k=this._leafLabelPass.labels;L<k.length;L++){var D;if((D=k[L]).altered||D.color.altered){S=!0;break}}return x||S||w||this._altered.any||this._camera.altered},b.prototype.onPrepare=function(){this._geometry.valid&&this.updateGeometryFromAnimation(),this._geometry.altered.any&&this._geometry.valid&&(this._innerPass.ids=this._geometry.innerNodeIndices,this._innerPass.layout=this._geometry.innerNodeLayouts,this._innerPass.colors=this._geometry.innerNodeColors,this._innerPass.emphases=this._geometry.innerNodeEmphases,this._innerPass.colorTable=this._geometry.colorTable,this._leafPass0.ids=this._geometry.leafNodeIndices,this._leafPass0.layoutData=this._geometry.leafNodeLayouts,this._leafPass0.colorTable=this._geometry.colorTable,this._leafPass0.nodeCount=this._geometry.leafNodeCount,this._leafPass1.ids=this._geometry.leafNodeIndices,this._leafPass1.layoutData=this._geometry.leafNodeLayouts,this._leafPass1.colorTable=this._geometry.colorTable,this._leafPass1.nodeCount=this._geometry.leafNodeCount),this._animations[0].altered.areaEasing&&(this._leafPass0.areaEasing=this._animations[0].areaEasing),this._animations[0].altered.heightEasing&&(this._leafPass0.heightEasing=this._animations[0].heightEasing),this._animations[1].altered.colorEasing&&(this._leafPass1.colorEasing=this._animations[1].colorEasing),this._geometry.altered.colorTableLength&&(this._leafPass0.colorTableLengthAltered(),this._leafPass1.colorTableLengthAltered());var E=this._geometry.altered;this._geometry.valid&&E.any&&(E.innerNodeEmphases&&(this._innerPass.emphases=this._geometry.innerNodeEmphases),E.innerNodeDrawDispatch&&!this._skipAggregation&&(this._innerPass.dispatch=this._geometry.innerNodeDrawDispatch.filtered(0)),this._skipAggregation&&(this._innerPass.dispatch=this._geometry.innerNodeDrawDispatch.unfiltered()),E.outlineWidth&&(this._innerPass.outlineWidth=this._geometry.outlineWidth),E.emphasisOutlineWidth&&(this._innerPass.emphasisOutlineWidth=this._geometry.emphasisOutlineWidth),E.leafNodeEmphases&&(this._leafPass0.emphases=this._geometry.leafNodeEmphases),E.leafNodeDrawDispatch&&!this._skipAggregation&&(this._leafPass0.dispatch=this._geometry.leafNodeDrawDispatch.filtered(0),this._leafPass1.dispatch=this._geometry.leafNodeDrawDispatch.filtered(0)),this._skipAggregation&&(this._leafPass0.dispatch=this._geometry.leafNodeDrawDispatch.unfiltered(),this._leafPass1.dispatch=this._geometry.leafNodeDrawDispatch.unfiltered()),E.outlineWidth&&(this._leafPass0.outlineWidth=this._geometry.outlineWidth,this._leafPass1.outlineWidth=this._geometry.outlineWidth),E.emphasisOutlineWidth&&(this._leafPass0.emphasisOutlineWidth=this._geometry.emphasisOutlineWidth,this._leafPass1.emphasisOutlineWidth=this._geometry.emphasisOutlineWidth),E.heightScale&&(this._leafPass0.heightScale=this._geometry.heightScale,this._leafPass1.heightScale=this._geometry.heightScale),E.levitate&&(this._leafPass1.levitate=this._geometry.levitate)),this._altered.frameSize&&(this._multiRenderTarget.resize(this._frameSize[0],this._frameSize[1]),this._camera.viewport=[this._frameSize[0],this._frameSize[1]],this.invalidate()),this._altered.canvasSize&&(this._camera.aspect=this._canvasSize[0]/this._canvasSize[1],this._readbackPass.coordinateReferenceSize=this._canvasSize),this._altered.multiFrameNumber&&(this._ndcOffsetKernel.width=this._multiFrameNumber,this._ndcOffsetKernel.sort(d.AbstractKernel.SortApproach.BySquaredLength)),this._altered.framePrecision&&(this._accumulationPass.precision=this._framePrecision),this._altered.clearColor&&this._multiRenderTarget.setClearColor(this._clearColor),this._innerPass.update(),this._leafPass0.update(this._timer.totalTime),this._leafPass1.update(this._timer.totalTime),this._pointPass.update(),this._labelBackgroundPass.update(),this._innerLabelPass.update(),this._leafLabelPass.update(),this._accumulationPass.update(),this._readbackPass.frame(),this._camera.altered&&(this._debugPass.near=this._camera.near,this._debugPass.far=this._camera.far),this._visualization.prepare(),this._camera.altered=!1,this._geometry.altered.reset(),this._altered.reset()},b.prototype.onFrame=function(E){var x=this._context.gl,w=this._context.gl2facade,S=this._ndcOffsetKernel.get(E);S[0]=2*this._ndcOffsetScale*S[0]/this._frameSize[0],S[1]=2*this._ndcOffsetScale*S[1]/this._frameSize[1],this._leafPass0.ndcOffset=S,this._leafPass1.ndcOffset=S,this._innerPass.ndcOffset=S,this._innerLabelPass.ndcOffset=S,this._leafLabelPass.ndcOffset=S,this._pointPass.ndcOffset=S,this._labelBackgroundPass.ndcOffset=S;var O=E===0,A=this._multiRenderTarget,L=O?A.primaryFBO:A.secondaryFBO;L.clear(x.COLOR_BUFFER_BIT|x.DEPTH_BUFFER_BIT|x.STENCIL_BUFFER_BIT,!0,!1),x.viewport(0,0,this._camera.viewport[0],this._camera.viewport[1]),x.depthFunc(x.LESS);var k=h.MultiRenderTarget.Attachment;A.drawRestricted||w.drawBuffers([w.COLOR_ATTACHMENT0,w.COLOR_ATTACHMENT1]),this.renderLeafNodes(L,A.drawRestricted?k.Color:k.Undefined,!0),this.renderInnerNodes(L,A.drawRestricted?k.Color:k.Undefined,!0),A.drawRestricted||w.drawBuffers([w.COLOR_ATTACHMENT0,x.NONE]),this.renderInnerLabels(L,A.drawRestricted?k.Color:k.Undefined,!1),this.renderLeafLabelBackgrounds(L,!1),this.renderLeafLabels(L,A.drawRestricted?k.Color:k.Undefined,!1),this.renderPoints(L,!1),A.drawRestricted||w.drawBuffers([w.COLOR_ATTACHMENT0,w.COLOR_ATTACHMENT1]),O&&A.idFBO&&(A.idFBO.clear(x.COLOR_BUFFER_BIT|x.STENCIL_BUFFER_BIT),this.renderLeafNodes(A.idFBO,k.Id,!1),this.renderInnerNodes(A.idFBO,k.Id,!1)),O&&A.depthFBO&&(A.depthFBO.clear(x.COLOR_BUFFER_BIT|x.STENCIL_BUFFER_BIT),this.renderLeafNodes(A.depthFBO,k.Depth,!1),this.renderInnerNodes(A.depthFBO,k.Depth,!1)),this._accumulationPass.frame(E)},b.prototype.onSwap=function(){var E,x=this,w=this._multiRenderTarget.debuggableTarget(this._blitTarget);if(this._accumulationPass.initialized&&((E=this._accumulationPass.framebuffer)===null||E===void 0?void 0:E.initialized)&&this._blitPass.initialized&&(!w||w[0].initialized)){var S=!this._timer.isPaused&&this._animations.some(function(A){return!A.isFinished(x._timer.totalTime)});if(S&&this._enableFxaa)this._fxaaPass.framebuffer=w?w[0]:this._accumulationPass.framebuffer,this._fxaaPass.readBuffer=w?w[1]:this._context.gl2facade.COLOR_ATTACHMENT0,this._fxaaPass.frame();else{var O=this._blitTarget===2?this._debugPass:this._blitPass;O.framebuffer=w?w[0]:this._accumulationPass.framebuffer,O.readBuffer=w?w[1]:this._context.gl2facade.COLOR_ATTACHMENT0,O.frame()}S&&this.invalidate(),this._onSwapCallback&&this._onSwapCallback()}},b.prototype.updateGeometryFromAnimation=function(){for(var E=0;E<this._geometry.leafLayerCount;++E){var x=this._animations[E],w=this._bufferIds[E],S=E===0?this._leafPass0:this._leafPass1,O=x.ids(this._timer.totalTime),A=!1;A=x.altered.areaData,(O.areaData.join()!==w.areaData.join()||A)&&(O.areaData=this.updateAreasFromAnimation(E,w.areaData,O.areaData,A)),A=x.altered.heightData,(O.heightData.join()!==w.heightData.join()||A)&&(O.heightData=this.updateHeightsFromAnimation(E,w.heightData,O.heightData,A)),A=x.altered.colorData,(O.colorData.join()!==w.colorData.join()||A)&&(O.colorData=this.updateColorsFromAnimation(E,w.colorData,O.colorData,A)),A=x.altered.areaDelays,(O.areaDelay!==w.areaDelay||A)&&(S.areaDelays=x.areaDelaysById(O.areaDelay)),A=x.altered.heightDelays,(O.heightDelay!==w.heightDelay||A)&&(S.heightDelays=x.heightDelaysById(O.heightDelay)),A=x.altered.colorDelays,(O.colorDelay!==w.colorDelay||A)&&(S.colorDelays=x.colorDelaysById(O.colorDelay)),A=x.altered.areaDurations,(O.areaDuration!==w.areaDuration||A)&&(S.areaDuration=x.areaDurationById(O.areaDuration)),A=x.altered.heightDurations,(O.heightDuration!==w.heightDuration||A)&&(S.heightDuration=x.heightDurationById(O.heightDuration)),A=x.altered.colorDurations,(O.colorDuration!==w.colorDuration||A)&&(S.colorDuration=x.colorDurationById(O.colorDuration)),this._bufferIds[E]=O,x.altered.reset()}},b.prototype.updateHeightsFromAnimation=function(E,x,w,S){S===void 0&&(S=!1);var O=!(w[0]===x[0]||w[0]===x[1]),A=!(w[1]===x[0]||w[1]===x[1]),L=E===0?this._leafPass0:this._leafPass1;return O&&A||S?(L.heights=[this._animations[E].heightsById(w[0]),this._animations[E].heightsById(w[1])],L.swapHeightBuffers=!1,w):O&&!A?w[1]===x[1]?(L.heights=[this._animations[E].heightsById(w[0]),void 0],L.swapHeightBuffers=!L.swapHeightBuffers,w):(L.heights=[void 0,this._animations[E].heightsById(w[0])],L.swapHeightBuffers=!L.swapHeightBuffers,[w[1],w[0]]):!O&&A?w[0]===x[0]?(L.heights=[void 0,this._animations[E].heightsById(w[1])],L.swapHeightBuffers=!L.swapHeightBuffers,w):(L.heights=[this._animations[E].heightsById(w[1]),void 0],L.swapHeightBuffers=!L.swapHeightBuffers,[w[1],w[0]]):x},b.prototype.updateAreasFromAnimation=function(E,x,w,S){S===void 0&&(S=!1);var O=!(w[0]===x[0]||w[0]===x[1]),A=!(w[1]===x[0]||w[1]===x[1]),L=E===0?this._leafPass0:this._leafPass1;return O&&A||S?(L.areas=[this._animations[E].areasById(w[0]),this._animations[E].areasById(w[1])],L.swapAreaBuffers=!1,w):O&&!A?w[1]===x[1]?(L.areas=[this._animations[E].areasById(w[0]),void 0],L.swapAreaBuffers=!L.swapAreaBuffers,w):(L.areas=[void 0,this._animations[E].areasById(w[0])],L.swapAreaBuffers=!L.swapAreaBuffers,[w[1],w[0]]):!O&&A?w[0]===x[0]?(L.areas=[void 0,this._animations[E].areasById(w[1])],L.swapAreaBuffers=!L.swapAreaBuffers,w):(L.areas=[this._animations[E].areasById(w[1]),void 0],L.swapAreaBuffers=!L.swapAreaBuffers,[w[1],w[0]]):x},b.prototype.updateColorsFromAnimation=function(E,x,w,S){S===void 0&&(S=!1);var O=!(w[0]===x[0]||w[0]===x[1]),A=!(w[1]===x[0]||w[1]===x[1]),L=E===0?this._leafPass0:this._leafPass1;return O&&A||S?(L.colors=[this._animations[E].colorsById(w[0]),this._animations[E].colorsById(w[1])],L.swapColorBuffers=!1,w):O&&!A?w[1]===x[1]?(L.colors=[this._animations[E].colorsById(w[0]),void 0],L.swapColorBuffers=!L.swapColorBuffers,w):(L.colors=[void 0,this._animations[E].colorsById(w[0])],L.swapColorBuffers=!L.swapColorBuffers,[w[1],w[0]]):!O&&A?w[0]===x[0]?(L.colors=[void 0,this._animations[E].colorsById(w[1])],L.swapColorBuffers=!L.swapColorBuffers,w):(L.colors=[this._animations[E].colorsById(w[1]),void 0],L.swapColorBuffers=!L.swapColorBuffers,[w[1],w[0]]):x},b.prototype.updateLabelsForPass=function(E,x){for(var w=[],S=0,O=E;S<O.length;S++){var A=O[S];A!==void 0&&(A.fontFace=this._fontFace,w.push(A))}x.labels=w,x.update()},b.prototype.updateLabels=function(E,x){this.updateLabelsForPass(E,this._innerLabelPass),this.updateLabelsForPass(x,this._leafLabelPass)},b.prototype.updateLeafLabelPass=function(){this._leafLabelPass.update()},b.prototype.updateLeafLabelBackgrounds=function(E){for(var x=[],w=[],S=[],O=[],A=0,L=0,k=E;L<k.length;L++)if((H=k[L])&&H.color.a!==0){var D=2*H.extent[1]/this._frameSize[1];A=Math.max(A,D)}for(var N=0,$=E;N<$.length;N++){var H;if((H=$[N])&&H.color.a!==0){x.push(H.position[0],H.position[1],H.position[2]);var q=(2*H.extent[0]+1.75)/this._frameSize[0];w.push(q,A);var X=1.75/this._frameSize[1],Y=H.alignment===d.Label.Alignment.Right?-X-q:X,J=1.75/this._frameSize[1],ee=H.lineAnchor===d.Label.LineAnchor.Top?J-A:-J;S.push(Y,ee);var te=0;H.alignment===d.Label.Alignment.Left?H.lineAnchor===d.Label.LineAnchor.Bottom?te=1:H.lineAnchor===d.Label.LineAnchor.Top&&(te=2):H.alignment===d.Label.Alignment.Right&&(H.lineAnchor===d.Label.LineAnchor.Bottom?te=3:H.lineAnchor===d.Label.LineAnchor.Top&&(te=4)),O.push(te)}}this._labelBackgroundPass.updateData(new Float32Array(x),new Float32Array(w),new Float32Array(S),new Uint8Array(O))},b.prototype.updatePoints=function(E){for(var x=[],w=[],S=0,O=E;S<O.length;S++){var A=O[S];A&&(x.push(A.position[0],A.position[1],A.position[2]),w.push(A.color.r,A.color.g,A.color.b,A.color.a))}this._pointPass.positions=new Float32Array(x),this._pointPass.colors=new Float32Array(w)},b.prototype.frameSizeAltered=function(){return this._altered.frameSize},b.prototype.setCameraEye=function(E,x,w){this._camera.eye=i.vec3.fromValues(E,x,w)},b.prototype.invalidate=function(){this.initialized&&y.prototype.invalidate.call(this,!0)},b.prototype.onDiscarded=function(){},b.CAMERA_NEAR_DEFAULT=.01,b.CAMERA_FAR_DEFAULT=10,b}(d.Renderer);t.AnimationRenderer=g},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Navigation=void 0;var n=r(15),a=r(0),i=a.auxiliaries.assert,d=a.gl_matrix_extensions.v2,m=r(0),_=r(43),v=function(){function h(c,o){var l=this;this._mouseMovedSinceDown=!1,this._seereneModifier=new _.SeereneModifier,this._nodeEnterSubject=new n.ReplaySubject(1),this._nodeMoveSubject=new n.ReplaySubject(1),this._nodeLeaveSubject=new n.ReplaySubject(1),this._nodeSelectSubject=new n.ReplaySubject(1),this._navigationStartSubject=new n.ReplaySubject(1),this._invalidate=c,this._touchSupported=document.documentElement&&"ontouchstart"in document.documentElement||"ontouchstart"in document.body,o.mouseEventProvider.preventDefault(m.MouseEventProvider.Type.Wheel,m.MouseEventProvider.Type.Click),o.pointerEventProvider.preventDefault(m.PointerEventProvider.Type.Down,m.PointerEventProvider.Type.Move,m.PointerEventProvider.Type.Up),this._eventHandler=new m.EventHandler(c,o),this._eventHandler.pushMouseDownHandler(function(s,u){return l.onMouseDown(s,u)}),this._eventHandler.pushMouseUpHandler(function(s,u){return l.onMouseUp(s,u)}),this._eventHandler.pushMouseMoveHandler(function(s,u){return l.onMouseMove(s,u)}),this._eventHandler.pushMouseWheelHandler(function(s,u){return l.onMouseWheel(s,u)}),this._eventHandler.pushClickHandler(function(s,u){return l.onClick(s,u)}),this._touchSupported&&(this._eventHandler.pushTouchStartHandler(function(s,u){return l.onTouchStart(s,u)}),this._eventHandler.pushTouchEndHandler(function(s,u){return l.onTouchEnd(s,u)}),this._eventHandler.pushTouchMoveHandler(function(s,u){return l.onTouchMove(s,u)}),this._eventHandler.pushTouchCancelHandler(function(s,u){return l.onTouchCancel(s,u)}))}return h.prototype.mode=function(c){var o=c.type==="mousedown"||c.type==="mousemove",l=c.type==="wheel";return o&&this.isPrimaryButtonDown(c)?h.Mode.Rotate:o&&this.isSecondaryButtonDown(c)?h.Mode.Pan:o&&this.isAuxiliaryButtonDown(c)?h.Mode.Zoom:l?h.Mode.ZoomStep:this._touchSupported&&c instanceof TouchEvent&&c.touches.length===1?h.Mode.Pan:void 0},h.prototype.rotate=function(c,o){var l=a.vec2.fromValues(c.clientX,c.clientY);o||this._seereneModifier.needStart()?this._seereneModifier.initiate(l,void 0,[!1,!1,!0],c.shiftKey):(this._seereneModifier.update_positions(l),this._seereneModifier.rotate())},h.prototype.pan=function(c,o){var l=this._eventHandler.offsets(c)[0];o||this._seereneModifier.needStart()?this._seereneModifier.initiate(l,void 0,[!0,!1,!1],c.shiftKey):(this._seereneModifier.update_positions(l),this._seereneModifier.translate())},h.prototype.zoom=function(c,o){var l=this._eventHandler.offsets(c)[0];o||this._seereneModifier.needStart()?this._seereneModifier.initiate(l,void 0,[!1,!0,!1],c.shiftKey):(this._seereneModifier.update_positions(l),this._seereneModifier.scale())},h.prototype.emitNodeMovementEvents=function(c){if(this._idAccess!==void 0){var o=this._eventHandler.offsets(c,!1)[0],l=a.vec2.scale(d(),o,window.devicePixelRatio),s=this._idAccess.idAt(l[0],l[1]);this._lastNode===s&&s!==void 0&&this._nodeMoveSubject.next({node:s,point:o}),this._lastNode!==s&&this._lastNode!==void 0&&this._nodeLeaveSubject.next({node:this._lastNode,point:o}),this._lastNode!==s&&s!==void 0&&this._nodeEnterSubject.next({node:s,point:o}),this._lastNode=s}},h.prototype.emitNodeClick=function(c){if(this._idAccess!==void 0){var o=this._eventHandler.offsets(c,!1)[0],l=a.vec2.scale(d(),o,window.devicePixelRatio),s=this._idAccess.idAt(l[0],l[1]);s!==void 0&&this._nodeSelectSubject.next({node:s,point:o})}},h.prototype.applyZoomStep=function(c){var o=this._eventHandler.offsets(c)[0];this._seereneModifier.initiate(o,void 0,[!1,!0,!1],c.shiftKey),c.preventDefault(),this._seereneModifier.scale(c.deltaY)},h.prototype.onMouseDown=function(c,o){this._mouseMovedSinceDown=!1},h.prototype.onMouseUp=function(c,o){},h.prototype.onMouseMove=function(c,o){var l=c[c.length-1];this._mouseMovedSinceDown=!0;var s=this._mode===void 0;switch(this._mode=this.mode(l),this._mode){case h.Mode.Rotate:return this.rotate(l,s),void(s&&this._navigationStartSubject.next());case h.Mode.Pan:return this.pan(l,s),void(s&&this._navigationStartSubject.next());case h.Mode.Zoom:return this.zoom(l,s),void(s&&this._navigationStartSubject.next());default:this.emitNodeMovementEvents(l)}},h.prototype.onClick=function(c,o){var l=c[c.length-1];switch(this._mode){case h.Mode.Rotate:case h.Mode.Pan:case h.Mode.Zoom:return;default:this.emitNodeClick(l)}},h.prototype.onMouseWheel=function(c,o){var l=c[c.length-1];switch(this._mode=this.mode(l),this._mode){case h.Mode.ZoomStep:this.applyZoomStep(l),this._navigationStartSubject.next()}},h.prototype.onTouchStart=function(c,o){var l=c[c.length-1];this._mode=this.mode(l),this._mode!==h.Mode.Pan?i(this._mode===void 0,"Interactions other than pan are not implemented for touch events."):this.pan(l,!0)},h.prototype.onTouchMove=function(c,o){var l=c[c.length-1],s=this._mode===void 0;this._mode=this.mode(l),this._mode!==h.Mode.Pan?i(this._mode===void 0,"Interactions other than pan are not implemented for touch events."):this.pan(l,s)},h.prototype.onTouchEnd=function(c,o){},h.prototype.onTouchCancel=function(c,o){},h.prototype.isPrimaryButtonDown=function(c){return(c.buttons===void 0?c.which:c.buttons)===1},h.prototype.isSecondaryButtonDown=function(c){return c.buttons===void 0?c.which===3:c.buttons===2},h.prototype.isAuxiliaryButtonDown=function(c){return c.buttons===void 0?c.which===2:c.buttons===4},h.prototype.update=function(){this._eventHandler.update()},Object.defineProperty(h.prototype,"camera",{set:function(c){this._camera=c,this._seereneModifier.camera=c},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"coordsAccess",{set:function(c){this._coordsAccess=c,this._seereneModifier.coordsAccess=this._coordsAccess.coordsAt},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"idAccess",{set:function(c){this._idAccess=c},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"nodeEnter$",{get:function(){return this._nodeEnterSubject.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"nodeMove$",{get:function(){return this._nodeMoveSubject.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"nodeLeave$",{get:function(){return this._nodeLeaveSubject.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"nodeSelect$",{get:function(){return this._nodeSelectSubject.asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"navigationStart$",{get:function(){return this._navigationStartSubject.asObservable()},enumerable:!1,configurable:!0}),h}();t.Navigation=v,function(h){(function(c){c[c.Move=0]="Move",c[c.Pan=1]="Pan",c[c.Rotate=2]="Rotate",c[c.Zoom=3]="Zoom",c[c.ZoomStep=4]="ZoomStep"})(h.Mode||(h.Mode={}))}(v=t.Navigation||(t.Navigation={})),t.Navigation=v},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationData=void 0;var n=r(0),a=function(){function i(){this._altered=Object.assign(new n.ChangeLookup,{any:!1,areaData:!1,areaDelays:!1,areaDurations:!1,areaEasing:!1,heightData:!1,heightDelays:!1,heightDurations:!1,heightEasing:!1,colorData:!1,colorDelays:!1,colorDurations:!1,colorEasing:!1}),this.reset()}return i.prototype._calculateEndTime=function(){var d=function(h){for(var c=-1/0,o=0;o<h.length;o++)c=Math.max(c,h[o]);return c},m=d(this._area.delays[this._area.delays.length-1])+this._area.durations[this._area.durations.length-1],_=d(this._height.delays[this._height.delays.length-1])+this._height.durations[this._height.durations.length-1],v=d(this._color.delays[this._color.delays.length-1])+this._color.durations[this._color.durations.length-1];this._endTime=Math.max(m,_,v)},i.prototype._calculateStartTimes=function(){var d=this,m=function(_){for(var v=1/0,h=0;h<_.length;h++)v=Math.min(v,_[h]);return v};this._height.startTimes.length=this._height.delays.length,this._height.delays.forEach(function(_,v){d._height.startTimes[v]=m(_)}),this._color.startTimes.length=this._color.delays.length,this._color.delays.forEach(function(_,v){d._color.startTimes[v]=m(_)})},i.prototype._findLastGreaterStartTime=function(d,m){for(var _=0,v=0,h=d.map(function(s,u){return{time:s,index:u}});v<h.length;v++){var c=h[v],o=c.time,l=c.index;if(!(m>=o))break;_=l}return _},i.prototype.reset=function(){this._area=new i.Area,this._height=new i.Height,this._color=new i.Color,this._endTime=-1,this._altered.alter("any")},i.prototype.ids=function(d){var m=this._findLastGreaterStartTime(this._area.startTimes,d),_=this._findLastGreaterStartTime(this._height.startTimes,d),v=this._findLastGreaterStartTime(this._color.startTimes,d),h=this._area.startTimes.length,c=this._height.startTimes.length,o=this._color.startTimes.length;return{areaData:[m,Math.min(m+1,h)],areaDelay:m,areaDuration:m,heightData:[_,Math.min(_+1,c)],heightDelay:_,heightDuration:_,colorData:[v,Math.min(v+1,o)],colorDelay:v,colorDuration:v}},Object.defineProperty(i.prototype,"areas",{set:function(d){this._area.data=d,this._altered.alter("areaData")},enumerable:!1,configurable:!0}),i.prototype.areasById=function(d){return this._area.data[d]},Object.defineProperty(i.prototype,"heights",{set:function(d){this._height.data=d,this._altered.alter("heightData")},enumerable:!1,configurable:!0}),i.prototype.heightsById=function(d){return this._height.data[d]},Object.defineProperty(i.prototype,"colors",{set:function(d){this._color.data=d,this._altered.alter("colorData")},enumerable:!1,configurable:!0}),i.prototype.colorsById=function(d){return this._color.data[d]},Object.defineProperty(i.prototype,"areaDelays",{set:function(d){this._area.delays=d,this._calculateStartTimes(),this._altered.alter("areaDelays")},enumerable:!1,configurable:!0}),i.prototype.areaDelaysById=function(d){return this._area.delays[d]},Object.defineProperty(i.prototype,"heightDelays",{set:function(d){this._height.delays=d,this._calculateStartTimes(),this._altered.alter("heightDelays")},enumerable:!1,configurable:!0}),i.prototype.heightDelaysById=function(d){return this._height.delays[d]},Object.defineProperty(i.prototype,"colorDelays",{set:function(d){this._color.delays=d,this._calculateStartTimes(),this._altered.alter("colorDelays")},enumerable:!1,configurable:!0}),i.prototype.colorDelaysById=function(d){return this._color.delays[d]},Object.defineProperty(i.prototype,"areaDurations",{set:function(d){this._area.durations=d,this._altered.alter("areaDurations")},enumerable:!1,configurable:!0}),i.prototype.areaDurationById=function(d){return this._area.durations[d]},Object.defineProperty(i.prototype,"heightDurations",{set:function(d){this._height.durations=d,this._altered.alter("heightDurations")},enumerable:!1,configurable:!0}),i.prototype.heightDurationById=function(d){return this._height.durations[d]},Object.defineProperty(i.prototype,"colorDurations",{set:function(d){this._color.durations=d,this._altered.alter("colorDurations")},enumerable:!1,configurable:!0}),i.prototype.colorDurationById=function(d){return this._color.durations[d]},Object.defineProperty(i.prototype,"areaEasing",{get:function(){return this._area.easing},set:function(d){this._area.easing=d,this._altered.alter("areaEasing")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"heightEasing",{get:function(){return this._height.easing},set:function(d){this._height.easing=d,this._altered.alter("heightEasing")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"colorEasing",{get:function(){return this._color.easing},set:function(d){this._color.easing=d,this._altered.alter("colorEasing")},enumerable:!1,configurable:!0}),i.prototype.isFinished=function(d){return this.endTime<d},Object.defineProperty(i.prototype,"endTime",{get:function(){return this._endTime===-1&&this._calculateEndTime(),this._endTime},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"altered",{get:function(){return this._altered},enumerable:!1,configurable:!0}),i}();t.AnimationData=a,function(i){var d=function(){this.data=[new Uint8Array,new Uint8Array],this.delays=[new Float32Array],this.durations=[1],this.easing=_.LINEAR,this.startTimes=[0]};i.Area=d;var m=function(){this.data=[new Uint8Array,new Uint8Array],this.delays=[new Float32Array],this.durations=[1],this.easing=_.LINEAR,this.startTimes=[0]};i.Height=m;var _,v=function(){this.data=[new Uint8Array,new Uint8Array],this.delays=[new Float32Array],this.durations=[1],this.easing=_.LINEAR,this.startTimes=[0]};i.Color=v,function(h){h[h.LINEAR=0]="LINEAR",h[h.SMOOTHSTEP=1]="SMOOTHSTEP",h[h.UNIMPLEMENTED=-1]="UNIMPLEMENTED"}(_=i.Easing||(i.Easing={}))}(a=t.AnimationData||(t.AnimationData={})),t.AnimationData=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.GeometryCreation=void 0;var n=function(){function a(){}return a.getColorIndexByEdges=function(i,d,m,_){for(var v=0;v<m.length&&i>m[v];)++v;return Math.min(v,d-1)},a.getColorIndexByEdgesInverted=function(i,d,m,_){for(var v=0;v<m.length;v++)if(i<=m[v])return d-1-v;return 0},a.getColorIndex=function(i,d,m){var _=(i-m[0])/(m[1]-m[0]);return Math.min(d-1,Math.floor(Math.max(0,d*_-1e-4)))},a.getColorIndexInverted=function(i,d,m){return d-1-this.getColorIndex(i,d,m)},a.getColorIndexComputation=function(i,d,m,_){var v=this;return d===void 0?m?function(h){return v.getColorIndexInverted(h,i,_)}:function(h){return v.getColorIndex(h,i,_)}:m?function(h){return v.getColorIndexByEdgesInverted(h,i,d,_)}:function(h){return v.getColorIndexByEdges(h,i,d,_)}},a.insertLayoutIntoBuffer=function(i,d,m){var _=4*d;i[_+0]=2*m.left-1,i[_+1]=1-2*m.bottom-2*m.height,i[_+2]=2*m.width,i[_+3]=2*m.height},a.createLeafLayoutBuffer=function(i,d,m){var _=new Float32Array(4*i.numberOfLeafNodes),v=i.numberOfInnerNodes;return i.forEachLeafNode(function(h){var c=h.index-v,o=d[h.index];a.insertLayoutIntoBuffer(_,c,o)}),_},a.createLeafUnmodifiedBuffer=function(i,d){var m=new Uint8Array(i.numberOfLeafNodes),_=i.numberOfInnerNodes;return i.forEachLeafNode(function(v){var h=v.index-_;m[h]=v.unmodified?1:0}),m},a.createLayerHeightBuffer=function(i,d,m,_){var v=new Uint8Array(2*i.numberOfLeafNodes),h=i.numberOfInnerNodes,c=!1;return i.forEachLeafNode(function(o){var l=o.index-h,s=m!==void 0?Math.max(m[2*l+1],0):0,u=Math.max(d[o.index],0),f=s+255*u;s>0&&u>0&&(f=Math.ceil(f)),f>255&&(c=!0,f=255),v[2*l+0]=s,v[2*l+1]=f}),c&&console.error("Height value overflow"),v},a.createEmptyLayerHeightBuffer=function(i){return new Uint8Array(2*i.numberOfLeafNodes)},a.createLeafAreaScalesBuffer=function(i,d){var m=new Uint8Array(i.numberOfLeafNodes),_=i.numberOfInnerNodes;return i.forEachLeafNode(function(v){var h=v.index-_,c=Math.min(255*d[v.index],255);m[h]=c}),m},a.createDefaultLeafAreaScalesBuffer=function(i,d){d===void 0&&(d=1);var m=new Uint8Array(i.numberOfLeafNodes);return m.fill(255*d),m},a.createParentLayoutBuffer=function(i,d,m){var _=new Float32Array(4*i.numberOfInnerNodes);return i.forEachInnerNode(function(v){var h=v.index,c=d[v.index];a.insertLayoutIntoBuffer(_,h,c)}),_},a.defaultLeafNodeColors=function(i,d){var m=new Uint8Array(i.numberOfLeafNodes);return m.fill(d),m},a.createLeafNodeColors=function(i,d,m,_,v,h,c,o,l){var s=new Uint8Array(i.numberOfLeafNodes),u=i.numberOfInnerNodes,f=this.getColorIndexComputation(_,c,o,v);return i.forEachLeafNode(function(g){var y=g.index-u,b=d[g.index];if(b>-1){var E=l&&l[g.index]===0?-1:1;s[y]=E*(m+f(b))+32}else s[y]=h+32}),s},a.createLeafNodeHeights=function(){return new Uint8Array(0)},a.createLeafNodeAreaScales=function(){return new Uint8Array(0)},a}();t.GeometryCreation=n,function(a){(function(i){i.Plain="plain"})(a.ParentShading||(a.ParentShading={})),function(i){i.Plain="plain",i.Diff="diff"}(a.LeafShading||(a.LeafShading={}))}(n=t.GeometryCreation||(t.GeometryCreation={})),t.GeometryCreation=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceAdapter=void 0;var n=r(0),a=r(1),i=r(2),d=r(8),m=r(9),_=r(5),v=r(30),h=r(31),c=r(3),o=function(){function l(){this._config=new i.Configuration,this.setupLayoutAndGeometry()}return l.prototype.loadAll=function(s,u,f,g,y,b){this.loadAndPrepareAreaData(s),this.loadAndPrepareColorData(u),this.loadAndPrepareHeightData(f,y,b),this.loadNames(g)},l.prototype.loadCombinedFormat=function(s,u){var f,g,y=new v.BufferReader(s),b=new v.ServiceFormatHeader(y);if(b.hasFlag(v.BufferFlags.HIERARCHY)){var E=y.getInt(),x=y.getInt(),w=y.getByteArray(x);y.addPadding(),this.createOrUpdateTopology(w,E)}if(b.hasFlag(v.BufferFlags.HEIGHTS)&&(f=new h.ServiceBufferHeader(s,y.offset),y.offset=f.offset+f.length*Uint16Array.BYTES_PER_ELEMENT,y.addPadding()),b.hasFlag(v.BufferFlags.HEIGHTS_COMPARE)&&(g=new h.ServiceBufferHeader(s,y.offset),y.offset=g.offset+g.length*Uint16Array.BYTES_PER_ELEMENT,y.addPadding()),this.loadAndPrepareHeightDataV2(s,f,g),b.hasFlag(v.BufferFlags.AREAS)){var S=new h.ServiceBufferHeader(s,y.offset);y.offset=S.offset+S.length*Uint16Array.BYTES_PER_ELEMENT,y.addPadding(),this.loadAndPrepareAreaData(s,S)}b.hasFlag(v.BufferFlags.COLORS)?y.addPadding():this.loadAndPrepareColorData(s,f)},l.prototype.loadAndPrepareAreaData=function(s,u){u||(u=new h.ServiceBufferHeader(s)),n.auxiliaries.log(n.auxiliaries.LogLevel.Debug,"area - min: "+u.minimum+", max: "+u.maximum),this.createOrUpdateBuffer({identifier:l.BufferIdentifier.SourceArea,type:a.AttributeBuffer.DataType.Uint16,data:new Uint16Array(s,u.offset,u.length),encoding:a.AttributeBuffer.Encoding.Native,linearization:a.AttributeBuffer.Linearization.Topology}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.DecodedArea,source:"buffer:"+l.BufferIdentifier.SourceArea,transformations:[this.metricRangeTransform(u.minimum,u.maximum)]});var f=Math.max(1e-5,u.maximum);u.maximum===0&&console.warn("treemap: max area is 0 - clamping to "+f+" for successful layout"),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.ClampedArea,source:"bufferView:"+l.BufferViewIdentifier.DecodedArea,transformations:[{type:"clamp",min:f*l.MINIMUM_NODE_WEIGHT,max:f}]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.Weight,source:"bufferView:"+l.BufferViewIdentifier.ClampedArea,transformations:[{type:"propagate-up",operation:"sum"}]}),this._config.altered.alter("buffers"),this._config.altered.alter("bufferViews")},l.prototype.loadAndPrepareColorData=function(s,u){u||(u=new h.ServiceBufferHeader(s)),n.auxiliaries.log(n.auxiliaries.LogLevel.Debug,"color - min: "+u.minimum+", max: "+u.maximum),this.createOrUpdateBuffer({identifier:l.BufferIdentifier.SourceColor,type:a.AttributeBuffer.DataType.Uint16,data:new Uint16Array(s,u.offset,u.length),encoding:a.AttributeBuffer.Encoding.Native,linearization:a.AttributeBuffer.Linearization.Topology}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.DecodedColor,source:"buffer:"+l.BufferIdentifier.SourceColor,transformations:[this.metricRangeTransform(u.minimum,u.maximum)]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.Unmodified,source:"buffer:"+l.BufferIdentifier.SourceColor,transformations:[{type:"mask",value:l.UINT16_ENCODING_UNMODIFIED}]}),this._config.altered.alter("buffers"),this._config.altered.alter("bufferViews")},l.prototype.loadAndPrepareHeightData=function(s,u,f){var g=new h.ServiceBufferHeader(s);n.auxiliaries.log(n.auxiliaries.LogLevel.Debug,"height - min: "+g.minimum+", max: "+g.maximum);var y=g.offset,b=new Uint16Array(s,g.offset,g.length);if(g.minimum>0&&g.minimum===g.maximum)for(var E=0;E<b.length;E++)b[E]===l.UINT16_ENCODING_ZERO&&(b[E]=l.UINT16_ENCODING_MAX);if(this.createOrUpdateBuffer({identifier:l.BufferIdentifier.SourceHeight,type:a.AttributeBuffer.DataType.Uint16,data:b,encoding:a.AttributeBuffer.Encoding.Native,linearization:a.AttributeBuffer.Linearization.Topology}),y+=Uint16Array.BYTES_PER_ELEMENT*g.length,y+=Int32Array.BYTES_PER_ELEMENT,this.createOrUpdateBuffer({identifier:l.BufferIdentifier.SourceCompareThreshold,type:a.AttributeBuffer.DataType.Int8,data:new Int8Array(s,y,g.length),encoding:a.AttributeBuffer.Encoding.Native,linearization:a.AttributeBuffer.Linearization.Topology}),y+=Int8Array.BYTES_PER_ELEMENT*g.length,u){y+=4-y%4;var x=new Uint32Array(s,y,1)[0];y+=Uint32Array.BYTES_PER_ELEMENT;var w=new Uint32Array(s,y,1)[0];y+=Uint32Array.BYTES_PER_ELEMENT,this.createOrUpdateTopology(new Uint8Array(s,y,w),x)}this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.DecodedHeight,source:"buffer:"+l.BufferIdentifier.SourceHeight,transformations:[this.metricRangeTransform(g.minimum,g.maximum)]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.NormalizedHeight,source:"buffer:"+l.BufferIdentifier.SourceHeight,transformations:[this.metricRangeTransform(0,1)]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.HeightChange,source:"buffer:"+l.BufferIdentifier.SourceCompareThreshold,transformations:[{type:"threshold",value:0}]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.BaseHeight,source:"buffer:"+l.BufferIdentifier.SourceCompareThreshold,transformations:[{type:"transform",operation:"divide",parameter:127},{type:"transform",operation:"as-remainder"},{type:"transform",operation:"multiply",buffer:"bufferView:"+l.BufferViewIdentifier.NormalizedHeight}]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.DecodedBaseHeight,source:"buffer:"+l.BufferIdentifier.SourceCompareThreshold,transformations:[{type:"transform",operation:"divide",parameter:127},{type:"transform",operation:"as-remainder"},{type:"transform",operation:"multiply",buffer:"bufferView:"+l.BufferViewIdentifier.DecodedHeight}]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.DeltaHeight,source:"bufferView:"+l.BufferViewIdentifier.NormalizedHeight,transformations:[{type:"transform",operation:"subtract",buffer:"bufferView:"+l.BufferViewIdentifier.BaseHeight},{type:"transform",operation:"abs"}]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.DecodedDeltaHeight,source:"bufferView:"+l.BufferViewIdentifier.DecodedHeight,transformations:[{type:"transform",operation:"subtract",buffer:"bufferView:"+l.BufferViewIdentifier.DecodedBaseHeight},{type:"transform",operation:"abs"}]}),this._config.altered.alter("buffers"),this._config.altered.alter("bufferViews")},l.prototype.loadAndPrepareHeightDataV2=function(s,u,f){n.auxiliaries.log(n.auxiliaries.LogLevel.Debug,"height - min: "+u.minimum+", max: "+u.maximum),this.createOrUpdateBuffer({identifier:l.BufferIdentifier.SourceHeight,type:a.AttributeBuffer.DataType.Uint16,data:new Uint16Array(s,u.offset,u.length),encoding:a.AttributeBuffer.Encoding.Native,linearization:a.AttributeBuffer.Linearization.Topology}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.DecodedHeight,source:"buffer:"+l.BufferIdentifier.SourceHeight,transformations:[this.metricRangeTransform(u.minimum,u.maximum)]}),f?(this.createOrUpdateBuffer({identifier:l.BufferIdentifier.SourceCompareHeight,type:a.AttributeBuffer.DataType.Uint16,data:new Uint16Array(s,f.offset,f.length),encoding:a.AttributeBuffer.Encoding.Native,linearization:a.AttributeBuffer.Linearization.Topology}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.DecodedCompareHeight,source:"buffer:"+l.BufferIdentifier.SourceCompareHeight,transformations:[this.metricRangeTransform(f.minimum,f.maximum)]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.DecodedBaseHeight,source:"bufferView:"+l.BufferViewIdentifier.DecodedHeight,transformations:[{type:"transform",operation:"min",buffer:"bufferView:"+l.BufferViewIdentifier.DecodedCompareHeight}]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.DecodedDeltaHeight,source:"bufferView:"+l.BufferViewIdentifier.DecodedHeight,transformations:[{type:"transform",operation:"subtract",buffer:"bufferView:"+l.BufferViewIdentifier.DecodedCompareHeight},{type:"transform",operation:"abs"}]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.BaseHeight,source:"bufferView:"+l.BufferViewIdentifier.DecodedBaseHeight,transformations:[{type:"range-transform",sourceRange:[u.minimum,u.maximum],targetRange:[0,1]}]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.DeltaHeight,source:"bufferView:"+l.BufferViewIdentifier.DecodedDeltaHeight,transformations:[{type:"range-transform",sourceRange:[f.minimum,f.maximum],targetRange:[0,1]}]}),this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.HeightChange,source:"buffer:"+l.BufferIdentifier.SourceHeight,transformations:[{type:"transform",operation:"compare",buffer:"buffer:"+l.BufferIdentifier.SourceCompareHeight},{type:"threshold",value:0}]})):this.createOrUpdateBufferView({identifier:l.BufferViewIdentifier.BaseHeight,source:"bufferView:"+l.BufferViewIdentifier.DecodedHeight,transformations:[{type:"range-transform",sourceRange:[u.minimum,u.maximum],targetRange:[0,1]}]}),this._config.altered.alter("buffers"),this._config.altered.alter("bufferViews")},l.prototype.metricRangeTransform=function(s,u){return{type:"range-transform",sourceRange:[l.UINT16_ENCODING_ZERO,l.UINT16_ENCODING_MAX],targetRange:[s,u]}},l.prototype.setupLayoutAndGeometry=function(){this._config.colors=[{identifier:"emphasis",space:"hex",value:"#00b0ff"},{identifier:"auxiliary",space:"hex",values:["#00aa5e","#71237c"]},{identifier:"inner",space:"hex",values:["#e8eaee","#eef0f4"]},{identifier:"analysis",space:"hex",values:["#ffffff","#fed500","#fe8500","#e62325"]},{identifier:"segmentation",space:"hex",values:["#ffffff","#5392ff","#71cddd","#34bc6e","#95d13c","#db7c00","#ffb000","#ff509e","#9b82f3"]}],this._config.layout={algorithm:m.Layout.LayoutAlgorithm.Snake,weight:"bufferView:"+l.BufferViewIdentifier.Weight,aspectRatio:1,sort:{key:_.NodeSort.Key.Weight,algorithm:_.NodeSort.Algorithm.Descending},siblingMargin:{type:"relative",value:.1},parentPadding:{type:"relative",value:.02},accessoryPadding:{type:"absolute",direction:"bottom",value:[0,.018,.015],relativeAreaThreshold:.4,targetAspectRatio:2},cascade:!1,flattenDirectories:!1},this._config.altered.alter("geometry"),this._config.geometry={aggregation:{buffer:"bufferView:"+l.BufferViewIdentifier.Unmodified,depthThreshold:2,valueThreshold:1},emphasis:{outline:new Array,highlight:new Array},parentLayer:{showRoot:!1},leafLayers:[{colorScheme:{inverted:!1,classBounds:void 0},colorMap:"color:analysis",height:"bufferView:"+l.BufferViewIdentifier.BaseHeight,colors:"bufferView:"+l.BufferViewIdentifier.DecodedColor},{colorScheme:{inverted:!1,classBounds:void 0},colorMap:"color:analysis",height:"bufferView:"+l.BufferViewIdentifier.DeltaHeight,colors:"bufferView:"+l.BufferViewIdentifier.HeightChange}],heightScale:d.ConfigurationAids.HeightScaleApproach.SomethingInverseSqrt},this._config.labels={innerNodeLayerRange:[1,3],numTopInnerNodes:200,numTopWeightNodes:0,numTopHeightNodes:3,numTopColorNodes:3}},l.prototype.createOrUpdateBuffer=function(s){for(var u=0;u<this._config.buffers.length&&this._config.buffers[u].identifier!==s.identifier;)++u;this._config.buffers.length===u?this._config.buffers.push(s):this._config.buffers.splice(u,1,s)},l.prototype.createOrUpdateBufferView=function(s){for(var u=0;u<this._config.bufferViews.length&&this._config.bufferViews[u].identifier!==s.identifier;)++u;this._config.bufferViews.length===u?this._config.bufferViews.push(s):this._config.bufferViews.splice(u,1,s)},l.prototype.createOrUpdateTopology=function(s,u){for(var f=new Array,g=new Array,y=u+1,b=0;b<s.length;b+=y){for(var E=n.vec4.create(),x=0;x<u;x++)E[x]=s[b+x];var w=n.gl_matrix_extensions.decode_uint32_from_rgba8(E),S=s[b+u];if(S>0){var O=g[S-1];f.push(O),f.push(w)}g[S]=w}this._config.topology={edges:f,format:c.Topology.InputFormat.Interleaved}},l.prototype.loadNames=function(s){var u=new Map;if(s.apps||s.groups){for(var f in s.apps){var g=parseInt(f,10);u.set(g,s.apps[f])}for(var f in s.groups)g=parseInt(f,10),u.set(g,s.groups[f])}else Object.keys(s).forEach(function(y){var b=parseInt(y,10);u.set(b,s[b])});this._config.labels.callback=function(y,b){return b(u)}},Object.defineProperty(l.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),l.UINT16_ENCODING_DB_NULL=0,l.UINT16_ENCODING_UNMODIFIED=1,l.UINT16_ENCODING_ZERO=2,l.UINT16_ENCODING_MAX=65535,l.MINIMUM_NODE_WEIGHT=.01,l}();t.ServiceAdapter=o,function(l){(function(s){s.SourceArea="SourceArea",s.SourceHeight="SourceHeight",s.SourceColor="SourceColor",s.SourceCompareThreshold="SourceCompareThresholds",s.SourceCompareHeight="SourceCompareHeight"})(l.BufferIdentifier||(l.BufferIdentifier={})),function(s){s.DecodedArea="DecodedArea",s.ClampedArea="ClampedArea",s.Weight="Weight",s.DecodedColor="DecodedColor",s.HeightChange="HeightChange",s.Unmodified="Unmodified",s.DecodedHeight="DecodedHeight",s.DecodedCompareHeight="DecodedCompareHeight",s.NormalizedHeight="NormalizedHeight",s.BaseHeight="BaseHeight",s.DeltaHeight="DeltaHeight",s.DecodedBaseHeight="DecodedBaseHeight",s.DecodedDeltaHeight="DecodedDeltaHeight"}(l.BufferViewIdentifier||(l.BufferViewIdentifier={}))}(o=t.ServiceAdapter||(t.ServiceAdapter={})),t.ServiceAdapter=o},function(e,t){e.exports=ZI},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressMode=t.ColorMode=void 0,function(n){n[n.UNDEFINED=-1]="UNDEFINED",n[n.VERTICAL=0]="VERTICAL",n[n.ARROWS=1]="ARROWS",n[n.ARROWS_FULL=2]="ARROWS_FULL",n[n.ARROWS_DIVIDED_STATIC=3]="ARROWS_DIVIDED_STATIC",n[n.ARROWS_DIVIDED_DYNAMIC=4]="ARROWS_DIVIDED_DYNAMIC",n[n.DITHERING=5]="DITHERING",n[n.PYRAMID=6]="PYRAMID",n[n.NOISE=7]="NOISE",n[n.NOISE_DOUBLE=8]="NOISE_DOUBLE",n[n.QUADS=9]="QUADS"}(t.ColorMode||(t.ColorMode={})),function(n){n[n.TIMER=0]="TIMER",n[n.WORLDSPACE=1]="WORLDSPACE",n[n.SCREENSPACE=2]="SCREENSPACE"}(t.ProgressMode||(t.ProgressMode={}))},function(e,t,r){var n,a=this&&this.__extends||(n=function(h,c){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(o[s]=l[s])})(h,c)},function(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function o(){this.constructor=h}n(h,c),h.prototype=c===null?Object.create(c):(o.prototype=c.prototype,new o)}),i=this&&this.__decorate||function(h,c,o,l){var s,u=arguments.length,f=u<3?c:l===null?l=Object.getOwnPropertyDescriptor(c,o):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(h,c,o,l);else for(var g=h.length-1;g>=0;g--)(s=h[g])&&(f=(u<3?s(f):u>3?s(c,o,f):s(c,o))||f);return u>3&&f&&Object.defineProperty(c,o,f),f};Object.defineProperty(t,"__esModule",{value:!0}),t.PointRenderPass=void 0;var d=r(0),m=r(0),_=r(44),v=function(h){function c(o){var l=h.call(this)||this;return l._altered=Object.assign(new m.ChangeLookup,{any:!1,camera:!1,geometry:!1}),l._context=o,l._program=new m.Program(o,"PointRenderProgram"),l._geometry=new _.PointGeometry(l._context,"Point"),l}return a(c,h),c.prototype.relink=function(){for(var o=0,l=this._program.shaders;o<l.length;o++)l[o].compile();this._program.attribute("a_vertex",this._geometry.vertexLocation),this._program.attribute("a_color",this._geometry.colorLocation),this._program.link(),this._program.linked&&(this._uViewProjection=this._program.uniform("u_viewProjection"),this._uNdcOffset=this._program.uniform("u_ndcOffset"),this._uPointSize=this._program.uniform("u_pointSize"))},c.prototype.initialize=function(){var o=this._context.gl,l=new m.Shader(this._context,o.VERTEX_SHADER,"point.vert");l.initialize(r(45),!1);var s=new m.Shader(this._context,o.FRAGMENT_SHADER,"point.frag");return s.initialize(r(46),!1),this._program.initialize([s,l],!1),this._geometry.initialize(),!0},c.prototype.uninitialize=function(){this._geometry.uninitialize(),this._program.uninitialize(),this._uViewProjection=void 0,this._uNdcOffset=void 0,this._uPointSize=void 0},c.prototype.update=function(){var o=this._context.gl;(this._program.initialized&&this._program.linked||(this.relink(),this._program.linked))&&(this._program.bind(),(this._altered.camera||this._camera.altered)&&o.uniformMatrix4fv(this._uViewProjection,!1,this._camera.viewProjection),this._altered.geometry&&this._geometry.valid&&this._geometry.update(),this._altered.reset())},c.prototype.frame=function(){d.auxiliaries.assert(this._target&&this._target.valid,"valid target expected");var o=this._context.gl,l=this._target.size;o.viewport(0,0,l[0],l[1]),o.disable(o.DEPTH_TEST),o.enable(o.BLEND),o.blendFuncSeparate(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA),this._depthMask===!1&&(o.depthFunc(o.LEQUAL),o.depthMask(!1)),this._program.bind(),o.uniform2fv(this._uNdcOffset,this._ndcOffset),o.uniform1f(this._uPointSize,this._pointSize*window.devicePixelRatio),this._geometry.bind(),this._target.bind(),this._geometry.valid&&this._geometry.draw(),this._depthMask===!1&&(o.depthFunc(o.LESS),o.depthMask(!0)),o.disable(o.BLEND)},Object.defineProperty(c.prototype,"target",{set:function(o){this.assertInitialized(),this._target=o},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ndcOffset",{set:function(o){this.assertInitialized(),this._ndcOffset=o},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"pointSize",{set:function(o){this._pointSize=o},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"camera",{set:function(o){this.assertInitialized(),this._camera!==o&&(this._camera=o,this._altered.alter("camera"))},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"positions",{set:function(o){this._geometry.vertices=o,this._altered.alter("geometry")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"colors",{set:function(o){this.assertInitialized(),this._geometry.colors=o,this._altered.alter("geometry")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"depthMask",{set:function(o){this._depthMask=o},enumerable:!1,configurable:!0}),i([m.Initializable.assert_initialized()],c.prototype,"relink",null),i([m.Initializable.initialize()],c.prototype,"initialize",null),i([m.Initializable.uninitialize()],c.prototype,"uninitialize",null),i([m.Initializable.assert_initialized()],c.prototype,"update",null),i([m.Initializable.assert_initialized()],c.prototype,"frame",null),c}(m.Initializable);t.PointRenderPass=v},function(e,t,r){var n,a=this&&this.__extends||(n=function(o,l){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(s[f]=u[f])})(o,l)},function(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function s(){this.constructor=o}n(o,l),o.prototype=l===null?Object.create(l):(s.prototype=l.prototype,new s)}),i=this&&this.__decorate||function(o,l,s,u){var f,g=arguments.length,y=g<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,s):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(o,l,s,u);else for(var b=o.length-1;b>=0;b--)(f=o[b])&&(y=(g<3?f(y):g>3?f(l,s,y):f(l,s))||y);return g>3&&y&&Object.defineProperty(l,s,y),y};Object.defineProperty(t,"__esModule",{value:!0}),t.QuadRenderPass=void 0;var d=r(0),m=r(0),_=r(19),v=r(6),h=r(50),c=function(o){function l(s){var u=o.call(this)||this;return u._standardDerivatives=void 0,u._altered=Object.assign(new m.ChangeLookup,{any:!1,camera:!1,geometry:!1,colorTable:!1,emphases:!1,outlineWidth:!0,emphasisOutlineWidth:!0}),u._outlineWidth=_.CuboidRenderPass.OUTLINE_WIDTH_DEFAULT,u._emphasisOutlineWidth=_.CuboidRenderPass.EMPHASIS_OUTLINE_WIDTH_DEFAULT,u._attachment=v.MultiRenderTarget.Attachment.Undefined,u._context=s,u._program=new m.Program(s,"QuadRenderProgram"),u._geometry=new h.QuadGeometry(u._context,"Quad"),u}return a(l,o),l.prototype.relink=function(){if(this._colorTable!==void 0){for(var s=0,u=this._program.shaders;s<u.length;s++){var f=u[s];f.replace("$ColorTableLength",String(this._colorTable.length/4)),f.compile()}this._program.attribute("a_vertex",this._geometry.vertexLocation),this._program.attribute("a_layout",this._geometry.layoutLocation),this._program.attribute("a_id",this._geometry.idLocation),this._program.attribute("a_color",this._geometry.colorLocation),this._program.attribute("a_emphasis",this._geometry.emphasisLocation),this._program.link(),this._program.linked&&(this._drawRestricted&&(this._uAttachment=this._program.uniform("u_attachment")),this._uViewProjection=this._program.uniform("u_viewProjection"),this._uNdcOffset=this._program.uniform("u_ndcOffset"),this._uColorTable=this._program.uniform("u_colorTable"),this._uOutlineWidth=this._program.uniform("u_outlineWidth"),this._uEmphasisOutlineWidth=this._program.uniform("u_emphasisOutlineWidth"))}},l.prototype.initialize=function(){var s=this._context.gl;this._drawRestricted=!this._context.isWebGL2&&!this._context.supportsDrawBuffers,this._context.isWebGL1&&this._standardDerivatives===void 0&&(this._context.enable(["OES_standard_derivatives"]),this._standardDerivatives=this._context.standardDerivatives);var u=new m.Shader(this._context,s.VERTEX_SHADER,"quad.vert");u.initialize(r(51),!1);var f=new m.Shader(this._context,s.FRAGMENT_SHADER,"quad.frag");return f.initialize(r(52),!1),this._program.initialize([f,u],!1),this._geometry.initialize(),!0},l.prototype.uninitialize=function(){this._geometry.uninitialize(),this._program.uninitialize(),this._uAttachment=void 0,this._uViewProjection=void 0,this._uNdcOffset=void 0,this._uColorTable=void 0,this._uOutlineWidth=void 0,this._uEmphasisOutlineWidth=void 0},l.prototype.update=function(){var s=this._context.gl;(this._program.initialized&&this._program.linked||(this.relink(),this._program.linked))&&(this._program.bind(),(this._altered.camera||this._camera.altered)&&s.uniformMatrix4fv(this._uViewProjection,!1,this._camera.viewProjection),this._colorTable&&s.uniform4fv(this._uColorTable,this._colorTable),this._altered.geometry&&this._geometry.valid&&this._geometry.update(),this._altered.outlineWidth&&s.uniform1f(this._uOutlineWidth,this._outlineWidth),this._target&&this._target.valid&&s.uniform1f(this._uEmphasisOutlineWidth,this._emphasisOutlineWidth*window.devicePixelRatio),this._altered.reset())},l.prototype.frame=function(){if(d.auxiliaries.assert(this._target&&this._target.valid,"valid target expected"),this._dispatch!==void 0&&this._colorTable!==void 0){var s=this._context.gl,u=this._target.size;if(s.viewport(0,0,u[0],u[1]),s.enable(s.CULL_FACE),s.enable(s.DEPTH_TEST),s.enable(s.STENCIL_TEST),s.stencilFunc(s.GREATER,1,255),s.stencilOp(s.KEEP,s.KEEP,s.REPLACE),this._depthMask===!1&&(s.depthFunc(s.LEQUAL),s.depthMask(!1)),this._program.bind(),this._drawRestricted&&s.uniform1i(this._uAttachment,this._attachment),s.uniform2fv(this._uNdcOffset,this._ndcOffset),this._geometry.bind(),this._target.bind(),this._geometry.valid)for(var f=0;f<this._dispatch.length;f+=2){var g=this._dispatch[f+0],y=this._dispatch[f+1];this._geometry.draw(g,y)}this._depthMask===!1&&(s.depthFunc(s.LESS),s.depthMask(!0)),s.disable(s.STENCIL_TEST),s.disable(s.DEPTH_TEST),s.disable(s.CULL_FACE)}},Object.defineProperty(l.prototype,"target",{set:function(s){this.assertInitialized(),this._target=s},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"ndcOffset",{set:function(s){this.assertInitialized(),this._ndcOffset=s},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"camera",{set:function(s){this.assertInitialized(),this._camera!==s&&(this._camera=s,this._altered.alter("camera"))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"dispatch",{set:function(s){this.assertInitialized(),this._dispatch=s},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"layout",{set:function(s){this.assertInitialized(),this._geometry.layout=s,this._altered.alter("geometry")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"ids",{set:function(s){this.assertInitialized(),this._geometry.ids=s,this._altered.alter("geometry")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"colors",{set:function(s){this.assertInitialized(),this._geometry.colors=s,this._altered.alter("geometry")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"emphases",{set:function(s){this.assertInitialized(),this._geometry.emphases=s,this._altered.alter("emphases")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"colorTable",{set:function(s){this.assertInitialized(),this._colorTable=s,this._altered.alter("colorTable")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"outlineWidth",{set:function(s){this.assertInitialized(),this._outlineWidth!==s&&(this._outlineWidth=s===void 0?_.CuboidRenderPass.OUTLINE_WIDTH_DEFAULT:Math.max(0,s),this._altered.alter("outlineWidth"))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"emphasisOutlineWidth",{set:function(s){this.assertInitialized(),this._emphasisOutlineWidth!==s&&(this._emphasisOutlineWidth=s===void 0?_.CuboidRenderPass.EMPHASIS_OUTLINE_WIDTH_DEFAULT:Math.max(0,s),this._altered.alter("emphasisOutlineWidth"))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"attachment",{set:function(s){d.auxiliaries.logIf(s!==v.MultiRenderTarget.Attachment.Undefined&&!this._drawRestricted,d.auxiliaries.LogLevel.Debug,"expected WEBGL_draw_buffers to be unsupported"),this._attachment=s},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"depthMask",{set:function(s){this._depthMask=s},enumerable:!1,configurable:!0}),i([m.Initializable.assert_initialized()],l.prototype,"relink",null),i([m.Initializable.initialize()],l.prototype,"initialize",null),i([m.Initializable.uninitialize()],l.prototype,"uninitialize",null),i([m.Initializable.assert_initialized()],l.prototype,"update",null),i([m.Initializable.assert_initialized()],l.prototype,"frame",null),l}(m.Initializable);t.QuadRenderPass=c},function(e,t,r){var n,a=this&&this.__extends||(n=function(c,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(l[u]=s[u])})(c,o)},function(c,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function l(){this.constructor=c}n(c,o),c.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}),i=this&&this.__decorate||function(c,o,l,s){var u,f=arguments.length,g=f<3?o:s===null?s=Object.getOwnPropertyDescriptor(o,l):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(c,o,l,s);else for(var y=c.length-1;y>=0;y--)(u=c[y])&&(g=(f<3?u(g):f>3?u(o,l,g):u(o,l))||g);return f>3&&g&&Object.defineProperty(o,l,g),g};Object.defineProperty(t,"__esModule",{value:!0}),t.CuboidRenderPass=void 0;var d=r(0),m=r(0),_=r(47),v=r(6),h=function(c){function o(l,s){var u=c.call(this)||this;return u._standardDerivatives=void 0,u._altered=Object.assign(new m.ChangeLookup,{any:!0,camera:!0,geometry:!0,colorTable:!0,colorTableLength:!0,emphases:!0,layerIndex:!0,heightScale:!0,levitate:!0,outlineWidth:!0,emphasisOutlineWidth:!0}),u._arrows=!1,u._outlineWidth=o.OUTLINE_WIDTH_DEFAULT,u._emphasisOutlineWidth=o.EMPHASIS_OUTLINE_WIDTH_DEFAULT,u._attachment=v.MultiRenderTarget.Attachment.Undefined,u._faceSequence=new Array,u._faceData=new Map,u._context=l,d.auxiliaries.assert(s>=0&&s<=o.CUBOID_LAYERS,"expected layer index to be in range [0, "+o.MINIMUM_CUBOID_HEIGHT+"], given "+s),u._layerIndex=s,u._drawRestricted=!u._context.isWebGL2&&!u._context.supportsDrawBuffers,u._program=new m.Program(l,"CuboidRenderProgram"),u._geometry=o.referenceGeometry(l),u}return a(o,c),o.referenceGeometry=function(l){var s;o.GEOMETRY_BY_CONTEXT.has(l)?s=o.GEOMETRY_BY_CONTEXT.get(l):((s=new _.CuboidGeometry(l,o.CUBOID_LAYERS,"CuboidGeometry")).initialize(),o.GEOMETRY_BY_CONTEXT.set(l,s),o.REFCOUNT_BY_GEOMETRY.set(s,0));var u=o.REFCOUNT_BY_GEOMETRY.get(s)+1;return o.REFCOUNT_BY_GEOMETRY.set(s,u),s},o.unreferenceGeometry=function(l){if(o.GEOMETRY_BY_CONTEXT.has(l)){var s=o.GEOMETRY_BY_CONTEXT.get(l),u=o.REFCOUNT_BY_GEOMETRY.get(s)-1;o.REFCOUNT_BY_GEOMETRY.set(s,u),u>0||(s.uninitialize(),o.GEOMETRY_BY_CONTEXT.delete(l),o.REFCOUNT_BY_GEOMETRY.delete(s))}},o.prototype.relink=function(){if(this._colorTable!==void 0){for(var l=0,s=this._program.shaders;l<s.length;l++){var u=s[l];u.replace("$ColorTableLength",String(this._colorTable.length/4)),u.compile()}this._program.attribute("a_vertex",this._geometry.vertexLocation),this._program.attribute("a_layout",this._geometry.layoutLocation),this._program.attribute("a_id",this._geometry.idLocation),this._program.attribute("a_areaScale",this._geometry.areaScaleLocation),this._program.attribute("a_color",this._geometry.colorLocation),this._program.attribute("a_emphasis",this._geometry.emphasisLocation),this._program.attribute("a_heights",this._geometry.heightLocation),this._program.attribute("a_texCoord",this._geometry.texCoordLocation),this._program.link(),this._program.linked&&(this._drawRestricted&&(this._uAttachment=this._program.uniform("u_attachment")),this._uViewProjection=this._program.uniform("u_viewProjection"),this._uNdcOffset=this._program.uniform("u_ndcOffset"),this._uColorTable=this._program.uniform("u_colorTable"),this._uLayer=this._program.uniform("u_layer"),this._uArrows=this._program.uniform("u_arrows"),this._uFace=this._program.uniform("u_face"),this._uNormalAndLambert=this._program.uniform("u_normalAndLambert"),this._uHeightScale=this._program.uniform("u_heightScale"),this._uFloatingGap=this._program.uniform("u_floatingGap"),this._uOutlineWidth=this._program.uniform("u_outlineWidth"),this._uEmphasisOutlineWidth=this._program.uniform("u_emphasisOutlineWidth"))}},o.prototype.optimizeFaceSequence=function(){var l=this._camera.eye,s=this._camera.center,u=new Array,f=d.vec3.create();d.vec3.sub(f,l,s),d.vec3.normalize(f,f),l[1]>0&&u.push([o.Face.Top,Math.abs(d.vec3.dot(d.vec3.fromValues(0,1,0),f))]),l[2]>-1&&u.push([o.Face.Front,Math.abs(d.vec3.dot(d.vec3.fromValues(0,0,1),f))]),l[2]<1&&u.push([o.Face.Back,Math.abs(d.vec3.dot(d.vec3.fromValues(0,0,-1),f))]),l[0]>-1&&u.push([o.Face.Left,Math.abs(d.vec3.dot(d.vec3.fromValues(1,0,0),f))]),l[0]<1&&u.push([o.Face.Right,Math.abs(d.vec3.dot(d.vec3.fromValues(-1,0,0),f))]),u=u.sort(function(g,y){return y[1]-g[1]}),this._faceSequence=u.map(function(g){return g[0]})},o.prototype.initialize=function(){var l=this._context.gl;this._context.isWebGL1&&this._standardDerivatives===void 0&&(this._context.enable(["OES_standard_derivatives"]),this._standardDerivatives=this._context.standardDerivatives);var s=new m.Shader(this._context,l.VERTEX_SHADER,"cuboid.vert");s.initialize(r(48),!1);var u=new m.Shader(this._context,l.FRAGMENT_SHADER,"cuboid.frag");return u.initialize(r(49),!1),this._program.initialize([s,u],!1),this._faceData.set(o.Face.Top,[0,1,0,1]),this._faceData.set(o.Face.Bottom,[0,-1,0,.68]),this._faceData.set(o.Face.Front,[0,0,1,.88]),this._faceData.set(o.Face.Back,[0,0,-1,.88]),this._faceData.set(o.Face.Left,[1,0,0,.84]),this._faceData.set(o.Face.Right,[-1,0,0,.84]),!0},o.prototype.uninitialize=function(){o.unreferenceGeometry(this._context),this._program.uninitialize(),this._uAttachment=void 0,this._uViewProjection=void 0,this._uNdcOffset=void 0,this._uColorTable=void 0,this._uLayer=void 0,this._uFace=void 0,this._uNormalAndLambert=void 0,this._uHeightScale=void 0,this._uFloatingGap=void 0,this._uOutlineWidth=void 0,this._uEmphasisOutlineWidth=void 0},o.prototype.update=function(){var l=this._context.gl,s=!1;if(!this._program.initialized||!this._program.linked||this._altered.colorTableLength){if(this.relink(),!this._program.linked)return;s=!0}if(this._program.bind(),(s||this._altered.camera||this._camera.altered)&&(l.uniformMatrix4fv(this._uViewProjection,!1,this._camera.viewProjection),this.optimizeFaceSequence()),(s||this._colorTable)&&l.uniform4fv(this._uColorTable,this._colorTable),this._altered.geometry&&this._geometry.valid&&this._geometry.update(),(s||this._altered.heightScale)&&l.uniform1f(this._uHeightScale,this._heightScale/255),(s||this._altered.outlineWidth)&&l.uniform1f(this._uOutlineWidth,this._outlineWidth),s||this._altered.emphasisOutlineWidth){var u=window.devicePixelRatio;l.uniform1f(this._uEmphasisOutlineWidth,this._emphasisOutlineWidth*u)}this._target&&this._target.valid&&(u=window.devicePixelRatio,l.uniform2f(this._uFloatingGap,this._levitate*u/this._target.height,o.MINIMUM_CUBOID_HEIGHT*u/this._target.height)),this._altered.reset()},o.prototype.frame=function(){if(d.auxiliaries.assert(this._target&&this._target.valid,"valid target expected"),this._dispatch!==void 0){var l=this._context.gl,s=this._target.size;l.viewport(0,0,s[0],s[1]),l.enable(l.CULL_FACE),l.enable(l.DEPTH_TEST),l.enable(l.STENCIL_TEST),l.stencilFunc(l.ALWAYS,2,255),l.stencilOp(l.KEEP,l.KEEP,l.REPLACE),this._depthMask===!1&&(l.depthFunc(l.LEQUAL),l.depthMask(!1)),this._program.bind(),this._drawRestricted&&l.uniform1i(this._uAttachment,this._attachment),l.uniform2fv(this._uNdcOffset,this._ndcOffset),l.uniform1i(this._uLayer,this._layerIndex),l.uniform1i(this._uArrows,this._arrows?1:0),this._geometry.bind(),this._target.bind();for(var u=0,f=this._faceSequence;u<f.length;u++){var g=f[u];if(l.uniform1i(this._uFace,g),l.uniform4fv(this._uNormalAndLambert,this._faceData.get(g)),this._geometry.valid)for(var y=0;y<this._dispatch.length;y+=2){var b=(g-1)*_.CuboidGeometry.BYTES_PER_VERTEX*4,E=this._dispatch[y+0],x=this._dispatch[y+1];this._geometry.draw(this._layerIndex,E,b,x)}}this._depthMask===!1&&(l.depthFunc(l.LESS),l.depthMask(!0)),l.disable(l.STENCIL_TEST),l.disable(l.DEPTH_TEST),l.disable(l.CULL_FACE)}},o.prototype.colorTableLengthAltered=function(){this._altered.alter("colorTableLength")},Object.defineProperty(o.prototype,"target",{set:function(l){this.assertInitialized(),this._target=l},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"ndcOffset",{set:function(l){this.assertInitialized(),this._ndcOffset=l},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"camera",{set:function(l){this.assertInitialized(),this._camera!==l&&(this._camera=l,this._altered.alter("camera"))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"dispatch",{set:function(l){this.assertInitialized(),this._dispatch=l},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"layoutData",{set:function(l){this.assertInitialized(),this._layerIndex>0||(this._geometry.layout=l,this._altered.alter("geometry"))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"ids",{set:function(l){this.assertInitialized(),this._layerIndex>0||(this._geometry.ids=l,this._altered.alter("geometry"))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"areaScales",{set:function(l){this.assertInitialized(),this._layerIndex>0||(this._geometry.areaScales(l,void 0,1),this._altered.alter("geometry"))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"colors",{set:function(l){this.assertInitialized(),this._layerIndex>0||(this._geometry.colors(l,void 0,1),this._altered.alter("geometry"))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"emphases",{set:function(l){this.assertInitialized(),this._layerIndex>0||(this._geometry.emphases=l,this._altered.alter("emphases"))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"heights",{set:function(l){this.assertInitialized(),this._geometry.heights(l,this._layerIndex),this._altered.alter("geometry")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"colorTable",{set:function(l){this.assertInitialized(),this._colorTable=l,this._altered.alter("colorTable")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"outlineWidth",{set:function(l){this.assertInitialized(),this._outlineWidth!==l&&(this._outlineWidth=l===void 0?o.OUTLINE_WIDTH_DEFAULT:Math.max(0,l),this._altered.alter("outlineWidth"))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"emphasisOutlineWidth",{set:function(l){this.assertInitialized(),this._emphasisOutlineWidth!==l&&(this._emphasisOutlineWidth=l===void 0?o.EMPHASIS_OUTLINE_WIDTH_DEFAULT:Math.max(0,l),this._altered.alter("emphasisOutlineWidth"))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"heightScale",{set:function(l){this.assertInitialized(),this._heightScale!==l&&(this._heightScale=l===void 0?0:d.gl_matrix_extensions.clamp(l,0,1),this._altered.alter("heightScale"))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"levitate",{set:function(l){this.assertInitialized(),this._levitate!==l&&(this._levitate=l===void 0?0:Math.max(0,l),this._altered.alter("levitate"))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"attachment",{set:function(l){d.auxiliaries.logIf(l!==v.MultiRenderTarget.Attachment.Undefined&&!this._drawRestricted,d.auxiliaries.LogLevel.Debug,"expected WEBGL_draw_buffers to be unsupported"),this._attachment=l},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"depthMask",{set:function(l){this._depthMask=l},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"arrows",{set:function(l){this._arrows=l},enumerable:!1,configurable:!0}),o.GEOMETRY_BY_CONTEXT=new Map,o.CUBOID_LAYERS=2,o.REFCOUNT_BY_GEOMETRY=new Map,o.MINIMUM_CUBOID_HEIGHT=4,o.OUTLINE_WIDTH_DEFAULT=.8,o.EMPHASIS_OUTLINE_WIDTH_DEFAULT=1.6,i([m.Initializable.assert_initialized()],o.prototype,"relink",null),i([m.Initializable.assert_initialized()],o.prototype,"optimizeFaceSequence",null),i([m.Initializable.initialize()],o.prototype,"initialize",null),i([m.Initializable.uninitialize()],o.prototype,"uninitialize",null),i([m.Initializable.assert_initialized()],o.prototype,"update",null),i([m.Initializable.assert_initialized()],o.prototype,"frame",null),o}(m.Initializable);t.CuboidRenderPass=h,function(c){(function(o){o[o.Top=1]="Top",o[o.Bottom=2]="Bottom",o[o.Front=3]="Front",o[o.Back=4]="Back",o[o.Left=5]="Left",o[o.Right=6]="Right"})(c.Face||(c.Face={}))}(h=t.CuboidRenderPass||(t.CuboidRenderPass={})),t.CuboidRenderPass=h},function(e,t,r){var n,a=this&&this.__extends||(n=function(h,c){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(o[s]=l[s])})(h,c)},function(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function o(){this.constructor=h}n(h,c),h.prototype=c===null?Object.create(c):(o.prototype=c.prototype,new o)}),i=this&&this.__decorate||function(h,c,o,l){var s,u=arguments.length,f=u<3?c:l===null?l=Object.getOwnPropertyDescriptor(c,o):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(h,c,o,l);else for(var g=h.length-1;g>=0;g--)(s=h[g])&&(f=(u<3?s(f):u>3?s(c,o,f):s(c,o))||f);return u>3&&f&&Object.defineProperty(c,o,f),f};Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenAlignedQuadRenderPass=void 0;var d=r(0),m=r(0),_=r(53),v=function(h){function c(o){var l=h.call(this)||this;return l._altered=Object.assign(new m.ChangeLookup,{any:!1,camera:!1,geometry:!1}),l._context=o,l._program=new m.Program(o,"ScreenAlignedQuadRenderProgram"),l._geometry=new _.ScreenAlignedQuadGeometry(l._context,"ScreenAlignedQuad"),l}return a(c,h),c.prototype.relink=function(){for(var o=0,l=this._program.shaders;o<l.length;o++)l[o].compile();this._program.attribute("a_vertex",this._geometry.vertexLocation),this._program.attribute("a_origin",this._geometry.originLocation),this._program.attribute("a_extent",this._geometry.extentLocation),this._program.attribute("a_offset",this._geometry.offsetLocation),this._program.attribute("a_pointyCorner",this._geometry.pointyCornerLocation),this._program.link(),this._program.linked&&(this._uViewProjection=this._program.uniform("u_viewProjection"),this._uNdcOffset=this._program.uniform("u_ndcOffset"),this._uAspectRatio=this._program.uniform("u_aspectRatio"))},c.prototype.initialize=function(){var o=this._context.gl,l=new m.Shader(this._context,o.VERTEX_SHADER,"screenalignedquad.vert");l.initialize(r(54),!1);var s=new m.Shader(this._context,o.FRAGMENT_SHADER,"screenalignedquad.frag");return s.initialize(r(55),!1),this._program.initialize([s,l],!1),this._geometry.initialize(),!0},c.prototype.uninitialize=function(){this._geometry.uninitialize(),this._program.uninitialize(),this._uViewProjection=void 0,this._uNdcOffset=void 0,this._uAspectRatio=void 0},c.prototype.update=function(){var o=this._context.gl;(this._program.initialized&&this._program.linked||(this.relink(),this._program.linked))&&(this._program.bind(),(this._altered.camera||this._camera.altered)&&(o.uniformMatrix4fv(this._uViewProjection,!1,this._camera.viewProjection),o.uniform1f(this._uAspectRatio,1/this._camera.aspect)),this._altered.geometry&&this._geometry.valid&&this._geometry.update(),this._altered.reset())},c.prototype.frame=function(){d.auxiliaries.assert(this._target&&this._target.valid,"valid target expected");var o=this._context.gl,l=this._target.size;o.viewport(0,0,l[0],l[1]),o.disable(o.DEPTH_TEST),o.enable(o.BLEND),o.blendFuncSeparate(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA),this._depthMask===!1&&(o.depthFunc(o.LEQUAL),o.depthMask(!1)),this._program.bind(),o.uniform2fv(this._uNdcOffset,this._ndcOffset),this._geometry.bind(),this._target.bind(),this._geometry.valid&&this._geometry.draw(),this._depthMask===!1&&(o.depthFunc(o.LESS),o.depthMask(!0)),o.disable(o.BLEND)},Object.defineProperty(c.prototype,"target",{set:function(o){this.assertInitialized(),this._target=o},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ndcOffset",{set:function(o){this.assertInitialized(),this._ndcOffset=o},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"camera",{set:function(o){this.assertInitialized(),this._camera!==o&&(this._camera=o,this._altered.alter("camera"))},enumerable:!1,configurable:!0}),c.prototype.updateData=function(o,l,s,u){this._geometry.updateData(o,l,s,u),this._altered.alter("geometry")},Object.defineProperty(c.prototype,"depthMask",{set:function(o){this._depthMask=o},enumerable:!1,configurable:!0}),i([m.Initializable.assert_initialized()],c.prototype,"relink",null),i([m.Initializable.initialize()],c.prototype,"initialize",null),i([m.Initializable.uninitialize()],c.prototype,"uninitialize",null),i([m.Initializable.assert_initialized()],c.prototype,"update",null),i([m.Initializable.assert_initialized()],c.prototype,"frame",null),c}(m.Initializable);t.ScreenAlignedQuadRenderPass=v},function(e,t,r){var n,a=this&&this.__extends||(n=function(u,f){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(g[b]=y[b])})(u,f)},function(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function g(){this.constructor=u}n(u,f),u.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)});Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=void 0;var i=r(0),d=r(0),m=r(19),_=r(6),v=r(11),h=r(17),c=r(18),o=r(20),l=i.auxiliaries.assert,s=function(u){function f(g){var y=u.call(this)||this;return y._ndcOffsetScale=1,y._skipInnerNodePasses=!1,y._skipLeafNodePasses=!1,y._skipLabelPass=!1,y._skipInnerLabelPass=!1,y._skipLeafLabelPass=!1,y._skipAggregation=!1,y.coordsAt=function(b,E,x,w){return y._readbackPass.coordsAt(b,E,x,w===void 0?y._camera.viewProjectionInverse:w)},y.idAt=function(b,E){if(y._geometry.initialized){var x=y._readbackPass.idAt(b,E);if(x!==void 0&&x!==0){var w=y._geometry.topology.node(x);return w===void 0?void 0:w.id}}},y._visualization=g,y}return a(f,u),Object.defineProperty(f.prototype,"geometry",{get:function(){return this._geometry},set:function(g){this._geometry=g},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"navigation",{get:function(){return this._navigation},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"camera",{get:function(){return this._camera},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ndcOffsetScale",{get:function(){return this._ndcOffsetScale},set:function(g){this._ndcOffsetScale!==g&&(this._ndcOffsetScale=g,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"blitTargets",{get:function(){return this._multiRenderTarget.debuggableTargets()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"blitTarget",{set:function(g){this._blitTarget!==g&&(this._blitTarget=g,this._blitTarget===2&&(this._debugPass.debug=d.DebugPass.Mode.DepthLinear),this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"skipInnerNodePasses",{get:function(){return this._skipInnerNodePasses},set:function(g){this._skipInnerNodePasses!==g&&(this._skipInnerNodePasses=g,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"skipLeafNodePasses",{get:function(){return this._skipLeafNodePasses},set:function(g){this._skipLeafNodePasses!==g&&(this._skipLeafNodePasses=g,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"skipLabelPass",{get:function(){return this._skipLabelPass},set:function(g){this._skipLabelPass!==g&&(this._skipLabelPass=g,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"skipInnerLabelPass",{get:function(){return this._skipInnerLabelPass},set:function(g){this._skipInnerLabelPass!==g&&(this._skipInnerLabelPass=g,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"skipLeafLabelPass",{get:function(){return this._skipLeafLabelPass},set:function(g){this._skipLeafLabelPass!==g&&(this._skipLeafLabelPass=g,this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"skipAggregation",{get:function(){return this._skipAggregation},set:function(g){this._skipAggregation!==g&&(this._skipAggregation=g,this._geometry.altered.alter("innerNodeDrawDispatch"),this._geometry.altered.alter("leafNodeDrawDispatch"),this.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"arrows",{set:function(g){this._leafPass1.arrows=g,this.invalidate()},enumerable:!1,configurable:!0}),f.verifyMinimumContextRequirements=function(g){return g.enable(["ANGLE_instanced_arrays","OES_standard_derivatives"]),!0},f.prototype.renderInnerNodes=function(g,y,b){!this._skipInnerNodePasses&&this._geometry.valid&&(this._innerPass.target=g,this._innerPass.attachment=y,this._innerPass.depthMask=b,this._innerPass.frame())},f.prototype.renderLeafNodes=function(g,y,b){!this._skipLeafNodePasses&&this._geometry.valid&&(this._geometry.leafNodeHeights.length>=2&&(this._leafPass1.target=g,this._leafPass1.attachment=y,this._leafPass1.depthMask=b,this._leafPass1.frame()),this._geometry.leafNodeHeights.length>=1&&(this._leafPass0.target=g,this._leafPass0.attachment=y,this._leafPass0.depthMask=b,this._leafPass0.frame()))},f.prototype.renderLeafLabelBackgrounds=function(g,y){this._skipLeafLabelPass||this._skipLabelPass||(this._labelBackgroundPass.target=g,this._labelBackgroundPass.depthMask=y,this._labelBackgroundPass.frame())},f.prototype.renderPoints=function(g,y){this._skipLeafLabelPass||this._skipLabelPass||(this._pointPass.target=g,this._pointPass.depthMask=y,this._pointPass.frame())},f.prototype.renderInnerLabels=function(g,y,b){if(!this._skipInnerLabelPass&&!this._skipLabelPass&&this._geometry.valid){this._innerLabelPass.target=g,this._innerLabelPass.depthMask=b;var E=this._context.gl;E.enable(E.STENCIL_TEST),E.enable(E.DEPTH_TEST),E.stencilFunc(E.EQUAL,1,255),E.stencilOp(E.KEEP,E.KEEP,E.KEEP),this._innerLabelPass.frame(),E.disable(E.STENCIL_TEST)}},f.prototype.renderLeafLabels=function(g,y,b){this._skipLeafLabelPass||this._skipLabelPass||!this._geometry.valid||(this._leafLabelPass.target=g,this._leafLabelPass.depthMask=b,this._leafLabelPass.frame())},f.prototype.initializeMultiRenderTarget=function(g){this.assertUninitialized(),this._multiRenderTarget=new _.MultiRenderTarget(g),this._multiRenderTarget.initialize(),this._multiRenderTarget.primaryFBO.clearStencil(0),this._multiRenderTarget.secondaryFBO.clearStencil(0)},f.prototype.initializeLeafPasses=function(g){this._leafPass0=new m.CuboidRenderPass(g,0),this._leafPass0.initialize(),this._leafPass0.camera=this._camera,this._leafPass1=new m.CuboidRenderPass(g,1),this._leafPass1.initialize(),this._leafPass1.camera=this._camera},f.prototype.initializeInnerPass=function(g){this.assertUninitialized(),this._innerPass=new c.QuadRenderPass(g),this._innerPass.initialize(),this._innerPass.camera=this._camera},f.prototype.initializePointPass=function(g){this._pointPass=new h.PointRenderPass(g),this._pointPass.initialize(),this._pointPass.camera=this.camera,this._pointPass.pointSize=3.5},f.prototype.initializeLeafLabelBackgroundPass=function(g){this._labelBackgroundPass=new o.ScreenAlignedQuadRenderPass(g),this._labelBackgroundPass.initialize(),this._labelBackgroundPass.camera=this.camera},f.prototype.initializeLabelPasses=function(g){var y=this;this.assertUninitialized(),this._innerLabelPass=new d.LabelRenderPass(g),this._innerLabelPass.initialize(),this._innerLabelPass.camera=this.camera,this._innerLabelPass.target=this._multiRenderTarget.defaultFBO,this._innerLabelPass.depthFunc=g.gl.ALWAYS,this._innerLabelPass.aaStepScale=.3,this._innerLabelPass.aaSampling=d.LabelRenderPass.Sampling.Grid3x3,this._leafLabelPass=new d.LabelRenderPass(g),this._leafLabelPass.initialize(),this._leafLabelPass.camera=this.camera,this._leafLabelPass.target=this._multiRenderTarget.defaultFBO,this._leafLabelPass.aaStepScale=.3,this._leafLabelPass.aaSampling=d.LabelRenderPass.Sampling.Grid3x3,this._leafLabelPass.depthFunc=g.gl.ALWAYS;var b=window.SeereneConstants?window.SeereneConstants.STATIC_DIRECTORY:"assets";d.FontFace.fromFile(b+"/roboto.fnt",g).then(function(E){for(var x=0,w=y._innerLabelPass.labels;x<w.length;x++)w[x].fontFace=E;for(var S=0,O=y._leafLabelPass.labels;S<O.length;S++)O[S].fontFace=E;y._fontFace=E,y._innerLabelPass.update(!0),y._leafLabelPass.update(!0),y._visualization.configuration&&(y._visualization.configuration.altered.alter("geometry"),y._visualization.configuration.altered.alter("labels")),y.invalidate()}).catch(function(E){return i.auxiliaries.log(i.auxiliaries.LogLevel.Error,E)})},f.prototype.initializeAccumulationPass=function(g){this.assertUninitialized(),l(this._multiRenderTarget.initialized,"expected multi-render target to be initialized"),l(this._ndcTriangle!==void 0,"expected NDC triangle to be defined"),this._accumulationPass=new d.AccumulatePass(g),this._accumulationPass.initialize(this._ndcTriangle),this._accumulationPass.precision=this._framePrecision,this._accumulationPass.texture=this._multiRenderTarget.colorRenderTexture},f.prototype.initializeBlitPass=function(g){this.assertUninitialized(),l(this._multiRenderTarget.initialized,"expected multi-render target to be initialized"),l(this._ndcTriangle!==void 0,"expected NDC triangle to be defined");var y=this._context.gl,b=this._context.gl2facade;this._blitPass=new d.BlitPass(g),this._blitPass.initialize(this._ndcTriangle),this._blitPass.readBuffer=b.COLOR_ATTACHMENT0,this._blitPass.drawBuffer=y.BACK,this._blitPass.target=this._multiRenderTarget.defaultFBO,this._debugPass=new d.DebugPass(g),this._debugPass.initialize(this._ndcTriangle),this._debugPass.readBuffer=b.COLOR_ATTACHMENT0,this._debugPass.drawBuffer=y.BACK,this._debugPass.target=this._multiRenderTarget.defaultFBO},f.prototype.initializeReadbackPass=function(g){this.assertUninitialized(),l(this._multiRenderTarget.initialized,"expected multi-render target to be initialized"),l(this._ndcTriangle!==void 0,"expected NDC triangle to be defined"),this._readbackPass=new d.ReadbackPass(g),this._readbackPass.initialize(this._ndcTriangle,this._multiRenderTarget.depthFBO!==void 0),this._readbackPass.cache=!0;var y=this._context.gl,b=this._context.gl2facade;this._multiRenderTarget.depthFBO?(this._readbackPass.depthFBO=this._multiRenderTarget.depthFBO,this._readbackPass.depthAttachment=b.COLOR_ATTACHMENT0):(this._readbackPass.depthFBO=this._multiRenderTarget.primaryFBO,this._readbackPass.depthAttachment=y.DEPTH_STENCIL_ATTACHMENT),this._multiRenderTarget.readBackIdFBO?(this._readbackPass.idFBO=this._multiRenderTarget.readBackIdFBO,this._readbackPass.idAttachment=b.COLOR_ATTACHMENT0):(this._readbackPass.idFBO=this._multiRenderTarget.primaryFBO,this._readbackPass.idAttachment=b.COLOR_ATTACHMENT1)},f.prototype.initializeCamera=function(){this.assertUninitialized(),this._camera=new d.Camera,this._camera.near=f.CAMERA_NEAR_DEFAULT,this._camera.far=f.CAMERA_FAR_DEFAULT,this._camera.eye=i.vec3.fromValues(0,1.5,2.2),this._camera.center=i.vec3.fromValues(0,0,.2),this._camera.up=i.vec3.fromValues(0,1,0),this._camera.fovy=2*d.Camera.calculateFovY(20,60)*i.auxiliaries.RAD2DEG},f.prototype.initializeNavigation=function(g,y){this.assertUninitialized(),this._navigation=new v.Navigation(g,y),this._navigation.camera=this._camera,this._navigation.idAccess=this,this._navigation.coordsAccess=this},f.prototype.onInitialize=function(g,y,b){return!!f.verifyMinimumContextRequirements(g)&&(this._ndcOffsetKernel=new d.AntiAliasingKernel(this._multiFrameNumber),this._ndcOffsetKernel.sort(d.AbstractKernel.SortApproach.BySquaredLength),this._ndcTriangle=new d.NdcFillingTriangle(g,"NdcTriangle"),this._ndcTriangle.initialize(0),this.initializeMultiRenderTarget(g),this.initializeAccumulationPass(g),this.initializeBlitPass(g),this.initializeReadbackPass(g),this.initializeCamera(),this.initializeNavigation(y,b),this.initializeInnerPass(g),this.initializeLeafPasses(g),this.initializePointPass(g),this.initializeLeafLabelBackgroundPass(g),this.initializeLabelPasses(g),!0)},f.prototype.onUninitialize=function(){this._ndcTriangle.uninitialize(),this._multiRenderTarget.uninitialize(),this._accumulationPass.uninitialize(),this._blitPass.uninitialize(),this._debugPass.uninitialize(),this._readbackPass.uninitialize(),this._innerPass.uninitialize(),this._pointPass.uninitialize(),this._innerLabelPass.uninitialize(),this._leafLabelPass.uninitialize(),this._labelBackgroundPass.uninitialize()},f.prototype.onDiscarded=function(){},f.prototype.onUpdate=function(){this._navigation.update();var g=!1;try{g=this._visualization.update()}catch(O){console.log(O)}for(var y=!1,b=0,E=this._innerLabelPass.labels;b<E.length;b++)if((S=E[b]).altered||S.color.altered){y=!0;break}for(var x=0,w=this._leafLabelPass.labels;x<w.length;x++){var S;if((S=w[x]).altered||S.color.altered){y=!0;break}}return g||y||this._altered.any||this._camera.altered},f.prototype.onPrepare=function(){this._geometry.altered.any&&this._geometry.valid&&(this._innerPass.ids=this._geometry.innerNodeIndices,this._innerPass.layout=this._geometry.innerNodeLayouts,this._innerPass.colors=this._geometry.innerNodeColors,this._innerPass.emphases=this._geometry.innerNodeEmphases,this._innerPass.colorTable=this._geometry.colorTable,this._geometry.leafNodeHeights.length>=1&&(this._leafPass0.ids=this._geometry.leafNodeIndices,this._leafPass0.layoutData=this._geometry.leafNodeLayouts,this._leafPass0.areaScales=this._geometry.leafNodeAreaScales[0],this._leafPass0.colors=this._geometry.leafNodeColors[0],this._leafPass0.heights=this._geometry.leafNodeHeights[0],this._leafPass0.colorTable=this._geometry.colorTable),this._geometry.leafNodeHeights.length>=2&&(this._leafPass1.ids=this._geometry.leafNodeIndices,this._leafPass1.layoutData=this._geometry.leafNodeLayouts,this._leafPass1.areaScales=this._geometry.leafNodeAreaScales[1],this._leafPass1.colors=this._geometry.leafNodeColors[1],this._leafPass1.heights=this._geometry.leafNodeHeights[1],this._leafPass1.colorTable=this._geometry.colorTable)),this._geometry.altered.colorTableLength&&(this._leafPass0.colorTableLengthAltered(),this._leafPass1.colorTableLengthAltered());var g=this._geometry.altered;this._geometry.valid&&g.any&&(g.innerNodeEmphases&&(this._innerPass.emphases=this._geometry.innerNodeEmphases),g.innerNodeDrawDispatch&&!this._skipAggregation&&(this._innerPass.dispatch=this._geometry.innerNodeDrawDispatch.filtered(0)),this._skipAggregation&&(this._innerPass.dispatch=this._geometry.innerNodeDrawDispatch.unfiltered()),g.outlineWidth&&(this._innerPass.outlineWidth=this._geometry.outlineWidth),g.emphasisOutlineWidth&&(this._innerPass.emphasisOutlineWidth=this._geometry.emphasisOutlineWidth),g.leafNodeEmphases&&(this._leafPass0.emphases=this._geometry.leafNodeEmphases),g.leafNodeDrawDispatch&&!this._skipAggregation&&(this._leafPass0.dispatch=this._geometry.leafNodeDrawDispatch.filtered(0),this._leafPass1.dispatch=this._geometry.leafNodeDrawDispatch.filtered(0)),this._skipAggregation&&(this._leafPass0.dispatch=this._geometry.leafNodeDrawDispatch.unfiltered(),this._leafPass1.dispatch=this._geometry.leafNodeDrawDispatch.unfiltered()),g.outlineWidth&&(this._leafPass0.outlineWidth=this._geometry.outlineWidth,this._leafPass1.outlineWidth=this._geometry.outlineWidth),g.emphasisOutlineWidth&&(this._leafPass0.emphasisOutlineWidth=this._geometry.emphasisOutlineWidth,this._leafPass1.emphasisOutlineWidth=this._geometry.emphasisOutlineWidth),g.heightScale&&(this._leafPass0.heightScale=this._geometry.heightScale,this._leafPass1.heightScale=this._geometry.heightScale),g.levitate&&(this._leafPass1.levitate=this._geometry.levitate)),this._altered.frameSize&&(this._multiRenderTarget.resize(this._frameSize[0],this._frameSize[1]),this._camera.viewport=[this._frameSize[0],this._frameSize[1]],this.invalidate()),this._altered.canvasSize&&(this._camera.aspect=this._canvasSize[0]/this._canvasSize[1],this._readbackPass.coordinateReferenceSize=this._canvasSize),this._altered.multiFrameNumber&&(this._ndcOffsetKernel.width=this._multiFrameNumber,this._ndcOffsetKernel.sort(d.AbstractKernel.SortApproach.BySquaredLength)),this._altered.framePrecision&&(this._accumulationPass.precision=this._framePrecision),this._altered.clearColor&&this._multiRenderTarget.setClearColor(this._clearColor),this._innerPass.update(),this._leafPass0.update(),this._leafPass1.update(),this._pointPass.update(),this._labelBackgroundPass.update(),this._innerLabelPass.update(),this._leafLabelPass.update(),this._accumulationPass.update(),this._readbackPass.frame(),this._camera.altered&&(this._debugPass.near=this._camera.near,this._debugPass.far=this._camera.far),this._visualization.prepare(),this._camera.altered=!1,this._geometry.altered.reset(),this._altered.reset()},f.prototype.onFrame=function(g){var y=this._context.gl,b=this._context.gl2facade,E=this._ndcOffsetKernel.get(g);E[0]=2*this._ndcOffsetScale*E[0]/this._frameSize[0],E[1]=2*this._ndcOffsetScale*E[1]/this._frameSize[1],this._leafPass0.ndcOffset=E,this._leafPass1.ndcOffset=E,this._innerPass.ndcOffset=E,this._innerLabelPass.ndcOffset=E,this._leafLabelPass.ndcOffset=E,this._pointPass.ndcOffset=E,this._labelBackgroundPass.ndcOffset=E;var x=g===0,w=this._multiRenderTarget,S=x?w.primaryFBO:w.secondaryFBO;S.clear(y.COLOR_BUFFER_BIT|y.DEPTH_BUFFER_BIT|y.STENCIL_BUFFER_BIT,!0,!1),y.viewport(0,0,this._camera.viewport[0],this._camera.viewport[1]),y.depthFunc(y.LESS);var O=_.MultiRenderTarget.Attachment;w.drawRestricted||b.drawBuffers([b.COLOR_ATTACHMENT0,b.COLOR_ATTACHMENT1]),this.renderLeafNodes(S,w.drawRestricted?O.Color:O.Undefined,!0),this.renderInnerNodes(S,w.drawRestricted?O.Color:O.Undefined,!0),w.drawRestricted||b.drawBuffers([b.COLOR_ATTACHMENT0,y.NONE]),this.renderInnerLabels(S,w.drawRestricted?O.Color:O.Undefined,!1),this.renderLeafLabelBackgrounds(S,!1),this.renderLeafLabels(S,w.drawRestricted?O.Color:O.Undefined,!1),this.renderPoints(S,!1),w.drawRestricted||b.drawBuffers([b.COLOR_ATTACHMENT0,b.COLOR_ATTACHMENT1]),x&&w.idFBO&&(w.idFBO.clear(y.COLOR_BUFFER_BIT|y.STENCIL_BUFFER_BIT),this.renderLeafNodes(w.idFBO,O.Id,!1),this.renderInnerNodes(w.idFBO,O.Id,!1)),x&&w.depthFBO&&(w.depthFBO.clear(y.COLOR_BUFFER_BIT|y.STENCIL_BUFFER_BIT),this.renderLeafNodes(w.depthFBO,O.Depth,!1),this.renderInnerNodes(w.depthFBO,O.Depth,!1)),this._accumulationPass.frame(g)},f.prototype.onSwap=function(){var g,y=this._multiRenderTarget.debuggableTarget(this._blitTarget);if(this._accumulationPass.initialized&&((g=this._accumulationPass.framebuffer)===null||g===void 0?void 0:g.initialized)&&this._blitPass.initialized&&(!y||y[0].initialized)){var b=this._blitTarget===2?this._debugPass:this._blitPass;b.framebuffer=y?y[0]:this._accumulationPass.framebuffer,b.readBuffer=y?y[1]:this._context.gl2facade.COLOR_ATTACHMENT0,b.frame()}},f.prototype.updateLabelsForPass=function(g,y){for(var b=[],E=0,x=g;E<x.length;E++){var w=x[E];w!==void 0&&(w.fontFace=this._fontFace,b.push(w))}y.labels=b,y.update()},f.prototype.updateLabels=function(g,y){this.updateLabelsForPass(g,this._innerLabelPass),this.updateLabelsForPass(y,this._leafLabelPass)},f.prototype.updateLeafLabelPass=function(){this._leafLabelPass.update()},f.prototype.updateLeafLabelBackgrounds=function(g){for(var y=[],b=[],E=[],x=[],w=0,S=0,O=g;S<O.length;S++)if((D=O[S])&&D.color.a!==0){var A=2*D.extent[1]/this._frameSize[1];w=Math.max(w,A)}for(var L=0,k=g;L<k.length;L++){var D;if((D=k[L])&&D.color.a!==0){y.push(D.position[0],D.position[1],D.position[2]);var N=(2*D.extent[0]+1.75)/this._frameSize[0];b.push(N,w);var $=1.75/this._frameSize[1],H=D.alignment===d.Label.Alignment.Right?-$-N:$,q=1.75/this._frameSize[1],X=D.lineAnchor===d.Label.LineAnchor.Top?q-w:-q;E.push(H,X);var Y=0;D.alignment===d.Label.Alignment.Left?D.lineAnchor===d.Label.LineAnchor.Bottom?Y=1:D.lineAnchor===d.Label.LineAnchor.Top&&(Y=2):D.alignment===d.Label.Alignment.Right&&(D.lineAnchor===d.Label.LineAnchor.Bottom?Y=3:D.lineAnchor===d.Label.LineAnchor.Top&&(Y=4)),x.push(Y)}}this._labelBackgroundPass.updateData(new Float32Array(y),new Float32Array(b),new Float32Array(E),new Uint8Array(x))},f.prototype.updatePoints=function(g){for(var y=[],b=[],E=0,x=g;E<x.length;E++){var w=x[E];w&&(y.push(w.position[0],w.position[1],w.position[2]),b.push(w.color.r,w.color.g,w.color.b,w.color.a))}this._pointPass.positions=new Float32Array(y),this._pointPass.colors=new Float32Array(b)},f.prototype.frameSizeAltered=function(){return this._altered.frameSize},f.prototype.setCameraEye=function(g,y,b){this._camera.eye=i.vec3.fromValues(g,y,b)},f.prototype.invalidate=function(){this.initialized&&u.prototype.invalidate.call(this,!0)},f.CAMERA_NEAR_DEFAULT=.01,f.CAMERA_FAR_DEFAULT=10,f}(d.Renderer);t.Renderer=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.RendererCapabilities=void 0;var n=r(0),a=r(10),i=r(21),d=n.auxiliaries.assert;(function(m){var _;(function(h){h[h.ANIMATION=0]="ANIMATION",h[h.LAYERS=1]="LAYERS"})(_=m.Capability||(m.Capability={}));var v={AnimationRenderer:[_.ANIMATION,_.LAYERS],Renderer:[_.LAYERS]};m.supportsCapabilities=function(h,c){return h instanceof i.Renderer?v.Renderer.every(function(o){return c.includes(o)}):h instanceof a.AnimationRenderer&&v.AnimationRenderer.every(function(o){return c.includes(o)})},m.createRendererFromCapabilities=function(h,c){return h===void 0||h.every(function(o){return v.Renderer.includes(o)})?new i.Renderer(c):h.every(function(o){return v.AnimationRenderer.includes(o)})?new a.AnimationRenderer(c):(d(!1,"Could not create Renderer for capabilities: "+h),new i.Renderer(c))}})(t.RendererCapabilities||(t.RendererCapabilities={}))},function(e,t,r){var n,a=this&&this.__extends||(n=function(v,h){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(c[l]=o[l])})(v,h)},function(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function c(){this.constructor=v}n(v,h),v.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}),i=this&&this.__decorate||function(v,h,c,o){var l,s=arguments.length,u=s<3?h:o===null?o=Object.getOwnPropertyDescriptor(h,c):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(v,h,c,o);else for(var f=v.length-1;f>=0;f--)(l=v[f])&&(u=(s<3?l(u):s>3?l(h,c,u):l(h,c))||u);return s>3&&u&&Object.defineProperty(h,c,u),u};Object.defineProperty(t,"__esModule",{value:!0}),t.Geometry=void 0;var d=r(0),m=r(67),_=function(v){function h(){var c=v!==null&&v.apply(this,arguments)||this;return c._altered=Object.assign(new d.ChangeLookup,{any:!1,colorTableLength:!1,colorTable:!1,innerNodeIndices:!1,innerNodeLayouts:!1,innerNodeEmphases:!1,innerNodeColors:!1,innerNodeDrawDispatch:!1,layers:!1,leafNodeIndices:!1,leafNodeLayouts:!1,leafNodeEmphases:!1,leafNodeAreaScales:!1,leafNodeColors:!1,leafNodeHeights:!1,leafNodeDrawDispatch:!1,outlineWidth:!1,emphasisOutlineWidth:!1,heightScale:!1,levitate:!1,labels:!1}),c._leafNodeAreaScales=new Array,c._leafNodeColors=new Array,c._leafNodeHeights=new Array,c}return a(h,v),h.prototype.initialize=function(c){return this._topology=c,this._altered.alter("any"),this._topology.numberOfInnerNodes>0||this._topology.numberOfLeafNodes>0},h.prototype.uninitialize=function(){this._topology=void 0,this._colorTable=void 0,this._leafNodeAreaScales.length=0,this._leafNodeColors.length=0,this._leafNodeHeights.length=0,this._innerNodeIndices=void 0,this._innerNodeLayouts=void 0,this._innerNodeEmphases=void 0,this._innerNodeColors=void 0,this._innerNodeDrawDispatch=void 0,this._leafNodeIndices=void 0,this._leafNodeLayouts=void 0,this._leafNodeEmphases=void 0,this._leafNodeDrawDispatch=void 0},h.prototype.asObjBlob=function(c,o){return m.ObjExport.blob(this,c,o)},h.prototype.downloadObjBlob=function(c,o,l){c===void 0&&(c="treemap.obj");var s=this.asObjBlob(o,l),u=window.URL.createObjectURL(s),f=document.createElement("a");f.setAttribute("href",u),f.setAttribute("download",c),f.click()},Object.defineProperty(h.prototype,"altered",{get:function(){return this._altered},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"topology",{get:function(){return this.assertInitialized(),this._topology},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"innerNodeIndices",{get:function(){return this._innerNodeIndices},set:function(c){this.assertInitialized(),this._innerNodeIndices=c,this._altered.alter("innerNodeIndices")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"innerNodeLayouts",{get:function(){return this._innerNodeLayouts},set:function(c){this.assertInitialized(),this._innerNodeLayouts=c,this._altered.alter("innerNodeLayouts")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"innerNodeEmphases",{get:function(){return this._innerNodeEmphases},set:function(c){this.assertInitialized(),this._innerNodeEmphases=c,this._altered.alter("innerNodeEmphases")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"innerNodeColors",{get:function(){return this._innerNodeColors},set:function(c){this.assertInitialized(),this._innerNodeColors=c,this._altered.alter("innerNodeColors")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"innerNodeDrawDispatch",{get:function(){return this._innerNodeDrawDispatch},set:function(c){this.assertInitialized(),this._innerNodeDrawDispatch=c,this._altered.alter("innerNodeDrawDispatch")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"leafNodeIndices",{get:function(){return this._leafNodeIndices},set:function(c){this.assertInitialized(),this._leafNodeIndices=c,this._altered.alter("leafNodeIndices")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"leafNodeLayouts",{get:function(){return this._leafNodeLayouts},set:function(c){this.assertInitialized(),this._leafNodeLayouts=c,this._altered.alter("leafNodeLayouts")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"leafNodeEmphases",{get:function(){return this._leafNodeEmphases},set:function(c){this.assertInitialized(),this._leafNodeEmphases=c,this._altered.alter("leafNodeEmphases")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"leafNodeAreaScales",{get:function(){return this._leafNodeAreaScales},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"leafNodeColors",{get:function(){return this._leafNodeColors},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"colorTable",{get:function(){return this._colorTable},set:function(c){this.assertInitialized(),this._colorTable=c,this._altered.alter("colorTable")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"leafNodeHeights",{get:function(){return this._leafNodeHeights},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"leafNodeDrawDispatch",{get:function(){return this._leafNodeDrawDispatch},set:function(c){this.assertInitialized(),this._leafNodeDrawDispatch=c,this._altered.alter("leafNodeDrawDispatch")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"innerNodeCount",{get:function(){return this.assertInitialized(),this._topology.numberOfInnerNodes},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"leafNodeCount",{get:function(){return this.assertInitialized(),this._topology.numberOfLeafNodes},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"heightScale",{get:function(){return this._heightScale},set:function(c){this.assertInitialized(),this._heightScale=c,this._altered.alter("heightScale")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"levitate",{get:function(){return this._levitate},set:function(c){this.assertInitialized(),this._levitate=c,this._altered.alter("levitate")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"outlineWidth",{get:function(){return this._outlineWidth},set:function(c){this.assertInitialized(),this._outlineWidth=c,this._altered.alter("outlineWidth")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"emphasisOutlineWidth",{get:function(){return this._emphasisOutlineWidth},set:function(c){this.assertInitialized(),this._emphasisOutlineWidth=c,this._altered.alter("emphasisOutlineWidth")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"leafLayerCount",{get:function(){return this.assertInitialized(),this._leafNodeHeights.length},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"valid",{get:function(){return this.initialized},enumerable:!1,configurable:!0}),i([d.Initializable.initialize()],h.prototype,"initialize",null),i([d.Initializable.uninitialize()],h.prototype,"uninitialize",null),h}(d.Initializable);t.Geometry=_,function(v){(function(h){h[h.None=0]="None",h[h.Outline=1]="Outline",h[h.Highlight=2]="Highlight"})(v.Emphasis||(v.Emphasis={}))}(_=t.Geometry||(t.Geometry={})),t.Geometry=_},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.RelativeLabelPosition=void 0;var n=r(0),a=n.auxiliaries.assert,i=n.gl_matrix_extensions.v2;(function(d){var m;(function(_){_.UpperRight="upper-right",_.UpperLeft="upper-left",_.LowerRight="lower-right",_.LowerLeft="lower-left",_.Hidden="hidden"})(m=d.Type||(d.Type={})),d.labelOrigin=function(_,v,h){switch(_){case m.UpperRight:return v;case m.UpperLeft:return n.vec2.sub(i(),v,[h[0],0]);case m.LowerLeft:return n.vec2.sub(i(),v,h);case m.LowerRight:return n.vec2.sub(i(),v,[0,h[1]]);case m.Hidden:return v;default:a(!1,"No valid type for relative label position, given"+_)}return n.vec2.create()},d.isVisible=function(_){return _!==m.Hidden},d.relativeLabelPosition=function(_,v){var h=n.vec2.add(i(),_,[v[0]/2,v[1]/2]);return h[0]>0&&h[1]>0?m.UpperRight:h[0]<0&&h[1]>0?m.UpperLeft:h[0]<0&&h[1]<0?m.LowerLeft:h[0]>0&&h[1]<0?m.LowerRight:(a(!1,"midpointOffset is "+h+", given offset "+_+" and extent "+v),m.Hidden)}})(t.RelativeLabelPosition||(t.RelativeLabelPosition={}))},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.LabelManagement=t.LabelPaddingSide=void 0;var n,a=r(0),i=a.auxiliaries.assert,d=a.auxiliaries.log,m=a.auxiliaries.LogLevel;function _(c,o,l){c.length>0&&c[c.length-1].value<o&&(c[c.length-1]={nodeId:l,value:o},c.sort(function(s,u){return u.value-s.value}))}function v(c,o){o.filter(function(l){return l.nodeId!==void 0}).map(function(l){c.add(l.nodeId)})}(function(c){c[c.Bottom=0]="Bottom",c[c.Top=1]="Top",c[c.Left=2]="Left",c[c.Right=3]="Right"})(n=t.LabelPaddingSide||(t.LabelPaddingSide={}));var h=function(){function c(){}return c.createLeafLabel=function(o,l){var s,u=new a.Projected3DLabel(new a.Text("  "+o+"  "),a.Label.Type.Dynamic);return(s=u.color).fromF32.apply(s,c.leafLabelColor),u.lineAnchor=a.Label.LineAnchor.Bottom,u.fontSize=20,i(l.length===3,"Expected a 3D position for leaf label anchor, got "+l),u.position=l,u},c.createInnerNodeLabel=function(o,l,s){var u,f=new a.Position3DLabel(new a.Text(o),a.Label.Type.Static);(u=f.color).fromF32.apply(u,c.innerLabelColor),f.alignment=a.Label.Alignment.Center,f.lineAnchor=a.Label.LineAnchor.Bottom;var g=n.Bottom,y=0,b=0;switch(f.fontSize=2*s,f.elide=a.Label.Elide.Middle,+g){case n.Bottom:y=l.left+l.right-1,b=2*(l.bottom-s)-1,f.lineWidth=2*l.width,f.direction=[1,0,0],f.up=[0,0,-1];break;case n.Top:y=l.left+l.right-1,b=2*(l.top+s)-1,f.lineWidth=2*l.width,f.direction=[-1,0,0],f.up=[0,0,1];break;case n.Left:y=2*(l.left-s)-1,b=l.top+l.bottom-1,f.lineWidth=2*l.height,f.direction=[0,0,1],f.up=[1,0,0];break;case n.Right:y=2*(l.right+s)-1,b=l.top+l.bottom-1,f.lineWidth=2*l.height,f.direction=[0,0,-1],f.up=[-1,0,0];break;default:f.fontSize=0,d(m.Warning,g+" is not a valid value of LabelPaddingSide, skip label '"+o+"'")}return f.position=[y,0,-b],f},c.createInnerNodeLabelOnAccessory=function(o,l){var s,u=new a.Position3DLabel(new a.Text(o),a.Label.Type.Static);(s=u.color).fromF32.apply(s,c.innerLabelColor),u.alignment=a.Label.Alignment.Center,u.lineAnchor=a.Label.LineAnchor.Bottom;var f=l.left+l.right-1,g=2*l.bottom-1;return u.fontSize=2*l.height,u.elide=a.Label.Elide.Middle,u.lineWidth=2*l.width,u.position=[f,0,-g],u.direction=[1,0,0],u.up=[0,0,-1],u},c.fillLeafLabelArray=function(o,l,s,u,f,g){var y=new Array(o.numberOfInnerNodes);return s.forEach(function(b){var E=o.leafNodeById(b),x=l.get(b);if(E!==void 0&&x!==void 0&&x.length!==0){var w=E.index-o.numberOfInnerNodes,S=4*w,O=f[S+0],A=f[S+1],L=f[S+2],k=f[S+3],D=g[2*w+1];if(L>0&&k>0){var N=O+.5*L,$=D*u/255,H=A+.5*k;y[E.index]=c.createLeafLabel(x,[N,$,H])}}}),y},c.fillInnerNodeLabelArrayOnAccessory=function(o,l,s,u){var f=new Array(o.numberOfInnerNodes);return s.forEach(function(g){var y=o.innerNodeById(g);if(y!==void 0&&u[y.index]!==void 0&&u[y.index].area>0){var b=l.get(g);if(b===void 0||b.length===0)return;f[y.index]=c.createInnerNodeLabelOnAccessory(b,u[y.index])}}),f},c.fillInnerNodeLabelArray=function(o,l,s,u,f){var g=new Array(o.numberOfInnerNodes);return s.forEach(function(y){var b=o.innerNodeById(y);if(b!==void 0&&u[b.index]!==void 0){var E=l.get(y);if(E===void 0||E.length===0)return;!b.isLeaf&&u[b.index].area>0&&(g[b.index]=c.createInnerNodeLabel(E,u[b.index],f[b.index]))}}),g},c.createLabelSelection=function(o,l,s,u,f,g,y,b,E,x,w){var S=new Set,O=new Array(b),A=new Array(E),L=new Array(x),k=new Array(w);return O.fill({nodeId:void 0,value:-1}),A.fill({nodeId:void 0,value:-1}),L.fill({nodeId:void 0,value:-1}),k.fill({nodeId:void 0,value:-1}),o.parentsDoUntilDepth(y[1],function(D){D.depth<y[0]||f[D.index]||(_(O,l[D.index],D.id),g.has(D.id)&&S.add(D.id))}),o.forEachLeafNode(function(D){f[D.index]||D.id===void 0||(_(A,l[D.index],D.id),_(L,s[D.index],D.id),_(k,u[D.index],D.id),g.has(D.id)&&S.add(D.id))}),v(S,O),v(S,A),v(S,L),v(S,k),S},c.fillLeafLabelArrayByExplicitNames=function(o,l,s,u,f){var g=new Map,y=new Set;return Object.keys(l).forEach(function(b){var E=parseInt(b,10);g.set(E,l[E]),y.add(E)}),c.fillLeafLabelArray(o,g,y,s,u,f)},c.fillInnerNodeLabelArrayOnAccessoryByExplicitNames=function(o,l,s){var u=new Map,f=new Set;return Object.keys(l).forEach(function(g){var y=parseInt(g,10);u.set(y,l[y]),f.add(y)}),c.fillInnerNodeLabelArrayOnAccessory(o,u,f,s)},c}();t.LabelManagement=h,function(c){c.leafLabelColor=[0,0,0,.8],c.innerLabelColor=[0,0,0,.54]}(h=t.LabelManagement||(t.LabelManagement={})),t.LabelManagement=h},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.DrawDispatch=void 0;var n=r(0),a=r(75),i=r(27),d=function(){function m(){this._ids=void 0,this._mask=void 0,this._slices=void 0,this._filters=new Map,this._unfiltered=void 0,this._sequences=new Map,this._complements=new Map}return Object.defineProperty(m,"debug",{set:function(_){_&&n.auxiliaries.logVerbosity()<n.auxiliaries.LogLevel.Debug&&(n.auxiliaries.logVerbosity(n.auxiliaries.LogLevel.Debug),n.auxiliaries.log(n.auxiliaries.LogLevel.Debug,"changed log verbosity to "+n.auxiliaries.LogLevel.Debug+" (debug)")),m._debug=_},enumerable:!1,configurable:!0}),m.encode=function(_){var v="draw dispatch encode";n.auxiliaries.logPerformanceStartIf(m._debug,v);var h=new Array;if(_.length===0)return n.auxiliaries.logPerformanceStopIf(m._debug,v,"empty",i.PERF_LOG_INDENT),h;_.sort(function(u,f){return u-f});var c=_[0],o=_[0];h.push(c);for(var l=1;l<_.length;++l){var s=_[l];o+1!==s?(h.push(o-c+1),c=o=s,h.push(c)):o=s}return h.push(o-c+1),n.auxiliaries.logPerformanceStopIf(m._debug,v,void 0,i.PERF_LOG_INDENT),h},m.prototype.slice=function(_){var v="draw dispatch slice";if(n.auxiliaries.logPerformanceStartIf(m._debug,v),this._slices===void 0)return n.auxiliaries.logPerformanceStopIf(m._debug,v,"undefined",i.PERF_LOG_INDENT),_;for(var h=new Array,c=0;c<this._slices.length;c+=2)for(var o=this._slices[c+0],l=this._slices[c+1],s=0;s<_.length;s+=2){var u=_[s+0],f=u+_[s+1]-1;if(!(f<o||u>l)){var g=Math.max(o,u),y=Math.min(l,f)-g+1;h.push(g),h.push(y)}}return n.auxiliaries.logPerformanceStopIf(m._debug,v,void 0,i.PERF_LOG_INDENT),h},m.prototype.compute_unfiltered=function(){var _=this,v="draw dispatch unfiltered";if(n.auxiliaries.logPerformanceStartIf(m._debug,v),this._ids===void 0)return this._unfiltered=void 0,void n.auxiliaries.logPerformanceStopIf(m._debug,v,"undefined",i.PERF_LOG_INDENT);var h=this._ids.map(function(c,o){return o}).filter(function(c){return _._mask===void 0||_._mask[c]>0});this._unfiltered=this.slice(m.encode(h)),n.auxiliaries.logPerformanceStopIf(m._debug,v,void 0,i.PERF_LOG_INDENT)},m.prototype.compute_filtered=function(_){var v=this,h="draw dispatch filtered";n.auxiliaries.logPerformanceStartIf(m._debug,h);var c=this._filters.get(_);if(c===void 0||this._ids===void 0)return this._sequences.set(_,[]),void n.auxiliaries.logPerformanceStopIf(m._debug,h,"undefined",i.PERF_LOG_INDENT);var o=c.map(function(s){return v._ids.indexOf(s)}).filter(function(s){return v._mask===void 0||v._mask[s]>0}),l=this.slice(m.encode(o));this._sequences.set(_,l),n.auxiliaries.logPerformanceStopIf(m._debug,h,void 0,i.PERF_LOG_INDENT)},m.prototype.compute_complement=function(_){var v=this,h="draw dispatch complement";n.auxiliaries.logPerformanceStartIf(m._debug,h);var c=this._filters.get(_);if(c===void 0||this._ids===void 0)return this._sequences.set(_,[]),void n.auxiliaries.logPerformanceStopIf(m._debug,h,"undefined",i.PERF_LOG_INDENT);var o=this._ids.map(function(s,u){return u}).filter(function(s){return c.indexOf(v._ids[s])===-1&&(v._mask===void 0||v._mask[s]>0)}),l=this.slice(m.encode(o));this._complements.set(_,l),n.auxiliaries.logPerformanceStopIf(m._debug,h,void 0,i.PERF_LOG_INDENT)},m.prototype.count=function(_){return _.reduce(function(v,h,c){return c%2==1?v+h:v},0)},m.prototype.invalidate=function(_){if(_)return this._sequences.delete(_),void this._complements.delete(_);this._sequences.clear(),this._complements.clear(),this._unfiltered=void 0},m.prototype.filter=function(_,v){this.invalidate(_),this._filters.set(_,v instanceof Uint32Array?Array.from(v):v)},m.prototype.unfiltered=function(){return this._ids===void 0?new Array:(this._unfiltered===void 0&&this.compute_unfiltered(),this._unfiltered)},m.prototype.filtered=function(_){return this._filters.has(_)?(this._sequences.has(_)||this.compute_filtered(_),this._sequences.get(_)):(n.auxiliaries.log(n.auxiliaries.LogLevel.Warning,"unknown draw dispatch sequence handle, given "+_),new Array(0))},m.prototype.complemented=function(_){return this._filters.has(_)?(this._complements.has(_)||this.compute_complement(_),this._complements.get(_)):(n.auxiliaries.log(n.auxiliaries.LogLevel.Warning,"unknown draw dispatch sequence handle, given "+_),new Array(0))},m.prototype.unfilteredCount=function(){var _=this.unfiltered();return this.count(_)},m.prototype.filteredCount=function(_){var v=this.filtered(_);return this.count(v)},m.prototype.complementedCount=function(_){var v=this.complemented(_);return this.count(v)},Object.defineProperty(m.prototype,"mask",{set:function(_){this.invalidate(),_!==void 0?a.IS_EDGE?this._mask=_ instanceof Uint8Array?Array.from(_):_:this._mask=_ instanceof Uint8Array?_:Uint8Array.from(_):this._mask=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"slices",{get:function(){return this._slices},set:function(_){this.invalidate(),this._slices=_},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"ids",{set:function(_){this.invalidate(),a.IS_EDGE||a.IS_IE11?this._ids=_ instanceof Uint32Array?Array.from(_):_:this._ids=_ instanceof Uint32Array?_:Uint32Array.from(_),this._filters.clear(),this._mask=void 0},enumerable:!1,configurable:!0}),m._debug=!1,m}();t.DrawDispatch=d},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PERF_LOG_INDENT=void 0,t.PERF_LOG_INDENT=24},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Row=void 0;var n=r(0).auxiliaries.assert,a=r(4),i=function(){function d(m,_,v,h,c){this._tree=m,this._weights=_,this._availableSpace=v,this._availableWeight=h,this._horizontal=c,this._insertedChildrenCount=0,this._overallChildrenCount=0,this._parentWeight=h,this._childrenWeight=0,this._overallChildrenWeight=0}return d.aspectRatio=function(m,_,v){var h=m*_;return h>v?h/v:v/h},d.prototype.optimizedAverageAspectRatio=function(m){if(m){var _=Math.min(this._childrenWeight+m,this._availableWeight),v=Math.min(_/this._availableWeight,1),h=this._horizontal?this._availableSpace.width:this._availableSpace.height,c=(this._horizontal?this._availableSpace.height:this._availableSpace.width)*v;return d.aspectRatio(1/(this._insertedChildrenCount+1),h,c)}return _=this._childrenWeight,v=Math.min(_/this._availableWeight,1),h=this._horizontal?this._availableSpace.width:this._availableSpace.height,c=(this._horizontal?this._availableSpace.height:this._availableSpace.width)*v,d.aspectRatio(1/this._insertedChildrenCount,h,c)},d.prototype.insert=function(m,_){this._firstChild||(this._firstChild=m),n(this._lastChild===void 0||this._lastChild===m,"Next node invariant not held."),this._lastChild=this._tree.node(m.nextSibling),_>Number.EPSILON&&(this._childrenWeight=Math.min(this._childrenWeight+_,this._availableWeight),this._overallChildrenWeight=Math.min(this._overallChildrenWeight+_,this._parentWeight),this._insertedChildrenCount+=1)},d.prototype.layoutNodes=function(m){var _=this;if(this._firstChild!==void 0)if(this.isDisabled)this._tree.siblingsRangeDo(this._firstChild,this._lastChild,function(o){m[o.index]=new a.Rect(_._availableSpace.left,_._availableSpace.bottom,_._availableSpace.left,_._availableSpace.bottom)});else{var v=this.currentSpace;if(this._horizontal){var h=v.left;this._tree.siblingsRangeDo(this._firstChild,this._lastChild,function(o){var l=_._weights[o.index],s=v.width*l/_._childrenWeight,u=Math.min(h+s,v.right);m[o.index]=new a.Rect(h,v.bottom,u,v.top),n(_._availableSpace.comprises(m[o.index]),"Expect that child rect is within parent rect"),h=u})}else{var c=v.bottom;this._tree.siblingsRangeDo(this._firstChild,this._lastChild,function(o){var l=_._weights[o.index],s=v.height*l/_._childrenWeight,u=Math.min(c+s,v.top);m[o.index]=new a.Rect(v.left,c,v.right,u),n(_._availableSpace.comprises(m[o.index]),"Expect that child rect is within parent rect"),c=u})}}},Object.defineProperty(d.prototype,"isDisabled",{get:function(){return this._availableWeight<=0||this._availableSpace.width<=0||this._availableSpace.height<=0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"availableWeight",{get:function(){return this._availableWeight},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"remainingWeight",{get:function(){return this.isDisabled?0:Math.max(this._parentWeight-this._overallChildrenWeight,0)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"availableSpace",{get:function(){return this._availableSpace},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"currentSpace",{get:function(){if(this.isDisabled)return this._availableSpace.truncateBottom(this._availableSpace.top);if(this._childrenWeight>=this._availableWeight||this._lastChild===void 0)return a.Rect.clone(this.availableSpace);var m=this._childrenWeight/this._availableWeight;if(this._horizontal){var _=this._availableSpace.bottom+m*this._availableSpace.height;return this._availableSpace.truncateTop(_)}return _=this._availableSpace.left+m*this._availableSpace.width,this._availableSpace.truncateRight(_)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"remainingSpace",{get:function(){if(this.isDisabled)return this._availableSpace.truncateBottom(this._availableSpace.top);var m=Math.min(this._childrenWeight/this._availableWeight,1);if(this._horizontal){var _=this._availableSpace.bottom+m*this._availableSpace.height;return this._availableSpace.truncateBottom(_)}return _=this._availableSpace.left+m*this._availableSpace.width,this._availableSpace.truncateLeft(_)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"isHorizontal",{get:function(){return this._horizontal},enumerable:!1,configurable:!0}),d.prototype.increasesAverageAspectRatio=function(m){return!(this.isDisabled||this._firstChild===void 0||m<=Number.EPSILON)&&this.optimizedAverageAspectRatio(m)>this.optimizedAverageAspectRatio()+Number.EPSILON},d.prototype.next=function(m){var _=this.remainingSpace;n(this._availableSpace.comprises(_),"Remaining Space should not exceed available space"),this._availableSpace=_,this._availableWeight=this.remainingWeight,this._horizontal=m,this._firstChild=void 0,this._lastChild=void 0,this._insertedChildrenCount=0,this._childrenWeight=0},d}();t.Row=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceAdapter=t.AnimatedServiceAdapter=void 0;var n,a=r(0),i=r(1),d=r(2),m=r(8),_=r(9),v=r(5),h=r(30),c=r(31),o=r(3),l=function(){function s(){this._config=new d.Configuration,this.setupLayoutAndGeometry()}return s.prototype.loadAll=function(u,f,g,y,b,E){this.loadAndPrepareAreaData(u),this.loadAndPrepareColorData(f),this.loadAndPrepareHeightData(g,b,E),this.loadNames(y)},s.prototype.loadCombinedFormat=function(u,f){var g,y,b=new h.BufferReader(u),E=new h.ServiceFormatHeader(b);if(E.hasFlag(h.BufferFlags.HIERARCHY)){var x=b.getInt(),w=b.getInt(),S=b.getByteArray(w);b.addPadding(),this.createOrUpdateTopology(S,x)}if(E.hasFlag(h.BufferFlags.HEIGHTS)&&(g=new c.ServiceBufferHeader(u,b.offset),b.offset=g.offset+g.length*Uint16Array.BYTES_PER_ELEMENT,b.addPadding()),E.hasFlag(h.BufferFlags.HEIGHTS_COMPARE)&&(y=new c.ServiceBufferHeader(u,b.offset),b.offset=y.offset+y.length*Uint16Array.BYTES_PER_ELEMENT,b.addPadding()),this.loadAndPrepareHeightDataV2(u,g,y),E.hasFlag(h.BufferFlags.AREAS)){var O=new c.ServiceBufferHeader(u,b.offset);b.offset=O.offset+O.length*Uint16Array.BYTES_PER_ELEMENT,b.addPadding(),this.loadAndPrepareAreaData(u,O)}E.hasFlag(h.BufferFlags.COLORS)?b.addPadding():this.loadAndPrepareColorData(u,g)},s.prototype.loadAndPrepareAreaData=function(u,f){f||(f=new c.ServiceBufferHeader(u)),a.auxiliaries.log(a.auxiliaries.LogLevel.Debug,"area - min: "+f.minimum+", max: "+f.maximum),this.createOrUpdateBuffer({identifier:n.BufferIdentifier.SourceArea,type:i.AttributeBuffer.DataType.Uint16,data:new Uint16Array(u,f.offset,f.length),encoding:i.AttributeBuffer.Encoding.Native,linearization:i.AttributeBuffer.Linearization.Topology}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedArea,source:"buffer:"+n.BufferIdentifier.SourceArea,transformations:[this.metricRangeTransform(f.minimum,f.maximum)]});var g=Math.max(1e-5,f.maximum);f.maximum===0&&console.warn("treemap: max area is 0 - clamping to "+g+" for successful layout"),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.ClampedArea,source:"bufferView:"+n.BufferViewIdentifier.DecodedArea,transformations:[{type:"clamp",min:g*s.MINIMUM_NODE_WEIGHT,max:g}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.Weight,source:"bufferView:"+n.BufferViewIdentifier.ClampedArea,transformations:[{type:"propagate-up",operation:"sum"}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.BaseAreaScale,source:"bufferView:"+n.BufferViewIdentifier.Weight,transformations:[{type:"transform",operation:"multiply",parameter:0}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.BaseAreaScale,source:"bufferView:"+n.BufferViewIdentifier.Weight,transformations:[{type:"transform",operation:"pow",parameter:0}]}),this._config.altered.alter("buffers"),this._config.altered.alter("bufferViews")},s.prototype.loadAndPrepareColorData=function(u,f){f||(f=new c.ServiceBufferHeader(u)),a.auxiliaries.log(a.auxiliaries.LogLevel.Debug,"color - min: "+f.minimum+", max: "+f.maximum),this.createOrUpdateBuffer({identifier:n.BufferIdentifier.SourceColor,type:i.AttributeBuffer.DataType.Uint16,data:new Uint16Array(u,f.offset,f.length),encoding:i.AttributeBuffer.Encoding.Native,linearization:i.AttributeBuffer.Linearization.Topology}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedColor,source:"bufferView:"+n.BufferViewIdentifier.DecodedBaseHeight,transformations:[this.metricRangeTransform(f.minimum,f.maximum)]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedEndColor,source:"bufferView:"+n.BufferViewIdentifier.DecodedEndHeight,transformations:[this.metricRangeTransform(f.minimum,f.maximum)]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.Unmodified,source:"buffer:"+n.BufferIdentifier.SourceColor,transformations:[{type:"mask",value:s.UINT16_ENCODING_UNMODIFIED}]}),this._config.altered.alter("buffers"),this._config.altered.alter("bufferViews")},s.prototype.loadAndPrepareHeightData=function(u,f,g){var y=new c.ServiceBufferHeader(u);a.auxiliaries.log(a.auxiliaries.LogLevel.Debug,"height - min: "+y.minimum+", max: "+y.maximum);var b=y.offset,E=new Uint16Array(u,y.offset,y.length);if(y.minimum>0&&y.minimum===y.maximum)for(var x=0;x<E.length;x++)E[x]===s.UINT16_ENCODING_ZERO&&(E[x]=s.UINT16_ENCODING_MAX);if(this.createOrUpdateBuffer({identifier:n.BufferIdentifier.SourceHeight,type:i.AttributeBuffer.DataType.Uint16,data:E,encoding:i.AttributeBuffer.Encoding.Native,linearization:i.AttributeBuffer.Linearization.Topology}),b+=Uint16Array.BYTES_PER_ELEMENT*y.length,b+=Int32Array.BYTES_PER_ELEMENT,this.createOrUpdateBuffer({identifier:n.BufferIdentifier.SourceCompareThreshold,type:i.AttributeBuffer.DataType.Int8,data:new Int8Array(u,b,y.length),encoding:i.AttributeBuffer.Encoding.Native,linearization:i.AttributeBuffer.Linearization.Topology}),b+=Int8Array.BYTES_PER_ELEMENT*y.length,f){b+=4-b%4;var w=new Uint32Array(u,b,1)[0];b+=Uint32Array.BYTES_PER_ELEMENT;var S=new Uint32Array(u,b,1)[0];b+=Uint32Array.BYTES_PER_ELEMENT,this.createOrUpdateTopology(new Uint8Array(u,b,S),w)}this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedHeight,source:"buffer:"+n.BufferIdentifier.SourceHeight,transformations:[this.metricRangeTransform(y.minimum,y.maximum)]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.NormalizedHeight,source:"buffer:"+n.BufferIdentifier.SourceHeight,transformations:[this.metricRangeTransform(0,1)]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.HeightChange,source:"buffer:"+n.BufferIdentifier.SourceCompareThreshold,transformations:[{type:"threshold",value:0}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.BaseHeight,source:"buffer:"+n.BufferIdentifier.SourceCompareThreshold,transformations:[{type:"transform",operation:"divide",parameter:127},{type:"transform",operation:"as-remainder"},{type:"transform",operation:"multiply",buffer:"bufferView:"+n.BufferViewIdentifier.NormalizedHeight}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedBaseHeight,source:"buffer:"+n.BufferIdentifier.SourceCompareThreshold,transformations:[{type:"transform",operation:"divide",parameter:127},{type:"transform",operation:"as-remainder"},{type:"transform",operation:"multiply",buffer:"bufferView:"+n.BufferViewIdentifier.DecodedHeight}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DeltaHeight,source:"bufferView:"+n.BufferViewIdentifier.NormalizedHeight,transformations:[{type:"transform",operation:"subtract",buffer:"bufferView:"+n.BufferViewIdentifier.BaseHeight},{type:"transform",operation:"abs"}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedDeltaHeight,source:"bufferView:"+n.BufferViewIdentifier.DecodedHeight,transformations:[{type:"transform",operation:"subtract",buffer:"bufferView:"+n.BufferViewIdentifier.DecodedBaseHeight},{type:"transform",operation:"abs"}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.EndHeight,source:"bufferView:"+n.BufferViewIdentifier.NormalizedHeight}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedEndHeight,source:"bufferView:"+n.BufferViewIdentifier.DecodedHeight}),this._config.altered.alter("buffers"),this._config.altered.alter("bufferViews")},s.prototype.loadAndPrepareHeightDataV2=function(u,f,g){a.auxiliaries.log(a.auxiliaries.LogLevel.Debug,"height - min: "+f.minimum+", max: "+f.maximum),this.createOrUpdateBuffer({identifier:n.BufferIdentifier.SourceHeight,type:i.AttributeBuffer.DataType.Uint16,data:new Uint16Array(u,f.offset,f.length),encoding:i.AttributeBuffer.Encoding.Native,linearization:i.AttributeBuffer.Linearization.Topology}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedHeight,source:"buffer:"+n.BufferIdentifier.SourceHeight,transformations:[this.metricRangeTransform(f.minimum,f.maximum)]}),g?(this.createOrUpdateBuffer({identifier:n.BufferIdentifier.SourceCompareHeight,type:i.AttributeBuffer.DataType.Uint16,data:new Uint16Array(u,g.offset,g.length),encoding:i.AttributeBuffer.Encoding.Native,linearization:i.AttributeBuffer.Linearization.Topology}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedCompareHeight,source:"buffer:"+n.BufferIdentifier.SourceCompareHeight,transformations:[this.metricRangeTransform(g.minimum,g.maximum)]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedBaseHeight,source:"bufferView:"+n.BufferViewIdentifier.DecodedHeight}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedDeltaHeight,source:"bufferView:"+n.BufferViewIdentifier.DecodedHeight,transformations:[{type:"transform",operation:"subtract",buffer:"bufferView:"+n.BufferViewIdentifier.DecodedCompareHeight},{type:"transform",operation:"abs"}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DecodedEndHeight,source:"bufferView:"+n.BufferViewIdentifier.DecodedCompareHeight}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.BaseHeight,source:"bufferView:"+n.BufferViewIdentifier.DecodedBaseHeight,transformations:[{type:"range-transform",sourceRange:[f.minimum,f.maximum],targetRange:[0,1]}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.DeltaHeight,source:"bufferView:"+n.BufferViewIdentifier.DecodedDeltaHeight,transformations:[{type:"range-transform",sourceRange:[g.minimum,g.maximum],targetRange:[0,1]}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.EndHeight,source:"bufferView:"+n.BufferViewIdentifier.DecodedEndHeight,transformations:[{type:"range-transform",sourceRange:[g.minimum,g.maximum],targetRange:[0,1]}]}),this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.HeightChange,source:"buffer:"+n.BufferIdentifier.SourceHeight,transformations:[{type:"transform",operation:"compare",buffer:"buffer:"+n.BufferIdentifier.SourceCompareHeight},{type:"threshold",value:0}]})):this.createOrUpdateBufferView({identifier:n.BufferViewIdentifier.BaseHeight,source:"bufferView:"+n.BufferViewIdentifier.DecodedHeight,transformations:[{type:"range-transform",sourceRange:[f.minimum,f.maximum],targetRange:[0,1]}]}),this._config.altered.alter("buffers"),this._config.altered.alter("bufferViews")},s.prototype.metricRangeTransform=function(u,f){return{type:"range-transform",sourceRange:[s.UINT16_ENCODING_ZERO,s.UINT16_ENCODING_MAX],targetRange:[u,f]}},s.prototype.setupLayoutAndGeometry=function(){this._config.colors=[{identifier:"emphasis",space:"hex",value:"#00b0ff"},{identifier:"auxiliary",space:"hex",values:["#00aa5e","#71237c"]},{identifier:"inner",space:"hex",values:["#e8eaee","#eef0f4"]},{identifier:"analysis",space:"hex",values:["#4575b4","#91bfdb","#e0f3f8","#ffffbf","#fee090","#fc8d59","#d73027"]},{identifier:"segmentation",space:"hex",values:["#ffffff","#5392ff","#71cddd","#34bc6e","#95d13c","#db7c00","#ffb000","#ff509e","#9b82f3"]}],this._config.layout={algorithm:_.Layout.LayoutAlgorithm.Snake,weight:"bufferView:"+n.BufferViewIdentifier.Weight,aspectRatio:1,sort:{key:v.NodeSort.Key.Weight,algorithm:v.NodeSort.Algorithm.Descending},siblingMargin:{type:"relative",value:.1},parentPadding:{type:"relative",value:.02},accessoryPadding:{type:"absolute",direction:"bottom",value:[0,.018,.015],relativeAreaThreshold:.4,targetAspectRatio:2},cascade:!1,flattenDirectories:!1},this._config.altered.alter("geometry"),this._config.geometry={aggregation:{buffer:"bufferView:"+n.BufferViewIdentifier.Unmodified,depthThreshold:2,valueThreshold:1},emphasis:{outline:new Array,highlight:new Array},parentLayer:{showRoot:!1},leafLayers:[{colorScheme:{inverted:!1,classBounds:void 0},areaScale:"bufferView:"+n.BufferViewIdentifier.BaseAreaScale,colorMap:"color:analysis",height:"bufferView:"+n.BufferViewIdentifier.BaseHeight,colors:"bufferView:"+n.BufferViewIdentifier.DecodedColor},{colorScheme:{inverted:!1,classBounds:void 0},areaScale:"bufferView:"+n.BufferViewIdentifier.BaseAreaScale,colorMap:"color:analysis",height:"bufferView:"+n.BufferViewIdentifier.Empty,colors:"bufferView:"+n.BufferViewIdentifier.HeightChange}],heightScale:m.ConfigurationAids.HeightScaleApproach.SomethingInverseSqrt},this.config.animations=[{layer:0,areaScale:{buffers:["bufferView:"+n.BufferViewIdentifier.BaseAreaScale,"bufferView:"+n.BufferViewIdentifier.EndAreaScale],delaySpread:0,timestamps:[0,4e3],easing:"smoothstep",order:"synchronous"},height:{buffers:["bufferView:"+n.BufferViewIdentifier.BaseHeight,"bufferView:"+n.BufferViewIdentifier.EndHeight],delaySpread:0,timestamps:[0,4e3],easing:"smoothstep",order:"synchronous"},color:{buffers:["bufferView:"+n.BufferViewIdentifier.DecodedColor,"bufferView:"+n.BufferViewIdentifier.DecodedEndColor],delaySpread:0,timestamps:[0,4e3],easing:"linear",order:"synchronous"}}],this._config.labels={innerNodeLayerRange:[1,3],numTopInnerNodes:200,numTopWeightNodes:0,numTopHeightNodes:3,numTopColorNodes:3}},s.prototype.createOrUpdateBuffer=function(u){for(var f=0;f<this._config.buffers.length&&this._config.buffers[f].identifier!==u.identifier;)++f;this._config.buffers.length===f?this._config.buffers.push(u):this._config.buffers.splice(f,1,u)},s.prototype.createOrUpdateBufferView=function(u){for(var f=0;f<this._config.bufferViews.length&&this._config.bufferViews[f].identifier!==u.identifier;)++f;this._config.bufferViews.length===f?this._config.bufferViews.push(u):this._config.bufferViews.splice(f,1,u)},s.prototype.createOrUpdateTopology=function(u,f){for(var g=new Array,y=new Array,b=f+1,E=0;E<u.length;E+=b){for(var x=a.vec4.create(),w=0;w<f;w++)x[w]=u[E+w];var S=a.gl_matrix_extensions.decode_uint32_from_rgba8(x),O=u[E+f];if(O>0){var A=y[O-1];g.push(A),g.push(S)}y[O]=S}this._config.topology={edges:g,format:o.Topology.InputFormat.Interleaved}},s.prototype.loadNames=function(u){var f=new Map;if(u.apps||u.groups){for(var g in u.apps){var y=parseInt(g,10);f.set(y,u.apps[g])}for(var g in u.groups)y=parseInt(g,10),f.set(y,u.groups[g])}else Object.keys(u).forEach(function(b){var E=parseInt(b,10);f.set(E,u[E])});this._config.labels.callback=function(b,E){return E(f)}},Object.defineProperty(s.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),s.UINT16_ENCODING_DB_NULL=0,s.UINT16_ENCODING_UNMODIFIED=1,s.UINT16_ENCODING_ZERO=2,s.UINT16_ENCODING_MAX=65535,s.MINIMUM_NODE_WEIGHT=.01,s}();t.AnimatedServiceAdapter=l,function(s){(function(u){u.SourceArea="SourceArea",u.SourceHeight="SourceHeight",u.SourceColor="SourceColor",u.SourceCompareThreshold="SourceCompareThresholds",u.SourceCompareHeight="SourceCompareHeight"})(s.BufferIdentifier||(s.BufferIdentifier={})),function(u){u.DecodedArea="DecodedArea",u.ClampedArea="ClampedArea",u.Weight="Weight",u.DecodedColor="DecodedColor",u.DecodedEndColor="DecodedEndColor",u.HeightChange="HeightChange",u.Unmodified="Unmodified",u.Empty="Empty",u.DecodedHeight="DecodedHeight",u.DecodedCompareHeight="DecodedCompareHeight",u.NormalizedHeight="NormalizedHeight",u.BaseAreaScale="BaseArea",u.DeltaArea="DeltaArea",u.EndAreaScale="EndArea",u.BaseHeight="BaseHeight",u.DeltaHeight="DeltaHeight",u.EndHeight="EndHeight",u.DecodedBaseHeight="DecodedBaseHeight",u.DecodedDeltaHeight="DecodedDeltaHeight",u.DecodedEndHeight="DecodedEndHeight"}(s.BufferViewIdentifier||(s.BufferViewIdentifier={}))}(n=t.ServiceAdapter||(t.ServiceAdapter={}))},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceFormatHeader=t.BufferReader=t.BufferFlags=void 0,function(i){i[i.HEIGHTS=1]="HEIGHTS",i[i.HEIGHTS_COMPARE=2]="HEIGHTS_COMPARE",i[i.AREAS=4]="AREAS",i[i.COLORS=8]="COLORS",i[i.HIERARCHY=16]="HIERARCHY"}(t.BufferFlags||(t.BufferFlags={}));var n=function(){function i(d){this.data=d,this.offset=0}return i.prototype.getArray=function(d,m){var _=new m(this.data,this.offset,d);return this.offset+=m.BYTES_PER_ELEMENT*d,_},i.prototype.getValue=function(d){return this.getArray(1,d)[0]},i.prototype.addPadding=function(){this.offset+=4-this.offset%4},i.prototype.getByte=function(){return this.getValue(Uint8Array)},i.prototype.getShort=function(){return this.getValue(Uint16Array)},i.prototype.getFloat=function(){return this.getValue(Float32Array)},i.prototype.getInt=function(){return this.getValue(Int32Array)},i.prototype.getShortArray=function(d){return this.getArray(d,Uint16Array)},i.prototype.getByteArray=function(d){return this.getArray(d,Uint8Array)},i}();t.BufferReader=n;var a=function(){function i(d){this.numBuffers=d.getByte(),this.flags=d.getByte(),d.addPadding()}return i.prototype.hasFlag=function(d){return(this.flags&d)===d},i}();t.ServiceFormatHeader=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceBufferHeader=void 0;var n=function(){function a(i,d){d===void 0&&(d=0),this._offset=d,this._minimum=new Float32Array(i,this._offset,1)[0],this._offset+=1*Float32Array.BYTES_PER_ELEMENT,isFinite(this._minimum)||(this._minimum=0),this._maximum=new Float32Array(i,this._offset,1)[0],this._offset+=1*Float32Array.BYTES_PER_ELEMENT,this._length=new Int32Array(i,this._offset,1)[0],this._offset+=1*Int32Array.BYTES_PER_ELEMENT}return Object.defineProperty(a.prototype,"minimum",{get:function(){return this._minimum},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maximum",{get:function(){return this._maximum},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"length",{get:function(){return this._length},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"offset",{get:function(){return this._offset},enumerable:!1,configurable:!0}),a}();t.ServiceBufferHeader=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenshotCreator=void 0;var n=r(0),a=r(0),i=n.auxiliaries.assert,d=function(){function m(_){this._context=_}return m.toDataURL=function(_,v,h){var c=document.createElement("canvas"),o=c.getContext("2d");return c.width=_.width,c.height=_.height,o.putImageData(_,0,0),c.toDataURL(v,h)},m.downloadDataURL=function(_,v){var h=new Image;h.src=_;var c=document.createElement("a");c.download=v,c.href=h.src,c.click()},m.downloadImage=function(_,v){var h=m.toDataURL(_);m.downloadDataURL(h,v)},m.prototype.captureDefaultFramebufferIntoBuffer=function(_,v){var h=this._context.gl;h.readBuffer(h.BACK),h.readPixels(_.x,_.y,_.width,_.height,h.RGBA,h.UNSIGNED_BYTE,v)},m.prototype.captureFramebufferIntoBuffer=function(_,v,h,c){var o=this._context.gl,l=_.texture(v);if(i(l!==void 0,"Framebuffer does not have given attachment "+v+"."),i(l.format===o.RGBA,"Unsupported texture format "+l.format+"."),i(l.type===o.UNSIGNED_BYTE||l.type===o.FLOAT||l.type===o.HALF_FLOAT,"Unsupported texture type "+l.type+"."),o.readBuffer(v),l.type===o.FLOAT||l.type===o.HALF_FLOAT){var s=new Float32Array(h.width*h.height*4);o.readPixels(h.x,h.y,h.width,h.height,o.RGBA,o.FLOAT,s),s.forEach(function(u,f){c[f]=255*u})}else l.type===o.UNSIGNED_BYTE&&o.readPixels(h.x,h.y,h.width,h.height,o.RGBA,o.UNSIGNED_BYTE,c)},m.prototype.flipImageDataVertically=function(_){for(var v=new Uint32Array(_.data.buffer),h=_.width,c=_.height,o=0;o<Math.floor(c/2);o++)for(var l=0;l<h;l++){var s=l+o*h,u=l+(c-o)*h,f=v[s];v[s]=v[u],v[u]=f}},m.prototype.capture=function(_,v,h){var c=this._context.gl,o=_.size;h===void 0&&(h={x:0,y:0,width:o[0],height:o[1]}),v===void 0&&(v=c.COLOR_ATTACHMENT0);var l=new ImageData(h.width,h.height),s=new Uint8Array(l.data.buffer);return _.bind(c.READ_FRAMEBUFFER),_ instanceof a.DefaultFramebuffer?this.captureDefaultFramebufferIntoBuffer(h,s):_ instanceof a.Framebuffer&&this.captureFramebufferIntoBuffer(_,v,h,s),_.unbind(c.READ_FRAMEBUFFER),this.flipImageDataVertically(l),l},m}();t.ScreenshotCreator=d},function(e,t,r){r(34),e.exports=r(35)},function(e,t,r){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(n){if(this===null)throw new TypeError('"this" is null or not defined');var a=Object(this),i=a.length>>>0;if(typeof n!="function")throw new TypeError("predicate must be a function");for(var d=arguments[1],m=0;m<i;){var _=a[m];if(n.call(d,_,m,a))return _;m++}},configurable:!0,writable:!0}),Array.prototype.forEach||(Array.prototype.forEach=function(n){var a,i;if(this===null)throw new TypeError("this is null or not defined");var d=Object(this),m=d.length>>>0;if(typeof n!="function")throw new TypeError(n+" is not a function");for(arguments.length>1&&(a=arguments[1]),i=0;i<m;){var _=void 0;i in d&&(_=d[i],n.call(a,_,i,d)),i++}}),Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(n){if(this===null)throw new TypeError("this is null or not defined");for(var a=Object(this),i=a.length>>>0,d=arguments[1],m=d>>0,_=m<0?Math.max(i+m,0):Math.min(m,i),v=arguments[2],h=v===void 0?i:v>>0,c=h<0?Math.max(i+h,0):Math.min(h,i);_<c;)a[_]=n,_++;return a}}),Uint8Array.prototype.fill||(Uint8Array.prototype.fill=Array.prototype.fill),Float32Array.prototype.fill||(Float32Array.prototype.fill=Array.prototype.fill),[Float32Array,Uint8Array,Int8Array,Uint32Array,Int32Array].forEach(function(n){n.prototype.slice||Object.defineProperty(n.prototype,"slice",{value:Array.prototype.slice}),n.prototype.filter||Object.defineProperty(n.prototype,"filter",{value:Array.prototype.filter}),n.prototype.map||Object.defineProperty(n.prototype,"map",{value:Array.prototype.map}),n.prototype.indexOf||Object.defineProperty(n.prototype,"indexOf",{value:Array.prototype.indexOf})})},function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(N,$,H,q){q===void 0&&(q=H),Object.defineProperty(N,q,{enumerable:!0,get:function(){return $[H]}})}:function(N,$,H,q){q===void 0&&(q=H),N[q]=$[H]}),a=this&&this.__exportStar||function(N,$){for(var H in N)H==="default"||Object.prototype.hasOwnProperty.call($,H)||n($,N,H)};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoCreator=t.ScreenshotCreator=t.AnimationData=t.Navigation=t.CSVData=t.MRHData=t.TestData=t.ServiceAdapter=t.ServiceData=t.JSONData=t.AnimatedServiceAdapter=t.AnimatedServiceData=t.GeometryCreation=t.Layout=t.NodeSort=t.AttributeBuffer=t.Topology=t.Visualization=t.RendererCapabilities=t.Renderer=t.ConfigurationAids=t.Configuration=t.AnimationRenderer=t.gloperate=void 0;var i=r(0);i.auxiliaries.logVerbosity(2),i.auxiliaries.assertions(!0),t.gloperate=i;var d=r(10);Object.defineProperty(t,"AnimationRenderer",{enumerable:!0,get:function(){return d.AnimationRenderer}});var m=r(2);Object.defineProperty(t,"Configuration",{enumerable:!0,get:function(){return m.Configuration}});var _=r(8);Object.defineProperty(t,"ConfigurationAids",{enumerable:!0,get:function(){return _.ConfigurationAids}});var v=r(21);Object.defineProperty(t,"Renderer",{enumerable:!0,get:function(){return v.Renderer}});var h=r(22);Object.defineProperty(t,"RendererCapabilities",{enumerable:!0,get:function(){return h.RendererCapabilities}});var c=r(63);Object.defineProperty(t,"Visualization",{enumerable:!0,get:function(){return c.Visualization}});var o=r(3);Object.defineProperty(t,"Topology",{enumerable:!0,get:function(){return o.Topology}});var l=r(1);Object.defineProperty(t,"AttributeBuffer",{enumerable:!0,get:function(){return l.AttributeBuffer}});var s=r(5);Object.defineProperty(t,"NodeSort",{enumerable:!0,get:function(){return s.NodeSort}});var u=r(9);Object.defineProperty(t,"Layout",{enumerable:!0,get:function(){return u.Layout}});var f=r(13);Object.defineProperty(t,"GeometryCreation",{enumerable:!0,get:function(){return f.GeometryCreation}});var g=r(83);Object.defineProperty(t,"AnimatedServiceData",{enumerable:!0,get:function(){return g.AnimatedServiceData}});var y=r(29);Object.defineProperty(t,"AnimatedServiceAdapter",{enumerable:!0,get:function(){return y.AnimatedServiceAdapter}});var b=r(84);Object.defineProperty(t,"JSONData",{enumerable:!0,get:function(){return b.JSONData}});var E=r(85);Object.defineProperty(t,"ServiceData",{enumerable:!0,get:function(){return E.ServiceData}});var x=r(14);Object.defineProperty(t,"ServiceAdapter",{enumerable:!0,get:function(){return x.ServiceAdapter}});var w=r(86);Object.defineProperty(t,"TestData",{enumerable:!0,get:function(){return w.TestData}});var S=r(90);Object.defineProperty(t,"MRHData",{enumerable:!0,get:function(){return S.MRHData}});var O=r(92);Object.defineProperty(t,"CSVData",{enumerable:!0,get:function(){return O.CSVData}});var A=r(11);Object.defineProperty(t,"Navigation",{enumerable:!0,get:function(){return A.Navigation}});var L=r(12);Object.defineProperty(t,"AnimationData",{enumerable:!0,get:function(){return L.AnimationData}});var k=r(32);Object.defineProperty(t,"ScreenshotCreator",{enumerable:!0,get:function(){return k.ScreenshotCreator}});var D=r(94);Object.defineProperty(t,"VideoCreator",{enumerable:!0,get:function(){return D.VideoCreator}}),a(r(95),t)},function(e,t,r){var n,a=this&&this.__extends||(n=function(l,s){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(u[g]=f[g])})(l,s)},function(l,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function u(){this.constructor=l}n(l,s),l.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}),i=this&&this.__decorate||function(l,s,u,f){var g,y=arguments.length,b=y<3?s:f===null?f=Object.getOwnPropertyDescriptor(s,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(l,s,u,f);else for(var E=l.length-1;E>=0;E--)(g=l[E])&&(b=(y<3?g(b):y>3?g(s,u,b):g(s,u))||b);return y>3&&b&&Object.defineProperty(s,u,b),b};Object.defineProperty(t,"__esModule",{value:!0}),t.CuboidRenderPass=t.AnimatedCuboidRenderPass=void 0;var d,m=r(0),_=r(0),v=r(37),h=r(16),c=r(6),o=function(l){function s(u,f){var g=l.call(this)||this;return g._standardDerivatives=void 0,g._altered=Object.assign(new _.ChangeLookup,{any:!0,camera:!0,geometry:!0,colorTable:!0,colorTableLength:!0,nodeCount:!0,emphases:!0,layerIndex:!0,heightScale:!0,levitate:!0,outlineWidth:!0,emphasisOutlineWidth:!0,heightDuration:!0,colorDuration:!0,areaDuration:!0,heightEasing:!0,colorEasing:!0,areaEasing:!0,colorMode:!0,patternMode:!0,progressMode:!0}),g._outlineWidth=s.OUTLINE_WIDTH_DEFAULT,g._emphasisOutlineWidth=s.EMPHASIS_OUTLINE_WIDTH_DEFAULT,g._swapColorBuffers=!1,g._colorMode=h.ColorMode.VERTICAL,g._patternMode=h.ColorMode.UNDEFINED,g._mousePosition=[0,0],g._attachment=c.MultiRenderTarget.Attachment.Undefined,g._faceSequence=new Array,g._faceData=new Map,g.swapAreaBuffers=!1,g.swapHeightBuffers=!1,g.swapColorBuffers=!1,g._context=u,m.auxiliaries.assert(f>=0&&f<=s.CUBOID_LAYERS,"expected layer index to be in range [0, "+s.MINIMUM_CUBOID_HEIGHT+"], given "+f),g._layerIndex=f,g._drawRestricted=!g._context.isWebGL2&&!g._context.supportsDrawBuffers,g._program=new _.Program(u,"CuboidRenderProgram"),g._geometry=s.referenceGeometry(u),g._ditheringTexture=new m.Texture2D(g._context,"DitheringTexture"),g}return a(s,l),s.referenceGeometry=function(u){var f;s.GEOMETRY_BY_CONTEXT.has(u)?f=s.GEOMETRY_BY_CONTEXT.get(u):((f=new v.AnimatedCuboidGeometry(u,s.CUBOID_LAYERS,"CuboidGeometry")).initialize(),s.GEOMETRY_BY_CONTEXT.set(u,f),s.REFCOUNT_BY_GEOMETRY.set(f,0));var g=s.REFCOUNT_BY_GEOMETRY.get(f)+1;return s.REFCOUNT_BY_GEOMETRY.set(f,g),f},s.unreferenceGeometry=function(u){if(s.GEOMETRY_BY_CONTEXT.has(u)){var f=s.GEOMETRY_BY_CONTEXT.get(u),g=s.REFCOUNT_BY_GEOMETRY.get(f)-1;s.REFCOUNT_BY_GEOMETRY.set(f,g),g>0||(f.uninitialize(),s.GEOMETRY_BY_CONTEXT.delete(u),s.REFCOUNT_BY_GEOMETRY.delete(f))}},s.prototype.relink=function(){if(this._colorTable!==void 0){for(var u=0,f=this._program.shaders;u<f.length;u++){var g=f[u];g.replace("$ColorTableLength",String(this._colorTable.length/4)),g.compile()}this._program.attribute("a_vertex",this._geometry.vertexLocation),this._program.attribute("a_layout",this._geometry.layoutLocation),this._program.attribute("a_id",this._geometry.idLocation),this._program.attribute("a_areaBegin",this._geometry.areaBeginLocation),this._program.attribute("a_areaEnd",this._geometry.areaEndLocation),this._program.attribute("a_areaDelay",this._geometry.areaDelayLocation),this._program.attribute("a_colorBegin",this._geometry.colorBeginLocation),this._program.attribute("a_colorEnd",this._geometry.colorEndLocation),this._program.attribute("a_colorDelay",this._geometry.colorDelayLocation),this._program.attribute("a_emphasis",this._geometry.emphasisLocation),this._program.attribute("a_heightsBegin",this._geometry.heightBeginLocation),this._program.attribute("a_heightsEnd",this._geometry.heightEndLocation),this._program.attribute("a_heightDelay",this._geometry.heightDelayLocation),this._program.attribute("a_texCoord",this._geometry.texCoordLocation),this._program.link(),this._program.linked&&(this._drawRestricted&&(this._uAttachment=this._program.uniform("u_attachment")),this._uViewProjection=this._program.uniform("u_viewProjection"),this._uNdcOffset=this._program.uniform("u_ndcOffset"),this._uColorTable=this._program.uniform("u_colorTable"),this._uNodeCount=this._program.uniform("u_nodeCountSqrt"),this._uLayer=this._program.uniform("u_layer"),this._uFace=this._program.uniform("u_face"),this._uNormalAndLambert=this._program.uniform("u_normalAndLambert"),this._uHeightScale=this._program.uniform("u_heightScale"),this._uFloatingGap=this._program.uniform("u_floatingGap"),this._uOutlineWidth=this._program.uniform("u_outlineWidth"),this._uEmphasisOutlineWidth=this._program.uniform("u_emphasisOutlineWidth"),this._uTime=this._program.uniform("u_time"),this._uAreaDuration=this._program.uniform("u_areaDuration"),this._uHeightDuration=this._program.uniform("u_heightDuration"),this._uColorDuration=this._program.uniform("u_colorDuration"),this._uAreaEasing=this._program.uniform("u_areaEasing"),this._uHeightEasing=this._program.uniform("u_heightEasing"),this._uColorEasing=this._program.uniform("u_colorEasing"),this._uDitheringTexture=this._program.uniform("u_ditheringTexture"),this._uColorMode=this._program.uniform("u_colorMode"),this._uPatternMode=this._program.uniform("u_patternMode"),this._uProgressMode=this._program.uniform("u_progressMode"),this._uMousePosition=this._program.uniform("u_mousePosition"),this._uScreenSize=this._program.uniform("u_screenSize"))}},s.prototype.optimizeFaceSequence=function(){var u=this._camera.eye,f=this._camera.center,g=new Array,y=m.vec3.create();m.vec3.sub(y,u,f),m.vec3.normalize(y,y),u[1]>0&&g.push([d.Face.Top,Math.abs(m.vec3.dot(m.vec3.fromValues(0,1,0),y))]),u[2]>-1&&g.push([d.Face.Front,Math.abs(m.vec3.dot(m.vec3.fromValues(0,0,1),y))]),u[2]<1&&g.push([d.Face.Back,Math.abs(m.vec3.dot(m.vec3.fromValues(0,0,-1),y))]),u[0]>-1&&g.push([d.Face.Left,Math.abs(m.vec3.dot(m.vec3.fromValues(1,0,0),y))]),u[0]<1&&g.push([d.Face.Right,Math.abs(m.vec3.dot(m.vec3.fromValues(-1,0,0),y))]),g=g.sort(function(b,E){return E[1]-b[1]}),this._faceSequence=g.map(function(b){return b[0]})},s.prototype.initialize=function(){var u=this._context.gl;this._context.isWebGL1&&this._standardDerivatives===void 0&&(this._context.enable(["OES_standard_derivatives"]),this._standardDerivatives=this._context.standardDerivatives);var f=new _.Shader(this._context,u.VERTEX_SHADER,"animatedcuboid.vert");f.initialize(r(38),!1);var g=new _.Shader(this._context,u.FRAGMENT_SHADER,"animatedcuboid.frag");return g.initialize(r(39),!1),this._program.initialize([f,g],!1),this._faceData.set(d.Face.Top,[0,1,0,1]),this._faceData.set(d.Face.Bottom,[0,-1,0,.68]),this._faceData.set(d.Face.Front,[0,0,1,.88]),this._faceData.set(d.Face.Back,[0,0,-1,.88]),this._faceData.set(d.Face.Left,[1,0,0,.84]),this._faceData.set(d.Face.Right,[-1,0,0,.84]),this._ditheringTexture.initialize(1,1,u.RGB,u.RGB,u.UNSIGNED_BYTE),this._ditheringTexture.wrap(u.REPEAT,u.REPEAT,!0,!0),this._ditheringTexture.fetch("./assets/bayer16.png",!0),!0},s.prototype.uninitialize=function(){s.unreferenceGeometry(this._context),this._program.uninitialize(),this._uAttachment=void 0,this._uViewProjection=void 0,this._uNdcOffset=void 0,this._uColorTable=void 0,this._uNodeCount=void 0,this._uLayer=void 0,this._uFace=void 0,this._uNormalAndLambert=void 0,this._uHeightScale=void 0,this._uFloatingGap=void 0,this._uOutlineWidth=void 0,this._uEmphasisOutlineWidth=void 0,this._uTime=void 0,this._uAreaDuration=void 0,this._uHeightDuration=void 0,this._uColorDuration=void 0,this._uAreaEasing=void 0,this._uHeightEasing=void 0,this._uColorEasing=void 0,this._uDitheringTexture=void 0,this._uColorMode=void 0,this._uPatternMode=void 0,this._uProgressMode=void 0,this._uMousePosition=void 0,this._uScreenSize=void 0},s.prototype.update=function(u){var f=this._context.gl,g=!1;if(!this._program.initialized||!this._program.linked||this._altered.colorTableLength){if(this.relink(),!this._program.linked)return;g=!0}if(this._program.bind(),(g||this._altered.camera||this._camera.altered)&&(f.uniformMatrix4fv(this._uViewProjection,!1,this._camera.viewProjection),this.optimizeFaceSequence()),(g||this._colorTable)&&f.uniform4fv(this._uColorTable,this._colorTable),this._altered.geometry&&this._geometry.valid&&this._geometry.update(),(g||this._altered.nodeCount)&&f.uniform1f(this._uNodeCount,Math.sqrt(this._nodeCount)),(g||this._altered.heightScale)&&f.uniform1f(this._uHeightScale,this._heightScale/255),(g||this._altered.outlineWidth)&&f.uniform1f(this._uOutlineWidth,this._outlineWidth),g||this._altered.emphasisOutlineWidth){var y=window.devicePixelRatio;f.uniform1f(this._uEmphasisOutlineWidth,this._emphasisOutlineWidth*y)}this._target&&this._target.valid&&(y=window.devicePixelRatio,f.uniform2f(this._uFloatingGap,this._levitate*y/this._target.height,s.MINIMUM_CUBOID_HEIGHT*y/this._target.height)),f.uniform1f(this._uTime,u),f.uniform2iv(this._uMousePosition,this._mousePosition),(g||this._altered.areaDuration)&&f.uniform1f(this._uAreaDuration,this._areaDuration),(g||this._altered.heightDuration)&&f.uniform1f(this._uHeightDuration,this._heightDuration),(g||this._altered.colorDuration)&&f.uniform1f(this._uColorDuration,this._colorDuration),(g||this._altered.areaEasing)&&f.uniform1i(this._uAreaEasing,this._areaEasing),(g||this._altered.heightEasing)&&f.uniform1i(this._uHeightEasing,this._heightEasing),(g||this._altered.colorEasing)&&f.uniform1i(this._uColorEasing,this._colorEasing),(g||this._altered.colorMode)&&f.uniform1i(this._uColorMode,this._colorMode),(g||this._altered.patternMode)&&f.uniform1i(this._uPatternMode,this._patternMode),(g||this._altered.progressMode)&&f.uniform1i(this._uProgressMode,this._progressMode),g&&f.uniform1i(this._uDitheringTexture,0),this._altered.reset()},s.prototype.frame=function(){if(m.auxiliaries.assert(this._target&&this._target.valid,"valid target expected"),this._dispatch!==void 0){var u=this._context.gl,f=this._target.size;u.viewport(0,0,f[0],f[1]),u.enable(u.CULL_FACE),u.enable(u.DEPTH_TEST),u.enable(u.STENCIL_TEST),u.stencilFunc(u.ALWAYS,2,255),u.stencilOp(u.KEEP,u.KEEP,u.REPLACE),this._depthMask===!1&&(u.depthFunc(u.LEQUAL),u.depthMask(!1)),this._program.bind(),this._drawRestricted&&u.uniform1i(this._uAttachment,this._attachment),u.uniform2fv(this._uNdcOffset,this._ndcOffset),u.uniform1i(this._uLayer,this._layerIndex),u.uniform2iv(this._uScreenSize,f),this._geometry.bind(),this._target.bind(),this._ditheringTexture.bind(u.TEXTURE0);for(var g=0,y=this._faceSequence;g<y.length;g++){var b=y[g];if(u.uniform1i(this._uFace,b),u.uniform4fv(this._uNormalAndLambert,this._faceData.get(b)),this._geometry.valid)for(var E=0;E<this._dispatch.length;E+=2){var x=(b-1)*v.AnimatedCuboidGeometry.BYTES_PER_VERTEX*4,w=this._dispatch[E+0],S=this._dispatch[E+1];this._geometry.draw(this._layerIndex,w,x,S,this.swapAreaBuffers,this.swapHeightBuffers,this.swapColorBuffers)}}this._depthMask===!1&&(u.depthFunc(u.LESS),u.depthMask(!0)),u.disable(u.STENCIL_TEST),u.disable(u.DEPTH_TEST),u.disable(u.CULL_FACE)}},s.prototype.colorTableLengthAltered=function(){this._altered.alter("colorTableLength")},Object.defineProperty(s.prototype,"target",{set:function(u){this.assertInitialized(),this._target=u},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ndcOffset",{set:function(u){this.assertInitialized(),this._ndcOffset=u},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"camera",{set:function(u){this.assertInitialized(),this._camera!==u&&(this._camera=u,this._altered.alter("camera"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dispatch",{set:function(u){this.assertInitialized(),this._dispatch=u},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"layoutData",{set:function(u){this.assertInitialized(),this._layerIndex>0||(this._geometry.layout=u,this._altered.alter("geometry"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ids",{set:function(u){this.assertInitialized(),this._layerIndex>0||(this._geometry.ids=u,this._altered.alter("geometry"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"areas",{set:function(u){this.assertInitialized(),this._layerIndex>0||(u[0]&&this._geometry.areasBegin(u[0],void 0,1),u[1]&&this._geometry.areasEnd(u[1],void 0,1),this._altered.alter("geometry"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"areaEasing",{set:function(u){this.assertInitialized(),this._areaEasing=u,this._altered.alter("areaEasing")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"areaDelays",{set:function(u){this.assertInitialized(),this._geometry.areaDelays(u,this._layerIndex),this._altered.alter("geometry")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"areaDuration",{set:function(u){this.assertInitialized(),this._areaDuration=u,this._altered.alter("areaDuration")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"colors",{set:function(u){this.assertInitialized(),this._layerIndex>0||(u[0]&&this._geometry.colorsBegin(u[0],void 0,1),u[1]&&this._geometry.colorsEnd(u[1],void 0,1),this._altered.alter("geometry"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"colorEasing",{set:function(u){this.assertInitialized(),this._colorEasing=u,this._altered.alter("colorEasing")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"colorDelays",{set:function(u){this.assertInitialized(),this._geometry.colorDelays(u,this._layerIndex),this._altered.alter("geometry")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"colorDuration",{set:function(u){this.assertInitialized(),this._colorDuration=u,this._altered.alter("colorDuration")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"emphases",{set:function(u){this.assertInitialized(),this._layerIndex>0||(this._geometry.emphases=u,this._altered.alter("emphases"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"heights",{set:function(u){this.assertInitialized(),u[0]&&this._geometry.heightsBegin(u[0],this._layerIndex),u[1]&&this._geometry.heightsEnd(u[1],this._layerIndex),this._altered.alter("geometry")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"heightEasing",{set:function(u){this.assertInitialized(),this._heightEasing=u,this._altered.alter("heightEasing")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"heightDelays",{set:function(u){this.assertInitialized(),this._geometry.heightDelays(u,this._layerIndex),this._altered.alter("geometry")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"heightDuration",{set:function(u){this.assertInitialized(),this._heightDuration=u,this._altered.alter("heightDuration")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"colorTable",{set:function(u){this.assertInitialized(),this._colorTable=u,this._altered.alter("colorTable")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"nodeCount",{set:function(u){this.assertInitialized(),this._nodeCount!==u&&(this._nodeCount=u,this._altered.alter("nodeCount"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"outlineWidth",{set:function(u){this.assertInitialized(),this._outlineWidth!==u&&(this._outlineWidth=u===void 0?s.OUTLINE_WIDTH_DEFAULT:Math.max(0,u),this._altered.alter("outlineWidth"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"emphasisOutlineWidth",{set:function(u){this.assertInitialized(),this._emphasisOutlineWidth!==u&&(this._emphasisOutlineWidth=u===void 0?s.EMPHASIS_OUTLINE_WIDTH_DEFAULT:Math.max(0,u),this._altered.alter("emphasisOutlineWidth"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"heightScale",{set:function(u){this.assertInitialized(),this._heightScale!==u&&(this._heightScale=u===void 0?0:m.gl_matrix_extensions.clamp(u,0,1),this._altered.alter("heightScale"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"levitate",{set:function(u){this.assertInitialized(),this._levitate!==u&&(this._levitate=u===void 0?0:Math.max(0,u),this._altered.alter("levitate"))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"attachment",{set:function(u){m.auxiliaries.logIf(u!==c.MultiRenderTarget.Attachment.Undefined&&!this._drawRestricted,m.auxiliaries.LogLevel.Debug,"expected WEBGL_draw_buffers to be unsupported"),this._attachment=u},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"depthMask",{set:function(u){this._depthMask=u},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"colorMode",{get:function(){return this._colorMode},set:function(u){this._colorMode=u,this._altered.alter("colorMode")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"patternMode",{get:function(){return this._patternMode},set:function(u){this._patternMode=u,this._altered.alter("patternMode")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"progressMode",{get:function(){return this._progressMode},set:function(u){this._progressMode=u,this._altered.alter("progressMode")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"mousePosition",{set:function(u){this._mousePosition=u},enumerable:!1,configurable:!0}),s.GEOMETRY_BY_CONTEXT=new Map,s.CUBOID_LAYERS=2,s.REFCOUNT_BY_GEOMETRY=new Map,s.MINIMUM_CUBOID_HEIGHT=4,s.OUTLINE_WIDTH_DEFAULT=.8,s.EMPHASIS_OUTLINE_WIDTH_DEFAULT=1.6,i([_.Initializable.assert_initialized()],s.prototype,"relink",null),i([_.Initializable.assert_initialized()],s.prototype,"optimizeFaceSequence",null),i([_.Initializable.initialize()],s.prototype,"initialize",null),i([_.Initializable.uninitialize()],s.prototype,"uninitialize",null),i([_.Initializable.assert_initialized()],s.prototype,"update",null),i([_.Initializable.assert_initialized()],s.prototype,"frame",null),s}(_.Initializable);t.AnimatedCuboidRenderPass=o,function(l){(function(s){s[s.Top=1]="Top",s[s.Bottom=2]="Bottom",s[s.Front=3]="Front",s[s.Back=4]="Back",s[s.Left=5]="Left",s[s.Right=6]="Right"})(l.Face||(l.Face={}))}(d=t.CuboidRenderPass||(t.CuboidRenderPass={}))},function(e,t,r){var n,a=this&&this.__extends||(n=function(v,h){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(c[l]=o[l])})(v,h)},function(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function c(){this.constructor=v}n(v,h),v.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}),i=this&&this.__decorate||function(v,h,c,o){var l,s=arguments.length,u=s<3?h:o===null?o=Object.getOwnPropertyDescriptor(h,c):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(v,h,c,o);else for(var f=v.length-1;f>=0;f--)(l=v[f])&&(u=(s<3?l(u):s>3?l(h,c,u):l(h,c))||u);return s>3&&u&&Object.defineProperty(h,c,u),u};Object.defineProperty(t,"__esModule",{value:!0}),t.AnimatedCuboidGeometry=void 0;var d=r(0),m=r(0),_=function(v){function h(c,o,l){var s=v.call(this,c,l)||this;s._areaOffsets=new Array,s._areaDelayOffsets=new Array,s._colorOffsets=new Array,s._colorDelayOffsets=new Array,s._heightOffsets=new Array,s._heightDelayOffsets=new Array,s._layers=Math.max(1,o),l=l!==void 0&&l!==""?l:"CuboidGeometry",s._vertices=h.referenceVerticesVBO(c),s._buffers.push(s._vertices),s._layout=new m.Buffer(c,l+"LayoutVBO"),s._buffers.push(s._layout),s._ids=new m.Buffer(c,l+"IdVBO"),s._buffers.push(s._ids),s._emphases=new m.Buffer(c,l+"EmphasisVBO"),s._buffers.push(s._emphases),s._areasBegin=new m.Buffer(c,l+"AreaBeginVBO"),s._buffers.push(s._areasBegin),s._areasEnd=new m.Buffer(c,l+"AreaEndVBO"),s._buffers.push(s._areasEnd),s._areaOffsets.length=o,s._areasDelay=new m.Buffer(c,l+"AreaDelaysVBO"),s._buffers.push(s._areasDelay),s._areaDelayOffsets.length=o,s._colorsBegin=new m.Buffer(c,l+"ColorBeginVBO"),s._buffers.push(s._colorsBegin),s._colorsEnd=new m.Buffer(c,l+"ColorEndVBO"),s._buffers.push(s._colorsEnd),s._colorOffsets.length=o,s._colorsDelay=new m.Buffer(c,l+"ColorDelaysVBO"),s._buffers.push(s._colorsDelay),s._colorDelayOffsets.length=o,s._heightsBegin=new m.Buffer(c,l+"HeightBeginVBO"),s._buffers.push(s._heightsBegin),s._heightsEnd=new m.Buffer(c,l+"HeightEndVBO"),s._buffers.push(s._heightsEnd),s._heightOffsets.length=o,s._heightsDelay=new m.Buffer(c,l+"HeightDelaysVBO"),s._buffers.push(s._heightsDelay),s._heightDelayOffsets.length=o;for(var u=0;u<o;++u)s._areaOffsets[u]=0,s._colorOffsets[u]=0,s._heightOffsets[u]=0;return s}return a(h,v),h.referenceVerticesVBO=function(c){var o;h.VERTICES_BY_CONTEXT.has(c)?o=h.VERTICES_BY_CONTEXT.get(c):(o=new m.Buffer(c,"CuboidVertexVBO"),h.VERTICES_BY_CONTEXT.set(c,o),h.REFCOUNT_BY_TEMPLATE.set(o,0));var l=h.REFCOUNT_BY_TEMPLATE.get(o)+1;return h.REFCOUNT_BY_TEMPLATE.set(o,l),o},h.unreferenceTemplateVBO=function(c){if(h.VERTICES_BY_CONTEXT.has(c)){var o=h.VERTICES_BY_CONTEXT.get(c),l=h.REFCOUNT_BY_TEMPLATE.get(o)-1;h.REFCOUNT_BY_TEMPLATE.set(o,l),l>0||(o.uninitialize(),h.VERTICES_BY_CONTEXT.delete(c),h.REFCOUNT_BY_TEMPLATE.delete(o))}},h.prototype.bindBuffers=function(c){var o=this.context.gl,l=this.context.gl2facade;this._vertices.attribEnable(this._vertexLocation,3,o.FLOAT,!1,24,0,!0,!1),l.vertexAttribDivisor(this._vertexLocation,0),this._vertices.attribEnable(this._texCoordLocation,3,o.FLOAT,!1,24,12,!0,!1),l.vertexAttribDivisor(this._texCoordLocation,0),this._layout.attribEnable(this._layoutLocation,4,o.FLOAT,!1,0,0,!0,!1),l.vertexAttribDivisor(this._layoutLocation,1),this._ids.attribEnable(this._idLocation,4,o.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._idLocation,1),this._emphases.attribEnable(this._emphasisLocation,1,o.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._emphasisLocation,1),this._areasBegin.attribEnable(this._areaBeginLocation,1,o.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._areaBeginLocation,1),this._areasEnd.attribEnable(this._areaEndLocation,1,o.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._areaEndLocation,1),this._areasDelay.attribEnable(this._areaDelayLocation,1,o.FLOAT,!1,0,0,!0,!1),l.vertexAttribDivisor(this._areaDelayLocation,1),this._colorsBegin.attribEnable(this._colorBeginLocation,1,o.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._colorBeginLocation,1),this._colorsEnd.attribEnable(this._colorEndLocation,1,o.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._colorEndLocation,1),this._colorsDelay.attribEnable(this._colorDelayLocation,1,o.FLOAT,!1,0,0,!0,!1),l.vertexAttribDivisor(this._colorDelayLocation,1),this._heightsBegin.attribEnable(this._heightBeginLocation,2,o.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._heightBeginLocation,1),this._heightsEnd.attribEnable(this._heightEndLocation,2,o.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._heightEndLocation,1),this._heightsDelay.attribEnable(this._heightDelayLocation,1,o.FLOAT,!1,0,0,!0,!1),l.vertexAttribDivisor(this._heightDelayLocation,1)},h.prototype.unbindBuffers=function(c){this._vertices.attribDisable(this._vertexLocation,!1,!1),this._vertices.attribDisable(this._texCoordLocation,!1,!1),this._layout.attribDisable(this._layoutLocation,!1,!1),this._ids.attribDisable(this._idLocation,!1,!1),this._emphases.attribDisable(this._emphasisLocation,!1,!1),this._areasBegin.attribDisable(this._areaBeginLocation,!1,!1),this._areasEnd.attribDisable(this._areaEndLocation,!1,!1),this._areasDelay.attribDisable(this._areaDelayLocation,!1,!1),this._colorsBegin.attribDisable(this._colorBeginLocation,!1,!1),this._colorsEnd.attribDisable(this._colorEndLocation,!1,!1),this._colorsDelay.attribDisable(this._colorDelayLocation,!1,!1),this._heightsBegin.attribDisable(this._heightBeginLocation,!1,!1),this._heightsEnd.attribDisable(this._heightEndLocation,!1,!1),this._heightsDelay.attribDisable(this._heightDelayLocation,!1,!1)},h.prototype.initialize=function(c,o,l,s,u,f,g,y,b,E,x,w,S,O){c===void 0&&(c=0),o===void 0&&(o=1),l===void 0&&(l=2),s===void 0&&(s=3),u===void 0&&(u=4),f===void 0&&(f=5),g===void 0&&(g=6),y===void 0&&(y=7),b===void 0&&(b=8),E===void 0&&(E=9),x===void 0&&(x=10),w===void 0&&(w=11),S===void 0&&(S=12),O===void 0&&(O=13),this._vertexLocation=c,this._texCoordLocation=o,this._idLocation=s,this._layoutLocation=l,this._emphasisLocation=u,this._areaBeginLocation=f,this._areaEndLocation=g,this._areaDelayLocation=y,this._colorBeginLocation=b,this._colorEndLocation=E,this._colorDelayLocation=x,this._heightBeginLocation=w,this._heightEndLocation=S,this._heightDelayLocation=O;var A=this.context.gl,L=v.prototype.initialize.call(this,[A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER,A.ARRAY_BUFFER]);return this._vertices.data(h.DATA,A.STATIC_DRAW),L&&this._vertices.valid},h.prototype.uninitialize=function(){h.unreferenceTemplateVBO(this.context),this._layout.uninitialize(),this._ids.uninitialize(),this._emphases.uninitialize(),this._areasBegin.uninitialize(),this._areasEnd.uninitialize(),this._colorsBegin.uninitialize(),this._colorsEnd.uninitialize(),this._heightsBegin.uninitialize(),this._heightsEnd.uninitialize(),v.prototype.uninitialize.call(this)},h.prototype.update=function(){this.bind()},h.prototype.draw=function(c,o,l,s,u,f,g){c===void 0&&(c=0),o===void 0&&(o=0),l===void 0&&(l=0),s===void 0&&(s=0),u===void 0&&(u=!1),f===void 0&&(f=!1),g===void 0&&(g=!1);var y=this.context.gl,b=this.context.gl2facade,E=u?this._areaEndLocation:this._areaBeginLocation,x=u?this._areaBeginLocation:this._areaEndLocation,w=f?this._heightEndLocation:this._heightBeginLocation,S=f?this._heightBeginLocation:this._heightEndLocation,O=g?this._colorEndLocation:this._colorBeginLocation,A=g?this._colorBeginLocation:this._colorEndLocation;this._vertices.attribEnable(this._vertexLocation,3,y.FLOAT,!1,24,l,!0,!1),this._vertices.attribEnable(this._texCoordLocation,3,y.FLOAT,!1,24,12+l,!0,!1),this._ids.attribEnable(this._idLocation,4,y.UNSIGNED_BYTE,!1,4,4*o,!0,!1),this._layout.attribEnable(this._layoutLocation,4,y.FLOAT,!1,16,16*o,!0,!1),this._emphases.attribEnable(this._emphasisLocation,1,y.UNSIGNED_BYTE,!1,1,1*o,!0,!1),this._areasBegin.bytes>0?(this._areasBegin.attribEnable(E,1,y.UNSIGNED_BYTE,!1,1,1*o+this._areaOffsets[c],!0,!1),this._areasEnd.attribEnable(x,1,y.UNSIGNED_BYTE,!1,1,1*o+this._areaOffsets[c],!0,!1),this._areasDelay.attribEnable(this._areaDelayLocation,1,y.FLOAT,!1,4,4*o+this._areaDelayOffsets[c],!0,!1)):(this._areasBegin.attribDisable(E,!0,!1),y.vertexAttrib1f(E,255),this._areasEnd.attribDisable(x,!0,!1),y.vertexAttrib1f(x,255)),this._colorsBegin.bytes>0?(this._colorsBegin.attribEnable(O,1,y.UNSIGNED_BYTE,!1,1,1*o+this._colorOffsets[c],!0,!1),this._colorsEnd.attribEnable(A,1,y.UNSIGNED_BYTE,!1,1,1*o+this._colorOffsets[c],!0,!1),this._colorsDelay.attribEnable(this._colorDelayLocation,1,y.FLOAT,!1,4,4*o+this._colorDelayOffsets[c],!0,!1)):(this._colorsBegin.attribDisable(O,!0,!1),this._colorsEnd.attribDisable(A,!0,!1)),this._heightsBegin.bytes>0?(this._heightsBegin.attribEnable(w,2,y.UNSIGNED_BYTE,!1,2,2*o+this._heightOffsets[c],!0,!1),this._heightsEnd.attribEnable(S,2,y.UNSIGNED_BYTE,!1,2,2*o+this._heightOffsets[c],!0,!1),this._heightsDelay.attribEnable(this._heightDelayLocation,1,y.FLOAT,!1,4,4*o+this._heightDelayOffsets[c],!0,!1)):(this._heightsBegin.attribDisable(w,!0,!1),this._heightsEnd.attribDisable(S,!0,!1)),b.drawArraysInstanced(y.TRIANGLE_STRIP,0,4,s)},Object.defineProperty(h.prototype,"layout",{set:function(c){this._layout.data(c,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"ids",{set:function(c){this._ids.data(c,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),h.prototype.areasBegin=function(c,o,l){d.auxiliaries.assert(o===void 0||o>=0&&o<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+o),d.auxiliaries.assert(l===void 0||l<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+o);var s=this.context.gl,u=c.byteLength*(l||this._layers);this._areasBegin.bytes!==0&&this._areasBegin.bytes===u||o===void 0||this._areasBegin.data(u,s.STATIC_DRAW),o!==void 0?(this._areasBegin.subData(c.byteLength*o,c),this._areaOffsets[o]=c.byteLength*o):this._areasBegin.data(c,this.context.gl.STATIC_DRAW)},h.prototype.areasEnd=function(c,o,l){d.auxiliaries.assert(o===void 0||o>=0&&o<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+o),d.auxiliaries.assert(l===void 0||l<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+o);var s=this.context.gl,u=c.byteLength*(l||this._layers);this._areasEnd.bytes!==0&&this._areasEnd.bytes===u||o===void 0||this._areasEnd.data(u,s.STATIC_DRAW),o!==void 0?(this._areasEnd.subData(c.byteLength*o,c),this._areaOffsets[o]=c.byteLength*o):this._areasEnd.data(c,this.context.gl.STATIC_DRAW)},h.prototype.areaDelays=function(c,o){d.auxiliaries.assert(o===void 0||o>=0&&o<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+o);var l=this.context.gl,s=c.byteLength*this._layers;this._areasDelay.bytes!==0&&this._areasDelay.bytes===s||o===void 0||this._areasDelay.data(s,l.STATIC_DRAW),o!==void 0?(this._areasDelay.subData(c.byteLength*o,c),this._areaDelayOffsets[o]=c.byteLength*o):this._areasDelay.data(c,this.context.gl.STATIC_DRAW)},h.prototype.colorsBegin=function(c,o,l){d.auxiliaries.assert(o===void 0||o>=0&&o<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+o),d.auxiliaries.assert(l===void 0||l<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+o);var s=this.context.gl,u=c.byteLength*(l||this._layers);this._colorsBegin.bytes!==0&&this._colorsBegin.bytes===u||o===void 0||this._colorsBegin.data(u,s.STATIC_DRAW),o!==void 0?(this._colorsBegin.subData(c.byteLength*o,c),this._colorOffsets[o]=c.byteLength*o):this._colorsBegin.data(c,this.context.gl.STATIC_DRAW)},h.prototype.colorsEnd=function(c,o,l){d.auxiliaries.assert(o===void 0||o>=0&&o<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+o),d.auxiliaries.assert(l===void 0||l<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+o);var s=this.context.gl,u=c.byteLength*(l||this._layers);this._colorsEnd.bytes!==0&&this._colorsEnd.bytes===u||o===void 0||this._colorsEnd.data(u,s.STATIC_DRAW),o!==void 0?(this._colorsEnd.subData(c.byteLength*o,c),this._colorOffsets[o]=c.byteLength*o):this._colorsEnd.data(c,this.context.gl.STATIC_DRAW)},h.prototype.colorDelays=function(c,o){d.auxiliaries.assert(o===void 0||o>=0&&o<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+o);var l=this.context.gl,s=c.byteLength*this._layers;this._colorsDelay.bytes!==0&&this._colorsDelay.bytes===s||o===void 0||this._colorsDelay.data(s,l.STATIC_DRAW),o!==void 0?(this._colorsDelay.subData(c.byteLength*o,c),this._colorDelayOffsets[o]=c.byteLength*o):this._colorsDelay.data(c,this.context.gl.STATIC_DRAW)},Object.defineProperty(h.prototype,"emphases",{set:function(c){this._emphases.data(c,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),h.prototype.heightsBegin=function(c,o){d.auxiliaries.assert(o===void 0||o>=0&&o<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+o);var l=this.context.gl,s=c.byteLength*this._layers;this._heightsBegin.bytes!==0&&this._heightsBegin.bytes===s||o===void 0||this._heightsBegin.data(s,l.STATIC_DRAW),o!==void 0?(this._heightsBegin.subData(c.byteLength*o,c),this._heightOffsets[o]=c.byteLength*o):this._heightsBegin.data(c,this.context.gl.STATIC_DRAW)},h.prototype.heightsEnd=function(c,o){d.auxiliaries.assert(o===void 0||o>=0&&o<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+o);var l=this.context.gl,s=c.byteLength*this._layers;this._heightsEnd.bytes!==0&&this._heightsEnd.bytes===s||o===void 0||this._heightsEnd.data(s,l.STATIC_DRAW),o!==void 0?(this._heightsEnd.subData(c.byteLength*o,c),this._heightOffsets[o]=c.byteLength*o):this._heightsEnd.data(c,this.context.gl.STATIC_DRAW)},h.prototype.heightDelays=function(c,o){d.auxiliaries.assert(o===void 0||o>=0&&o<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+o);var l=this.context.gl,s=c.byteLength*this._layers;this._heightsDelay.bytes!==0&&this._heightsDelay.bytes===s||o===void 0||this._heightsDelay.data(s,l.STATIC_DRAW),o!==void 0?(this._heightsDelay.subData(c.byteLength*o,c),this._heightDelayOffsets[o]=c.byteLength*o):this._heightsDelay.data(c,this.context.gl.STATIC_DRAW)},Object.defineProperty(h.prototype,"layers",{get:function(){return this._layers},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"valid",{get:function(){var c=this._layout&&this._layout.valid,o=this._ids&&this._ids.valid,l=this._areasBegin&&this._areasBegin.valid,s=this._areasEnd&&this._areasEnd.valid,u=this._areasDelay&&this._areasDelay.valid,f=this._colorsBegin&&this._colorsBegin.valid,g=this._colorsEnd&&this._colorsEnd.valid,y=this._colorsDelay&&this._colorsDelay.valid,b=this._emphases&&this._emphases.valid,E=this._heightsBegin&&this._heightsBegin.valid,x=this._heightsEnd&&this._heightsEnd.valid,w=this._heightsDelay&&this._heightsDelay.valid;return this.initialized&&this._vertices.valid&&c&&o&&l&&s&&u&&f&&g&&y&&b&&E&&x&&w},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"vertexLocation",{get:function(){return this._vertexLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"texCoordLocation",{get:function(){return this._texCoordLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"layoutLocation",{get:function(){return this._layoutLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"idLocation",{get:function(){return this._idLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"emphasisLocation",{get:function(){return this._emphasisLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"areaBeginLocation",{get:function(){return this._areaBeginLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"areaEndLocation",{get:function(){return this._areaEndLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"areaDelayLocation",{get:function(){return this._areaDelayLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"colorBeginLocation",{get:function(){return this._colorBeginLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"colorEndLocation",{get:function(){return this._colorEndLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"colorDelayLocation",{get:function(){return this._colorDelayLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"heightBeginLocation",{get:function(){return this._heightBeginLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"heightEndLocation",{get:function(){return this._heightEndLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"heightDelayLocation",{get:function(){return this._heightDelayLocation},enumerable:!1,configurable:!0}),h.VERTICES_BY_CONTEXT=new Map,h.REFCOUNT_BY_TEMPLATE=new Map,h.DATA=new Float32Array([0,0,0,0,1,0,0,0,1,0,1,1,1,0,0,1,1,0,1,0,1,1,1,1,0,0,0,0,0,0,1,0,0,1,0,0,0,0,1,0,0,1,1,0,1,1,0,1,0,0,1,0,0,1,1,0,1,1,0,1,0,1,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,0,0,1,0,1,0,0,1,0,0,1,1,0,1,1,0,1,0,0,1,0,0,1,1,0,1,1,0,1,0,1,1,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,1,0,1,0,0,1,0,0,1,1,0,1,1]),h.BYTES_PER_VERTEX=h.DATA.length/6,i([m.Initializable.assert_initialized()],h.prototype,"draw",null),h}(m.Geometry);t.AnimatedCuboidGeometry=_},function(e,t){e.exports=`//*****************************************************************************
// seerene(tm) - A framework for analyzing and visualizing complex software systems.
// Copyright (C) 2005 - 2019 for all source codes:
// seerene(tm) GmbH, Potsdam, Germany
//*****************************************************************************

#if __VERSION__ == 100
    #extension GL_EXT_draw_buffers : enable
#endif

precision highp float;
precision lowp int;


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
#else 
    #define varying out
#endif


// @todo this file will be included from webgl-operate soon

void ndcOffset(inout vec4 vertex, in vec2 offset) {
    vertex.xy = offset * vec2(vertex.w) + vertex.xy;
}



#if __VERSION__ == 100

attribute vec3  a_vertex;
attribute vec3  a_texCoord;
attribute vec4  a_layout; /* [ position: vec2, extent: vec2 ] */
attribute vec4  a_id; /* encoded uint32 id in byte4 */
attribute float a_emphasis;
attribute float a_areaBegin;
attribute float a_areaEnd;
attribute float a_areaDelay;
attribute float a_colorBegin;
attribute float a_colorEnd;
attribute float a_colorDelay;
attribute vec2  a_heightsBegin; /* [ bottom: float, top: float ] */
attribute vec2  a_heightsEnd; /* [ bottom: float, top: float ] */
attribute float a_heightDelay;

#else

/* Note: do not use layout location specifier, since they take precedence over CPU managed locations. */
in vec3  a_vertex;
in vec3  a_texCoord;
in vec4  a_layout; /* [ position: vec2, extent: vec2 ] */
in vec4  a_id; /* encoded uint32 id in byte4 */
in float a_emphasis; /* [ bottom: float, top: float ] */
in float a_areaBegin;
in float a_areaEnd;
in float a_areaDelay;
in float a_colorBegin;
in float a_colorEnd;
in float a_colorDelay;
in vec2  a_heightsBegin; /* [ bottom: float, top: float ] */
in vec2  a_heightsEnd;
in float a_heightDelay;

#endif


uniform mat4 u_viewProjection;
uniform vec2 u_ndcOffset;

uniform vec4 u_colorTable[$ColorTableLength];

uniform int u_layer;
uniform int u_face;

uniform vec4 u_normalAndLambert;

uniform float u_heightScale;
uniform vec2 u_floatingGap; /* [ target gap size, minimum remaining cuboid size ] */
uniform float u_outlineWidth;
uniform float u_emphasisOutlineWidth;

uniform float u_time;
uniform float u_areaDuration;
uniform float u_heightDuration;
uniform float u_colorDuration;
uniform int u_areaEasing;
uniform int u_heightEasing;
uniform int u_colorEasing;
uniform int u_progressMode;
uniform ivec2 u_screenSize;
uniform ivec2 u_mousePosition;
uniform int u_patternMode;


varying vec4 v_baseColorBegin;
varying vec4 v_baseColorEnd;
varying vec4 v_outlineColorBegin;
varying vec4 v_outlineColorEnd;
varying vec4 v_patternColorBegin;
varying vec4 v_patternColorEnd;

varying vec4 v_id;

varying vec3 v_uv;
varying vec2 v_texCoord2D;
varying vec3 v_texCoord3D;
varying vec4 v_worldPos;

varying float v_relativeHeight;
#if __VERSION__ == 100
varying float v_absoluteHeight;
varying float v_colorProgress;
varying vec2 v_direction;
varying float v_usePattern;
#else
flat varying float v_absoluteHeight;
flat varying float v_colorProgress;
flat varying vec2 v_direction;
flat varying float v_usePattern;
#endif


const float ONE_OVER_255 = 1.0 / 255.0;
const int FACE_INDEX_TOP = 1; /* see CuboidRenderPass.FaceIndex.Top */

const vec3 AMBIENT = vec3(0.0, 0.0, 0.0); /* @todo expose to API */
const float OUTLINE_LAMBERT_SCALE = 0.88; /* @todo expose to API */

const int EMPHASIS_COLOR_INDEX = 0;

const int POSITIVE_COLOR_INDEX = 1;
const int NEGATIVE_COLOR_INDEX = 2;

const float PROGRESS_WIDTH = 0.2;


float ease(in float progress, in int easing)
{
    if (easing == 0) return progress;
    if (easing == 1) return smoothstep(0.0, 1.0, progress);

    return 0.0;
}

vec4 calculateOutlineColor(in vec4 baseColor, in vec4 emphasisColor)
{
    vec4 outlineColor;
    outlineColor.rgb = mix(baseColor.rgb, emphasisColor.rgb, step(1.0, a_emphasis));

    /* The default outline (emphasis = 0.0) should be a little bit darker, when in outline mode (emphasis = 1.0) the
    outline should remain unchanged (except for face lambda), and when highlighting (emphasis = 2.0) the outline is
    lightened a little bit (invere darkening lambda). The mix is utilized to create this. */
    outlineColor.rgb *= mix(OUTLINE_LAMBERT_SCALE, (1.0 / OUTLINE_LAMBERT_SCALE), a_emphasis * 0.5);

    /* The outline should be darkened based on the face orientation. */
    outlineColor.rgb = mix(AMBIENT, outlineColor.rgb, u_normalAndLambert[3]);
    /* The outline width is encoded within the alpha channel of the outline (special if emphasized). */
    outlineColor[3] = mix(u_emphasisOutlineWidth, u_outlineWidth, step(0.5, abs(a_emphasis - 1.0)));

    return outlineColor;
}

float calculateProgress(in float timeProgress, in vec2 worldSpacePos, in mat4 viewProjection, in int progressMode)
{
    if (progressMode == 0)
    {
        return timeProgress;
    }
    if (progressMode == 1)
    {
        float progress = timeProgress * (1.0 + 2.0 * PROGRESS_WIDTH) - PROGRESS_WIDTH;
        progress = 1.0 - smoothstep(progress - PROGRESS_WIDTH, progress + PROGRESS_WIDTH, worldSpacePos.x * 0.5 + 0.5);

        return progress;
    }
    else if (progressMode == 2)
    {
        vec4 screenSpace = u_viewProjection * vec4(worldSpacePos.x, 0.0, worldSpacePos.y, 1.0);
        screenSpace = screenSpace / screenSpace.w * 0.5 + vec4(0.5);

        vec2 progress = vec2(u_mousePosition) / vec2(u_screenSize) * (1.0 + 2.0 * PROGRESS_WIDTH) - PROGRESS_WIDTH;
        progress = vec2(1.0) - smoothstep(progress - vec2(PROGRESS_WIDTH), progress + vec2(PROGRESS_WIDTH), screenSpace.xy);

        return progress.x;
    }

    return 0.0;
}

vec2 calculate2DTexCoords(in vec3 texCoords3D, in int face)
{
    if (face == 1 || face == 2)
    {
        return texCoords3D.xz;
    }
    if (face == 3)
    {
        return texCoords3D.xy;
    }
    if (face == 4)
    {
        return vec2(1.0 - texCoords3D.x, texCoords3D.y);
    }
    if (face == 5)
    {
        return vec2(1.0 - texCoords3D.z, texCoords3D.y);
    }
    if (face == 6)
    {
        return texCoords3D.zy;
    }

    return vec2(0.0);
}


/**
 * Transforms the cuboid vertices based on the associated face and height mapping. An earlier implementation of this
 * used the same geometry template and transformed it to either orientation. The current implementation uses a pre-set
 * vertex sequence/orientation and has to adjust the height only.
 * Appart from that, each cuboid face is moved to its position and adjusted to the provided height values. ID, color,
 * and extent along the y-axis are encoded per vertex (or even per face/cuboid) to reduce per-fragment processing.
 */
void main(void)
{
    /* Assuming that cuboids of no relevant height mapping should still be visible on top of their parent nodes, zero-
       height nodes are rendered when associated to the first cuboid layer. Note that this might be unwanted behavior,
       e.g., when multiple layers are used and the top-most layer, even if the height is zero, a relevant color mapping
       might be stacked over all other cuboids of lower layers. */
    if (u_layer > 0 &&
        a_heightsBegin[1] - a_heightsBegin[0] == 0.0 &&
        a_heightsEnd[1] - a_heightsEnd[0] == 0.0)
    {
        return;
    }

    /* Calculate the animations progress. */
    float areaScaleProgress = (u_time - a_areaDelay) / u_areaDuration;
    areaScaleProgress = calculateProgress(areaScaleProgress, a_layout.xy, u_viewProjection, u_progressMode);
    float heightProgress = (u_time - a_heightDelay) / u_heightDuration;
    heightProgress = calculateProgress(heightProgress, a_layout.xy, u_viewProjection, u_progressMode);
    float colorProgress = (u_time - a_colorDelay) / u_colorDuration;
    colorProgress = calculateProgress(colorProgress, a_layout.xy, u_viewProjection, u_progressMode);

    areaScaleProgress = ease(clamp(areaScaleProgress, 0.0, 1.0), u_areaEasing);
    heightProgress = ease(clamp(heightProgress, 0.0, 1.0), u_heightEasing);
    v_colorProgress = ease(clamp(colorProgress, 0.0, 1.0), u_colorEasing);

    /* Interpolate the height depending on the progress */
    vec2 rawHeights = mix(a_heightsBegin, a_heightsEnd, heightProgress);
    float height = (rawHeights[1] - rawHeights[0]) * u_heightScale;

    /* Compute the position and extend of the cuboid based on the face. */
    vec4 pos = vec4(a_layout[0], u_face == FACE_INDEX_TOP ?
        rawHeights[1] * u_heightScale : rawHeights[0] * u_heightScale, a_layout[1], 0.0);
    vec4 ext = vec4(a_layout[2], height, a_layout[3], 1.0);

    /* Area scaling */
    float areaScale = mix(a_areaBegin, a_areaEnd, areaScaleProgress);
    float shrinkage = 1.0 - areaScale * ONE_OVER_255;
    pos.x += ext.x * shrinkage * 0.5;
    pos.z += ext.z * shrinkage * 0.5;
    ext.x -= ext.x * shrinkage;
    ext.z -= ext.z * shrinkage;

    v_relativeHeight = u_face == FACE_INDEX_TOP ? 1.0 : a_vertex.y;
    v_absoluteHeight = height;

    /* Compute the final vertex position and pass through texture coordinates and layout data. */
    vec4 vertex = vec4(a_vertex, 1.0) * ext + pos;

    /* Calculate 2D and 3D texture coordinates. */
    v_texCoord2D = calculate2DTexCoords(a_texCoord, u_face);
    v_texCoord3D = a_texCoord;
    v_worldPos.xy = vertex.xz * vec2(0.5) + vec2(0.5);
    v_worldPos.zw = pos.xz;
    v_id = a_id * ONE_OVER_255;

    /* "Interpolate" the color indices. Since we don't want to interpolate the color and instead use
       different techniques to show the progress we just take the color start and end */
    float colorIndexBegin = abs(a_colorBegin - 32.0);
    float colorIndexEnd = abs(a_colorEnd - 32.0);
    float colorIndexDiff = colorIndexEnd - colorIndexBegin;

    v_direction = vec2(sign(a_heightsEnd.y - a_heightsBegin.y), sign(colorIndexDiff));

    float gap = 0.0;
    /* Only if floating cuboids enabled, vertices of lower part of lateral faces, and not for first layer. */
    if(u_floatingGap[0] > 0.0 && u_layer > 0 && a_vertex.y == 0.0 && u_face > 2) {

        /* Compute screen space position for incoming vertex and an offseted one. */
        vec4 pos0 = u_viewProjection * vertex;
        vec4 pos1 = u_viewProjection * vec4(vertex.x, vertex.y + ext.y, vertex.z, vertex.w);
        /* Vector pointing from pos1 to pos0 in NDC. */
        vec3 pos0_dash = (pos1.xyz / pos1.w) - (pos0.xyz / pos0.w);
        /* Length of pos0' in NDC is the basis for gap scale. */
        gap = u_floatingGap[0] / length(pos0_dash);
        vertex = mix(pos0, pos1, min(1.0 - u_floatingGap[1] / length(pos0_dash), gap));

    } else {
        vertex = u_viewProjection * vertex;
    }

    /* The y-extent provides world-space height of the cuboid that can be used for fragment-processing. */
    v_uv[0] = (v_texCoord2D.x - 0.5);
    v_uv[1] = height / mix(a_layout[2], a_layout[3], step(5.0, float(u_face)));
    /* Compute color and direction of arrow pattern for fragment processing. Also account for the
       levitation gap, so the arrow pattern does not squish or stretch. */
    v_uv[1] *= (1.0 - v_texCoord3D.y) * (1.0 - gap);
    v_uv[2] = v_uv[1];

    if(v_direction[1] > 0.0) {
        v_uv[2] = (1.0 - v_uv[2]);
    }

    v_usePattern = abs(colorIndexDiff);

    if (u_layer > 0)
    {
        v_baseColorBegin = mix(u_colorTable[NEGATIVE_COLOR_INDEX], u_colorTable[POSITIVE_COLOR_INDEX], sign(a_colorBegin - 32.0) * 0.5 + 0.5);
        v_baseColorEnd = mix(u_colorTable[NEGATIVE_COLOR_INDEX], u_colorTable[POSITIVE_COLOR_INDEX], sign(a_colorEnd - 32.0) * 0.5 + 0.5);
    }
    else
    {
        v_baseColorBegin = u_colorTable[int(colorIndexBegin)];
        v_baseColorEnd = u_colorTable[int(colorIndexEnd)];
    }

    /* Calculate the various colors we need for coloration. */
    vec4 emphasisColor = u_colorTable[EMPHASIS_COLOR_INDEX];

    v_baseColorBegin = mix(v_baseColorBegin, emphasisColor, step(2.0, a_emphasis));
    v_baseColorEnd = mix(v_baseColorEnd, emphasisColor, step(2.0, a_emphasis));

    v_outlineColorBegin = calculateOutlineColor(v_baseColorBegin, emphasisColor);
    v_outlineColorEnd = calculateOutlineColor(v_baseColorEnd, emphasisColor);

    v_patternColorBegin = vec4(v_baseColorBegin.rgb, 1.0);
    v_patternColorBegin.rgb *= mix(OUTLINE_LAMBERT_SCALE, (1.0 / OUTLINE_LAMBERT_SCALE), 0.5);
    v_patternColorBegin.rgb = mix(AMBIENT, v_patternColorBegin.rgb, u_normalAndLambert[3]);
    v_patternColorBegin.rgb *= mix(OUTLINE_LAMBERT_SCALE, 1.0, 0.5);

    v_patternColorEnd = vec4(v_outlineColorEnd.rgb, 1.0);
    v_patternColorEnd.rgb *= mix(OUTLINE_LAMBERT_SCALE, 1.0, a_emphasis * 0.5);

    v_baseColorBegin = mix(vec4(AMBIENT, 1.0), v_baseColorBegin, u_normalAndLambert[3]);
    v_baseColorEnd = mix(vec4(AMBIENT, 1.0), v_baseColorEnd, u_normalAndLambert[3]);

    ndcOffset(vertex, u_ndcOffset);
    gl_Position = vertex;
}
`},function(e,t){e.exports=`//*****************************************************************************
// seerene(tm) - A framework for analyzing and visualizing complex software systems.
// Copyright (C) 2005 - 2019 for all source codes:
// seerene(tm) GmbH, Potsdam, Germany
//*****************************************************************************

precision highp float;
precision lowp int;

#if __VERSION__ == 100

    #ifdef GL_EXT_draw_buffers
        #extension GL_EXT_draw_buffers : enable
        #define fragColor gl_FragData[0].rgba
        #define fragId gl_FragData[1].xyzw
    #else
        #define DRAW_RESTRICTED
        #define fragColor gl_FragColor.rgba
        #define fragId gl_FragColor.xyzw
        #define fragDepth gl_FragColor.xyz
    #endif

    #ifdef GL_OES_standard_derivatives
        #extension GL_OES_standard_derivatives : enable
        #define ANTIALIASED_CONTOUR
    #endif

#else
    layout(location = 0) out vec4 fragColor;
    layout(location = 1) out vec4 fragId;
#endif


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
    #define texture(sampler, coord) texture2D(sampler, coord)
#else
    #define varying in
#endif



uniform int u_face;
uniform int u_layer;
uniform int u_colorMode;
uniform int u_patternMode;
uniform int u_progressMode;
uniform float u_nodeCountSqrt;

uniform sampler2D u_ditheringTexture;

#ifdef DRAW_RESTRICTED
    
// @todo this file will be included from webgl-operate soon

const float one255ths = 1.0 / 255.0;

vec3 float24x1_to_uint8x3(const in float f) {
    vec3 uint8x3 = vec3(f, fract(f * 256.0), fract(f * 65536.0));
    return floor(uint8x3 * 256.0) * one255ths;
}

vec4 float24x1_to_uint8x4(const in float f) {
    vec4 uint8x4 = vec4(f, fract(f * 256.0), fract(f * 65536.0), fract(f * 16777216.0));
    return floor(uint8x4 * 256.0) * one255ths;
}

const vec3 premultUint8x3 = vec3(255.0 / 256.0, 255.0 / 65536.0, 255.0 / 16777216.0);
float uint8x3_to_float24x1(const in vec3 v) {
    return dot(v, premultUint8x3); // a1 * b1 + a2 * b2 + a3 * b3  ;)
}

const vec4 premultUint8x4 = vec4(255.0 / 256.0, 255.0 / 65536.0, 255.0 / 16777216.0, 255.0 / 4294967296.0);
float uint8x4_to_float24x1(const in vec4 v) {
    return dot(v, premultUint8x4); // a1 * b1 + a2 * b2 + a3 * b3 + a4 * b4  ;)
}

    uniform int u_attachment;
#endif


varying vec4 v_baseColorBegin;
varying vec4 v_baseColorEnd;
varying vec4 v_outlineColorBegin;
varying vec4 v_outlineColorEnd;
varying vec4 v_patternColorBegin;
varying vec4 v_patternColorEnd;

varying vec4 v_id;

varying vec3 v_uv;
varying vec2 v_texCoord2D;
varying vec3 v_texCoord3D;
varying vec4 v_worldPos;

varying float v_relativeHeight;
#if __VERSION__ == 100
varying float v_absoluteHeight;
varying float v_colorProgress;
varying vec2 v_direction;
varying float v_usePattern;
#else
flat varying float v_absoluteHeight;
flat varying float v_colorProgress;
flat varying vec2 v_direction;
flat varying float v_usePattern;
#endif

struct PatternConfig
{
    int mode;
    float progress;
    float inverse;
};

struct PatternData
{
    int face;
    float nodeCountSqrt;

    vec2 texCoord2D;
    vec3 texCoord3D;
    vec3 uv;
    vec4 worldPos;

    float relativeHeight;
    float absoluteHeight;
};

// taken from https://www.shadertoy.com/view/4ddXW4
float hash(float h) {
    return fract(sin(h) * 43758.5453123);
}

// taken from https://www.shadertoy.com/view/4ddXW4
float noise(vec3 x) {
    vec3 p = floor(x);
    vec3 f = fract(x);
    f = f * f * (3.0 - 2.0 * f);

    float n = p.x + p.y * 157.0 + 113.0 * p.z;
    return mix(
        mix(mix(hash(n + 0.0), hash(n + 1.0), f.x),
            mix(hash(n + 157.0), hash(n + 158.0), f.x), f.y),
        mix(mix(hash(n + 113.0), hash(n + 114.0), f.x),
            mix(hash(n + 270.0), hash(n + 271.0), f.x), f.y), f.z);
}

float calculateColorDistance(in PatternData data, in PatternConfig config)
{
    const float epsilon = 0.001;

    // Vertical
    if (config.mode == 0)
    {
        float regular = config.progress - data.relativeHeight;
        float reverse = config.progress - (1.0 - data.relativeHeight * 0.999);
        return mix(regular, reverse, config.inverse);
    }
    // Arrows
    if (config.mode == 1)
    {
        const float slices = 4.0;

        float arrow = 1.0;

        if (data.face > 2)
        {
            float d = abs(data.uv[0]) * slices;
            arrow = config.progress - mod(data.uv[2] * slices + d, 1.0);
        }
        else
        {
            float regular = config.progress - 1.0;
            float reverse = config.progress - 0.001;
            arrow = mix(regular, reverse, config.inverse);
        }

        return arrow;
    }
    // Full Arrows
    if (config.mode == 2)
    {
        const float slices = 4.0;
        const float halfSlices = slices / 2.0;

        float arrow = 1.0;

        if (data.face > 2)
        {
            float d = abs(data.uv[0]) * slices;
            arrow = config.progress - mod(data.uv[2] * slices + d, 1.0);
        }
        else
        {
            vec2 texCoord = data.texCoord2D * 2.0 - vec2(1.0);
            float d = abs(texCoord.x) * slices;
            float reverse = abs(texCoord.y) * slices + d;
            reverse = config.progress - mod(reverse * 0.5, 1.0);

            float diff = abs(texCoord.x ) - abs(texCoord.y);
            float regular = 1.0 - fract(abs(diff) * halfSlices);
            regular = config.progress - regular;

            arrow = mix(regular, reverse, config.inverse);
        }

        return arrow;
    }
    // Divided Arrows Static
    if (config.mode == 3)
    {
        const float slices = 4.0;
        const float halfSlices = slices / 2.0;

        float arrow = 1.0;
        float ratio = mix(0.5, 1.0 - 0.5, config.inverse);
        float topProgress = mix(max((config.progress - ratio) / (1.0 - ratio), 0.0), min(config.progress / ratio, 1.0), config.inverse);
        float sideProgress = mix(min(config.progress / ratio, 1.0), max((config.progress - ratio) / (1.0 - ratio), 0.0), config.inverse);

        if (data.face > 2)
        {
            float d = abs(data.uv[0]) * slices;
            arrow = sideProgress - mod(data.uv[2] * slices + d, 1.0);
        }
        else
        {
            vec2 texCoord = data.texCoord2D * 2.0 - vec2(1.0);
            float d = abs(texCoord.x) * slices;
            float reverse = abs(texCoord.y) * slices + d;
            reverse = topProgress - mod(reverse * 0.5, 1.0);

            float diff = abs(texCoord.x) - abs(texCoord.y);
            float regular = 1.0 - fract(abs(diff) * halfSlices);
            regular = topProgress - regular;

            arrow = mix(regular, reverse, config.inverse);
        }

        return arrow;
    }
    // Divided Arrows Dynamic
    if (config.mode == 4)
    {
        const float slices = 4.0;
        const float halfSlices = slices / 2.0;

        float arrow = 1.0;
        float ratio = mix(data.absoluteHeight, 1.0 - data.absoluteHeight, config.inverse);
        float topProgress = mix(max((config.progress - ratio) / (1.0 - ratio), 0.0), min(config.progress / ratio, 1.0), config.inverse);
        float sideProgress = mix(min(config.progress / ratio, 1.0), max((config.progress - ratio) / (1.0 - ratio), 0.0), config.inverse);

        if (data.face > 2)
        {
            float d = abs(data.uv[0]) * slices;
            arrow = sideProgress - mod(data.uv[2] * slices + d, 1.0);
        }
        else
        {
            vec2 texCoord = data.texCoord2D * 2.0 - vec2(1.0);
            float d = abs(texCoord.x) * slices;
            float reverse = abs(texCoord.y) * slices + d;
            reverse = topProgress - mod(reverse * 0.5, 1.0);

            float diff = abs(texCoord.x) - abs(texCoord.y);
            float regular = 1.0 - fract(abs(diff) * halfSlices);
            regular = topProgress - regular;

            arrow = mix(regular, reverse, config.inverse);
        }

        return arrow;
    }
    // Screenspace Dithering
    if (config.mode == 5)
    {
        float dither = texture(u_ditheringTexture, gl_FragCoord.xy / vec2(textureSize(u_ditheringTexture, 0))).r;
        dither = min(dither + 0.001, 1.0);

        return config.progress - dither;
    }
    // Pyramid
    if (config.mode == 6)
    {
        float x = data.texCoord3D.x * 2.0 - 1.0;
        float z = data.texCoord3D.z * 2.0 - 1.0;
        float y = 1.0 - data.texCoord3D.y;

        float ascendingCutOff =  min(y + config.progress - abs(x), y + config.progress - abs(z));
        float descendingCutOff = min(y - config.progress + 1.0 - abs(x), y - config.progress + 1.0 - abs(z));

        return mix(ascendingCutOff, -descendingCutOff, config.inverse);
    }
    // Noise
    if (config.mode == 7)
    {
        vec3 position = vec3(data.worldPos.x, data.uv[1], data.worldPos.y);
        float factor = data.nodeCountSqrt * 1.5;
        return config.progress - noise(position * vec3(factor, 1.0, factor));
    }
    // Double Noise
    if (config.mode == 8)
    {
        const float bandSize = 20.0;

        vec3 position = vec3(data.worldPos.x, data.uv[1], data.worldPos.y);
        float factor = data.nodeCountSqrt * 1.5;

        float coarseNoise = noise(position * vec3(factor, 1.0, factor));
        float fineNoise = noise(position * vec3(factor * 15.0, 1.0, factor * 15.0));

        float dist = coarseNoise - config.progress;
        float localDist = dist * bandSize;

        float inner = step(dist, 0.0);
        float band = step(localDist, 1.0) * (1.0 - step(fineNoise, localDist));

        return mix(band, 1.0, inner) * 2.0 - 1.0;
    }
    // Quads
    if (config.mode == 9)
    {
        vec4 texCoord = vec4(0.0);
        texCoord.xy = vec2(data.texCoord2D.x, data.uv[1]);
        texCoord.zw = data.texCoord2D;

        float factor = data.nodeCountSqrt;
        vec3 position = vec3(data.worldPos.z, float(data.face - 1) / 5.0, data.worldPos.w);
        float n = noise(position * factor);
        float nx = noise((position + vec3(0.1, 0.0, 0.0)) * factor);
        float ny = noise((position + vec3(0.0, 0.0, 0.1)) * factor);

        vec2 offset = vec2(nx - n, ny - n);

        float sideValue = texture(u_ditheringTexture, texCoord.xy + offset).r;
        float topValue = texture(u_ditheringTexture, texCoord.zw + offset).r;

        float cutOff = data.face > 2 ? sideValue : topValue;
        cutOff = fract(cutOff);

        return config.progress - min(cutOff + 0.001, 1.0);
    }

    return 0.0;
}


void main(void)
{
#ifdef DRAW_RESTRICTED
    if(u_attachment == 0) {
#endif

    /* Compute the actual outline of a cuboid face based on texture coordinates. */
    vec2 awidth = fwidth(v_texCoord2D) * v_outlineColorBegin[3];
    vec2 awidth2 = fwidth(v_uv.xz);

    vec4 ctest; /* Used for countour/ctest testing. */
    ctest.xy = step(v_texCoord2D - awidth.xy, vec2(0.0));
    ctest.zw = step(vec2(1.0), v_texCoord2D + awidth.xy);
    float outline = clamp(dot(ctest, vec4(1.0)), 0.0, 1.0);

    float inverse = step(v_direction.y, 0.0);

    PatternData patternData = PatternData(
        u_face,
        u_nodeCountSqrt,

        v_texCoord2D,
        v_texCoord3D,
        v_uv,
        v_worldPos,

        v_relativeHeight,
        v_absoluteHeight
    );

    PatternConfig patternConfig = PatternConfig(
        u_patternMode,
        0.5,
        inverse
    );

    PatternConfig colorConfig = PatternConfig(
        u_colorMode,
        v_colorProgress,
        inverse
    );

    float baseColorDecider = 0.0;
    if (u_patternMode != -1)
    {
        float colorDistance = calculateColorDistance(patternData, patternConfig);
        baseColorDecider = step(0.01, v_usePattern) * smoothstep(0.0, 0.5, v_colorProgress) * step(0.0, colorDistance);
    }

    float colorDistance = calculateColorDistance(patternData, colorConfig);
    float colorDecider = step(0.0, colorDistance);

    vec4 baseColorBegin = mix(v_baseColorBegin, v_patternColorBegin, baseColorDecider);
    vec4 baseColor = mix(baseColorBegin, v_baseColorEnd, colorDecider);
    vec4 outlineColor = mix(v_outlineColorBegin, v_outlineColorEnd, colorDecider);

    fragColor = mix(baseColor, vec4(outlineColor.rgb, 1.0), outline);

#ifdef DRAW_RESTRICTED
    } else if(u_attachment == 1) {
#endif

    fragId = v_id;

#ifdef DRAW_RESTRICTED
    } else if(u_attachment == 2) {
        fragDepth = float24x1_to_uint8x3(gl_FragCoord.z);
    }
#endif
}
`},function(e,t,r){var n,a=this&&this.__extends||(n=function(h,c){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(o[s]=l[s])})(h,c)},function(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function o(){this.constructor=h}n(h,c),h.prototype=c===null?Object.create(c):(o.prototype=c.prototype,new o)}),i=this&&this.__decorate||function(h,c,o,l){var s,u=arguments.length,f=u<3?c:l===null?l=Object.getOwnPropertyDescriptor(c,o):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(h,c,o,l);else for(var g=h.length-1;g>=0;g--)(s=h[g])&&(f=(u<3?s(f):u>3?s(c,o,f):s(c,o))||f);return u>3&&f&&Object.defineProperty(c,o,f),f};Object.defineProperty(t,"__esModule",{value:!0}),t.FXAAPass=void 0;var d=r(0),m=r(0),_=d.auxiliaries.assert,v=function(h){function c(o){var l=h.call(this)||this;return l._altered=Object.assign(new m.ChangeLookup,{any:!0,lumaThreshold:!0,reduceMultiplier:!0,reduceMinimum:!0,spanMaximum:!0}),l._textureSize=[0,0],l._lumaThreshold=c.DEFAULT_LUMA_THRESHOLD,l._reduceMultiplier=c.DEFAULT_REDUCE_MULTIPLIER,l._reduceMinimum=c.DEFAULT_REDUCE_MINIMUM,l._spanMaximum=c.DEFAULT_SPAN_MAXIMUM,l._ndcTriangleShared=!1,l._context=o,l}return a(c,h),c.prototype.initialize=function(o){var l=this._context.gl;o===void 0?this._ndcTriangle=new m.NdcFillingTriangle(this._context,"FXAATriangle"):(this._ndcTriangle=o,this._ndcTriangleShared=!0),this._ndcTriangle.initialized||this._ndcTriangle.initialize();var s=new m.Shader(this._context,l.VERTEX_SHADER,"fxaa.vert");s.initialize(r(41),!1);var u=new m.Shader(this._context,l.FRAGMENT_SHADER,"fxaa.frag");return u.initialize(r(42),!1),s.compile(),u.compile(),this._program=new m.Program(this._context,"FXAAProgram"),this._program.initialize([u,s],!1),this._program.attribute("a_vertex",this._ndcTriangle.vertexLocation),this._program.link(),this._uTextureSize=this._program.uniform("u_textureSize"),this._uLumaTreshold=this._program.uniform("u_lumaThreshold"),this._uReduceMultiplier=this._program.uniform("u_reduceMultiplier"),this._uReduceMinimum=this._program.uniform("u_reduceMinimum"),this._uSpanMaximum=this._program.uniform("u_spanMaximum"),!0},c.prototype.uninitialize=function(){this._program.uninitialize(),!this._ndcTriangleShared&&this._ndcTriangle.initialized&&this._ndcTriangle.uninitialize(),this._uTextureSize=void 0,this._uLumaTreshold=void 0,this._uReduceMultiplier=void 0,this._uReduceMinimum=void 0,this._uSpanMaximum=void 0},c.prototype.frame=function(){_(this._target!==void 0&&this._target.valid,"Expected valid target."),_(this._framebuffer!==void 0&&this._framebuffer.valid,"Expected valid framebuffer.");var o=this._context.gl,l=this._framebuffer.texture(this._readBuffer);this._target.bind(o.DRAW_FRAMEBUFFER),this._program.bind(),l.bind(o.TEXTURE0),l.size!==this._textureSize&&(this._textureSize=l.size,o.uniform2fv(this._uTextureSize,this._textureSize)),this._altered.lumaThreshold&&o.uniform1f(this._uLumaTreshold,this._lumaThreshold),this._altered.reduceMultiplier&&o.uniform1f(this._uReduceMultiplier,this._reduceMultiplier),this._altered.reduceMinimum&&o.uniform1f(this._uReduceMinimum,this._reduceMinimum),this._altered.spanMaximum&&o.uniform1f(this._uSpanMaximum,this._spanMaximum),this._ndcTriangle.bind(),this._ndcTriangle.draw(),this._ndcTriangle.unbind(),l.unbind(o.TEXTURE0),this._program.unbind(),this._target.unbind(o.DRAW_FRAMEBUFFER),this._altered.reset()},Object.defineProperty(c.prototype,"target",{set:function(o){this.assertInitialized(),this._target=o},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"framebuffer",{set:function(o){this.assertInitialized(),this._framebuffer=o},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"readBuffer",{set:function(o){this.assertInitialized(),this._readBuffer=o},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"lumaThreshold",{set:function(o){o!==this._lumaThreshold&&(this._lumaThreshold=o,this._altered.alter("lumaThreshold"))},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"reduceMultiplier",{set:function(o){o!==this._reduceMultiplier&&(this._reduceMultiplier=o,this._altered.alter("reduceMultiplier"))},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"reduceMinimum",{set:function(o){o!==this._reduceMinimum&&(this._reduceMinimum=o,this._altered.alter("reduceMinimum"))},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"spanMaximum",{set:function(o){o!==this._spanMaximum&&(this._spanMaximum=o,this._altered.alter("spanMaximum"))},enumerable:!1,configurable:!0}),c.DEFAULT_LUMA_THRESHOLD=.1,c.DEFAULT_REDUCE_MULTIPLIER=1/8,c.DEFAULT_REDUCE_MINIMUM=1/128,c.DEFAULT_SPAN_MAXIMUM=8,i([m.Initializable.initialize()],c.prototype,"initialize",null),i([m.Initializable.uninitialize()],c.prototype,"uninitialize",null),i([m.Initializable.assert_initialized()],c.prototype,"frame",null),c}(m.Initializable);t.FXAAPass=v},function(e,t){e.exports=`
precision lowp float;
precision lowp int;


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
#else 
    #define varying out
#endif


#if __VERSION__ == 100
  attribute vec2 a_vertex;
#else
  layout(location = 0) in vec2 a_vertex;
#endif


varying vec2 v_texCoords;


void main()
{
    v_texCoords = a_vertex * 0.5 + 0.5;
    gl_Position = vec4(a_vertex, 0.0, 1.0);
}
`},function(e,t){e.exports=`
precision lowp float;
precision lowp int;


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
    #define texture(sampler, coord) texture2D(sampler, coord)
#else
    #define varying in
#endif


#if __VERSION__ == 100
  #define fragColor gl_FragColor
#else
  layout(location = 0) out vec4 fragColor;
#endif

uniform vec2 u_textureSize;

uniform float u_lumaThreshold;
uniform float u_reduceMultiplier;
uniform float u_reduceMinimum;
uniform float u_spanMaximum;

uniform sampler2D u_texture;

varying vec2 v_texCoords;


// Adapted from https://www.geeks3d.com/20110405/fxaa-fast-approximate-anti-aliasing-demo-glsl-opengl-test-radeon-geforce/3/
void main()
{
  vec2 delta = 1.0 / u_textureSize;

  vec3 rgbM = texture(u_texture, v_texCoords).rgb;
  vec3 rgbNW = texture(u_texture, v_texCoords + delta * vec2(-1.0,  1.0)).rgb;
  vec3 rgbNE = texture(u_texture, v_texCoords + delta * vec2( 1.0,  1.0)).rgb;
  vec3 rgbSW = texture(u_texture, v_texCoords + delta * vec2(-1.0, -1.0)).rgb;
  vec3 rgbSE = texture(u_texture, v_texCoords + delta * vec2( 1.0, -1.0)).rgb;

  vec3 toLuma = vec3(0.299, 0.587, 0.114);

  float lumaM = dot(rgbM, toLuma);
  float lumaNW = dot(rgbNW, toLuma);
  float lumaNE = dot(rgbNE, toLuma);
  float lumaSW = dot(rgbSW, toLuma);
  float lumaSE = dot(rgbSE, toLuma);

  float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
  float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

  float applyFXAA = step(u_lumaThreshold, lumaMax - lumaMin);

  vec2 gradient = vec2(0.0);
  gradient.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
  gradient.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

  float reduce = max((lumaNW + lumaNE + lumaSW + lumaSE) * 0.25 * u_reduceMultiplier, u_reduceMinimum);
  float factor = 1.0 / (min(abs(gradient.x), abs(gradient.y)) + reduce);

  gradient = clamp(gradient * factor, vec2(0.0), vec2(u_spanMaximum)) * delta;

  vec3 rgbNegative = texture(u_texture, v_texCoords + gradient * (1.0 / 3.0 - 0.5)).rgb;
  vec3 rgbPositive = texture(u_texture, v_texCoords + gradient * (2.0 / 3.0 - 0.5)).rgb;

  vec3 twoSampled = (rgbNegative + rgbPositive) * 0.5;

  rgbNegative = texture(u_texture, v_texCoords + gradient * (0.0 / 3.0 - 0.5)).rgb;
  rgbPositive = texture(u_texture, v_texCoords + gradient * (3.0 / 3.0 - 0.5)).rgb;

  vec3 fourSampled = (rgbNegative + rgbPositive) * 0.25 + twoSampled * 0.5;
  float lumaFourSampled = dot(fourSampled, toLuma);

  vec3 color = (lumaFourSampled < lumaMin || lumaFourSampled > lumaMax) ? twoSampled : fourSampled;

  fragColor = vec4(mix(rgbM, color, applyFXAA), 1.0);
}
`},function(e,t,r){var n,a=this&&this.__extends||(n=function(f,g){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var E in b)Object.prototype.hasOwnProperty.call(b,E)&&(y[E]=b[E])})(f,g)},function(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function y(){this.constructor=f}n(f,g),f.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)});Object.defineProperty(t,"__esModule",{value:!0}),t.SeereneModifier=void 0;var i=r(0),d=r(0),m=i.gl_matrix_extensions.v2,_=i.gl_matrix_extensions.v3,v=i.gl_matrix_extensions.sign,h=i.gl_matrix_extensions.clamp,c=i.gl_matrix_extensions.clamp3,o=i.auxiliaries.DEG2RAD,l=i.auxiliaries.assert,s=function(){this.screen=i.vec2.create(),this.world=i.vec3.create()},u=function(f){function g(){var y=f!==null&&f.apply(this,arguments)||this;return y.initialPoints=[new s,new s],y.currentPoints=[new s,new s],y.initialEye=i.vec3.create(),y.initialCenter=i.vec3.create(),y.initialViewProjectionInverse=i.mat4.create(),y._xAxisScreenSpace=i.vec3.create(),y._maxAngles=[.6666*+Math.PI-Math.PI,60*o-Math.PI],y._minAngles=[.6666*-Math.PI-Math.PI,-Math.PI+1*o],y.referencePlane=[i.vec3.create(),i.vec3.create(),0],y}return a(g,f),Object.defineProperty(g.prototype,"valid",{get:function(){return this.initialPoints[0].world!==void 0},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"camera",{set:function(y){this._camera=y},enumerable:!1,configurable:!0}),g.prototype.needStart=function(){return this._maxAngles===void 0||this._minAngles===void 0},Object.defineProperty(g.prototype,"coordsAccess",{set:function(y){this._coordsAccess=y},enumerable:!1,configurable:!0}),g.rayY0SquareIntersection=function(y,b){var E=i.ray_math.rayPlaneIntersection(y,b);if(E!==void 0){var x=i.vec2.fromValues(E[0],E[2]);return i.ray_math.isPointWithinSquare(x,g.HALF_SQUARE_LENGTH)?E:void 0}},g.prototype.assert_valid=function(){},g.prototype.invalidate=function(){this.initialPoints[0].world=void 0,this.currentPoints[0].world=void 0,this.initialPoints[1].world=void 0,this.currentPoints[1].world=void 0},g.prototype.initiateTranslateConstraints=function(y){if(y)return this._maxNegativeTranslate=void 0,void(this._maxPositiveTranslate=void 0);var b=i.vec3.fromValues(-1,0,-1),E=i.vec3.fromValues(1,0,1);this._maxNegativeTranslate=i.vec3.sub(_(),b,this.initialCenter),this._maxPositiveTranslate=i.vec3.sub(_(),E,this.initialCenter)},g.prototype.initiateScaleConstraints=function(y){var b=i.vec3.sub(_(),this.initialEye,this.initialCenter),E=1/i.vec3.length(b);if(y)return this._minScale=this._camera.near*E-1,void(this._maxScale=this._camera.far*E-1);i.ray_math.rayPlaneIntersection(this.initialEye,this.initialCenter,[0,0,0],[0,1,0])&&(this._minScale=this._camera.near*g.MIN_NEAR_PLANE_FACTOR*E-1,this._maxScale=g.MAX_DISTANCE_TO_SQUARE*E-1)},g.prototype.initiateRotateConstraints=function(y){var b=i.vec3.normalize(_(),i.vec3.sub(_(),this.initialEye,this.initialCenter));this._xAxisScreenSpace=i.vec3.cross(_(),[0,1,0],b);var E=Math.acos(i.vec3.dot(b,[0,1,0]));if(this._maxAngles=[void 0,89.99*o-E],this._minAngles=[void 0,.01*o-E],!y){var x=i.vec2.normalize(m(),[b[0],b[2]]),w=Math.asin(i.vec2.dot(x,[1,0]));x[1]<0&&(w=v(w)*Math.PI-w),this._maxAngles=[.6666*+Math.PI-w,60*o-E],this._minAngles=[.6666*-Math.PI-w,1*o-E]}},g.prototype.initiate=function(y,b,E,x){E===void 0&&(E=[!1,!1,!1]),x===void 0&&(x=!1),this._override=x;var w=this._camera.viewProjectionInverse;return!!w&&(i.mat4.copy(this.initialViewProjectionInverse,w),i.vec3.copy(this.initialEye,this._camera.eye),i.vec3.copy(this.initialCenter,this._camera.center),i.vec2.copy(this.initialPoints[0].screen,y),this.initialPoints[0].world=this.coordsAt(y,!1),this.initialPoints[0].world===void 0?(this.invalidate(),!1):(this.initialPoints[1].screen=b===void 0?void 0:i.vec2.copy(m(),b),this.initialPoints[1].world=this.coordsAt(b,!1),this.referencePlane[0]=this.initialPoints[0].world,this.referencePlane[1]=i.vec3.fromValues(0,1,0),this.referencePlane[2]=i.vec3.length(this.initialPoints[0].world),l(this.initialCenter[1]===0,"camera center is expected to be on y = 0 (ground plane)"),E[0]&&this.initiateTranslateConstraints(x),E[1]&&this.initiateScaleConstraints(x),E[2]&&this.initiateRotateConstraints(x),!0))},g.prototype.update_positions=function(y,b){return this.assert_valid(),this.currentPoints[0].world=this.coordsAt(y),this._override&&this.currentPoints[0].world===void 0?(this.invalidate(),!1):(i.vec2.copy(this.currentPoints[0].screen,y),b===void 0||(this.currentPoints[1].world=this.coordsAt(b),this._override&&this.currentPoints[1].world===void 0?(this.invalidate(),!1):(this.currentPoints[1].screen=b===void 0?void 0:i.vec2.copy(m(),b),!0)))},g.prototype.translate=function(){this.assert_valid();var y=this.initialPoints[0].world,b=this.currentPoints[0].world;if(y&&b){var E=i.vec3.subtract(_(),y,b);this._maxNegativeTranslate&&this._maxPositiveTranslate&&c(E,E,this._maxNegativeTranslate,this._maxPositiveTranslate),this._camera.eye=i.vec3.add(_(),this.initialEye,E);var x=i.vec3.add(_(),this.initialCenter,E),w=i.ray_math.rayPlaneIntersection(this._camera.eye,x);w&&(this._camera.center=w)}},g.prototype.scale=function(y){var b;if(this.assert_valid(),l(this._minScale!==void 0&&this._maxScale!==void 0,"valid scale constraints expected"),y===void 0){var E=this.currentPoints[0].screen,x=this.initialPoints[0].screen;if(!x||!E)return;b=i.vec2.subtract(m(),x,E)[1]/window.devicePixelRatio}else b=-v(y)*g.SCALE_STEP_FACTOR;b=h(b*g.SCALE_FACTOR,this._minScale,this._maxScale);var w=this.initialPoints[0].world;if(w){var S=i.vec3.sub(_(),this.initialEye,w),O=i.vec3.sub(_(),this.initialCenter,w),A=i.vec3.add(_(),this.initialEye,i.vec3.scale(_(),S,b)),L=i.vec3.add(_(),this.initialCenter,i.vec3.scale(_(),O,b)),k=i.ray_math.rayPlaneIntersection(this._camera.eye,L);k&&(this._camera.center=this._override?k:c(_(),k,[-1,0,-1],[1,0,1]),this._camera.eye=i.vec3.add(_(),A,i.vec3.sub(_(),this._camera.center,k)))}},g.prototype.rotate=function(){this.assert_valid();var y=this.currentPoints[0].screen,b=this.initialPoints[0].screen;if(b&&y){var E=i.vec2.subtract(m(),b,y);i.vec2.scale(E,E,window.devicePixelRatio*g.ROTATE_FACTOR),this._minAngles[1]&&this._maxAngles[1]&&(E[1]=h(E[1],this._minAngles[1],this._maxAngles[1]));var x=this._override?this.initialCenter:c(_(),this.initialCenter,[-1,0,-1],[1,0,1]),w=i.mat4.translate(i.mat4.create(),i.mat4.create(),x);i.mat4.rotateY(w,w,E[0]),i.mat4.rotate(w,w,E[1],this._xAxisScreenSpace),i.mat4.translate(w,w,i.vec3.negate(_(),x)),this._camera.center=x;var S=i.vec3.transformMat4(_(),this.initialEye,w);S&&(this._camera.eye=S)}},g.prototype.coordsAt=function(y,b){if(b===void 0&&(b=!0),y!==void 0){var E=b?this.initialViewProjectionInverse:this._camera.viewProjectionInverse;if(b){l(this.referencePlane[0]!==void 0&&this.referencePlane[1]!==void 0,"valid reference plane expected for reference coordinate retrieval");var x=this._coordsAccess(y[0],y[1],0,E),w=this._coordsAccess(y[0],y[1],1,E);return i.ray_math.rayPlaneIntersection(x,w,this.referencePlane[0],this.referencePlane[1])}var S=this._coordsAccess(y[0],y[1],void 0,E);if(S!==void 0)return S;var O=this._coordsAccess(y[0],y[1],0,E),A=this._coordsAccess(y[0],y[1],1,E);return g.rayY0SquareIntersection(O,A)}},g.prototype.update=function(){},g.HALF_SQUARE_LENGTH=2,g.SCALE_FACTOR=.004,g.SCALE_STEP_FACTOR=16,g.ROTATE_FACTOR=.002,g.MAX_DISTANCE_TO_SQUARE=4,g.MIN_NEAR_PLANE_FACTOR=4,g}(d.CameraModifier);t.SeereneModifier=u},function(e,t,r){var n,a=this&&this.__extends||(n=function(_,v){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var o in c)Object.prototype.hasOwnProperty.call(c,o)&&(h[o]=c[o])})(_,v)},function(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function h(){this.constructor=_}n(_,v),_.prototype=v===null?Object.create(v):(h.prototype=v.prototype,new h)}),i=this&&this.__decorate||function(_,v,h,c){var o,l=arguments.length,s=l<3?v:c===null?c=Object.getOwnPropertyDescriptor(v,h):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(_,v,h,c);else for(var u=_.length-1;u>=0;u--)(o=_[u])&&(s=(l<3?o(s):l>3?o(v,h,s):o(v,h))||s);return l>3&&s&&Object.defineProperty(v,h,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.PointGeometry=void 0;var d=r(0),m=function(_){function v(h,c){var o=_.call(this,h,c)||this;return c=c!==void 0&&c!==""?c:"PointGeometry",o._vertices=new d.Buffer(h,c+"VertexVBO"),o._buffers.push(o._vertices),o._colors=new d.Buffer(h,c+"ColorVBO"),o._buffers.push(o._colors),o}return a(v,_),v.prototype.bindBuffers=function(h){var c=this.context.gl,o=this.context.gl2facade;this._vertices.attribEnable(this._vertexLocation,3,c.FLOAT,!1,0,0,!0,!1),o.vertexAttribDivisor(this._vertexLocation,0),this._colors.attribEnable(this._colorLocation,4,c.FLOAT,!1,0,0,!0,!1),o.vertexAttribDivisor(this._colorLocation,0)},v.prototype.unbindBuffers=function(h){this._vertices.attribDisable(this._vertexLocation,!1,!1),this._colors.attribDisable(this._colorLocation,!1,!1)},v.prototype.initialize=function(h,c){h===void 0&&(h=0),c===void 0&&(c=1),this._vertexLocation=h,this._colorLocation=c;var o=this.context.gl;return _.prototype.initialize.call(this,[o.ARRAY_BUFFER,o.ARRAY_BUFFER])&&this._vertices.valid},v.prototype.update=function(){this.bind()},v.prototype.draw=function(h){if(h===void 0&&(h=0),this._count){var c=this.context.gl;this._vertices.attribEnable(this._vertexLocation,3,c.FLOAT,!1,0,4*h,!0,!1),this._colors.attribEnable(this._colorLocation,4,c.FLOAT,!1,0,4*h,!0,!1),c.drawArrays(c.POINTS,0,this._count)}},Object.defineProperty(v.prototype,"vertices",{set:function(h){this._count=h.length/3,this._vertices.data(h,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"colors",{set:function(h){this._colors.data(h,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"valid",{get:function(){return this.initialized&&this._vertices.valid&&this._colors&&this._colors.valid},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"vertexLocation",{get:function(){return this._vertexLocation},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"colorLocation",{get:function(){return this._colorLocation},enumerable:!1,configurable:!0}),i([d.Initializable.assert_initialized()],v.prototype,"draw",null),v}(d.Geometry);t.PointGeometry=m},function(e,t){e.exports=`//*****************************************************************************
// seerene(tm) - A framework for analyzing and visualizing complex software systems.
// Copyright (C) 2005 - 2019 for all source codes:
// seerene(tm) GmbH, Potsdam, Germany
//*****************************************************************************

#if __VERSION__ == 100
    #extension GL_EXT_draw_buffers : enable
#endif

precision highp float;
precision lowp int;


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
#else 
    #define varying out
#endif


// @todo this file will be included from webgl-operate soon

void ndcOffset(inout vec4 vertex, in vec2 offset) {
    vertex.xy = offset * vec2(vertex.w) + vertex.xy;
}



#if __VERSION__ == 100
attribute vec3 a_vertex;
attribute vec4 a_color;
#else
/* Note: do not use layout location specifier, since they take precedence over CPU managed locations. */
in vec3 a_vertex;
in vec4 a_color;
#endif

uniform mat4 u_viewProjection;
uniform vec2 u_ndcOffset;
uniform float u_pointSize;

varying vec4 v_color;

void main(void)
{
    vec4 vertex = u_viewProjection * vec4(a_vertex, 1.0);

    v_color = a_color;

    ndcOffset(vertex, u_ndcOffset);
    gl_Position = vertex;
    gl_PointSize = u_pointSize;
}
`},function(e,t){e.exports=`//*****************************************************************************
// seerene(tm) - A framework for analyzing and visualizing complex software systems.
// Copyright (C) 2005 - 2019 for all source codes:
// seerene(tm) GmbH, Potsdam, Germany
//*****************************************************************************

precision highp float;
precision lowp int;

#if __VERSION__ == 100

    #ifdef GL_EXT_draw_buffers
        #extension GL_EXT_draw_buffers : enable
        #define fragColor gl_FragData[0].rgba
    #else
        #define DRAW_RESTRICTED
        #define fragColor gl_FragColor.rgba
    #endif
#else
    layout(location = 0) out vec4 fragColor;
#endif


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
    #define texture(sampler, coord) texture2D(sampler, coord)
#else
    #define varying in
#endif


varying vec4 v_color;

void main(void)
{
    // Make points round (instead of squares).
    // gl_PointCoord.st ranges from 0.0 to 1.0 across the point horizontally from left to right and
    // vertically from top to bottom.

    float dist = distance(gl_PointCoord, vec2(0.5, 0.5));
    float alpha = v_color.a - step(0.5, dist);

    fragColor = vec4(v_color.xyz, alpha);
}
`},function(e,t,r){var n,a=this&&this.__extends||(n=function(v,h){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(c[l]=o[l])})(v,h)},function(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function c(){this.constructor=v}n(v,h),v.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}),i=this&&this.__decorate||function(v,h,c,o){var l,s=arguments.length,u=s<3?h:o===null?o=Object.getOwnPropertyDescriptor(h,c):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(v,h,c,o);else for(var f=v.length-1;f>=0;f--)(l=v[f])&&(u=(s<3?l(u):s>3?l(h,c,u):l(h,c))||u);return s>3&&u&&Object.defineProperty(h,c,u),u};Object.defineProperty(t,"__esModule",{value:!0}),t.CuboidGeometry=void 0;var d=r(0),m=r(0),_=function(v){function h(c,o,l){var s=v.call(this,c,l)||this;s._areaScaleOffsets=new Array,s._colorOffsets=new Array,s._heightOffsets=new Array,s._layers=Math.max(1,o),l=l!==void 0&&l!==""?l:"CuboidGeometry",s._vertices=h.referenceVerticesVBO(c),s._buffers.push(s._vertices),s._layout=new m.Buffer(c,l+"LayoutVBO"),s._buffers.push(s._layout),s._ids=new m.Buffer(c,l+"IdVBO"),s._buffers.push(s._ids),s._emphases=new m.Buffer(c,l+"EmphasisVBO"),s._buffers.push(s._emphases),s._areaScales=new m.Buffer(c,l+"AreaScaleVBO"),s._buffers.push(s._areaScales),s._areaScaleOffsets.length=o,s._colors=new m.Buffer(c,l+"ColorVBO"),s._buffers.push(s._colors),s._colorOffsets.length=o,s._heights=new m.Buffer(c,l+"HeightVBO"),s._buffers.push(s._heights),s._heightOffsets.length=o;for(var u=0;u<o;++u)s._areaScaleOffsets[u]=0,s._colorOffsets[u]=0,s._heightOffsets[u]=0;return s}return a(h,v),h.referenceVerticesVBO=function(c){var o;h.VERTICES_BY_CONTEXT.has(c)?o=h.VERTICES_BY_CONTEXT.get(c):(o=new m.Buffer(c,"CuboidVertexVBO"),h.VERTICES_BY_CONTEXT.set(c,o),h.REFCOUNT_BY_TEMPLATE.set(o,0));var l=h.REFCOUNT_BY_TEMPLATE.get(o)+1;return h.REFCOUNT_BY_TEMPLATE.set(o,l),o},h.unreferenceTemplateVBO=function(c){if(h.VERTICES_BY_CONTEXT.has(c)){var o=h.VERTICES_BY_CONTEXT.get(c),l=h.REFCOUNT_BY_TEMPLATE.get(o)-1;h.REFCOUNT_BY_TEMPLATE.set(o,l),l>0||(o.uninitialize(),h.VERTICES_BY_CONTEXT.delete(c),h.REFCOUNT_BY_TEMPLATE.delete(o))}},h.prototype.bindBuffers=function(c){var o=this.context.gl,l=this.context.gl2facade;this._vertices.attribEnable(this._vertexLocation,3,o.FLOAT,!1,20,0,!0,!1),l.vertexAttribDivisor(this._vertexLocation,0),this._vertices.attribEnable(this._texCoordLocation,2,o.FLOAT,!1,20,12,!0,!1),l.vertexAttribDivisor(this._texCoordLocation,0),this._layout.attribEnable(this._layoutLocation,4,o.FLOAT,!1,0,0,!0,!1),l.vertexAttribDivisor(this._layoutLocation,1),this._ids.attribEnable(this._idLocation,4,o.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._idLocation,1),this._emphases.attribEnable(this._emphasisLocation,1,o.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._emphasisLocation,1),this._areaScales.attribEnable(this._areaScaleLocation,1,o.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._areaScaleLocation,1),this._colors.attribEnable(this._colorLocation,1,o.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._colorLocation,1),this._heights.attribEnable(this._heightLocation,2,o.UNSIGNED_BYTE,!1,0,0,!0,!1),l.vertexAttribDivisor(this._heightLocation,1)},h.prototype.unbindBuffers=function(c){this._vertices.attribDisable(this._vertexLocation,!1,!1),this._vertices.attribDisable(this._texCoordLocation,!1,!1),this._layout.attribDisable(this._layoutLocation,!1,!1),this._ids.attribDisable(this._idLocation,!1,!1),this._emphases.attribDisable(this._emphasisLocation,!1,!1),this._areaScales.attribDisable(this._areaScaleLocation,!1,!1),this._colors.attribDisable(this._colorLocation,!1,!1),this._heights.attribDisable(this._heightLocation,!1,!1)},h.prototype.initialize=function(c,o,l,s,u,f,g,y){c===void 0&&(c=0),o===void 0&&(o=1),l===void 0&&(l=2),s===void 0&&(s=3),u===void 0&&(u=4),f===void 0&&(f=5),g===void 0&&(g=6),y===void 0&&(y=7),this._vertexLocation=c,this._texCoordLocation=o,this._idLocation=s,this._layoutLocation=l,this._emphasisLocation=u,this._areaScaleLocation=f,this._colorLocation=g,this._heightLocation=y;var b=this.context.gl,E=v.prototype.initialize.call(this,[b.ARRAY_BUFFER,b.ARRAY_BUFFER,b.ARRAY_BUFFER,b.ARRAY_BUFFER,b.ARRAY_BUFFER,b.ARRAY_BUFFER,b.ARRAY_BUFFER,b.ARRAY_BUFFER]);return this._vertices.data(h.DATA,b.STATIC_DRAW),E&&this._vertices.valid},h.prototype.uninitialize=function(){h.unreferenceTemplateVBO(this.context),this._layout.uninitialize(),this._ids.uninitialize(),this._emphases.uninitialize(),this._areaScales.uninitialize(),this._colors.uninitialize(),this._heights.uninitialize(),v.prototype.uninitialize.call(this)},h.prototype.update=function(){this.bind()},h.prototype.draw=function(c,o,l,s){c===void 0&&(c=0),o===void 0&&(o=0),l===void 0&&(l=0),s===void 0&&(s=0);var u=this.context.gl,f=this.context.gl2facade;this._vertices.attribEnable(this._vertexLocation,3,u.FLOAT,!1,20,l,!0,!1),this._vertices.attribEnable(this._texCoordLocation,2,u.FLOAT,!1,20,12+l,!0,!1),this._ids.attribEnable(this._idLocation,4,u.UNSIGNED_BYTE,!1,4,4*o,!0,!1),this._layout.attribEnable(this._layoutLocation,4,u.FLOAT,!1,16,16*o,!0,!1),this._emphases.attribEnable(this._emphasisLocation,1,u.UNSIGNED_BYTE,!1,1,1*o,!0,!1),this._areaScales.attribEnable(this._areaScaleLocation,1,u.UNSIGNED_BYTE,!1,1,1*o+this._areaScaleOffsets[c],!0,!1),this._colors.attribEnable(this._colorLocation,1,u.UNSIGNED_BYTE,!1,1,1*o+this._colorOffsets[c],!0,!1),this._heights.attribEnable(this._heightLocation,2,u.UNSIGNED_BYTE,!1,2,2*o+this._heightOffsets[c],!0,!1),f.drawArraysInstanced(u.TRIANGLE_STRIP,0,4,s)},Object.defineProperty(h.prototype,"layout",{set:function(c){this._layout.data(c,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"ids",{set:function(c){this._ids.data(c,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),h.prototype.areaScales=function(c,o,l){d.auxiliaries.assert(o===void 0||o>=0&&o<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+o),d.auxiliaries.assert(l===void 0||l<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+o);var s=this.context.gl,u=c.byteLength*(l||this._layers);this._areaScales.bytes!==0&&this._areaScales.bytes===u||o===void 0||this._areaScales.data(u,s.STATIC_DRAW),o!==void 0?(this._areaScales.subData(c.byteLength*o,c),this._areaScaleOffsets[o]=c.byteLength*o):this._areaScales.data(c,this.context.gl.STATIC_DRAW)},h.prototype.colors=function(c,o,l){d.auxiliaries.assert(o===void 0||o>=0&&o<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+o),d.auxiliaries.assert(l===void 0||l<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+o);var s=this.context.gl,u=c.byteLength*(l||this._layers);this._colors.bytes!==0&&this._colors.bytes===u||o===void 0||this._colors.data(u,s.STATIC_DRAW),o!==void 0?(this._colors.subData(c.byteLength*o,c),this._colorOffsets[o]=c.byteLength*o):this._colors.data(c,this.context.gl.STATIC_DRAW)},Object.defineProperty(h.prototype,"emphases",{set:function(c){this._emphases.data(c,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),h.prototype.heights=function(c,o){d.auxiliaries.assert(o===void 0||o>=0&&o<=this._layers,"expected layers to be within [0, "+this._layers+"], given "+o);var l=this.context.gl,s=c.byteLength*this._layers;this._heights.bytes!==0&&this._heights.bytes===s||o===void 0||this._heights.data(s,l.STATIC_DRAW),o!==void 0?(this._heights.subData(c.byteLength*o,c),this._heightOffsets[o]=c.byteLength*o):this._heights.data(c,this.context.gl.STATIC_DRAW)},Object.defineProperty(h.prototype,"layers",{get:function(){return this._layers},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"valid",{get:function(){var c=this._layout&&this._layout.valid,o=this._ids&&this._ids.valid,l=this._areaScales&&this._areaScales.valid,s=this._colors&&this._colors.valid,u=this._emphases&&this._emphases.valid,f=this._heights&&this._heights.valid;return this.initialized&&this._vertices.valid&&c&&o&&l&&s&&u&&f},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"vertexLocation",{get:function(){return this._vertexLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"texCoordLocation",{get:function(){return this._texCoordLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"layoutLocation",{get:function(){return this._layoutLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"idLocation",{get:function(){return this._idLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"emphasisLocation",{get:function(){return this._emphasisLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"areaScaleLocation",{get:function(){return this._areaScaleLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"colorLocation",{get:function(){return this._colorLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"heightLocation",{get:function(){return this._heightLocation},enumerable:!1,configurable:!0}),h.VERTICES_BY_CONTEXT=new Map,h.REFCOUNT_BY_TEMPLATE=new Map,h.DATA=new Float32Array([0,0,0,0,0,0,0,1,0,1,1,0,0,1,0,1,0,1,1,1,0,0,0,0,0,1,0,0,1,0,0,0,1,0,1,1,0,1,1,1,0,0,1,0,0,1,0,1,1,0,0,1,1,0,1,1,1,1,1,1,0,0,0,0,0,0,1,0,0,1,1,0,0,1,0,1,1,0,1,1,1,0,0,0,0,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,0,0,0,0,0,0,0,1,1,0,0,1,0,0,1,0,1,1,1,1]),h.BYTES_PER_VERTEX=h.DATA.length/6,i([m.Initializable.assert_initialized()],h.prototype,"draw",null),h}(m.Geometry);t.CuboidGeometry=_},function(e,t){e.exports=`//*****************************************************************************
// seerene(tm) - A framework for analyzing and visualizing complex software systems.
// Copyright (C) 2005 - 2019 for all source codes:
// seerene(tm) GmbH, Potsdam, Germany
//*****************************************************************************

#if __VERSION__ == 100
    #extension GL_EXT_draw_buffers : enable
#endif

precision highp float;
precision lowp int;


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
#else 
    #define varying out
#endif


// @todo this file will be included from webgl-operate soon

void ndcOffset(inout vec4 vertex, in vec2 offset) {
    vertex.xy = offset * vec2(vertex.w) + vertex.xy;
}



#if __VERSION__ == 100

attribute vec3  a_vertex;
attribute vec4  a_layout; /* [ position: vec2, extent: vec2 ] */
attribute vec4  a_id; /* encoded uint32 id in byte4 */
attribute float a_areaScale;
attribute float a_color;
attribute float a_emphasis;
attribute vec2  a_heights; /* [ bottom: float, top: float ] */
attribute vec2  a_texCoord;

#else

/* Note: do not use layout location specifier, since they take precedence over CPU managed locations. */
in vec3  a_vertex;
in vec4  a_layout; /* [ position: vec2, extent: vec2 ] */
in vec4  a_id; /* encoded uint32 id in byte4 */
in float a_areaScale;
in float a_color;
in float a_emphasis;
in vec2  a_heights; /* [ bottom: float, top: float ] */
in vec2  a_texCoord;

#endif


uniform mat4 u_viewProjection;
uniform vec2 u_ndcOffset;

uniform vec4 u_colorTable[$ColorTableLength];

uniform int u_layer;
uniform int u_face;
uniform int u_arrows;

uniform vec4 u_normalAndLambert;

uniform float u_heightScale;
uniform vec2 u_floatingGap; /* [ target gap size, minimum remaining cuboid size ] */
uniform float u_outlineWidth;
uniform float u_emphasisOutlineWidth;


varying vec4 v_baseColor;
varying vec4 v_outlineColor;
varying vec4 v_id;

varying vec4 v_uv;
varying vec4 v_arrowColor;


const float ONE_OVER_255 = 1.0 / 255.0;
const int FACE_INDEX_TOP = 1; /* see CuboidRenderPass.FaceIndex.Top */

const vec3 AMBIENT = vec3(0.0, 0.0, 0.0); /* @todo expose to API */
const float OUTLINE_LAMBERT_SCALE = 0.88; /* @todo expose to API */

const int EMPHASIS_COLOR_INDEX = 0;

const int POSITIVE_COLOR_INDEX = 1;
const int NEGATIVE_COLOR_INDEX = 2;


/**
 * Transforms the cuboid vertices based on the associated face and height mapping. An earlier implementation of this
 * used the same geometry template and transformed it to either orientation. The current implementation uses a pre-set
 * vertex sequence/orientation and has to adjust the height only.
 * Appart from that, each cuboid face is moved to its position and adjusted to the provided height values. ID, color,
 * and extent along the y-axis are encoded per vertex (or even per face/cuboid) to reduce per-fragment processing.
 */
void main(void)
{
    vec4 emphasisColor = u_colorTable[EMPHASIS_COLOR_INDEX];

    float height = (a_heights[1] - a_heights[0]) * u_heightScale;
    /* Assuming that cuboids of no relevant height mapping should still be visible on top of their parent nodes, zero-
       height nodes are rendered when associated to the first cuboid layer. Note that this might be unwanted behavior,
       e.g., when multiple layers are used and tha top-most layer, even if the height is zero, a relevant color mapping
       might be stacked over all other cuboids of lower layers. */
    if (height <= 0.0 && u_layer > 0) {
        return;
    }

    /* Compute the position and extend of the cuboid based on the face. */
    vec4 pos = vec4(a_layout[0], u_face == FACE_INDEX_TOP ?
        a_heights[1] * u_heightScale : a_heights[0] * u_heightScale, a_layout[1], 0.0);
    vec4 ext = vec4(a_layout[2], height, a_layout[3], 1.0);

    /* Area scaling */
    float shrinkage = 1.0 - a_areaScale * ONE_OVER_255;
    pos.x += ext.x * shrinkage * 0.5;
    pos.z += ext.z * shrinkage * 0.5;
    ext.x -= ext.x * shrinkage;
    ext.z -= ext.z * shrinkage;

    /* Compute the final vertex position and pass through texture coordinates and layout data. */
    vec4 vertex = vec4(a_vertex, 1.0) * ext + pos;

    v_uv.st = a_texCoord.st;
    v_id = a_id * ONE_OVER_255;

    /* The y-extent provides world-space height of the cuboid that can be used for fragment-processing. */
    v_uv[2] = 1.0; //mix(a_layout[2], a_layout[3], step(5.0, float(u_face)));
    v_uv[3] = height / mix(a_layout[2], a_layout[3], step(5.0, float(u_face)));


    /* REVIEW AND SIMPLIFY THE FOLLOWING COLOR COMPUTATION (probably to many states) */

    /* If emphasis is < 2 use the color lookup, else apply outline color. */
    int colorIndex = int(abs(a_color - 32.0));
    v_baseColor = mix(u_colorTable[colorIndex], emphasisColor, step(2.0, a_emphasis));


    float gap = 0.0;
    /* Only if floating cuboids enabled, vertices of lower part of lateral faces, and not for first layer. */
    if(u_floatingGap[0] > 0.0 && u_layer > 0 && a_vertex.y == 0.0 && u_face > 2) {

        /* Compute screen space position for incoming vertex and an offseted one. */
        vec4 pos0 = u_viewProjection * vertex;
        vec4 pos1 = u_viewProjection * vec4(vertex.x, vertex.y + ext.y, vertex.z, vertex.w);
        /* Vector pointing from pos1 to pos0 in NDC. */
        vec3 pos0_dash = (pos1.xyz / pos1.w) - (pos0.xyz / pos0.w);
        /* Length of pos0' in NDC is the basis for gap scale. */
        gap = u_floatingGap[0] / length(pos0_dash);
        vertex = mix(pos0, pos1, min(1.0 - u_floatingGap[1] / length(pos0_dash), gap));

    } else {
        vertex = u_viewProjection * vertex;
    }


    /* Compute color and direction of arrow pattern for fragment processing. Also account for the
    levitation gap, so the arrow pattern does not squish or stretch. */
    float arrow = sign(a_color - 32.0);
    v_uv[2] *= (a_texCoord.x - 0.5);
    v_uv[3] *= (1.0 - a_texCoord.y) * (1.0 - gap);

    if(arrow > 0.0) {
        v_uv[3] = (1.0 - v_uv[3]);
    }


    if(u_arrows == 0 && u_layer > 0) {
        v_baseColor = mix(u_colorTable[POSITIVE_COLOR_INDEX], u_colorTable[NEGATIVE_COLOR_INDEX], arrow * 0.5 + 0.5);
    } else {
        v_baseColor = u_colorTable[colorIndex];
    }

    v_baseColor = mix(v_baseColor, emphasisColor, step(2.0, a_emphasis));

    v_outlineColor.rgb = mix(v_baseColor.rgb, emphasisColor.rgb, step(1.0, a_emphasis));

    /* The default outline (emphasis = 0.0) should be a little bit darker, when in outline mode (emphasis = 1.0) the
    outline should remain unchanged (except for face lambda), and when highlighting (emphasis = 2.0) the outline is
    lightened a little bit (invere darkening lambda). The mix is utilized to create this. */
    v_outlineColor.rgb *= mix(OUTLINE_LAMBERT_SCALE, (1.0 / OUTLINE_LAMBERT_SCALE), a_emphasis * 0.5);

    /* The outline should be darkened based on the face orientation. */
    v_outlineColor.rgb = mix(AMBIENT, v_outlineColor.rgb, u_normalAndLambert[3]);
    /* The outline width is encoded within the alpha channel of the outline (special if emphasized). */
    v_outlineColor[3] = mix(u_emphasisOutlineWidth, u_outlineWidth, step(0.5, abs(a_emphasis - 1.0)));


    v_baseColor = mix(vec4(AMBIENT, 1.0), v_baseColor, u_normalAndLambert[3]);


    v_arrowColor = vec4(v_outlineColor.rgb, 1.0);
    v_arrowColor.rgb *= mix(OUTLINE_LAMBERT_SCALE, 1.0, a_emphasis * 0.5);


    ndcOffset(vertex, u_ndcOffset);
    gl_Position = vertex;
}
`},function(e,t){e.exports=`//*****************************************************************************
// seerene(tm) - A framework for analyzing and visualizing complex software systems.
// Copyright (C) 2005 - 2019 for all source codes:
// seerene(tm) GmbH, Potsdam, Germany
//*****************************************************************************

precision highp float;
precision lowp int;

#if __VERSION__ == 100

    #ifdef GL_EXT_draw_buffers
        #extension GL_EXT_draw_buffers : enable
        #define fragColor gl_FragData[0].rgba
        #define fragId gl_FragData[1].xyzw
    #else
        #define DRAW_RESTRICTED
        #define fragColor gl_FragColor.rgba
        #define fragId gl_FragColor.xyzw
        #define fragDepth gl_FragColor.xyz
    #endif

    #ifdef GL_OES_standard_derivatives
        #extension GL_OES_standard_derivatives : enable
        #define ANTIALIASED_CONTOUR
    #endif

#else
    layout(location = 0) out vec4 fragColor;
    layout(location = 1) out vec4 fragId;
#endif


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
    #define texture(sampler, coord) texture2D(sampler, coord)
#else
    #define varying in
#endif



uniform int u_face;
uniform int u_layer;
uniform int u_arrows;

#ifdef DRAW_RESTRICTED
    
// @todo this file will be included from webgl-operate soon

const float one255ths = 1.0 / 255.0;

vec3 float24x1_to_uint8x3(const in float f) {
    vec3 uint8x3 = vec3(f, fract(f * 256.0), fract(f * 65536.0));
    return floor(uint8x3 * 256.0) * one255ths;
}

vec4 float24x1_to_uint8x4(const in float f) {
    vec4 uint8x4 = vec4(f, fract(f * 256.0), fract(f * 65536.0), fract(f * 16777216.0));
    return floor(uint8x4 * 256.0) * one255ths;
}

const vec3 premultUint8x3 = vec3(255.0 / 256.0, 255.0 / 65536.0, 255.0 / 16777216.0);
float uint8x3_to_float24x1(const in vec3 v) {
    return dot(v, premultUint8x3); // a1 * b1 + a2 * b2 + a3 * b3  ;)
}

const vec4 premultUint8x4 = vec4(255.0 / 256.0, 255.0 / 65536.0, 255.0 / 16777216.0, 255.0 / 4294967296.0);
float uint8x4_to_float24x1(const in vec4 v) {
    return dot(v, premultUint8x4); // a1 * b1 + a2 * b2 + a3 * b3 + a4 * b4  ;)
}

    uniform int u_attachment;
#endif


varying vec4 v_baseColor;
varying vec4 v_outlineColor;
varying vec4 v_arrowColor;

varying vec4 v_id;
varying vec4 v_uv;


void main(void)
{
#ifdef DRAW_RESTRICTED
    if(u_attachment == 0) {
#endif

    /* Compute the actual outline of a cuboid face based on texture coordinates. */
    vec2 awidth = fwidth(v_uv.st) * v_outlineColor[3];
    vec2 awidth2 = fwidth(v_uv.zw);

    vec4 ctest; /* Used for countour/ctest testing. */
    ctest.xy = step(v_uv.st - awidth.xy, vec2(0.0));
    ctest.zw = step(vec2(1.0), v_uv.st + awidth.xy);
    float outline = clamp(dot(ctest, vec4(1.0)), 0.0, 1.0);

    /* @todo optimize all this arrow pattern code. */
    float arrow = 0.0;
    if(u_arrows == 1 && u_face > 2 && u_layer > 0) {
        float d = abs(v_uv[2]) * 4.0;
        //outline = max(outline, step(1.0, mod(v_uv[3] * 4.0 + d, 2.0)));
        arrow = step(1.0, mod(v_uv[3] * 4.0 + d, 2.0));
        //outline = max(outline, step(1.0, mod(v_uv[3] * 250.0, 2.0)));
    } else {
        arrow = 0.0; //step(0.5, float(u_layer));
    }

    fragColor = mix(mix(v_baseColor, v_arrowColor, arrow), vec4(v_outlineColor.rgb, 1.0), outline);

#ifdef DRAW_RESTRICTED
    } else if(u_attachment == 1) {
#endif

    fragId = v_id;

#ifdef DRAW_RESTRICTED
    } else if(u_attachment == 2) {
        fragDepth = float24x1_to_uint8x3(gl_FragCoord.z);
    }
#endif
}
`},function(e,t,r){var n,a=this&&this.__extends||(n=function(_,v){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var o in c)Object.prototype.hasOwnProperty.call(c,o)&&(h[o]=c[o])})(_,v)},function(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function h(){this.constructor=_}n(_,v),_.prototype=v===null?Object.create(v):(h.prototype=v.prototype,new h)}),i=this&&this.__decorate||function(_,v,h,c){var o,l=arguments.length,s=l<3?v:c===null?c=Object.getOwnPropertyDescriptor(v,h):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(_,v,h,c);else for(var u=_.length-1;u>=0;u--)(o=_[u])&&(s=(l<3?o(s):l>3?o(v,h,s):o(v,h))||s);return l>3&&s&&Object.defineProperty(v,h,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.QuadGeometry=void 0;var d=r(0),m=function(_){function v(h,c){var o=_.call(this,h,c)||this;return c=c!==void 0&&c!==""?c:"QuadGeometry",o._vertices=new d.Buffer(h,c+"VertexVBO"),o._buffers.push(o._vertices),o._layout=new d.Buffer(h,c+"LayoutVBO"),o._buffers.push(o._layout),o._ids=new d.Buffer(h,c+"IdVBO"),o._buffers.push(o._ids),o._emphases=new d.Buffer(h,c+"EmphasisVBO"),o._buffers.push(o._emphases),o._colors=new d.Buffer(h,c+"ColorVBO"),o._buffers.push(o._colors),o}return a(v,_),v.prototype.bindBuffers=function(h){var c=this.context.gl,o=this.context.gl2facade;this._vertices.attribEnable(this._vertexLocation,2,c.FLOAT,!1,0,0,!0,!1),o.vertexAttribDivisor(this._vertexLocation,0),this._layout.attribEnable(this._layoutLocation,4,c.FLOAT,!1,0,0,!0,!1),o.vertexAttribDivisor(this._layoutLocation,1),this._ids.attribEnable(this._idLocation,4,c.UNSIGNED_BYTE,!1,0,0,!0,!1),o.vertexAttribDivisor(this._idLocation,1),this._emphases.attribEnable(this._emphasisLocation,1,c.UNSIGNED_BYTE,!1,0,0,!0,!1),o.vertexAttribDivisor(this._emphasisLocation,1),this._colors.attribEnable(this._colorLocation,1,c.UNSIGNED_BYTE,!1,0,0,!0,!1),o.vertexAttribDivisor(this._colorLocation,1)},v.prototype.unbindBuffers=function(h){this._vertices.attribDisable(this.vertexLocation,!1,!1),this._layout.attribDisable(this._layoutLocation,!1,!1),this._ids.attribDisable(this._idLocation,!1,!1),this._emphases.attribDisable(this._emphasisLocation,!1,!1),this._colors.attribDisable(this._colorLocation,!1,!1)},v.prototype.initialize=function(h,c,o,l,s){h===void 0&&(h=0),c===void 0&&(c=2),o===void 0&&(o=3),l===void 0&&(l=4),s===void 0&&(s=5),this._vertexLocation=h,this._idLocation=o,this._layoutLocation=c,this._colorLocation=s,this._emphasisLocation=l;var u=this.context.gl,f=_.prototype.initialize.call(this,[u.ARRAY_BUFFER,u.ARRAY_BUFFER,u.ARRAY_BUFFER,u.ARRAY_BUFFER,u.ARRAY_BUFFER]);return this._vertices.data(v.DATA,u.STATIC_DRAW),f&&this._vertices.valid},v.prototype.update=function(){this.bind()},v.prototype.draw=function(h,c){h===void 0&&(h=0),c===void 0&&(c=0);var o=this.context.gl,l=this.context.gl2facade;this._ids.attribEnable(this._idLocation,4,o.UNSIGNED_BYTE,!1,4,4*h,!0,!1),this._layout.attribEnable(this._layoutLocation,4,o.FLOAT,!1,16,16*h,!0,!1),this._colors.attribEnable(this._colorLocation,1,o.UNSIGNED_BYTE,!1,1,1*h,!0,!1),this._emphases.attribEnable(this._emphasisLocation,1,o.UNSIGNED_BYTE,!1,1,1*h,!0,!1),l.drawArraysInstanced(o.TRIANGLE_STRIP,0,4,c)},Object.defineProperty(v.prototype,"layout",{set:function(h){this._layout.data(h,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"ids",{set:function(h){this._ids.data(h,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"colors",{set:function(h){this._colors.data(h,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"emphases",{set:function(h){this._emphases.data(h,this.context.gl.STATIC_DRAW)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"valid",{get:function(){var h=this._layout&&this._layout.valid,c=this._ids&&this._ids.valid,o=this._colors&&this._colors.valid,l=this._emphases&&this._emphases.valid;return this.initialized&&this._vertices.valid&&h&&c&&o&&l},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"vertexLocation",{get:function(){return this._vertexLocation},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"layoutLocation",{get:function(){return this._layoutLocation},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"idLocation",{get:function(){return this._idLocation},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"emphasisLocation",{get:function(){return this._emphasisLocation},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"colorLocation",{get:function(){return this._colorLocation},enumerable:!1,configurable:!0}),v.DATA=new Float32Array([0,0,0,1,1,0,1,1]),i([d.Initializable.assert_initialized()],v.prototype,"draw",null),v}(d.Geometry);t.QuadGeometry=m},function(e,t){e.exports=`//*****************************************************************************
// seerene(tm) - A framework for analyzing and visualizing complex software systems.
// Copyright (C) 2005 - 2019 for all source codes:
// seerene(tm) GmbH, Potsdam, Germany
//*****************************************************************************

#if __VERSION__ == 100
    #extension GL_EXT_draw_buffers : enable
#endif

precision highp float;
precision lowp int;


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
#else 
    #define varying out
#endif


// @todo this file will be included from webgl-operate soon

void ndcOffset(inout vec4 vertex, in vec2 offset) {
    vertex.xy = offset * vec2(vertex.w) + vertex.xy;
}



#if __VERSION__ == 100

attribute vec2 a_vertex;
attribute vec4 a_layout; /* [ position: vec2, extent: vec2 ] */
attribute vec4 a_id; /* encoded uint32 id in byte4 */
attribute float a_color; /* color index as unsigned byte */
attribute float a_emphasis; /* emphasis mode as unsigned byte */

#else

/* Note: do not use layout location specifier, since they take precedence over CPU managed locations. */
in vec2 a_vertex;
in vec4 a_layout; /* [ position: vec2, extent: vec2 ] */
in vec4 a_id; /* encoded uint32 id in byte4 */
in float a_color; /* color index as unsigned byte */
in float a_emphasis; /* emphasis mode as unsigned byte */

#endif


uniform mat4 u_viewProjection;
uniform vec2 u_ndcOffset;

uniform vec4 u_colorTable[$ColorTableLength];

uniform float u_outlineWidth;
uniform float u_emphasisOutlineWidth;


varying vec4 v_baseColor;
varying vec4 v_outlineColor;
varying vec4 v_id;

varying vec2 v_uv;
varying vec4 v_layout;


const float ONE_OVER_255 = 1.0 / 255.0;

const float OUTLINE_LAMBERT_SCALE = 0.88; /* @todo expose to API */

const int EMPHASIS_COLOR_INDEX = 0;


void main(void)
{
    vec4 emphasisColor = u_colorTable[EMPHASIS_COLOR_INDEX];

    vec4 pos = vec4(a_layout[0], 0.0, a_layout[1], 0.0);
    vec4 ext = vec4(a_layout[2], 0.0, a_layout[3], 1.0);

    vec4 vertex = vec4(a_vertex.x, 0.0, a_vertex.y, 1.0) * ext + pos;

    v_uv = vertex.xz;
    v_layout = a_layout;
    v_id = a_id * ONE_OVER_255;

    vertex = u_viewProjection * vertex;

    /* If emphasis is < 2 use the color lookup, else apply outline color. */
    v_baseColor = mix(u_colorTable[int(a_color)], emphasisColor, step(2.0, a_emphasis));
    v_outlineColor.rgb = mix(v_baseColor.rgb, emphasisColor.rgb, step(1.0, a_emphasis));

    /* The default outline (emphasis = 0.0) should be a little bit darker, when in outline mode (emphasis = 1.0) the
    outline should remain unchanged (except for face lambda), and when highlighting (emphasis = 2.0) the outline is
    lightened a little bit (invere darkening lambda). The mix is utilized to create this. */
    v_outlineColor.rgb *= mix(OUTLINE_LAMBERT_SCALE, (1.0 / OUTLINE_LAMBERT_SCALE), a_emphasis * 0.5);

    /* The outline width is encoded within the alpha channel of the outline (special if emphasized). */
    v_outlineColor[3] = mix(u_emphasisOutlineWidth, u_outlineWidth, step(0.5, abs(a_emphasis - 1.0)));

    ndcOffset(vertex, u_ndcOffset);
    gl_Position = vertex;
}
`},function(e,t){e.exports=`//*****************************************************************************
// seerene(tm) - A framework for analyzing and visualizing complex software systems.
// Copyright (C) 2005 - 2019 for all source codes:
// seerene(tm) GmbH, Potsdam, Germany
//*****************************************************************************

precision highp float;
precision lowp int;

#if __VERSION__ == 100

    #ifdef GL_EXT_draw_buffers
        #extension GL_EXT_draw_buffers : enable
        #define fragColor gl_FragData[0].rgba
        #define fragId gl_FragData[1].xyzw
    #else
        #define DRAW_RESTRICTED
        #define fragColor gl_FragColor.rgba
        #define fragId gl_FragColor.xyzw
        #define fragDepth gl_FragColor.xyz
    #endif

    #ifdef GL_OES_standard_derivatives
        #extension GL_OES_standard_derivatives : enable
        #define ANTIALIASED_CONTOUR
    #endif

#else
    layout(location = 0) out vec4 fragColor;
    layout(location = 1) out vec4 fragId;
#endif


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
    #define texture(sampler, coord) texture2D(sampler, coord)
#else
    #define varying in
#endif



#ifdef DRAW_RESTRICTED
    
// @todo this file will be included from webgl-operate soon

const float one255ths = 1.0 / 255.0;

vec3 float24x1_to_uint8x3(const in float f) {
    vec3 uint8x3 = vec3(f, fract(f * 256.0), fract(f * 65536.0));
    return floor(uint8x3 * 256.0) * one255ths;
}

vec4 float24x1_to_uint8x4(const in float f) {
    vec4 uint8x4 = vec4(f, fract(f * 256.0), fract(f * 65536.0), fract(f * 16777216.0));
    return floor(uint8x4 * 256.0) * one255ths;
}

const vec3 premultUint8x3 = vec3(255.0 / 256.0, 255.0 / 65536.0, 255.0 / 16777216.0);
float uint8x3_to_float24x1(const in vec3 v) {
    return dot(v, premultUint8x3); // a1 * b1 + a2 * b2 + a3 * b3  ;)
}

const vec4 premultUint8x4 = vec4(255.0 / 256.0, 255.0 / 65536.0, 255.0 / 16777216.0, 255.0 / 4294967296.0);
float uint8x4_to_float24x1(const in vec4 v) {
    return dot(v, premultUint8x4); // a1 * b1 + a2 * b2 + a3 * b3 + a4 * b4  ;)
}

    uniform int u_attachment;
#endif


varying vec4 v_baseColor;
varying vec4 v_outlineColor;
varying vec4 v_id;

varying mediump vec2 v_uv;
varying mediump vec4 v_layout;


void main(void)
{
#ifdef DRAW_RESTRICTED
    if(u_attachment == 0) {
#endif

    /* Compute the actual outline of a cuboid face based on texture coordinates. */
    vec2 awidth = fwidth(v_uv.st) * v_outlineColor[3];

    vec4 ctest; /* Used for countour/ctest testing. */
    ctest.xy = step((v_uv.st - v_layout.xy) - awidth.xy, vec2(0.0));
    ctest.zw = step(vec2(0.0), (v_uv.st - v_layout.xy) - v_layout.zw + awidth.xy);
    float outline = clamp(dot(ctest, vec4(1.0)), 0.0, 1.0);

    fragColor = mix(v_baseColor, vec4(v_outlineColor.rgb, 1.0), outline);

#ifdef DRAW_RESTRICTED
    } else if(u_attachment == 1) {
#endif

    fragId = v_id;

#ifdef DRAW_RESTRICTED
    } else if(u_attachment == 2) {
        fragDepth = float24x1_to_uint8x3(gl_FragCoord.z);
    }
#endif
}
`},function(e,t,r){var n,a=this&&this.__extends||(n=function(v,h){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,o){c.__proto__=o}||function(c,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(c[l]=o[l])})(v,h)},function(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function c(){this.constructor=v}n(v,h),v.prototype=h===null?Object.create(h):(c.prototype=h.prototype,new c)}),i=this&&this.__decorate||function(v,h,c,o){var l,s=arguments.length,u=s<3?h:o===null?o=Object.getOwnPropertyDescriptor(h,c):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(v,h,c,o);else for(var f=v.length-1;f>=0;f--)(l=v[f])&&(u=(s<3?l(u):s>3?l(h,c,u):l(h,c))||u);return s>3&&u&&Object.defineProperty(h,c,u),u};Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenAlignedQuadGeometry=void 0;var d=r(0),m=r(0).auxiliaries.assert,_=function(v){function h(c,o){var l=v.call(this,c,o)||this;return m(c.isWebGL2||c.supportsInstancedArrays,"expected extension 'ANGLE_instanced_arrays' to be supported"),o=o!==void 0&&o!==""?o:"ScreenAlignedQuadGeometry",l._vertices=new d.Buffer(c,o+"VertexVBO"),l._buffers.push(l._vertices),l._origins=new d.Buffer(c,o+"OriginVBO"),l._buffers.push(l._origins),l._extents=new d.Buffer(c,o+"ExtentVBO"),l._buffers.push(l._extents),l._offsets=new d.Buffer(c,o+"OffsetVBO"),l._buffers.push(l._offsets),l._pointyCorners=new d.Buffer(c,o+"PointyCornerVBO"),l._buffers.push(l._pointyCorners),l}return a(h,v),h.prototype.bindBuffers=function(c){var o=this.context.gl,l=this.context.gl2facade;this._vertices.attribEnable(this._vertexLocation,2,o.FLOAT,!1,8,0,!0,!1),l.vertexAttribDivisor(this._vertexLocation,0),this._origins.attribEnable(this._originLocation,3,o.FLOAT,!1,12,0,!0,!1),l.vertexAttribDivisor(this._originLocation,1),this._extents.attribEnable(this._extentLocation,2,o.FLOAT,!1,8,0,!0,!1),l.vertexAttribDivisor(this._extentLocation,1),this._offsets.attribEnable(this._offsetLocation,2,o.FLOAT,!1,8,0,!0,!1),l.vertexAttribDivisor(this._offsetLocation,1),this._pointyCorners.attribEnable(this._pointyCornerLocation,1,o.UNSIGNED_BYTE,!1,1,0,!0,!1),l.vertexAttribDivisor(this._pointyCornerLocation,1)},h.prototype.unbindBuffers=function(c){this._vertices.attribDisable(this._vertexLocation,!1,!1),this._origins.attribDisable(this._originLocation,!1,!1),this._extents.attribDisable(this._extentLocation,!1,!1),this._offsets.attribDisable(this._offsetLocation,!1,!1),this._pointyCorners.attribDisable(this._pointyCornerLocation,!1,!1)},h.prototype.initialize=function(c,o,l,s,u){c===void 0&&(c=0),o===void 0&&(o=1),l===void 0&&(l=2),s===void 0&&(s=3),u===void 0&&(u=4),this._vertexLocation=c,this._originLocation=o,this._extentLocation=l,this._offsetLocation=s,this._pointyCornerLocation=u;var f=this.context.gl,g=v.prototype.initialize.call(this,[f.ARRAY_BUFFER,f.ARRAY_BUFFER,f.ARRAY_BUFFER,f.ARRAY_BUFFER,f.ARRAY_BUFFER]);return this._vertices.data(h.VERTICES,f.STATIC_DRAW),g&&this._vertices.valid},h.prototype.updateData=function(c,o,l,s){this.bind(),this._count=c.length/3,this._origins.data(c,this.context.gl.STATIC_DRAW),this._extents.data(o,this.context.gl.STATIC_DRAW),this._offsets.data(l,this.context.gl.STATIC_DRAW),this._pointyCorners.data(s,this.context.gl.STATIC_DRAW)},h.prototype.update=function(){this.bind()},h.prototype.draw=function(c){if(c===void 0&&(c=0),this._count){var o=this.context.gl,l=this.context.gl2facade;this._vertices.attribEnable(this._vertexLocation,2,o.FLOAT,!1,8,0,!0,!1),this._origins.attribEnable(this._originLocation,3,o.FLOAT,!1,12,12*c,!0,!1),this._extents.attribEnable(this._extentLocation,2,o.FLOAT,!1,8,8*c,!0,!1),this._offsets.attribEnable(this._offsetLocation,2,o.FLOAT,!1,8,8*c,!0,!1),this._pointyCorners.attribEnable(this._pointyCornerLocation,1,o.UNSIGNED_BYTE,!1,1,1*c,!0,!1),l.drawArraysInstanced(o.TRIANGLE_STRIP,0,4,this._count)}},Object.defineProperty(h.prototype,"valid",{get:function(){return this.initialized&&this._vertices.valid&&this._origins&&this._origins.valid&&this._offsets&&this._offsets.valid&&this._extents&&this._extents.valid&&this._pointyCorners&&this._pointyCorners.valid},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"vertexLocation",{get:function(){return this._vertexLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"originLocation",{get:function(){return this._originLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"extentLocation",{get:function(){return this._extentLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"offsetLocation",{get:function(){return this._offsetLocation},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"pointyCornerLocation",{get:function(){return this._pointyCornerLocation},enumerable:!1,configurable:!0}),h.VERTICES=new Float32Array([0,0,0,1,1,0,1,1]),i([d.Initializable.assert_initialized()],h.prototype,"draw",null),h}(d.Geometry);t.ScreenAlignedQuadGeometry=_},function(e,t){e.exports=`//*****************************************************************************
// seerene(tm) - A framework for analyzing and visualizing complex software systems.
// Copyright (C) 2005 - 2019 for all source codes:
// seerene(tm) GmbH, Potsdam, Germany
//*****************************************************************************

precision highp float;
precision lowp int;


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
#else 
    #define varying out
#endif


// @todo this file will be included from webgl-operate soon

void ndcOffset(inout vec4 vertex, in vec2 offset) {
    vertex.xy = offset * vec2(vertex.w) + vertex.xy;
}



#if __VERSION__ == 100

#extension GL_EXT_draw_buffers : enable
attribute vec2 a_vertex;
attribute vec3 a_origin;
attribute vec2 a_extent;
attribute vec2 a_offset;
attribute float a_pointyCorner;

#else

in vec2 a_vertex;
in vec3 a_origin;
in vec2 a_extent;
in vec2 a_offset;
in float a_pointyCorner; // pointy corner number as 1: ll, 2: ul, 3: lr, 4: ur

#endif

uniform vec2 u_ndcOffset;
uniform mat4 u_viewProjection;
uniform float u_aspectRatio;

varying float v_radius;
varying vec2 v_uv; // values in range [0, v_extent]
varying vec2 v_extent;
varying float v_pointyCornerLeft; // 0 for right, 1 for left
varying float v_pointyCornerBottom; // 0 for top, 1 for bottom

/**
 * Returns accurate MOD when arguments are approximate integers.
 * Source: https://stackoverflow.com/a/36078859
 */
float modI(float a, float b) {
    float m = a - floor((a + 0.5) / b) * b;
    return floor(m + 0.5);
}

void main(void)
{
    v_pointyCornerLeft = step(a_pointyCorner, 2.0);
    v_pointyCornerBottom = modI(a_pointyCorner, 2.0);

    /* POSITIONING */
    /* quad data as flat array: [0, 0,  0, 1,  1, 0,  1, 1] (a_vertex), which translates to ll, lr, ul, ur corners.
     * 2-------4
     * |  \\    |
     * |    \\  |
     * 1-------3
     * The current vertex is calculated based on the current quad corners and the extent attributes.
     */

    vec2 extent = a_extent;
    vec2 offset = a_offset;

    // apply more extent to make space for rounded corners (see fragment shader for more information)
    float radius = extent.y * u_aspectRatio * 0.5;
    extent.x += radius;
    offset.x -= mix(radius, 0.0, step(a_pointyCorner, 2.0));

    v_extent = vec2(extent.x, extent.y * u_aspectRatio);
    v_uv = a_vertex * vec2(extent.x, extent.y * u_aspectRatio);
    v_radius = radius;

    vec4 origin = u_viewProjection * vec4(a_origin, 1.0);
    vec2 originNDC = vec2(origin.x / origin.w, origin.y / origin.w);
    vec4 vertex = vec4(originNDC + a_vertex * extent + offset, origin.z/origin.w, 1.0);

    ndcOffset(vertex, u_ndcOffset);
    gl_Position = vertex;
}
`},function(e,t){e.exports=`//*****************************************************************************
// seerene(tm) - A framework for analyzing and visualizing complex software systems.
// Copyright (C) 2005 - 2019 for all source codes:
// seerene(tm) GmbH, Potsdam, Germany
//*****************************************************************************

precision highp float;
precision lowp int;

#if __VERSION__ == 100
    #define fragColor gl_FragColor
#else
    layout(location = 0) out vec4 fragColor;
#endif


// @todo this file will be included from webgl-operate soon

#if __VERSION__ == 100
    #define texture(sampler, coord) texture2D(sampler, coord)
#else
    #define varying in
#endif


varying float v_radius;
varying vec2 v_uv; // values in range [0, v_extent]
varying vec2 v_extent;
varying float v_pointyCornerLeft; // 0 for right, 1 for left
varying float v_pointyCornerBottom; // 0 for top, 1 for bottom

const float ALPHA = 0.8;
const vec3 COLOR = vec3(1.0);

void main(void)
{
    /* Instead of rendering normal quads, we want to render each quad with rounded corners, so that the
     * quads have the shape of a 2D "pill". Moreover, there will be one corner that retains its pointy
     * shape (in summary, a quad will look like a very simplified speech bubble.)
     * To get the rounded sides of the pill, we will use 2 circles (one left, one right) with the radius
     * \`v_radius\`, which is half of the quads's vertical extent.
     * This code is optimized to avoid conditioned branching (if-else), and uses * and + instead of
     * && and ||, respectively.
     */

    // middle points of the circle we use to calculate the rounded corners
    vec2 mLeft =  vec2(v_radius);
    vec2 mRight = vec2(v_extent.x - v_radius, v_radius);

    // define where the borders start, so that we use the correct half of the circle
    float borderLeft =   step(v_uv.x, mLeft.x);
    float borderBottom = step(v_uv.y, mLeft.y);
    float borderRight =  step(mRight.x, v_uv.x);
    float borderTop =    step(mRight.y, v_uv.y);

    float alphaLeft =  step(v_radius, distance(v_uv, mLeft))  * borderLeft;
    float alphaRight = step(v_radius, distance(v_uv, mRight)) * borderRight;

    // If we combine both alphaLeft and alphaRight, we get the pill shape. However, we want one corner
    // to stay pointy, so we separate the alpha by the 4 border areas:
    float alphaLeftBottom =  alphaLeft  * borderBottom;
    float alphaLeftTop =     alphaLeft  * borderTop;
    float alphaRightBottom = alphaRight * borderBottom;
    float alphaRightTop =    alphaRight * borderTop;

    // don't apply the rounded corner where the pointy corner should be
    float pointyLeftBottom =         v_pointyCornerLeft  *        v_pointyCornerBottom;
    float pointyLeftTop =            v_pointyCornerLeft  * (1.0 - v_pointyCornerBottom);
    float pointyRightBottom = (1.0 - v_pointyCornerLeft) *        v_pointyCornerBottom;
    float pointyRightTop =    (1.0 - v_pointyCornerLeft) * (1.0 - v_pointyCornerBottom);

    // based on where the 3 rounded corners should be, we want to "cut away" certain fragments
    float shouldBeCutAway = sign(
          alphaLeftBottom  * (1.0 - pointyLeftBottom)
        + alphaLeftTop     * (1.0 - pointyLeftTop)
        + alphaRightBottom * (1.0 - pointyRightBottom)
        + alphaRightTop    * (1.0 - pointyRightTop));

    float alpha = mix(ALPHA, 0.0, shouldBeCutAway);
    fragColor = vec4(COLOR, alpha);
}
`},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var n=function(){function a(i){i===void 0&&(i=1),this._deltaTime=0,this._totalTime=0,this._paused=!1,this._pauseStart=0,this._timeMultiplier=1,this._timeMultiplier=i,this._updateCallback=function(){}}return a.prototype.pause=function(){this._paused||(this._pauseStart=window.performance.now(),this._paused=!0)},a.prototype.unpause=function(){if(this._paused){var i=window.performance.now()-this._pauseStart;this._lastUpdate&&(this._lastUpdate+=i),this._paused=!1}},Object.defineProperty(a.prototype,"isPaused",{get:function(){return this._paused},enumerable:!1,configurable:!0}),a.prototype.update=function(){if(this._paused)return 0;var i=window.performance.now();return this._deltaTime=this._lastUpdate?(i-this._lastUpdate)*this._timeMultiplier:0,this._totalTime+=this._deltaTime,this._lastUpdate=i,this._updateCallback(),this._deltaTime},a.prototype.updateFixed=function(i){if(!this._paused){var d=window.performance.now();this._deltaTime=i*this._timeMultiplier,this._totalTime+=this._deltaTime,this._lastUpdate=d,this._updateCallback()}},a.prototype.reset=function(){this.updateFixed(0),this.totalTime=0},Object.defineProperty(a.prototype,"deltaTime",{get:function(){return this._deltaTime},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"totalTime",{get:function(){return this._totalTime},set:function(i){this._totalTime=i},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"timeMultiplier",{get:function(){return this._timeMultiplier},set:function(i){this._timeMultiplier=i},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"onUpdate",{set:function(i){this._updateCallback=i},enumerable:!1,configurable:!0}),a}();t.Timer=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeTransformations=void 0;var n=r(0),a=n.auxiliaries.assert,i=n.auxiliaries.log,d=n.auxiliaries.logIf,m=n.auxiliaries.LogLevel,_=r(1),v=r(7),h=r(3);(function(c){c.normalization_backup=function(o,l){var s,u=new Array(o.numberOfNodes);if(l.topology.format===h.Topology.InputFormat.Interleaved){var f=l.topology.edges,g=2*(o.numberOfNodes-1);d(f.length!==g,m.Warning,"expected an edgelist of size "+g+" instead of "+f.length),s=function(w){var S=2*(w-1);return a(S<f.length,"expected an index within the ranges of edges but got "+w),S<f.length?[f[S+0],f[S+1]]:[v.Node.INVALID_INDEX,v.Node.INVALID_INDEX]}}else{var y=l.topology.edges;g=o.numberOfNodes-1,d(y.length!==g,m.Warning,"expected an edgelist of size "+g+" instead of "+y.length),s=function(w){return a(w-1<y.length,"expected an index within the ranges of edges but got"+w),w-1<y.length?y[w-1]:[v.Node.INVALID_INDEX,v.Node.INVALID_INDEX]}}u[0]=0;for(var b=1;b<o.numberOfNodes;b++){var E=void 0,x=s(b);b+1<o.numberOfNodes?E=s(b+1)[0]===x[1]?o.innerNodeIndexById(x[1]):o.leafNodeIndexById(x[1]):E=o.leafNodeIndexById(x[1]),a(E!==void 0,"expected a valid index, given "+E+" for "+x[1]),u[b]=E}return u},c.renormalize=function(o,l){var s=new Float32Array(l.length);d(l.length!==o.length,m.Warning,"expected value buffer to be sized with the number of nodes but got "+o.length+" instead of "+l.length);for(var u=0;u<s.length;++u)s[l[u]]=o[u];return s},c.renormalize_using_intermediate_linearization=function(o,l,s){var u=new Float32Array(s.length);switch(u.fill(NaN),l.type){case _.AttributeBuffer.LinearizationMapping.IdMapping:a(!1,"Id-Mapping not yet implemented");break;case _.AttributeBuffer.LinearizationMapping.IndexMapping:for(var f=0;f<o.length;++f){var g=l.mapping[f];g!==void 0&&(u[s[g]]=o[f])}}return u},c.applyTransformations=function(o,l,s,u,f){for(var g=0,y=u;g<y.length;g++){var b=y[g];switch(b.type){case"normalize":c.applyNormalization(o,s,b);break;case"range-transform":c.applyRangeTransform(o,s,b);break;case"propagate-up":c.applyPropagation(o,s,b);break;case"fill-invalid":c.applyFill(o,s,b);break;case"mask":c.applyMask(o,s,b);break;case"clamp":c.applyClamp(o,s,b);break;case"threshold":c.applyThreshold(o,s,b);break;case"compare":c.applyCompare(o,s,b);break;case"transform":c.applyTransform(o,l,s,b,f);break;case"discretize":c.applyDiscretization(o,s,b);break;case"callback":c.applyCallback(o,s,b)}}return s},c.applyNormalization=function(o,l,s){if(o.numberOfLeafNodes!==0){var u=0,f=1;switch(s.operation){case"zero-to-max":var g;o.forEachLeafNode(function(x){var w=l[x.index];g=g===void 0?w:Math.max(g,w)}),a(g!==void 0,"Valid max expected"),g===void 0&&(g=1),u=0,f=1/g;break;case"min-to-max":var y,b;o.forEachLeafNode(function(x){var w=l[x.index];y=y===void 0?w:Math.max(y,w),b=b===void 0?w:Math.min(b,w)}),a(y!==void 0,"Valid max expected"),a(b!==void 0,"Valid min expected"),b===void 0&&(b=0),y===void 0&&(y=1),u=-b,f=1/(y-b);break;case"sign-agnostic-max":var E;o.forEachLeafNode(function(x){var w=Math.abs(l[x.index]);E=E===void 0?w:Math.max(E,w)}),a(E!==void 0,"Valid max expected"),E===void 0&&(E=1),u=0,f=1/E}l.forEach(function(x,w){l[w]=(l[w]+u)*f})}},c.applyRangeTransform=function(o,l,s){if(o.numberOfLeafNodes!==0&&s.sourceRange!==void 0&&s.targetRange!==void 0)for(var u=s.sourceRange,f=s.targetRange,g=-u[0],y=f[0],b=u[1]===u[0]?0:(f[1]-f[0])/(u[1]-u[0]),E=0;E<l.length;E++)l[E]<u[0]?l[E]=-1:l[E]=y+(l[E]+g)*b},c.applyPropagation=function(o,l,s){if(o.numberOfLeafNodes!==0)switch(s.operation){case"average":o.reverseParentsDo(function(u){var f=0,g=0;o.childrenDo(u,function(y){var b=l[y.index];f+=b,++g}),l[u.index]=g===0?0:f/g});break;case"sum":o.reverseParentsDo(function(u){var f=0;o.childrenDo(u,function(g){var y=l[g.index];f+=y}),l[u.index]=f});break;case"min":o.reverseParentsDo(function(u){var f;o.childrenDo(u,function(g){var y=l[g.index];f=f===void 0?y:Math.min(y,f)}),f===void 0&&(f=0),l[u.index]=f});break;case"max":o.reverseParentsDo(function(u){var f;o.childrenDo(u,function(g){var y=l[g.index];f=f===void 0?y:Math.max(y,f)}),f===void 0&&(f=0),l[u.index]=f});break;case"median":o.reverseParentsDo(function(u){var f=new Array;o.childrenDo(u,function(g){var y=l[g.index];f.push(y)}),f.sort(),f.length%2==0?l[u.index]=(f[f.length/2]+f[f.length/2])/2:l[u.index]=f[f.length/2]});break;case"closest-to-zero":o.reverseParentsDo(function(u){var f;o.childrenDo(u,function(g){var y=l[g.index];(f===void 0||Math.abs(y)<Math.abs(f))&&(f=y)}),f===void 0&&(f=0),l[u.index]=f});break;case"closest-to-infinity":o.reverseParentsDo(function(u){var f;o.childrenDo(u,function(g){var y=l[g.index];(f===void 0||Math.abs(y)>Math.abs(f))&&(f=y)}),f===void 0&&(f=0),l[u.index]=f});break;default:i(m.Warning,"Transformation type not recognized.")}},c.applyFill=function(o,l,s){var u=s.value,f="invalidValue"in s?s.invalidValue:void 0;o.nodesDo(function(g){l[g.index]===f&&(l[g.index]=u)})},c.applyClamp=function(o,l,s){var u,f;"range"in s?(u=s.range[0],f=s.range[0]):(u=s.min,f=s.max),a(u<=f,"Require valid min-max range."),o.nodesDo(function(g){var y=l[g.index];y!==void 0&&(l[g.index]=Math.min(f,Math.max(u,y)))})},c.applyMask=function(o,l,s){var u=s.value;o.nodesDo(function(f){l[f.index]=l[f.index]===u?1:0})},c.applyThreshold=function(o,l,s){var u=s.value;o.nodesDo(function(f){l[f.index]=l[f.index]>=u?1:0})},c.applyCompare=function(o,l,s){var u=s.value;o.nodesDo(function(f){l[f.index]=l[f.index]>u?1:l[f.index]<u?-1:0})},c.applyTransform=function(o,l,s,u,f){var g=u.operation,y=u.parameter,b=u.buffer,E=function(w){return y};if(b!==void 0){var x=_.AttributeBuffer.create(o,l,b,f);x!==void 0&&(E=function(w){return x[w.index]})}switch(g){case"min":o.nodesDo(function(w){s[w.index]=Math.min(s[w.index],E(w))});break;case"max":o.nodesDo(function(w){s[w.index]=Math.max(s[w.index],E(w))});break;case"add":o.nodesDo(function(w){s[w.index]=s[w.index]+E(w)});break;case"subtract":o.nodesDo(function(w){s[w.index]=s[w.index]-E(w)});break;case"multiply":o.nodesDo(function(w){s[w.index]=s[w.index]*E(w)});break;case"divide":o.nodesDo(function(w){s[w.index]=s[w.index]/E(w)});break;case"inverse":o.nodesDo(function(w){s[w.index]=1/s[w.index]});break;case"pow":o.nodesDo(function(w){s[w.index]=Math.pow(s[w.index],E(w))});break;case"nth-root":o.nodesDo(function(w){var S=1/E(w);s[w.index]=Math.pow(s[w.index],S)});break;case"log":y!==void 0&&y!==0?o.nodesDo(function(w){var S=Math.log(E(w));s[w.index]=Math.log(s[w.index])/S}):o.nodesDo(function(w){s[w.index]=Math.log(s[w.index])});break;case"square":o.nodesDo(function(w){s[w.index]=Math.pow(s[w.index],2)});break;case"square-root":o.nodesDo(function(w){s[w.index]=Math.sqrt(s[w.index])});break;case"as-multiplier":o.nodesDo(function(w){s[w.index]=Math.abs(s[w.index])});break;case"as-remainder":o.nodesDo(function(w){s[w.index]=1-Math.abs(s[w.index])});break;case"abs":o.nodesDo(function(w){s[w.index]=Math.abs(s[w.index])});break;case"compare":o.nodesDo(function(w){var S=s[w.index],O=E(w);s[w.index]=S<O?-1:S>O?1:0});break;default:return}},c.applyDiscretization=function(o,l,s){a(!1,"Implementation missing")},c.applyCallback=function(o,l,s){var u=s.operation;switch(s.iteration){case h.Topology.IterationDirection.TopDown:o.nodesDo(function(f){l[f.index]=u(l[f.index],f,l,o)});break;case h.Topology.IterationDirection.DepthFirst:o.reverseNodesDo(function(f){l[f.index]=u(l[f.index],f,l,o)});break;case h.Topology.IterationDirection.BottomUp:default:o.depthFirstDo(function(f){l[f.index]=u(l[f.index],f,l,o)})}}})(t.AttributeTransformations||(t.AttributeTransformations={}))},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Linearization=void 0;var n=function(){function a(){this._slices=[]}return a.prototype.clear=function(){this._slices=[]},a.prototype.slice=function(i){if(!(i<0||i>=this._slices.length))return this._slices[i]},a.prototype.startSlice=function(i){this._slices.push([i,i])},a.prototype.endSlice=function(i){this._slices[this._slices.length-1][1]=i},a.prototype.nextSlice=function(i){this.endSlice(i-1),this.startSlice(i)},a.prototype.addSliceByRange=function(i,d){this._slices.push([i,d])},a.prototype.addSliceByLength=function(i){if(this.length!==0){var d=this._slices[this._slices.length-1][1];this._slices.push([d+1,d+i])}else this._slices.push([0,i-1])},a.prototype.sliceDo=function(i,d){if(!(i<0||i>=this._slices.length)){var m=this._slices[i];d(m[0],m[1])}},a.prototype.slicesDo=function(i){for(var d=0,m=this._slices;d<m.length;d++){var _=m[d];i(_[0],_[1])}},Object.defineProperty(a.prototype,"slices",{get:function(){return this._slices},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"numberOfInnerNodes",{get:function(){return this._slices[this._slices.length-1][0]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"numberOfLeafNodes",{get:function(){return this.numberOfNodes-this.numberOfInnerNodes},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"numberOfNodes",{get:function(){return this._slices[this._slices.length-1][1]+1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"length",{get:function(){return this._slices.length},enumerable:!1,configurable:!0}),a}();t.Linearization=n},function(e){e.exports=JSON.parse(`{"$schema":"http://json-schema.org/draft-06/schema#","title":"Treemap Configuration Schema","description":"JSON schema for a treemap configuration object, targeting the treemap typescript module.","type":"object","properties":{"topology":{"type":"object","properties":{"format":{"type":"string","enum":["interleaved","tupled"],"default":"interleaved"},"semantics":{"type":"string","enum":["parent-id-id","parent-index-id"],"default":"parent-id-id"},"edges":{"type":"array","items":{"anyOf":[{"type":"integer","minimum":0},{"type":"array","items":{"type":"integer","minimum":0},"minItems":2,"maxItems":2,"uniqueItems":true}]}}},"required":["edges"],"additionalProperties":false},"buffers":{"type":"array","items":{"type":"object","properties":{"identifier":{"type":"string"},"type":{"type":"string","enum":["numbers","uint8","uint16","int16","uint32","int32","float32","float64"]},"encoding":{"type":"string","enum":["base64","native"],"default":"native"},"data":{"anyOf":[{"type":"array","items":{"type":"number"}},{"type":"Uint8Array"},{"type":"Uint16Array"},{"type":"Int16Array"},{"type":"Uint32Array"},{"type":"Int32Array"},{"type":"Float32Array"},{"type":"Float64Array"}]},"linearization":{"anyOf":[{"type":"string","enum":["topology","identity"]},{"type":"object","properties":{"type":{"type":"string","enum":["id-mapping","index-mapping"]},"mapping":{"type":"array","items":{"type":"integer"}}},"required":["type","mapping"],"additionalProperties":false}],"default":"topology"}},"required":["identifier","type","data"],"additionalProperties":false}},"bufferViews":{"type":"array","items":{"type":"object","properties":{"identifier":{"type":"string"},"source":{"$ref":"/BufferReference"},"transformations":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"type":{"type":"string","enum":["propagate-up"]},"operation":{"type":"string","enum":["average","sum","min","max","median","closest-to-zero","closest-to-infinity"]},"weight":{"$ref":"/BufferReference"}},"required":["type","operation"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["fill-invalid"]},"value":{"type":"number"},"invalidValue":{"anyOf":[{"type":"number"},{"type":"null"}]}},"required":["type","value"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["mask"]},"value":{"type":"number"}},"required":["type","value"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["clamp"]},"min":{"type":"number"},"max":{"type":"number"}},"required":["type","min","max"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["clamp"]},"range":{"type":"array","items":{"type":"number"},"minItems":2,"maxItems":2}},"required":["type","range"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["range-transform"]},"sourceRange":{"type":"array","items":{"type":"number"},"minItems":2,"maxItems":2},"targetRange":{"type":"array","items":{"type":"number"},"minItems":2,"maxItems":2}},"required":["type","sourceRange","targetRange"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["normalize"]},"operation":{"type":"string","enum":["zero-to-max","min-to-max","sign-agnostic-max"]}},"required":["type","operation"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["threshold"]},"value":{"type":"number"}},"required":["type","value"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["compare"]},"value":{"type":"number"}},"required":["type","value"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["transform"]},"operation":{"type":"string","enum":["add","subtract","multiply","divide","inverse","pow","nth-root","log","square","square-root","as-multiplier","as-remainder","abs"]},"parameter":{"type":"number","default":0},"buffer":{"$ref":"/BufferReference"}},"required":["type","operation"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["discretize"]},"operation":{"type":"string","enum":["quantiles","quartiles"]}},"required":["type","operation"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["discretize"]},"percentiles":{"type":"array","items":{"type":"number"}}},"required":["type","percentiles"],"additionalProperties":false},{"type":"object","properties":{"type":{"type":"string","enum":["callback"]}},"required":["type","operation"],"additionalProperties":true}]}}},"required":["identifier","source"],"additionalProperties":false}},"colors":{"type":"array","items":{"type":"object","properties":{"identifier":{"type":"string"},"space":{"type":"string","enum":["rgb","hsl","lab","cmyk","hex"],"description":"The color space is based on supported webgl-operate color spaces.","default":"hex"},"value":{"oneOf":[{"type":"array","minItems":3,"maxItems":5,"items":{"type":"number","minimum":0,"maximum":1}},{"type":"string","pattern":"^(#|0x)?(([0-9a-f]{3}){1,2}|([0-9a-f]{4}){1,2})$"}]},"values":{"type":"array","minItems":2,"items":{"oneOf":[{"type":"array","minItems":3,"maxItems":5,"items":{"type":"number","minimum":0,"maximum":1}},{"type":"string","pattern":"^(#|0x)?(([0-9a-f]{3}){1,2}|([0-9a-f]{4}){1,2})$"}]}}},"required":["identifier","space"],"oneOf":[{"type":"object","required":["value"]},{"type":"object","required":["values"]}],"additionalProperties":false}},"layout":{"type":"object","properties":{"algorithm":{"type":"string","enum":["strip","snake","codecity"]},"weight":{"$ref":"/BufferReference"},"aspectRatio":{"type":"number","exclusiveMinimum":0,"default":1},"sort":{"type":"object","properties":{"algorithm":{"type":"string","enum":["ascending","descending","keep"],"default":"keep"},"key":{"anyOf":[{"type":"string","enum":["identity","weight"]},{"$ref":"/BufferReference"}],"default":"identity"}},"required":["algorithm"],"additionalProperties":false},"siblingMargin":{"type":"object","properties":{"type":{"type":"string","enum":["relative","absolute"],"default":"relative"},"value":{"anyOf":[{"$ref":"/BufferReference"},{"type":"number","minimum":0}],"default":0}},"required":["type","value"],"additionalProperties":false},"parentPadding":{"type":"object","properties":{"type":{"type":"string","enum":["relative","absolute","mixed"],"default":"relative"},"value":{"anyOf":[{"$ref":"/BufferReference"},{"type":"number","minimum":0},{"type":"array","items":{"type":"number","minimum":0},"minItems":1}],"default":0}},"required":["type","value"],"additionalProperties":false},"accessoryPadding":{"type":"object","properties":{"type":{"type":"string","enum":["relative","absolute"],"default":"absolute"},"direction":{"type":"string","enum":["top","left","bottom","right"],"default":"bottom"},"value":{"anyOf":[{"type":"number","minimum":0},{"type":"array","items":{"type":"number","minimum":0},"minItems":1}]},"relativeAreaThreshold":{"anyOf":[{"type":"number","minimum":0},{"type":"array","items":{"type":"number","minimum":0},"minItems":1}],"default":0},"targetAspectRatio":{"anyOf":[{"type":"number","minimum":0},{"type":"null"}],"default":null}},"required":["value"],"additionalProperties":false},"cascade":{"type":"boolean","default":false},"flattenDirectories":{"type":"boolean","description":"Flatten directories while computing the layout. Also known as 'directory pruning'.","default":false}},"required":["algorithm","weight"],"additionalProperties":false},"geometry":{"type":"object","properties":{"parentLayer":{"type":"object","properties":{"colorMap":{"$ref":"/ColorReference","default":"color:inner"},"showRoot":{"type":"boolean","default":false}},"additionalProperties":false},"leafLayers":{"type":"array","items":{"type":"object","properties":{"colorMap":{"$ref":"/ColorReference","default":"color:leaf"},"colorScheme":{"$ref":"/ColorScheme"},"height":{"$ref":"/BufferReference"},"colors":{"$ref":"/BufferReference"},"areaScale":{"$ref":"/BufferReference"}},"additionalProperties":false}},"aggregation":{"type":"object","properties":{"buffer":{"$ref":"/BufferReference"},"depthThreshold":{"type":"number","minimum":0,"default":1},"valueThreshold":{"type":"number","default":0}},"required":["buffer"],"additionalProperties":false},"auxiliary":{"$ref":"/ColorReference","default":"color:auxiliary"},"emphasis":{"type":"object","properties":{"outline":{"type":"array","items":{"type":"integer","minimum":0},"uniqueItems":true},"highlight":{"type":"array","items":{"type":"integer","minimum":0},"uniqueItems":true},"color":{"$ref":"/ColorReference","default":"color:emphasis"},"outlineWidth":{"type":"number","minimum":0,"description":"unit: device-independent pixel","default":1.6}},"additionalProperties":false},"heightScale":{"anyOf":[{"type":"string","enum":["SomethingInverseSqrt"]},{"type":"number"}],"default":0.125},"levitate":{"type":"number","minimum":0,"default":0,"description":"unit: device-independent pixel"},"outlineWidth":{"type":"number","minimum":0,"description":"unit: native pixel","default":0.8}},"required":["parentLayer"],"additionalProperties":false},"labels":{"type":"object","properties":{"names":{"$ref":"/BufferReference"},"additionallyLabelSet":{"type":"array","items":{"type":"number","minimum":0}},"innerNodeLayerRange":{"type":"array","items":{"type":"number","minimum":0},"minItems":2,"maxItems":2,"default":[1,2]},"numTopInnerNodes":{"type":"number","minimum":0,"default":0},"numTopWeightNodes":{"type":"number","minimum":0,"default":0},"numTopHeightNodes":{"type":"number","minimum":0,"default":0},"numTopColorNodes":{"type":"number","minimum":0,"default":0}},"required":[]},"animations":{"type":"array","items":{"type":"object","properties":{"layer":{"type":"number","minimum":0,"maximum":1,"default":0},"height":{"type":"object","properties":{"buffers":{"type":"array","items":{"$ref":"/BufferReference"},"minItems":2},"delaySpread":{"type":"number","minimum":0},"timestamps":{"type":"array","items":{"type":"number","minimum":0},"minItems":2},"easing":{"type":"string","enum":["linear","smoothstep"],"default":"linear"},"order":{"type":"string","enum":["synchronous","height","height-change","color","color-change"],"default":"synchronous"}},"required":["buffers","timestamps","easing","order"],"additionalProperties":false},"color":{"type":"object","properties":{"buffers":{"type":"array","items":{"$ref":"/BufferReference"},"minItems":2},"delaySpread":{"type":"number","minimum":0},"timestamps":{"type":"array","items":{"type":"number","minimum":0},"minItems":2},"easing":{"type":"string","enum":["linear","smoothstep"],"default":"linear"},"order":{"type":"string","enum":["synchronous","height","height-change","color","color-change"],"default":"synchronous"}},"required":["buffers","timestamps","easing","order"],"additionalProperties":false},"areaScale":{"type":"object","properties":{"buffers":{"type":"array","items":{"$ref":"/BufferReference"},"minItems":2},"delaySpread":{"type":"number","minimum":0},"timestamps":{"type":"array","items":{"type":"number","minimum":0},"minItems":2},"easing":{"type":"string","enum":["linear","smoothstep"],"default":"linear"},"order":{"type":"string","enum":["synchronous","height","height-change","color","color-change"],"default":"synchronous"}},"required":["buffers","timestamps","easing","order"],"additionalProperties":false}},"required":["layer"],"additionalProperties":false}}},"required":["topology","layout"],"additionalProperties":false}`)},function(e){e.exports=JSON.parse('{"id":"/BufferReference","type":"string","pattern":"^(buffer|bufferView):[_a-zA-Z][_a-zA-Z0-9\\\\-]*[_a-zA-Z0-9]+$","description":"Named identifier used to reference a buffer or buffer view throughout the treemap configuration."}')},function(e){e.exports=JSON.parse('{"id":"/ColorReference","type":"string","pattern":"^(color):[_a-zA-Z][_a-zA-Z0-9\\\\-]*[_a-zA-Z0-9]+$","description":"Named identifier used to reference a color throughout the treemap configuration."}')},function(e){e.exports=JSON.parse('{"id":"/ColorScheme","type":"object","properties":{"inverted":{"type":"boolean","default":false},"classBounds":{"type":"array","items":{"type":"number"}}}}')},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Visualization=void 0;var n=r(0),a=r(0),i=n.auxiliaries.assert,d=r(64),m=r(12),_=r(10),v=r(65),h=r(66),c=r(68),o=r(69),l=r(72),s=r(1),u=r(73),f=r(74),g=r(8),y=r(26),b=r(76),E=r(23),x=r(13),w=r(77),S=r(25),O=r(9),A=r(82),L=r(5),k=r(27),D=r(22),N=function(){function $(H){this._intermediaries=new w.IntermediateResults,this._labelsChanged=!1,this._bufferResolver=new u.BufferResolver(this._intermediaries.topology),this._geometry=new E.Geometry,this._animations=[new m.AnimationData,new m.AnimationData],this._skipLabeling=!1,this._skipInnerLabeling=!1,this._skipLeafLabeling=!1,this._renderer=D.RendererCapabilities.createRendererFromCapabilities(H,this),this._renderer.geometry=this._geometry,this._renderer instanceof _.AnimationRenderer&&(this._renderer.animations=this._animations)}return Object.defineProperty($,"debug",{set:function(H){H&&n.auxiliaries.logVerbosity()<n.auxiliaries.LogLevel.Debug&&(n.auxiliaries.logVerbosity(n.auxiliaries.LogLevel.Debug),n.auxiliaries.log(n.auxiliaries.LogLevel.Debug,"changed log verbosity to "+n.auxiliaries.LogLevel.Debug+" (debug)")),y.DrawDispatch.debug=H,$._debug=H},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"debug",{set:function(H){$.debug=H},enumerable:!1,configurable:!0}),$.prototype.getNodeIndexFromId=function(H,q){var X=this._intermediaries.topology;return q?X.leafNodeIndexById(H):X.innerNodeIndexById(H)},$.prototype.resolveMetricBuffers=function(){var H=this._configuration;this._decodedAreas||(this._decodedAreas=this._bufferResolver.resolve("bufferView:DecodedArea",H,this._normalization)),this._decodedBaseHeights&&this._decodedDeltaHeights&&this._heightChange||(this._decodedBaseHeights=this._bufferResolver.resolve("bufferView:DecodedBaseHeight",H,this._normalization)||this._bufferResolver.resolve("bufferView:DecodedHeight",H,this._normalization),this._decodedDeltaHeights=this._bufferResolver.resolve("bufferView:DecodedDeltaHeight",H,this._normalization),this._heightChange=this._bufferResolver.resolve("bufferView:HeightChange",H,this._normalization))},$.prototype.applyInnerNodeColorMapping=function(H){var q="color-mapping inners";n.auxiliaries.logPerformanceStartIf($._debug,q);var X=H.geometry,Y=H.altered.geometry;if(i(this._geometry.innerNodeColors!==void 0||Y.any,"expected any alteration when inner-node color mapping is yet to be defined"),Y.any||H.altered.topology){i(this._geometry!==void 0&&this._geometry.colorTable!==void 0,"expected color lookup-table to be specified (cached)");var J=this._intermediaries.topology;(H.altered.topology||Y.emphasis.any)&&(this._geometry.innerNodeEmphases=h.NodeEmphases.innerNodes(J,X.emphasis?new Set(X.emphasis.outline):void 0,X.emphasis?new Set(X.emphasis.highlight):void 0)),H.altered.topology&&(this._geometry.innerNodeColors=v.NodeColors.innerNodes(J,this._colorLUT.innerNodeColorOffset,this._colorLUT.innerNodeColorCount)),n.auxiliaries.logPerformanceStopIf($._debug,q,void 0,k.PERF_LOG_INDENT)}else n.auxiliaries.logPerformanceStopIf($._debug,q,"skipped",k.PERF_LOG_INDENT)},$.prototype.applyLeafNodeColorMapping=function(H){var q="color-mapping leafs";n.auxiliaries.logPerformanceStartIf($._debug,q);var X=H.geometry,Y=H.altered.geometry;if(Y.any||H.altered.topology){if(i(this._geometry!==void 0&&this._geometry.colorTable!==void 0,"expected color lookup-table to be specified (cached)"),(X.leafLayers===void 0?0:X.leafLayers.length)===0)return this._intermediaries.aggregatedColors=void 0,this._intermediaries.colors=new Array(0),this._geometry.leafNodeColors[0]=x.GeometryCreation.defaultLeafNodeColors(this._intermediaries.topology,this._colorLUT.leafColorOffset),void n.auxiliaries.logPerformanceStopIf($._debug,q,"defaulted",k.PERF_LOG_INDENT);if((H.altered.topology||Y.emphasis.any)&&(this._geometry.leafNodeEmphases=h.NodeEmphases.leafNodes(this._intermediaries.topology,X.emphasis?new Set(X.emphasis.outline):void 0,X.emphasis?new Set(X.emphasis.highlight):void 0)),!Y.colors&&this._intermediaries.colors!==void 0)return this._intermediaries.aggregatedColors===void 0&&(this._intermediaries.aggregatedColors=this._intermediaries.colors[0]),void n.auxiliaries.logPerformanceStopIf($._debug,q,"skipped",k.PERF_LOG_INDENT);var J=this._bufferResolver.resolve(X.leafLayers[0].colors,H,this._normalization,this._bufferResolver.constBufferCallback(0));this._decodedColors=J;for(var ee=0;ee<1;++ee){var te=X.leafLayers[ee].colorScheme,ne=te!==void 0&&te.classBounds!==void 0?new Float32Array(te.classBounds):void 0,ce=te!==void 0&&te.inverted!==void 0&&te.inverted,pe=s.AttributeBuffer.range(J),me=this._colorLUT.leafColorCount,re=this._colorLUT.leafColorOffset,ye=ee===0?void 0:this._bufferResolver.resolve(X.leafLayers[1].colors,H,this._normalization,this._bufferResolver.constBufferCallback(0));this._geometry.leafNodeColors[ee]=x.GeometryCreation.createLeafNodeColors(this._intermediaries.topology,J,re,me,pe,this._colorLUT.unmodifiedColorIndex,ne,ce,ye),this._geometry.altered.alter("leafNodeColors")}this._intermediaries.aggregatedColors===void 0&&(this._intermediaries.aggregatedColors=J),n.auxiliaries.logPerformanceStopIf($._debug,q,void 0,k.PERF_LOG_INDENT)}else n.auxiliaries.logPerformanceStopIf($._debug,q,"skipped",k.PERF_LOG_INDENT)},$.prototype.createLayout=function(H,q,X,Y,J,ee,te){var ne=O.Layout.createLayout(H,q,X.layout,Y,J,ee,te);return X.layout.cascade!==void 0&&X.layout.cascade?A.LayoutCascade.applyCascade(H,ne):ne},$.prototype.updateLabels=function(){var H=this._intermediaries.innerNodeLabels,q=this._intermediaries.leafLabels;if(this._geometry!==void 0&&this._geometry.valid&&!this._skipLabeling&&q!==void 0&&H!==void 0){if(this._labelsChanged&&(this._renderer.updateLabels(H,q),this._renderer.updateLeafLabelBackgrounds(q),this._renderer.updatePoints(q)),this._renderer.camera.altered||this._labelsChanged){var X=o.AdaptiveLabelPlacement.adaptPositionToPreventOverlapGreedy(q,this._renderer.camera);X.visibility||X.positioning?(this._renderer.updateLeafLabelBackgrounds(q),this._renderer.updateLeafLabelPass()):this._renderer.frameSizeAltered()&&this._renderer.updateLeafLabelBackgrounds(q),X.visibility&&this._renderer.updatePoints(q)}this._labelsChanged&&(this._labelsChanged=!1)}},$.prototype.update=function(){var H=this;if(this._configuration===void 0||this._configuration.topology===void 0)return this._geometry.initialized&&this._geometry.uninitialize(),!0;var q=this._configuration,X=q.altered,Y=$._debug;if(!X.any)return!1;i(q.topology!==void 0,"Valid topology expected");var J=X.layout.sort;n.auxiliaries.logPerformanceStartIf(Y,"tree");var ee=this._intermediaries.topology;X.topology&&(n.auxiliaries.logIf(Y,n.auxiliaries.LogLevel.Debug,"vis topology changed |"),ee.initialize(q.topology.format,q.topology.semantics,q.topology.edges),this._intermediaries.aggregatedWeights=void 0,this._intermediaries.accessorySpaces=void 0,this._intermediaries.labelRects=void 0,this._intermediaries.labelPaddingSpaces=void 0,this._intermediaries.layout=void 0,this._intermediaries.prunedNodes=void 0,this._geometry.initialized&&this._geometry.uninitialize(),this._geometry.initialize(ee),J=!0),n.auxiliaries.logPerformanceStopIf(Y,"tree",void 0,k.PERF_LOG_INDENT),this._normalization=s.AttributeBuffer.createNormalization(ee,q),n.auxiliaries.logPerformanceStartIf(Y,"weights");var te=this._intermediaries.aggregatedWeights;(te===void 0||X.layout.weight)&&(te=this._intermediaries.aggregatedWeights=this._bufferResolver.resolve(q.layout.weight,q,this._normalization),this._intermediaries.layout=void 0,J=!0,this._decodedAreas=void 0),n.auxiliaries.logPerformanceStopIf(Y,"weights",void 0,k.PERF_LOG_INDENT),n.auxiliaries.logPerformanceStartIf(Y,"sort"),J&&(L.NodeSort.sortNodes(ee,this._normalization,te,q),this._intermediaries.layout=void 0),n.auxiliaries.logPerformanceStopIf(Y,"sort",void 0,k.PERF_LOG_INDENT),n.auxiliaries.logPerformanceStartIf(Y,"layout");var ne=this._intermediaries.layout,ce=this._intermediaries.accessorySpaces,pe=this._intermediaries.labelRects,me=this._intermediaries.labelPaddingSpaces,re=this._intermediaries.prunedNodes;(ne===void 0||X.layout.any)&&(ce=this._intermediaries.accessorySpaces=new Array(ee.numberOfInnerNodes),pe=this._intermediaries.labelRects=new Array(ee.numberOfInnerNodes),me=this._intermediaries.labelPaddingSpaces=new Array(ee.numberOfInnerNodes),re=this._intermediaries.prunedNodes=new Array(ee.numberOfNodes),ne=this._intermediaries.layout=this.createLayout(ee,te,q,ce,pe,me,re),this._geometry.innerNodeLayouts=void 0,this._geometry.leafNodeLayouts=void 0),n.auxiliaries.logPerformanceStopIf(Y,"layout",void 0,k.PERF_LOG_INDENT),n.auxiliaries.logPerformanceStartIf(Y,"base geometry"),this._geometry.innerNodeIndices===void 0&&(this._geometry.innerNodeIndices=c.NodeIndices.innerNodes(ee)),this._geometry.leafNodeIndices===void 0&&(this._geometry.leafNodeIndices=c.NodeIndices.leafNodes(ee)),this._geometry.innerNodeLayouts===void 0&&(this._geometry.innerNodeLayouts=x.GeometryCreation.createParentLayoutBuffer(ee,ne,this._configuration.geometry)),this._geometry.leafNodeLayouts===void 0&&(this._geometry.leafNodeLayouts=x.GeometryCreation.createLeafLayoutBuffer(ee,ne,this._configuration.geometry));var ye=q.geometry.leafLayers===void 0?0:q.geometry.leafLayers.length;if(this._geometry.leafNodeHeights.length=Math.max(ye,1),this._geometry.leafNodeColors.length=1,this._geometry.leafNodeAreaScales.length=1,n.auxiliaries.logPerformanceStopIf(Y,"base geometry",void 0,k.PERF_LOG_INDENT),this._geometry.leafNodeAreaScales[0]===void 0){var we=this._bufferResolver.resolve(this._configuration.geometry.leafLayers[0].areaScale,q,this._normalization,this._bufferResolver.constBufferCallback(1));this._geometry.leafNodeAreaScales[0]=x.GeometryCreation.createLeafAreaScalesBuffer(ee,we)}n.auxiliaries.logPerformanceStartIf(Y,"color table");var de=function(vt,Hr){switch(Hr){case a.Color.Space.CMYK:var ut=vt.fill(1,vt.length,5);return new a.Color().fromCMYK(ut[0],ut[1],ut[2],ut[3],ut[4]);case a.Color.Space.LAB:return ut=vt.fill(1,vt.length,4),new a.Color().fromLAB(ut[0],ut[1],ut[2],ut[3]);case a.Color.Space.HSL:return ut=vt.fill(1,vt.length,4),new a.Color().fromHSL(ut[0],ut[1],ut[2],ut[3]);case"hex":return new a.Color().fromHex(vt);default:case a.Color.Space.RGB:return ut=vt.fill(1,vt.length,4),new a.Color().fromRGB(ut[0],ut[1],ut[2],ut[3])}},Se=function(vt,Hr,ut){if(vt===void 0||Hr===void 0)return ut;var Wr=vt.find(function(ci){return ci.identifier===Hr.split(":")[1]});return Wr===void 0?ut:Wr.value!==void 0?de(Wr.value,Wr.space):function(ci,ud){for(var us=new Array(ci.length),Bo=0;Bo<us.length;++Bo)us[Bo]=de(ci[Bo],ud);return us}(Wr.values,Wr.space)};if(q.altered.colors){var xe=Se(q.colors,q.geometry.emphasis?q.geometry.emphasis.color:void 0,new a.Color),Oe=Se(q.colors,q.geometry.auxiliary,new a.Color),he=Se(q.colors,q.geometry.parentLayer.colorMap,[new a.Color,new a.Color]),Ae=Se(q.colors,q.geometry.leafLayers[0].colorMap,[new a.Color,new a.Color]);this._colorLUT=new f.ColorTable(xe,Oe,he,Ae),this._geometry.colorTable&&this._geometry.colorTable.length===this._colorLUT.bits.length||(this._geometry.altered.alter("colorTableLength"),this._renderer.invalidate()),this._geometry.colorTable=this._colorLUT.bits}n.auxiliaries.logPerformanceStopIf(Y,"color table",void 0,k.PERF_LOG_INDENT),this.applyInnerNodeColorMapping(q),this.applyLeafNodeColorMapping(q),n.auxiliaries.logPerformanceStartIf(Y,"heights");var Le=this._geometry.heightScale;if(Le===void 0||X.geometry.heightScale){var Ee=q.geometry.heightScale;Le=Ee!==void 0&&Ee in g.ConfigurationAids.HeightScaleApproach?this._geometry.heightScale=g.ConfigurationAids.heightScale(ee,Ee):this._geometry.heightScale=Ee!==void 0?Ee:g.ConfigurationAids.heightScale(ee,g.ConfigurationAids.HeightScaleApproach.SomethingInverseSqrt),this._geometry.altered.alter("heightScale")}q.altered.geometry.levitate&&(this._geometry.levitate=q.geometry.levitate,this._geometry.altered.alter("levitate")),q.altered.geometry.outlineWidth&&(this._geometry.outlineWidth=q.geometry.outlineWidth,this._geometry.altered.alter("outlineWidth")),q.geometry.emphasis&&q.altered.geometry.emphasis.outlineWidth&&(this._geometry.emphasisOutlineWidth=q.geometry.emphasis.outlineWidth,this._geometry.altered.alter("emphasisOutlineWidth"));var Ce=this._intermediaries.aggregatedHeights,Ie=this._intermediaries.heights;if(ye>0&&q.geometry.leafLayers!==void 0){if(X.geometry.heights||X.buffers||X.bufferViews||Ce===void 0||Ie===void 0){this._intermediaries.aggregatedHeights=new Float32Array(ee.numberOfNodes),Ce=this._intermediaries.aggregatedHeights,this._intermediaries.heights=new Array(ye),Ie=this._intermediaries.heights;for(var je=void 0,Me=function(vt){var Hr=q.geometry.leafLayers[vt];Ie[vt]=Ye._bufferResolver.resolve(Hr.height!==void 0?Hr.height:"",q,Ye._normalization,Ye._bufferResolver.constBufferCallback());var ut=x.GeometryCreation.createLayerHeightBuffer(ee,Ie[vt],je,Ye._configuration.geometry);je=ut,Ye._geometry.leafNodeHeights[vt]=ut,ee.nodesDo(function(Wr){Ce[Wr.index]+=Ie[vt][Wr.index]})},Ye=this,De=0;De<ye;++De)Me(De);this._decodedBaseHeights=void 0,this._decodedDeltaHeights=void 0,this._geometry.altered.alter("leafNodeHeights")}}else Ce=this._intermediaries.aggregatedHeights=void 0,Ie=this._intermediaries.heights=new Array(0),this._geometry.leafNodeHeights[0]=x.GeometryCreation.createEmptyLayerHeightBuffer(ee);if(n.auxiliaries.logPerformanceStopIf(Y,"heights",void 0,k.PERF_LOG_INDENT),this._renderer instanceof _.AnimationRenderer){if(n.auxiliaries.logPerformanceStartIf(Y,"animation"),X.animations||X.geometry.heights||X.buffers||X.bufferViews)for(var He=this._colorLUT.leafColorCount,tt=void 0,Re=0;Re<2;Re++){this._animations[Re].reset();var Ke=d.AnimationCreation.createAreaBuffers(Re,q,this._normalization,ee,this._bufferResolver),U=d.AnimationCreation.getAreaEasing(Re,q),C=d.AnimationCreation.getAreaDurations(Re,q),M=d.AnimationCreation.getAreaDelay(Re,q),z=d.AnimationCreation.getAreaDelaySpread(Re,q),V=d.AnimationCreation.getAreaOrder(Re,q),j=d.AnimationCreation.createHeightBuffers(Re,q,this._normalization,ee,this._bufferResolver,tt),Z=d.AnimationCreation.getHeightEasing(Re,q),se=d.AnimationCreation.getHeightDurations(Re,q),fe=d.AnimationCreation.getHeightDelay(Re,q),ge=d.AnimationCreation.getHeightDelaySpread(Re,q),Pe=d.AnimationCreation.getHeightOrder(Re,q),Be=d.AnimationCreation.createColorBuffers(Re,q,this._normalization,ee,this._bufferResolver,this._colorLUT),Mt=d.AnimationCreation.getColorEasing(Re,q),Dt=d.AnimationCreation.getColorDurations(Re,q),kn=d.AnimationCreation.getColorDelay(Re,q),os=d.AnimationCreation.getColorDelaySpread(Re,q),ko=d.AnimationCreation.getColorOrder(Re,q),nd=d.AnimationCreation.createDelayBuffers(ee,fe,ge,He,se,Pe,j,Be,Ke),id=d.AnimationCreation.createDelayBuffers(ee,M,z,He,C,V,Ke,Be,Ke),od=d.AnimationCreation.createDelayBuffers(ee,kn,os,He,Dt,ko,j,Be,Ke);this._animations[Re].areas=Ke,this._animations[Re].areaEasing=d.AnimationCreation.convertEasing(U),this._animations[Re].areaDurations=C,this._animations[Re].areaDelays=id,this._animations[Re].heights=j,this._animations[Re].heightEasing=d.AnimationCreation.convertEasing(Z),this._animations[Re].heightDurations=se,this._animations[Re].heightDelays=nd,this._animations[Re].colors=Be,this._animations[Re].colorEasing=d.AnimationCreation.convertEasing(Mt),this._animations[Re].colorDurations=Dt,this._animations[Re].colorDelays=od,tt=this._geometry.leafNodeHeights[Re]}n.auxiliaries.logPerformanceStopIf(Y,"animation",void 0,k.PERF_LOG_INDENT)}n.auxiliaries.logPerformanceStartIf(Y,"filter");var li=q.geometry.aggregation,Mi=this._intermediaries.aggregationMask;if(X.geometry.aggregation||Mi===void 0)if(li!==void 0){var vl=this._bufferResolver.resolve(li.buffer,q,this._normalization,this._bufferResolver.constBufferCallback(1)),ad=li.valueThreshold!==void 0?li.valueThreshold:1,sd=li.depthThreshold!==void 0?li.depthThreshold:1;this._intermediaries.aggregationMask=l.Aggregation.createAggregationMask(ee,te,vl,ad,sd,re),Mi=this._intermediaries.aggregationMask,this._geometry.innerNodeDrawDispatch=void 0,this._geometry.leafNodeDrawDispatch=void 0}else this._intermediaries.aggregationMask=l.Aggregation.createEmptyAggregationMask(ee),Mi=this._intermediaries.aggregationMask,this._geometry.innerNodeDrawDispatch=void 0,this._geometry.leafNodeDrawDispatch=void 0;if(n.auxiliaries.logPerformanceStopIf(Y,"filter",void 0,k.PERF_LOG_INDENT),n.auxiliaries.logPerformanceStartIf(Y,"draw dispatch setup"),(this._geometry.innerNodeDrawDispatch===void 0||X.geometry.parentLayer)&&(this._geometry.innerNodeDrawDispatch=b.DrawDispatchComputation.computeParentDrawDispatch(ee,Mi,q.geometry.parentLayer.showRoot)),this._geometry.leafNodeDrawDispatch===void 0&&(this._geometry.leafNodeDrawDispatch=b.DrawDispatchComputation.computeLeafDrawDispatch(ee,Mi)),n.auxiliaries.logPerformanceStopIf(Y,"draw dispatch setup",void 0,k.PERF_LOG_INDENT),n.auxiliaries.logPerformanceStartIf(Y,"label creation"),(this._intermediaries.leafLabels===void 0||this._intermediaries.innerNodeLabels===void 0||q.altered.labels)&&q.labels!==void 0)if(q.labels.names!==void 0){var as=s.AttributeBuffer.create(ee,this._normalization,q.labels.names,q);as!==void 0&&(this._intermediaries.leafLabels=S.LabelManagement.fillLeafLabelArrayByExplicitNames(ee,as,this._geometry.heightScale,this._geometry.leafNodeLayouts,this._geometry.leafNodeHeights[this._geometry.leafLayerCount-1]),this._intermediaries.innerNodeLabels=S.LabelManagement.fillInnerNodeLabelArrayOnAccessoryByExplicitNames(ee,as,this._intermediaries.accessorySpaces),this._labelsChanged=!0,this._renderer.invalidate())}else{var ss=S.LabelManagement.createLabelSelection(ee,te,Ce,this._intermediaries.aggregatedColors,new Uint8Array(ee.numberOfNodes),new Set,q.labels.innerNodeLayerRange,q.labels.numTopInnerNodes,q.labels.numTopWeightNodes,q.labels.numTopHeightNodes,q.labels.numTopColorNodes),yl=q.labels.callback||this._nameRequestCallback;yl&&yl(ss,function(vt){vt.forEach(function(Hr,ut,Wr){if(Hr!==void 0){var ci=Hr.replace(/\uff0f/g,"/");vt.set(ut,ci)}}),H._intermediaries.innerNodeLabels=S.LabelManagement.fillInnerNodeLabelArrayOnAccessory(ee,vt,ss,H._intermediaries.accessorySpaces),H._intermediaries.leafLabels=S.LabelManagement.fillLeafLabelArray(ee,vt,ss,H._geometry.heightScale,H._geometry.leafNodeLayouts,H._geometry.leafNodeHeights[H._geometry.leafLayerCount-1]),H._labelsChanged=!0,H._renderer.initialized&&H._renderer.invalidate()})}return n.auxiliaries.logPerformanceStopIf(Y,"label creation",void 0,k.PERF_LOG_INDENT),q.altered.reset(),!0},$.prototype.prepare=function(){n.auxiliaries.logPerformanceStartIf($._debug,"label placement"),this.updateLabels(),n.auxiliaries.logPerformanceStopIf($._debug,"label placement",void 0,k.PERF_LOG_INDENT)},$.prototype.nodeIndexById=function(H){return this._intermediaries.topology.leafNodeIndexById(H)||this._intermediaries.topology.innerNodeIndexById(H)},$.prototype.decodedMetricDataDelta=function(H,q,X){X===void 0&&(X=!1);var Y=this.getNodeIndexFromId(H,q);if(Y!==void 0){this.resolveMetricBuffers();var J=this._decodedBaseHeights[Y],ee=this._decodedDeltaHeights&&this._decodedDeltaHeights[Y],te=this._heightChange&&this._heightChange[Y];return te===void 0||ee===void 0?ee=0:X&&te>0||!X&&te<=0?ee*=-1:J+=ee,{color:{value:this._decodedColors[Y]},area:{value:this._decodedAreas[Y]},height:{value:J,delta:ee}}}},$.prototype.decodedMetricDataCompareValue=function(H,q){var X=this.getNodeIndexFromId(H,q);if(X!==void 0){this.resolveMetricBuffers();var Y,J,ee=this._decodedBaseHeights&&this._decodedBaseHeights[X],te=this._decodedDeltaHeights&&this._decodedDeltaHeights[X],ne=this._heightChange&&this._heightChange[X];if(ee!==void 0)return ne===void 0||te===void 0?(Y=ee,J=ee):ne>0?(Y=ee+te,J=ee):(Y=ee,J=ee+te),{color:{value:this._decodedColors[X]},area:{value:this._decodedAreas[X]},height:{value:Y,compareValue:J}}}},Object.defineProperty($.prototype,"renderer",{get:function(){return this._renderer},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"configuration",{get:function(){return this._configuration},set:function(H){this._configuration=H},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"skipLabeling",{set:function(H){this._skipLabeling=H,this._renderer.skipInnerLabelPass=H,this._renderer.skipLeafLabelPass=H,this._skipLabeling||(this.updateLabels(),this._renderer.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"skipInnerLabeling",{set:function(H){this._skipInnerLabeling=H,this._renderer.skipInnerLabelPass=H,this._skipInnerLabeling||(this.updateLabels(),this._renderer.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"skipLeafLabeling",{set:function(H){this._skipLeafLabeling=H,this._renderer.skipLeafLabelPass=H,this._skipLeafLabeling||(this.updateLabels(),this._renderer.invalidate())},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"nameRequest",{set:function(H){this._nameRequestCallback=H},enumerable:!1,configurable:!0}),$._debug=!1,$}();t.Visualization=N},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationCreation=void 0;var n=r(0),a=r(12),i=r(1),d=r(13),m=n.auxiliaries.assert,_=function(){function v(){}return v.findAreaAnimation=function(h,c){return c.animations.find(function(o){return o.layer===h&&o.areaScale!==void 0})},v.findHeightAnimation=function(h,c){return c.animations.find(function(o){return o.layer===h&&o.height!==void 0})},v.findColorAnimation=function(h,c){return c.animations.find(function(o){return o.layer===h&&o.color!==void 0})},v.isAreaAnimated=function(h,c){return c.animations.findIndex(function(o){return o.layer===h})!==-1},v.isHeightAnimated=function(h,c){return c.animations.findIndex(function(o){return o.layer===h})!==-1},v.isColorAnimated=function(h,c){return c.animations.findIndex(function(o){return o.layer===h})!==-1},v.createAreaBuffers=function(h,c,o,l,s){var u=v.findAreaAnimation(h,c),f=Array();u!==void 0?f=u.height.buffers:c.geometry.leafLayers!==void 0&&c.geometry.leafLayers[h]!==void 0&&c.geometry.leafLayers[h].areaScale!==void 0&&(f=[c.geometry.leafLayers[h].areaScale,c.geometry.leafLayers[h].areaScale]);for(var g=Array(),y=0,b=f;y<b.length;y++){var E=b[y],x=s.resolve(E,c,o,s.constBufferCallback());g.push(d.GeometryCreation.createLeafAreaScalesBuffer(l,x))}return g},v.createHeightBuffers=function(h,c,o,l,s,u){var f=v.findHeightAnimation(h,c),g=Array();f!==void 0?g=f.height.buffers:c.geometry.leafLayers!==void 0&&c.geometry.leafLayers[h]!==void 0&&c.geometry.leafLayers[h].height!==void 0&&(g=[c.geometry.leafLayers[h].height,c.geometry.leafLayers[h].height]);for(var y=Array(),b=0,E=g;b<E.length;b++){var x=E[b],w=s.resolve(x,c,o,s.constBufferCallback());y.push(d.GeometryCreation.createLayerHeightBuffer(l,w,u,c.geometry))}return y},v.createColorBuffers=function(h,c,o,l,s,u){var f=v.findColorAnimation(h,c),g=Array();if(f!==void 0)g=f.color.buffers;else{if(c.geometry.leafLayers===void 0||c.geometry.leafLayers[h]===void 0||c.geometry.leafLayers[h].colors===void 0){var y=d.GeometryCreation.defaultLeafNodeColors(l,u.leafColorOffset);return[y,y]}g=[c.geometry.leafLayers[h].colors,c.geometry.leafLayers[h].colors]}for(var b=c.geometry,E=b.leafLayers[h].colorScheme,x=E!==void 0&&E.classBounds!==void 0?new Float32Array(E.classBounds):void 0,w=E!==void 0&&E.inverted!==void 0&&E.inverted,S=u.leafColorCount,O=u.leafColorOffset,A=h===0?void 0:s.resolve(b.leafLayers[h].colors,c,o,s.constBufferCallback(0)),L=Array(),k=0,D=g;k<D.length;k++){var N=D[k],$=s.resolve(N,c,o,s.constBufferCallback(0)),H=i.AttributeBuffer.range($);L.push(d.GeometryCreation.createLeafNodeColors(l,$,O,S,H,u.unmodifiedColorIndex,x,w,A))}return L},v.getAreaDelaySpread=function(h,c){var o=v.findAreaAnimation(h,c);return o===void 0?0:o.areaScale.delaySpread},v.getHeightDelaySpread=function(h,c){var o=v.findHeightAnimation(h,c);return o===void 0?0:o.height.delaySpread},v.getColorDelaySpread=function(h,c){var o=v.findColorAnimation(h,c);return o===void 0?0:o.color.delaySpread},v.getAreaDelay=function(h,c){var o=v.findAreaAnimation(h,c);return o===void 0?0:o.areaScale.timestamps[0]},v.getHeightDelay=function(h,c){var o=v.findHeightAnimation(h,c);return o===void 0?0:o.height.timestamps[0]},v.getColorDelay=function(h,c){var o=v.findColorAnimation(h,c);return o===void 0?0:o.color.timestamps[0]},v.getAreaDurations=function(h,c){var o=v.findAreaAnimation(h,c);if(o===void 0)return[1];for(var l=o.areaScale.timestamps,s=Array(l.length-1),u=0;u<s.length;u++)s[u]=l[u+1]-l[u];return s},v.getHeightDurations=function(h,c){var o=v.findHeightAnimation(h,c);if(o===void 0)return[1];for(var l=o.height.timestamps,s=Array(l.length-1),u=0;u<s.length;u++)s[u]=l[u+1]-l[u];return s},v.getColorDurations=function(h,c){var o=v.findColorAnimation(h,c);if(o===void 0)return[1];for(var l=o.color.timestamps,s=Array(l.length-1),u=0;u<s.length;u++)s[u]=l[u+1]-l[u];return s},v.getAreaEasing=function(h,c){var o=v.findAreaAnimation(h,c);return o===void 0?"linear":o.areaScale.easing},v.getHeightEasing=function(h,c){var o=v.findHeightAnimation(h,c);return o===void 0?"linear":o.height.easing},v.getColorEasing=function(h,c){var o=v.findColorAnimation(h,c);return o===void 0?"linear":o.color.easing},v.convertEasing=function(h){switch(h){case"linear":return a.AnimationData.Easing.LINEAR;case"smoothstep":return a.AnimationData.Easing.SMOOTHSTEP;default:return m(!1,"Easing conversion for this easing not implemented."),a.AnimationData.Easing.UNIMPLEMENTED}},v.getAreaOrder=function(h,c){var o=v.findAreaAnimation(h,c);return o===void 0?"synchronous":o.areaScale.order},v.getHeightOrder=function(h,c){var o=v.findHeightAnimation(h,c);return o===void 0?"synchronous":o.height.order},v.getColorOrder=function(h,c){var o=v.findColorAnimation(h,c);return o===void 0?"synchronous":o.color.order},v.createDelayBuffers=function(h,c,o,l,s,u,f,g,y){for(var b=new Array(s.length),E=0;E<b.length;E++)b[E]=new Float32Array(h.numberOfLeafNodes);return u==="synchronous"?(b.forEach(function(x,w){var S=s.slice(0,w).reduce(function(A,L){return A+L},0),O=c+(w===0?0:S);x.fill(O)}),b):(u==="height"?(m(f!==void 0,"Can not create delay buffer ordered by height without a height buffer"),m(f.length>0,"Height buffers have to contain at least 1 element")):u==="height-change"?(m(f!==void 0,"Can not create delay buffer ordered by height-change without a height buffer"),m(f.length>1,"Height buffers have to contain at least 2 elements")):u==="color"?(m(g!==void 0,"Can not create delay buffer ordered by color without a color buffer"),m(g.length>0,"Color buffers have to contain at least 1 element")):u==="color-change"&&(m(g!==void 0,"Can not create delay buffer ordered by color without a color buffer"),m(g.length>1,"Color buffers have to contain at least 2 elements")),b.forEach(function(x,w){var S=new Array;u==="height"?h.forEachLeafNode(function(N){for(var $=N.index-h.numberOfInnerNodes,H=-1/0,q=0,X=f;q<X.length;q++){var Y=X[q];H=Math.max(H,Y[2*$+1])}S.push({value:H,index:$})}):u==="height-change"?h.forEachLeafNode(function(N){for(var $=N.index-h.numberOfInnerNodes,H=1/0,q=-1/0,X=0,Y=f;X<Y.length;X++){var J=Y[X];H=Math.min(H,J[2*$+1]),q=Math.max(q,J[2*$+1])}S.push({value:q-H,index:$})}):u==="color"?h.forEachLeafNode(function(N){for(var $=N.index-h.numberOfInnerNodes,H=-1/0,q=0,X=g;q<X.length;q++){var Y=X[q];H=Math.max(H,Y[$])}S.push({value:H,index:$})}):u==="color-change"?h.forEachLeafNode(function(N){for(var $=N.index-h.numberOfInnerNodes,H=1/0,q=-1/0,X=0,Y=g;X<Y.length;X++){var J=Y[X];H=Math.min(H,J[$]),q=Math.max(q,J[$])}S.push({value:q-H,index:$})}):m(!1,"Unimplemented order."),S.sort(function(N,$){return $.value-N.value});var O=s.slice(0,w).reduce(function(N,$){return N+$},0),A=c+(w===0?0:O);if(l===void 0)S.forEach(function(N,$){var H=$/S.length*o;x[N.index]=A+H+o*w});else{var L=S[0].value,k=S[S.length-1].value,D=L-k;S.forEach(function(N){var $=Math.floor((L-N.value)/(D+.01)*l)*(o/l);x[N.index]=A+$+o*w})}}),b)},v}();t.AnimationCreation=_},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NodeColors=void 0;var n=function(){function a(){}return a.innerNodes=function(i,d,m){var _=new Uint8Array(i.numberOfInnerNodes);return i.forEachInnerNode(function(v){_[v.index]=d+v.depth%m}),_},a}();t.NodeColors=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NodeEmphases=void 0;var n=r(23),a=function(){function i(){}return i.innerNodes=function(d,m,_){var v=new Uint8Array(d.numberOfInnerNodes);return d.forEachInnerNode(function(h){_&&_.has(h.id)?v[h.index]=n.Geometry.Emphasis.Highlight:m&&m.has(h.id)?v[h.index]=n.Geometry.Emphasis.Outline:v[h.index]=n.Geometry.Emphasis.None}),v},i.leafNodes=function(d,m,_){var v=new Uint8Array(d.numberOfLeafNodes);return d.forEachLeafNode(function(h){var c=h.index-d.numberOfInnerNodes;_&&_.has(h.id)?v[c]=n.Geometry.Emphasis.Highlight:m&&m.has(h.id)?v[c]=n.Geometry.Emphasis.Outline:v[c]=n.Geometry.Emphasis.None}),v},i}();t.NodeEmphases=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ObjExport=void 0;var n=r(0),a=n.gl_matrix_extensions.v3,i=function(){function d(){}return d.inner=function(m,_,v,h){var c=m.innerNodeLayouts,o=d.SLICE_STENCIL_COMPENSATION*h,l=n.vec3.fromValues(c[4*_+0],o,c[4*_+1]),s=n.vec3.fromValues(c[4*_+2],0,c[4*_+3]),u=Array(l,n.vec3.add(a(),l,n.vec3.fromValues(s[0],s[1],0)),n.vec3.add(a(),l,s),n.vec3.add(a(),l,n.vec3.fromValues(0,s[1],s[2]))),f=d.VERTEX_PRECISION,g="g inner-"+_+" slice-"+h+`
`;return g+="v "+u[0][0].toFixed(f)+" "+u[0][1].toFixed(f)+" "+u[0][2].toFixed(f)+`
`,g+="v "+u[1][0].toFixed(f)+" "+u[1][1].toFixed(f)+" "+u[1][2].toFixed(f)+`
`,g+="v "+u[2][0].toFixed(f)+" "+u[2][1].toFixed(f)+" "+u[2][2].toFixed(f)+`
`,g+="v "+u[3][0].toFixed(f)+" "+u[3][1].toFixed(f)+" "+u[3][2].toFixed(f)+`
`,g+="f "+(v+0)+" "+(v+1)+" "+(v+2)+`
`,g+="f "+(v+2)+" "+(v+3)+" "+(v+0)+`
`},d.leaf=function(m,_,v,h){var c=m.leafNodeLayouts,o=m.leafNodeHeights[h],l=m.heightScale/255,s=n.vec3.fromValues(c[4*_+0],o[2*_+0]*l,c[4*_+1]),u=n.vec3.fromValues(c[4*_+2],(o[2*_+1]-o[2*_+0])*l,c[4*_+3]),f=Array(n.vec3.add(a(),s,n.vec3.fromValues(0,0,0)),n.vec3.add(a(),s,n.vec3.fromValues(u[0],0,0)),n.vec3.add(a(),s,n.vec3.fromValues(u[0],0,u[2])),n.vec3.add(a(),s,n.vec3.fromValues(0,0,u[2])),n.vec3.add(a(),s,n.vec3.fromValues(0,u[1],0)),n.vec3.add(a(),s,n.vec3.fromValues(u[0],u[1],0)),n.vec3.add(a(),s,n.vec3.fromValues(u[0],u[1],u[2])),n.vec3.add(a(),s,n.vec3.fromValues(0,u[1],u[2]))),g=d.VERTEX_PRECISION;if(u[1]<=0)return["",0];var y="g leaf-"+_+" layer-"+h+`
`;y+="v "+f[0][0].toFixed(g)+" "+f[0][1].toFixed(g)+" "+f[0][2].toFixed(g)+`
`,y+="v "+f[1][0].toFixed(g)+" "+f[1][1].toFixed(g)+" "+f[1][2].toFixed(g)+`
`,y+="v "+f[2][0].toFixed(g)+" "+f[2][1].toFixed(g)+" "+f[2][2].toFixed(g)+`
`,y+="v "+f[3][0].toFixed(g)+" "+f[3][1].toFixed(g)+" "+f[3][2].toFixed(g)+`
`,y+="v "+f[4][0].toFixed(g)+" "+f[4][1].toFixed(g)+" "+f[4][2].toFixed(g)+`
`,y+="v "+f[5][0].toFixed(g)+" "+f[5][1].toFixed(g)+" "+f[5][2].toFixed(g)+`
`,y+="v "+f[6][0].toFixed(g)+" "+f[6][1].toFixed(g)+" "+f[6][2].toFixed(g)+`
`,y+="v "+f[7][0].toFixed(g)+" "+f[7][1].toFixed(g)+" "+f[7][2].toFixed(g)+`
`;for(var b=v,E=0,x=[[5,6,4],[4,6,7],[1,5,0],[0,5,4],[3,7,2],[2,7,6],[2,6,1],[1,6,5],[0,4,3],[3,4,7]];E<x.length;E++){var w=x[E];y+="f "+(b+w[0])+" "+(b+w[1])+" "+(b+w[2])+`
`}return[y,d.VERTICES_PER_LEAF_NODE]},d.blob=function(m,_,v){n.auxiliaries.assert(m.valid,"expected geometry to be valid"),n.auxiliaries.assert(m.innerNodeDrawDispatch!==void 0,"expected geometry to have valid inner node draw dispatch"),n.auxiliaries.assert(m.leafNodeDrawDispatch!==void 0,"expected geometry to have valid leaf node draw dispatch");var h=m.innerNodeDrawDispatch,c=m.leafNodeDrawDispatch,o=_!==void 0&&_.length>0,l=new Array,s=0;if(o)for(var u=0,f=_;u<f.length;u++){var g=f[u];s=h.filteredCount(g),l=l.concat(h.filtered(g))}else s=h.unfilteredCount(),l=l.concat(h.unfiltered());var y=v!==void 0&&v.length>0,b=new Array(0),E=0;if(y)for(var x=0,w=v;x<w.length;x++)g=w[x],E+=c.filteredCount(g),b=b.concat(c.filtered(g));else E=c.unfilteredCount(),b=b.concat(c.unfiltered());for(var S=d.VERTICES_PER_INNER_NODE*s,O=d.VERTICES_PER_LEAF_NODE*m.leafLayerCount*E,A="# vertices "+S+`
# faces `+2*s+`
# objects `+s+`
`,L="# vertices "+O+`
# faces `+10*E+`
# objects `+E+`
`,k=1,D=h.slices!==void 0?h.slices:[0,0],N=D.length/2,$=function(ee){for(var te=N-D.findIndex(function(ce,pe){return ce<=l[ee]&&pe%2==0})/2,ne=l[ee];ne<l[ee]+l[ee+1];++ne)A+=H.inner(m,ne,k,te),k+=d.VERTICES_PER_INNER_NODE},H=this,q=0;q<l.length;q+=2)$(q);for(q=0;q<b.length;q+=2)for(var X=b[q];X<b[q]+b[q+1];++X)for(var Y=0;Y<m.leafLayerCount;++Y){var J=this.leaf(m,X,k,Y);L+=J[0],k+=J[1]}return new Blob([`# seerene(tm) treemap

# inner nodes `+s+(o?" (filtered)":"")+`
# leaf nodes `+E+(y?" (filtered)":"")+`
# vertices `+S+" (inner) + "+O+` (leaf)

`+A+`
`+L],{type:"text/plain"})},d.VERTICES_PER_INNER_NODE=4,d.VERTICES_PER_LEAF_NODE=8,d.SLICE_STENCIL_COMPENSATION=1e-4,d.VERTEX_PRECISION=8,d}();t.ObjExport=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NodeIndices=void 0;var n=r(0),a=function(){function i(){}return i.innerNodes=function(d){var m=new Uint8Array(4*d.numberOfInnerNodes);return d.forEachInnerNode(function(_){var v=_.index,h=n.vec4.create();n.gl_matrix_extensions.encode_uint32_to_rgba8(h,_.index),m[4*v+0]=h[0],m[4*v+1]=h[1],m[4*v+2]=h[2],m[4*v+3]=h[3]}),m},i.leafNodes=function(d){var m=new Uint8Array(4*d.numberOfLeafNodes),_=d.numberOfInnerNodes;return d.forEachLeafNode(function(v){var h=v.index-_,c=n.vec4.create();n.gl_matrix_extensions.encode_uint32_to_rgba8(c,v.index),m[4*h+0]=c[0],m[4*h+1]=c[1],m[4*h+2]=c[2],m[4*h+3]=c[3]}),m},i}();t.NodeIndices=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AdaptiveLabelPlacement=t.PenaltyFunction=void 0;var n,a=r(0),i=a.auxiliaries.assert,d=a.gl_matrix_extensions.v2,m=r(0),_=r(70),v=r(71),h=r(25),c=r(24);(function(l){l.leafLabelsTreemap=function(s,u,f,g){var y=0;switch(f){case c.RelativeLabelPosition.Type.UpperRight:y=0*g;break;case c.RelativeLabelPosition.Type.LowerRight:case c.RelativeLabelPosition.Type.UpperLeft:y=1*g;break;case c.RelativeLabelPosition.Type.LowerLeft:y=3*g;break;case c.RelativeLabelPosition.Type.Hidden:y=60*g;break;default:i(!1,"No valid relative position type, given "+f)}return 15*u+.3*y}})(n=t.PenaltyFunction||(t.PenaltyFunction={}));var o=function(){function l(){}return l.getNDCExtentForLeafLabel=function(s,u){i(u.width!==0&&u.height!==0,"camera viewport is invalid: "+u.width+" "+u.height);var f=s.label.extent[0]/u.width,g=s.label.extent[1]/u.height;return a.vec2.fromValues(f,g)},l.placementFor=function(s,u){var f=a.vec2.sub(d(),s.origin,u),g=!0,y=m.Label.Alignment.Left,b=m.Label.LineAnchor.Bottom;switch(s.position){case c.RelativeLabelPosition.Type.UpperRight:break;case c.RelativeLabelPosition.Type.LowerRight:b=m.Label.LineAnchor.Top;break;case c.RelativeLabelPosition.Type.UpperLeft:y=m.Label.Alignment.Right;break;case c.RelativeLabelPosition.Type.LowerLeft:b=m.Label.LineAnchor.Top,y=m.Label.Alignment.Right;break;case c.RelativeLabelPosition.Type.Hidden:g=!1;break;default:i(!1,"No valid type for relative label position, given"+f)}return{offset:f,alignment:y,lineAnchor:b,display:g}},l.createCollisionGraph=function(s,u){u||(u=a.vec2.fromValues(1,1));for(var f=[],g=0;g<s.length;g++){f.push([]);for(var y=0,b=s[g];y<b.length;y++)b[y],f[g].push([])}for(var E=new _.Index2D;!E.end(s);E.next(s))for(var x=E.element(f),w=E.element(s),S=new _.Index2D;!S.end(s);S.next(s))if(E.outer!==S.outer){var O=S.element(s);if(w.paddedOverlaps(O,u)){var A=w.paddedOverlapArea(O,u);x.push({index:S.outer,position:S.inner,overlapArea:A});var L=E.element(f).length;i(L>0,"Size expected to be greater than zero, given "+L.length)}}return f},l.computeLabelAreas=function(s,u,f){for(var g=[],y=0,b=s;y<b.length;y++){var E=b[y];g.push([]);for(var x=this.getNDCExtentForLeafLabel(E,f),w=0,S=u;w<S.length;w++){var O=S[w],A=c.RelativeLabelPosition.labelOrigin(O,E.pointLocation,x);g[g.length-1].push(new v.LabelArea(A,x,O))}}return g},l.getRandomInt=function(s){return Math.floor(Math.random()*Math.floor(s))},l.randomIndexExcept=function(s,u){var f=this.getRandomInt(u-1);return f===s?u-1:f},l.randomStartLabelAreas=function(s){for(var u=[],f=0,g=s;f<g.length;f++){var y=g[f];u.push(this.getRandomInt(y.length))}return u},l.computePenalty=function(s,u,f,g,y){if(s.extent[0]===0||s.extent[1]===0)return 0;for(var b=0,E=0,x=0,w=u;x<w.length;x++){var S=w[x];y[S.index]===S.position&&(b+=S.overlapArea,++E)}return g(E,b/=s.area(),s.position,f)},l.simulatedAnnealing=function(s,u,f,g){for(var y=[c.RelativeLabelPosition.Type.UpperRight,c.RelativeLabelPosition.Type.UpperLeft,c.RelativeLabelPosition.Type.LowerLeft,c.RelativeLabelPosition.Type.LowerRight,c.RelativeLabelPosition.Type.Hidden],b=this.computeLabelAreas(s,y,g),E=this.randomStartLabelAreas(b),x=this.createCollisionGraph(b,f),w=5*s.length,S=20*s.length,O=.91023922662,A=0,L=0,k=0;;){var D=this.getRandomInt(s.length),N=E[D],$=this.randomIndexExcept(N,b[D].length),H=this.computePenalty(b[D][N],x[D][N],s[D].priority,u,E)-this.computePenalty(b[D][$],x[D][$],s[D].priority,u,E),q=Math.exp(H/O),X=Math.max(0,Math.min(q,1)),Y=Math.random()<X;if((H>0||Y)&&(E[D]=$,++L),++k,L>w||k>S){if(L===0||A===50)break;O*=.9,L=0,k=0,++A}}for(var J=0;J<s.length;++J)s[J].placement=this.placementFor(b[J][E[J]],s[J].pointLocation)},l.greedy=function(s,u,f,g){for(var y=[],b=[c.RelativeLabelPosition.Type.UpperRight,c.RelativeLabelPosition.Type.UpperLeft,c.RelativeLabelPosition.Type.LowerLeft,c.RelativeLabelPosition.Type.LowerRight,c.RelativeLabelPosition.Type.Hidden],E=0,x=s;E<x.length;E++){for(var w=x[E],S=this.getNDCExtentForLeafLabel(w,g),O=Number.POSITIVE_INFINITY,A=new v.LabelArea(a.vec2.create(),a.vec2.create(),c.RelativeLabelPosition.Type.LowerLeft),L=0,k=b;L<k.length;L++){for(var D=k[L],N=c.RelativeLabelPosition.labelOrigin(D,w.pointLocation,S),$=new v.LabelArea(N,S,D),H=0,q=0,X=0,Y=y;X<Y.length;X++){var J=Y[X];H+=$.paddedOverlapArea(J,f),q+=$.paddedOverlaps(J,f)?1:0}var ee=u(q,H/=$.area(),D,w.priority);ee<O&&(O=ee,A=$)}w.placement=this.placementFor(A,w.pointLocation),y.push(A)}},l.prepareLeafLabels=function(s,u){for(var f=[],g=0,y=s;g<y.length;g++){var b=y[g];if(b){var E=a.vec4.fromValues(b.position[0],b.position[1],b.position[2],1);a.vec4.transformMat4(E,E,u.viewProjection);var x=E[3],w=a.vec2.fromValues(E[0]/x,E[1]/x);f.push({label:b,pointLocation:w,priority:9*b.position[1]+1,placement:{offset:a.vec2.create(),alignment:b.alignment,lineAnchor:b.lineAnchor,display:!0}})}}return f},l.applyNewPlacements=function(s){for(var u=!1,f=!1,g=0,y=s;g<y.length;g++){var b=y[g],E=b.label.alignment!==b.placement.alignment,x=b.label.lineAnchor!==b.placement.lineAnchor;b.label.alignment=b.placement.alignment,b.label.lineAnchor=b.placement.lineAnchor;var w=b.placement.display?h.LabelManagement.leafLabelColor[3]:0;b.label.color.fromRGB(b.label.color.r,b.label.color.g,b.label.color.b,w),u=!!u||b.label.color.altered,f=!!f||E||x}return{visibility:u,positioning:f}},l.adaptPositionToPreventOverlapGreedy=function(s,u){var f=this.prepareLeafLabels(s,u);f.sort(function(y,b){return b.priority-y.priority});var g=a.vec2.fromValues(1,1);return this.greedy(f,n.leafLabelsTreemap,g,u),this.applyNewPlacements(f)},l.adaptPositionToPreventOverlapSimulatedAnnealing=function(s,u){var f=this.prepareLeafLabels(s,u),g=a.vec2.fromValues(1,1);return this.simulatedAnnealing(f,n.leafLabelsTreemap,g,u),this.applyNewPlacements(f)},l}();t.AdaptiveLabelPlacement=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Index2D=void 0;var n=function(){function a(){this.outer=0,this.inner=0}return a.prototype.next=function(i){++this.inner,this.inner===i[this.outer].length&&(++this.outer,this.inner=0)},a.prototype.end=function(i){return this.outer===i.length},a.prototype.element=function(i){return i[this.outer][this.inner]},a}();t.Index2D=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.LabelArea=void 0;var n=r(0),a=n.gl_matrix_extensions.v2,i=r(24),d=function(){function m(_,v,h){this.origin=_,this.extent=v,this.position=h}return m.prototype.areBothPositionsHidden=function(_){return this.position===i.RelativeLabelPosition.Type.Hidden||_===i.RelativeLabelPosition.Type.Hidden},m.prototype.overlaps=function(_){if(this.areBothPositionsHidden(_.position))return!1;var v=n.vec2.add(a(),this.origin,this.extent),h=n.vec2.add(a(),_.origin,_.extent);return this.origin[0]<h[0]&&v[0]>_.origin[0]&&this.origin[1]<h[1]&&v[1]>_.origin[1]},m.prototype.paddedOverlaps=function(_,v){if(this.areBothPositionsHidden(_.position))return!1;var h=n.vec2.fromValues(v[0]+1,v[1]+1),c=n.vec2.sub(a(),this.origin,n.vec2.mul(a(),this.extent,v)),o=n.vec2.sub(a(),_.origin,n.vec2.mul(a(),_.extent,v)),l=n.vec2.add(a(),this.origin,n.vec2.mul(a(),this.extent,h)),s=n.vec2.add(a(),_.origin,n.vec2.mul(a(),_.extent,h));return c[0]<s[0]&&l[0]>o[0]&&c[1]<s[1]&&l[1]>o[1]},m.prototype.overlapArea=function(_){if(this.areBothPositionsHidden(_.position))return 0;var v=n.vec2.max(a(),this.origin,_.origin),h=n.vec2.min(a(),n.vec2.add(a(),this.origin,this.extent),n.vec2.add(a(),_.origin,_.extent));return Math.max(0,h[0]-v[0])*Math.max(0,h[1]-v[1])},m.prototype.paddedOverlapArea=function(_,v){if(this.areBothPositionsHidden(_.position))return 0;var h=n.vec2.max(a(),n.vec2.sub(a(),this.origin,n.vec2.mul(a(),this.extent,v)),n.vec2.sub(a(),_.origin,n.vec2.mul(a(),_.extent,v))),c=n.vec2.fromValues(v[0]+1,v[1]+1),o=n.vec2.min(a(),n.vec2.add(a(),this.origin,n.vec2.mul(a(),this.extent,c)),n.vec2.add(a(),_.origin,n.vec2.mul(a(),_.extent,c)));return Math.max(0,o[0]-h[0])*Math.max(0,o[1]-h[1])},m.prototype.area=function(){return this.extent[0]*this.extent[1]},m}();t.LabelArea=d},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Aggregation=void 0,function(n){n.createAggregationMask=function(a,i,d,m,_,v){var h=new Uint8Array(a.numberOfNodes),c=new Uint8Array(a.numberOfNodes);return a.forEachInnerNode(function(o){var l=_<o.depth;v&&(l=l&&!v[o.index]),c[o.index]=l?1:0}),a.forEachLeafNode(function(o){var l=i[o.index]>0&&(d===void 0||d[o.index]<m);c[o.index]=l?0:1}),a.reverseNodesDo(function(o){o.isRoot||(c[o.parent]&=c[o.index])}),a.nodesDo(function(o){o.isRoot?h[o.index]=0:h[o.index]=c[o.parent]}),h},n.createEmptyAggregationMask=function(a){var i=new Uint8Array(a.numberOfNodes);return i.fill(0,0,a.numberOfNodes),i}}(t.Aggregation||(t.Aggregation={}))},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.BufferResolver=void 0;var n=r(1),a=function(){function i(d){this._topology=d}return i.prototype.resolve=function(d,m,_,v){if(v&&(d===void 0||d===""))return v();var h=n.AttributeBuffer.create(this._topology,_,d,m);return v&&h===void 0?v():h},i.prototype.constBufferCallback=function(d){var m=this;return d===void 0&&(d=0),function(){var _=new Float32Array(m._topology.numberOfNodes);return _.fill(d),_}},i}();t.BufferResolver=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorTable=void 0;var n=function(){function a(i,d,m,_){this._emphasis=i.rgbaF32,this._auxiliary=new Float32Array(4*d.length);for(var v=0;v<d.length;++v)this._auxiliary.set(d[v].rgbaF32,4*v);for(this._inner=new Float32Array(4*m.length),v=0;v<m.length;++v)this._inner.set(m[v].rgbaF32,4*v);for(this._leaf=new Float32Array(4*_.length),v=0;v<_.length;++v)this._leaf.set(_[v].rgbaF32,4*v)}return Object.defineProperty(a.prototype,"innerNodeColorOffset",{get:function(){return this.auxiliaryColorCount},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"innerNodeColorCount",{get:function(){return this._inner.length/4},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"leafColorOffset",{get:function(){return this.innerNodeColorOffset+this.innerNodeColorCount},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"leafColorCount",{get:function(){return this._leaf.length/4},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"auxiliaryColorOffset",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"auxiliaryColorCount",{get:function(){return this._auxiliary.length/4+1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"unmodifiedColorIndex",{get:function(){return this.innerNodeColorOffset},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"selectionColorIndex",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bits",{get:function(){var i=new Float32Array(4*(this.auxiliaryColorCount+this.innerNodeColorCount+this.leafColorCount));return i.set(this._emphasis,0),i.set(this._auxiliary,4),i.set(this._inner,4*this.innerNodeColorOffset),i.set(this._leaf,4*this.leafColorOffset),i},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"length",{get:function(){return this.auxiliaryColorCount+this.leafColorCount+this.innerNodeColorCount},enumerable:!1,configurable:!0}),a}();t.ColorTable=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.IS_EDGE=t.IS_IE11=void 0,t.IS_IE11=typeof navigator=="undefined"?void 0:/MSIE 11/i.test(navigator.userAgent),t.IS_EDGE=typeof navigator=="undefined"?void 0:/Edge\/\d./i.test(navigator.userAgent)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.DrawDispatchComputation=void 0;var n=r(26),a=function(){function i(){}return i.computeParentDrawDispatch=function(d,m,_){var v=new n.DrawDispatch,h=new Uint32Array(d.numberOfInnerNodes);d.forEachInnerNode(function(f){return h[f.index]=f.id});for(var c=h.filter(function(f,g){return!m[g]}),o=d.linearization.slices,l=new Array,s=_===!1?1:0,u=o.length-2;u>=s;--u)l.push(o[u][0]),l.push(o[u][1]);return v.ids=h,v.slices=l,v.filter(0,c),v},i.computeLeafDrawDispatch=function(d,m){var _=new n.DrawDispatch,v=new Uint32Array(d.numberOfLeafNodes);d.forEachLeafNode(function(c){return v[c.index-d.numberOfInnerNodes]=c.id});var h=v.filter(function(c,o){return!m[o+d.numberOfInnerNodes]});return _.ids=v,_.filter(0,h),_},i}();t.DrawDispatchComputation=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.IntermediateResults=void 0;var n=r(3),a=function(){this.topology=new n.Topology};t.IntermediateResults=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeCityLayout=void 0;var n=r(4),a=function(){function i(){}return i.compute=function(d,m,_,v,h,c,o,l){var s=m[d.root.index];d.nodesDo(function(y){var b=m[y.index],E=Math.sqrt(b/s);v[y.index]=new n.Rect(0,0,E*_,E)});var u=new Array;u[d.root.index]=[0,0],d.reverseParentsDo(function(y){var b=0,E=0,x=b,w=E,S=i.Direction.Y;d.childrenDo(y,function(A){var L=v[A.index]=h.siblingMarginAfterCallback(v[A.index],v[y.index],v[y.index],A);switch(S){case i.Direction.X:b+L.width>=x&&(b=x,E=0,S=i.Direction.Y);break;default:case i.Direction.Y:E+L.height>=w&&(b=0,E=w,S=i.Direction.X)}switch(u[A.index]=[b,E],S){case i.Direction.X:b+=L.width,x=Math.max(x,b),w=Math.max(w,Math.max(E+L.height,L.top));break;default:case i.Direction.Y:E+=L.height,x=Math.max(x,Math.max(b+L.width,L.right)),w=Math.max(w,E)}});var O=h.parentPaddingCallback(new n.Rect(0,0,x,w),y,d,v,o,l);v[y.index]=h.accessoryPaddingCallback(O,y,d,v,c)}),d.nodesDo(function(y){var b=v[y.index],E=u[y.index];b.applyOffset(E[0],E[1]),d.childrenDo(y,function(x){var w=u[x.index];w[0]+=E[0],w[1]+=E[1]})});var f=v[d.root.index],g=new n.Rect(0,0,f.aspectRatio,1);g.centerAround([.5,.5]),d.reverseNodesDo(function(y){v[y.index]=v[y.index].map(f,g)})},i}();t.CodeCityLayout=a,function(i){(function(d){d[d.X=0]="X",d[d.Y=1]="Y"})(i.Direction||(i.Direction={}))}(a=t.CodeCityLayout||(t.CodeCityLayout={})),t.CodeCityLayout=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SnakeLayout=void 0;var n=r(80),a=r(7),i=r(4),d=function(){function m(){}return m.compute=function(_,v,h,c,o,l,s,u,f,g){c[_.root.index]=new i.Rect(0,0,h,1),c[_.root.index].centerAround([.5,.5]),_.forEachInnerNode(function(y){if(g){var b=_.node(y.firstChild);if(b.nextSibling===a.Node.INVALID_INDEX&&b.firstChild!==a.Node.INVALID_INDEX)return c[b.index]=c[y.index],c[y.index]=new i.Rect(0,0,0,0),void(f[y.index]=!0)}var E=o.accessoryPaddingCallback(c[y.index],y,_,c,l);E=o.parentPaddingCallback(E,y,_,c,s,u);var x=o.siblingMarginBeforeCallback(E,y,_,c,s,u),w=x.isReversed,S=w,O=new n.DirectionalRow(_,v,x,v[y.index],x.isVertical,S,w);_.childrenDo(y,function(A){var L=v[A.index];O.increasesAverageAspectRatio(L)&&(O.layoutNodes(c),O.next(x.isVertical)),O.insert(A,L)}),O.layoutNodes(c),_.childrenDo(y,function(A){c[A.index]=o.siblingMarginAfterCallback(c[A.index],x,E,A)})})},m}();t.SnakeLayout=d},function(e,t,r){var n,a=this&&this.__extends||(n=function(_,v){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var o in c)Object.prototype.hasOwnProperty.call(c,o)&&(h[o]=c[o])})(_,v)},function(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function h(){this.constructor=_}n(_,v),_.prototype=v===null?Object.create(v):(h.prototype=v.prototype,new h)});Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionalRow=void 0;var i=r(0).auxiliaries.assert,d=r(4),m=function(_){function v(h,c,o,l,s,u,f){var g=_.call(this,h,c,o,l,s)||this;return g._reverse=u,g._parentReverse=f,g}return a(v,_),Object.defineProperty(v.prototype,"reverse",{get:function(){return this._reverse},set:function(h){this._reverse=h},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"parentReverse",{get:function(){return this._parentReverse},set:function(h){this._parentReverse=h},enumerable:!1,configurable:!0}),v.prototype.layoutNodes=function(h){var c=this;if(this._firstChild!==void 0)if(this.isDisabled)this._tree.siblingsRangeDo(this._firstChild,this._lastChild,function(y){h[y.index]=new d.Rect(c._availableSpace.left,c._availableSpace.bottom,c._availableSpace.left,c._availableSpace.bottom)});else{var o=this.currentSpace,l=this._reverse?d.Rect.Orientation.DC:d.Rect.Orientation.CD;if(this._horizontal)if(this._parentReverse){var s=o.right;this._tree.siblingsRangeDo(this._firstChild,this._lastChild,function(y){var b=c._weights[y.index],E=o.width*b/c._childrenWeight,x=Math.max(s-E,o.left);h[y.index]=new d.Rect(x,o.bottom,s,o.top,l),i(c._availableSpace.comprises(h[y.index]),"Expect that child rect is within parent rect"),s=x})}else{var u=o.left;this._tree.siblingsRangeDo(this._firstChild,this._lastChild,function(y){var b=c._weights[y.index],E=o.width*b/c._childrenWeight,x=Math.min(u+E,o.right);h[y.index]=new d.Rect(u,o.bottom,x,o.top,l),i(c._availableSpace.comprises(h[y.index]),"Expect that child rect is within parent rect"),u=x})}else if(this._parentReverse){var f=o.top;this._tree.siblingsRangeDo(this._firstChild,this._lastChild,function(y){var b=c._weights[y.index],E=o.height*b/c._childrenWeight,x=Math.max(f-E,o.bottom);h[y.index]=new d.Rect(o.left,x,o.right,f,l),i(c._availableSpace.comprises(h[y.index]),"Expect that child rect is within parent rect"),f=x})}else{var g=o.bottom;this._tree.siblingsRangeDo(this._firstChild,this._lastChild,function(y){var b=c._weights[y.index],E=o.height*b/c._childrenWeight,x=Math.min(g+E,o.top);h[y.index]=new d.Rect(o.left,g,o.right,x,l),i(c._availableSpace.comprises(h[y.index]),"Expect that child rect is within parent rect"),g=x})}}},Object.defineProperty(v.prototype,"currentSpace",{get:function(){if(this.isDisabled)return this._availableSpace.truncateBottom(this._availableSpace.top);if(this._childrenWeight>=this._availableWeight||this._lastChild===void 0)return d.Rect.clone(this.availableSpace);var h=this._childrenWeight/this._availableWeight;if(this._horizontal){if(this._parentReverse){var c=this._availableSpace.top-h*this._availableSpace.height;return this._availableSpace.truncateBottom(c)}return c=this._availableSpace.bottom+h*this._availableSpace.height,this._availableSpace.truncateTop(c)}return this._parentReverse?(c=this._availableSpace.right-h*this._availableSpace.width,this._availableSpace.truncateLeft(c)):(c=this._availableSpace.left+h*this._availableSpace.width,this._availableSpace.truncateRight(c))},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"remainingSpace",{get:function(){if(this.isDisabled)return this._availableSpace.truncateBottom(this._availableSpace.top);var h=Math.min(this._childrenWeight/this._availableWeight,1);if(this._horizontal){if(this._parentReverse){var c=this._availableSpace.top-h*this._availableSpace.height;return this._availableSpace.truncateTop(c)}return c=this._availableSpace.bottom+h*this._availableSpace.height,this._availableSpace.truncateBottom(c)}return this._parentReverse?(c=this._availableSpace.right-h*this._availableSpace.width,this._availableSpace.truncateRight(c)):(c=this._availableSpace.left+h*this._availableSpace.width,this._availableSpace.truncateLeft(c))},enumerable:!1,configurable:!0}),v.prototype.next=function(h){_.prototype.next.call(this,h),this._reverse=!this._reverse},v}(r(28).Row);t.DirectionalRow=m},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.StripLayout=void 0;var n=r(7),a=r(4),i=r(28),d=function(){function m(){}return m.compute=function(_,v,h,c,o,l,s,u,f,g){c[_.root.index]=new a.Rect(0,0,h,1),c[_.root.index].centerAround([.5,.5]),_.forEachInnerNode(function(y){if(g){var b=_.node(y.firstChild);if(b.nextSibling===n.Node.INVALID_INDEX&&b.firstChild!==n.Node.INVALID_INDEX)return c[b.index]=c[y.index],c[y.index]=new a.Rect(0,0,0,0),void(f[y.index]=!0);f[y.index]=!1}var E=o.accessoryPaddingCallback(c[y.index],y,_,c,l);E=o.parentPaddingCallback(E,y,_,c,s,u);var x=o.siblingMarginBeforeCallback(E,y,_,c,s,u),w=new i.Row(_,v,x,v[y.index],E.isVertical);_.childrenDo(y,function(S){var O=v[S.index];w.increasesAverageAspectRatio(O)&&(w.layoutNodes(c),w.next(x.isVertical)),w.insert(S,O)}),w.layoutNodes(c),_.childrenDo(y,function(S){c[S.index]=o.siblingMarginAfterCallback(c[S.index],x,E,S)})})},m}();t.StripLayout=d},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutCascade=void 0;var n=r(4),a=function(){function i(){}return i.applyCascade=function(d,m){var _=new Array;return _.length=d.numberOfNodes,d.forEachLeafNode(function(v){_[v.index]=n.Rect.clone(m[v.index])}),d.reverseParentsDo(function(v){var h,c=m[v.index];if(d.childrenDo(v,function(f){var g=_[f.index];h===void 0?h=n.Rect.clone(g):h.enclose(g)}),h!==void 0){h.applyOffset(c.left-h.left,c.top-h.top);var o=h.left,l=h.bottom,s=o+h.width,u=l+h.height;_[v.index]=new n.Rect(o,l,s,u)}else _[v.index]=new n.Rect(0,0,0,0)}),_},i}();t.LayoutCascade=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AnimatedServiceData=void 0;var n=r(29),a=function(){function i(){}return i.fetchAsync=function(d,m,_,v,h,c){var o=function(l,s){return"fetching '"+l+"' failed ("+s.status+"): "+s.statusText};return new Promise(function(l,s){for(var u=[void 0,void 0,void 0,void 0],f=[new XMLHttpRequest,new XMLHttpRequest,new XMLHttpRequest,new XMLHttpRequest],g=[d,m,_,v],y=function(E){var x=f[E],w=g[E];x.open("GET",w,!0),x.responseType=E===3?"json":"arraybuffer",x.onload=function(){if(x.status<200||x.status>=300)s(o(w,x));else if(u[E]=x.response,E===3&&typeof x.response=="string"&&(u[E]=JSON.parse(x.response)),u[0]!==void 0&&u[1]!==void 0&&u[2]!==void 0&&u[3]!==void 0){var S=new n.AnimatedServiceAdapter;S.loadAll(u[0],u[1],u[2],u[3],h,c),l(S.config)}},x.onerror=function(){return s(o(w,x))},x.ontimeout=function(){return s(o(w,x))},x.send()},b=0;b<g.length;b++)y(b)})},i.fetchAsyncCombined=function(d,m){var _=function(v,h){return"fetching '"+v+"' failed ("+h.status+"): "+h.statusText};return new Promise(function(v,h){for(var c=[void 0,void 0],o=[new XMLHttpRequest,new XMLHttpRequest],l=[d,m],s=function(f){var g=o[f],y=l[f];g.open("GET",y,!0),g.responseType=f===1?"json":"arraybuffer",g.onload=function(){if(g.status<200||g.status>=300)h(_(y,g));else if(c[f]=g.response,f===1&&typeof g.response=="string"&&(c[f]=JSON.parse(g.response)),c[0]!==void 0&&c[1]!==void 0){var b=new n.AnimatedServiceAdapter;b.loadCombinedFormat(c[0]),b.loadNames(c[1]),v(b.config)}},g.onerror=function(){return h(_(y,g))},g.ontimeout=function(){return h(_(y,g))},g.send()},u=0;u<l.length;u++)s(u)})},i}();t.AnimatedServiceData=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONData=void 0;var n=r(2),a=function(){function i(){}return i.parseCommitHeader=function(d){var m=d.split(i.DELIMITER),_=new Map;return m.forEach(function(v,h){_.set(v,h)}),_},i.parseCommitData=function(d,m,_){for(var v=new Map,h=function(l){var s=l.split(i.DELIMITER),u=m.map(function(g){return Number(s[g])}),f=parseInt(s[_],10);v.set(f,u)},c=0,o=d;c<o.length;c++)h(o[c]);return v},i.convertAndPadCommitData=function(d,m){var _=d.values().next().value.length,v=new Array;return m.forEach(function(h,c){var o=d.get(c);o!==void 0?v.push(o):v.push(new Array(_).fill(0))}),v},i.fetchCommitsAsync=function(d,m){return new Promise(function(_,v){var h=new XMLHttpRequest;h.open("GET",d,!0),h.responseType="text",h.onload=function(){if(h.status<200||h.status>=300)v(i.FAILED(d,h));else{var c=h.response.split(`
`).slice(0,m);_(c)}},h.onerror=function(){return v(i.FAILED(d,h))},h.ontimeout=function(){return v(i.FAILED(d,h))},h.send()})},i.fetchCommitDataAsync=function(d,m){return new Promise(function(_,v){for(var h=new Array,c=0;c<m.length;++c)h.push(new XMLHttpRequest);var o=new Array(m.length).fill(""),l=function(s){var u=h[s];u.open("GET",d+"/"+m[0]+".metrics.csv",!0),u.responseType="text",u.onload=function(){u.status<200||u.status>=300?v(i.FAILED(d,u)):(o[s]=u.response,o.some(function(f){return f===""})||_(o))},u.onerror=function(){return v(i.FAILED(d,u))},u.ontimeout=function(){return v(i.FAILED(d,u))},u.send()};for(c=0;c<h.length;c++)l(c)})},i.fetchIdentitiesAsync=function(d){return new Promise(function(m,_){var v=new XMLHttpRequest;v.open("GET",d,!0),v.responseType="json",v.onload=function(){if(v.status<200||v.status>=300)_(i.FAILED(d,v));else{var h=v.response.identities;m(h)}},v.onerror=function(){return _(i.FAILED(d,v))},v.ontimeout=function(){return _(i.FAILED(d,v))},v.send()})},i.fetchAsync=function(d,m,_,v,h){return new Promise(function(c,o){var l,s;i.fetchCommitsAsync(d+"/"+m,v).then(function(u){return l=u,i.fetchIdentitiesAsync(d+"/"+_)}).then(function(u){s=u}).then(function(){return i.fetchCommitDataAsync(d,l)}).then(function(u){for(var f=function(b){var E=b.split(`
`),x=i.parseCommitHeader(E[0]),w=new Array;x.forEach(function(A,L){h.includes(L)&&w.push(A)});var S=x.get("identity");S===void 0&&o("Could not find identity row in commit."),E=E.slice(1);var O=i.parseCommitData(E.slice(1),w,S);i.convertAndPadCommitData(O,s)},g=0,y=u;g<y.length;g++)f(y[g])}),c(new n.Configuration)})},i.DELIMITER=";",i.FAILED=function(d,m){return"fetching '"+d+"' failed ("+m.status+"): "+m.statusText},i}();t.JSONData=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceData=void 0;var n=r(14),a=function(){function i(){}return i.fetchAsync=function(d,m,_,v,h,c){var o=function(l,s){return"fetching '"+l+"' failed ("+s.status+"): "+s.statusText};return new Promise(function(l,s){for(var u=[void 0,void 0,void 0,void 0],f=[new XMLHttpRequest,new XMLHttpRequest,new XMLHttpRequest,new XMLHttpRequest],g=[d,m,_,v],y=function(E){var x=f[E],w=g[E];x.open("GET",w,!0),x.responseType=E===3?"json":"arraybuffer",x.onload=function(){if(x.status<200||x.status>=300)s(o(w,x));else if(u[E]=x.response,E===3&&typeof x.response=="string"&&(u[E]=JSON.parse(x.response)),u[0]!==void 0&&u[1]!==void 0&&u[2]!==void 0&&u[3]!==void 0){var S=new n.ServiceAdapter;S.loadAll(u[0],u[1],u[2],u[3],h,c),l(S.config)}},x.onerror=function(){return s(o(w,x))},x.ontimeout=function(){return s(o(w,x))},x.send()},b=0;b<g.length;b++)y(b)})},i.fetchAsyncCombined=function(d,m){var _=function(v,h){return"fetching '"+v+"' failed ("+h.status+"): "+h.statusText};return new Promise(function(v,h){for(var c=[void 0,void 0],o=[new XMLHttpRequest,new XMLHttpRequest],l=[d,m],s=function(f){var g=o[f],y=l[f];g.open("GET",y,!0),g.responseType=f===1?"json":"arraybuffer",g.onload=function(){if(g.status<200||g.status>=300)h(_(y,g));else if(c[f]=g.response,f===1&&typeof g.response=="string"&&(c[f]=JSON.parse(g.response)),c[0]!==void 0&&c[1]!==void 0){var b=new n.ServiceAdapter;b.loadCombinedFormat(c[0]),b.loadNames(c[1]),v(b.config)}},g.onerror=function(){return h(_(y,g))},g.ontimeout=function(){return h(_(y,g))},g.send()},u=0;u<l.length;u++)s(u)})},i}();t.ServiceData=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.TestData=void 0;var n=r(0),a=r(87),i=r(14),d=function(){function m(){}return m.config=function(_){var v=new i.ServiceAdapter;return v.loadAll(a.decode(_.values[0].response),a.decode(_.values[1].response),a.decode(_.heights.response),_.labels[0].response,_.heights.include_hierarchy,_.heights.compare),v.config},m.fetchAsync=function(_){var v=function(h,c){return"fetching '"+h+"' failed ("+c.status+"): "+c.statusText};return new Promise(function(h,c){var o=new XMLHttpRequest;o.open("GET",_,!0),o.onload=function(){if(o.status<200||o.status>=300)c(v(_,o));else{var l=o.responseText;if(n.properties.validate(l,m.SCHEMA.properties,[])){var s=JSON.parse(l);h(m.config(s))}}},o.onerror=function(){return c(v(_,o))},o.ontimeout=function(){return c(v(_,o))},o.send()})},m.SCHEMA=r(89),m}();t.TestData=d},function(e,t,r){var n,a=r(88);(n||(n={})).decode=function(i){return a.decode(i)},e.exports=n},function(e,t){(function(){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),a=0;a<r.length;a++)n[r.charCodeAt(a)]=a;t.encode=function(i){var d,m=new Uint8Array(i),_=m.length,v="";for(d=0;d<_;d+=3)v+=r[m[d]>>2],v+=r[(3&m[d])<<4|m[d+1]>>4],v+=r[(15&m[d+1])<<2|m[d+2]>>6],v+=r[63&m[d+2]];return _%3==2?v=v.substring(0,v.length-1)+"=":_%3==1&&(v=v.substring(0,v.length-2)+"=="),v},t.decode=function(i){var d,m,_,v,h,c=.75*i.length,o=i.length,l=0;i[i.length-1]==="="&&(c--,i[i.length-2]==="="&&c--);var s=new ArrayBuffer(c),u=new Uint8Array(s);for(d=0;d<o;d+=4)m=n[i.charCodeAt(d)],_=n[i.charCodeAt(d+1)],v=n[i.charCodeAt(d+2)],h=n[i.charCodeAt(d+3)],u[l++]=m<<2|_>>4,u[l++]=(15&_)<<4|v>>2,u[l++]=(3&v)<<6|63&h;return s}})()},function(e){e.exports=JSON.parse('{"title":"Treemap Test Data Schema","description":"JSON schema for a softwaremap test data, as used in the treemap typescript module.","type":"object","properties":{"api":{"type":"string","enum":["v2"]},"topic":{"type":"number"},"analyses":{"type":"number"},"apps":{"type":"number"},"tags":{"type":"object","properties":{"selection_mode":{"type":"number"},"untagged_selected":{"type":"boolean"},"bitmask":{"type":"number"}}},"values":{"type":"array","items":{"type":"object","properties":{"metric":{"type":"number"},"response":{"type":"string"}},"required":["metric","response"],"additionalProperties":false}},"heights":{"type":"object","properties":{"metric":{"type":"number"},"include_hierarchy":{"type":"boolean"},"mark_unmodified_items":{"type":"boolean"},"compare":{"type":"boolean"},"response":{"type":"string"}},"required":["metric","include_hierarchy","mark_unmodified_items","compare","response"],"additionalProperties":false},"labels":{"type":"array","items":{"type":"object","properties":{"type":{"type":"string"},"ids":{"type":"array","items":{"type":"number"}},"response":{"type":"object"}},"required":["metric","ids","response"],"additionalProperties":false}}},"required":["api","values","heights","labels"],"additionalProperties":false}')},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.MRHData=void 0;var n=r(0),a=r(2),i=r(5),d=r(3),m=function(){function _(){}return _.createConfigAnimation=function(v,h,c,o){var l,s,u,f,g,y,b,E,x=new a.Configuration,w=new d.Topology;w.initialize(d.Topology.InputFormat.Interleaved,!((l=o==null?void 0:o.topology)===null||l===void 0)&&l.semantics?(s=o==null?void 0:o.topology)===null||s===void 0?void 0:s.semantics:d.Topology.InputSemantics.ParentIndexId,v.edges);var S=new d.Topology;S.initialize(d.Topology.InputFormat.Interleaved,!((u=o==null?void 0:o.topology)===null||u===void 0)&&u.semantics?(f=o==null?void 0:o.topology)===null||f===void 0?void 0:f.semantics:d.Topology.InputSemantics.ParentIndexId,h.edges);var O=new Array,A=new Array,L=new Array,k=new d.Topology;k.initialize(d.Topology.InputFormat.Interleaved,!((g=o==null?void 0:o.topology)===null||g===void 0)&&g.semantics?(y=o==null?void 0:o.topology)===null||y===void 0?void 0:y.semantics:d.Topology.InputSemantics.ParentIndexId,c.edges);for(var D=new Array,N=new Array,$=new Array,H=0,q=[[h.weights,O,S],[h.heights,A,S],[h.colors,L,S],[c.weights,D,k],[c.heights,N,k],[c.colors,$,k]];H<q.length;H++){var X=q[H],Y=X[0],J=X[1],ee=X[2];J.length=w.numberOfNodes,J.fill(-1);for(var te=0,ne=ee.nodes;te<ne.length;te++){var ce=ne[te],pe=ce.id,me=ce.index in ee.topologyIndexToEdgeIndexMap?ee.topologyIndexToEdgeIndexMap[ce.index]:void 0;if(me!==void 0){var re=void 0;(re=ce.isLeaf?w.leafNodeIndexById(pe):w.innerNodeIndexById(pe))!==void 0&&(re=re in w.topologyIndexToEdgeIndexMap?w.topologyIndexToEdgeIndexMap[re]:void 0)!==void 0&&(J[re]=Y[me])}}}if(x.topology={edges:v.edges,semantics:!((b=o==null?void 0:o.topology)===null||b===void 0)&&b.semantics?(E=o==null?void 0:o.topology)===null||E===void 0?void 0:E.semantics:d.Topology.InputSemantics.ParentIndexId,format:d.Topology.InputFormat.Interleaved},x.buffers=[{identifier:"mrh-weights",type:"numbers",data:v.weights,linearization:"topology"},{identifier:"mrh-heights",type:"numbers",data:v.heights,linearization:"topology"},{identifier:"mrh-colors",type:"numbers",data:v.colors,linearization:"topology"},{identifier:"prev-weights",type:"numbers",data:O,linearization:"topology"},{identifier:"prev-heights",type:"numbers",data:A,linearization:"topology"},{identifier:"prev-colors",type:"numbers",data:L,linearization:"topology"},{identifier:"next-weights",type:"numbers",data:D,linearization:"topology"},{identifier:"next-heights",type:"numbers",data:N,linearization:"topology"},{identifier:"next-colors",type:"numbers",data:$,linearization:"topology"}],x.bufferViews=[{identifier:"weights",source:"buffer:mrh-weights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"propagate-up",operation:"sum"}]},{identifier:"heights-normalized",source:"buffer:mrh-heights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]},{identifier:"colors-normalized",source:"buffer:mrh-colors",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]},{identifier:"prev-weights",source:"buffer:prev-weights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"propagate-up",operation:"sum"}]},{identifier:"prev-weights-ratio",source:"bufferView:prev-weights",transformations:[{type:"transform",operation:"divide",buffer:"bufferView:weights"}]},{identifier:"prev-heights-normalized",source:"buffer:prev-heights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]},{identifier:"prev-colors-normalized",source:"buffer:prev-colors",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]},{identifier:"next-weights",source:"buffer:next-weights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"propagate-up",operation:"sum"}]},{identifier:"next-weights-ratio",source:"bufferView:next-weights",transformations:[{type:"transform",operation:"divide",buffer:"bufferView:weights"}]},{identifier:"next-heights-normalized",source:"buffer:next-heights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]},{identifier:"next-colors-normalized",source:"buffer:next-colors",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]}],x.colors=[{identifier:"emphasis",space:"hex",value:"#00b0ff"},{identifier:"auxiliary",space:"hex",values:["#00aa5e","#71237c"]},{identifier:"inner",space:"hex",values:["#e8eaee","#eef0f4"]},{identifier:"leaf",space:"hex",values:["#4575b4","#91bfdb","#e0f3f8","#ffffbf","#fee090","#fc8d59","#d73027"]}],x.layout={algorithm:"snake",weight:"bufferView:weights",sort:{key:"bufferView:weights",algorithm:i.NodeSort.Algorithm.Descending},parentPadding:{type:"absolute",value:.002},siblingMargin:{type:"relative",value:.001},accessoryPadding:{type:"absolute",direction:"bottom",value:[.02,.01,.01,.01,.01,.01],relativeAreaThreshold:.4,targetAspectRatio:8}},x.geometry={parentLayer:{showRoot:!1},leafLayers:[{colorMap:"color:leaf",height:"bufferView:heights-normalized",colors:"bufferView:colors-normalized"}],emphasis:{outline:new Array,highlight:new Array},heightScale:.5},x.animations=[{layer:0,height:{buffers:["bufferView:prev-heights-normalized","bufferView:next-heights-normalized"],delaySpread:2e3,timestamps:[0,4e3],easing:"linear",order:"color"},color:{buffers:["bufferView:prev-colors-normalized","bufferView:next-colors-normalized"],delaySpread:2e3,timestamps:[0,4e3],easing:"smoothstep",order:"color"},areaScale:{buffers:["bufferView:prev-weights-ratio","bufferView:next-weights-ratio"],delaySpread:2e3,timestamps:[0,4e3],easing:"smoothstep",order:"color"}}],v.labels){var ye=new Map;Object.keys(v.labels).forEach(function(we){if(v.labels!==void 0){var de=parseInt(we,10),Se=v.labels[de];ye.set(de,Se)}}),x.labels={innerNodeLayerRange:[1,3],numTopInnerNodes:4,callback:function(we,de){return de(ye)}}}else x.labels={};return x},_.createConfig=function(v){var h=new a.Configuration;if(h.topology={edges:v.edges,semantics:d.Topology.InputSemantics.ParentIndexId,format:d.Topology.InputFormat.Interleaved},h.buffers=[{identifier:"source-weights",type:"numbers",data:v.weights,linearization:"topology"},{identifier:"source-heights",type:"numbers",data:v.heights,linearization:"topology"},{identifier:"source-colors",type:"numbers",data:v.colors,linearization:"topology"}],h.bufferViews=[{identifier:"weights",source:"buffer:source-weights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"propagate-up",operation:"sum"}]},{identifier:"heights-normalized",source:"buffer:source-heights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]},{identifier:"colors-normalized",source:"buffer:source-colors",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]}],h.colors=[{identifier:"emphasis",space:"hex",value:"#00b0ff"},{identifier:"auxiliary",space:"hex",values:["#00aa5e","#71237c"]},{identifier:"inner",space:"hex",values:["#e8eaee","#eef0f4"]},{identifier:"leaf",space:"hex",values:["#4575b4","#91bfdb","#e0f3f8","#ffffbf","#fee090","#fc8d59","#d73027"]}],h.layout={algorithm:"snake",weight:"bufferView:weights",sort:{key:"bufferView:weights",algorithm:i.NodeSort.Algorithm.Descending},parentPadding:{type:"absolute",value:.002},siblingMargin:{type:"relative",value:.001},accessoryPadding:{type:"absolute",direction:"bottom",value:[.02,.01,.01,.01,.01,.01],relativeAreaThreshold:.4,targetAspectRatio:8}},h.geometry={parentLayer:{showRoot:!1},leafLayers:[{colorMap:"color:leaf",height:"bufferView:heights-normalized",colors:"bufferView:colors-normalized"}],emphasis:{outline:new Array,highlight:new Array},heightScale:.2},v.labels){var c=new Map;Object.keys(v.labels).forEach(function(o){if(v.labels!==void 0){var l=parseInt(o,10),s=v.labels[l];c.set(l,s)}}),h.labels={innerNodeLayerRange:[1,3],numTopInnerNodes:4,callback:function(o,l){return l(c)}}}else h.labels={};return h},_.fetchAsyncAnimation=function(v,h,c){var o=function(l,s){return"fetching '"+l+"' failed ("+s.status+"): "+s.statusText};return new Promise(function(l,s){var u=[v,h,c].map(function(f){return new Promise(function(g,y){var b=new XMLHttpRequest;b.open("GET",f,!0),b.responseType="json",b.onload=function(){if(b.status<200||b.status>=300)y(o(f,b));else{var E=b.response;if(typeof b.response=="string"&&(E=JSON.parse(b.response)),!n.properties.validate(E,_.SCHEMA.properties,[]))return y(function(x){return"validating JSON in '"+x+"' failed."}(f)),void console.log("Validation error");g(E)}},b.onerror=function(){return y(o(f,b))},b.ontimeout=function(){return y(o(f,b))},b.send()})});Promise.all(u).then(function(f){var g=_.createConfigAnimation(f[0],f[1],f[2]);l(g)})})},_.fetchAsync=function(v){var h=function(c,o){return"fetching '"+c+"' failed ("+o.status+"): "+o.statusText};return new Promise(function(c,o){return new Promise(function(l,s){var u=new XMLHttpRequest;u.open("GET",v,!0),u.responseType="json",u.onload=function(){if(u.status<200||u.status>=300)s(h(v,u));else{var f=u.response;if(typeof u.response=="string"&&(f=JSON.parse(u.response)),!n.properties.validate(f,_.SCHEMA.properties,[]))return s(function(g){return"validating JSON in '"+g+"' failed."}(v)),void console.log("Validation error");l(f)}},u.onerror=function(){return s(h(v,u))},u.ontimeout=function(){return s(h(v,u))},u.send()}).then(function(l){var s=_.createConfig(l);c(s)})})},_.SCHEMA=r(91),_}();t.MRHData=m},function(e){e.exports=JSON.parse('{"title":"Treemap MRH Data Schema","description":"JSON schema for a softwaremap MRH data, as used in the treemap typescript module for TASAM.","type":"object","properties":{"edges":{"type":"array","items":{"type":"number"}},"weights":{"type":"array","items":{"type":"number"}},"heights":{"type":"array","items":{"type":"number"}},"colors":{"type":"array","items":{"type":"number"}}},"required":["edges","weights","heights","colors"],"additionalProperties":false}')},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.CSVData=void 0;var n=r(93),a=r(2),i=r(3),d=r(5),m=function(){},_=function(){function v(){}return v.initialize=function(h,c){h.id_column="ids",h.parent_column="parents",c.colors=[{identifier:"emphasis",space:"hex",value:"#00b0ff"},{identifier:"auxiliary",space:"hex",values:["#00aa5e","#71237c"]},{identifier:"inner",space:"hex",values:["#e8eaee","#eef0f4"]},{identifier:"leaf",space:"hex",values:["#4575b4","#91bfdb","#e0f3f8","#ffffbf","#fee090","#fc8d59","#d73027"]}],c.layout={algorithm:"snake",weight:"bufferView:weights",sort:{key:"bufferView:weights",algorithm:d.NodeSort.Algorithm.Keep},parentPadding:{type:"relative",value:.05},siblingMargin:{type:"relative",value:.05},accessoryPadding:{type:"absolute",direction:"bottom",value:[0,.02,.01,0],relativeAreaThreshold:.4,targetAspectRatio:8}},c.geometry={parentLayer:{showRoot:!0},leafLayers:[{colorMap:"color:leaf",height:"bufferView:heights-normalized",colors:"bufferView:colors-normalized"}],emphasis:{outline:new Array,highlight:new Array},heightScale:.5},c.labels={innerNodeLayerRange:[1,2],numTopInnerNodes:50,numTopWeightNodes:50,numTopHeightNodes:50,numTopColorNodes:50}},v.parseHeader=function(h,c,o){for(;h.length>=1&&h[0].startsWith("#");){var l=h.shift().substring(1).trim().split("=").map(function(f){return f.trim()}),s=l[0],u=l[1];s=="ids"?c.id_column=u:s=="parents"?c.parent_column=u:s=="weights"?c.weight_column=u:s=="heights"?c.height_column=u:s=="colors"?c.color_column=u:s=="labels"?c.label_column=u:console.log("Unparsed header",s,"=",u)}},v.parsePapaparseResult=function(h,c,o){for(var l,s=function(k,D){if(k.meta.fields.indexOf(D)<0)return new Uint32Array(k.data.length);var N=k.data.map(function($){return $[D]?$[D]:0});return Uint32Array.from(N)},u=function(k,D){if(k.meta.fields.indexOf(D)<0)return new Float32Array(k.data.length);var N=k.data.map(function($){return $[D]?$[D]:-1});return Float32Array.from([0].concat(N))},f=s(h,c.id_column),g=s(h,c.parent_column),y=u(h,c.weight_column),b=u(h,c.height_column),E=u(h,c.color_column),x=function(k,D){return k.meta.fields.indexOf(D)<0?new Array(k.data.length):k.data.map(function(N){return N[D]?N[D]:""})}(h,c.label_column),w=new Array,S=0;S<f.length;S++){var O=f[S],A=g[S];w.push(A),w.push(O)}if(o.topology={edges:w,semantics:i.Topology.InputSemantics.ParentIdId,format:i.Topology.InputFormat.Interleaved},o.buffers=[{identifier:"source-weights",type:"numbers",data:y,linearization:"topology"},{identifier:"source-heights",type:"numbers",data:b,linearization:"topology"},{identifier:"source-colors",type:"numbers",data:E,linearization:"topology"}],o.bufferViews=[{identifier:"weights",source:"buffer:source-weights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"propagate-up",operation:"sum"}]},{identifier:"heights-normalized",source:"buffer:source-heights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]},{identifier:"colors-normalized",source:"buffer:source-colors",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]}],l=c.label_column,h.meta.fields.indexOf(l)>=0){var L=new Map;for(S=0;S<x.length;++S)L.set(f[S],x[S]);o.labels.callback=function(k,D){return D(L)}}o.altered.alter("any")},v.fetchAsync=function(h){return new Promise(function(c,o){var l=new XMLHttpRequest;l.open("GET",h,!0),l.responseType="text",l.onload=function(){l.status<200||l.status>=300?o(v.FAILED(h,l)):v.loadAsync(l.response).then(function(s){return c(s)})},l.onerror=function(){return o(v.FAILED(h,l))},l.ontimeout=function(){return o(v.FAILED(h,l))},l.send()})},v.loadAsync=function(h){return new Promise(function(c,o){var l=new a.Configuration,s=new m;v.initialize(s,l);var u=h.split(`
`);v.parseHeader(u,s,l);var f=u.join(`
`);n.parse(f,{error:function(g){return o(g)},complete:function(g){v.parsePapaparseResult(g,s,l),c(l)},delimiter:v.CSV_FIELD_DELIMITER,quoteChar:'"',escapeChar:'"',header:!0,comments:"#",skipEmptyLines:!0})})},v.CSV_FIELD_DELIMITER=";",v.FAILED=function(h,c){return"fetching '"+h+"' failed ("+c.status+"): "+c.statusText},v}();t.CSVData=_},function(e,t,r){var n,a,i;/* @license
Papa Parse
v5.3.2
https://github.com/mholt/PapaParse
License: MIT
*/a=[],(i=typeof(n=function d(){var m=typeof self!="undefined"?self:typeof window!="undefined"?window:m!==void 0?m:{},_=!m.document&&!!m.postMessage,v=_&&/blob:/i.test((m.location||{}).protocol),h={},c=0,o={parse:function(D,N){var $=(N=N||{}).dynamicTyping||!1;if(k($)&&(N.dynamicTypingFunction=$,$={}),N.dynamicTyping=$,N.transform=!!k(N.transform)&&N.transform,N.worker&&o.WORKERS_SUPPORTED){var H=function(){if(!o.WORKERS_SUPPORTED)return!1;var X,Y,J=(X=m.URL||m.webkitURL||null,Y=d.toString(),o.BLOB_URL||(o.BLOB_URL=X.createObjectURL(new Blob(["(",Y,")();"],{type:"text/javascript"})))),ee=new m.Worker(J);return ee.onmessage=w,ee.id=c++,h[ee.id]=ee}();return H.userStep=N.step,H.userChunk=N.chunk,H.userComplete=N.complete,H.userError=N.error,N.step=k(N.step),N.chunk=k(N.chunk),N.complete=k(N.complete),N.error=k(N.error),delete N.worker,void H.postMessage({input:D,config:N,workerId:H.id})}var q=null;return o.NODE_STREAM_INPUT,typeof D=="string"?q=N.download?new u(N):new g(N):D.readable===!0&&k(D.read)&&k(D.on)?q=new y(N):(m.File&&D instanceof File||D instanceof Object)&&(q=new f(N)),q.stream(D)},unparse:function(D,N){var $=!1,H=!0,q=",",X=`\r
`,Y='"',J=Y+Y,ee=!1,te=null,ne=!1;(function(){if(typeof N=="object"){if(typeof N.delimiter!="string"||o.BAD_DELIMITERS.filter(function(re){return N.delimiter.indexOf(re)!==-1}).length||(q=N.delimiter),(typeof N.quotes=="boolean"||typeof N.quotes=="function"||Array.isArray(N.quotes))&&($=N.quotes),typeof N.skipEmptyLines!="boolean"&&typeof N.skipEmptyLines!="string"||(ee=N.skipEmptyLines),typeof N.newline=="string"&&(X=N.newline),typeof N.quoteChar=="string"&&(Y=N.quoteChar),typeof N.header=="boolean"&&(H=N.header),Array.isArray(N.columns)){if(N.columns.length===0)throw new Error("Option columns is empty");te=N.columns}N.escapeChar!==void 0&&(J=N.escapeChar+Y),(typeof N.escapeFormulae=="boolean"||N.escapeFormulae instanceof RegExp)&&(ne=N.escapeFormulae instanceof RegExp?N.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var ce=new RegExp(E(Y),"g");if(typeof D=="string"&&(D=JSON.parse(D)),Array.isArray(D)){if(!D.length||Array.isArray(D[0]))return pe(null,D,ee);if(typeof D[0]=="object")return pe(te||Object.keys(D[0]),D,ee)}else if(typeof D=="object")return typeof D.data=="string"&&(D.data=JSON.parse(D.data)),Array.isArray(D.data)&&(D.fields||(D.fields=D.meta&&D.meta.fields||te),D.fields||(D.fields=Array.isArray(D.data[0])?D.fields:typeof D.data[0]=="object"?Object.keys(D.data[0]):[]),Array.isArray(D.data[0])||typeof D.data[0]=="object"||(D.data=[D.data])),pe(D.fields||[],D.data||[],ee);throw new Error("Unable to serialize unrecognized input");function pe(re,ye,we){var de="";typeof re=="string"&&(re=JSON.parse(re)),typeof ye=="string"&&(ye=JSON.parse(ye));var Se=Array.isArray(re)&&0<re.length,xe=!Array.isArray(ye[0]);if(Se&&H){for(var Oe=0;Oe<re.length;Oe++)0<Oe&&(de+=q),de+=me(re[Oe],Oe);0<ye.length&&(de+=X)}for(var he=0;he<ye.length;he++){var Ae=Se?re.length:ye[he].length,Le=!1,Ee=Se?Object.keys(ye[he]).length===0:ye[he].length===0;if(we&&!Se&&(Le=we==="greedy"?ye[he].join("").trim()==="":ye[he].length===1&&ye[he][0].length===0),we==="greedy"&&Se){for(var Ce=[],Ie=0;Ie<Ae;Ie++){var je=xe?re[Ie]:Ie;Ce.push(ye[he][je])}Le=Ce.join("").trim()===""}if(!Le){for(var Me=0;Me<Ae;Me++){0<Me&&!Ee&&(de+=q);var Ye=Se&&xe?re[Me]:Me;de+=me(ye[he][Ye],Me)}he<ye.length-1&&(!we||0<Ae&&!Ee)&&(de+=X)}}return de}function me(re,ye){if(re==null)return"";if(re.constructor===Date)return JSON.stringify(re).slice(1,25);var we=!1;ne&&typeof re=="string"&&ne.test(re)&&(re="'"+re,we=!0);var de=re.toString().replace(ce,J);return(we=we||$===!0||typeof $=="function"&&$(re,ye)||Array.isArray($)&&$[ye]||function(Se,xe){for(var Oe=0;Oe<xe.length;Oe++)if(-1<Se.indexOf(xe[Oe]))return!0;return!1}(de,o.BAD_DELIMITERS)||-1<de.indexOf(q)||de.charAt(0)===" "||de.charAt(de.length-1)===" ")?Y+de+Y:de}}};if(o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\uFEFF",o.BAD_DELIMITERS=["\r",`
`,'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!_&&!!m.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=x,o.ParserHandle=b,o.NetworkStreamer=u,o.FileStreamer=f,o.StringStreamer=g,o.ReadableStreamStreamer=y,m.jQuery){var l=m.jQuery;l.fn.parse=function(D){var N=D.config||{},$=[];return this.each(function(X){if(l(this).prop("tagName").toUpperCase()!=="INPUT"||l(this).attr("type").toLowerCase()!=="file"||!m.FileReader||!this.files||this.files.length===0)return!0;for(var Y=0;Y<this.files.length;Y++)$.push({file:this.files[Y],inputElem:this,instanceConfig:l.extend({},N)})}),H(),this;function H(){if($.length!==0){var X,Y,J,ee=$[0];if(k(D.before)){var te=D.before(ee.file,ee.inputElem);if(typeof te=="object"){if(te.action==="abort")return X=ee.file,Y=ee.inputElem,J=te.reason,void(k(D.error)&&D.error({name:"AbortError"},X,Y,J));if(te.action==="skip")return void q();typeof te.config=="object"&&(ee.instanceConfig=l.extend(ee.instanceConfig,te.config))}else if(te==="skip")return void q()}var ne=ee.instanceConfig.complete;ee.instanceConfig.complete=function(ce){k(ne)&&ne(ce,ee.file,ee.inputElem),q()},o.parse(ee.file,ee.instanceConfig)}else k(D.complete)&&D.complete()}function q(){$.splice(0,1),H()}}}function s(D){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(N){var $=A(N);$.chunkSize=parseInt($.chunkSize),N.step||N.chunk||($.chunkSize=null),this._handle=new b($),(this._handle.streamer=this)._config=$}.call(this,D),this.parseChunk=function(N,$){if(this.isFirstChunk&&k(this._config.beforeFirstChunk)){var H=this._config.beforeFirstChunk(N);H!==void 0&&(N=H)}this.isFirstChunk=!1,this._halted=!1;var q=this._partialLine+N;this._partialLine="";var X=this._handle.parse(q,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Y=X.meta.cursor;this._finished||(this._partialLine=q.substring(Y-this._baseIndex),this._baseIndex=Y),X&&X.data&&(this._rowCount+=X.data.length);var J=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(v)m.postMessage({results:X,workerId:o.WORKER_ID,finished:J});else if(k(this._config.chunk)&&!$){if(this._config.chunk(X,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);X=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(X.data),this._completeResults.errors=this._completeResults.errors.concat(X.errors),this._completeResults.meta=X.meta),this._completed||!J||!k(this._config.complete)||X&&X.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),J||X&&X.meta.paused||this._nextChunk(),X}this._halted=!0},this._sendError=function(N){k(this._config.error)?this._config.error(N):v&&this._config.error&&m.postMessage({workerId:o.WORKER_ID,error:N,finished:!1})}}function u(D){var N;(D=D||{}).chunkSize||(D.chunkSize=o.RemoteChunkSize),s.call(this,D),this._nextChunk=_?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function($){this._input=$,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(N=new XMLHttpRequest,this._config.withCredentials&&(N.withCredentials=this._config.withCredentials),_||(N.onload=L(this._chunkLoaded,this),N.onerror=L(this._chunkError,this)),N.open(this._config.downloadRequestBody?"POST":"GET",this._input,!_),this._config.downloadRequestHeaders){var $=this._config.downloadRequestHeaders;for(var H in $)N.setRequestHeader(H,$[H])}if(this._config.chunkSize){var q=this._start+this._config.chunkSize-1;N.setRequestHeader("Range","bytes="+this._start+"-"+q)}try{N.send(this._config.downloadRequestBody)}catch(X){this._chunkError(X.message)}_&&N.status===0&&this._chunkError()}},this._chunkLoaded=function(){N.readyState===4&&(N.status<200||400<=N.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:N.responseText.length,this._finished=!this._config.chunkSize||this._start>=function($){var H=$.getResponseHeader("Content-Range");return H===null?-1:parseInt(H.substring(H.lastIndexOf("/")+1))}(N),this.parseChunk(N.responseText)))},this._chunkError=function($){var H=N.statusText||$;this._sendError(new Error(H))}}function f(D){var N,$;(D=D||{}).chunkSize||(D.chunkSize=o.LocalChunkSize),s.call(this,D);var H=typeof FileReader!="undefined";this.stream=function(q){this._input=q,$=q.slice||q.webkitSlice||q.mozSlice,H?((N=new FileReader).onload=L(this._chunkLoaded,this),N.onerror=L(this._chunkError,this)):N=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var q=this._input;if(this._config.chunkSize){var X=Math.min(this._start+this._config.chunkSize,this._input.size);q=$.call(q,this._start,X)}var Y=N.readAsText(q,this._config.encoding);H||this._chunkLoaded({target:{result:Y}})},this._chunkLoaded=function(q){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(q.target.result)},this._chunkError=function(){this._sendError(N.error)}}function g(D){var N;s.call(this,D=D||{}),this.stream=function($){return N=$,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var $,H=this._config.chunkSize;return H?($=N.substring(0,H),N=N.substring(H)):($=N,N=""),this._finished=!N,this.parseChunk($)}}}function y(D){s.call(this,D=D||{});var N=[],$=!0,H=!1;this.pause=function(){s.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){s.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(q){this._input=q,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){H&&N.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),N.length?this.parseChunk(N.shift()):$=!0},this._streamData=L(function(q){try{N.push(typeof q=="string"?q:q.toString(this._config.encoding)),$&&($=!1,this._checkIsFinished(),this.parseChunk(N.shift()))}catch(X){this._streamError(X)}},this),this._streamError=L(function(q){this._streamCleanUp(),this._sendError(q)},this),this._streamEnd=L(function(){this._streamCleanUp(),H=!0,this._streamData("")},this),this._streamCleanUp=L(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(D){var N,$,H,q=Math.pow(2,53),X=-q,Y=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,J=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,ee=this,te=0,ne=0,ce=!1,pe=!1,me=[],re={data:[],errors:[],meta:{}};if(k(D.step)){var ye=D.step;D.step=function(he){if(re=he,Se())de();else{if(de(),re.data.length===0)return;te+=he.data.length,D.preview&&te>D.preview?$.abort():(re.data=re.data[0],ye(re,ee))}}}function we(he){return D.skipEmptyLines==="greedy"?he.join("").trim()==="":he.length===1&&he[0].length===0}function de(){return re&&H&&(Oe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),H=!1),D.skipEmptyLines&&(re.data=re.data.filter(function(he){return!we(he)})),Se()&&function(){if(re)if(Array.isArray(re.data[0])){for(var he=0;Se()&&he<re.data.length;he++)re.data[he].forEach(Ae);re.data.splice(0,1)}else re.data.forEach(Ae);function Ae(Le,Ee){k(D.transformHeader)&&(Le=D.transformHeader(Le,Ee)),me.push(Le)}}(),function(){if(!re||!D.header&&!D.dynamicTyping&&!D.transform)return re;function he(Le,Ee){var Ce,Ie=D.header?{}:[];for(Ce=0;Ce<Le.length;Ce++){var je=Ce,Me=Le[Ce];D.header&&(je=Ce>=me.length?"__parsed_extra":me[Ce]),D.transform&&(Me=D.transform(Me,je)),Me=xe(je,Me),je==="__parsed_extra"?(Ie[je]=Ie[je]||[],Ie[je].push(Me)):Ie[je]=Me}return D.header&&(Ce>me.length?Oe("FieldMismatch","TooManyFields","Too many fields: expected "+me.length+" fields but parsed "+Ce,ne+Ee):Ce<me.length&&Oe("FieldMismatch","TooFewFields","Too few fields: expected "+me.length+" fields but parsed "+Ce,ne+Ee)),Ie}var Ae=1;return!re.data.length||Array.isArray(re.data[0])?(re.data=re.data.map(he),Ae=re.data.length):re.data=he(re.data,0),D.header&&re.meta&&(re.meta.fields=me),ne+=Ae,re}()}function Se(){return D.header&&me.length===0}function xe(he,Ae){return Le=he,D.dynamicTypingFunction&&D.dynamicTyping[Le]===void 0&&(D.dynamicTyping[Le]=D.dynamicTypingFunction(Le)),(D.dynamicTyping[Le]||D.dynamicTyping)===!0?Ae==="true"||Ae==="TRUE"||Ae!=="false"&&Ae!=="FALSE"&&(function(Ee){if(Y.test(Ee)){var Ce=parseFloat(Ee);if(X<Ce&&Ce<q)return!0}return!1}(Ae)?parseFloat(Ae):J.test(Ae)?new Date(Ae):Ae===""?null:Ae):Ae;var Le}function Oe(he,Ae,Le,Ee){var Ce={type:he,code:Ae,message:Le};Ee!==void 0&&(Ce.row=Ee),re.errors.push(Ce)}this.parse=function(he,Ae,Le){var Ee=D.quoteChar||'"';if(D.newline||(D.newline=function(je,Me){je=je.substring(0,1048576);var Ye=new RegExp(E(Me)+"([^]*?)"+E(Me),"gm"),De=(je=je.replace(Ye,"")).split("\r"),He=je.split(`
`),tt=1<He.length&&He[0].length<De[0].length;if(De.length===1||tt)return`
`;for(var Re=0,Ke=0;Ke<De.length;Ke++)De[Ke][0]===`
`&&Re++;return Re>=De.length/2?`\r
`:"\r"}(he,Ee)),H=!1,D.delimiter)k(D.delimiter)&&(D.delimiter=D.delimiter(he),re.meta.delimiter=D.delimiter);else{var Ce=function(je,Me,Ye,De,He){var tt,Re,Ke,U;He=He||[",","	","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var C=0;C<He.length;C++){var M=He[C],z=0,V=0,j=0;Ke=void 0;for(var Z=new x({comments:De,delimiter:M,newline:Me,preview:10}).parse(je),se=0;se<Z.data.length;se++)if(Ye&&we(Z.data[se]))j++;else{var fe=Z.data[se].length;V+=fe,Ke!==void 0?0<fe&&(z+=Math.abs(fe-Ke),Ke=fe):Ke=fe}0<Z.data.length&&(V/=Z.data.length-j),(Re===void 0||z<=Re)&&(U===void 0||U<V)&&1.99<V&&(Re=z,tt=M,U=V)}return{successful:!!(D.delimiter=tt),bestDelimiter:tt}}(he,D.newline,D.skipEmptyLines,D.comments,D.delimitersToGuess);Ce.successful?D.delimiter=Ce.bestDelimiter:(H=!0,D.delimiter=o.DefaultDelimiter),re.meta.delimiter=D.delimiter}var Ie=A(D);return D.preview&&D.header&&Ie.preview++,N=he,$=new x(Ie),re=$.parse(N,Ae,Le),de(),ce?{meta:{paused:!0}}:re||{meta:{paused:!1}}},this.paused=function(){return ce},this.pause=function(){ce=!0,$.abort(),N=k(D.chunk)?"":N.substring($.getCharIndex())},this.resume=function(){ee.streamer._halted?(ce=!1,ee.streamer.parseChunk(N,!0)):setTimeout(ee.resume,3)},this.aborted=function(){return pe},this.abort=function(){pe=!0,$.abort(),re.meta.aborted=!0,k(D.complete)&&D.complete(re),N=""}}function E(D){return D.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(D){var N,$=(D=D||{}).delimiter,H=D.newline,q=D.comments,X=D.step,Y=D.preview,J=D.fastMode,ee=N=D.quoteChar===void 0||D.quoteChar===null?'"':D.quoteChar;if(D.escapeChar!==void 0&&(ee=D.escapeChar),(typeof $!="string"||-1<o.BAD_DELIMITERS.indexOf($))&&($=","),q===$)throw new Error("Comment character same as delimiter");q===!0?q="#":(typeof q!="string"||-1<o.BAD_DELIMITERS.indexOf(q))&&(q=!1),H!==`
`&&H!=="\r"&&H!==`\r
`&&(H=`
`);var te=0,ne=!1;this.parse=function(ce,pe,me){if(typeof ce!="string")throw new Error("Input must be a string");var re=ce.length,ye=$.length,we=H.length,de=q.length,Se=k(X),xe=[],Oe=[],he=[],Ae=te=0;if(!ce)return U();if(J||J!==!1&&ce.indexOf(N)===-1){for(var Le=ce.split(H),Ee=0;Ee<Le.length;Ee++){if(he=Le[Ee],te+=he.length,Ee!==Le.length-1)te+=H.length;else if(me)return U();if(!q||he.substring(0,de)!==q){if(Se){if(xe=[],He(he.split($)),C(),ne)return U()}else He(he.split($));if(Y&&Y<=Ee)return xe=xe.slice(0,Y),U(!0)}}return U()}for(var Ce=ce.indexOf($,te),Ie=ce.indexOf(H,te),je=new RegExp(E(ee)+E(N),"g"),Me=ce.indexOf(N,te);;)if(ce[te]!==N)if(q&&he.length===0&&ce.substring(te,te+de)===q){if(Ie===-1)return U();te=Ie+we,Ie=ce.indexOf(H,te),Ce=ce.indexOf($,te)}else if(Ce!==-1&&(Ce<Ie||Ie===-1))he.push(ce.substring(te,Ce)),te=Ce+ye,Ce=ce.indexOf($,te);else{if(Ie===-1)break;if(he.push(ce.substring(te,Ie)),Ke(Ie+we),Se&&(C(),ne))return U();if(Y&&xe.length>=Y)return U(!0)}else for(Me=te,te++;;){if((Me=ce.indexOf(N,Me+1))===-1)return me||Oe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:xe.length,index:te}),Re();if(Me===re-1)return Re(ce.substring(te,Me).replace(je,N));if(N!==ee||ce[Me+1]!==ee){if(N===ee||Me===0||ce[Me-1]!==ee){Ce!==-1&&Ce<Me+1&&(Ce=ce.indexOf($,Me+1)),Ie!==-1&&Ie<Me+1&&(Ie=ce.indexOf(H,Me+1));var Ye=tt(Ie===-1?Ce:Math.min(Ce,Ie));if(ce.substr(Me+1+Ye,ye)===$){he.push(ce.substring(te,Me).replace(je,N)),ce[te=Me+1+Ye+ye]!==N&&(Me=ce.indexOf(N,te)),Ce=ce.indexOf($,te),Ie=ce.indexOf(H,te);break}var De=tt(Ie);if(ce.substring(Me+1+De,Me+1+De+we)===H){if(he.push(ce.substring(te,Me).replace(je,N)),Ke(Me+1+De+we),Ce=ce.indexOf($,te),Me=ce.indexOf(N,te),Se&&(C(),ne))return U();if(Y&&xe.length>=Y)return U(!0);break}Oe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:xe.length,index:te}),Me++}}else Me++}return Re();function He(M){xe.push(M),Ae=te}function tt(M){var z=0;if(M!==-1){var V=ce.substring(Me+1,M);V&&V.trim()===""&&(z=V.length)}return z}function Re(M){return me||(M===void 0&&(M=ce.substring(te)),he.push(M),te=re,He(he),Se&&C()),U()}function Ke(M){te=M,He(he),he=[],Ie=ce.indexOf(H,te)}function U(M){return{data:xe,errors:Oe,meta:{delimiter:$,linebreak:H,aborted:ne,truncated:!!M,cursor:Ae+(pe||0)}}}function C(){X(U()),xe=[],Oe=[]}},this.abort=function(){ne=!0},this.getCharIndex=function(){return te}}function w(D){var N=D.data,$=h[N.workerId],H=!1;if(N.error)$.userError(N.error,N.file);else if(N.results&&N.results.data){var q={abort:function(){H=!0,S(N.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(k($.userStep)){for(var X=0;X<N.results.data.length&&($.userStep({data:N.results.data[X],errors:N.results.errors,meta:N.results.meta},q),!H);X++);delete N.results}else k($.userChunk)&&($.userChunk(N.results,q,N.file),delete N.results)}N.finished&&!H&&S(N.workerId,N.results)}function S(D,N){var $=h[D];k($.userComplete)&&$.userComplete(N),$.terminate(),delete h[D]}function O(){throw new Error("Not implemented.")}function A(D){if(typeof D!="object"||D===null)return D;var N=Array.isArray(D)?[]:{};for(var $ in D)N[$]=A(D[$]);return N}function L(D,N){return function(){D.apply(N,arguments)}}function k(D){return typeof D=="function"}return v&&(m.onmessage=function(D){var N=D.data;if(o.WORKER_ID===void 0&&N&&(o.WORKER_ID=N.workerId),typeof N.input=="string")m.postMessage({workerId:o.WORKER_ID,results:o.parse(N.input,N.config),finished:!0});else if(m.File&&N.input instanceof File||N.input instanceof Object){var $=o.parse(N.input,N.config);$&&m.postMessage({workerId:o.WORKER_ID,results:$,finished:!0})}}),(u.prototype=Object.create(s.prototype)).constructor=u,(f.prototype=Object.create(s.prototype)).constructor=f,(g.prototype=Object.create(g.prototype)).constructor=g,(y.prototype=Object.create(s.prototype)).constructor=y,o})=="function"?n.apply(t,a):n)===void 0||(e.exports=i)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.VideoCreator=void 0;var n=r(0),a=r(32),i=n.auxiliaries.assert,d=function(){function m(_){this._context=_,this._screenshotCreator=new a.ScreenshotCreator(this._context),this._images=new Array}return m.downloadVideo=function(_){var v=window.URL.createObjectURL(_),h=document.createElement("a");h.download="video.webm",h.href=v,h.click(),window.URL.revokeObjectURL(v)},m.prototype.start=function(_,v){this._fps=_,this._rect=v,this._images.length=0},m.prototype.addFrame=function(_,v){i(this._fps!==void 0,"Video creator needs to be started before adding a frame.");var h=this._screenshotCreator.capture(_,v,this._rect);this._images.push(h)},m.prototype.end=function(){return i(this._fps!==void 0,"Video creator needs to be started before ending it."),this._fps=void 0,this._images},m}();t.VideoCreator=d},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=void 0;var n=r(0),a=r(0);t.initialize=function(i,d,m){m===void 0&&(m=new a.Color().fromHex("fafafa"));var _=i instanceof HTMLCanvasElement?i:document.getElementById(i),v=!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime);navigator.appVersion.indexOf("Mac")!==-1&&v&&(_.dataset.msqrdP="no-WEBGL_draw_buffers",console.warn("detected Chrome on MacOS, disabling WEBGL_draw_buffers"));var h=new a.Canvas(_,d||{alpha:!1,antialias:!1,depth:!1,failIfMajorPerformanceCaveat:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,stencil:!1});return new n.viewer.EventBlocker(h.element).block("contextmenu"),h.clearColor=m,h.framePrecision=a.Wizard.Precision.byte,h.controller.multiFrameNumber=64,h.context.gl.clearColor(m.r,m.g,m.b,m.a),h.context.gl.clear(h.context.gl.COLOR_BUFFER_BIT),h}}]);function QI(e){const t={name:"/",children:[]};return e.forEach(r=>{const n=r.filename.replace("./","").split("/");n.reduce((a,i)=>{if(!a.children.find(d=>d.name===i)){const d={name:i,children:[]};i===n[n.length-1]&&(d.metrics=r),a.children.push(d)}return a.children.find(d=>d.name===i)},t)}),console.log(t),t.children.length===1?t.children[0]:t}function JI(e,t={weights:"loc",heights:"nof",colors:"dc"}){const r=new ml.Configuration,n=[],a=new Map,i=[0],d=[0],m=[0];function _(v,h=0){const c=n.length+1;a.set(c,v.name),n.push([h,c]),v.metrics?(i.push(v.metrics[t.weights]),d.push(v.metrics[t.heights]),m.push(v.metrics[t.colors])):(i.push(0),d.push(0),m.push(0)),v.children.forEach(o=>{_(o,c)})}return _(e),console.log("names",a),console.log("edges",n),console.log("weights",i),console.log("heights",d),console.log("colors",m),r.colors=[{identifier:"emphasis",space:"hex",value:"#00b0ff"},{identifier:"auxiliary",space:"hex",values:["#00aa5e","#71237c"]},{identifier:"inner",space:"hex",values:["#e8eaee","#eef0f4"]},{identifier:"leaf",space:"hex",values:["#4575b4","#91bfdb","#e0f3f8","#ffffbf","#fee090","#fc8d59","#d73027"]}],r.layout={algorithm:"snake",weight:"bufferView:weights",sort:{key:"bufferView:weights",algorithm:ml.NodeSort.Algorithm.Keep},parentPadding:{type:"relative",value:.05},siblingMargin:{type:"relative",value:.05},accessoryPadding:{type:"absolute",direction:"bottom",value:[0,.02,.01,0],relativeAreaThreshold:.4,targetAspectRatio:8}},r.geometry={parentLayer:{showRoot:!0},leafLayers:[{colorMap:"color:leaf",height:"bufferView:heights-normalized",colors:"bufferView:colors-normalized"}],emphasis:{outline:new Array,highlight:new Array},heightScale:.5},r.labels={innerNodeLayerRange:[0,4],numTopInnerNodes:6,numTopWeightNodes:6,numTopHeightNodes:6,numTopColorNodes:6},r.labels.callback=(v,h)=>h(a),r.altered.alter("labels"),r.topology={edges:n,format:"tupled"},r.buffers=[{identifier:"source-weights",type:"numbers",data:i,linearization:"topology"},{identifier:"source-heights",type:"numbers",data:d,linearization:"topology"},{identifier:"source-colors",type:"numbers",data:m,linearization:"topology"}],r.bufferViews=[{identifier:"weights",source:"buffer:source-weights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"propagate-up",operation:"sum"}]},{identifier:"heights-normalized",source:"buffer:source-heights",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]},{identifier:"colors-normalized",source:"buffer:source-colors",transformations:[{type:"fill-invalid",value:0,invalidValue:-1},{type:"normalize",operation:"zero-to-max"}]}],console.log("Config",JSON.stringify(r,null,2)),r}function eM({header:e,rows:t}){const r=QI(t),[n,a]=ve.exports.useState(JI(r)),[i,d]=ve.exports.useState(new ml.Visualization);let m;ve.exports.useEffect(()=>{window.SeereneConstants={STATIC_DIRECTORY:"/assets"},m=ml.initialize("canvasElement"),m.renderer=i.renderer,console.log("cfg:",n),_()},[]);function _(){if(console.log("loadConfig"),n&&i&&m)i.configuration=n,console.log("Visualization:",i),console.log("Config:",i.configuration),console.log("Canvas:",m),m.controller.update();else throw Error("Visualization or config not initialized")}return Ln("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"},children:[Ge("div",{id:"labelContainer",className:"label-overlay"}),Ge("canvas",{id:"canvasElement",width:"1400",height:"700"})]})}function tM({header:e,rows:t,size:r}){const n=t.reduce((a,i)=>a+i.loc,0);return Ge(sP,{children:Ln(gh,{direction:"row",spacing:2,children:[Ge(dh,{label:`${t.length} files`,variant:"outlined"}),Ge(dh,{label:`${n} lines of code`,variant:"outlined"}),Ge(dh,{label:`${iy(r)} of metrics stored`,variant:"outlined"})]})})}function rM(){return Ge(tP,{m:4,children:Ln(gh,{spacing:2,mb:4,children:[Ge(i0,{variant:"h4",children:"No Metrics found :("}),Ge(i0,{children:"There are no metrics for this commit on the repository."})]})})}function nM({owner:e,repo:t,commitSHA:r,branch:n}){const[a,i]=ve.exports.useState(),[d,m]=ve.exports.useState(),[_,v]=ve.exports.useState(!0),[h,c]=ve.exports.useState(!1);return ve.exports.useEffect(()=>{async function o(){if(!(!e||!t)){if(!r){if(!n)return;r=await wC(e,t,n)}try{const[l]=await AC(e,t,r),s=mT(l.content);console.log("parsedData:",s),i(s),m(l.size)}catch(l){console.error(l),c(!0)}finally{v(!1)}}}o()},[]),Ln(gh,{spacing:2,children:[_&&Ge(vP,{}),h&&Ge(rM,{}),a&&Ge(eM,Qe({},a)),a&&d&&Ge(tM,Qe({size:d},a)),a&&Ge(tO,Qe({},a))]})}function iM({owner:e,repo:t,commitSHA:r,branch:n}){return Ge(nM,{owner:e,repo:t,commitSHA:r,branch:n})}function oM(){var d,m,_,v,h,c,o,l,s,u;const e=document.createElement("div");(m=(d=document.currentScript)==null?void 0:d.parentElement)==null||m.append(e);const t=zg(e),r=(v=(_=document.currentScript)==null?void 0:_.getAttribute("owner"))!=null?v:void 0,n=(c=(h=document.currentScript)==null?void 0:h.getAttribute("repo"))!=null?c:void 0,a=(l=(o=document.currentScript)==null?void 0:o.getAttribute("branch"))!=null?l:void 0,i=(u=(s=document.currentScript)==null?void 0:s.getAttribute("commitSHA"))!=null?u:void 0;t.render(Ge(iM,{owner:r,repo:n,branch:a,commitSHA:i}))}oM()});
//# sourceMappingURL=embed.umd.js.map
